bien Y en este siguiente bloque de la asignatura del módulo profesional de desarrollo de interfaces vamos a ver hago clic aquí dam libros y desarrollo de interfaces el siguiente bloque en el cual vamos a entrar es la creación de componentes visuales y esta parte es una parte muy bonita Yo creo la en la cu Por cierto ya es usabilidad y accesibilidad pero como os decía es una parte muy bonita porque os voy a poner un ejemplo de Qué entendemos por el desarrollo de componentes y cuando hablamos no la saltemos sino que la posponemos vale No la saltamos directamente en el sentido de que no la damos por perdida pero vamos a entrar dentro de componentes y en algún momento u otro en esta asignatura u otra la veremos de alguna forma Vale entonces eh yo voy a descargar un componente llamado Select 2 entonces el Select 2 es un componente que de hecho funciona con la librería jquery ahora veremos Por qué Y por qué no eh vamos a releases vamos a descargar Select 2 vamos a ver espera no a ver Select Download installation y Ok perfecto Vale entonces lo que hace Select dos tanto en el css como en el html voy a ir al editor de hecho voy a cerrar cosas fuera por aquí fuera por allá vale cierro por aquí me voy a segundo me voy a desarrollo interfaces me vo a creación de componentes visuales vamos a al concepto de componente y esto es que me lo guardo en ya no sé dónde estoy vamos a guardarlo aquí no vale okay Y esto es 002 Select 2. html muy bien aquí lo que voy a hacer Es que voy a crear un doc type html eh html Y yo ahora digo Head digo body vale Y ahora hago Select un Select normal de html y aquí en el Select voy a poner option value y de Juan voy a poner Jorge Javier José Julián y Jaime bien si yo ahora recargo me voy a desarrollo de interfaces me voy a sí puede ser que nos haya col unn Julián vamos a verlo y eh Julián aquí Jaime Ahí estamos vale recargo creación concepto me voy a Select 2s y tengo este Select Este es el Select de toda la vida de html normal y corriente pero ahora yo voy a Select dos ahora sí me selecciono estos dos elementos y ahora a continuación voy a crear un Script y si no recuerdo mal el funcionamiento de esta herramienta yo digo document punto ready esto no hace falta porque está después así que digo Select esto es jquery ya os Bueno ahora en un momento os cuento que es jquery Select es Select 2 ya está Vale esto lo que quiere decir es selección todos los Select y conviértelos a Select 2 ya está es jquery ahora os contaré que es eso entonces vengo por aquí me vengo por aquí me voy a Select dos no algo ha fallado jquery is not defined Perdón claro voy a buscar jquery cdn que se me ha olvidado insertar jquery y uncompressed vale Ahí meto jquery por aquí arriba lo estoy metiendo vía cdn es decir con Hot linking no me hace mucha ilusión pero así me ahorro tener que bajarme jquery a mi equipo Así que hago así y entonces ocurre esto ocurre que tengo un Select Pero además tengo un buscador veo que es un componente que Mola mogollón que cuando hago un Drop down Además del componente además de los elementos Perdón Tengo un buscador Y a medida que voy escribiendo Pues me va filtrando exactamente los elementos que quiero vale Pero qué ocurre pues que claro esto html no lo tiene html tiene un input o tiene un Select pero no tiene un Select que tenga input y que me busque en tiempo real entonces a partir de aquí yo me voy a inspeccionar y veo que cuando yo he insertado este control Pues tengo un Select que está ahora mismo hidden y me ha creado un span y un Script y un span con spans y spans spans souls vale Y me ha creado una serie de elementos bien Es decir esta librería lo que hace es que crea un componente que html no tiene crea un componente eh que en html no existe pero que es necesario es bueno es conveniente es divertido es vale es útil bien Así que la esta sección esta unidad de componentes de creación de componentes va de esto mientras que en otras unidades didácticas nos hemos basado en revisar en analizar qué componentes tienen html tc inter lo que sea en esta unidad didáctica lo que queremos es crear nuestros propios componentes vale queremos tener la capacidad de crear diseñar implementar componentes que no existan allá donde haga falta bueno además tangencialmente os voy a contar que este componente eh es un componente de jquery vale lo cual no es bueno ni es malo pero eh creo me parece o sí que el año pasado igual vimos algo de jquery estoy intentando recordar vale el ejercicio del año pasado de marcas el ejercicio claro cómo podéis saber lo que ya existe pues eso es un problema grande blanca porque no hay una base de datos unificada centralizada que te diga lo que existe y lo que no yo Generalmente a mí a veces me pasa eso vale de yo lo primero que hago es buscarlo en internet cuando se me ocurre una idea de algo que podía desarrollar lo primero que hago es Buscar Abrir Google y buscar si surgiste hay veces que Google me dice que no existe porque igual yo no he introducido correctamente los términos de búsqueda y un tiempo después me doy cuenta de que sí que existe y digo me podía haber ahorrado el desarrollo porque esto que busco ya existía Vale entonces ya te digo no hay una digamos una un repositorio centralizado que te permita saber qué hay y qué no hay no luego aparte Qué es jquery es una librería que en su momento cuando javascript era muy precario en muchos aspectos pues jquery facilitaba la utilización de javascript yo durante muchos años he sido y lo sigo siendo vale muy fan de jquery pero sin embargo no tengo más remedio que admitir que el uso de jquery en el momento en el que javascript poco a poco especialmente a partir de mcrip 2015 a partir del momento en el que javascript ha mejorado y ha facilitado lo que antes era difícil de hacer pues jquery desgraciadamente ha ido cayendo en utilización vale un poco por si decís Claro pero es que esta librería es una librería de jquery Pero qué es jquery Vale pues jquery es una librería para javascript que lo que hacía era simplificar la utilización de javascript pero que como ya os digo pues a día de hoy cada vez es menos necesaria eh yo creo que durante el curso basado en marcas eh os puse una serie de ejercicios que creo recordar que llevaban javascript pero como veréis en este segundo curso ya ni siquiera estoy tocando javascript Perdona ni siquiera estoy tocando jquery porque como os digo como desgraciadamente es una librería como veis a extinguir pues vamos a intentar trabajar todo lo que podamos sin utilizar jquery con todo el respecto y con todo el cariño hacia jquery porque ya os digo que durante décadas alguna década que otra me ha salvado muchísimo pero desgraciadamente pues ya no es necesario Vale entonces Vamos allá Eh vale una vez que o sea esto es lo que quiero hacer ahora a continuación Claro que está reemplazando a jquery javascript porque javascript está haciendo lo que jquery hacía en un momento dado Entonces ya os digo el javascript vainilla O sea javascript a Palo Seco es lo que está reemplazando realmente a jquery pero después de que ecmascript 2015 2016 y sucesivos pues le han pegado un buen repaso a javascript para que haga de forma fácil lo que antes no hacía de forma fácil y solo podías hacer de forma fácil utilizando jquery Vale entonces una vez que tenemos claro Esto vale Yo ahora quiero hacer esto pero lo quiero hacer yo Por qué Pues porque utilizar una librería es muy fácil y siempre estamos a tiempo de utilizar librerías por supuesto pero mi objetivo aquí no es utilizar una librería mi objetivo aquí en este bloque es crear componentes visuales vale en este caso eh os he enseñado un componente visual que ya existe un poco para que tengáis una idea de Hacia dónde vamos en este ejercicio qué es lo que queremos conseguir luego por otra parte Select 2 es un componente fantástico pero depende de jquery que ahora mismo se puede considerar una debilidad en el sentido de que pues jquery está a extinguir vale seguro que existirá un Select sin jquery no te digo que no eh pero mira yo el que conozco es el de jquery Así que me voy a 004 Select plano y ahora me quito todo Me quito estas tres dependencias Vale y vamos allá bien Ahora a continuación una vez que tengo esto voy a hacer un Script que luego convertiré en librería evidentemente y digo Let selectores es igual a document query selector all y Select Vale entonces a continuación 005 eh repaso cada uno de los Select esto quiere decir que selectores punto for each function selector Vale y console pun log selector esto qué quiere decir pues que quiero que este software no solo sirva para crear o sea para trabajar con un único selector sio quiero que sirva por si en un momento dado en la escena hay muchos selectores vale es un Select okay Aquí lo tengo Es decir lo tengo en memoria ahora para cada uno de los selectores Vale ahora lo que quiero vamos a ver Me lo voy a poner por aquí quiero Ahí Esto vale lo que quiero es lo siguiente vamos a ver quiero meter esto dentro de un grupo y quiero que a continuación bueno aparezca un Select nuevo vamos a ver ahora vamos a ver después del Select o Quiero mover el Select a un contenedor entonces led contenedor es igual a eh document create Element div contenedor punto set attribute Class es bueno puedo hacer classlist punto ad es eh selector voy a llamar esto Select jv vale Y ahora document appen Child contenedor y esto quiere decir que vale Ok document punto query selector body vale Eso quiere decir que aquí en los elementos me ha creado un div Class Select jv Vale ahora lo que quiero es quitar este Select de aquí y moverlo aquí lo cual quiere decir que vamos a ver un momentín 006 lo muevo al contenedor Okay y digo contenedor punto remove y a ver aquí Ah no no perdón selector remove y contenedor appen Child selector si esto es cierto recargo vamos a ver Select J No espera vale Script Select jv no eh iner html es igual a contenedor es igual a selector espera esa que esto está mal contenedor esto y en el html es igual a selector Ok vale selector pun innerhtml Ok a outer htpl vale si os fijáis el Select antes estaba aparte y ahora lo que he hecho es moverlo dentro del Select jv y a continuación meterlo ahí dentro Vale ahora a continuación Por cierto console log voy a poner selector a ver si sigue existiendo la memoria Select vale fantástico entonces digo selecciono todos los selectores de la página Y entonces para cada uno de los selectores esto ya no hace falta creo un div le pongo una clase Porque luego lo tocaremos con css ahora en el body añado el contenedor y vamos a ver y en el contenedor pongo el contenido del Select y elimino el Select original Vale ahora a continuación 007 pongo una caja estilizada pongo una caja estilizada quiere decir que cer perdon quiere decir que document create Element y por ejemplo div document create Element s led caja es igual a esto caja punto vamos a ver text content Perdón caja punto classlist ad es igual a cómo lo llamo esto a caja vale Y ahora caja text content es igual a vamos a ver es igual a document punto get Element no selector punto First Child javascript get First Child text content First Child text content Hala ahí estamos Select fal text content y document punto qu document appen Child no contenedor pun appen ch y caja vamos a verlo vale vamos a verlo console elements Class caja Sí pero no porque caja content es igual a selector f. content vale console.log selector Okay selector First ah es valiu creo Bueno vamos a ver es text y text punto a ver Child notes no name text a ver a quiero Select option Vale pues vamos a ver selector punto query selector option First Child a ver si así s punto Val ahí sí vale pues hora selector query selector para dentro vale Ahí tenemos esto pero claro diréis Bueno es lo mismo vale Pero no es lo mismo porque yo ahora aquí a continuación puedo decirle que contenedor create Element div vale selector punto Style display es igual unown Vale y hola hola Por qué ah no HM vale claro selector ya lo he quitado voy a hacer una cosa esto lo voy a quitar y esto lo voy a quitar Okay ahora pone Juan bien una vez que tengo esto Ahora voy a estilizar un poco de momento solo tengo un texto Pero lo importante es que estoy controlando el componente 008 pongo un estilo el estilo vamos a verlo el estilo es Select jv caja Así que vengo por aquí estilo y Select jv caja es Border de un píxel solid Grey eh Border radius de 4 píxeles estilo vale display inline block min with de 200 píxeles porque me lo acabo de inventar y padding de 5 píxeles vamos a verlo Ok vale esto ya tiene Otro aspecto Pero la idea Está en que yo ahora no solo puedo crear un componente no solo puedo eh crear un estilo sino que además puedo también hacer acciones poner eventos vale lo que aquí vamos a ver como en desarrollo de interfaces pues se nos invita aquí propiedades atributos métodos eventos asociar acciones a eventos bien Por lo tanto Ahora vengo por aquí butir antes voy a decorar un poquito más el componente a ver de qué forma a ver emoji Arrow down Arrow emoji Este ual es un poco bestia down Arrow una cosa así este a ver quita copy a ver qué tal vale y le digo Select jv caja after creo que es esto y Ah perdón text es igual a esto no lo tengo claro no lo tengo claro No A ver css append text after vale estáa Ahí sí pero el texto after content eso content no no me lo está poniendo caja Select jv caja after y no yo creo que no a ver a no dos puntos after sí que teóricamente lo estoy poniendo correctamente Pero bueno no pasa nada si no bueno se lo pondré de otra forma y ya está voy a tirar de momento Así vamos a eventos vale eh 009 evento click Entonces esto quiere decir que yo ahora le digo eh caja onclick es igual a function console.log has hecho click en la caja Así que pongo un evento pongo hago clic y me dice has hecho clic en la caja vale Lo cual quiere decir que yo ahora en al hacer clic en la caja puedo Añadir otro elemento llamado resultados al hacer clic en la caja ahora 010 los resultados y puedo por ejemplo a ver un momentín añado resultados html vale puedo por ejemplo en la caja e vamos a ver con led resultados es igual a contenedor appen Child no a ver led resultados es igual a document punto create Element div resultados.cl listad es resultados e y contenedor punto appen Child resultados si me voy al css le digo que ados tiene Pues un Border de un Pixel solid Grey ahora pondré igual light Grey un padding de 5 píxeles y ya está vamos a verlo un min wid de 200 píxeles un min height de 300 píxeles vale vamos a verlo hago click Ok y aparece por ahí el height perdón el Wi claro display inline block aquí Ok vale clic y Au Au me aparece ahí bien No pasa nada porque yo puedo decir que Select jv es un que tiene un Wi de 800 de 200 y clic Ahí está Vale con lo cual si os estáis dando cuenta pues estoy haciendo un componente que pues tiene como una lista es más Mira voy a ir por aquí y voy a decir Border radius es 0 píxeles 10 píxeles y aquí creo una clase llamada borde 2 donde borde 2 es eh cer Perdón 10 píxeles c píxeles 0 píxeles esto qué va a hacer pues esto lo que va a hacer Vamos a ver voy a decir aquí 10 vale es que cuando hago clic a la caja punto Clash list ad radio 2 Eso quiere decir que ahí la caja está como compacta y hago así no quieto no no caja radio dos Ah vale pues Espera que radio dos Ah borde dos Perdón radio dos a ver hago clic Oh tampoco radio 2 a ver qué pasa ahí que le tengo que poner importante vale hago clic y no sé si veis como Pues el borde se vale se quita quiero decir el borde se adapta para mostrarnos que este componente está como Unido que puede parecer una chorrada a nivel visual vale De hecho Probablemente lo es pero En definitiva es una demostración de que en el momento en el que diseñamos nuestros propios componentes pues ya no estamos restringidos por los componentes estándar sino que podemos personalizar como queramos la apariencia claro probablemente a partir de ahora pues valoraremos bastante más el esfuerzo que alguien ha puesto para diseñar los componentes estándar y que nosotros los tengamos ya preparados para utilizar vale porque ahora en cuanto programemos nuestros propios componentes Pues veréis que la cosa cuesta vale veréis que hay que programar que hay que tirarse un buen rato programando Vale ahora aquí dentro lo que quiero es que claro cuando haga clic pues me enseñé todo el resto de elementos vale vamos a poner comentarios y ahora aquí vale Y ahora continuamos Bueno ni que decir tiene que luego utilizaremos este componente en eh el software de gestión empresarial Vale entonces Okay creo una caja le pongo la clase eh Le pongo el texto del primer option ahora lo añado al contenedor cuando haga clic en la caja en ese caso le añado o le cambio la clase del radio de Empalme console log Ya lo tenemos claro vale Y creo un div de resultados le pongo la clase y lo añado al contenedor Okay Cuidado no ya he hecho esto otra vez vale bien una vez que tengo esto ahora añado los elementos a los resultados 011 añado los elementos a los o al resultado bien para ello vamos a ver un momento ahora vale led elementos vale o led opciones es igual HM no un momenti no selector punto Dónde está el children Ah vale aquí vale Sí led opciones es igual a selector pun query selector all de option dame todas las opciones que hay dentro del selector y ahora digo eh opciones punto for each function option y vamos allá Y ahora dónde está resultados punto appen Child no led texto es igual a document create Element p texto punto text value es igual a opción punto value vale text content Ok y resultados pun appen texto si esto va bien añado los elementos hago click y tengo ahí los elementos vale me acabo de hacer un dropdown personalizado pero claro vosotros diréis o sea te has hecho un dropdown personalizado para qué si ya tenías un dropdown vale también os digo una cosa y es que los option de los Drop de los dropdown de los Select son difíciles de estilizar con css Esa es la menor de mis preocupaciones pero ahora le añado algo interesante 012 le pongo un buscador y aquí es donde la cosa se pone interesante yo creo porque antes de las opciones Yo vengo por aquí y digo Let buscador es igual a document create Element input eh buscador punto eh set property type es igual a Search y vamos a ver no Esto va abajo para no marear Vale y resultados punto appen Child Buscador de hecho aquí podría poner algo como buscador set property que es placeholder que es Busca vale vamos a verlo hago click e qué ha pasado error eh set property Y por qué me suena set property a ver js set property o set attribute no no no js set attribute to selector claro es set attribute Yo mismo me lo he respondido es attribute set atribute vale Ok vale hago clic aquí y Ah espérate vale esto ya es nuevo esto ya es nuevo en el sentido de que yo puedo o sea tengo un Select pero al hacer clic en el Select hago clic y pincho y Tac atrás Vale tengo un buscador Que de momento no funciona cierto pero tengo un buscador Vale ahora haremos que funcione obviamente a continuación claro yo en el momento en el que estoy pulsando teclas en el buscador puedo detectarlas entonces vengo por aquí 013 Bueno voy a poner comentarios Vale y digo vamos a ver creo un campo input de búsqueda le digo que el tipo de input es Search le pongo un placeholder y a continuación añado lo añado al buscador ahora selecciono las opciones y para cada una de las opciones creo un elemento de texto les pongo el texto y las añado a los resultados ahora por ejemplo 014 detecto cuando pulso teclas en el buscador Aquí le voy a decir buscador onk app es igual a function event y digo console.log bueno no me hace falta el event sí console.log dis pun value no me hace falta detectar tecla a tecla Así que guardo recargo pincho a aa y aquí me reconoce AAA vale Lo cual quiere decir que no solo añado un buscador sino que puedo detectar Qué es lo que tiene ese buscador por cierto deciros que si todo va bien 015 múltiples selectores un momento que se me ha metido algo en la garganta y ahora vengo por aquí creo otro Select Y si todo bien No creo otro Select por aquí y si todo ha ido bien Tengo dos selectores vale pincho y aparecen dos selectores diferentes Luego si lo estamos programando bien esto debe funcionar No solo para uno sino para muchos dentro de que por cierto un objetivo de todo este ejercicio es que todo esto que es código directo Más adelante se convierta en una librería reutilizable por supuesto vale Pero primero lo programamos como código directo y luego ya lo convertiremos en librería reutilizable e importable y todo eso bien así que a continuación ahora lo que quiero es lo siguiente quiero 016 eh pongo los resultados dentro de un contenedor y esto quiere decir que vamos a ver le contiene resultados es igual a document create Element div vale contenedor appen Child contiene resultados y ahora lo que voy a hacer es que las opciones aquí contiene resultados punto append Y por último contenedor punto appen Child con Ah no no Ya está Vale contenedor contiene resultados vamos a ver si es cierto vamos a ver si todo ha ido bien Okay no ha ido bien no ha ido bien vale Por qué resultados vale vi se ha quedado fuera no vale contiene resultados muy bien Ah no perdón sí okay Vale contiene resultados es en el contenedor vamos a ver mm a pensal y contenedor Qué es lo que no me está funcionando resultados ahí está Esto es lo que no me está funcionando Ahora sí bien hago así vale Ahí no lo parece pero hay un resultados un input y un contiene resultados muy bien entonces cada vez que yo pulse una tecla 017 vacío el campo cuando pulse una tecla y esto quiere decir que cada vez que yo pulse una tecla Ah resultados no contiene resultados punto Inner html es igual a nada Es decir vacío los resultados hago clic vale pincho escribo una a y se vacían los resultados por qué Porque a continuación quiero solo poner aquellos resultados que tengan una a vale que contengan alguna a Así que ahora 018 busco en los resultados que coincidan vale para ello ahora opciones for each y digo Aquí If vamos a verlo If this punto value no eh A ver javascript contains js check If String contains another includes esto es If this pun value includes no al revés esto es dis y ahora If opción value punto includes dis value en ese caso esto de aquí ahora pongo comentarios Esto va aquí dentro vamos a verlo a ver si funciona a ver si no lo he dejado frito pongo una a Ok no ha funcionado bien qué ha pasado vale voy a poner consola console pun log opción punto Val coma dis pun Val vale recargo pongo una a undefine ahí está el problema dis Val Por qué dis Val no me funciona porque estoy aquí dentro Let Busca es igual value y por tanto aquí pongo Busca a Ahora sí pero no funciona por qué Pues porque aquí tengo que poner Busca Ok pongo una a y me coge estos pongo una ua y me coge Juan vale con lo cual como veis acabo de hacer un Select que tiene buscador y ya está bueno Esto de Ah ya está un huevo realmente porque quedan un montón de cosas que hacer pero llegados a este punto de la clase yo creo que ya podéis ver un poco Cuál es mi intención Vale mi intención es diseñar un componente que haga algo que el componente de html no hace nos queda mucho por programar parece que no parece que ya está Parece que ya funciona Parece que ya hemos acabado pero no vale que dar un montón de cosas pero por lo menos yo creo cre que ya veis una prueba de concepto en la pantalla de que esto va empezando a funcionar voy a ponerle un poquito de margen 019 un poco de margen Así que le digo que vamos a ver Select jv caja vale Voy a decirle margin de 5 píxeles Ok y Vale y vamos a comentar el código que est sin comentar 020 comentarios Así que ok Cuando pulse una tecla en el buscador lo que va a ocurrir es que pongo el contenido en una variable vacío los resultados de la búsqueda el console luego ya me lo puedo quitar porque ya sé que funciona vale Y si la opción contiene lo que se está buscando en ese caso está acá atrás vale bien contiene resultados vale Okay creo un contenedor intermedio vale y le añado a los resultados les añado el contenedor intermedio Vale pues una vez que tengo esto Una vez que tengo esto ahora eh lo que quiero es que bueno una tontería no cuando hago click sale Por cierto se me acaba de descuadrar Pero no pasa nada ahora lo veremos ahora lo analizamos y Lu Ah claro claro Espérate Espérate Select jv el Select jv es el que tiene que tener el margin Ahora sí Ah bueno tampoco eh A ver claro espérate comentarios Ahora sí bien Ahora quiero por cierto que al hacer click fuera pues eh el elemento se e bueno se esconda vale Así que para ello cuando hago clic fuera vamos a ver 021 click fuera de este elemento voy a hacer una pregunta js detect click outside this vamos a ver no hostias bueno no Pero espera Ah vale Bueno ya pero no a ver claro lo que quiero es que cuando yo fuera pero claro fuera de quién pues fuera de este elemento vale es lo complejo porque por ejemplo si hago click en Body vamos a ver Esto es click fuera de este elemento vale esto madre mía esto Qué es selector for it vale Okay document query selector Body punto onclick es igual a function console.log Ok Body hago clic vale Okay no no no clic fuera de elemento tampoco query selector Body con click es igual a función Por qué ostras Ok Body Au No qué dolor eh A ver no espera jquery selector not this a ver si me admite esto Ay no javascript selector not this no not me ha quedado frito gpt ha dicho este meciendo vale se ha quedado frito momentín vale js selector inside another selector Select all except me vamos a ver not vale Oh Ah no exclude me ah excl me no no claro es que si hago esto Ok Body ostias document query selector Body on click Okay Body lo he puesto click clic Ah ok Body vale Ok vale Y si digo document Ok Body Vale entonces en este caso si hago clic aquí Además me dice ok Body con lo cual cuando yo hago clic en un componente e entonces e Stop propagation es decir click vale eso no hace clic en el Ok Body bien entonces ahora creo que sí que sé lo que voy a hacer vale entonces ahora me voy a todos los Select y les quito los resultados vale a ver cómo lo podemos hacer contenedor Okay led contenedores es igual a esto contenedor okay contenedores pun Push esto ahora contenedores punto No de contenedores punto leng -1 Ok contenedores yo creo que ya a ver si no me lo he cargado me lo he cargado vale contenedor is not defined en la línea 50 y Okay ahí OK Así vale Ahora cuando hago click Ok Body cuando hago clic le digo for no contenedores punto for each fun contenedor query vor Cómo se llama resultados punto remove vale vamos a verlo hago clic y no funciona hago clic no funciona porque punto remove vale console log contenedor Okay y momento un momento porque ahí correcto clic y click es de class Select jv Deep Class caja radio pero Oh no reconoce que tenga nada más Ah vale Y este qué Ah claro claro a veces no lo pue no lo podrá eliminar Vale entonces trae esto Catch esto otro intenta quitarlo y si no puedes pues no me des un fallo garrafal A ver js tricats quiero el js tricat más que nada el error Catch error fantástico Catch error console.log error pero no pasa nada y probamos En qué versión estoy aquí vale click hago clic y Okay Vale y resultados. remove resultados Ah Class Class Ok hago clic y desaparece hago click Wow Hola ostras espérate hago click Au Bueno ahí hay un fallo vale hago clic y desaparece al hacer clic en el primero Se pone la caja en el segundo vale eso tenemos que verlo tenemos que tocarlo Pero bueno es como os digo Hay un montón de cosas para ir mejorando eh y voy a hacer ahora lo siguiente Y es que le voy a quitar la clase classlist radio 2 Vale entonces al contenedor classlist remove radio 2 hago clic no a ver espera esto estoy en otro esto es eliminar hago clic hago clac vale a ver Select jv radio 2 Okay caja contenedor query selector pun caja hago clic hago clack Vale y ahí lo tengo bien con esto En este punto de la clase tenemos un selector Ah cuidado click Dónde Ok Body vamos a verlo click clac vale vamos a ver documento un click vale se supone que hace un event propagate error pero no pasa nada ok Body no no se supone que no vamos a ver e pun propagation vale caja voy a decirle caja Sí a ver click clack click vale correcto pero clack ahí está el problema muy bien Qué es esto es un Select jv Y esto es un Select jv Vale pues voy a decir que para cada uno de los Select eh contenedores punto Push vale pues contenedores de length men1 punto on click es igual a fun e y voy a decir e punto stop propagation Ok click y ya no funciona perfecto y ahora Busco Juan busco de funcionar Juan vale perfecto Busco Ju Ahí está y ahora hago click y desaparece ahora sí ya lo empezamos a tener vale Ya lo empezamos a tener ahora por ejemplo una cosa que podemos hacer es que el bueno en este caso el Select está cogiendo los datos que tenga el Select original vale podríamos por ejemplo pues indicar que coja datos de un origen de datos vale o vamos a también a formatear un poquito vamos a ver para formatear un poquito voy a hacer lo siguiente Vamos a darle un poquito de estilo vamos a jugar con estilo 023 estilo y voy a decir que el contenedor también ahora Lo pondré como una Lo pondré como una librería Select jv es Box Shadow es cero píxeles dos píxeles 4 píxeles rgba 0,0 com. TR lo cual va a hacer que tenga como un poquito de sombrita de caja Wow No esto es la caja Ahora sí bien y cuando hago click Pues voy a decir que esto de aquí tenga como una sombrita interior vale Por qué Pues porque no sé me ha molado Así que yo hago así y ahora en resultados digo que esto pero inset y hago así y tengo como una sombrita interior vale No sé porque de repente me ha molado otra cosa que podría hacer es que apareciera poquito a poco con animación vale es un poco lo que queráis bien Ahora a continuación quiero empezar ya en esta segunda parte de la clase a hacer que esto sea una librería vale darle forma de librería por lo tanto y ahora vengo por aquí y digo lo siguiente Ahora aquí en segundo en eh desarrollo de interfaces en creación de componentes en conceptos de componente vale voy a crear la carpeta 024 librería en librería voy a copiar en la última versión vale esto se va a llamar index.html.erb Quiero abrir con editor de texto bien Y entonces yo ahora creo un nuevo archivo llamado m jv Select o era Select jv No lo sé Espera que te lo digo me olvidado cancelar esto es cómo he llamado esto Select jv Vale pues a esto lo llamo Select jvcc y dentro de Select jv pues obviamente pongo todo el código vale con lo cual ahora en Index pongo link rel es igual a Style seit href es igual a Select jvcc vale una vez que tengo esto copio pego f22 o sea f2 025 ahora javascript bien Ahora javascript eh aquí vale t y voy a crear por aquí pues js o sea Select js Select jv js bien entonces ahora cojo todo esto de aquí y cojo desde aquí me lo corto y me lo pego pero claro esto lo que va a hacer es que va a funcionar por castigo para todos los Select entonces vengo por aquí eh Script src es igual a Select jv js vale Ok debe funcionar igual debería pero no bien no Por qué vamos a ver a404 esto qué es Select js Ah Select jv js bien y ahora tampoco funciona y ahora tampoco funciona Porque el sistema no encuentra los elementos Vale pues le pongo el copiar pegar f2 026 e Windows lad Así que vengo por aquí me voy al js abrir con editor y ahora digo esto es Uy Hola no no ay Pero por qué tardas es que no sé qué estás haciendo pero qué descartar ahora vale Eh pues digo window punto onload es igual a function y todo esto lo meto aquí Esto hace que siga funcionando vale Esto hace que siga funcionando Ok vale aunque se me raya Pero bueno vale Y ahora a continuación y ahora a continuación yo digo ya pero es que no quiero que se me aplique a todos por castigo Pues solo quiero a unos cuantos y digo f22 027 solo a una clase concreta y por tanto vengo por aquí Select jv y no quiero selector Select solo jv Eso quiere decir que si yo ahora edito el Index html y digo Select por ejemplo este es Class Select jv pues entonces refresco y voy a ver como solo se va a aplicado Hola a ver espera ven a ver si está correcto no sí pero no a ver para para Vale y Select jv no esto no Select jv solo a Select jv vale abrir con Hola Select J Ah comilla vale venga va vale Y como veréis Pues ahora ese componente no se aplica a todo sino que solo se aplica a lo que yo quiera vale bien e está bien esto pero claro esto realmente Pues cuando yo le de a enviar no me está enviando nada Por qué pues porque si yo ahora inspeccion veo que dentro del Select me he cargado el elemento Select Y como me lo he cargado Pues sí esto pincho aquí incluso podría hacer click vale que es otra cosa que me falta hacer para que cuando haga clic se coloque ese valor y tal Y todo lo que tú quieras pero no hay un Select vale me he cargado el Select por tanto voy a recuperar el Select porque necesito el Select Así que f2 recupero el Select vale Por qué recupero el Select Pues porque cuando envío un formulario el Select es el campo legal Vale entonces para no causar problemas entonces me vengo por aquí me voy al javascript vale voy a quitar los otros y vamos a ver un momentín V Vale y Okay Ok vale caja okay Class List caja click un momentín aquí ya pcha el caja Vale entonces yo por ejemplo vengo aquí y digo caja punto appen Child y eh selector OK Vamos a verlo a ver si hace lo que yo quiero vale recupero Select Ah míralo Ahí está Vale Eso quiere decir que lo tengo ahí vale Realmente está pero lo oculto entonces digo Select jv Select es display known Por qué Pues porque quiero que esté vale quiero que esté pero que no se vea Por qué para que cuando yo haga clic aquí en Juan y por ejemplo Jorge Pues el Select diga pinchaba Jorge vale o sea visualmente hago lo que quiero pero luego legalmente lo que tengo que hacer es marcar la opción concreta y correcta del selector Vale pues Ahora voy a hacer clic en cada uno de los elementos voy a detectar el clic en cada uno de los elementos Así que copio pego 029 detecto clic en las opciones Y entonces detecto click en las opciones vale vamos a ver opción texto Aquí está Vale pues texto onclick es igual a function y digo console.log has hecho clic en una opción coma eh texto text content vamos a comprobarlo vale consola Juan Javier has hecho clic en una opción llamada Javier vale fantástico una vez que he hecho clic qué ocurre pues ocurren varias cosas por una parte eh 030 eventos visuales lo que ocurre es que y clic vale lo que ocurre Es que la caja resultados vale resultados pun remove es decir cuando yo hago clic y resultados punto remove Vale qué más aquí contenedor punto query selector caja list radio hago click hago clac ahín query selector caja bueno Esto me lo dejo para luego vale Y ahora en esta caja que se llama caja text content es igual a texto text content click hago clic en Javier y ahí pone Javier vale click hago clic en poner ose hago clic en Jose y ahí no vale Por qué Pues porque es un resultado de búsqueda lo cual quiere decir vamos a ver Oye por qué Ahí no ahí texto on click vale busco ose hago clic en José y ahí aparece José Vale vais viendo como poquito a poquito vamos personalizando el aspecto de nuestro Select y ahora por último vale por último lo que hace falta es que en el Select Oh me lo he cargado Select jv no pues el Select no puede A ver no Claro si hago así caja tiene un Select no el Select no puede ir ahí vamos a ver Select jv vale selector dónde estás Oh Wow a ver selector es esto vale Y entonces a ver okay Vale aquí esto contenedores punto appen ch selector Ahora sí vamos a verlo vale Ok no Ok porque se supone que me lo ha puesto ah pero no hago click resultados no está vamos a ver classlist apen el selector vamos a hacer una cosa voy a ponerlo aquí okay Ahora sí vale click Ok clic fuera y el Select sigue existiendo Vale ahora sí Y por último y ya por último y ya con esto a ver si acabamos un poco antes porque veo que ya estáis cayendo como moscas eh vamos a decirle que s teamos copio y pego 031 sete el valor del Select Vale entonces esto es selector OK ahora texto text content las opciones Okay Let opciones es option elect opciones dos punto for each no y ahora lo que quiero es poner a ver sí opciones dos for each function opción dos y digo s opción value es igual a texto text content es igual a console.log encontrado samos hago clic hago clac ycho una opción Jorge no se ha encontrado vale por qué selector console pun log opciones dos no dónde estoy eventos visuales Ah no no ostras no Bueno pues esto me lo as teamos el valor vale Okay unexpected token s jv aquí vale okay Y entonces aquí me falta Uno Vale pincho Jorge has hecho clic en una opción Jorge No claro pincho Juan has hecho clic en una opción Juan encontrado vale Lo cual quiere decir ya por último que vamos a ver opción 2 set attribute selected es true vale hago click selecciono a Juan pincho a Juan y en el elemento option Juan selected true vale perfecto ahora selecciono Jorge hago click y en el Select Jorge selected true vale Ok y ya está Vale ya está en el sentido de voy a acabar este ejercicio y ya cerramos la clase antes de que os acabéis de ir todo y me dejéis abandonado entonces un momento voy a copiar esto también aquí abajo esto idel no sé qué hace aquí vale eh Jorge y Jorge seleccionado Perfecto entonces esto quiere decir que ahora eh aquí comprobamos que se envía correctamente para ello en el html voy a abrir y voy a decir eh form action es igual a yo mismo me method es igual a get pongo por aquí esto fuera pongo por aquí form eh este Select me lo voy a cargar voy a poner un input type submit recargo Y si todo ha ido bien Ah claro vale Sí bueno no pasa nada ok vale form No pero sí que ha pasado sí que ha pasado porque me ha sacado el Select del form Vale Voy a decirle Jorge a enviar y no se envía nada correcto vale Por qué Pues porque en el javascript tengo un pequeño error tengo un pequeño error que es el siguiente vamos a ver vale voy a hacer una cosa dis punen child no js appen sibling Hola Ah esa ya estaba Uy que no js appen sibling vale no existe ok y Ah mira insert before pues ya está insert before me Mola Entonces le digo eh vamos a ver this punto happen before insert before vamos a verlo comprobamos que existía manualmente no Select Class Select jv no no no aquí insert before is not function Ah muy bien a ver selector insert before vale probemoslo insert before Ah hostias insert before qué quieres Oh Wow ostras vale parent selector punto parent node punto Mira vale a ver este selector parent node por qué js parent node o parent Element venga ahora sí no me lo ha puesto en el sitio correcto pero vale me da igual bien mientras que esté en el form me vale Así que escojo a Javier le doy a enviar y en principio no lo ha cogido correctamente debería ser get Deep Class caja Select vamos a Jorge me dice Ah espérate claro no tiene un name sea es otra pero eso ya es un fallo más dhtml no esto es Index html voy a meterle un name porque si no pues no se va a enviar Obviamente le voy a meter un name nombres Así que ahora vuelvo a probar selecciono a Jorge le doy a enviar y así Ahora sí nombres es igual a Jorge O sea me lo está enviando correctamente recargo otra vez le doy a Jorge selecciono Jorge le doy a enviar y nombres es igual a Jorge vale con lo cual ahora sí está para afinar evidentemente Pero ahora sí ya tengo un componente del cual he personalizado el comportamiento hay más estilo que podemos tocar evidentemente pero ya tengo un componente que se comporta muy bien y que puedo personalizar la función el estilo lo que sea y que además permito que sea un Select y que al final se envíe como un formulario Vale pues con esto finalizamos Prácticamente la clase de hoy Así que pues el próximo día continuaremos creando componentes también una vez que este componente esté más afinado pues lo pondremos dentro del sistema de gestión empresarial Y veréis cómo pues sirve para mucho más de lo que parece vale Así que nos vemos mañana y continuamos con procesos y con acceso a datos y nada ahora a continuación subo las grabaciones vale venga gracias a vosotros hasta ahora