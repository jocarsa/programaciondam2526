bien pues vamos a continuar por aquí confirmadas si me veis correctamente tengo el chat por aquí abierto se me oye Okay Vale perfecto bien pues nos habíamos quedado repasando el contenido de la variable superglobal server entonces eh habíamos creado también la tabla en la base de datos llamada registros y ahora a continuación dentro de lo que son los registros había seleccionado pues cuatro interesantes vamos a crimson vamos a tablas vamos a registros y habíamos definido la estructura de esta tabla como eh identificador vale clave primaria autoincremental apoc como el número de segundos desde el 1 de enero de 1970 la IP el navegador y la URL Vale ahora acción si me voy a edit a ver Esto es una petición sql esto fuera me voy a edit esto fuera vale eh No esto es que estaba editando mi servidor vamos a donde nos hayamos quedado antes vamos a dam vamos a segundo vamos a servicios y procesos en programación segura vamos a la variable de servidor estábamos recorriendo la variable for each y ahora a continuación lo que quiero es crear una petición hacia la base de datos y guardar estos datos dentro de la propia base de datos si queréis lo voy a hacer directamente sobre el propio proyecto de sistemas de gestión empresarial entonces me voy a sistemas me voy a proyecto Ya vamos por la versión 103 Así que copio pego 103 y insertar registros y obviamente aparte de que lo habrá en hedit vamos a segundo sistemas de gestión empresarial proyecto versión 103 me voy a servidor dentro de Li voy a crear otro archivo pensado para que a ver un momentín Beatriz vamos a verlo no vosotros vais rellenando la hoja de Google Drive online qué Porque así yo voy viendo como la rellen hais especialmente José Luis y tú que estáis en Sevilla Vale entonces no quiero que os la bajé y la rellené y luego de repente me aparezca sino quiero durante el examen ir viendo desde mi puesto como poco a poco vais rellenando cada uno de vosotros vale bien entonces sí Albert dime vale cuenta Sí vale Sí no el dos vamos a verlo en bueno de qué asignatura me estás comentando porque en desarrollo Ah sí interfaces sí correcto Sí vale Y eh A ver y luego me decías lo de las entregas entonces formulario de entrega de exámenes no ah entrega prácticas Aquí estás Vale entonces voy por persona vale lo digo porque por ejemplo en Beltrán carbonell Vale tengo esto tengo cinco del número un y cinco del número dos con lo cual tu caso parece correcto vale a ver un momento Catalina en interfaces tercera entrega con el ampliador y el tooltip todo junto Sí correcto porque dado que el ampliador y el tooltip ya entraba en sistemas de gestión empresarial Pues sí si meterlo también en interfaces porfa vale vamos a ver vamos repasando Ok lo de la webcam dragos vamos a ver vamos a filtrar entonces dragos vale aquí y tengo Pues eso correcto tengo cinco del resultado de aprendizaje número uno y cuatro del número dos eh Ah vale Okay y esto se me ha colado aquí ahora mismo vale No escucha Jonathan no me lo acabas de enviar el examen al formulario de entrega de prácticas no me lo tienes que entregar al entregable del examen lo tienes en el grupo de WhatsApp eso ahí vale Okay te lo digo porque es que justo estoy viendo esa parrilla y me acaba de aparecer tu claro Eh vale alguien más Catalina vamos a ver Catalina creo que eres Herrera vamos a ver eh Herrera vale de Catalina tengo los cinco de la primera y te faltan dos de la y esta tercera vale Okay correcto y tienes procesos acceso y desarrollo de interfaces Catalina cuéntame si quieres por micro o por chat como quieras se cierra el servidor vale pues yo te diría si quieres pásame ras desk y le echamos un vistazo te lo digo porque además calculo que por ejemplo lo que comentaba Albert la semana pasada que el tema del servidor os causa problema a todos sabes sí no y a Nacho y supongo que más gente O sea que si tienes ras desk si quieres pásamelo y entro en tu ordenador y miramos a ver por qué se cierra el servidor ya te digo que si se cierra el servidor es porque al recibir mensaje cae en un error lo que quiero ver es exactamente qué dice el error para saber por dónde solucionar el error para saber si el problema está en el servidor en el cliente en el envío o dónde Espera que no lo tengo abierto dame un segundo eh aquí y respuestas y Agustín sí Ah okay vale pues lo que Claro si a alguien más le pasa el mismo error que a Catalina y lo quiere Mostrar fenomenal o sea y quiere compartir su ras desk alguien que al conectarse a ionos o al servidor que sea se le cierra el servidor porque ya te digo Catarina sobre todo lo importante es ver cuando se sale el servidor Qué dice el servidor Porque pueden ser un montón de errores también te digo que teóricamente hicimos un servidor bastante agnóstico en el sentido de que el servidor lo acepta todo y lo devuelve todo pero bueno hay que ver qué se le está enviando a ese servidor Vale pues en principio nadie dice nada a ver alguien más que necesite comprobar sus prácticas a ver tenemos por ahí a José Manuel vamos a ver barrasa Vale barrasa tengo cinco de la uno y cuatro de la dos vale tengo por ahí a Borja Ok Borja busquier e Dónde está busquier ah nada vale por eso no me aparece ningún filtro Vale pues José Manuel te cuento según lo que tengo aquí de la dos tengo procesos multimedia temas de gestión empresarial y acceso a datos con lo cual me falta una me falta eh interfaces parece vale No gestión empresarial tengo Okay Borja vale No el de gestión empresarial tengo el que parece que me falta en el entregable número dos es interfaces sí por tanto Pues eso ya sea para comprobar si Ah Okay vale Sí no pasa nada Pues entrégalo ahora y ya está Vale y creo que bueno Y luego Beatriz vamos a ver Beatriz Jiménez a esta hora vale Beatriz Jiménez tengo Ah claro dos del uno y dos del dos correcto porque son las dos que las que estás matriculada vale Y ya está Okay Vale pues Venga pues voy a continuar eh Bueno voy a continuar si no hay ninguna duda más si no pues lo que os decía antes por WhatsApp o sea Preguntar lo que sea lo que haga falta para asegurar que todo esté claro para entrega de prácticas exámenes todo lo que sea Vale pues bueno yo me quedo aquí a la espera de ver si alguien tiene alguna consulta eh vamos a ver aquí os decía que Ah Dónde estoy ahora aquí 103 aquí lo que voy a hacer Es que voy a crear un archivo llamado registros php y en registros php lo que voy a hacer es un momentín Porque mientras que estaba en el examen me he bajado el tamaño de letra entonces eh Me voy a tipografías y me voy a vale Ah okay Sí sí correcto un momento y formulario de entregas and y Jonathan sí correcto vale Y aquí en primer lugar lo que voy a hacer es que en conexión deb en un momentín porque también he activado el ajuste de texto y no quiero ajuste de texto vale bien me voy a crear la conexión me voy a registros quitamos el dis porque de momento ya no estamos en un objeto otra cosa que tenemos que discutir es si vale la pena hacer objetos para el registro o no Hasta mañana bien y ahora a continuación una vez que tengo la conexión de B Pues ahora me voy a un query por ejemplo de insert pero pues mira este que no es de insert pero como si lo fuera me vengo aquí y digo esto es insert in registros valius y digo el primero es nul porque es la clave primaria autoincremental en la a ver un momentom un momentín sí voy voy vamos a verlo y Espera que se ve que he cerrado la página formulario de entrega de exámenes no entrega prácticas vale eh José Manuel barrasa correcto hasta ahora a las el de desarrollo de interfaces Sí ahora lo tengo vale No pasa nada José Manuel si aparte vosotros ya me conocéis de primero y sabéis que no soy Especialmente puntilloso con las de entrega con lo cual sea no pasa nada vale bien entonces eh vamos a ver decía yo que me iba aquí al aquí 0 un pero 1 2s 3 4 y 5 vale por tanto aquí un dos 3 cu y este es el quinto Y entonces ahora lo que quiero insertar es server de algo y server de algo vale Qué es este server de algo pues quiero el server de request Time Quiero el server de la IP este es muy importante Entonces no lo sé míralo el esto es el remote address Que de momento En este caso como estoy en local Host pues me sale 2. 2.1 vale es normal Okay ahora en el siguiente bloque de la tabla tengo el navegador este es muy importante el navegador es el http user agent Mira a ver en la cartera o en los bolsillos o algo Si no aquí estoy hasta las 9 con lo cual lo que necesites Vale ahora en la base de datos la URL a donde se está haciendo ping que es a ver Script o esta request Okay perfecto y ya está bien De momento esto se puede incluir directamente esto es código estructurado no está metido en ninguna función ni está metido en ningún objeto ni nada de nada esto es código literalmente a Palo Seco con lo cual ahora me voy vamos a ver me voy a Index y bueno dado que el registro de sucesos no es algo absolutamente prioritario lo podemos meter como un include al final del todo include librería y registros php de momento vamos a ver si funciona y ahora a continuación vemos cómo lo podemos encapsular más todavía Vale entonces yo ahora vengo por aquí y eh entro en crimson no esto es local Host vale me voy a insertar registros me voy a cliente me voy aquí a Bueno a pues su entrar Vale aquí me voy a login Uy error qué ha pasado Ah sí Perdón error porque antes si os acordáis el cliente en el login me lo he dejado como text Ah No response.js ostias espérate Uh vamos a verlo usuario contraseña login vamos a ver recargo login unexpected Non White space character bien pues vamos a ver qué es ese error para ello pongo response text vuelvo a lanzar Okay a fatal error using this vale el error está en que en el código que acabo de escribir pues Algo hay que no es correcto entonces me voy a registros php en alguna parte Aquí he puesto el dis ahí está el error vale Y el query también es correcto bien con lo cual ahora a continuación vengo por aquí y en Index a continuación lo que voy a hacer Hola Pascual dime Oh Ah Oh el otro día le pasaba lo mismo alguien de segundo vale Haz una cosa crea un nuevo repositorio ponlo el nuevo repositorio y ya está Vale entonces Ahora vengo por aquí login ponemos jas Vale Nos vamos aquí eh No no vamos a volver cliente jarsa le doy a login vale Okay entras correctamente vale me voy a crm veo que tengo la Gráfica que hicimos el otro día me voy a clientes Okay vamos a de hecho veis que aquí aparecido registros y en registros vale al entrar veo que tengo esto si queréis vamos un momento Incluso se puede ver desde aquí vale Pero vamos a mysql y en mysql me voy a registros y veo que en este apoc que tenemos aquí que da igual el apoc que ponga porque luego lo puedo convertir a una fecha humanamente legible desde esta ip de aquí Es decir desde localhost en este caso con este navegador de aquí la persona que ha entrado aquí ha entrado en este Script vale concretamente aquí puedo ver la tabla que ha pedido esa persona qué ocurre Pues que yo mismo haciendo la nada Y fíjate que por hacer la nada ya tengo nueve registros creados en la tabla de registros y ojo nueve registros que además si os fijáis por la longitud de los datos pues quieras que no van a ocupar espacio vamos a ver De hecho cuánto espacio ocupan ahora mismo vale si os fijáis Mirad vamos a ver registros la Acabo de crear bueno no ocupa prácticamente nada de momento y ya son 16 cas ya os digo que veréis a lo largo de pocos días como poco a poco cada vez irá consumiendo más pero como os digo sin embargo por lo menos ya empezamos a ver la tabla de registros para a partir de aquí empezar a implementar en los próximos días Pues más elementos más cosas tales como por ejemplo detección como os decía antes en la primera parte detección de ataques de Fuerza bruta vale eh vamos a hacer eso vamos a hacer eso y si estoy trabajando con cómo te diría yo con registros y los registros los estoy metiendo en My sql Eso quiere decir que puedo empezar a hacer peticiones Como cuáles Bueno pues peticiones Como por ejemplo quiero a continuación saber desde la IP actual que en este caso la mía es esta Cuántos clics he hecho en el último imaginémonos vale en el último minuto Así que para ello me voy a ir a sql y voy a hacer lo siguiente vamos a ver Select all from registros Where y el all no va a ser de momento un all Pero vale we ip es igual a voy a poner la mía de momento vale Okay continuar y ahora quiero decir and qué te diré yo and apoc Es mayor que date mín ch gpt mysql date Now apoc unix Time stamp eso es vamos a ver apoc Es mayor que unix timestamp -60 es decir en los últimos 60 Segundos dime vale pues ya te digo Busca lo que necesites todo tuyo sí voy a darle click voy a darle continuar claro no aparece nada porque no he enviado nada bien Ahora atención en el login me voy a ir al login y voy a hacer un intento de login dos intentos de login tres intentos de login cuatro intentos de login me voy a la base de datos vuelvo a ejecutar la consulta y me dice que han habido cuatro intentos es decir todos los que duran más de 60 Segundos ya no aparecen en esta tabla y todos los que aparecen menos sí que aparecer en esa tabla vale Lo cual quiere decir que ahora si he hecho esta consulta ya no solo puedo decir Quiero obtenerlos todos sino Quiero obtener un número Vale entonces ya no lo sé Ya mira en los bolsillos o en la mochila o vale Pues no lo sé ya te digo ya lo comunico ahora o ahora cuando salgas í en recepción en administración coméntalo lo digo porque ellas son las que tratan directamente con la chica de la limpieza vale nada a ti Vale entonces eh yo ahora a continuación no quiero tener un listado quiero tener un conteo Vale entonces count eh IP vale as número Where ip es igual a esto y me dice claro cero espera vale 1 2 3 y 4 Vale y vuelvo a lanzarlo y ahora me dice cuatro porque antes me ponía cero porque como han pasado más de 60 Segundos pues ya no vale ya no se puede bien esto qué quiere decir Bueno pues esto quiere decir que yo ahora a continuación tengo una petición vamos a lanzarlo de momento como petición que me permite saber para un usuario concreto Cuántas veces me ha hecho clic Y si yo decido que por ejemplo no puedo enviarme más de por ejemplo vale 10 peticiones por minuto lo que voy a hacer es bloquearlo vale vamos a comprobarlo para ello me voy a hacer una nueva versión del proyecto copio pego 104 y lo llamo Fuerza bruta y aquí en Fuerza bruta en el 104 en servidor en librería voy a crear un archivo nuevo llamado Fuerza bruta punto php en fuerz bruta php me copio esto y entonces digo copio pego copio la petición sql de momento veis que es muy programación estructurada vale o sea muy programación directa no estoy creando función no estoy creando objeto de momento vale luego más adelante ya veremos cómo lo encapsuló pone eh local Host evidentemente esto se va a convertir en una variable Global en registros me voy a el agent Vale y aquí lo que quiero es en conexión de B quiero el While y decir y atención porque ahora viene la Fuerza bruta ahora digo si fila de número por qué número porque yo he puesto ese alias en la petición sql Es mayor que 10 vale en ese caso da y digo te envío un jas y digo error es igual a te has pasado de Bruto vale Y luego evidentemente en lugar de poner te has pasado de Bruto pues ya pondremos error número 003 vale para no darle demasiadas pistas al usuario que nos intenta atacar bien antes de ello que voy a hacer es que en el Index primero he elegido sanear Vale ahora una vez que he saneado a continuación voy a hacer un include de Live Fuerza bruta aquí fuerz bruta php vale Y ya está y vamos a comprobarlo vamos a ver si esto funciona correctamente si esto funciona correctamente yo ahora me voy al proyecto me voy al 104 me voy a cliente vale me saco el terminal y digo prueba uno post internal server error vale un momentín Por qué login down internal server error Ok no debería vamos a verlo e Fuerza bruta php fuerz bruta php vamos a ver si nos dice dónde está el error porque el error es que aquí le falta un punto y coma vale Okay Venga pues Hala copio pego tras no error sigue dando error vale vamos a ver en qué consiste el error servidor correcto da error el Live y Fuerza bruta y ahí está el error Entonces vamos a ver query vale todo parece correcto y fila número eh pueses parece correcto bien Vamos a dónde estás Aquí vamos a revelar los errores y a ver cuál es el error a ver en qué línea nos dice que está el error vale Vamos allá recargamos ah no me dice En qué línea está el error Bueno pues si no me dice En qué línea está el error pues voy a averiguarlo yo vale vamos a mano Okay no ostras A ver vamos a ir bloqueando y desbloqueando poco a poco es imposible que de error ahí vale Fuerza bruta en el 104 Fuerza bruta en el 104 Okay Fuerza bruta en el 104 ahora no da error Vale ahora desbloqueo los inis y no da error Vale ahora desbloqueo la conexión con la base de datos y no da error ahora desbloqueo la conexión no da error ahora desbloqueo el query no da error ahora desbloqueo el result no da error Vale ahora desbloqueo el While Aquí está undefine variable resultado en la línea 30 vale Por qué pues que esto es resultado ok Ya está apañado bien pues si todo va bien vale ahora a continuación ya hemos localizado El error ya podemos ir de nuevo al cliente Okay Vale error al entrar dos 3 cu voy a hacer click ahí Espera vale Ahí me debería decir ya error vamos a ver me voy a Index me voy a Index estoy cargando Fuerza bruta vale si fila número es mayor que 10 en ese caso da Aquí también lo que voy a hacer es que en el cliente en el login eh voy a quitarle un momento el window pun location para poder enviar tantas peticiones como quiera y voy a hacer 1 2 3 4 5 6 7 8 9 10 da error al entrar Vale con lo cual no está accediendo correctamente vale vamos a servidor O sea no está ejecutando el Fuerza bruta correctamente vamos al servidor vamos al Live vamos a Fuerza bruta y no lo está haciendo no Vamos allá vamos a debugar Fuerza bruta va Fuerza bruta eco query Okay Ah Uh No no quieres me estás contando esto no he puesto esto bien no es el user agent no es el user agent es el remote address ahí me he equivocado vale ese es el problema Esta es la solución vamos a cliente y un 2 3 4 5 6 7 8 9 10 y ahí error te has pasado de Bruto error te has pasado de bruto error te has pasado de Bruto lo cual quiere decir que cuando hago más de 10 peticiones cada 60 Segundos directamente no me procesa las peticiones es decir eh A partir de ahí evidentemente se ha dado un error pues Probablemente lo que podría hacer es sacar otra vez el toast y decir acceso bloqueado o lo que sea vale claro Qué hacer cuando hemos detectado un ataque de Fuerza bruta pues ahí ya depende de vosotros hay muchas cosas que podemos hacer quiero decir que por ejemplo lo que podemos hacer es eh caray es nada vale Es simplemente que se desbloquee automáticamente cada 60 Segundos o igual que con el Android o con el iOS que si te hemos detectado un ataque te bloqueamos durante 5 segundos y te metemos en una tabla mysql de castigados Vale o directamente te bloqueamos la IP y hasta que un administrador no te la desbloquee no vas a poder entrar quiero decir Que obviamente ahí la política es la que vosotros decidáis eh obviamente la política también dependerá de la naturaleza de los datos que guarde la aplicación quiero decir que si la aplicación que estamos gestionando es un blog cuyo contenido no tiene especialmente nada de valor Pues bueno puedes hacer que la aplicación se desbloquee ella sola cada 60 Segundos y ya está ahora si es una aplicación que imagínate que es para sanidad y que es para un grupo cerrado de médicos y que guarda datos de mucho valor y que no se supone que nadie debería estar haciendo ningún ataque de Fuerza bruta pues en ese caso igual te bloqueo la IP y hasta que un administrador no lo revise manualmente y vea qué es lo que ha ocurrido pues no quea manualmente vale quiero decir que la solución no tiene por qué ser universal sino que puede depender de la circunstancia concreta vale en este caso Yo también lo que quiero hacer como os digo es guardar alguna constancia de lo que ha sucedido Vale entonces de la misma forma que nosotros pues en la base de datos hemos gestionado hemos guardado una serie de registros de hecho fijaos como vale fijaos como empiezan a ver ya tablas y tablas solo por loguear solo por intentar loguear y me voy a tablas y de repente bueno registros me sigue diciendo que son 16k pues Vale pues bueno pues bien vale Pero fijaos como registros pues ya de repente tiene 89 filas lo cual se ha convertido en el registro en la tabla más frecuente Y a partir de aquí pues yo por ejemplo como os digo podría crear una tabla de eventos y en los eventos pues puedo decir IP bloqueada durante no sé cuántos segundos o IP bloqueada en esta fecha vale o lo que sea obviamente Aquí también lo que puedo hacer a ver un momentín es reutilizar Aquí está reutilizar la tabla de registros vale Y en registros un momentín ya que estamos aquí okay vamos a ver Pues mira lo que voy a hacer a continuación es que en Fuerza bruta Cuando esto ocurre me hago insert into registros coma bloqueo Fuerza bruta cuidado porque estoy creando un campo más en mysql que mysql no lo tiene con lo cual tengo que hacer que lo tenga y tengo que hacer que lo tenga Es decir me voy a registros me voy a estructura me voy a agregar una columna al final lo llamo comentarios le pongo barchart 255 y ya está vale Lo cual quiere decir que yo ahora me vengo por aquí y yo por ejemplo como digo ahora recargo pongo vale Y no error al entrar login error vale se están guardando me voy a la base de datos me voy a registros me voy aquí al final y veo que no pasa nada vale No hay comentario simplemente se está guardando y ya está pero yo ahora me pongo en plan insistente y digo Taca taca TACA y me da error Vale me da error te has pasado de Bruto con lo cual te has pasado de Bruto Yo vengo por aquí actualizo registros me voy a la tima página y veo que se me está guardando A qué usuario se le ha enviado un bloqueo por Fuerza bruta vale Y luego por ejemplo pues podríamos decir que si el usuario está bloqueado por Fuerza bruta pues directamente ni le deje pedirle nada a la base de datos Porque quieras que no cada vez que yo estoy insertando por aquí un bloqueo de Fuerza bruta pues estoy haciendo un insert en la base de datos O sea que depende de cuál sea la política de acceso a datos pues probablemente ni siquiera debería estar guardando estos datos de aquí vale Pero bueno un poco hoy como demostración de que podéis guardar esta información y también como demostración de que fijaos que ya fácilmente la tabla de registros es la tabla que más nos ocupa hasta el momento como veis claro hasta este momento cómo hemos podido eh sobrevivir sin la tabla de registros es decir como hemos estado un mes y medio dos meses hasta mañana cómo te ha ido Pascual mal por qué Ah bueno Vale ahora luego te lo reviso vale esta hora Vale entonces como ya os digo O sea qué barbaridad no es que hemos estado trabajando todo el tiempo en esta aplicación llevamos dos meses trabajando en esta aplicación y no le habíamos un sistema de registros hasta hoy pues porque Claro si todo el mundo se porta bien pues no hace falta poner registros pero como sabemos que no todo el mundo se va a portar bien vale os voy a contar una cosa que me pasó hace unos años eh sabéis porque os lo he comentado alguna vez que el crm que usa Capitol pues lo program yo lo program en 2018 y a día de hoy sigue vigente vale parecía que este verano lo iban a desmontar Pero al final lo siguen utizando en 2019 vale entró una profesora que por el tipo de materia que daba pues no era especialmente tecnológica ni informática y claro yo cuando programo un sistema a los usuarios del sistema no les digo Oye os estoy registrando todo lo que hacéis vale a los propietarios de la aplicación sí que se lo digo pero a los usuarios no se lo digo y entonces Buen día profesora porque claro yo durante estos años Pues he sido en Capitol Por una parte profesor y luego por otra parte pues el desarrollador y mantenedor de la aplicación de crm eh llega un momento en el que esa profesora O sea me llama a la dirección para hacerme una consulta como informático Y esa profesora dice que me ha desaparecido la nota de un alumno y yo estaba ahí en la reunión y dije Bueno igual Es que la has borrado vale Y ella no cómo se te ocurre decir esto porque yo no he borrado nada porque yo no toco porque no sé qué vale Y sí no Ah Menos mal que no estes en primero por qué por lo de las dos horas de duración del examen o qué en fin Bueno ya me dirán entonces eh Bueno de hecho este alumno estado casi TR horas de para hacer un examen Pero bueno Y entonces en ese momento yo en la reunión vale En aquel momento os juro que lo dije sin ningún tipo de malicia vale le dije Bueno no pasa nada Porque todo lo que ocurre en el crm todo lo que ocurre en la plataforma se registra todos los todas las acciones que hacéis vosotros no lo sabéis pero todo se registra con lo cual pues vamos a meternos en el registro y vamos a ver quién ha borrado ese registro y de repente a esa profesora le vino la memoria de repente y dijo Ah bueno Espera que ahora que lo dices pues igual sí que lo borré y yo Ah ahora que sabes porque te lo acabo de decir que hay un registro de sucesos ahora te ha venido la memoria vale Si no llego a llevar un registro de sucesos Y fíjate que ni siquiera me hizo falta al final meterme dentro y ver lo que ocurría porque como esa profesora simplemente al decirlo que me podía haber marcado un farol Pero obviamente no era un farol vale porque realmente sí que lo estaba guardando pero claro tú Imagínate que no llego a guardar un registro de sucesos Y entonces ahora Averigua a ver quién ha borrado esa nota Vale pues y en ese caso Fíjate que no estoy hablando de un hacker ni estoy hablando de un suceso malicioso vale sino de una persona que ha borrado algo por accidente y ha dicho Mira voy a negarlo y a ver si cuela como error informático que sí que vale que muchas otras veces es error informático vale pero justo en este caso no justo en este caso era un error humano entendible pero chica si la has borrado por accidente pues dilo y ya está y no pasa nada Sabes que hay copia de seguridad que había copia de seguridad es algo que ella tampoco sabía porque ella creía que el borrado era para siempre cuando yo de esa aplicación hacía copia de seguridad automática cada 24 horas con el mismo cron que os he enseñado a vosotros Vale entonces pues eso vale simplemente que sepáis que muchas veces incluso cuando trabajas con un wordpress vale De hecho a mí me ha pasado hoy antes de entrar en clase con vosotros que estaba comiendo y claro efectivamente o puedes mentirle a una persona pero no le mientas a la persona que lleva una tabla de registros vale porque esa persona tiene todo lo que ha ocurrido Bueno pues hoy me ha pasado que antes de entrar a clase con vosotros una amiga Oye mira es que tengo el wordpress de un cliente que me ha dejado de funcionar y yo Vale entonces he entrado y le he dicho Mira le he dicho error 500 esto de entrada pinta mal vale entonces claro eh lo típico de Oye pregúntale a tu cliente qué ha tocado vale Y es como no es que mi cliente Dice que no ha tocado nada y bueno no pasa nada me he metido en el ftp y he visto que de ayer o anteayer había un par de plugins actualizados y Al actualizar un plugin pues había En wordpress qué es decir pero vamos a ver si lo voy a saber quiero decir si es que solo meterme en el ftp y mirarlo los últimos sucesos o las fechas de modificación Es que voy a saber qué ha pasado con lo cual pues ya está sabes que tampoco pasa nada Ya simplemente he quitado el plugin que daba error y le he dicho mira dile a tu cliente que este plugin da error que Pregúntale por qué usa ese plugin y si no lo usa pues no lo usamos y ya está O sea que tampoco pasa nada vale que nadie va a ir al infierno pero O sea pues hay veces que como ya os digo pues con todo con claro Exacto porque es que y luego hay veces que vas al cliente en este caso en el caso de hoy no era un cliente mío directo sino que era el cliente de una amiga entonces que hay veces que vas al cliente le dices Oye mira tal Y dice Ah sí vale pone cara de qué pillada vale creo que hace un par de días igual le pulsé un botón vale igual puls un botón quiere decir que y tanto que le pulsó un botón entonces pero claro a ti te ha costado media hora de averiguar cuando si te lo hubiera dicho directamente Pues en lugar de gastar media hora averiguando Pues hubiera gastado 5 minutos en ir directamente al Problem Vale entonces por eso digo que con esto que os he comentado en la parte anterior de la clase lo que os estoy comentando ahora primero paso número uno de llevar una tabla de registros y luego paso número dos de eh utilizar la tabla de registros vale por ejemplo os voy a contar otra cosa que sin ir más lejos de hecho os podría abrir el código porque lo tengo por aquí lo tengo por aquí a mano vale que es este de aquí vale eh os voy a comentar otra cosa que por ejemplo está en marcha en el crm de Capitol tú con la IP mediante un cruce te tienes que bajar una base de datos de internet Eso sí mediante un cruce tú puedes averiguar De qué país es ese IP con lo cual por ejemplo en el crm de Capitol lo que tengo es bloqueado a que solo pueden entrar usuarios de España Por qué Pues porque en un momento dado empecé a ver los tp ataques masivos de hackers desde Rusia y desde china pues dije Sí como no tiene que entrar ningún ruso ni ningún chino bloqueado a España vale con lo cual Por eso digo que la tabla de registros es el primer paso y luego cómo utilicemos esta tabla de registros si es para una Fuerza bruta si es para un bloqueo por IP por país por geolocalización si es por lo que sea pues Vale o por ejemplo también hablaremos más adelante no hoy todavía pero de permisos es decir ahora mismo tenemos un sistema mediante el cual todo el mundo puede entrar a todo No espérate vale Tenemos también que crear a lo largo de estas próximas semanas buen técnicamente desde aquí hasta el final del curso pues una tabla de permisos donde digamos Pues sí pues por ejemplo tenemos x niveles de usuario Entonces el nivel número uno puede verlo todo pero el nivel número dos puede ver esto y no puede ver esto otro o el nivel número tres puede ver pero no puede eliminar vale En definitiva tenemos que establecer una política de permisos tenemos que intentar que esa política sea lo más reutilizable posible es decir lo más genérica posible vale No pasa nada Catalina pues ya te digo si no pudiste porque Exacto vale una tabla de roles y a partir de ahí es que ya te digo Catalina que no hay una sola forma de hacerlo lo del tema de roles y premiso Hay muchísimas formas de hacerlo y yo evidentemente como siempre intento que el ejercicio que yo programo sea lo más genérico posible para que luego vosotros sí queréis o lo podáis seguir haciendo genérico o ya lo gis concreto para algún tipo de caso de aplicación vale Por eso te digo que yo lo haré lo más genérico posible te lo digo porque pues en una tienda está el administrador el gestor de la tienda El dependiente y el invitado en una escuela está el director el jefe de estudios el profesor y secretaría Vale entonces no lo quiero hacer concreto sino quiero hacer algo así como nivel un nivel dos nivel 3 nivel cu demostrar que cada nivel tenga acceso a unas cosas Sí y otras cosas no Y luego ya vosotros cuando os lo apliqué pues ya lo concretar vale A eso me refiero con el tema de abstracto y concreto bien y vamos a hacer 5 minutos de descanso eh voy un momento afuera y ahora vengo en 5 minutos y eh Y nada y ahora pasamos a acceso a datos y continuamos hablando de algo relacionado con esto vale vamos a hablar a continuación en acceso a datos de hasado encriptación codificación y cómo se aplica esto a este Software que es otra forma de proteger Cómo viajan los datos Vale pues