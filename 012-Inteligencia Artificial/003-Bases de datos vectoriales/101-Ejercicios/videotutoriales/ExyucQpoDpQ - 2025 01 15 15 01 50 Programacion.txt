empezando entonces hoy quiero empezar suave más o menos suave ahora luego acelerar remos y quiero empezar hablando de los patrones de diseño y quiero empezar hablando de un primero Qué es un patrón de diseño y segundo eh comentar los principales patrones de diseño que tenemos hoy en día y entre ellos voy a comentar un patrón de diseño que es el mvc Entonces el concepto de patrón de diseño momento que ahora por aquí a ver patrón de diseño vale vamos aquí a esta página consiste hablando específicamente de Hola Luis hablando específicamente de patrones de diseño aplicados al desarrollo de software vale son el resultado de la experiencia de muchos programadores antes que nosotros que han trabajado en multitud de proyectos grandes o pequeños y que al final En un momento dado esos programadores han llegado a conclusiones muchas veces además de programadores son empresas de programación han llegado a conclusiones acerca de cómo estructurar el desarrollo de aplicaciones de software de forma que el desarrollo sea mejor es decir hay miles de millones de formas diferentes de programar una aplicación pero de esas miles de millones Pues hay algunas que a veces pueden ser callejones sin salida y hay otras que realmente pueden ser útiles vale insisto pueden ser útiles un patrón de diseño es útil o no es útil dependiendo de la del escenario en el cual se implemente lo cual quiere decir que un patrón de diseño puede ser útil en un escenario y ese mismo patrón de diseño puede no ser tan útil en otro escenario y no pasa nada porque hay muchos patrones de diseño vale Así que vamos a ver si hay ejemplos por aquí de patrones vamos a ver vale vamos a aquí vale pero bien un patrón del cual vamos a hablar hoy un patrón bastante extendido es el patrón mvc vale modelo vista y controlador Insisto que hay otros vale por ejemplo hay otro e No ya patrocinado sino impulsado por Microsoft que es el modelo vista modelo vale o el modelo vista modelo de vista insisto por lo tanto que de lo que se trata en este caso es de que entendáis que un patrón de diseño en este caso nos vamos a centrar vamos a ver el screaming architecture momento screaming architecture ese nunca lo he oído a ver arquitecturas que gritan su propósito ostras primera noticia a ver también te digo una cosa y es que estoy ahora mismo buscando a ver buscando referencias y este parece de reciente momento vamos a ver Qué curioso le echaré un vistazo a esto de screaming architecture De hecho no encuentro entrada en la Wikipedia con lo cual Pues bueno bien entonces no pero un momentín Luis Ahí es donde vale eso es esa es el motivo por el cual he empezado hablando un poco en términos genéricos se supone que es la más Pro no vale o sea no sé de qué va ese patrón de diseño pero te digo ya que el concepto de que un patrón de diseño es el más Pro eso lo llevo yendo hace te digo años por no decir décadas vale es decir siempre sí eso o sea ese eso lo he encontrado en la revista medium Fran lo que acabas de indicar vale Pero bueno pero tengo que ver exactamente cómo se implementa esa ese patrón de diseño entonces eh ninguno ningún patrón de diseño es el más Pro una vez dicho esto quiero decir que qué es lo bueno del mvc Perdona Qué es lo bueno de los patrones de diseño los patrones de diseño tienen la ventaja de que nosotros que desarrollamos ahora nos apoyamos en las investigaciones nos apoyamos en las soluciones que han creado otros desarrolladores antes que nosotros ahora bien con los patrones de diseño por eso le decía antes a Luis eh ocurre lo mismo que con los frameworks vale que da igual Cuántos frameworks uses siempre va a llegar una persona y te va a decir no pero es que ha salido el framework no sé qué que es el más pro y que es lo más y que quien lo use es el más pro de todos con los patrones de diseño ocurre lo mismo vale Y es que el concepto de patrón de diseño es muy positivo por lo que os acabo de comentar pero siempre vas a encontrar a alguien que dirá esto que acabas de decir Luis da igual o sea llámalo screaming architecture o llámalo x y da igual Cuántos aprendas porque siempre va a aparecer alguien que te dirá No es que ha salido uno que es el más Pro es que no se aplica vale o sea no se aplica algo así no se aplica ese concepto y de hecho eh o sea decir que un patrón de diseño es el más pro es como si yo te dijera Cuál es el coche más Pro que conoces qué me diríais a esa pregunta qué me decís pues esa Luis es la respuesta depende entonces depende porque depende de para qué necesites el coche habrá unos patrones o sea habrá un tipo de coche que sea más Pro o otro coche de tipo que sea más Pro vale si tú quieres Si tú por ejemplo tienes tres o cuatro hijos pues un deportivo no es el coche más Pro Pero si tú vives solo y lo que te gusta es correr por la autopista Pues otro tipo de coche será el más pero si a ti lo que te gusta es ir a la montaña y hacer camino de montaña con el coche Pues otro tipo de diferente de coche será el más Pro Vale pues coged esto que os acabo de decir de los coches y aplicarlo a los patrones de diseño vale Y es que nunca va a haber uno que sea el más Pro sino que probablemente Irán apareciendo nuevos patrones de diseño que aplicados a x y o z escenarios nos dará mejores soluciones que otros y habrán otros patrones de diseño que aplicados a otros escenarios nos darán mejores soluciones vale por tanto siempre que leas en una página o donde sea que el patrón de diseño x es el más Pro Empezamos mal vale o sea desconfía de esa página bien entonces estoy mientras os estoy comentando Estoy leyendo paralelamente Le acabo de preguntar a chat gpt lo del screaming architecture entonces eh claro a ver nos dice estoy leyendo eh insisto no la conozco la acabo de oír ahora La idea es que la arquitectura grite el caso de uso principal del Software en lugar de enfocarse en detalles técnicos como frameworks base de datos o infraestructura ya os digo tengo que probarlo pero tengo que probarlo vale porque dices vale Pero al final en algún momento tiene que haber alguna base de datos o algún tipo de infraestructura Entonces vamos a ver vale bueno a ver esto de entrada sua bien vale o sea las capas centrales están dedicadas al dominio de casos de uso parece que le da más preferencia a analizar Cuál es la lógica del negocio Vale y el resto del sistema como la interfaz de usuario la base de datos los frameworks se conecta de manera secundaria y periférica bien o sea de momento suena muy interesante vale Y ahora os cuento Por qué claro independencia de detalles técnicos los detalles no deben dictar Cómo se organiza la arquitectura bien suena bien en la teoría suena muy bien en la práctica al final tiene que haber alguna base de datos por alguna parte quiero decir y al final en la práctica Pues sí que la base de datos acaba determinando ciertas cosas o sea que ejemplo práctico vale en lugar de organizar todo el código un framework como Django por ejemplo models views y templates en este caso se organiza proyecto alrededor de conceptos de dominio pacientes citas doctores y facturación vale los casos de uso como o sea los métodos son clases o módulos independientes de una capa central y las capas externas se encargan de la interacción con la base de datos la interfaz gráfica o las apis externas Pues no lo sé porque de entrada me parece o sea lo que estoy leyendo ahora mismo me parece muy bien pero claro Ahora hay que ver cómo implementar Esto vale porque yo de hecho ahora os voy a enseñar lo del modelo la vista y no el template sino el controlador pero claro en principio de hecho o sea con lo que comentas de Jason o sqlite se supone que tu software trabaja únicamente por ejemplo con pacientes citas doctores y facturación y luego ya veremos En qué base de datos se implementa eso con lo cual ya te digo que el concepto de entrada es muy bueno vale el concepto o sea lo que estoy leyendo ahora de repente me gusta mucho por qué porquees porque al final por ejemplo en una aplicación médica lo importante no son las vistas ni los controladores lo importante son los pacientes con lo cual Pues según lo que estoy leyendo se trata de darle importancia a lo que realmente tiene importancia ahora en un sistema informático Pues eso de indicar que todos los aspectos técnicos se dejan como algo secundario Pues bueno habrá que ver el Cómo se implementa pero ya te digo a falta de os voy a enseñar ahora mvc pero a falta de ver algún ejemplo más de esto de entrada no me parece mal en el sentido insisto de que cuando pasan los años y vas desarrollando y desarrollando al final te das cuenta de que lo importante no es el código Lo importante es la persona vale Lo importante es el usuario de una aplicación no el código de la aplicación pero para hacer una aplicación hay que escribir código Por eso te digo que la idea de este screaming architecture la idea en sí Lo que estoy leyendo hasta el momento me parece muy bien o sea filosóficamente coincido mucho con lo que estoy leyendo pero le preguntaré un poco más a ch gpt en plan de bueno ahora dime un ejemplo cómo haría esto para ver un poco más Cómo implementarlo bien De momento por lo tanto hoy si no yo ya te digo si o sea si yo lo que acabo de leer ahora mismo o sea leerlo lo entiendo y me parece bien o sea esta arquitectura o este patrón de diseño encaja bastante con lo que es mi visión de la del desarrollo informático vale que es darle importancia a lo que realmente tiene importancia y que la tecnología sea un apoyo para lo que realmente tiene importancia por ejemplo mira digo ejemplo en php o en una aplicación web en php a ver si vale vemos algo más concreto vamos a ver vale en este caso veo que en este diseño de una infraestructura simulada vale está creando una serie de entidades donde para cada una de las entidades crea un archivo php patient que me juego lo que quieras que tendrá dentro una clase llamada paciente lo cual me parece bien el use cases a al parecer separa lo que es la entidad de lo que es el método Pero bueno vale create appointment cancel appointment vale Y luego en database mysql appointment repository my mysql p repository vale este concepto es un poco lo contrario del superc controlador Pero vale aquí Fíjate que al final hay controladores vistas y servicios luego Esto es lo que te decía o sea en Elo que bajamos al barro al bajar al barro hay que utilizar controladores vistas y modelos Pero bueno pero está bien quiero decir al final es un patrón de diseño que utiliza tangencialmente otro patrón de diseño Mola bien no está mal vale det detal de carpeta míralo ahí lo tienes vale esto lo veía venir Y es que el Class appointment pues es una Class que tiene sus propiedades pero no tiene a ver no tiene métodos tiene y ahora en el caso de uso aquí están las funciones vale la infraestructura es la que tienen los controladores y los servicios se crean servicios para cosas adicionales No lo sé bien o sea de entrada filosóficamente me parece bien quio decir es un ejempl ito de uso muy simplificado Pero de entrada me parece bien vale si os fijáis De hecho no es un patrón de diseño muy exclusivo o excluyente en el sentido de que al final al meterse en la materia tiene que implementar otras arquitecturas como la arquitectura mvc Vale y Fran precisamente la arquitectura modular es otro patrón de diseño Vale entonces eh con lo que os voy a explicar hoy de mvc lo que más adelante probablemente veremos porque Esto me está gustando mucho a nivel filosófico me está gustando mucho de la screaming architecture es otro patrón de diseño vale mvc es otro patrón de diseño arquitectura modular es otro patrón de diseño y por tanto vale de lo que se trata al final es de No ya de que yo os enseñe un patrón de diseño y nos volvamos tal ianes de ese patrón de diseño sino de lo que se trata es de entender que los patrones de diseño son soluciones y hay muchas y cuantas más soluciones sepáis más preparados estaréis para aplicar el patrón correcto en el caso determinado vale por eso es por lo que Luis te decía antes lo de Pro no me encaja nada vale porque es la filosofía contraria es como si de una caja de herramientas yo te dijera Cuál es la herramienta más pro de la caja de herramientas Pues tú me dirías pues Depende de lo que tenga que hacer con esa caja de herramientas pues una herramienta será la más útil y otra herramienta será quizás en ese caso menos útil Vale pues en este caso es lo mismo así que ya os digo miraré más Esto del screaming architecture Pero de entrada el concepto me ha gustado bastante igual el concepto de separar eh la definición de la entidad de la definición de los métodos de la que afectan a la entidad igual de entrada otra cosa que os voy a decir igual de entrada no me encaja mucho Pero por qué Pues porque llevo décadas trabajando con programación orientada a objetos y de repente separar las propiedades de un objeto de los métodos de un objeto es algo que mentalmente me quiera bastante Entonces esto a veces también ocurre que pues uno requiere tener una mentalidad abierta para que hay veces que todo aquello que tú tienes interiorizado porque llevas años utilizando y de repente llega una arquitectura y te cambia los planes y te desestructura la cabeza pero lo tienes que ver desde un punto de vista de bueno Vale Esto me descuadra bastante pero es mejor pues si es mejor probablemente me costará esfuerzo porque si ahora me pongo a desarrollar un software en el que haya clases y si tengo que separar propiedades de métodos pues mentalmente me voy a hacer la picha a un lío Pero al final dices Bueno pero si es mejor pues me valdrá la pena ponerme a ello y sé que para mañana jueves no tendré la cabeza preparada para la screaming architecture pero sé que probablemente en unos pocos meses como he hecho en un año pues ya estaré habituado a esa arquitectura a ese patrón de diseño y por tanto ese patrón de diseño me habrá convertido en un mejor programador vale en el sentido de que tendré en mi caja de herramientas una solución adicional al resto que tengo para adaptar allí donde sea necesario vale también te digo que hay que probarlo Porque esto que estamos viendo va en contra de otro patrón de diseño que estamos viendo aunque no os hayáis dado cuenta que es el patrón del superc controlador donde el patrón del superc controlador es un patrón donde programas una vez y lo puedes reutilizar para todas las entidades que te dé la gana lo habéis visto en el Dark Slate Blue en cambio en este ejempl ito pues veis que está patient doctor y appointment que dices vale tres entidades Pero qué pasa si hubiera 30 entidades Pues que aquí habría 30 archivos mientras que con la con el patrón superc controlador tú programas una vez te cuesta un huevo de programar pero una vez que lo has programado ya puede haber 30 o 300 entidades que el superc controlador las aborda automáticamente vale Pero con esto no quiereo decir que el superc controlador sea mejor que el screaming architecture lo que quiere decir es que cada patrón va a tener unas ventajas y unas desventajas y hay veces yo digo Mira si tengo una aplicación donde sé que voy a tener tres entidades Pues igual me cago un poco en hacer un superc controlador porque para tres entidades acabo ent haciendo tres archivos como estos de aquí que están muy claros pero si en lugar de tener tres hay 300 pues igual es mejor la el patrón del superc controlador vale bien entonces la idea de mvc voy a abrir un editor de texto la idea de mvc es separar por capas la información Vale y por lo tanto y por lo tanto por una parte trabajar con el modelo en una capa aparte con la vista el view en otra aparte y con el controller en otra capa aparte a continuación voy a desarrollar un ejemplo de un software que no es model View controller vamos a hacer un software que no sea así analizamos el problema de ese software Y a partir de ahí vemos Cómo refactorizar y cómo vale separarlo me voy a dar me voy a Mira sabes qué hoy estoy vago voy a usar el visual Studio vamos a ver más porque me he tirado un buen rato esta mañana trabajando con idel entonces eh vamos a abrir carpetas Ah me voy a dam me voy a Primero me voy a programación y vamos a ver vale voy a crear por aquí una nueva carpeta llamada mvc Ok vale Y aquí en python trá de authors en python voy a hacer 001 no mvc punto python bien Y entonces ahora a continuación aquí yo digo hay un git no vale en python digo eh vamos a ver import PK inter Azteca importo la librería de interfaces de usuario de python y voy a crear una aplicación en ventana hoy vamos a crear unas cuantas de ellas entonces digo ventana es igual a tk.tk y ventana my Loop es decir creo una ventana y atrapo la le doy a Play y sale Esto vale sale una ventanita en tk inter a continuación yo lo que voy a hacer es crear un botón vale Así que 002 botón Y entonces digo tk Button en la ventana voy a decir text es igual a ya está punto pack y le digo nada vale le digo nada ejecuto y aparece un botón pulsam ahí lo tenemos voy a darle un poquito de padding xs = 50 padding y es ig a 50 Así que vale tengo ahí un botón en el que aparece pulsam bien De momento yo de entrada voy a bajar esto para que lo veáis más fácil Opa vale de entrada tengo una un elemento de interfaz de usuario es decir hasta el momento si os dais cuenta estoy desarrollando una interfaz de usuario y aparte en python con un código mínimo tengo una interfaz de usuario super guay python es muy bueno para eso vale creo un botón pero ahora a continuación yo digo command es igual a pulsa o pulsa botón vale Ahí hay un problema y es que yo he llamado a un comando que se llama pulsa botón y El Comando no existe por tanto aquí arriba para 003 eh Comando botón creo Def pulsa botón no quieto y print has pulsado el botón le doy a Play le doy a Play pulso el botón y dice Has pulsado el botón el problema es que yo tengo aquí un trozo de código de python que se encarga de gestionar una eh una interfaz de usuario lo que se llama la vista la parte de la información Perdón la parte de la aplicación vista hacia el usuario pero en el mismo programa Tengo un controlador tengo otra parte del programa que se encarga de definir y de hecho ejecutar el código que ocurre cuando realizamos una acción desde la vista esto es como se enseñado a trabajar hasta el momento hicimos alguna práctica al final del primer del trimestre pasado pero no es la mejor forma de trabajar ahora además lo que voy a hacer Es que voy a mezclar también el modelo 004 Ahora traigo el modelo Ahora traigo el modelo quiere decir que yo por ejemplo defino una clase y digo clase cliente y entonces digo clase cliente Def init self os acordáis el constructor de la clase y digo self punto nombre es igual a de bueno a nada de momento vale self pun apellidos es igual a nada con lo cual ahora a continuación yo lo que puedo hacer Es que aquí en la interfaz de usuario haya tantas tantos Campos como haya en el modelo esto qué quiere decir pues esto quiere decir que ahora 005 ajusto la vista al modelo ajusto la vista al modelo Qué quiere decir pues que si yo declaro un modelo que tiene nombre y apellidos Pues aquí tendré que decir tk Label en ventana text introduce un nombre punto pack pad x es = 10 pad y es ig 10 Ahora tekent en la ventana y pro y punto pack e qué ha pasado Dónde estás No fuera no ciérrame esto eh No no clos Vale ahora tk Label introduce un apellido itk entry itk Button le doy a ejecutar introduce un nombre introduce un apellido puls me y ahora por ejemplo lo que haría el programa es el nombre y el apellido y crear una nueva clase con ese nombre y con ese apellido problema Bueno problema o no vale esto que estáis viendo este software es lo que con los años se ha venido a llamar como patrón de diseño o arquitectura monolítica quiere decir una sola piedra quiere decir que el programa está todo contenido modelo vista y controlador en un solo programa es un problema utilizar la arquitectura monolítica pues depende cuando tú lo que quieres es crear un programa sencillo para crear un programa sencillo igual separar por capas es una molestia y desarrollar el software en una en un solo archivo es una solución Por tanto la arquitectura monolítica no está prohibida de hecho muchas veces en miniprogramas del día a día pues es la arquitectura correcta Ahora cuando el software crece y por tanto yo digo claro es que no tengo un cliente Tengo clientes tengo productos Tengo empleados tengo eh repartos tengo trabajadores tengo camiones tengo coches tengo oficinas tengo tal tengo tal pues la parte del modelo crece y claro cada modelo necesitará una serie de métodos y tengo el método de crea cliente elimina cliente actualiza cliente el método de transportista de empleado de no sé qué Y luego no tengo una interfaz que tiene dos labels una interfaz que tiene pues que si labels que si botones que si gables que si paneles pues al final si lo veis aquí pues si estáis en el caso en el que el programa se empieza a hacer grande y llega un momento en el que el programa se empieza a hacer inmanejable y dices tiene que haber una forma de poder desarrollar este software sin que me muera pues en ese caso es cuando tenemos las soluciones de otros patrones de diseño Vale entonces por eso Fran Lo que estás comentando es que lo bonito realmente no es bonito lo bonito es esto es en un solo archivo tenerlo todo pero lo práctico lo Útil es separar la lógica de lo estético y especialmente eso es más todavía necesario como has comentado si es más grande el programa tanto lo Primero que tenemos que hacer es separar por capas qué ocurre Pues que en las en los programas web en tecnologías web quieras que no la aplicación del patrón de diseño mvc es obligatoria lo quieras o no lo quieras porque la vista es la estructura html y el diseño css el controlador lo quieras o no es js porque html no puede hacer de controlador y js no puede hacer directamente la vista un moment un momentín ahora hablamos de otra terminología además que es el Front y el Back un momento que ahora hablamos de eso que es otra forma de distribuir las aplicaciones y luego por último el modelo en tecnologías web pues es o bien fundamentalmente jas o bien segundo fundamentalmente es xml O puedes usar otras tecnologías como txt csv o lo que sea pero a día de hoy Jason es la primera tecnología para definir modelos Vale qué ocurre que como os digo en tecnologías web estamos separando por capas Cocos porque no queda más remedio porque estamos obligados lo cual es Guay vale esto que a veces os quejáis Y con razón también de tener que aprender varios lenguajes para hacer una sola web es cierto la queja es real Pero por otra parte pues tangencialmente casualmente Pues eso también nos obliga a aprender la separación por capas Pero qué ocurre que cuando programamos en python Pues claro como python nos permite hacer de todo muchas gracias python pero que no hacer de todo A veces también nos da alguna desventaja Como por ejemplo pues el tener que mezclarlo todo luego aparte Fran además de todo esto que estoy diciendo voy a hacer un documento nuevo además de todo esto está el concepto del Front y del Back cuando aplicaciones donde anteriormente se utilizaba la arquitectura en bebida que por ejemplo os he enseñado con el panel de administración actualmente se utiliza una arquitectura llamada full stack basada en lo que se conoce como Front que es lo que el usuario va a recibir en su ordenador y lo que va a recibir el usuario en su ordenador ya sabéis que es por una parte inevitablemente html un momento Opa Por una parte inevitablemente html Por otra parte inhabitables y por otra parte inevitablemente javascript pero en aplicaciones full stack sabemos que esto realiza una petición al servidor y el servidor procesa esto o con php o con python o con x sql vale lo que sea sql con lo cual en tecnologías web esto de aquí es lo que se conoce como el Front y esto de aquí es lo que se conoce como el Back pero a su vez si te fijas Fran a su vez aquí en el Front tenemos una tecnología dos tecnologías Perdona que se ocupan del View una tecnología que se ocupa del controller y por aquí quieto no eso no y por aquí que no hay una tecnología vale hay una tecnología Espera voy a utilizar uno de estos que si no me va a caber por aquí hay una tecnología que se llama jas que hace de puente entre los dos mundos llámalo Jason llámalo xml Pero la más común a día de hoy es jas son en el servidor Pues hay teía que es la tecnología que actúa del que actúa de controlador y el modelo se ve implementado en base a lo que entra de Jason en la base de datos tiene que haber una coincidencia y en lo que sube desde sql pH PJ son hacia arriba con lo cual en este caso por ejemplo pues en el cliente tenemos mvc y en el servidor en este ejemplo conceto concreto full stack tenemos amente controlador y modelo vale Y luego otra discusión Insisto que no reemplaza a sino que se mezcla con el concepto de mvc es el concepto de web vista para el usuario final y el concepto de panel de administración Vale y todo eso son conceptos y las clasificaciones deben tener como objetivo ayudar al desarrollador al final nada importa más que el usuario final vale al final lo que importa es que el usuario final obtenga una buena experiencia de usuario y que obtenga una herramienta que le ayude a trabajar todo lo demás mvc screaming architecture modular monolítico todo lo demás son inventos raros de programadores Vale pero no son lo importante es que sus inventos nos ayuden a darle un mejor software al usuario final a la persona que es lo que realmente importa Vale entonces una vez que trabajamos con python a continuación eh os voy a enseñar una forma de obligarnos a nosotros mismos a separar en eh vista y en controlador la forma de Separar en vista y en controlador consiste en eh a la capa siguiente cómo hacemos esto como os digo en python corremos el riesgo de caer en la tentación de que de aquí puedo pasar cosas aquí y de aquí puedo pasar cosas aquí y puedo hacerlo perfectamente así que qué es lo que vamos a hacer ahora pues lo que vamos a hacer vamos a verlo es crear una capa la vista con python porque sabemos que python destaca en eso destaca en hacer vistas o sea python es un programa que con un esfuerzo mínimo por nuestra parte nos hace una interfaz de usuario super guay pero el otro día vimos que python al menos python aalo seco es más lento que el caballo del malo así que lo que voy a hacer es crear una capa de controlador utilizando c+ má la ventaja de la misma forma que en ías web la ventaja es que me voy a ver obligado a tener que separar por capas porque no puedo pasar variables de python directamente a c+ má no puedo es imposible y c+ má Tampoco puede pasar información directamente a python sino que tengo que establecer ahora trabajamos con esta pastilla de aquí abajo tengo que Establecer un método limpio de información y pasarla de python hace más Hala venga será verdad Y esto no correcto literalmente Fran vamos a hacer eso que acabas de decir vale que es hacer operaciones en c+ má aprovechándome de la facilidad que tiene python para crear interfaces de usuario super wise Y esa facilidad no la tiene c+ más si yo hago Esto me tengo que obligar a separar por capas y me tengo que obligar a que lo que sea que quiera python c+ má se lo tiene que pasar encapsulado y lo que quiera que le quiera devolver c+ má se lo tiene que pasar empaquetado no puedo ir desde python a c+ má y empezar a compartir variables y te mezclo el controlador y la vista No va a ser posible Aunque quisiéramos vale bien para yo para ello me voy a ir a c+ más voy a implementar Primero este sistema vale esta distribución En vista y controlador mín voy a apuntarlo por aquí y ahora luego hablamos también del modelo vamos a ir poquito a poquito esto es la vista vale esto es la vista y esto es el controlador Vale cuando creamos un programa en c+ má o en lenguaje que sea porque de hecho esto que voy a explicar también se aplica a python por ejemplo a ver un momentín Espera voy a algún trozo de código por aquí 40 no Ah sí Uh esto Qué es gpt 440 con tareas programadas esto es Beta acaba de aparecer ahora mismo Vale pues bueno ahora luego lo veré bien no perdona No quería decir ahora luego lo veré vale eh si Plus simple example accept parameter and return result vale básicamente voy a hacer una un pequeño programa en c+ má que acepte ahora veremos un parámetro vamos a ver aquí esto vamos a ir a Mira sabes qué vamos a hacerlo aquí Bueno aunque de aquí no podré compilar tampoco es que quiera compilar pero bueno Vale New file y controlador cpp vale pego vamos a ver no más sencillo Sí pero no no esto no accept parameter vía command Line interface and return result vamos a utilizar esto el ar vale lo que voy a hacer en este caso es que en lugar de que c+ má me pregunte algo voy a devolver bien Vamos a ver esto fuera Esto sí vale Ah for Ai bueno Vale pues venga okay vamos a suponer que lo hacemos bien convert Esto sí vale pues esto es entrada Okay el argumento un ahora int doble es igual a entrada multiplicado por dos y imprimimos el resultado y el resultado directamente no quiero ni que tenga un String ni que tenga un endline vale quiero solo el resultado y return cero vale return cer porque ya sabéis que estoy obligado a devolver un int Así que r return cero quiero que veáis que el ejemplo es sencillo vale son es literalmente un programa de cuatro líneas Lo único es que en este caso incluye un Ai que lo que hace es convertir de String a entero vale a integer bien ejecuto ti Dónde estás No sé dónde estás no estás Vamos a ver vale me voy a dam me voy a Primero me voy a programación me voy a mvc vale voy a abrir un terminal y simplemente voy a hacer g+ Plus eh controlador 1 y out controlador 1.out ya está Vale pues no está vamos a ver result Ah perdón que he hecho mal sí no doble see out doble vale compilo Ok y ahora atención cuando yo si ahora yo llamo a controlador con No espera ejecutar controlador out le doy a enter y me dice violación de segmento Por qué Pues porque yo aquí le he dicho que le iba a pasar un argumento número uno y no le he pasado ningún argumento violación de segmento quiere decir es como la Define de javascript vale pero en este caso la violación de segmento es que he llamado a una dirección de memoria que no existe vale lo ejecuto pero ahora le paso un cinco por qué Porque es el argumento uno el argumento son los argumentos que yo le ponga a la ejecución del programa en línea de comandos un argumento es todo aquello que se pone después de llamar al programa hemos utilizado un montón de argumentos cuando hemos utilizado programas de línea de comando la cuestión es que ahora Vais a aprender cómo se hace eso vale Cómo se programa una aplicación de consola que acepte argumentos bien si todo va bien le doy cinco y me dice 10 si todo va bien le digo 25 y me devuelve 50 Ni siquiera me hace una un mísero salto de línea Por qué Porque yo le he dicho que solo quiero el resultado no quiero ni strings ni saltos de línea ni leches yo te doy un número y quiero que me devuelvas el doble no me formatees no me pongas strings No me pongas salto de línea yo te doy un paquete y quiero otro paquete de vuelta y si luego lo formateo para hacerlo bonito ya lo haré en python pero no en c+ má en c+ má quiero lógica pura tú me das algo yo te lo calculo y yo te lo devuelvo y te lo devuelvo a la interfaz de uso Y eso es lo que va a ocurrir vale con lo cual si os fijáis aquí Me quito la posibilidad de y la tentación de paso de poner cualquier tipo de interfaz de usuario en esta en este desarrollo Vale ahora me voy a python y 006 solo la vista vale Y bueno ahora eh vamos a ver un mín ahora me vengo por aquí eh No aquí no me vengo aquí nuevo Vale y create simple simplest python Script to execute eh dis cpp code compile controlador 1. out with python subprocess eh and return result ya está vale Okay venga momentín vale importo sub process voy a el código de chat gpt y lo voy a meter como yo quiera porque aquí me pone un try me pone un except me pone un name está muy bien vale pero quiero hacerlo lo más sencillo posible Entonces vamos a ver le digo subprocess.run y digo vamos a ver supres Run Quiero llamar a controlador 1 out str 25 capture output Okay text true Ok y check true Esto me lo quedo eso sí que me Mola y ahora a continuación aquí quieto resultado es igual a esto luego por lo tanto print resultado y ahora a continuación voy a ejecutar esto eh bueno va instalar venga no pero es que esto para bueno para hac más bueno instalando va Bueno qué se va a hacer venga ya lo he pedido pues ya me lo quedo vale Así que momentín ejecuto la vista le doy a Play eh momentín Hola Bueno aquí de entrada se ha quedado frito a prerelease eh No vale se ha quedado frito frito frit tisimo o qué No sé si lo no sé si lo está haciendo Entonces me voy a abrir terminal y digo eh python 3 es 006 solo la vista Okay vale Y me dice completed process no sé si me lo estaba diciendo aquí no vale se ha quedado frito vamos a dar otra vez ahora sí me dice completed process argumentos es igual a esto return code es igual a esto std out es igual a Esto vale por tanto yo lo que quiero es el std out No quiero el stdr vale Así que momentín sí Y execute esto Sí bueno estd out strip vale estd out strip ejecuto y me da 50 ahora a continuación insisto eh estoy haciendo una interfaz de línea de comando ahora a continuación digo 007 ahora le doy yo el número Y entonces digo entrada es igual a input Dime un número y e bueno entrada pues entrada de hecho aquí esto lo puedo meter directamente porque es un String vale Así que le doy a Play Dime un número el 40 recargo y me devuelve b80 ya lo he hecho un poco más interactivo sigue siendo línea de comandos cosa que a los alumnos les parece una auténtica Me parece bien vale Pero técnicamente esto ya es una interfaz de usuario una interfaz de consola pero interfaz de usuario Al fin y al cabo pero ahora a continuación Yo sé que vosotros queréis hacerlo como interfaz de usuario en ventanitas porque os Mola más pues vamos a hacerlo con interfaz de ventanas vale Pero de entrada de la forma más sencilla que me está siendo posible porque luego podemos poner un montón de estructuras de seguridad vale pero de momento lo estoy ha de la forma más sencilla que me es posible Yo abro python de python ejecuto c+ Plus c+ Plus me devuelve un resultado y lo imprimo en python estoy implementando esta estructura de aquí Pero insisto la idea Está en que vosotros me diréis ya sí muy bien pero para hacer esto lo puedo hacer en c+ má sí es cierto que lo podéis hacer en c+ má Así que a continuación vamos a hacer en python lo que no podéis hacer en c+ má que es crear una interfaz gráfica de usuario técnicamente sí que podéis crear una interfaz gráfica en usuario en c+ má pero es para cortarse las venas de lo difícil que es Y encima no es multiplataforma sin embargo en python como ya sabemos con un par de comandos Pues tienes una interfaz gráfica fantástica vale fantástica en relación al esfuerzo que nos cuesta Así que vengo por aquí 008 ahora interfaz y digo import tk inter as tk bien Vamos a ver ventana es igual a eh tk.tk sin punto y coma ventana punto Mind Loop vale Y ahora digo voy a lo fácil tk Label en la ventana text variable es igual a número punto pack pad x es = 10 pad y = 10 y tk Button en la ventana y el text es vamos a por ello y punto pack bien aquí me da un error vale me dice que número no sabe lo que es con lo cual yo vengo y digo eh número es igual a tk textvariable no Uh Por qué por qué caray espera eh python tk text variable la sintaxis a String bar de heches va entrada Perdón número es igual a String bar Ahora sí vale con lo cual tengo ya el número vale y ahora cuando yo ejecute command Calcula número me vengo por aquí y digo Def Calcula número vamos a ver me vengo por aquí resultado Lo pongo aquí quito el input y yo creo que ya vamos a probarlo a ver qué pasa a ver si me he dejado algo atentos a la línea de comando le doy a Play no lavel es tk lavel Uy Label venga Play Eh no eh Qué falta Pues no sé qué falta No sé qué falta Ah sí No es que no es un Label es un entry lo que quiero Vale ahora sí bien le pongo un cinco le digo vamos a por ello name entrada is not defined vale Por qué dónde estás aquí entrada es número vale Play pongo un cco vamos a por ello expected str Ah Sí perdón número punto text creo vale cco vamos a por ello text No pues es value es Ay eh momentín sí sí Ah punto get número pun get Ahora sí vale le doy aquí un cinco vamos a por ello y me devuelve un 10 le doy aquí 25 y me devuelve 50 le doy aquí 50 y me devuelve 100 Vale y ahora por último diréis vale Sí pero lo que molaría es que el valor me lo devolviera en la interfaz de usuario no en la consola Vale pues por último 009 valor en la user interface entonces digo eh Pues retroalimentación es igual atek lavel y Retro alimentación pun pack en la ventana text es igual a interrogante le doy a Play con lo cual cuando Yo calculo un número le digo vamos a por ello lo que quiero que ocurra es que en lugar del interrogante aparezca el doble vale Así que vengo por aquí Y en lugar de print le digo retroalimenta config y le digo text es igual a esto ejecuto le digo 25 vamos a por ello y ahí pone 50 pongo este número de aquí le digo vamos a por ello y ahí me pone el doble lo que ha ocurrido por lo tanto vamos a verlo lo que ha ocurrido es que en esta parte si queréis Mira voy a poner resultado es igual a esto para no mezclar demasiado código e no eh resultado texto es igual a esto y esto es resultado texto es decir lanzo el paquete de información contra c+ má recojo el resultado que me da c + más ojo va c + más y lo pinto en la pantalla y lo pinto en la pantalla en python y de esta forma si os fijáis python no Calcula python no está calculando el doble es más python ni siquiera sabe lo que está calculando c+ más python solo sabe que envía algo y recoge algo y no tiene que saber nada más vale entonces muy bien Fran con esto yo estoy llamando a controlador 1.out y python ahora mismo no tiene ni idea de en Qué lenguaje de programación Está programado controlador 1.out solo sabe que a controlador 1.out le puede pasar un parámetro y puede recoger un resultado es lo único que sabe con lo cual efectivamente podemos lanzarlo contra c+ má podemos lanzarlo contra C contra Java contra no dejs contra lo que queramos contra otro archivo de python si quieres vale en este caso lo he hecho contra c+ má para demostraros que los dos no son compatibles y pese a ello se comunican pero se comunican porque tenemos que crear una interfaz muy clara de Cuál es la entrada y cuál es la salida de cada uno de ellos una vez que tenemos esto Insisto Hay programas que por lo que sea pueden no necesitar trabajar con eh con modelo de datos vale un programa que realice algún tipo de cálculo pesado y probablemente hay muchos otros tipos de programas que pueden necesitar trabajar con modelo entonces La pregunta es el modelo dónde va vale correcto vale python está arrancando el programa en c+ má arranca el programa le envía datos el programa en c+ má Calcula un resultado y devuelve el resultado a python que es literalmente estas dos bolitas de aquí vale entonces La pregunta es vale si ahora quiero ampliar esto si ahora quiero ampliar esto y quiero meter más bolitas vale quiero meter aquí más bolistas no sé por ejemplo sqlite O my sql o jas o lo que queramos es decir el modelo La pregunta es cómo lo implemento el modelo afecta al controlador o el modelo afecta a la vista o el modelo exactamente a quién afecta Bueno pues si buscamos en internet el esquema global conceptual de mv c veremos que no afecta ni a uno ni a otro sino que afecta a los dos si Buscamos mvc veréis que el patrón de mvc es un patrón muy circular veremos que vamos a verlo por aquí veremos que el controlador manipula al modelo con lo cual tiene que haber una comunicación entre el controlador y el modelo pero el modelo a la vez pinta la vista vale la vista tiene que adaptarse según lo que el modelo le d y muchas veces para que el modelo tras base de datos a la vista tiene que haber una comunicación a veces metiendo un pequeño controlador la vista envía información del usuario al controlador y algunas veces esto es esto de abajo es literalmente lo que acabamos de hacer algunas veces el controlador actualiza Direct amente la vista vale es decir claro habrá datos que no tengan que pasar por el controlador vale pueden pasar directamente pero es que a la vez el modelo es solo una definición algo que coge algo de aquí y lo lleva aquí y lo pinta podría ser un pequeño controlador una vez más os digo tened en cuenta que este es un esquema conceptual vale o sea esto no es la Biblia Esto no es la ley Esto no es el boe es un esquema conceptual que te da una idea de cómo implementar y obviamente tú ya luego implementas según tus necesidades concretas Pero esto lo que te está diciendo es Oye separa por capas para que tu programa sea más mantenible vale bien Vamos a hacer una pausa 5 minutos y vuelvo