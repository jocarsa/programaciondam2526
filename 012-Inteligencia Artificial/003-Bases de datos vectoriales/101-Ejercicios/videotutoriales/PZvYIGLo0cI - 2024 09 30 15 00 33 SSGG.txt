Vale pues vamos allá eh la semana pasada nos quedamos bueno Por una parte habiendo hecho el acceso correcto al panel de control haciendo una petición al servidor creando un microservicio que era capaz de proporcionar este resultado de pasas o no pasas vale acordémonos que teníamos un usuario incorrecto y todo esto viene de la base de datos ahora a continuación pongo jarsa y esto Igualmente viene de la base de datos lo pondremos como password de momento le he puesto como text para que se vea acceso correcto redirigir al panel de control y en el panel de control pues tenemos una serie de elementos de momento tenemos dos de prueba pero evidentemente pues con estos elementos del grid más adelante podemos tener Pues un panel por aquí con x aplicaciones de ges empresarial bien pues hoy para empezar a esbozar un poco lo que será el interior de cada una de estas secciones de cada una de estas aplicaciones pues quiero hacer la siguiente parte donde de momento lo que voy a hacer es algo parecido al superc controlador que hicimos el año pasado pero haciendo un superc controlador eh con cliente y servidor es decir full stack y que esté preparado para atrapar cualquier tipo de información como ahora a continuación vamos a ver bien más que contaros esto de palabra os lo voy a enseñar entonces nos vamos al editor esto Ok vale voy a abrir me voy a segundo me voy a sistemas me voy a proyecto me voy a duplicar esa carpeta porque a continuación lo que quiero hacer en carpeta de aplicaciones copio y pego f12 014 y eh ventana o pantalla de administración superc controlador que va a requerir un montón de versiones no lo vamos a hacer en una sola versión bien esto quiere decir que ahora a continuación me voy a cliente dentro de cliente tengo el Index que es el inicio el login tengo el escritorio que es una aplicación y el escritorio tiene Index estilo comportamiento img fantástico esto tiene una pinta muy Guay Vale pues yo ahora a continuación lo que voy a hacer es que en cliente me voy a escritorio voy a pegar voy a copiar f12 y voy a poner superc controlador Y qué ocurre Pues que superc controlador tiene el Index el estilo y el comportamiento Y entonces estamos empezando a aplicar como una especie de metodología basada en programación modular vale prácticamente cualquier cosa que hagamos a partir de ahora pues será un módulo bien Ahora de momento me voy a ir al escritorio y me iré también a ver el comportamiento y en el comportamiento de momento lo que voy a hacer es que cuando clique en cualquiera de los elementos me voy al superc controlador Vale ahora mismo no voy a distinguir si es uno o si es otro porque estamos programando muy en abstracto evidentemente más adelante programaremos en concreto bien esto quiere decir que eh vamos a ver plantilla aplicación document for each lista aplicaciones vamos a ver nombre instancia query selector vale instancia muy bien entonces voy a cada uno de estos elementos y voy a decir qu vamos a ver eh bueno Sí a ver instancia punto onclick es igual a function y de momento voy a decir ya sabéis siempre console.log has hecho click en un icono vamos a ver siempre si funciona ejecutamos no carpeta de aplicaciones no estamos ya en el 14 me voy a cliente inicio voy a ir a escritorio hago clic en icono CR RM con lo cual si todo ha ido bien Vamos a verlo yo aquí he tocado en la carpeta correcta 14 pantalla de superc controlador Sí pues al recargar hago clic y veo que no funciona vamos a verlo instancia un click vamos a ponerlo aquí Okay recargamos click de momento no vale vamos a ver puedo hacer nombre. onclick no estoy seguro de que vamos a ir a aplicación vamos a ir a ver Head comportamiento abr en una nueva pestaña y nombre on click console pun log has hecho clic en un icono Vale pues de momento no está cogiendo ninguno de ellos con lo cual bueno algo que puedo hacer es que una vez que lo haya creado pues lo cojo a posterior y ya está entonces una vez que he creado todos estos elementos Data for each vamos a ver qué estilo lo tienen esto lo tengo aquí no Aquí vamos a ver cada uno de estos elementos es de tipo aplicación Vale pues no pasa nada Pues lo hacemos a posterior Así que document query selector all lo busco mediante clase aplicación y esto es led aplicaciones a ver que me quite el cable de alimentación vale aplicaciones es igual a esto y ahora digo for each o aplicaciones punto for each function aplicación y entonces digo aplicación onclick es igual a fun y console.log has hecho clic Así que recargo hago clic y has hecho clic y ya está Vale entonces qué he hecho aquí Bueno pues selecciono eh todas las aplicaciones y las pongo en un array en el momento en el que hago query selector all y hay varios elementos de aplicación automáticamente aplicaciones parece una variable Pero va a ser una colección de datos Y entonces para cada Una de las aplicaciones vamos a verlo no tranquila no Beatriz un momentín hasta ahora con lo que he hecho a ver no hay mucho que podáis hacer de momento en el login igual sí que se pueden meter más comportamientos de qué es lo que ocurre cuando eh Inicia sesión qué es lo que ocurre cuando sale sesión pero de momento no hay mucho pero ahora que me voy a meter en el superc controlador y aquí en el superc controlador ahora verás que es donde viene la harina aquí es donde Vais a poder meter un montón de cosas vale con lo cual tranquila porque ahora mismo en esta asignatura no habéis tenido mucha oportunidad de personalizar en javascript en gráfico evidentemente Sí pero también te digo mira lo que vamos a hacer en la clase de hoy y ahora verás que con lo que voy a hacer que insisto es lo que tus compañeros de pasado conocen como el superc controlador ahora verás que aquí es donde hay un huevo de cosas para hacer Ya verás ahora verás bien para cada una de las aplicaciones eh cuando haga clic en esa aplicación de momento saco una consola Vale pues no le voy a decir que Windows location es igual Es decir me voy a otra parte vale salto a otra parte y le digo que es igual a eh dos puntos barra eh No me acuerdo cómo se llama superc controlador creo que lo he llamado no cliente y superc controlador sí y superc controlador y barra vale porque ahora tengo que ir al superc controlador y vaciarlo de contenido es decir ahora tengo que ir al superc controlador el Index se suponía que debería estar vacío no lo está Vale aquí y entonces vengo y aquí donde pone template ahora igual usaremos templates voy a decir eh superc controlador vale más que nada para que comprobéis que es cierto voy a hacer el pack completo de navegación vale cliente joc carsa me voy a login me voy a acceso correcto me voy al escritorio Y entonces pincho en alguno de estos dos y plank vale entro en el superc controlador bien a lo cual vamos a hacer un poco un recuerdo de Qué es el superc controlador vale vamos a ver qué es eso entonces si yo busco un crm o busco un erp eh cerme screen yo al final voy a una pantalla como esta o voy a una pantalla como esta que es donde están los datos vale en esta pantalla y aquí Beatriz es donde ahora verás que voy a empezar a responder a tu pregunta es donde hay datos Pero tengo una tabla que necesita ser reordenada tengo un buscador en la tabla quiero meter nuevos elementos tengo pestañas tengo funciones tengo buscadores tengo un montón de cosas vale Y aquí es donde yo voy a explicar pues una forma muy sencilla y muy pues muy general muy abstracta de cómo hacer una pantalla de gestión de datos Y aquí es donde vosotros Vais a tener una libertad enorme tanto para desde el punto de vista gráfico como para desde el punto de vista del comportamiento aparte de que hoy vamos a hacer datos en otros días vamos a hacer gráficas O sea hay un montón de cosas que hacer aquí bien entonces vamos a analizar vamos a recordar que era el superc controlador pero hoy voy a hacer el superc controlador desde el punto de vista de eh del full stack vale de la separación entre cliente y servidor entonces para empezar voy a decir que 015 superc controlador pero gráfico o sea estático vale No Dinámico me vengo por aquí me voy a cliente me voy a superc controlador me voy a index ML bien y por aquí por cierto un momentín que un quería configurar por aquí Mostrar margen derecho vale en el margen derecho no y nada y quería por aquí a ver si había no vale Ok nada bien pues aquí voy a hacer lo siguiente voy a hacer un header en el header voy a poner superc controlador aquí en el Main voy a hacer un en primer lugar un nav y luego voy a poner un section y luego un section bien entonces Os cuento dentro del nav esperamos encontrar un menú de navegación Vale entonces voy a poner Li me lo voy a inventar vale me lo estoy inventando ahora clientes le productos le pedidos esto luego saldrá de la base de datos ahora mismo es estático Li eh empleados que realmente esto no iría mezclado porque empleados es recursos humanos y productos es producción vale pero ahora mismo va mezclado porque estoy maquetando gráficamente voy a intentar no dejarme espacios en blanco voy a intentar que el código esté lo más claro posible bien y ahora me voy al estilo me voy al estilo del superc controlador me quito todo esto y hago lo siguiente vamos a ver em ah crimson te iba a decir habíamos elegido ya un color entonces digo Body es font family sans serif y background crimson vale vamos a probarlo 015 bueno da igual paso directamente 015 y superc controlador 015 cliente superc controlador Vale tengo un crm carmesí vale No pasa nada no os preocupéis de eso se trata Ahora me voy a ir a al Main y voy a decir que el Main va a ser un poco flexbox vamos a utilizar la página de flexbox punh para el código para un flexbox de prueba vale por tanto quiero Row quiero Center y ya bueno Esto lo puedo dejar así y ya está vale el flexbox correspondiente es este de aquí la página de flexbox punh viene bastante bien porque pues dices lo que quieres y te genera el código y ahora le digo m na es with de 80% perdón 20% y my es with 80% with 80% bien el Main section es background White Ok ahí lo tenemos y ahora Aquí voy a decir lo siguiente Body html es pading 0 píxeles H 100% OK ahora el Main es H 100% esto hay que decírselo a mano h 100% y H 100% bien si todo va bien ya tenemos por aquí Pues un pequeño primer panel de control vamos a ver más cosas en el header Quiero un padding de 20 píxeles Ahí está Eh Esto qué es esto es un margin de cero píxeles Okay ahora y aquí en el section voy a poner un Border radius de 20 píxeles 0 píxeles porque esto lo que hace es un pequeñito radio de Empalme con lo cual aquí arriba tendré la cabecera y puedo meter cosas en la cabecera y aquí a continuación tendré Eh Pues los elementos del menú de navegación que por cierto este menú de navegación Debería ser Ah muy bien fantástico he puesto Li pero no he puesto ul entonces pues bueno lo correcto es poner Li y ul que se formatea como una lista de bullets No pasa nada porque luego lo puedo desformatear a ver Esto es color White vale color White Ok y en el se es color Black Ok bien Ahora a continuación pues maquetamos Insisto que estoy maquetando visualmente vale me voy a nav ul y le digo que list Style type es igual a noun le digo que pading es 0 píxeles Ok bien y ahora le digo que nauli es padding de 10 píxeles voy a empezar probando Vale pues bueno un poquito más píxeles vale una cosa así bien para que pues tenga los diferentes elementos igual lo dejo en 10 o igual lo dejo en 15 o luego ya veremos pero para que visualmente vayamos formateando y vayamos entendiendo pues qué aspecto visual va a tener esta aplicación eh Por supuesto el nab será Pointer cursor creo que lo hecho al revés es cursor Pointer vale para que haya como un botoncito y tal como una manita Y a partir de aquí ahora dentro de lo que es la parte principal de la sección es donde voy a meter pues una primera tabla vale porque digamos lo que quiero es crear como una tabla con datos qué datos Pues ahora mismo van a ser ficticios vamos a hacer que esto funcione desde el punto de vista estético y una vez que funcione desde el punto de vista estético pues ya lo conectamos a la base de datos Y empezamos a traer datos Eh Esto que te voy a decir beatri no es puramente css Perdona no es puramente javascript Es más css pero yo he hecho un menú a la izquierda por qué Porque me ha dado la gana vale vosotros no tenéis por qué hacerlo a la izquierda si vosotros os ponéis a investigar y decís Oye mira es que me gusta más el menú arriba o el menú a la derecha o el menú bajo si me lo justificá no va a haber ningún problema cómo me lo justificá Pues evidentemente indicando que o bien en el mercado ya hay herramientas que tienen ese tipo de interfaz que Vais a hacer o bien hay alguna regla de usabilidad que justifica que lo hagáis como sea que lo vayáis a hacer o sea que ahí Vais a tener libertad bien Ahora en la parte de la sección principal voy a hacer la siguiente versión y pliqui y 016 controlador y esto es tabla estática Vale pues me voy a crear una tabla estática aquí vo a cliente me voy a superc controlador me voy a Index html vale Bueno voy a cerrar cosas Okay me voy a Index html y aquí en la sección digo Table vamos a hacer una tabla lo más legal posible Así que Table tad t Body en el tet voy a hacer un TR y vamos a como referencia la tabla de clientes que tenemos en la base de datos me voy a local Host me voy a php my admin eh José Vicente no era crimson vale Y me cojo como referencia Ah No tú no tengo nada todavía Vale pues me lo voy a inventar eh clientes pues TD no th y nombre y th vale H apellidos lo típico lo de siempre lo que siempre hago apellidos email y lo estoy inventando eh dirección población y país ya está vale a continuación vamos a dar un vistazo Por cierto a continuación me vengo aquí tabla estática barra cliente barra superc controlador vale Esta es la tabla veo que a la aquí Bueno hace falta en el css que en el section ponga un padding de al menos 20 píxeles Okay Vale eh en el Table Main section Table le voy a decir que le pongo un with de 100% okay Y ahora voy a crear una serie de filas Vale entonces Vamos por aquí creo filas de momento de forma manual t Body TR TD y Bueno voy a poner José Vicente T hay a copiar este TD 1 2 3 4 5 y 6 Así que carratala sanchiz info @josé viicente catala.com dirección calle de José Vicente población Valencia y País España y ahora pues este TR como es estático vale recuerdo que es estático lo copio lo pego unas pocas veces porque son filas de la tabla vale filas estáticas de momento recordamos que un super crud al final es un sistema que es capaz de insertar Y es capaz de leer y es capaz de actualizar Y es capaz de eliminar y como ahora veremos también tiene que ser capaz de otras muchísimas cosas bien formateamos visualmente entonces yo voy a decir que en el estilo pues le digo Main section Table tad Pues le voy a decir que background crimson y eh color White además voy a decir que Main section Table TD padding 10 píxeles igual luego me arrepiento de esta decisión Pero y coma th vale pero así pues un poco respira un poquito más luego ya veremos bien entonces yo de momento lo que estoy haciendo aquí es Eh pues formatear si queréis incluso voy a darle un poquitito más de estilito Vale entonces al darle un poquito más de estilito pues lo que voy a hacer Es que este borde pues tiene que coincidir con este borde de aquí vale Entonces le voy a decir que eh Table t Head Vale pues Border radius y 20 píxeles Bueno sí 20 píxeles creo que sí y parece que no eh A ver Hola Por qué no t Vale pues voy a hacer lo siguiente vamos a ver Main section Table tad TR th First Child Lo siento mucho porque es que esto parece magia negra parece que esté invocando algún ser extraño pero es una forma de seleccionar correctamente el elemento y le digo e 20 píxeles c píxeles 20 píxeles OK ahora sí vale Y qué otra cosa que puedo hacer por ejemplo es decirle aquí cero píxeles Y entonces como que se alinea no sé vale eso ya gráficamente es como vosotros queráis y luego voy a poner Last Child para decir que es al revés cer píxeles 20 píxeles c píxeles y por tanto pues redondeo por ahí ya os digo que esto es algo plenamente meramente estético y luego cuando vosotros hagáis vuestra versión yo os a personalizar el css como a vosotros os dé la real y absoluta gana siempre que quede bonito evidentemente Bueno a continuación voy a hacer también el clásico sombreado vamos a ver crimson a ver chat gpt css color like crimson B Way larger y light coral Vale pues vamos a probar light coral entonces vengo por aquí y digo Table bueno Main se Table vale t Body TR Child od es decir los impares le voy a decir background light coral vamos a probarlo vamos a ver qué aspecto tiene Wow No muy fuerte no siguiente salmon vamos a ver salmon Creo que será muy anaranjado Pero vale vamos a probarlo muy anaranjado Vale qué me das Indian red y fire brick pues no voy a hacer lo siguiente x for crimson entonces me voy al gimp Me cojo el hexadecimal de rojo carmesí me lo pongo aquí el hexadecimal esto es rojo carmesí con lo cual ahora pues me voy a buscar el lightness vale me voy a buscar ahí no 0255 no hay una cosa así no me convence mucho Pero vale espera hsv Ahora sí vale lo vuelvo a pegar Ok y ahora me voy a saturation Ok fantástico Vale pues me quedo ese color hexadecimal este de aquí rascamos y esto Bueno ya es otra cosa podría jugar un poquito más así hexadecimal vale una cosa así Ahora sí que me gusta bien y ahora a continuación una vez que Hemos jugado eh estéticamente inicialmente con esta tabla digo inicialmente porque aquí hay un huevo entas que quedan por implementar para eso tenemos esta asignatura para eso tenemos todo el curso pero yo de momento lo que quiero es que pues esto que he empezado haciendo en estático se convierta en Dinámico vale luego ya va a haber tiempo aquí para meter el botón de borrar aquí arriba para meter un montón de herramientas todo eso vale pero de momento quiero esto y convertirlo en estático en Dinámico perdón y cómo puedo hacerlo voy a poner esto even aquí y cómo puedo hacerlo bueno pues para esto de aquí quiero que las tablas salgan realmente de la base de datos Y esto de aquí quiero que realmente como os digo salga también de la base de datos qué es lo que voy a hacer en este caso Bueno pues voy a crear en primer lugar veis que tengo aquí aplicaciones veis que tengo aquí usuarios Vale pues voy a crear una nueva tabla llamada clientes por quées porque sé que voy a jugar con los clientes para como motivo de demostración entonces pincho por aquí me voy a hacer una nueva tabla vamos a verlo la llamo clientes vale no hemos pensado mucho qué aplicaciones va a tener esta este sistema Pero clientes es algo que siempre hay en cualquier sistema informático con lo cual pues pongo clientes pongo identificador es una clave primaria autoincremental entonces voy a poner los típicos Campos ya veremos si luego nos quedamos con estos No nombre apellidos eem email quiero meter cinco Campos más y pues dirección código postal país y ya está bueno dirección código postal y población y país vale identificador es una clave primaria autoincremental nombre es un marchar apellidos es un marchar email es un marchar código postal Pues voy a poner marchar porque los códigos postales de España pues son de números pero en otros países tienen letras también barar 255 país barar 255 luego país puede ser una clave foránea a una tabla de países Pero y población también pero de momento para hacer este ejercicio vamos a dejarlo así y ya alterar la estructura entonces me voy a pris realizar sql me copio el sql voy a hacer por aquí un eh 017 crear tabla de clientes 017 creo un nuevo archivo le pego esto lo pego en segundo en sistemas en proyecto en crear tabla de clientes create table crimson sql vale Y una vez que tengo esto Pues claro ahora evidentemente le voy a cerrar le doy a guardar y ahora pues voy a meter unos pocos clientes vale Así que nombre José Vicente apellidos carratalá eh email info @josé cente.com dirección la calle de José viicente CP 4600 población Valencia eh país Y ya y continúo y tengo aquí un insert y yo lo que voy a hacer ahora insertar punto sql bueno meido sql cc dilla vale lo que voy a hacer es que en sql voy a insertar insertar y así En un momento le doy a continuar y tengo un montón de clientes vale Y así pues rellenamos datos en sql en plan rápido luego también tened en cuenta que también puedo hacer lo siguiente un momento también puedo hacer lo siguiente que consiste en que le doy a borrar y me vengo a proyecto a tabla de clientes a create Table vale y le digo e chat gpt apt y digo eh with this structure create 20 Random registers Y entonces qué hace el sistema Pues que me crea o sea yo le paso la estructura de la tabla y me crea eh Uy no quiero el preview no quiero el espera quiero el normalito este eh return in sql insert vale porque el modelo nuevo de preview pues es bastante más grueso que esto que Entonces esto con un chat gpt 4o nos sirve perfectamente momento porque ahora lo que va a hacer el sistema es crear los inserts aleatorios para 20 clientes y lo mismo podemos hacer con productos y con pedidos y tal Vale entonces vemos por ahí que está creando vale como podemos ver y un momento porque ahora los meto en la tabla os digo ese truquet porque a veces para meter datos Random pues chat gpt puede venir bastante bien aparte es el chat gpt 4o que no hace falta el chat gpt eh duro y grande para poder hacerlo Vale y un momento porque estoy ahí esperando a que chat gpt me dé las cositas y bueno y ahora a continuación Pues básicamente vamos a hacer lo mismo del año pasado que es un super controlador pero lo vamos a hacer en modo full stack lo vamos a hacer integrado con la aplicación que estamos desarrollando lo vamos a hacer lo más limpio posible para que sea lo más extensible posible porque tiene que ser extensible porque esta aplicación que vamos a desarrollar en esta asignatura tiene que ser muy extensible de hecho al final de la tarde vamos a copiar código eh vamos a hacer un componente que luego tenemos que voy a pegar esto aquí que luego tenemos que insertar la semana que viene dentro del sistema de gestión empresarial o sea el código tiene que estar limpio entonces me voy a clientes me voy a sql hago así vale le doy a continuar y ya está y ya de repente tengo 20 clientes aleatorios y digo 20 clientes y le puedo meter 20 más O 100 más lo que me deje chat gpt no Bueno pues de momento con 20 tengo suficientes ahora a continuación Yo quiero ir a la base de datos y le quiero pedir cosas Vale entonces en la base de datos me voy a ir a las tablas y le voy a decir dime las tablas que tengo que más adelante me diréis Oye ya pero es que unas tablas Irán por ejemplo a rp y otras tablas Iran a crm sí okay pero hoy no estamos todavía ahí hoy de momento quiero Dame todas las tablas y más adelante ya lo que haremos es decir eh Dame solo estas tablas según la aplicación que sea yo que sé bien entonces ahora Bueno ya sabéis que el sql de dame las tablas es un show tables o sea no tiene tampoco mucho misterio Show tables me da las tablas vale Así que vengo por aquí le doy aer por aquí ahora me duplico el proyecto y crear tabla clientes vale tabla estática Pues ahora me voy al proyecto 018 tabla dinámica aquí es donde la cosa pues bueno no es que se vaya a complicar porque vamos a hacer lo mismo que el otro día entonces veréis me voy a cliente me voy a superc controlador me voy a Index abro el comportamiento lo voy a vaciar evidentemente el Windows unload me lo quedo vale bueno espera el fch me lo quedo el fch me lo quedo fch me lo quedo porque lo necesito vale Y entonces me voy a servidor y le digo lista tablas vale Y claro eso quiere decir que evidentemente me voy al servidor para ver que no existe un lista tablas pues lo voy a crear lista tablas Y entonces vengo por aquí y le digo show tables y punto show tables se acabó Ahí está y ya está no toco nada más no toco nada más Y digo a ver qué me devuelve insisto una vez más todo os lo dije la semana pasada que un día de estos cuando tenga un rato pues diré vamos a hacer un includ de datos de conexión para no tener que poner los datos de conexión en cada archivo vale pero de momento no Ya sé que tenemos su pendiente pero ahora mismo no entonces en el comportamiento voy a decir console.log Data a ver qué viene vale Y yo voy a probarlo me vengo por aquí me voy a 18 tabla dinámica me voy a cliente me voy a superc controlador vale Y aquí en el con la consola tengo esto tengo tres tablas vale Y dice eh tables in crimson vale fantástico esto es porque la aplicación se llama crimson que luego ya veremos qué ocurre si aplicamos este crm en una base de datos que no se llama crimson Pero vale de momento vamos a suponer que se llama crimson así que ahora a continuación digo Okay pues me vengo por aquí y digo vamos a ver la lista de tablas y digo datos pun for each function tabla y esto quiere decir que para cada una de las tablas que han venido de la base de datos también luego en el php vosotros me diréis ostras es que todo es igual menos esto de aquí con Igual podríamos hacer con programación orientada objetos o una función donde yo le meta todo esto la función y únicamente cambie la petición pues muy probablemente Sí vale pero ahora mismo no O sea vamos cogiendo ideas hay mil millones de cosas que podemos hacer En esta asignatura vale seguro que yo veo un montón de ellas y vosotros veis otro montón más grande todavía que yo no he visto pero bueno y se os ocurre otro montón de cosas que a mí no se había ocurrido bien entonces en datos for each bueno hago un primer console log tabl simplemente para comprobar que funciona tabla Hola e datos is not Def Ah Es Data datos Ok tables in crimson vale con lo cual ahora digo Vale pues tabla de ta crimson porque eso es lo que me devuelve my sql vale No es que yo me lo invente Por cierto es con mayúsculas si es con mayúsculas o sea como venga vengo por aquí aplicaciones clientes usuarios Vale entonces voy a poner esto Let nombre de tabla es igual a esto buenas prácticas pues ponemos gu B vale bien y ahora una vez que he Atrapado el nombre de la tabla de cada una de las tablas Pues ahora a continuación me vengo por aquí donde está esto que es el m naul l pues quito el L quito los l está vacío vale Y ahora en el comportamiento digo Let menú es igual a document punto query selector eh navul Y entonces digo no Esto va arriba aquí y entonces digo led elemento es igual a document create Element le elemento Tex content es igual a nombre de la tabla nombre de la tabla y eh Y menú punto appen Child elemento ahora comento todo esto okay Vale y aplicaciones clientes y usuarios Pero por qué ahí pone aplicaciones clientes y usuarios Pues porque la base de datos tenemos aplicaciones clientes y usuarios vale un poco para que tengáis claro y clarísimo que lo que ahora aparece ahí ya no es estático sino que ahora es Dinámico y viene de la base de datos comento selecciono el menú donde voy a poner las entradas Din Y entonces atrapo el nombre de la tabla que viene del fetch creo en memoria un nuevo elemento Li dhtml a ese elemento Li le pongo como texto el nombre de la tabla Y por último lo añado al menú y por eso vale lo que sale es esto de aquí bien Ahora esto ha sido más o menos sencillo ha sido el aperitivo ahora tengo que hacer lo mismo pero con la tabla va a ser lo mismo pero más complejo pero el rollo es el mismo Entonces para ello en primer lugar lo que voy a hacer esto ha sido bueno esto ha sido tabla dinámica voy a hacer una versión superior tabla dinámica y Esto va a ser contenido Dinámico de la tabla 019 contenido Dinámico de la tabla y así Ahora luego cuando Bueno luego cuando sea cuando repasé el código pues no tenéis un montón de cambios en una Versa versión sino vais viendo poco a poco Cómo la cosa Va evolucionando bien me voy al 019 me voy al 019 me voy a cliente y superc controlador vale Y ahora es donde aquí la cosa se complica por qué yo lo primero que quiero eh contenido Dinámico de la tabla cliente no escritorio no superc controlador Index vale me voy a cargar las columnas de la tabla y me voy a cargar el cuerpo de la tabla por qué Pues porque ahora todo eso tiene que venir dinámicamente de la base de datos con lo cual muy en el rollo angular digamos esto se queda así se queda vacío se queda en el esqueleto y ahora va a ser javascript el que me lo ponga entonces en el tad voy a hacer lo siguiente me voy a servidor me voy a lista tablas no ok y digo un momento creo que es momento momento Show colums in clientes Entonces hago así y cataf ahí lo tenemos vale fantástico Show colum en clientes me vengo por aquí esto es eh columnas tabla vale pego esto y vosotros me diréis Sí pero es estático a Clientes no te sirve para otras tablas no yo os digo primero dejadme hacerlo estático y ya lo haremos Dinámico vosotros ya me conocéis del año pasado y ya sabéis que yo no me gusta nada lo estático vale Ya sabéis que me gusta mucho reutilizar todo lo posible con lo ual tranquilos que ahí ahora mismo pone cliente si quiero que sea estático para que lo veáis y lo entendáis y tranquilos que más adelante será Dinámico Entonces ahora vengo por aquí columna tabla vale me voy a cliente me voy a superc controlador me voy a comportamiento todo esto de aquí es para la lista de tablas Vale pues fantástico y digo listado de tablas hago así y ahora digo listado de columnas de tabla hago así vale Y así tenéis un separador que nos dice Qué hay en cada sección del código y ahora pues hago un fetch TACA traca y digo eh No me acuerdo tengo memoria de pez y esto se llama y esto se llama columnas tabla Okay veo que el rollo fetch y el rollo Dame se repite No pasa nada siempre que vemos algo que se repite tenemos ahí una oportunidad para luego abstra no de momento pero nos vamos fijando En esas cosas console log datos y vamos tener un vistazo a ver qué sale por aquí recargo y me la tabla no aparece fantástico y me aparece me aparecen columnas Field type viene el type Oye es seguro que venga tanta información La respuesta es me da igual Es decir esta asignatura es sistemas de empresarial por tanto en esta asignatura me preocupa que las cosas funcionen ahora luego tenemos la asignatura de acceso a datos donde me preocupan ciertas cosas como que por ejemplo el acceso a los datos sea seguro vale por eso igual decís Oye es bueno que se traslade al cliente Si un campo es la clave primaria La respuesta es no probablemente no es bueno pero eso no es lo que me preocupa ahora mismo vale vamos a hacer que funcione y más adelante o en esta asignatura o en acceso a datos ya nos preocupamos de que vengan los datos justos y incluso de que vengan codificados vale de que vengan encriptados pero de momento no de momento quiero que vengan y una vez que vengan ya hablamos de más cosas Vale pues vengo por aquí y si ya tengo esto y veo que hay un campo llamado Field porque es que además la consola de javascript es una maravilla porque te lo chiva todo vale pues Yo vengo por aquí y digo Okay pues datos. for each Siempre es la misma mecánica eh con lo cual una cosa que espero Y esto es dato una cosa que espero es que digáis ostras si es que al final todo el rato es fch y punto den y dámelo Y entonces for each Y entonces hago no sé qué Vale pues sí gran medida esta asignatura es mucho for each bien Y entonces ahora Digo e Bueno digo led cabeceras tabla es igual a document selector y es Table t TR esto es el selector donde deben colocarse las columnas Vale entonces ahora digo qué digo Pues no sé lo que digo un momentín Aquí y ahora digo no perdón led cabeceras tabla tiene que ir antes del forage Vale entonces digo eh led elemento es igual a document create Element th Table Head Table heading perdón y digo elemento pun text content es igual a datos. Field datos de Field Y entonces cabeceras tabla elemento y si esto es cierto hago así e Ah Sí perdón no no debería haber aparecido datos fi no es dato dato dato Field ahí pero quiero que veáis que si ahí pone identificador nombre apellidos email dirección código postal población y país es porque en la base de datos esa es exa ente la estructura que tiene la tabla vale o sea antes era estático pero ahora es Dinámico ahora lo que viene es real lo cual quiere decir que yo más adelante ahora luego lo veréis Ah ver si nos da tiempo en la clase de hoy le voy a decir Vale ahora ya no quiero clientes Ahora quiero usuarios y automáticamente me va a cambiar todo esto bien vamos a acabar la tabla aunque ya os imagináis lo que va a pasar aprovecho para poner comentarios esto no lo quiero Vale y selecciono donde tengo que poner las cabeceras en la tabla y ahora para cada uno de los datos para cada uno de los datos vamos a ver creo un elemento que es una columna cabecera de tabla su texto es el nombre n del campo de la base de datos Y añado ese elemento a las cabeceras de la tabla vale elimino espacio en blanco intentamos que el código esté lo más estético posible estético desde el punto de vista de que sea fácilmente legible por vosotros cuando vayáis a hacer el ejercicio y ahora a continuación pues una vez que tengo el listado de columnas de la tabla ahora voy a por el propio contenido de la tabla vale contenido de la tabla hago así 1 2 3 contenido de la tabla vale Y ahora a continuación pues qué voy a hacer Pues otro fetch otra vez otro fetch entonces hago otro fetch Espero que a estas alturas digáis vale creo que le estoy empezando a pillar el rollo a esto porque es que cada cosa que hacemos Es fetch o sea cada cosa que javascript hace se va a pillar un microservicio del servidor le pide algo y se lo devuelve en jas y lo procesa con lo cual ahora en columnas tabla me voy a hacer otro microservicio llamado datos tabla en datos tabla voy a decir Select all caray Select all from clientes así de sencillo de momento es estático más adelante será Dinámico ahora mismo no entonces Select all from clientes solo he tocado el query de sql lo demás no lo toco y ahora me vengo por aquí y digo no sé cómo lo he llamado a esto datos tabla me voy a datos tabla console log recargo y Mirad esto es poesía porque me ha venido un Jason que tiene todos los datos correspondientes al a los clientes que el jas igual no me debería dar el identificador es bueno que en el frontal aparezca el ID de la base de datos pues es algo discutible vale como lo que os decía antes pero no me preocupa ahora discutirlo es decir yo Ahora quiero que esto funcione y más adelante ya tenemos tiempo para discutir qué datos vienen qué datos no vienen qué datos se quedan en el servidor cómo lo hacemos y todo eso pero de momento como os digo quiero que funcione Así que ahora bueno viene la parte que es más difícil pero no es que sea tampoco difícil vale no voy a hacer template por cierto antes de que me lo preguntéis porque dado que el número de elementos de una fila puede variar Pues el concepto de template que hemos visto anteriormente no se aplica tanto lo aplicaremos cuando podamos pero en este caso no se aplica tanto desgraciadamente así que vengo por aquí y ahora digo datos pun for each no led contenido tabla es igual a document query selector y digo Main Table o se Table Este es el de la tabla Ahora sí datos pun for each function y fila o registro o tupla como lo queráis Llamar registro y ahora digo vamos a ver led nueva fila es igual a documentate Element r que es Table Row vale literalmente una nueva fila de tabla ahora a continuación para cada uno de estos elementos vale para cada uno de estos elementos yo digo eh registro punto for each valor coma clave y ahora Digo vamos a ver Bueno realmente no hace falta puedo solo el valor y ya está la clave no me hace falta Ahora más adelante sí que me va a hacer falta pero ahora de momento para no complicarlo voy a solo el valor y entonces digo led nueva columna es igual a eh document create Element TD un table Data vale una celda de tabla nueva columna punto text content es igual a ver es igual a valor ya está No espérate valor esto es columna y esto es columna punto Uf No valor a ver un momentín esto es No pues es clave valor Sí creo que es valor vamos a verlo Igual me estoy equivocando pero ahora lo veremos bien valor y entonces le digo nueva fila pun appen Child nueva columna y por tanto okay Y por tanto contenido tabla appen Child nueva fila si todo ha ido bien Ahora comentamos el código si todo ha ido bien vale una unect token aquí qué me he dejado Ahí Ah Uh madre mía no es que ahí donde va valor debe ser function valor esto viene aquí y Esto va aquí vale Ok ahora errores vamos a ver más errores registro for each is not a function vale registro for each is not a function Por qué Pues no lo sé vamos a poner console.log registro daos cuenta lo que yo estoy haciendo vale porque vosotros tenéis que hacer lo mismo y porque una gran parte de las tutorías que hacemos no digo en este curso hablo de todos los cursos a lo largo de los años es esto o sea es llego un error y me paro en el error yo digo registro for each es nota function yo digo Vale pues a ver qué es registro Y entonces digo Ah espérate es que registro no es una array registro es un objeto y por tanto yo puedo iterar con for each en una Ray pero no puedo iterar con un for each en un objeto vale Este es el error vamos a por la solución entonces solución ch gpt vengo por aquí y digo javascript iterate in object get K and value por si acaso ya que estamos lo tenemos iterate y es object K lo sabía vale muy bien eh No esto sí Ese es el for vale que bueno es la forma antigua de hacerlo el object pun Keys es el bueno Vale entonces object kys vale espera me copio El ejemplo completo y digo datos el registro esto es momentín registro es el que no acepta registro for each not a function este es el problema Vale entonces quieto object Keys registro for each clave y Ok Vale y digo console.log clave momentín me falta algo clave aquí Esto va aquí esto no va y ya está Vale clave identificador y luego da un error Ok valor no está definido clave y console punto log registro de clave ok identificador 9 vale fantástico Pues aquí donde pongo valor pongo registro de la clave esto se puede ir fuera y ya lo tenemos y ahora a continuación una vez que ya lo tenemos Porque vosotros diréis Espérate un momento qué ha pasado aquí vale porque antes lo teníamos o sea porque antes no lo teníamos ya de repente lo tenemos vamos a comentar el código y vamos a ver qué es lo que ha ocurrido Aquí vamos a ver llamo Quiero un Jason Vale entonces selecciono el contenido vacío de la tabla los datos es un array Entonces como datos es un array hago un for each para repasarlo ahora bien bueno console pun log esto no hace falta ahora dentro del contenido vacío de la tabla lo que voy a hacer Es que creo una nueva fila como un elemento html vacío que es un table Row literalmente y ahora Como cada registro ya no es una Ray sino que cada registro como habéis visto es un objeto no puedo recorrer de la misma forma una Ray que un objeto esta fórmula es pongo por aquí fórmula para recorrer correctamente los índices las propiedades de un objeto están en orden correcto Sí vale ahora una vez que soy capaz de recorrer los índices de los objetos pues entonces digo nueva columna creo una nueva columna html le pongo el contenido en texto y nueva fila eh introduzco la columna dentro de la fila Y por último introduzco la fila dentro de la tabla de tal forma que tengo por aquí ya los datos bueno se me salen un poco por bajo no pasa nada no os preocupéis ahora luego tocamos eso ahora le voy a decir al section que tenga un scroll vale eso es css puro eso no pasa nada pero tenemos ya aquí el superc controlador únicamente la operación reid vale tenemos de momento solo la operación rid Pero tenemos un re Dinámico tanto para sacar las tablas de la base de datos como para sacar el contenido de la tabla de la base de datos ahora vamos a seguir evolucionando Hay un montón de cosas que hacer eh una de las cosas que hay que hacer es hacer que la tabla sea dinámica otra de las cosas que hay que hacer es implementar no solo el read sino también el insertar el actualizar y el eliminar y luego hay que hacer Buscar por tabla y luego hay que hacer reordenar por columna y luego hay que hacer gráficas y luego hay que hacer edición Ajax O sea hay una barbaridad sima de cosas que hacer vale Y aquí es donde te decía Beatriz que yo voy a hacer una serie de cosas las que me dé tiempo y tranquila que lo que no me dé tiempo os va a dar oportunidades de sobra para meter funcionalidades voy a ver bien Ahora yo he cogido el contenido de la tabla pero este contenido pues e cómo te diría yo Ha sido un poco estático vale pero yo ahora quiero que sea Dinámico para que sea Dinámico yo lo que quiero es que cada vez que yo haga clic dentro de cada una de estas tablas pues se envíe un mensaje al servidor al microservicio que me diga sí quiero que me des una tabla pero no cualquier tabla quiero que me des la de aplicación la de clientes la de usuarios o da igual en la que yo haga clic para ello voy a crear una nueva versión del proyecto me voy a proyecto me voy a 020 y eh proyecto qué te iba a decir yo tabla dinámica vale Y entonces ahora en el 20 Vale Nos vamos al 020 tabla dinámica cliente superc controlador vale aquí ahora le voy a decir que fuera tabla dinámica servidor y en datos tabla le voy a decir que si no is set get tabla en ese caso tabla es igual a clientes en caso contrario tabla es igual a get tabla Eso quiere decir que si no viene nada cógeme clientes pero si viene algo cógeme lo que venga Y entonces digo Select all from clientes no Select all from tabla ya os he dicho yo que esto que antes era Dinámico ahora Perdona esto que antes era estático Ahora va a ser Dinámico bien de esta forma vamos a ver y ahora vengo por aquí recargo todo sigue funcionando pero yo ahora quiero que cuando yo haga clic aquí pues me diga te voy a cargar aplicaciones y cuando yo haga clic aquí me diga te voy a cargar clientes vale vamos a verlo vengo por aquí me voy a cliente me voy al superc controlador me voy al comportamiento vale Y entonces digo nombre de la tabla Ok Vale pues entonces digo elemento pun onclick es igual a function y Digo e bueno texto Let texto es igual a dis punto text content y digo console.log vamos a por la tabla coma texto Así que recargo hago clic y me dice vamos a por la tabla aplicaciones y hago clic y digo vamos a por la tabla clientes y digo hago clic y digo vamos a por la tabla usuarios y ya está la primera parte bien para la segunda parte lo que tengo que hacer es que esta operación de cargar tabla contenido de la tabla no se ejecute Sí o sí al principio sino esa operación va a estar en una función la voy a sacar aquí va a estar en una función y va a ser function carga datos tabla que voy a pasar que te voy a pasar la tabla que me tienes que cargar y aquí si quieres lo que voy a hacir es cargad datos tabla de clientes lo convierto en una función ahora veremos para qué Y esto es en tabla es igual a tabla y lo convertido en Din porque le he pasado un parámetro le estoy pasando un parámetro en la URL vamos a verlo recargamos de momento no da error pero si yo vengo aquí un momentín voy a hacer una cosa contenido tabla pun innerhtml es igual a nada Es decir vacío la tabla por si había algo Uy Espérate que también tengo que el listado de columnas de tabla un momentín esta función va Aquí esta función va aquí vale Y tengo que también el listado columnas tabla es decir cuando cargo una tabla cargo las columnas y el contenido vale en tabla es igual a más tabla okay Ok datos tabla columnas tabla le pego esto O sea cógeme clientes y Show columns in tabla y lo acabo de hacer Dinámico vamos a ver si funciona recargo vale si yo hago click en aplicaciones Hola Estoy en momento clic Espera a ver clic Ah vale Sí perdón es que he hecho toda la función pero después de haber hecho toda la función console.log vamos a por la tabla cargados tabla texto ahora pongo comentarios vale esto fuera clic aplicaciones y me sale aplicaciones cuidado no he vaciado las columnas tengo que vaciar las columnas vamos a ver cabeceras tabla punto innerhtml es igual a nada Lo cual quiere decir como ahora veréis vacío vale aplicaciones me salen las aplicaciones clientes me salen los clientes usuarios me salen los usuarios y así con todo ya lo ten ya hemos convertido esto en Dinámico vamos a poner comentarios y creo una función esto para atrás creo una función para cargar dinámicamente tablas y Esto va aquí vale esto es por si acaso hay columnas previamente cargadas vacío la cabecera Okay llamo a un microservicio y le paso la tabla como parámetro vale como parámetro lo veis ahí arriba llamo a un microservicio cuidado Me acabo de cargar esto por accidente y le paso la tabla como parámetro Ok vacío la tabla por si había algo vale Y ya está y cuando arranca el programa Pues cuando arranca el programa le pongo una tabla por defecto así para que no aparezca en blanco esto es un capricho visual Ok ponemos espacios todo correcto Ah sí Y ahora que he creado un menú Dinámico cuando hago clic en los elementos de la tabla atrapo el texto del elemento de navegación y lo paso Ah qué Manía qué pasa y lo paso como parámetro a la llamada que carga los datos de la tabla y ya está Vale y ya está en el sentido de que pues ya tengo Vamos a repasar ya tengo un login que admite usuario y contraseña Le doy a login acceso correcto vamos a ver un momentín que vea la pregunta pincho aquí entro vale Y aquí ya empiezo a ver tablas eh Beatriz vamos a ver el cargar datos tabla cuando inicia la aplicación ya lo tiene indicado el fichero php con los últimos cambios no entendido la pregunta ya tiene indicado el qué quiero decir que no entiendo O sea el tabla por defecto vale Vamos allá el tabla por defecto vamos a ver por una parte yo hago dos cosas y es que si por lo que sea yo llamo a los microservicios y yo no he especificado la tabla los microservicios automáticamente se cogen clientes y luego además de esto vale además de esto yo también para que eso no ocurra yo cuando cargo el programa cargo cargo del programa le digo cargados tabla clientes por tanto no ocurre solo lo estoy haciendo yo de forma manual en dos sitios diferentes lo estoy haciendo Por una parte en cargad datos tabla le estoy pasando ya a clientes de forma manual vale Y luego si yo no hiciera bien Esto aún así el datos tabla y el columnas tabla está diciendo te deberían pasar la tabla pero si no te la han pasado cógete clientes Ahí es donde en esos sitios es donde está ocurriendo vale bueno y ahora pues una vez que ya tenemos esto vamos a por las típicas clásicas y tópicas operaciones crud en fin para ello vamos a empezar por la más sencilla a la parque más peligrosa de todas que es la operación de eliminar entonces para eliminar voy a crear una copia y Eliminar de momento estético y ahora lo haremos funcional para eliminar Mirad me voy a cliente me voy a superc controlador me voy a comportamiento y aquí donde formateo la tabla deciros que un momentín donde está stable TR vale voy a crear un nuevo elemento voy a crear un nuevo elemento y lo añado creo un elemento vacío Y ahora veréis por qué creo un elemento vacío me voy a Oh venga me voy a superc controlador Vale y veis que ahí hay una cosita más vale hay un elementi más por qué Pues porque me está creando una columna para que yo ahora me vaya por aquí y ponga emoji eh trash can o trash Bin o yo que sé vale papelera emoji estaba por ahí antes papelera emoji muy bien copiar y ahora me vengo por aquí a parte de que aceptar voy al código y en el contenido de la tabla aquí donde pone aquí vale led nueva columna document create Element TD nueva columna text content es igual a emoji quieto es igual a emoji una cosa muy divertida es que se pueden poner emojis directamente en el texto desde el punto de vista de la usabilidad y poner iconos viene muy bien porque al final es un conjunto de iconos que ya tenemos que luego si queréis en otra asignatura nos podemos poner a crearlos vale a diseñarlos pero no tengo ganas ahora de ponerme a diseñar una papelera no es el objetivo de esa asignatura entonces eh nueva columna text content y nueva fila appen Child nueva columna con lo cual yo ahora hago así recargo y veo que tengo ahí una papelera por cada uno de los registros que encuentro dentro de esto del elemento Ahora hay un pequeño problema y es que claro yo puedo hacer que por ejemplo Mirad cada vez que yo haga clic en una papelera Pues el sistema diga voy a eliminar algo claro pero el problema es qué voy a eliminar vale vamos a verlo entonces vengo por aquí Ah vamos a ver y nueva columna Tex content vale Y ahora vengo y digo nueva columna punto e on click es igual a function console.log y vamos a eliminar algo vale recargo me voy a console hago click e console is not defined me estás contando como console no va estar Define cons Ah console pun logo vale hago click y dice vamos a eliminar algo pero el problema es qu eliminamos entonces recordamos que hace un rato habían venido todo los campos de la tabla y como habían venido todos los campos de la tabla recordamos que había uno que nos decía este es la clave primaria vamos a recuperar ese dato para recuperarlo Yo vengo por aquí me voy al Estado de columnas de la tabla y digo console pun log datos vamos a recordar qué venía en las columnas y recordamos que tengo los ocho campos de por ejemplo clientes da igual porque vienen todas las tablas vale Y el identificador Mirad el resto de kis el resto de kis dice que cero pero el campo identificador dice que es PR con lo cual Claro si me indica cuál de los campos es la clave primaria cuando yo voy puedo decir Ah vale pues voy a eliminar el campo que sea clave primaria vale Entonces eso quiere decir que vamos a ver si puedo atrapar ese dato O sea sí que puedo atrapar ese dato y ahora yo digo vamos a ver datos for each yo digo Let clave Sí pero no led clave Ah sí vale Sí led campo clave es igual a nul vale o nada puedo no ponerle nada y ahora digo si dato Ke Por qué Ke Pues porque ahí pone Ke es igual a pri Por qué pri Pues porque ahí pone pri o sea para que veáis que no me lo estoy inventando sino que simplemente estoy leyendo las propiedades que hay en ese caso campo clave es igual a qué pues a dat Field y digo console pun log la clave es el campo coma campo clave a lo cual dirá a lo cual dirá la clave es el campo identificador entonces vos doos diréis Pues estaba claro que el campo era identificador porque lo hemos puesto nosotros vale pero yo os digo Y si el día de mañana el campo clave primaria No se llama identificador se llama ID o se llama mi ID Vale pues esto que hemos hecho parece que es pegar un rodeo que te cagas Pero al final no lo es porque est estamos programando de forma más segura de forma que no dependemos para que funcione la aplicación que la base de datos se llame así o se llame asá vale bien entonces ahora si ya hemos capturado el campo identificador ahora continuación me vengo por aquí y digo vamos a ver okay esto y ahora digo sí clave es igual a campo clave okay Vale yo digo eh clave primaria es igual a nada led clave primaria y por tanto clave primaria es igual Ok a registro clave con lo cual en este text content le digo nueva columna va columna punto set attribute clave primaria luego podéis poner lo que queráis es igual a clave primaria vamos a ver si es cierto vamos a ver si es cierto recargo me ha cogido que la clave es el campo identificador Y si todo ha ido bien Ahora aquí clave primaria undefine vale no ha ido bien un momentín vamos a verlo clave primaria undefine vamos a verlo vale led clave primaria muy bien led clave primaria Lo pongo aquí undefine si clave primar No si clave es igual a campo clave console pun log clave email dirección vale correcto identificador console pun log clave campo clave creo que el problema va a estar ahí en el en que este dato no llega ahí dentro pero tranquilos porque hay solución dónde estás clave campo clave ahí está ese es el problema no está llegando undefine vale con lo cual voy a probar la clásica solución de poner bar undefine and Define interesante vale campo clave vamos a ver el campo clave la clave es el campo clave la clave es el campo identificador por esto se ejecuta después Ah porque se está ejecutando después vale entonces lo que puedo hacer es que el contenido de la tabla no se ejecute hasta que no haya venido el contenido de la cabecera es un poco bestia pero funcionará vamos a verlo y ya está Vale y ahora Eso quiere decir y ahora Eso quiere decir que clave primaria es igual a 9 clave primaria es igual a 10 clave Primaria para cada uno de los campos ahora ya puedo eliminar teniendo en cuenta que vamos a ver que al pinchar en cada uno de los de las papeleras me dirá voy a eliminar un elemento vamos a eliminar algo pero tengo el ID que quiero eliminar Vale y de hecho tengo el ID y tengo también incluso la tabla que he escogido vamos a probarlo vamos a comentar código primero vamos a ver el led campo clave si lo podemos dejar con led mejor y así lo uar lo mínimo posible un momento vale esto ya lo tenemos Okay Vale esto fuera recargamos click y campo clave correcto así si lo dejamos con led más limpio Vale y digo vamos a ver creo una variable Ah que va a almacenar el nombre del campo que es clave primaria Por qué Pues porque ese campo me sirve para Añadir el identificador Vale ahora a continuación al repasar las columnas si este campo es clave primaria en ese caso eh recordamos Cuál es el campo el nombre del campo que hace de clave primaria por lo tanto en la siguiente parte en la carga le digo si este campo que estoy viendo ahora mismo es además la clave primaria pues en ese caso pues guarda el número de la clave primaria como identificador de registro de tal forma que cuando creo un elemento creo una nueva columna le doy el emoji de la papelera Pero además le pongo un atributo que se llama clave primaria y le pongo el valor correspondiente Y eso quiere decir que si se llama clave primaria es porque podéis ponerle el nombre que queráis vale Y ahora lo pongo en las columnas y ahora haga clic cuando haga clic en la papelera en ese caso vamos a eliminar Algo vamos a eliminar algo y qué es lo que vamos a eliminar pues vamos a eliminar de la tabla el ID vale Esto es lo último que vamos a hacer en la clase de hoy que ya hemos avanzado bastante nos quedan un huevín pero ya lo habido el año pasado con lo cual ya sabéis que tarde o temprano lo vamos a hacer me cago en el tío de La motosierra que está ahí arriba haciendo una obra pero bueno entonces no sé si se oye en el audio Espero que no Ojalá que no porque a mí me está trasladando mogollón y copio y pego me vo voy a 022 Eliminar efectivamente Y entonces en el 022 en el superc controlador No aquí no en comportamiento le digo fetch vamos a ver fch servidor eliminar datos eliminar dato tabla es igual a tabla and ID es igual a qué le paso el contenido clave primaria Ahí estamos Ah más un momento led clave es igual a olet identificador es igual a disg attribute clave primaria Y esto es identificador vale si todo va bien si todo va bien Ahora me voy a servidor me voy a Pues no sé voy a Esto me lo voy a guardar como eliminar dato vale me lo guardo como eliminar dato y digo a ver delete from tabla Where y ID voy a poner identificador vale más adelante haremos uso Dinámico no se oye nada Ah no se oye nada de la Sierra vale mejor para vosotros es igual a uno vale con lo cual esto es tabla Y esto es espérate aquí y esto es ID ahí ya sabéis que hay una cosa que no me Mola y es que estamos poniendo de forma estática el nombre de la columna que es clave primaria pero no os preocupéis porque más adelante podemos cogerlo de forma dinámica ya lo sabéis y ya está bien Entonces vamos a probarlo vale eh cuidado proyecto 022 cliente me voy a superc controlador vale voy a eliminar a Carlos Rodríguez número 11 vale pincho en el número 11 hago click Okay vamos a ver ah not Found Quién es el not Found Espera que no veo eh opening New Tab eliminar datos.php ostras Por qué eliminar dato Ah claro es que lo he llamado eliminar dato php.php vale Ok un error venga Vamos allá vale recargo vale elimino a Carlos pincho Ok internal server error vale eso es otra cosa diferente vale internal server error es que el php ha dado un error Por qué Pues no lo sé delete from tabla Where identificador es igual a tal vale no veo el error no veo el error no veo el error voy a quitar esto delete from tabla we identificador es igual a esto de Aquí vamos a verlo elimino a Carlos vale get local Host internal server error Ah Pues no lo sé vamos a ver eco query cuidado Vale eco query a ver si hay suerte y me da la query No me da la query vale vamos a ver Open New Tab y le digo Mira delete from clientes identificador es igual a 13 pues no veo dónde está el error de hecho no debe dar error mira y Carlos no está porque dice que da error a ver 14 Alberto y ahora recargo y Alberto no está o sea ha dicho que ha dado error pero por algún motivo que desconozco vale con lo cual voy a hacer esto Me parece raro no me gusta que de error cuando luego no es error Pero vale Y ahora vamos a ver le digo un momentín nueva columna un click Vale pues dis punto parent como javascript parent javascript get parent from click Element y parent node o parent Element va venga dis pun parent Element pun remove Vale entonces hago así cojo a Miguel click vale lo elimino dice internal server error no sé por qué pero no es internal server error porque recargo y ya está entonces estoy haciendo dos cosas vale cojo a Juan Ortiz y click lo elimino ha dado error en la consola pues ya está Vale y aquí estoy haciendo dos cosas acabo de comentar esto y ya está por hoy en esta asignatura entonces tomo el identificador hago una petición a un microservicio para eliminar un registro y además de enviar la petición al servidor eh elimino visualmente el elemento vale hago dos cosas a la vez en paralelo otra cosa que a veces se hace ya veremos más adelante es que hago un fetch Y si el servidor me dice okay lo he eliminado correctamente Entonces visualmente lo eliminamos en javascript ahora mismo No ahora mismo lo estoy haciendo a Palo Seco más que nada para que funcione para no complicar el código y a tiempo de complicar el código evidentemente siempre estamos Vale pues hoy hasta aquí en sistemas de gestión empresarial hemos avanzado bastante vale como veis pues hemos pasado de tener un login que teníamos hace dos días el día anterior teníamos una plataforma de aplicaciones Pues ahora hemos pasado a tener un pequeño crud donde podemos ir seleccionando tablas y podemos eh elementos y podemos eliminar y más adelante en próximos días Pues haremos la opción de insertar y luego la opción de actualizar y luego ejecutaremos ordenamiento por filas buscadores gráficas resúmenes informes y etcétera y todo lo que tiene esta asignatura vale con lo cual vamos a ver paro por aquí