Bueno pues anteriormente lo que hemos hecho es aprender los fundamentos de Java Entonces hasta este punto el trabajo con Java no es que resulte duro porque de hecho lo que hemos aprendido probablemente tampoco es a ver aquí vale tampoco es tan duro de aprender sino que simplemente lo que hemos aprendido hasta ahora Son un montón de cositas diferentes de las cuales haí veces que no sabemos muy bien exactamente Para qué nos sirven pero sirven entonces eh A partir de ahora a partir de este punto el objetivo es ahora que ya tenemos una cierta base de conocimiento es empezar a hacer aplicaciones empezar a hacer programas que tengamos digamos una idea más clara de Para qué nos van a servir que sus programas digamos esté claro Qué uso van a eh a proporcionarnos entonces dentro de lo que es el desarrollo de programas hay un tipo de programas que son las aplicaciones empresariales hay un chiste que probablemente Es malo y cruel y además Es un chiste poco preciso que dice que eh las aplicaciones empresariales tienen bases de datos y lo que no tenga base de datos es que no es una aplicación empresarial sino que es un videojuego cosa que tampoco es cierta porque de hecho hay una gran cantidad de videojuegos a día de hoy que llevan base de datos detrás vale por tanto eh y de hecho te voy a decir que el mercado de los videojuegos año a año de forma discreta cada año va moviendo muchos más millones más incluso que las aplicaciones empresariales vale pero En definitiva lo que queremos es continuar aprendiendo Java evidentemente porque hay fundamentos Que todavía nos faltan por aprender pero que el aprendizaje sea un poquito más y que el aprendizaje En definitiva Pues nos permita disfrutar un poquito más y comprobar que estamos haciendo algo digamos útil y práctico Entonces lo primero que vamos a hacer en el día de hoy es trabajar con un proyecto de Java en este caso va a ser proyecto Java 16 y voy a hablar voy a empezar a hablar de una cosa mu importante que es la persistencia es algo con lo cual Nosotros ahora mismo todavía no hemos trabajado nosotros lo que hemos hecho es que en días anteriores hemos aprendido a que el programa almacene datos de hecho empezamos con variables continuamos con matrices con lo cual hemos visto que tenemos formas de guardar grandes cantidades de datos y incluso mediante la introducción a la programación orientada a objetos tenemos que además hasta nos es posible guardar cápsulas donde cada cápsula tiene sus propias propiedades Pero qué es lo que ocurre cuando el programa se cierra Pues todos los programas que hemos hecho hasta ahora cuando el programa se cierra los datos se pierden cuando el programa arranca los datos se pueden volver a cargar pero cuando el programa finaliza los datos se pierden entonces podemos hacer datos o sea podemos que quería decir podemos crear programas que no tengan persistencia por ejemplo si yo abro la calculadora en Mac o en cualquier sistema operativo la calculadora pocas veces tiene persistencia es una aplicación donde tú haces un cálculo obtienes el resultado Y cierras la aplicación y la aplicación no guarda nada en ninguna parte hay casos por tanto como te digo en los que no se requiere persistencia Pero hay otros muchísimos casos en los que sí que se requiere que haya una existencia por parte del programa entonces a continuación lo que voy a hacer es ver la primera forma de trabajar con eh con persistencia entonces la primera forma de trabajar con persistencia es una de las formas digamos más cómo te diría yo más despreciadas pero sin embargo es de las más útiles que consiste en ser capaces de guardar en archivos lo primero de lo que te voy a hablar lo primero que te voy a decir es que en días anteriores he hablado de que Java es un lenguaje de programación que eh tiene algunas librerías precargadas pero otras no en este caso vamos a ver como la habilidad de cargar o de perdón de leer y de escribir archivos es una habilidad que no está precargada por defecto pero que viene dentro de la librería por defecto de Java Eso quiere decir que cualquier proyecto de Java por defecto o sea lleva digamos la librería unida lleva la librería asociada pero no cargada con lo cual lo primero que voy a hacer es cargar la librería y para ello hago lo siguiente para ello en la cabecera pongo import los imports a partir de ahora nos vamos a cansar de ellos ya verás y digo Java Eso quiere decir que la librería que voy a importar es bastante general en principio escribiría del tirón el nombre de la librería pero quiero enseñarte un poquito experimentar entonces pongo Java punto y espero un par de segunditos hasta que sale esto de aquí entonces claro veo que tengo Java applet java.awt beins input and output Java Language matemáticas conexión de red New input and output tengo seguridad tengo base de datos tengo texto tengo trabajar con tiempo y tengo utilidades a montones voy a empezar trabajando con input and output entrada y salida y a continuación lo que quiero hacer veo que tengo un montón de entrada y de salida entonces voy a la F y veo que tengo file entonces lo que quiero es file que me permite trabajar con archivos doble clic y punto y coma porque al final la importación de librerías Vale entonces claro yo lo que iba a hacer es escribir java.io file pero claro no quería escribirlo Así que tú dijeras bueno eso De dónde te hab sacado Vale pues lo que quiero es que tú veas como de hecho net beins que nos ayuda bastante Simplemente yo pongo un punto y me ayuda a saber qué es lo que quiero conseguir vale si hago esto Ahora mi programa de Java ahora conoce todos los métodos disponibles para trabajar con archivos Ahora va a ser posible que yo trabaje con archivos vamos a por ello bien Ahora a continuación lo que hago es lo siguiente voy a escribir file porque voy a crear una nueva instancia de un objeto ahora ya sabes queé es eso llamada mi archivo es igual a New F esta sintaxis la hemos visto anteriormente con esto lo que estamos haciendo es crear una nueva instancia de una clase llamada file claro esa clase yo no la he programado pero la he importado por tanto cuando estoy importando lo que estoy haciendo realmente es importar una clase que otra persona ha desarrollado las librerías realmente en gran medida son eso y por tanto no todavía hoy pero a futuro lo que debes pensar es que cada vez que programas una clase no solo puede servir para ese programa que estás desarrollando sino que la puedes reutilizar en otros muchos programas y esto que te acabo de decir es gran parte de la filosofía central de Java que es la reutilización Aunque entiendo que evidentemente tú ahora mismo todavía no estás pensando en eso tú estás pensando de bueno a ver Enséñame primero a hacer programas y luego cuando aprendo a hacer programas pues ya pensar en reutilizar pero es pronto para pensar en reutilizar si todavía no sé ni programar vale aquí nos está dando un error Por cierto Pero no te preocupes porque básicamente si pongo el ratón por encima me dice Mira no hay un constructor que por cierto ahora luego te explicaré que es esto del constructor Entonces me dice no es posible que me especifiques un nuevo archivo y que si leemos ahí ponía no arguments O sea no existe una sobrecarga de este constructor en el cual no lleve argumentos Entonces esto quiere decir que yo a continuación aquí dentro le tengo que especificar un archivo cuál Pues iba a poner mi archivo.txt pero tengo miedo de que llegues a la conclusión errónea de que el nombre del archivo tiene que ser igual al nombre de la variable y no tiene por qué ser así entonces vamos a ver vale entonces yo ahora lo que hago es poner archivo.txt realmente el punto txt es lo de menos es decir puedo crear un archivo siendo que sea un archivo de texto con la extensión que quiera no hablamos hoy todavía de archivos binarios ya hablaremos de Qué es eso de un archivo binario pero de momento lo que ocurre es que si yo ahora guardo y yo ahora recargo vamos a verlo le doy aquí a recargar vale Y yo ahora me voy al finder me voy a documentos me voy a netb Pro net vins nins no los veo vamos a ver me voy a inicio me voy a net vince projects no perdón claro me voy a curso Java bien me voy a Java 16 vale Y por aquí en build en alguna parte si no estará por aquí en alguna parte o si no lo que tendré que hacer es ejecutar el proyecto vale Sí vamos a Run vamos a build project Clean and build Vale y vamos allá ahora vengo por aquí me voy a Ahí está build vale Voy a dis bien Tengo un archivo txt Ok de momento no ha creado el archivo de texto ahora a continuación vamos a crearlo y aquí en test vale de momento nada muy bien ahora continuación yo lo que quiero es crear el archivo y lo que quiero es escribir algo de archivo dentro algo de texto Dentro de este archivo para ello voy a ampliar esta importación importando una librería que es la siguiente vamos a ver esto voy a empezar a comentar De hecho hay una línea roja aquí que es la línea que nos propone que pongamos ahí los comentarios importo la librería para abrir archivos y ahora importo java.io y por la i voy a cargar una cosa que es el io exception esta librería captura errores que se puedan producir al abrir archivos es curioso que son dos librerías diferentes me dice no la has utilizado unused import Pero no pasa nada es un Warning no es un error a continuación dentro de que en días anteriores hemos aprendido a trabajar con estructuras de control del flujo de la ejecución tales como por ejemplo las estructuras de bucle que son el for y el While y el do While y las estructuras de condicionales que son el If y el switch vamos a ver una estructura de control un poco diferente que es una estructura llamada try llave Catch o sea Catch paréntesis y llave entonces la estructura TR Catch Me da error porque requiere que ponga algo evidentemente vale la estructura TR Catch si lo traducimos un poco al Castellano es una estructura de intenta hacer algo y si no puedes hacer o sea si puedes hacerlo haz esto y si no puedes hacerlo haz esto otro la estructura tricats podríamos decir que se parece un poco a la estructura If Else si algo es cierto Haz una cosa y si no es cierto haz otra cosa pero funciona de una forma un poco diferente déjame un momento que ponga exception o io exception e cuando que dice e dice longaniza vale vamos a ver ahí qué me dices vale Class io exception Ok de momento bien he cargado esa librería Vale pues voy a meter esto aquí dentro y e punto vale no la ha cargado Ah es que lo he escrito mal Sí excep exception vale Ahora sí exception Is Never thrown vale Y ahora me dice estás llamando a un e exception pero si leemos el mensaje Dice Is Never thrown in the body of the corresponding try statement es decir básicamente esto traducido al Castellano es has llamado a una excepción para nada Entonces eso no puede ser vale Entonces yo digo por ejemplo e punto al poner e punto ahora sí me aparece todo aquello que puedo utilizar print stack trace lo que hace es imprimirme todo el error y ahora es cuando ya lo tengo una vez que tengo esto Una vez que tengo esto vamos a ver ahora me da es otro error Is Never thrown in Body of corresponding c momento y en principio ahora sí que lo tengo vale vamos a por ello un momento vale voy a hacer una cosa voy a probar a utilizar otra librería de lectura de archivos y si no lo que haré es sacarlo del tricats entonces para ello lo que voy a hacer es que en lugar de trabajar con file voy a trabajar con una que se llama file writer es decir tengo file reader y file writer en este caso quiero empezar trabajando con el escritor de archivos y para ello voy a mutear un momento esto Ahora lo volveremos a arrancar ahora lo volveremos activar pero de momento me lo dejo ahí bien y ahora dentro del proyecto dentro del método principal voy a hacer lo siguiente digo file writer mi archivo es igual a New file writer y digo que esto es archivo. txd Vale ahora a continuación lo que hago es si ya he cargado mi archivo vamos a ver file writer me dice que claro en este caso must be ced or declared es decir esto no lo puedes llamar directamente sino que lo tienes que meter dentro de una estructura trycatch Así que lo metemos en la estructura tricats Vale y o exception e Okay ahora sí vale Y ahora con la classe file writer ahí sí que funciona correctamente y ahora e punto tenía el print stack trace Vale ahora a continuación lo que hace el sistema es intentar escribir en el archivo y en el caso de que falle lo que hace es sacarme la razón por la cual ha fallado en este caso no debería fallar digo en este caso tal y como tengo configurado el ordenador ahora mismo pero claro la estructura de un directorio puede hacer que ese directorio esté protegido contra escritura y esa es una de las razones que pueden hacer que este programa falle si yo ahora en este caso a continuación le digo mi archivo punto veo que al poner punto aparecen diferentes métodos Uno de ellos es el método wr y dentro del wr yo puedo poner un String y dentro del String pongo Hola que sepas que esto se ha escrito desde Java quito esto porque ya lo tengo en funcionamiento el trycatch vale Y por último hay una cosa que es muy recomendable que es mi archivo Close hay una regla y esta regla no es de Java sino es de cualquier lenguaje de programación que dice que los recursos abiertos se tienen que cerrar Y eso quiere decir que cuando tú abras algo después de haber hecho lo que sea que tienes que hacer Tienes que cerrar el archivo Porque si el recurso se queda mal cerrado el recurso se puede deteriorar Entonces vamos a probar esto a continuación le doy a Play vamos a proyecto 16 vale vamos a verlo por aquí proyecto Java voy a hacer Clean and build vale Y si todo va bien y si todo va bien está haciendo el build ahora hace un último Java hard users José Vicente deop curso Java 16h y ahora me voy a donde pone el dis y observo en este caso que aquí en la raíz del proyecto tengo un archivo llamado archivo.txt y por tanto a continuación abro el archivo txt y dice hola que sepas que esto se ha escrito desde Java es decir ya tengo una forma de hacer que si yo ahora cierro Este programa incluso sabes que si cierro el ordenador y no lo vuelvo a abrir hasta el mes que viene el programa habrá persistido y cuando digo persistido quiere decir que los datos con los que trabaje los voy a poder guardar en un archivo de texto No digo que esta sea la única forma de persistir pero ahora veremos que es una de las más cómodas en cierto sentido ahora voy a comentar un poco el código y a continuación vamos a hablar de un par de cosas en primer lugar ura try primero intenta hacer algo abre un archivo le escribe algo de contenido cierra los recursos después de usarlos es una regla de la programación informática no solo de Java en el caso de que el try falle Dime en qué ha fallado esto el usuario final no lo ve únicamente el programador a través de la consola esto que acabamos de hacer para empezar estamos viendo que el try nos lo ha impuesto realmente el file writer esto es una metodología de programación que se llama programación defensiva lo voy a poner para que veáis que de hecho incluso existe una página en la Wikipedia porque cuando yo hablo de programación defensiva la gente se cree que me estoy quedando con ellos se cree que me estoy pegando el moco y no es así la programación defensiva existe entonces la programación defensiva y os pongo Ahí la página de la Wikipedia para que si queréis podáis profundizar más acerca de este concepto básicamente consiste en asumir que lo que haces puede fallar O sea no por culpa no porque tú hayas programado algo mal sino porque por ejemplo en el momento en el que programamos algo en el sistema de archivos Pues el sistema de archivos puede fallar nos puede dar denegado y si nos da denegado pues no dejará escribir el archivo pero no es porque hayamos programado mal el programa sino porque el sistema de archivos no se deja escribir ent la programación defensiva consiste en asumir que van a haber problemas y consiste en preparar al programa para cuando hayan problemas qué es lo que ocurriría si qué es lo que ocurriría si yo no pusiera este TR Catch pues si yo intentara ejecutar este código lo que ocurriría es que si esto fallara insisto no por culpa mía sino por que el sistema de archivos por ejemplo estuviera en modo solo lectura lo que ocurriría sería que el programa atención esto es muy importante el programa daría error y el programa se cerraría porque el programa habría dado error O sea tú fíjate qu traumático vale que tú tengas un programa imagínate el Word vale o sea el Word que usamos todos y tú le digas al Word que intente escribir en una carpeta y por lo que sea esa carpeta se solo lectura y el Word diga no puedo escribir esta carpeta y me cierro y tú dirías eh tío no O sea no puedes guardar en esa carpeta Vale pero no te cierres o sea dime que no puedes guardar en esa carpeta y dame la opción a guardar en otra carpeta Vale pues esta es la metodología del trycatch consiste en intentar hacer algo y si no te sale No cierres el programa sino dime porque qu no te ha salido y continúa ejecutando el programa eso es la programación defensiva y como veréis la programación defensiva si os fijáis es muy buena idea porque hay que tener en cuenta una cosa y es que Java eh deriva de el lenguaje de programación c esto lo hemos hablado en clases anteriores el lenguaje de programación c se creó en 196 9 Entonces quiero que os hagáis una idea de cómo eran los ordenadores en 1969 es decir tú te vas hoy a comprar un ordenador a una tienda y hay literalmente centenares o miles de modelos diferentes de ordenadores entre los cuales puedes elegir Y encima cada uno tiene su ordenador de una forma diferente configurado en el 69 no había miles de modelos entre los que elegir habían dos o tres modelos y ya vale entonces no había el concepto de Oye prueba y si falla porque el que manejaba el ordenador sabía si se iba a poder escribir un recurso o no pero Java es un lenguaje creado en los 90 Cuando ya tenemos informática doméstica y cuando ya existe el concepto de que cada ordenador es diferente de los demás Por tanto la programación defensiva Viene un poco a prever este caso vale Viene un poco a asumir el sistema el lenguaje de programación tú como programador asumes que tu programa puede fallar no debido a tus errores sino debido a un entorno muy cambiante y preparas al programa para que falle Vamos a continuar ahora viene una parte muy delicada del curso y es que eh si os fijáis en la en el momento en el que se anuncia este curso eh se indica que si bien esta formación no es una formación específica de bases de datos con sql pero sí que es una formación que lleva bases de datos en sql con mysql vamos a ver por qué vamos a analizar por qué lo que yo acabo de hacer aquí es eh leer un archivo y ahora a continuación de hecho por cierto no puede acabar esta parte sin hacer otra cosa que es leer del archivo Vale entonces yo ahora a continuación lo que voy a hacer es en este caso leer del archivo vamos a por ello a continuación vamos a ver a continuación voy a hacer lo siguiente file voy a decir Eh mi otro archivo para que veas que es otro tipo de variable es igual a New file y voy a cargar ahora archivo.txt digamos que o sea la parte de arriba es un programa y la parte de abajo es otra pero lo voy a hacer en el mismo proyecto así como Generalmente suelo abrir un proyecto en este caso lo voy a hacer en el mismo por qué Pues porque veo que primero haya un archivo para luego poder leer evidentemente Por cierto da importación porque he importado file writer pero no he importado file una cosita Yo sé que ahora puedo venir aquí arriba y poner import Java I o. file o puedo lo voy a enseñar Pero no quiero que os acostumbré o puedo pinchar aquí en el error y al pinchar me da soluciones y una solución es importar java.io file entonces pincho y pum me lo importa vale O sea quiero que sepáis que eso existe Pero no quiero que os acostumbré es como sacarte carnet de conducir y hacer las prácticas en un coche automático es como a ver no O sea ha una prácticas en un coche con marchas que no sea que me malacostumbre al automático y luego resulta que siempre que pongo Este ejemplo Hay algún alumno que me dice no es que ahora los carnés son diferentes es que hay un carnet para automático y otro para manual Yo siempre digo Jer no sabía vale esto en mi época no existía Pero en fin entonces vengo por aquí y ahora digo lo siguiente lo que quiero es leer del archivo vale lo que quiero es a continuación ser capaz de leer del archivo Entonces vamos a ver y ahora vengo y digo lo siguiente vamos a ver mientras que mi mitro no es mi otro archivo Mientras que mi otro archivo pongo un punto para ver qué tiene ese esa variable y hay un método que realmente Aquí está es por la h a ver por la H un momento voy a filtrar No mi otro archivo voy a hacer una cosa Ah muy bien vale voy a decir Scanner lector es igual a New Scanner mi otro archivo claro qué ocurre que el programa dice esto de scanner Qué es pues ór me Scanner vale es una utilidad que lleva Java Vamos allá ahora Ok vale must be cocked or decare to be throne esto quiere decir que lo tengo que meter en un try Catch try un momento que esto me lo he dejado a mitad Catch i exception e y e punto print stack trace io exception vale Voy a dejarlo así vale aquí en el mi otro archivo si ahora hago esto Estoy buscando que tenga un método llamado Hash next Line es del lector has next Line ahí lo tenemos vale vamos a ver io exception cre no la x es mayúsculas es minúsculas vale e punto print stack trace Ok y ahora esto lo que hace es que el bucle Wi un momento que aquí está este While viene aquí Mientras que el archivo tenga una siguiente línea esto es porque en este caso nuestro archivo tiene una única línea pero podría tener muchas líneas Vale pues en ese caso por ejemplo voy a hacer algo muy sencillo System y lo que voy a hacer en este caso es decir vamos a ver pues lector punto y vamos a ver next l no vamos a ver next l next Line Ahí está vamos a verlo y ahora comento el código TR Esto va Aquí estoy sangrando para ve directamente le doy a Play vale Y por una parte escribe el archivo Pero por otra parte Le vamos a ver primero intento hacer algo Luego abro un archivo Leo el contenido del archivo y digo Mientras que el archivo tenga líneas de texto imprímeme la línea actual en la pantalla en el caso de que de error de lectura en ese caso Dime en qué ha consistido el error en este caso Sí que puedo dar una un error falso que es este que es voy a abrir el archivo 2.txt A ver si eso me da error el error va a ser muy evidente y es que no existe el archivo 2 txt por tanto voy a intentar leer de un archivo que no existe Así que a continuación le damos a Play y al darle a Play si os fijáis aparece un file not Found es decir aparece que e he intentado Llamar archivo 2.txt y no existe ese archivo además curiosamente si quito el eprint stack trace Y le doy otra vez a recargar veréis que da error pero no dice nada o sea lo que quiero que veáis es que el error que aparecía Precisamente lo devuelve esta línea o sea lo he querido devolver yo en pantalla y evidentemente ya como desarrolladores leyendo el error podemos tener una idea bastante aproximada de qué va el error vale Bueno pues vamos a continuar ahora como os digo desde el punto de vista de la programación Especialmente cuando empiezas a programar parece que guardar cosas en archivos es algo muy cutre es una forma muy cutre de persistir y sin embargo si os fijáis a vuestro alrededor tenéis constantemente montón tenéis infinidad de programas que guardan en archivos a ver un segundo disculpadme un segundin Vale pues en principio parece que cuando vamos a programar cuando vamos a crear programas parece que es más profesional trabajar con una cosa que se llaman bases de datos en cualquier formato en este caso vamos a trabajar con una base de datos llamada mysql Ahora veréis que trabajar con bases de datos tiene ventajas y tiene desventajas la ventaja es que evidente e innegablemente las bases de datos son más potentes que guardar en un archivo de texto Pero cuidado lo primero y Esta es una dificultad con la cual os vais a enfrentar pero yo os voy a hacer que digamos que no os tengáis que enfrentar a ella pero lo primero que necesitamos para poder conectarnos a una base de datos es un servidor de bases de datos entonces Y esa dificultad no es moco de pavo lo que vamos a hacer en primer lugar es que os voy a enseñar la forma más sencilla que conozco de instalar una base de datos en este caso eh lo que voy a hacer es recomendaros un software que se llama eh si estáis en Windows se llama shamp lo tenéis aquí en esta página que se llama apach apachefriends.org y tenéis el shamp disponible tanto para Windows como para Linux como para Mac en principio solo lo recomiendo para Windows si estáis en Mac recomiendo un software muy parecido que se llama mamp digamos el shamp es común vale Yo tengo por aquí este Software que se llama mamp que es como el shamp pero para Mac Y si estáis en Linux se suele trabajar con línea de comandos Entonces yo suelo recomendar cuatro o cinco líneas de comandos que te instalan algo muy parecido al shamp pero en Linux Vale entonces qué es lo que hace el shamp para Windows o para lo que sea Pues lo que hace es que nos instala de una forma automatizada y sencilla un montón de programas entre ellos un servidor de bases de datos y el acceso a las bases de datos Entonces descargaros el shamp instalar el shamp tarda un poquito tanto en descargarse como sobre todo en instalarse tarda unos cuantos minutos le podéis dar a siguiente siguient es un programa de confianza Entonces cuando lo ejecuté veréis que yo voy a arrancar en este caso el mamp veréis que sí una de las cosas que tiene el shamp o el mamp es que tiene una herramienta que está aquí en complementos o está aquí Ah no perdona eh lo tengo aquí en aquí se me ha abierto en esta pestaña vale tiene una herramienta que es php my admin Es una herramienta de gestión de bases de datos Entonces en este caso el mamp si estáis en Windows es el shamp no solo me ha instalado un servidor de bases de datos sino que además me ha instalado esta aplicación que me permite gestionar las bases de datos yo en este caso tengo aquí una serie de bases de datos de proyectos que he estado haciendo última nuevamente en este ordenador voy a hacer un poco la letra más grande para que me podáis ver bien vale Y a continuación aquí lo que vamos a hacer es conectarnos a una nueva base de datos claro Fíjate que ya hace un momento que estamos fuera de Java y a continuación vamos a quedarnos todavía un rato más fuera de Java y nos vamos a quedar dentro de mysql así que cuando entremos en php My admin generalmente la forma de entrar en php My admin porque igual decís Oye es que a mí no me ha salido la cosa esta que a ti te ha salido con el desplegable No pasa nada vosotros ponéis local Host aquí en el aquí en la URL de un navegador ponéis local Host en mi caso 2.8888 en vuestro caso si estáis en Windows Generalmente no hay que ponerlo de 888 8 y ponemos php my admin y simplemente haciendo eso le damos a enter y entramos en una interfaz parecida a esta puede cambiar un poco los colorines igual en vuestro caso los botones son un poquito más bonitos y los colores más claros pero da igual al final es lo mismo y a continuación lo que vamos a hacer en primer lugar es crear una base de datos para que nos podamos Conectar a ella Vamos a ver un momento para que nos podamos Conectar a ella Desde nuestros programas en Java y claro evidentemente a continuación iremos a Java para conectarnos una base de datos veis que esto de conectarnos a base de datos en principio ahora veréis que es más Pro pero ya de entrada es más difícil o sea sí cuando estás trabajando en shamp para poder editar tu base de datos en mysql trabajando en el shamp tienes que arrancar Apache y tienes que arrancar mysql la pregunta que tú sería Por qué tengo que arrancar a pache que es un servidor web cuando yo lo que quiero no es hacer una web sino que lo que quiero es editar una base de datos Pues porque mysql es un servidor de bases de datos pero php my admin es una aplicación que se utiliza a través de una web y por tanto tienes que arrancar Apache para que php my admin funcione Así que efectivamente tienes que arrancar tanto Apache como mysql Y entonces es cuando puedes ir a localhost y es cuando puedes poner localhost bar php my admin y confirmar que accedes correctamente a esta interfaz de administración O al menos a una interfaz parecida vale entonces ahora es cuando vamos a pinchar en crear una nueva base de datos y a continuación voy a crear una nueva base de datos aquí la tenemos en vuestra pantalla eh la maquetación de los campos puede variar un poco porque hay diferentes versiones de phm admin pero básicamente es lo mismo es bastante similar Vale entonces yo ahora a continuación lo que voy a hacer es lo siguiente incluso eh voy a hacer una cosa voy a hacer una cosa y es que me voy a bajar un php my admin nuevo voy a bajar un php my admin actualizado para que se parezca lo máximo posible al vuestro y así eh Pues digamos no tenéis que ir compar ando a ver que el mío se parezca al tuyo y tal sino que voy a intentar que el que yo tenga instalado el que yo use se parezca lo más posible al que tengáis en la pantalla para ello voy a me he bajado un php my admin actualizado vale Okay me lo voy a me lo voy a pasar a la carpeta mamp htd dónde estás vale un segundo lo voy a llamar lo voy a llamar my php o voy a llamarlo php my admin 2 y ahora vengo por aquí y digo local Host php my admin 2 y si todo va bien ok vale si todo bien aquí me sale esto y ahora me confirmaré si el que estáis viendo en vuestra pantalla es mucho más parecido a este que tengo aquí tanto en colores como en el grafismo de los botones como un poco en el rollo estético en general de hecho si me voy a pinchar Nueva me confirmaré si lo que tenéis en delante de vosotros es prácticamente igual a lo que tengo yo bien Enton entonces eh la me he instalado este phm admin más que nada para demostraros que podría haber trabajado perfectamente con el otro porque básicamente hacen lo mismo o sea la única diferencia Es que la digamos la estética en el otro está un poco desfasada y en este es más nueva pero por un tema de comodidad y por un tema de aprendizaje pues evidentemente vamos a trabajar digamos con un phm admin que se parezca lo máximo posible al vuestro bien en primer lugar vamos a crear una base de datos en este caso se va a llamar curso Java y lo que vamos a hacer a continuación es elegir una colación la colación es un concepto difícil de entender en principio por defecto tenemos utf8 general eh la colación es lo que me permite por ejemplo especificar que yo voy a guardar caracteres tales como por ejemplo acentos y eñes en mi código y diríais bueno eso es lo que se entiende por defecto y yo os digo que no por ejemplo para una persona anglosajon los acentos y las eñes es son los caracteres más raros del mundo de la misma forma que para nosotros el alfabeto cirílico es un alfabeto bastante extraño pero sin embargo para una persona que por ejemplo Viva en Rusia os dirá que este alfabeto es lo más normal del mundo y no digamos ya idiomas orientales entonces la colación básicamente nos permite especificar Qué tipo de caracteres y veis que hay muchos porque hay muchos países en el mundo hay muchos sistemas de escritura qué juego de caracteres vamos a utilizar por defecto está seleccionado utf8 general que quiere decir que soporta todos aquellos caracteres que provengan sobre todo de países de Europa occidental ahora veis que tenemos codificaciones tales como por ejemplo checo croata danés en esperanto no se usa Pero bueno está ahí eston alemán húngaro islandés latvian acuerdo lituano no letonia Letón lituano persa vale Y tenemos también por aquí un spanish y un spanish 2 que es español moderno y español tradicional en este caso por ejemplo vamos a utf8 spanish ci pincho le doy a crear y ahora mismo mi base de datos veis ahí aparece a la izquierda mi base de datos curso Java ya está creada a continuación ahora me dice sí tienes una base de datos pero no se han encontrado tablas en la base de datos y una base de datos sin tablas pues no hace realmente mucho entonces voy a crear una tabla llamada agenda a la cual por defecto le voy a poner cuatro columnas esto es un poco lo de menos vale de momento vamos a poner cuatro columnas más adelante hablaremos de Por qué cuatro columnas y no más o menos o lo que sea entonces voy a continuar y al pulsar sobre continuar aparece la nomenclatura de las cuatro columnas voy a hacer lo siguiente voy a ir explicando paso a continuación lo que voy a hacer que la primera columna se llame identificador a continuación se me pide el tipo de dato va a ser un número entero va a ser una pequeña cadena de caracteres va a ser una gran cadena de caracteres o va a ser un campo de fecha estos son los cuatro tipos principales luego Tenemos un montón más de tipos a continuación pero por defecto voy a decir que va a ser un número entero Cuál va a ser la longitud Generalmente suele poner 255 pero esto quiere decir que ese campo me va a admitir 255 caracteres o sea esto quiere decir que yo podré meter como te diría yo como un número uno y 255 ceros detrás imagínate ese número es gigantesco vale en este caso estamos poniendo muchos más números de los que necesitamos y ahora en cada Table en cada tabla de una base de datos debería haber un campo identificador primario esto quiere decir que yo voy a decir que este es un índice primario acepto la ventana que va a salir a continuación hacendo tal cual como viene y le voy a decir que este número es autoincremental esto qué quiere decir pues que este campo se convierte algo así como en el dni de la tabla es un campo que va a tener un número irrepetible y que va a identificar el registro y el y Se incrementa solo debido a que ha activado este parámetro llamado autoincremental que una clave sea primaria no quiere decir que sea autoincremental pero en este caso lo más cómodo Es que yo le ponga autoincremental para que la base de datos se encargue ella automática y no yo de tener que ir incrementando el número a continuación vamos a poner los nombres de los campos por ejemplo voy a poner el nombre voy a poner el teléfono y voy a poner el email entonces claro el nombre por ejemplo es un barch el teléfono es un barch el email es un barch Aquí la gente me suele preguntar Bueno entonces Cuál es la diferencia entre barch y text yo decir si el texto es una forma de verlo pero eh Como vemos aquí por ejemplo una cadena de longitud variable de 0 a 535 digamos vale 535 caracteres Mientras que el text a ver si aquí eh guarda hasta 65.000 caracteres yo suelo decir para entenderlo más fácilmente si el texto que vas a guardar tiene la longitud de un párrafo o menor es un marchar Y si el texto que vas a guardar tiene longitud de un párrafo o mayor es un text entonces nombre evidentemente es un párrafo o menor voy a poner 255 caracteres Aunque evidentemente un nombre tendría menos de 255 caracteres pero así digamos pongo un valor con el cual de momento pueda trabajar sí el campo marchar realmente soporta una cadena de caracteres alfanuméricos Eso quiere decir que soporta mayúsculas minúsculas números caracteres extraños como el dólar la barra el porcentaje y todo esto mientras que un campo int solo soporta números enteros de hecho solo enteros ni siquiera con decimales si quiero irme a decimales veo que aquí tengo un grupo numérico y dentro del grupo numérico tengo una serie de cosas también Vale entonces en este caso varchar lo utilizo para ahí poder poner lo que quiera teléfono lo he puesto como marchar Pero y si en el teléfono alguien me pone el prefijo con paréntesis y más pues ya no sería un número entero o y si me separa los números con guiones pues ya no sería un número entero y es por esto que para poner teléfono también lo pongo con un marchar realmente esto que acabo de hablar tiene que ver con una cosa que es en filosofía de la programación se llama eh el control de las entradas y es que tú dirás Bueno si alguien te mete un teléfono la gente te meterá el teléfono en el formato que tú quieras que la gente te meta el teléfono Pues sí eso es cierto vale estoy asumiendo un caso en el que no hubiera ningún tipo de filtro ni ningún tipo de control al meter la información en el programa y meterlo ahora directamente dentro de la base de datos Bueno pues dicho esto y sin profundizar de momento todavía en los tipos de base de datos que tengo en los tipos de motor que tengo voy a darle a guardar tras lo cual podemos comprobar que en curso de Java Ahora hay una tabla llamada agenda y ahora dentro de la tabla agenda evidentemente todavía no hay ningún registro lo que voy a hacer a continuación es crear nuevos registros para qué voy a crear nuevos registros para luego leerlos con Java Es más no voy a crear nuevos registros de forma manual voy a dejar que los cree Java y así nos conectamos ya desde nuestro programa en Java Pero hay un pequeño problema y El pequeño problema que tenemos para poder conectarnos a Java es que hemos creado una base de datos pero no hemos creado todavía un usuario que se pueda Conectar a nuestra base de datos Así que es lo que voy a hacer a continuación bien como decía tengo una base de datos tengo una tabla creada en la base de datos pero no me puedo conectar a esta base de datos hasta que no tenga un usuario con permisos Entonces lo vuelvo a repetir con respecto a antes fijaos la cantidad de Pues eso de pasos que tengo que dar para conectarme a una base de datos es mucho más fácil ha sido mucho más fácil crear un archivo ahora a continuación me vengo por aquí me voy al curso Java aquí arriba veo que tengo un botón llamado privilegios pincho en el botón privilegios veo que hay unos usuarios que ya tienen acceso a esta base de datos pero yo quiero crear uno nuevo Así que vengo aquí abajo a agregar cuenta de usuario pincho nombre de usuario eh voy a llamarlo para no complicarlo voy a hacer una cosa que evidentemente no es nada recomendable desde el punto de vista de la seguridad pero ahora mismo la seguridad no nos preocupa demasiado lo que nos preocupa es la facilidad queremos conectarnos y que el programa no nos de millones de errores entonces pongo curso Java como Nombre de usuario nombre del Host es local Host y contraseña voy a poner también curso Java la tengo que repetir sé soy consciente de que me está diciendo que la fortaleza es extremadamente débil Por qué Porque he puesto la misma contraseña que el nombre de usuario que a la vez es el mismo nombre de la base de datos o sea básicamente esto si fuera una base de datos real en producción es como decirle a un hacker hackéame por favor vale pero ya sabemos que lo estoy haciendo porque esta todavía no es una base de datos publicada en producción esto es una base de datos en nuestro ordenador para probar para aprender a trabajar y lo que queremos es minimizar las probabilidades de error dicho esto otorgo me aseguro que está marcado esto de otorgar todos los privilegios para la base de datos curso Java no acepto ningún privilegio global lo que quiere decir asignar privilegios globales Aunque parezca que no y le doy a continuar y si he hecho esto no quiero guardar la contraseña Y si he hecho esto okay Ahora a continuación ahora sí le doy a continuar para asignar los privilegios okay Y ahora en curso Java no sé si conoces el cuento de Hansel y Gretel que son los dos niños estos que iban dejando amigas de pan para luego saber cómo volver de nuevo a su casa aunque también hay que decir que no s porque en informática lo llaman migas de pan cuando en el cuento A Hansel y gret los pájaros se les comieron las migas de pan luego no les funcionó muy bien el truco pero sin embargo en muchos sistemas informáticos existe el concepto de migas de pan que puedes ver aquí arriba Entonces si yo por ejemplo entro en agenda Fíjate que arriba las migas de pan me dicen que yo estoy en el servidor local Host y dentro del servidor local Host estoy en la base de datos curso Java y dentro de la base de datos curso Java estoy en la tabla agenda entonces puede ocurrir que por lo que sea estés aquí en el servidor y dentro del servidor le des ahí a usuarios o privilegios Y entonces ahí encuentras de usuario Y entonces te da error entonces para crear un usuario con privilegios lo que tienes que hacer es pinchar en curso Java y asegurarte en las migas de pan que allí arriba pone servidor local Host y base de datos curso Java Y entonces entrando en privilegios y asegurándote que todavía pongo ahí curso Java es cuando creas el usuario ya que si no si lo haces en cualquier otra parte puede dar error si creíais que la dificultad había acabado Lo cierto es que no lo cierto Es que no ha hecho más que empezar porque nosotros ya tenemos una base de datos que tiene una tabla que si nos vamos a privilegios tenos un usuario Con permiso para acceder a esa base de datos pero ahora tenemos que conectar esa base de datos con Java y hay una cosa muy curiosa Y es que y os vais a reír pero php my admin o lo que es lo mismo mysql es una base de datos de Oracle Java es un lenguaje de programación de Oracle netbeans es el entorno oficial que te recomienda Oracle O sea no estoy yendo a herramientas raras estoy utilizando las herramientas más estándar que yo podría utilizar y aún así tengo que descargar el conector de mysql desde la página oficial de mysql porque no viene con netbeans entonces voy a hacer lo siguiente voy a ir a crear nuevo proyecto voy a crear un Java application va a ser un proyecto Java 17 y a continuación me voy a Google abro un navegador web abro un navegador y busco en Google mysql Java connector y me voy a esta página que es de. mysql puedo ir aquí o puedo ir aquí es lo mismo exactamente vale voy a el oo o el cinco da igual vamos a verlo daos cuenta que estoy en de. mysql.com O sea no estoy en una página rara de por ahí que me estoy descargando algo extraño O sea me estoy descargando el conector original entonces eh se recomienda el instalador para Windows pero yo justo en este caso no tengo Windows entonces Select operating System en este caso voy a el llamado platform independent es decir quiero uno independiente de la plataforma y me bajo cualquiera de estos dos este el platform independent independiente de la plataforma sirve para Windows para Mac y para Linux me lo puedo bajar en tar o me lo puedo bajar en zip si no sabéis cuál Descargar el de zip porque seguro que en vuestro ordenador podéis descomprimir archivos zip pero depende del Software que tengáis de descarga o descompresión Perdón igual no podes Descargar descomprimir archivo Star entonces me descargo el ZIP eh Me dice en este caso no Thanks Just Start my Download No gracias solo arranca simplemente eh arranca mi descarga Me lo bajo al escritorio es un archivo hard es un archivo hard dejadme que lo meta en el curso Java y lo que voy a hacer ahora es doble clic en mi caso doble clic para descomprimir y veo que aparece un archivo una carpeta llamada mysql connector y aparece un archivo llamado mysql connector gu o sea sql gu connector gu Java y la versión que sea en este caso 8.0 pun lo que sea que ocupa dos cas este archivo jar es compatible tanto con Windows como con Mac como lo que sea lo primero que tengo que hacer por tanto es cargar este archivo dentro de net vins Y eso hay varias formas de hacerlo la primera de ellas es la siguiente voy a hacer clic con botón derecho dentro de proyecto Java 17 y me voy a ir o bien a set configuration o bien a properties en este caso vamos a ir a properties propiedades del proyecto se abre una ventana con las propiedades del proyecto donde veo que hay libraries entonces libraries en este caso me permite Añadir librerías veo que le puedo Añadir un hard o un folder entonces pincho ahí donde pone libraries pincho a Añadir un archivo hard en este caso me voy a eh José Vicente me voy a escritorio me voy a curso de Java me voy a mysql connector y cargo el mysql connector cuidado está en una ruta absoluta Eso quiere decir que si lo pongo en esa carpeta no debo cambiarlo de carpeta porque si lo cambio de carpeta dejará de funcionar Entonces le doy a seleccionar Y en este caso lo que tengo es que ya tengo cargado por aquí el conector de Java y por tanto ahora le daré a Ok y ya puedo aquí poner lo de import mysql no sé que no sé cuántos pero claro es que si pongo un import mys no sé cuántos y no he importado realmente previamente la librería el programa no sabe dónde va a encontrar esa librería vale no vale ahora a continuación vamos a hacer lo siguiente de la misma forma que un archivo requiere el que tenga en este caso el TR Catch una conexión a una base de datos por el mismo motivo Exacto requiere lo mismo y es que ponga un try Catch pongo un trycatch Quiero una exception e lo cual quiere decir que necesitaré cargar la excepción en este caso parece que no le ha hecho falta voy a poner un e print St trace vale Y ahora dentro del try lo primero que voy a hacer es decirle al sistema el Driver que quiero utilizar debido a que he importado esa librería voy a poner Class y entre comillas voy a poner comto mysql jdbc Driver punto y coma para finalizar por supuesto y aquí lo que estoy haciendo es decirle al sistema que voy a utilizar el driver de conexión a la base de datos que he cargado en la librería de proyecto vamos a puls Play simplemente para aquí para confirmar error en este caso eh cuidado porque esto que estoy viendo me aparece a mí porque he cogido la última versión y esto de aquí eh No es un error es un Warning Vale entonces aunque parece Aunque está de color rojo simplemente lo que me está diciendo es ten cuidado porque la nueva forma de llamar al Driver es com. jdbc Driver si yo pongo por ejemplo CJ y vuelvo te cuento vamos a ver en mi caso me ha dado ese waring porque yo me he descargado la versión 8 del Driver si tú te has descargado la versión 5 del Driver que es más antigua no dará error porque todavía esta era la forma correcta de conectarse pero que te lo vuelvo a decir que Aunque parezca de color rojo es un Warning no es un error Por tanto podría con la versión 8 y de hecho voy a continuar y a ver si luego Igual me bajo la versión 5 y podría continuar perfectamente únicamente es que me dicen cuidado porque en la versión 8 todavía te lo admitimos Pero igual el año que viene sacamos la versión 9 y ya no es compatible del todo vale entonces es simplemente un poco por seguridad ahora a continuación necesitamos ahora establezco la conexión y por tanto voy a poner connection conexión ya sabes lo que está en inglés lo que está en castellano puedes poner lo que quieras pero sin acentos por favor y pongo Driver manager punto get connection y aquí aparece en este caso la URL el usuario y el password lo tenemos todo ahí de hecho digamos la sintaxis nos está archivando lo que se espera de nosotros la URL es atención jdbc dos puntos barra mysql dos punos barra Perdón aquí no van barra van Solo dos puntos y pongo local Host barra y el nombre de la base de datos curso prueba en mi caso particular en tu caso puede ser que no sea necesario hacer nada más en mi caso particular dónde está No pasa nada si no te da la opción ponlo manualmente y verás có cómo sí que te deja en puertos el puerto mysql que tengo yo es el puerto 88 9 Pero si tú estás trabajando en Windows con el shamp el puerto que tendrás es el 3306 que es correcto Vale entonces yo voy a poner local Host 2. 8889 en tu caso tal vez tengas que poner dos pun 3306 voy a hacer una cosa voy a ponerme yo como estarás tú y entonces voy a reiniciar el voy a reiniciar el servidor y así de esta forma digamos lo que tendré yo es lo que tendrás tú vale aquí quitamos el 888 Confirmamos que me conecto correctamente correcto vale Y entonces ahora aquí le pongo 3306 pongo lo mismo que pondrás tú ahora en user pongo curso Java y en password pongo curso Java Acuérdate que si por lo que sea te ha fallado la creación del usuario ahí puedes poner Root y Root que suele ser el que viene por defecto tengo un error y es que me dice que para usar conexión tengo que haber importado la clase connection en la librería connection quiero decir entonces pincho importo java.sql connection y compruebo como de momento ya no da error ojo ya no error de conexión de que no exista ese objeto Igual me da error al intentar conectarse No lo sé vamos a probarlo de momento Esto es algo que hay que hacer muy pasito a pasito Porque en cada pasito podemos fallar nos puede dar un error diferente entonces le doy a Play bien Y en este caso ha fallado Y si ha fallado aquí lo que vamos a hacer es aparte de esto de aquí vale me dice en el vínculo de comunicación el Driver no ha recibido paquetes de el servidor voy a probar De todas formas con la versión Ok momento vamos a ver vale muy bien Vamos a ver local Host curso prueba voy a bajarme la versión 5 Vale Voy a bajarme la versión 5 para ello me voy a la versión 5 quiero el platform independent quiero el ZIP descárgamelo en curso Java el 51 descomprime el 51 y una cosa que puedo hacer por cierto no hay ningún problema es en propiedades del proyecto puedo en libraries quitar la librería que había llamado anteriormente y Llamar a otra librería y no hay ningún problema Por ello entonces me cargo el cco es este de aquí vale No pasa nada y Sí cámbialo pon el cinco Vale ahora vamos a ver me dice que hay un fallo en la comunicación y ahora a continuación vamos a ver cuál puede ser voy a probar un momento vamos a verlo a ver tengo aquí curso prueba efectivamente no es curso prueba es curso Java sin embargo Parece ser ese el error parece que sea otro tipo de error vamos a ver sí y lo que me dice es que en principio el Driver no ha recibido ningún paquete del servidor es decir en principio parece como que el servidor No acepte mi conexión entonces puede tener más que ver con que no me deje conectarme desde otra cosa que no sea mamp a otra cosa Vale entonces poco con comprobar que a vosotros sí que os funciona realmente a mí ya me vale ahora lo que voy a hacer evidentemente es ver qué pasa en mi ordenador que por lo que sea mysql está incomunicado a ver un momentín estoy comprobando que todo está bien Estoy comprobando que todo lo tengo igual así que sí Okay pues Hala Vamos allá vale lo que hecho para que funcione Es simplemente en el mamp lo he devuelto en mi caso en preferencias a los puertos que venían por defecto donde el puerto mysql era el puerto 8889 y fijémonos que si pongo local Host 8889 directamente le doy a Play y funciona la conexión luego en este caso no es un problema de Java sino es un problema a todas luces de que en mi ordenador el puerto 3306 que es el puerto por defecto para Maya sql debe estar cerrado por algún motivo entonces como ahora tampoco quiero perder tiempo de esta formación indagando a ver en qué parte de mi ordenador la conexión está bloqueada prefiero devolverlo al puerto 8889 y continuar trabajando tengo un Warning pero recordemos que aunque esté de color rojo me dice que eh es un Warning es una advertencia y además es una advertencia con respecto a protocolo seguro a ssl O sea que nada vale simplemente paso de esto de por aquí ahora continua lo que quiero hacer es Conectarme a la base de datos y pedirle algo a continuación voy a hacer lo siguiente vamos a ver preparo una petición a la base de datos Y entonces digo statement m petición ya sabes que lo que está en inglés tiene que estar en inglés y lo que está en castellano puedes poner lo que quieras es conexión punto y voy a poner create statement y ahora a continuación lo que voy a hacer es pedirle algo cuidado en este caso porque lo que va a decir es que si quiero usar statement tengo que importar statement pincho aquí y añado una importación para java.sql statement y pincho Ya sé que el que parece correcto es el segundo pero realmente el correcto es el primero y entonces Ahora vengo por aquí y digo petición punto y voy a ejecutar un execute query ahí lo tenemos donde se requiere que ponga un String sql y el String gql que voy a poner y ahora es donde la formación se complica un poquito va a ser la siguiente insert vales eh paréntesis coma porque había tres valores null y voy a poner Pepe el teléfono no voy a poner Juan porque tiene que empezar por J el teléfono 1 2 3 y 4 y el correo electrónico Juan @correo.com tengamos en cuenta y recordemos que el si fuera pongo comillas dobles es porque dentro voy a poner comillas sencillas la razón por la que esto se acaba de complicar un poquito es porque todo lo que hemos hecho hasta ahora es eh Java Pero esto de aquí es sql es el lenguaje eh llamado sql concretamente mysql Entonces estamos mezclando dos lenguajes de programación a la vez cosa que es un poco incómoda pero en este caso no queda más remedio de hecho Java para ser puristas Java es un lenguaje de programación mientras que sql es un lenguaje de peticiones a base de datos no es un lenguaje de programación como tal supuestamente Aunque realmente sí que lo es pero bueno básicamente voy a poner eso más adelante hablaremos de la sintaxis que he puesto pero de momento tenéis que poner exactamente esto que he puesto porque lo que hace es que inserta dentro de la agenda los valores nul porque recordamos que ya se encarga el programa de incrementar automáticamente los índices el nombre el teléfono y el correo electrónico Entonces si esto va bien si esto ha sido correcto a continuación le doy a Play vale en este caso me dice no puedes poner manipulación de statements con execute query Entonces no pasa nada lo que voy a hacer es utilizar execute vamos a utilizar execute directamente entonces haciendo esto vemos que ha funcionado correctamente ahora cuento El porqué de execute y execute query Pero antes de ello lo que quiero es meterme dentro de la base de datos Quiero meterme dentro de la base de datos y quiero confirmar si es cierto o no quiero confirmar si es cierto o no que dentro de curso Java dentro de agenda si todo ha ido bien con el identificador 1 estará Juan teléfono 134 email juan@ara.mil.ar que el identificador crece automáticamente el nombre vuelve a ser Juan el teléfono vuelve a ser 1 2 3 4 el email vuelve a ser Juan @correo.com bien Ahora Cuál es la diferencia de execute y execute query es decir ejecutar o ejecutar una petición veréis en bases de datos Generalmente se sigue el modelo no solo el May sql sino en la gran mayoría de ellas se sigue el modelo crud quiere decir esto lo puedes googlear quiere decir create read update y delete nosotros lo que acabamos de hacer es un create es una creación mediante el comando insert Entonces qué ocurre que cuando yo creo algo yo creo un registro la base de datos no me tiene por devolver nada es lo has creado pues ya está lo has creado Qué quieres Qué más quieres pues nada cuando yo actualizo un registro con update la base de datos no me tiene por devolver nada cuando yo elimino un registro con delete la base de datos no me tiene por devolver nada pero cuando yo realizo un Select cuando yo le digo Dame los alumnos los usuarios los clientes que tengan tal requisito evidentemente Yo pido y espero que se me devuelva algo entonces cuando yo utilizo algo que no devuelve create update o delete tengo que utilizar execute pero cuando yo utilizo algo que tiene que devolverme algo en ese caso tengo que ejecutar un execute query vamos a hacer otro ejercicio va a ser proyecto Java 18 ya hemos comprobado Cómo podemos insertar ahora a continuación vamos a comprobar Cómo podemos leer de la base de datos lo que voy a hacer a continuación es lo siguiente cuidado no olvidemos ningún paso siempre los alumnos olvidan Este paso que voy a hacer a continuación eh creo un nuevo proyecto es de Java y lo llamo proyecto Java 18 lo que olvidan los alumnos más que lo olvidan Es que su mente lo da como tarea ya hecha es importar la librería mysql entonces lo que yo planteo es lo siguiente la has importado en el proyecto anterior pero no en este proyecto Eso quiere decir que la tienes que volver a importar Y ese paso se olvida muchísimas veces entonces botón derecho properties me voy a libraries a añado hard folder añado el conector Java el binario no el normal y le doy Ok y ahora ya puedo por ejemplo copiar y pegar un trocito del código un trocito no todo porque no me puedo llevar esto porque proyecto Java 17 no es compatible con proyecto Java 18 pero sí que me puedo copiar y pegar el tricats recordamos que para volver a pegar el la librería tenemos que ir a botón derecho en el proyecto sobre el cual estemos trabajando que en este caso es proyecto Java 18 botón derecho abajo del todo properties me voy a libraries dentro de libraries tengo que pinchar el botón de ad hard folder en este caso para esta librería concreta selecciono el mysql connector que no lleve no acabe en Bin o sea el que no es binario y me voy a seleccionar y tras hacer esto Ahora el proyecto ya sabe que hay mysql ojo porque voy a volverlo a hacer también porque al copiar y pegar el código atención pego el código el sistema detecta que he hecho un copi pega de otro proyecto y si traducimos me dice el código que has pegado refiere a los siguientes elementos no importados quieres resolver automáticamente las importaciones para incluirlos te dice Has pegado esto pero esto depende de java.sql connection de java.sql drivermanager y de java.sql statement evidentemente le digo que sí le doy OK Y entonces ahí arriba automáticamente aparecen los tres imports ahora es donde voy a poner execute query y el query que voy a hacer es un query muy sencillo es Select all from agenda básicamente si ahora yo le doy a Play en principio el programa me dice que todo Ok recuerda el Warning vale no quiere decir nada el Warning el programa me dice ok y yo claro yo digo cómo que Ok O sea si te he pedido que me devuelvas algo de la agenda sácamelo por pantalla entonces claro el programa Java me dice Sí tú me has pedido que te vuelva algo por pantalla pero no me has dicho cómo lo quieres por pantalla o sea yo estoy preparado es como cuando declaras una variable y la variable automáticamente no sale por pantalla o sea es como una cosa es declarar una variable y otra cosa es la sacarla por pantalla pues esto es lo mismo una cosa es pedirle algo a la base de datos y otra cosa es decir que quieres que te lo saque por pantalla para ello lo que voy a hacer Es que voy a crear un objeto llamado de tipo res result set resultado es igual a lo que antes era petición execute query Recuerda que si me da este error es porque no tengo importado result query con lo cual añado importación para java.sql reses resultset y ya está y ahora a continuación escribo el siguiente código digo While mientras que se de una condición mientras resultado. next o sea mientras que haya un siguiente resultado voy a poner lo siguiente System out printline este ya lo conocemos y voy a decir resultado e no quita voy a decir resultado punto a ver qué tenemos Pues tú fíjate o sea tengo getay tengo get con el índice de columna pero el column lavel Mola más la verdad Entonces voy a getay y aquí donde pone column lavel voy a poner nombre cuidado si pongo nombre es porque ahí hay una columna que se llama nombre vale tiene que coincidir si no dará error me está dando un error porque me falta un punto y coma y ahora Yo vengo por aquí y me da otro error me dice unclose caráter literal vale vamos a conectar no vale será que tengo que ponerlo con estas comillas de aquí vale correcto ahora pongo un guion un más ya sabes para encadenar ahora pongo resultado teléfono tengo que ponerlo Exactamente igual que lo ponga en la base de datos Y ahora pongo ahí email si esto ha ido bien Recuerda que print Line A diferencia de print lleva implícito El Salto de línea le doy a Play y me dice Au vale sql feature not supported vale vamos a ver en qué línea igual es el getay Pruébalo sí que parece que es el getay voy a hacer una cosa voy a hacer una cosa voy a hacerlo mucho más sencillo voy a hacer get int con el índice un get int con el índice dos vamos a probar de momento eso y Get In con el índice pruebo vale Y me dice Fíjate en este caso que me dice invalid value forg int Juan cuando dices Perdona si me lo estás dando Vale entonces en este caso lo que vamos a hacer es Ver resultado Get In vamos a ver qué es lo que está cogiendo mal porque fíjate que me ha devuelto Juan Pero ha dado error a continuación Get In de un y luego ya evidentemente no ha continuado Sí el error consiste en que si yo le digo que int es que se supone que lo que voy a recuperar es un entero pero claro Juan no es un entero es una cadena entonces voy a un get String claro de lo que se queja el programa es que me dice tú me dices un entero y me estás dando una cadena luego no me coinciden los datos get String le damos a Play y ahora fijemonos como tengo 1 Juan 1 2 3 4 2 Juan 1 2 3 4 es decir compruebo como efectivamente ya estoy devolviendo los datos que realmente hay en la base de datos Y es que te digo más si yo viniera por aquí y manualmente en la base de datos Porque se pueden meter registros manualmente le doy a insertar y le digo quiero meter otro registro nombre es eh No sé sabes Jairo y quiero meter teléfono 4567 y quiero meter email Jairo @correo.com y a continuación le doy a continuar okay Y si ahora ejecuto el programa otra vez Fíjate que me devuelve Juan y Jairo Es decir me está devolviendo todos aquellos registros que hayan en la base de datos de esta forma fijémonos cóm eh hemos gastado yo creo más o menos pues 20 minutos de la clase en conectarnos un archivo de texto y una hora y media en conectarnos una base de datos es decir conectarnos una base de datos es mucho más doloroso que escribir y leer archivos de un archivo de texto pero a continuación y ahora para cerrar vamos a hablar de ventajas y de desventajas más adelante vamos a ver que en una base de datos Cuando tenemos miles y miles de registros trabajar con una base de datos es más cómodo que trabajar con un archivo de texto las bases de datos tienen herramientas específicas para hacer filtrados de cantidades masivas de información y filtrar de una forma muy sencilla cuando trabajemos por tanto con archivos grandes con bases de datos grandes con bases de datos de acceso compartido tal que varias personas accedan de forma simultánea a esos datos en ese caso Pese a que hemos sufrido para conectarnos a una base de datos pero sin embargo ahora ya lo tenemos como plantilla sin embargo Esto será mucho más conveniente desde el punto de vista del trabajo estable ahora bien hay veces que hacemos un programita chorra que lo único que hace es que lo arranco una vez me guarda un dato y solo quiero que me guarde el dato para la siguiente vez que arranco ese programa no es multiusuario es monousuario y no son cantidades de información es una pequeña cantidad de información en ese caso me valdrá más la pena no matar moscas a cañonazos no conectarme con toda una base de datos total para guardar un pequeño dato sino trabajar con archivos de texto Vale entonces lo que quiero decir con esto es que debemos ser conscientes que existen estas dos metodologías y de hecho existen más metodologías y cada una tiene sus ventajas y sus desventajas lo digo porque Generalmente cuando uno está aprendiendo Java pues ocurre que parece que trabajar con base de datos es más profesional que trabajar con archivos y parece que todo lo que haces a continuación lo haces con base de datos Y a veces te encuentras con que como os digo insisto estás matando moscas a cañonazos Estás usando muchísimos más recursos de los que podrías y de los que deberías utilizar vamos a acabar comentando este código para que se quede limpio a continuación le pedimos algo a la base de datos y lo guardamos dentro de un objeto di si quieres que como si fuera una variable ya sabéis que no es una variable Pero bueno ya sabéis que si es resultado es que es un objeto de tipo de dato resultset ahora siempre mientras While que el resultado tenga líneas porque puede tener varias líneas de momento imprímeme en pantalla el resultado y con esto a continuación quiero acabar dándoos una pequeña muestra de lo que va a ser la clase siguiente para un poco animaros porque esto que estamos haciendo realmente es programar pero verlo todo en consola se nos hace a veces un poco duro el próximo día vamos a crear Vamos a aprender a crear proyectos trabajando con eh graphic user interface interfaz de usuario gráfica que nos va a permitir hacer programas en ventanas quiere decir que uy espera quiere decir que nuestros programas ya no van a ser solo de línea de comandos sino que van a ser programas en ventanas vamos a verlo momento que estoy abriendo ese source packages está costando mucho total para tres archivos que tiene que abrir Supongo que los estará validando Entonces ese ejemplo tiene Pues bueno varios ejemplos de lo que es una interfaz gráfica de usuario me voy a examples voy a por ejemplo contact editor es el clásico ejemplo y fijaos que aparecerá esto aparecerá de hecho un diseñador de interfaces de usuario aunque no quiero utilizar el diseñador quiero hacerlo bien de verdad voy a el contact editor y fijaos que lo que hará es que en lugar de sacarme algo por consola me aparecerá no sé si lo veis aquí independiente de un programa en ventanas donde yo tendré una serie de formularios y donde cuando le de a un botón aparece pasarán cosas y cuando el programa me tenga que devolver cosas aparecerán aquí es decir yo podré insertar elementos yo podré recuperar elementos pero lo más importante es que lo podría hacer con programas basados en ventanas O sea ya no tendré todo el rato que depender de la horrible y fea consola que por otra parte realmente programar es eso Aunque parezca que no o sea esto que estáis viendo aquí en la pantalla Esto no es programar esto se llama interfaz gráfica de usuario Pero esto no es un programa en sí mismo es la interfaz gráfica de un programa pero de la misma forma que es cierto esto que os acabo de decir también es cierto que a nuestros usuarios finales les puedes decir misa si quieres pero ellos quieren trabajar con algo que sea sencillo con algo que tenga Campos que tenga botones que puedan pulsar que se pueda cerrar con un botón no algo Que aparezca en la consola Vale entonces por eso es por lo que el próximo día vamos a aprender a trabajar con esos programas en ventanas que harán que nuestro programa sean mucho más utilizables aparte con el asistente como podéis ver aquí pues podemos meter labels podemos meter botones podemos meter grupos de botones y yo simplemente lo que tengo que hacer es pinchar y arrastrar veis que acabo de meter un nuevo botón y Es más voy a meter otro más y a continuación le voy a dar a Play y veréis como una vez que le doy a Play los dos botones que acabo de meter que por cierto no tienen todavía ningún uso ninguna función pero veréis que aparecen aquí preparado para ser utilizados preparados para que yo les diga lo que tienen que hacer vale por eso veréis que la creación de interfaces de usuario Pues bueno le da otra dimensión a la programación hace que la programación sea un poco más agradable porque lo que hace es ya no aparece en una fea línea de comandos sino que aparece en bonitas aplicaciones en ventanas vale Ok