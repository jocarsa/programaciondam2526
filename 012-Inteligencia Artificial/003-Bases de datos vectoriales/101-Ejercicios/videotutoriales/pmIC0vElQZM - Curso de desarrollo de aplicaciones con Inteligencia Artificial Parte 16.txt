bueno otra cosa una vez que ya tenemos esto vamos a ir al ejercicio 7 una vez que tenemos esto la pregunta es qué podemos hacer a continuación es decir qué hacemos con las flechas para que nos sirven las flechas entonces las flechas el movimiento en sí mismo nos puede servir para detectar en qué cosas se tiene que fijar una inteligencia artificial y en qué cosas no se tiene que fijar tanto así que ahora a continuación lo que voy a hacer es lo siguiente lo que voy a hacer voy a ir a brackets vamos traer el ejercicio 7 voy a crear un nuevo ejercicio lo voy a guardar dentro d junto a html y ahora lo que quiero sobre este ejercicio es de momento temporalmente esconder este código vamos señor y ahora simplemente no está ocurriendo nada vale vamos a verlo 116 vamos a ver quitamos esto y esto recargamos y ahí lo tenemos y ahora quiero hacer una función de búsqueda de béjar borders así que voy a hacer esto x es igual a 0 x es menor que anchura x + + y es igual a 0 y es menor de altura y más y ahora lo que quiero hacer es que para cada uno de los píxeles quiero averiguar si hay un borde vamos a hacer algo muy sencillo bar pixel 1 es igual con texto getty images data de x y como 11 y a continuación lo que voy a hacer es que bajar pixel 2 parte 2 es igual a x1 y entonces dicho esto claro ahí lo que estoy haciendo técnicamente es como tenía que establecer una operación por cada uno de los píxeles de la imagen es probablemente vamos a encontrar más operativo toda la imagen es decir la imagen uno es igual a contexto de inmediato 00 287 20 bar imagen 2 es igual al contexto punto g data cuidado anchura y altura 0,0 anchura y altura y esto es contexto con texto anterior y ahora para cada uno de los píxeles formar y es igual a 0 y es menor que imagen 1 punto data punto links y + + y a partir de aquí y más igual a 1 y massimo la 4 y ahora lo que quiero es hallar quiero decirle que es cierto puntos alta menos imagen dos puntos data + 4 que es el pixel siguiente todo esto el valor absoluto es menor donde yo estoy es menor que no sé un 20 por ejemplo en ese caso lo que voy a hacer es lo siguiente en el contexto por ejemplo voy a hacer imagen 1 punto data de allí es igual a 0 en caso contrario es igual a 255 lo mismo voy a hacer para y 1 y 2 y uno y más 2 entonces al final lo que hago es contexto punto inmediata y más uno vamos a ver de imagen vamos a ver que hay porque igual en la línea 72 hay un error si aquí falta un paréntesis línea 72 pero para teóricamente no falta pero son estos así es menor que 20 vale 62 un corchete vale vamos a ver la última data quiero poner esto en 00 siempre mira esto bien y haciendo esto vemos como el sistema empieza por la información voy a hacer esto en imagen 2 hoy voy a hacer lo siguiente vamos a ver la imagen temporal es igual a imagen 1 imagen temporal y así guardo los datos en un contenedor valga la redundancia temporal y ahora vamos a verlo ahí lo que estoy haciendo es buscar vamos a ver no se ve todavía una mano buscar los bordes buscar las aristas y al buscar las aristas lo que estoy haciendo es poner aquellos datos vamos a poner 100 y ahí vemos cómo empezamos a buscar no tengo un efecto bastante el suelo era completamente involuntario pero es curioso bien y esto ocurre porque antes de hacer nada más contexto punto crear recta 0,0 como anchura como altura vale no vamos a verlo vale realmente nada claro esto hay que ponerlo al principio me sigue pintando por algún motivo es curioso está como encontrando los bordes y vamos a ver con texto clear recta esto lo he guardado como index es correcto y bueno contexto otro email vídeo voy a guardarlo como ejercicio 2 para asegurarme que el sistema no esté cogiendo una versión anterior ok con texto que tenéis datos y ahí el problema está en la imagen temporal por qué esto está mal está ahora mismo yo no quiero la imagen 2 yo quiero esto la misma imagen ahí es lo que estaba mal muy bien e imágenes notifight la imagen vale y ahora ahí podemos empezar a ver es menor que 100 pues voy a poner menor que 20 y ahí como podemos ver ya tenemos un detector de bordes vamos a afinar un poquito más menor que 30 porque 40 o 50 estoy buscando también los bordes vaya pues menor que 5 estoy buscando los bordes nuestra cosa con respecto al píxel superior perdonar con respecto al píxel vecino esto me puede servir para que aquellos píxeles que estén dentro de este bloque pues realmente los coja los pinte vamos a verlo vamos a invertirlo por cierto por nada en particular más que nada es que parece que el color está invertido por ejemplo y ahora una vez que tengo este detector de bordes es cuando puedo decir que lo que quiero es estoy aquí sí esto si esto es cierto y -4 y más 4 más y más anchura por 4 y esto es cierto estoy revisando los píxeles de izquierda a derecha arriba y abajo en ese caso ahí tendré un buscador de gorda es un poco más avanzado vale ahí tenemos realmente un buscador de bordes que básicamente nos permite averiguar el objetivo es que yo por ejemplo ahora sí tengo píxeles el movimiento en esta zona de la cabeza pues lo que voy a hacer es buscar los contornos es decir voy a buscar hasta qué punto puedo tener contornos y vamos a averiguarlo me ponen otros que va a ser demasiado grande afinamos el algoritmo allí por ejemplo pues bueno quizás empezaría a funcionar ya lo que tengo que hacer ahora es buscar un algoritmo que sea un poquito más sólido y que me permita encontrar dónde hay realmente un problema entonces con esto lo que puedo hacer es crear un pequeño bucle for crear un pequeño bucle form para que me permita ver el pixel en x y en y vamos a por ello una vez que tenemos esto una vez que tenemos vamos 3 index 2 es cuando podemos crear un algoritmo que nos permita trabajar con una detección de bordes un poquito más compleja y un poquito más limpia en este caso estamos cogiendo manualmente pixel arriba pixel abajo lo que podemos hacer es bueno buscar lo siguiente vamos para cada uno de los píxeles es dice es igual voy a poner radio realmente es anchura captura ya lo tengo utilizado así que voy a poner por ejemplo para alcance es igual a 3 formar x es igual a 0 - alcance x es menor ella es más arábigo por lo mismo pero en y por aquí y ahora aquí digo gatillo es igual a cero más a bs este busco si gatillo es mayor que 0 y entonces gatillo + + vale pues lo que hacemos en este caso es que imagen 1 punto data es imagen pero esto es y más x por 4 más ingeniera por anchura por 4 y esto es y él y esto es correcto pues en ese caso vamos a hacer lo siguiente y gatilló es mayor que 5 por ejemplo que 3 o lo que sea vamos allá con esto lo que he hecho es tiene nexos con esto lo que he hecho es hacer lo algoritmo que haya bordes vamos a inspeccionar para ver si tenemos algún error que parece que sí en el ibex-35 el 75 si esto era un punto y coma y gracias de 6 el otro punto de color mariara anchura 4 es notifight por anchura por 4 y ahí básicamente lo que tenemos es un método de detección de bordes como podemos ver el borde hallado ahora es mucho mejor más pesado evidentemente pero también más preciso vamos a decir si gatillo es mayor que 5 por ejemplo y ahí pues intentamos eliminar ruido a través de gatillo es mayor que 1 por ejemplo el gatillo es mayor que 2 y lo que estoy intentando hacer evidentemente es un método de hallar bordes para que en el momento en el que tenga una serie de píxeles moviéndose yo pueda decir bueno dime cuál es el contorno que está encerrado dentro de estos píxeles ahora a continuación por ejemplo lo que quiero es pintar y cuando digo que quiero pintar lo que quiero decir es que quiero empezar a rayar quiero empezar a pintar contorno para ver qué es lo que está metido dentro de este objeto es decir para ver ahí para diferenciar una cara por ejemplo ahora lo que tengo que hacer es bueno buscar algún algoritmo de los de pintura que me permita pintar de la forma más rápida posible los elementos en pantalla ahora que tengo por ejemplo está aquí esta imagen ya pintada puedo crear un algoritmo de pintura o bien lo que puedo hacer es buscar un algoritmo de pintura que se llama baqueta telecinco canvas vaquer paint para que si lee por ejemplo pues vamos a ver of love field y veremos que hay personas que postean algoritmos de relleno con botes de pintura y que son bastante efectivos esto no sé qué es pero esto no es lo que estaba buscando y payró i've loved field html5 canvas flor estaba preguntando por un método como éste y bueno hay frutos fil por ejemplo phil pixel y feel pixel como vemos es vamos a ver eso es elementos pues bueno lo que digo lo que quiero es digamos si yo cojo un píxel por ejemplo este quiero decirle al sistema quiero rellenar todo esto con color quiero poder rellenar con color y a partir de ahí lo que quiero es averiguar un perímetro en definitiva para poder extraer un objeto en pantalla y poder decir no quiero realizar una evaluación de formas con redes neuronales por ejemplo sobre toda la pantalla porque estoy perdiendo el tiempo sino en lo que quiero es únicamente centrarme en aquello que está en movimiento y por tanto es candidato a ser un objeto interpreta bleu bueno pues vamos con esta parte del relleno y en este caso vamos a ver aquí vance y el correcto vamos a html5 canvas field flow field tengo aquí un feeder entonces bueno aquí veo que alguien ha dejado una función que en principio parece que lo hace bastante rápido vamos a ver y tengo aquí perfil el segura function pero esto vamos a copiar todo esto y bueno en principio pues vamos a pegarlo en nuestro correo vamos allá vamos a pegarlo aquí en funciones guardo recargo en textos y lo que voy a hacer ahora estamos con el index 2 correcto voy a grabarlo como index 3 es intentar realizar un relleno pero tenemos entonces una luz más superior y entonces ahora lo que voy a hacer es que para cada fotograma bueno pues eso por qué donde pone ftx es contexto con texto siempre que vea un contexto en este caso estoy soltura vale en principio los tres contextos yo creo que ya canvas punto wifi estos anchura la empresa ahora y lo que voy a hacer es que por ejemplo vamos a ver cómo se usa esto es crucial y por ejemplo voy a poner anchura partido por 2 altura partido por 2 si todo va bien recargo bien sacando el inspector porque seguro que tengo algún error recargo bien get píxel por píxel post tiene pinta de ser otra función son otras funciones las pongo aquí abajo ejecuto en principio desde llanes talla haciendo el efecto es curioso estas son las funciones era teóricamente sí y ahora bien eso es justo eso es exactamente lo que quería y es que si nos fijamos lo que está haciendo es rellenar esa parte interior ahora lo que tengo que hacer evidentemente es hacer que los márgenes sean más fuertes pero por lo menos veo que está rellenando ya la parte correcta muy bien voy a hacer que los márgenes no que me rellene el centro yo no quiero rellenar realmente el centro en este caso me estoy aprovechando de que mi cabeza está en el centro lo que quiero es ahora mezclar los dos códigos para que rellene únicamente el la cabeza digamos real vamos allá así que ahora vamos a hacer soy gatillos mayor que uno en este caso no seis gatillos mayor que cinco por decirte algo recargo y como vemos lo que hace es rellenar un trozo menor ya no se puede escapar digamos sería cuestión de buscar un punto medio en el que coja únicamente lo que me interesa ahora una vez que tengo esto voy a hacer otra cosa y es que voy a decir que solo rellene si el pixel es blanco entonces con un texto punto y más datos anchura partido 2 altura partidos 2,11 punto data es igual no es mayor que 200 si el componente es más bien blanco en ese caso rellena esto lo que va a hacer es evitar se rellenan los contornos podemos comprobar y lo que está haciendo es únicamente rellenar lo blanco intentar al menos no rellenar pero de fuera y ahora la gracia de todo esto está en que yo lo que tengo que rellenar es realmente los puntos que se mueven de la pantalla ahora viene la parte difícil porque lo que tenemos que hacer es combinar el código que estamos generando en todo momento yo creo que lo que haría ahora sería generar varios canvas para poder trabajar con más comodidad entonces voy a crear por aquí un canvas resultado vale pues este es si no sé por ejemplo pero este es el resultado voy a poner el stec ambas aquí y este camas lo voy a llevar vamos a verlo pues bordes de esta forma por aquí canvas bordes es igual a bordes ahora contexto con texto bordes es igual a canvas bordes y con eso lo que voy a hacer es que esto todo esto de allí es hallar bordes vamos a ponerlo aquí y esto es con texto bordes vamos a verlo vamos a probarlo vamos a ver y dices hay algún error bueno vale ahí estamos y ahí está y ahora lo que quiero es desactivar está de color rojo vale así correcto por qué recordemos que en las funciones con texto bordes y creo que estaba también por aquí con texto bordes yo creo que yo no todavía no esto está aquí con texto bordes y con desbordes y ahora es cuando lo que puedo hacer es desbloquear el código anterior y esto es detectar movimiento hasta aquí desbloqueamos ahora esto puede que pese más y ahí tenemos las flechas y ahora básicamente lo que quiero es hacer que el relleno se produzca en cada una de estas flechas vemos como detecta el movimiento pues ahora lo que tengo que hacer es que es cierto hallar bordes esto es rellenar de rojo el resto más pequeño y ahora digo que si esta imagen y a mí rellena me de equis de color rojo si todo está bien y no explota recargo un error con solá ningún error de momento aunque tampoco hace nada comentar un poco este código ahora estaba empezando a hacer s parece que está empezando a rellenar parece que ahí se queda un poco frito no pasa nada esto es cierto anda contador es mayor que 2 vamos a recargar porque parece que la primera iteración se queda un poco frito sigo teniendo un contrato del pregunto voy a en otra pestaña no es esto lo que está machacando no voy a hacer un curso si esto es cierto y contador es mayor qué 20 con esto lo que pretendo hacer es darle un poco de ventaja al sistema que el sistema de puré él solo aunque se quede un poco frito eso quedó frito o sea que de los fritos y recargar pero parece que el surfing estoy llegando a un punto en el que se queda muy frito ahora me quedo quieto ahora empezar a rellenar se quedó frito bien voy a probar de nuevo y bueno me llega un momento en el que se queda frito los rellena nada pero en cuanto a veces a mover ahí hay algo que está haciendo que se quede frito hay alguna condición haciendo que se quede frito se estaba llegando algún pixel no lo sé vamos a ver sólo estoy rellenando voy a rellenar el negro por probar y ahora hay empieza a verlo el rojo se lo rellena el negro lo convierte en rojo vamos a ver qué puede hacer vale pues tenía una teoría y la teoría se ha confirmado entonces claro en lugar de poner el color rojo he puesto color azul porque estoy preguntando si es cierto que la componente roja es 255 pero claro si la componente roja es 255 y lo pintó de rojo que es rojo 255 en ese caso estoy pintando de rojo cuando a continuación pregunta y volverse rojo es decir estaba haciendo un bucle infinito entonces para no rayar lo que he hecho es que el componente rojo es 255 y lo que hago es pintar de azul y así son dos colores correctamente independientes eso es lo que hace que al recargar pues ocurra esto no parece que haga mucho aunque podemos ver cómo va cogiendo por zonas voy a hacer una cosa voy a poner así voy a poner la mano y la idea lo que quiero vamos a ver momento y allí nos fijamos en cuanto a la vez en cuando pero lo que hace es la mano de color azul vale ahora lo que está ocurriendo y ahí es que coge algunos píxeles de fuera pero cuando coge la mano por ejemplo si nos fijamos pues es capaz de distinguir bastante bien entre lo que es la mano y lo que no lo es vale entonces vale lo que puedo hacer etc lo que puedo hacer al final es pintar siempre el pixel del final del largo por ejemplo después de todo esto hoy dónde está esto y muchos que se cierran vamos a ver este pues al final fruit field r 2 puntos 25 5,2 puntos 255 de 2 puntos 2 55 es notación de objetos no sé si esto viene al poner la coma era punto y coma no lo sé ahora veremos pero no sé cómo está mal no sé si es por ejemplo 2,2 vale está pintando de y esto qué es muy bien 255 con tan poco estaba la pitada de seguros la verdad sácalo frito pues me voy a pintar de verde sí vale y así puedo empezar a distinguir y me acusa de otro y así por ejemplo se agua así lo que puedo hacer es empezar a distinguir objetos y puedo empezar a solidificar por ejemplo esto no estaría permitiendo ahora mismo diferenciar completamente la mano de la pared por ejemplo ahí lo mismo con la cabeza allí por ejemplo bueno podría limpiar pero en definitiva yo creo que ya estamos viendo cómo puedo seleccionar elementos y puedo detectar patrones de movimiento para a partir de ahí pues poder hacer sólidos y poder eliminar el fondo y puede poder que hacer que el programa se fije únicamente en lo que a mí me interesa que se fije con todo esto y ahora lo que puedo hacer es que me voy aquí arriba vamos a ver esto un poco para que nos sirve vengo aquí arriba y aquí está y ahora aparte de que voy a guardar la siguiente presión del ejercicio ahora es cuando quiero juntarme un poco todo porque me voy al canvas y llamó a este final creo el canvas final tiene lo mismo de siempre contexto final jamás final bien y ahora a continuación lo que quiero hacer es quedarme únicamente en los elementos de color de esta imagen más son los elementos de transparencia de esta imagen y vamos allá entonces o no bien pues ahora al final del todo al final del todo al final del todo al final del todo de estar movimiento somos lo de uno y lo de otro y digo poco bar datos imagen es igual al contexto punto image data desde cero punto cero hasta anchura como altura ahora va datos transparencia es igual a contexto bordes y punto gates image data en 1300 anchura como la altura y ahora lo más interesante de todo es que puedo venir aquí y decir no bar es igual a 0 y es menor que datos imagen punto data punto link y más y ahora entonces imagen punto dato y 4 que es la transparencia es igual a datos transparencia punto data d de 3 que es el canal azul vale sí todo ello bien a ver momento o hacemos los de siempre sí en otras transparencia de datos ese fuera cero am y no solo es igual a cero + 2 es igual a 255 en ese caso datos imagen data de y 4 que es la transparencia es igual a cero y por último con texto final punto image data en tanto su imagen como a 0,0 si esto ha ido bien estoy ahora en el index 4 si estoy bien algo qué está pasando ahí debería tener a 6s se exportaron con texto final punto correcto 00 mil 280 la altura ese es el cuadro ahora vamos a verlo pero el contexto final punto 4 3 vale que esta transparencia a ver casarse sí vale los haciendo al revés creo yo claro que la sazón atrás es igual a 255 en caso contrario datos imágenes data de más 3 que es la transparencia es igual a cero ahora sí voy a poner la pantalla así claramente la mano eres cuando únicamente se queda la mano todo vale sí vale estoy cogiendo el contexto no sé de dónde y es donde ahora en un momento aparecerá la información parece que parece como que esté cogiendo la imagen parece que surgiendo esa vale no pasa nada tampoco pero bueno como podemos ver por lo menos empieza ya a salir lo que quiero es que únicamente vamos a verlo ahí únicamente se queda con la forma que yo quiero lo cual me va a facilitar bastante la tarea para cuando tenga que reconocer formas a partir de esas imágenes me falta eliminar un poco el ruido pero vamos con un poco más tratamiento de imagen lo podemos conseguir perfectamente