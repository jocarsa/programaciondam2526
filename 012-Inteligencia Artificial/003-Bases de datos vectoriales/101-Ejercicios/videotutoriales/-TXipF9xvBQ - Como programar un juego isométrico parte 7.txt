bueno pues continuamos con el desarrollo hay cosas que podemos hacer y cosas que podemos implementar pero lo bueno que tiene este desarrollo tal y como lo tenemos hasta ahora es que vamos a ver que a partir de ahora digamos aplicando en principio un poco de esfuerzo pues obtendremos más resultados es decir la curva de el aprendizaje y la curva del desarrollo de este tipo de ejercicios en este tipo de programas pues lo que hacen es que una vez que hemos sufrido al principio una vez que nos ha costado sacar adelante el juego pero digamos que ya meter nuevos elementos y hacer que el juego tenga más cosas pues nos va a costar relativamente poco esfuerzo bien vamos a ver cómo lo tenemos hasta el momento así que voy a entrar por aquí le voy a jugar y vamos a ver ahora mismo el terreno que está todo en el mismo nivel digamos eso es porque si yo me vengo aquí y yo me vengo aquí yo me vengo a imagen me voy a mapas en este caso mapa uno es tiene esto que estamos viendo aquí digamos que el suelo está todo digamos en el mismo sitio yo lo que voy a hacer ahora es que voy a el mapa lo voy a abrir el gimp y lo que voy a hacer es separar el mapa en varias capas eso me va a obligar a bueno a trabajar con un formato nativo del programa game que es el formato x cf es decir y va a venir por aquí y ahora por ejemplo voy a poner voy a crear una capa llamada mapa y voy a crear una capa nueva por encima a la que voy a llamar por ejemplo pues como te diría yo como se la llama los buenos y malos y luego por encima podría crear otra capa llamada recogí bless la idea es que puedo trabajar con un mapa de múltiples capas eso sí al final lo voy a tener que exportar en png más que nada porque si yo ahora vengo aquí y le digo que lo quiero guardar pues este formato de imagen se guarda con el nombre x cf con la extensión x cf y la extensión x cf es una extensión propia de gimp pero que no es compatible prácticamente con nadie efectivamente vamos a verlo yo necesito por ahí pues un archivo original que me guarde las capas pero este archivo original que me guarda las capas que es el archivo x cf pues no es compatible y luego tengo el archivo png que es el compatible entonces lo que voy a hacer es que voy a guardar como digo una versión en formato x cf y luego voy a exportar las diferentes capas entonces por aquí voy a volver a sacar esto vamos a ver mira incluso lo que puedo hacer de momento para tardar menos es duplicar la capa buenos y malos voy a eliminar con la varita mágica el color negro sin radio sin difuminar sólo eliminó esa capa ahí lo tengo bien y ahora en la capa de mapa voy a seleccionar todo voy a dibujar con el lápiz con color negro pues lo que voy a hacer es pintar voy a pintarlo de color negro con lo cual pues ahí lo que voy a tener digamos es que se abra exportó esto lo voy a exportar como mapa 1 ok y ahora puedo venir aquí y esto lo exportó como mapa 1 personajes por ejemplo allí puse el otro día en el final puedo poner también el final box de cada nivel puedo poner un poco vale lo que quiera lo único es que evidentemente ahora lo que voy a tener que hacer es actualizar el código de hecho ahora mismo no sé ni siquiera cómo se va a comportar este juego porque le acabo de quitar el punto de inicio de hecho creo que resulta el personaje un poco donde la da la gana y que es en las condiciones en las coordenadas 0 ahora lo pondremos y sobre todo he hecho esto un poco para poder jugar y para poder trabajar con escenarios a múltiples niveles cómo vamos a hacer escenarios a múltiples niveles pues voy a esto por aquí en el mapa y ahora lo que voy a hacer es que voy a por aquí voy a poner el color 000 a y voy a pintar o voy a pintar voy a pintar voy a pintar y luego ahora también lo que voy a hacer es poner el color 2 y os voy a pintar un poquito por aquí no se ve nada no se ve nada porque prácticamente estamos trabajando con escalas de grises muy imperceptibles por mucho que me acerque es que incluso no lo puedo apreciar pero internamente sí que estoy cambiando realmente los colores del mapa vamos a verlo así que exporto el mapa bien ahora lo que quiero hacer es que al haber dibujado colores más grises lo que quiero es decirle al mapa que esos colores quiero que vayan como te diría yo hacia arriba es decir si pinto un color más claro quiero que el terreno vaya hacia arriba y si pinto un color más oscuro quiero que el terreno vaya hacia abajo entonces de esta forma ahora evidentemente y por supuesto lo que tengo que hacer es modificar el bloque es decir modificar el código me voy aquí a condiciones iniciales y voy a decir que bar altura bloque z es igual a no sé voy a poner 30 por ejemplo de momento y luego lo podemos cambiar entonces esto qué es lo que quiere decir que esto lo que quiere decir es que cuando pinto en el bucle bueno si condiciones realmente funciones en el pinta terreno vamos a ver pinta terreno dibuja terreno lo que voy a hacer es cuál es el color digamos no sólo para ver no sólo para ver el alfa sino que lo que quiero ver es cuál es la zeta entonces aquí donde pone dentro y me voy a cogerla y si tienes un momento aquí a separar por líneas para que veamos mejor qué es lo que está ocurriendo es decir la diferencia entre cada uno de los componentes y entonces aquí donde tengo el desfase y voy a ponerle voy a restarle porque va hacia arriba recordamos que en y sumar va hacia abajo restar va hacia arriba voy a píxeles data pixeles data por altura no me acuerdo altura a bloque z si esto ha ido bien no lo sé en principio pensamos que si se ha extraído bien recargo le doy por aquí vamos a ver dónde aparece el personaje y no sé si lo ves pero tenemos ya unos cuantos bloques más levantados parece que la altura ha sido demasiada entonces voy a decirle altura 10 podría dar 5 o no lo sé ahí lo vemos como tengo unos bloques más levantados que otros así perdonas que ayer implemente esto eso es ahí estamos vale entonces no veo muy bien lo que estaba ocurriendo entonces lo que voy a hacer 9 muy bien digamos el resto de bloques voy a hacer moment in es aquí el videojuego voy a un momento la imagen del terreno 9 voy a evitarlo con el gimp y voy a hacer un terreno un pelín más profundo tampoco me puedo pasar mucho así que voy a duplicar esta capa que se va a quedar por bajo voy a mover la capa un poco así para que el bloque sea más profundo y de esa manera pues puede haber mejor puede haber un poco mejor como el terreno sube otra cosa que puedo hacer vamos a verlo hay otra cosa que puedo hacer ahí vale otra cosa que puedo hacer es que el terreno pues suba menos entonces claro ahí también lo que voy a hacer lo que necesito hacer es que el personaje suba con el terreno voy a ponerle un poquito menos venga voy a poner 5 si dejamos estamos inaugurando el que el terreno pues ahí lo vemos el que el terreno pues también tenga ahí lo ves altura ya tengo esto vamos a hacer que el personaje ahora suba realmente por el terreno yo de momento lo que puedo hacer es lo siguiente lo que puedo hacer es decirle al propio personaje vamos a ver lo que aquí en el bucle donde pinta y donde de hecho mira la colisión vamos a ver si el personaje se está cayendo y te has caído pixel personaje y entonces vamos a ver aquí en las condiciones iniciales tenemos por z es igual a cero pues ya en este caso lo que voy a hacer es decirle al sistema en el bucle que la catarata pero vale z es igual ah cb por ejemplo da igual x altura bloque z y por tanto ahora cuando dibujo al personaje incluso cuando dibujo a los enemigos ahora hablaremos de ellos pero voy a aquí donde pone de hecho por z ahí lo tenemos ya está preparado pues yo vengo por aquí me voy a jugar y vamos a verlo ahí lo tenemos ahí tenemos como el personaje se ha visto ahí baja no sé si hay estaba haciendo como que sube y como que baja ahí se ha visto mejor como sube y como baja a veces se ve un poco mejor a veces se ve un poco peor pero bueno ahí por ejemplo en vertical se ve bastante mejor otra cosa que en un momento dado podría hacer vamos a verlo ahí vale otra cosa que en un momento dado podría hacer sería poner algún tipo de limitación como que por ejemplo si la diferencia de altura es demasiado grande pues el personaje no puede subir tiene que buscar algo parecido a una rampa o tendré que implementar algún tipo de acción como la acción de saltar que tampoco me costaría mucho aplicar una acción de saltar por la sencilla razón de que ya tenemos un poste está entonces dado que tenemos un boceto pues me costaría poco decirle bueno pues modifica el poste está para que suba y para que baje hay una cosa que por cierto sí que hace unas cuantas sesiones que quiero implementar que es que el personaje se quede quieto cuando deja de caminar vale entonces vamos a aprovechar para implementar esto ahora lo complementaremos los enemigos también que el personaje vaya y es que aquí funciona correctamente pero ahí no vamos a verlo aquí bien pues vamos a implementar esto cuidado no me caiga y aire caído bien pues vamos a pasar vale pues ahora lo que voy a hacer es decirle al sistema cuando estamos con las condiciones de inicio y recordamos que tenemos las direcciones pues yo puedo crear una condición inicial recordamos que tenemos las direcciones y velocidad z el ángulo vale pues digo bar moviendo es igual a falso o a cero oa lo que quieras entonces yo ahora puedo venir aquí a inicio y puedo decirle moviendo es igual a true creo una nueva variable y la activo cuando el personaje se está moviendo y moviendo es igual a fons cuando el personaje no se está moviendo entonces qué es lo que voy a hacer con esto bueno voy a ver el sprite del personaje a ver en qué posición está quieto vamos a verlo está quieto por ejemplo realmente en la posición 2 técnicamente está en la posición 2 y en la posición 5 no la a-66 alelados la 6 entonces voy a la parte del código en la que el personaje se mueve vamos a verlo estado animación ahí está y entonces digo sí es cierto que moviendo es igual a true en ese caso vengo aquí y pongo esto en caso contrario estado animación es igual a 2 por ejemplo creo que es creo que técnicamente es 1 porque es 0 1 2 1 es el segundo estado vamos a verlo recargamos le vamos a jugar vemos que el personaje está quieto está parado y como podemos comprobar si me voy moviendo pues en este caso el personaje se anima vamos a verlo qué curioso que ahí sí yo funcione correctamente pero sin embargo en el resto de direcciones no que de momento se queda quieto que ya es suficiente pero el caso es que se queda en la última dirección mientras que en esa dirección sí que se queda quieto vamos a verlo el input edición moviendo es igual a folk voy a decir el feef ya que técnicamente vamos a verlo bien hace lo mismo que se queda quieto lo cual es como mínimo curioso pero bueno pues de momento lo tenemos ahí así que ahora lo que vamos a hacer es poner de vuelta poner de nuevo a los personajes y tanto digamos los malos como el final box como lo que necesitemos así que vamos a por ello bien si hemos dividido el mapa en dos sub mapas que realmente han sido tres ahora luego pondremos los recogí blesa los propios o lo que sea pues ahora lo que vamos a hacer es decirle al sistema que en condiciones iniciales voy a poner esto a mitad de pantalla tenemos que decir que creamos un nuevo contexto cargamos el mapa y ahora esto es mapa personajes una para personajes mapa 1 personaje es creo recordar el mapa 1 personaje es correcto de la misma forma tengo que ir aquí a index en lienzo mapa vamos a verlo el correcto y en forma para personajes y el bien formado a personajes pues voy a poner el contexto así que con texto mapa contexto más parte personajes y en forma para personajes y en forma de personajes vale y ahora pues por ejemplo cuando cargo el terreno vamos a ver cuando cargo el terreno por cierto me falta un draw image me falta un drone emails que es cuando pinto el terreno sí correcto vale dibuja terreno pues copio esto y digo contexto mapa personaje esquiar recta con texto mapa personajes draw emails mapa personajes con texto mapa personajes esto de aquí a crea enemigos ya lo tenía esperate por fuera esto es contexto mapa claro personajes ok contexto mapa personajes y entonces lo que voy a decir es contexto mapa personajes punto del agua y más personajes 00 si todo va bien vamos a verlo le voy a jugar bien mapa personajes nueva personajes es notifam en funciones la línea 122 personajes porque los personajes y vale ya tenemos allí de nuevo el bueno y los malos y todo esto y hay de nuevo es el terreno como sube y ahora vamos a decirle al sistema y ahora veremos cómo sube como baja y ahora tenemos que decir que los personajes también digamos sufran está como te diría yo esta subida esta bajada a los malos los enemigos también deben ser capaces de reconocer la altura del terreno pues vamos a por ello bueno pues ahora simplemente lo que tengo que hacer es que aquí donde dibujo los enemigos donde se mueven los enemigos ahí están contexto mapa colisiona pixel vale pues voy a decir en este caso que el personaje de hecho tenía una posición zeta pues le voy a decir 2.0 es igual ah vamos a hablar bar componente es igual a collection pixel data de 0 o sea por ejemplo el canal rojo y componentes y por tanto ahora puedo ir a los personajes ahora puedo ir a los personajes un momento que los encuentre en el bucle y puedo decir que cuando pinto un personaje de los malos vamos a verlos dónde están pero mi mente y le digo a rey personajes array personajes de x altura bloque zeta así que lo aplico y lo aplico bien voy a exagerar un poquito más el juego voy a exagerar un poquito más el terreno y para ello voy a venir por aquí voy a seleccionar esto y voy a pintar con un pincel un poquito grande se me ha cogido blanco si se me acoge bien y un poquito más grande perdón menos opaco quería decir cuidado vale lo que quiero es pintar una serie de zonas digamos que como decía yo que tengan como desnivel que sea el desnivel que puedas ver lo mejor le voy a explotar pero ahora cuidado porque ahora la variación de grises brutalmente grande entonces ahora voy a decirle al sistema altura bloque 5 no se va a poner uno igual tengo que bajar lo más no sé si lo ves allí yo creo que se ve el desfase la diferencia de altura porque si ves ahí sí creo que el personaje va al revés con la parte que se cayó vamos a ver creo que pero que se siente que el personaje va al revés a ver sí es como que en lugar de subir baja vamos a bucle a ver si es que he sumado y imagen premio ya lo he sumado entonces hay que restar porque acordémonos que en canvas pues la y hacia arriba quiere decir que resta es algo que me da mucha rabia pero es lo que hay entonces ahora sí vemos como el personaje va subiendo entonces ahora me vengo por aquí y ahora yo creo que si podemos ver ya como el personaje pues va subiendo en base al desnivel vemos como tenemos como una especie de montaña si el personaje pues va poco a poco subiendo bien vamos a he pasado con los malos donde están los malos porque han desaparecido los malos de hecho también esto ha fallado vamos a recargar todo tengo el personaje aquí pero de alguna forma los malos no están cargando entonces si los malos no están cargando eso puede querer decir varias cosas vamos a asegurarnos de que vamos a ver canvas lienzo mapa personajes estaba oculto porque pues no lo sé porque yo no lo he ocultado nos damos estilo lienzo mapa personajes recargo sigo sin verlo a display none muy bien y quiero asegurarme de que el programa pintado realmente ahí que yo diría que evidentemente no mira así 6 y 6 ya pintados y vale se ha pintado porque no estoy viendo los personajes vamos a verlo tengo lienzo mapa personajes el lienzo mapa personajes y en forma de personajes tiene contexto mapa personajes y entonces me voy a las funciones crea enemigos contexto mapa personajes que tenéis data y crea objetivo bueno contexto a personajes vamos a verlo y en principio vamos a ver si está el target y veo qué vamos a verlo entonces crea enemigos porque no está funcionando con solé punto log un momento cuenta un momento con solé puntos creo un enemigo los controles acuérdate que luego hay que borrarlos le voy a guardar creo un enemigo o sea realmente está creando el enemigo y de hecho no serías visto a su momento que me ha parecido que estoy bajando energía luego se estoy bajando energía es que alguien me está tocando luego entonces parece que el problema no es que no cree en los enemigos sino que parece que no nos está pintando bien en pantalla pues vamos a ir a bucle de hecho vamos a ver cuando pintamos personajes a ride personajes y ahí está el problema z eso es lo que me ha fallado punto 0.7 puntos eta y de hecho ahí no sé ni qué valor devuelve eso o sea que probablemente estaba devolviendo a un array o algo así voy a jugar y ahí tenemos ya los personajes y lo que quiero ver es si cuando los personajes me persiguen si suben y si están subiendo ya vemos cómo los personajes realmente respetan el terreno vale muy bien así que tengo terreno tengo personajes y ahora me hacen falta pues los recogí bless en los recogí bless por ejemplo y yo lo que he hecho hoy es renderizar vamos a verlo por aquí he renderizado en escritorio en juntos rémber aquí he renderizado una posición el renderizado de los sprites aunque realmente no es necesario sólo quiero un sprite y vamos a uno vamos a un aviso métrico así es que me voy aquí y en mi imagen voy a poner por ejemplo propone una consell aprox y otra cosa sería recogí bless ahora creamos propuso recogí bless pero esto pongo poción y ahora lo que voy a hacer en recogí bless es decir por ejemplo que puedo usar otra vez el color rojo no hay ningún problema de color rojo opacidad tal tamaño tal si todos los buenos y malos y digo que pongo una posición ahí vamos a poner un tamaño de un píxel la herramienta del lápiz y pongo una poción aquí y por ejemplo una porción aquí y entonces ahí me voy a guardar directamente esta capa de aquí como mapa 1 recogí bless vale y bueno otra vez ya sabes nos toca repetir todo el proceso mediante el cual tengo que duplicarlo un poco todo vamos a por ello por suerte no habrá muchos más en el sentido de que no tengo terreno tengo personajes tengo recogí blé si tengo propios es decir poco más ahora crearemos algunas banquetas o algunos árboles también podemos crear vale entonces vamos a ver por aquí y ahora pues empiezo por aquí a modificar mapa 1 personajes ma para recogerles mapa recoge lees mapa 1 recogerlas si quieres ya que estamos aquí pues vamos a decir mapa aprox mapa props y mapa uno propuesto para fallo porque no existe todavía entonces voy a crear una capa nueva llamada aprox y la voy a guardar como mapa uno propio y entonces podemos continuar muy bien y entonces vamos a ver voy a venir por aquí a funciones y voy a poner crea props y crear recogerles y crea recogerles vamos a ver ahora con textos contexto mapa personajes con texto mapa prox y contexto matar recogí leds con texto lienzo mapa propio y lienzo mapa recogí bless entonces ahora pinto bueno y propuso y crea recogidos vamos a verlo con texto mapa propio el mapa propios con texto mapa propio el sexto y bien ahí lo que está haciendo es pintar pintar y podríamos definir si los personajes y los propios realmente son algo parecido a los personajes los recogí bles y los propios son algo parecido que realmente podría ser que sí es decir esto lo que quiere decir es que de la misma forma que creó personajes puedo crear propios para eso lo que tengo que hacer es convertirlo todo en objetos es decir me vengo aquí a personaje confió y pego de nuevo momento copio y pego y entonces esto se llama propio y esto se llama recogerlas y entonces abro evito esto y lo añado vamos a index esto es otra cosa vamos a index.html y cargo tanto el personaje como los propios cómo los recogí bless no te asustes en el sentido de que realmente props y recogerles tampoco van a tener tanta caña a ver un momento que aquí me da que han desaparecido unos cuantos objetos rojo todo lo que está adentro bien y lo que te quiero decir con esto es que el constructor lo tenemos mueve no lo tenemos persigue no lo tenemos colisiona no lo tenemos y cambia dirección no lo tenemos es decir realmente es un objeto tonto pero es un objeto al fin y al cabo y digamos que tengo x y z el tipo de momento y ya está tiempo de nacimiento no lo quiero de momento todo esto no lo quiero de momento vale y con propio ocurre exactamente lo mismo y es que eliminó todo esto por supuesto ahora cambiamos el nombre de la clase y efectivamente esto se va a llamar aprox y esto es a llamar recogerles técnicamente bueno props podría estar en singular podría estar en plural vale pero en definitiva lo importante en este caso es por eso que coincida digamos el nombre así como en otros lenguajes como por ejemplo en java es obligatorio aquí no es tan obligatorio pero evidentemente es recomendable entonces claro cuando vengo aquí a funciones cuando vengo aquí a crear recogí bless pues en este caso voy a crear digamos de un array de recogerles vamos a verlo esto es el alfa el azul vale vamos a condiciones iniciales número personajes pues número prox carrey props y ahora números recogí bless arrai recogí leds eso quiere decir que dentro de funciones ya tengo esto preparado para decir array recogí bless numeros recogerles y aquí creo objetivo no cree a recogerles así y crea propios a ride propio y número propio y así con la misma lógica que hemos hecho una cosa pues tenemos la otra como te decía si es rojo en este caso creo un pro que de momento va a ser que no y creó un recogí bleu es igual a new recogida y new propia voy a ejecutar a ver si da algún error o haberse cargado alguna parte parece que si bien el contexto de condiciones iniciales en el número 6 vale el número 6 contexto mapa props es igual al informa patrón he creado lienzo mab aprox pues así que y en forma de personajes lienzo mapa recogí bless y lienzo mapa drops y en el estilo y en forma de personajes y en forma para recogerles y lienzo mapa propio recargamos de nuevo parece que de momento va bien recogí blé it's not be fine recogí bleu snow design porque aquí en las funciones acordémonos del singular y el plural recogí bless y propio lo había definido en plural le voy a jugar y ahora a continuación en principio creo un enemigo y creó un recogí bleu son 10 creados 10 no recuerdo haber creado 10 recogí bless 1 2 3 4 y 5 entonces vamos a recogerles no es contexto mapa personajes es contexto mapa recogí bless y ahora entonces recargo jugamos creo un enemigo no he creado un recogí bleu y esto es porque ha tardado un poco en dibujarlo entonces vamos a ver esto es estos son las funciones que tengo al inicio voy a hacer lo siguiente y hacer lo siguiente en funciones con texto pero aparte de que no está recogido le espero bueno con texto mapas recogidos es igual a mapa récord civiles yo creo que tampoco va a funcionar porque esas alturas no lo habrá cargado vale pues mira ha habido suerte y creo un recogido es ahí que tengo 10 enemigos 5 recogí bless y ahora me falta pintarlos entonces para pintarlos simplemente lo que voy a hacer es volver al bucle como verás ahora una gran parte del ejercicio es copiar y pegar el sirve a gran parte del ejercicio es duplicar estructuras que ya teníamos entonces los personajes han perdido mucha barra de energía o es que no la estoy pintando correctamente puede ser bueno pues ahora venimos por aquí y ahora lo que hago es formar y número personajes pues dibujo el personaje y toda la pesca vale esto es personajes mps voy a poner un separador para verlo bien cuidado ok y esto por ella personajes en epc esto llega hasta aquí así que ahora cojo todo esto y no duplicó y lo duplicó para recogí bless vamos con recogí bless primero y luego propuso una vez más no te preocupes por qué voy a empezar a simplificar un montón de cosas por ejemplo la barra de energía no está en los recogí bless esto es el color la dirección isométrica tampoco se aplica nuevo al personaje tampoco se aplica esto me lo voy a cargar todo dibujó el recogí bleu números recogí bless barral recogí bless esto no hace falta esta falta porque los recogí bless no se van a mover no se van a salir esto es imagen en el pc ahora te voy a cargar a raíz recogí bless vale por z ahora veremos a z que de momento no existe imagen ep seguro esto es lo que vamos a decir qué condiciones iniciales imagen recogí bleu 1 esto es recogí bless y está de acuerdo que el hombre le he puesto recogí bless y fusión si todo va bien me voy al bucle imagen recogerle uno recargamos bien en principio no hay errores tampoco hay pociones o sea tampoco eso vale porque pues no lo sé pero lo más probable vamos a verlo a raíz recogí bless zeta cuando esa raíz recogí bless zeta pues recogí bless despuntó zeta es igual a 0 90 entiendo que por ahí igual puede estar fallando en principio no vamos a núcleo vamos a con solo voy a pintar un recogí bleu eso es muy importante en el sentido de que cuando ves que algo que no funciona pues pongo un control a ver y bueno de momento vemos como efectivamente está entrando dentro de ese bucle o sea realmente va a pintar un recogí bleu pero al recogerla no lo está pintando bien otra cosa que te digo array personajes estado anime eso te digo ya que va a ser que no entonces esto lo borro porque estos ya no me hacen falta porque no estoy pintando un sprite no estoy pintando un sprite animado quito el con soler a jugar momento que baile y no sé si veis cómo está pintando ya la poción y el cálculo que pintara también otra posición ahora lo que tengo que hacer también hay que decirlo es cuando en la función cuando pintamos los recogí bless aquí los recogí bless tengo también que analizar cuál es el get inmediata como te diría yo en el recogí bleu digamos del hay que regresar el recogí blé para asegurarnos que esté en la posición correcta en el z correcto y ahora una vez que hemos hecho esto pues vamos a crear un propio vale un propio son elementos de la escena entonces un proto puede ser una mesa puede ser una silla puede ser un árbol puede ser una pared puede ser un lo que sea vamos a dibujar un pequeño árbol o una pequeña mesa o algo sencillo voy a abrir blender vamos a verlo voy a pintarlo de una forma parecida a la posición con lo cual tuvieras bueno entonces por qué no lo pintas como poción la respuesta es porque no es lo mismo no es lo mismo un recogí bleck en un momento dado desaparece que un producto que al principio está ahí siempre entonces vengo por aquí voy a dibujar no voy a dibujar un cubo vamos a moverlo ahí lo acepto vamos a ponerlo ahí profeta ok vale escalón frito bien voy a subdividirlo lo sub dividimos también ok tenemos a la banqueta y ahora vamos a crear algo vamos a crear un cilindro ok esto que es la poción con berto oculto pasé perdón oculto ahora cojo el cilindro lo escaló en zeta y a continuación lo voy a subir lo duplicó no duplicó de nuevo para hay leches que estoy animando vale para girar lo nos explicó lo vuelvo a duplicar para generar los 90 grados lo pongo aquí lo pongo allá y ya tengo un taburete claro ahora tengo que ver la cámara en un momento fuera no quiero claves y quien se ha deshecho cuando aplicó y si todo va bien ya lo tengo o que busco un ángulo isométrico como ese de ahí render hizo una imagen un poco blanco pero bueno y hacerlo un poquito más gris voy a crear un material de madera y se lo aplico realmente a todos webber creo que nuestro en el caso bien entonces ahora voy a sacar una imagen rémber creo que me dejaron a patadas sin material pero bueno no pasa nada y ahora voy a guardar me voy a videojuegos imagen o no crea lo propio barrero rose ok me aseguro de que guardado y ahora por tanto en el código primero vamos a ver si he cargado el prop que no estoy seguro ahora mismo qué vas a creo la imagen prop 1 esto es propios y por tanto ahora pues por ejemplo en el gimp vengo a la capa de propio y le digo que de color rojo pues quiero pintar no sea unas sillas aquí y otras sillas aquí y otras sillas aquí y otras sillas allí yo que sé y otras sillas aquí no sé para qué notemos que lo que vemos en pantalla realmente corresponde así que exportó lo exportó como mapa uno propio vamos a comprobar si al recargar dice ok cargando propuso 132 pues puede ser que haya dibujado 32 y ahora aquí dentro del bucle vamos a dibujar los recogí bless cargamos los propios y entonces número prox imagen aprox la afecta altura bloque efecto ahora la vemos de ello bien y si todo va bien muy bien condiciones iniciales array props array rocks se ve que he puesto en alguna parte rock no a ride propio guardo recargo y vamos a ver bien no se están dibujando los propios pero no pasaba vamos a verlo imagen prop 1 vamos a las funciones crear recogí bless crear props ok creo un propio aunque esto es correcto array props new propio el propio todo parece correcto l y digo con solé punto log dibujo un propio recargamos correcto está técnicamente está funcionando luego hay algo que no se está ejecutando bien imagen prop 1 vamos a ver mi principal sospechoso ahora mismo es imagen 1 imagen pro 1 imagen prop uno propio uno se llama así 1 si la imagen existe sí vale sí eso está haciéndose correctamente en ese caso mi siguiente sospechoso es el zeta pero el reto ahora mismo no sospecho demasiado a ver bros pues sí sospecho teques y ez por cierto esto más adelante será tipo y entonces this punto zeta y es igual a 0 tengo por aquí recargo quito el bucle quito el dibujo un pro qué machaca un poquito el rendimiento un proto recargamos a ver si reacciona no reacciona cuando eso pasa abrirlo en una nueva pestaña sobre solucionar el problema vale al inicio ok pero no qué y por qué como por aquí guardo recargo jugamos y el caso es que a mira ahora venga los pinta sin tener en cuenta la fe está ahora vamos a por ello pero no vamos a por ello y como vemos por tanto pues ya me está creando ahí en cada uno de los elementos pues una silla lo único es que no está digamos o sea no está cogiendo realmente la zeta no hay ningún problema por ello porque lo que voy a hacer en ese caso es decirle al sistema que quiero sacar la zeta d del plano vamos a verlo me voy a funciones y entonces aquí como te digo lo que voy a hacer es decirle al sistema que vamos a ver array prox dz de nuevo vale array profeta es igual y ahora cuidado ah para que el contexto mapa punto d pixel un mes pero no de x como y 11 punto data d eso es el zeta y de la misma forma arrai recogí bless a raíz recogí bless de números recogí bless la zeta es la altura la el gris que tenga el contexto mapa vamos a por ello y voy a volver a machacar el con sole que como ves el con sole pues bloquea bastante la ejecución y si todo va bien aparte de que bueno parece que ahora veremos pero por menos las sillas vemos como ya intentan estar la altura correcta que lo consigan o no ya es otra cosa pero por lo menos lo intentará y parece que lo consiguen un poco más y parece que lo consiguen un poco más por cierto estaban en el medio estaban en el medio no estaban en el medio es porque se está desplazando un píxel por ahí un píxel por ahí y eso quiere decir no están correctas vale y eso quiere decir vamos a verlo donde estas funciones momento x por 50 + 50 creo que es esto + 50 y más 50 y así nos vamos a un desfase a cada uno de ellos por eso eran menos 50 era menos 50 y menos 50 vamos a verlo ahí al final y si es más yo creo que lo mejor que podemos hacer incluso es aquí decir 1 2 3 y 4 rodeamos el personaje de cuatro sillas y ahí es no vamos a ver mejor si están correctamente o no es menos 50 y así ahora los productos estaban correctamente en x en y en zeta ahora sí bien y con esto como podemos ver tengo algo que parece un poco ridículo evidentemente que es que he puesto pociones y sillas es como para que me sirve tener pociones peter en sillas bueno pues la idea precisamente es que donde he puesto sillas ahora puedo poner sillas mesas bosques jardines paredes puedo poner lo que quiera literalmente configurar me la escena como quiera y donde he puesto posiciones pues puedo cualquier cosa que me interese recoger puede pociones puede armas puedo energía puedo lo que quiera vale decir la idea no es ya implementar un propio la idea es que una vez que hemos visto que hemos implementado un propio pues podemos implementar tantos propios como queramos bien ahora vamos a hacer lo siguiente vamos a empezar implementando el salto del personaje y voy a hacer lo siguiente voy a decirle al sistema en las condiciones iniciales donde definimos al personaje digo bar el salto personaje es igual a cero y ahora a continuación cuando le dibujó al personaje aquí en el bucle cuando dibujo al personaje le digo menos post z menos personajes alto era el salto personaje el personaje salto no me acuerdo era salto personaje bien entonces ahora yo lo que puedo hacer es que cuando pulse una tecla podría ser la espaciadora podría ser la zeta por ejemplo no lo sé puede ser cualquier tecla le voy a inicio y en este caso voy a decirle sí si la tecla que pulso es la zeta en este caso no se aplica dirección pero si se aplica saltando es igual a true y vamos a ver cómo estás aquí y salto personaje es igual a no se prende entonces ahora vengo por aquí y en el bucle aquí en el personaje mismo si saltando es igual a true bien en ese caso salto personaje igual a 4 voy a probar y sí salto personaje es menor que cero es decir que ya acaba de saltar en ese caso saltó en ese caso faltando es igual a cero voy a probarlo recargamos jugamos hola vale algún error saltando y es notifight condiciones iniciales bar era moviendo más saltando es igual a falls vale le voy a jugar pulsamos la zeta vale así que algo salta pero vamos a hacer que salte más rápido aquí en el inicio saltando bar velocidad z es igual a cero muy bien es como las ecuaciones del tiro parabólico velocidad zeta es igual a 40 y aquí en el bucle le vivo salto personaje es igual es más igual a velocidad zeta y entonces velocidad zeta es menos igual y ya está vamos a verlo jugar y vemos ahí como tenemos ya al personaje saltando no sé si está en el sitio correcto debe volver siempre el sitio correcto ahora ya es un alto un poco exagerado evidentemente vale con lo cual pues podemos decirle por ejemplo qué velocidad acepta es igual a 20 y en el bucle le decimos que veloz y acepta dos menos igual a cinco ya es bastante yo creo que ella está bien vale tengo muy claro se ha quedado el sitio correcto he sacado el sitio correcto hola deberías haber recargado el juego ya tenemos el salto vamos ahora a por la interacción de la acción podría ser disparar podría ser golpear podría ser recoger un objeto podría ser cualquier cosa vamos a por ello si mantengo la fe está lo que hace es que acumula el salto cosa que en un principio podría ser una mecánica del juego pero yo lo que voy a hacer es que en inicio voy a decirle que si la zeta es esto y saltando es igual a falls y con eso lo que voy a hacer es decirle que no puede saltar hasta que haya dejado de saltar pues algo así y fíjate que puedo saltar muchas veces pero no puedo saltar una vez encima de otra entonces bueno es una forma que podemos tener de programarlo bien luego como te decía luego como te decía por aquí vamos a verlo escritorio junta hey aquí personaje de acción y preparando una serie de sprites ahora los verás me voy aquí a box me voy a útil en imagen por lo que había y pego lo nuevo me voy a útil el cargo lo que había y el personaje lo que hace es que da la mano no tiene más joven le da la mano entonces ahora guardo este personaje me lo guardo en videojuegos en imagen en personajes como personaje de acción lo cargo en condiciones iniciales donde cargo el personaje imagen personaje acción bien y entonces ahora lo que voy a hacer mi inicio es cargar una acción vamos a verlo si la tecla es igual al ave a la vez en la que quieras vamos a ver acción es igual a falls acción es igual a true y velocidad 7 no se aplica en este caso entonces en condiciones iniciales acción es igual a falls en el bucle en el personaje le digo acción es igual a true en caso contrario tal copio y pego imagen personaje de acción vamos a ver lo que hace hemos hecho vamos a verlo vale estoy pulsando la e no hace nada no sé si es un error pero de él claro bien tengo que moverlo para que el personaje haga algo porque si moviendo es igual a true no vamos a ver va a ser lo que él a ver estéis donde acaba hola soy muriendo es igual a true and acción es igual a falls vamos a verlo mueve el personaje por acción es igual a fons creo que es me está saliendo lo contrario cambian desde cuando mueve los dos brazos así es y si se vale muy bien vamos a ver ah claro ok pulsó la tecla ok si moviendo es igual a otro voy a hacer un condicional más complejo si muriendo es igual a true and acción es igual a fox o bien acción es igual a true ok en ese caso vale esto va aquí esto este paréntesis sobra y ahora quiero decirle que la acción no dure mucho cuidado bucal 162 esto no sé por qué es incorrecto si moviendo por acción es igual a true lo da como error en la línea 171 así porque falta un doble igual y ahí se pone a hacer la acción pero luego no para entonces estado animación más ok y bueno puedo decirle que aquí acción es igual a falso cuando llega al final del bucle para yo creo que más o menos ya o que ya yo tenemos cuando hace así hace la acción y luego ya continúa caminando con normalidad ok vale con lo cual tenemos ya por aquí pues tanto los productos como debería detectar colisión con los productos por cierto ya haremos eso vamos a trabajar un poco los recogí bless porque claro cuál es la diferencia hasta ahora con los trozos y los recogí bless ahora mismo ninguna pero según la mecánica de un juego sí que tiene que haber diferencia y es que el recogí blé cuando los recoges deja de existir mientras que el prop siempre existe porque técnicamente no lo puedes recoger así que vamos a programar una vez que tenemos eso por tanto vamos a verlo lo que vamos a hacer es decirle al sistema lo siguiente vamos allá para esto que voy a hacer es muy delicado porque yo tengo un listado de objetos que son enemigos de instancias de clases un listado de propios son propios un listado de recogerles que son recogidos bueno pues lo que voy a hacer es que cuando me acerque a un recogí blé el recogí blé va a desaparecer pero cuidado porque al desaparecer por qué desaparecer básicamente quiere decir eliminar un elemento de la matriz y si elementos y eliminó un elemento de la matriz tengo que tener cuidado con qué pasa con esa matriz entonces yo vengo por aquí yo vengo por aquí y ahora en cada uno de los elementos en cada uno de los propios perdón en cada uno de los recogí bless voy a mirar la distancia del elemento al recogerle y entonces ahora voy a decir lo siguiente me voy al personaje creo que teníamos por aquí la distancia no está en el bucle me voy aquí me voy a los recogí bless y digo 2x menos a raíz recogí bless larra y recogí bless y digo si la distancia es menor que 50 con solé puntos estás cerca de él recogí ble así que vengo por aquí me acerco al recogerle y dice estás cerca del recogí blé y yo ahora salgo y me acerco y tal bien ahora lo que voy a hacer por tanto es decirle al sistema que si la distancia es menor que 50 me quiero cargar ese recogí blé me quiero cargar ese recogí blé en javascript es la función splice es decir es flight lo que hace es eliminar un elemento de lamadrid entonces vengo por aquí y digo javascript array ritmo del evento ir a las playas el ritmo ay esplais y me vengo por aquí hay puntos a raíz recogí bless eliminó el índice y ya está vamos a verlo le doy ahí me acerco al elemento y para vale en este caso el elemento desaparece porque ha desaparecido por una razón muy sencilla vamos a ver voy a sacar un google drive y así lo voy a poder explicar mejor porque el trabajo con matrices es un trabajo bastante teórico verás voy a sacar una hoja de cálculo vale yo he dicho tengo aquí un grande yo he dicho tengo 55 recogí bless y el programa hace valer recogerle 1 recogerle 2 recogerle 3 4 y 5 y cada uno tiene su x xxx y y sujeta y solo que quieras si yo por ejemplo cojo el tres y lo eliminó no pasa nada es perfecto el programa lo que hace es decir vale ok pues vale ya tienes el tres copas no tienes el 1 2 4 y 5 pero problema yo aquí le he dicho que tengo 5 elementos con lo cual cuando llega a este de aquí que es el número 5 dice vale dónde está la equis legria no existe doy error saldo y error porque estoy buscando la equis de algo que no existe entonces la solución es número recogí bless menos sale tengo que avisar al programa de que si he quitado un elemento de la matriz ahora la longitud de la matriz es menor así que por tanto recargo por aquí le voy a jugar me acerco al recogí bleu y el recogió le desaparece y no pasa nada más no pasa nada más por ejemplo la energía la puedo subir es decir por ejemplo energía más igual a 20 no lo sé igual se sale la barra pero bueno voy a dejar que me quiten un poco de energía ok vale ya ahora vengo por aquí y no sé si has visto que la energía ha subido entonces la idea es que los recogí bless pues tienen que hacer algo tengo por aquí pop y ha subido por cierto la barra de mi barra de vida no está subiendo conmigo vamos a verlo personaje y por cierto mi barra sube tampoco salta conmigo mi barra bueno pues esto es por esto - poste está menos alto personaje tiene que estar ahí y tiene que estar ahí vamos a comprobarlo jugamos vale vamos a ver como mi barra ahora salta conmigo y vamos a ver como mi barra sube conmigo también vale muy y como podemos comprobar ahora recojo el cuidado vale ha vuelto a fallar qué raro no sé por qué ha fallado ahí al recoger ese algo tiene que haber hecho mal puede ser y como era el último me dice que ya no puedo recorrer la matriz puede ser perfectamente que sea por eso si al hallar lo que quiero es decirle al sistema que no quiero mirar si hay algún propio en esa yo me voy moviendo cuando yo me voy digamos pasando por la pantalla quiero decirle al sistema que preguntarle si hay algún pro en el sitio donde yo estoy moviéndome para decirle bros si hay un propio no te puedes mover vamos a hacerlo no pasa nada porque en un momento dado y eso si te fijas lo he hecho antes cuando una raíz se queda sin elementos yo creo que puedo hacer cuando dibujo el array antes de empezar a decir numero props pues puedo poner un elemento aquí arriba o recogí blé es un elemento ya que de arriba que diga si recogí bless es mayor que cero en ese caso entra dentro del núcleo es decir hay muchas formas de asegurarnos que el programa no de error en ese tipo de bucles porque ya te digo es muy normal y hay veces que incluso cuando cojo un recogí blé por error lo quita dos veces con lo cual el número es recogí bless puede llegar a ser negativo por eso puede ser error entonces hay formas de intentar atrapar esos errores y corregirlos y compensarlo así que eso es un poco dentro de lo que lo más normal del mundo entonces ahora lo que voy a hacer es que cuando el personaje se mueve vamos a verlo vale moviendo es igual a true vamos a ver el bucle vamos a ver el bucles y moviendo es igual a true no posee x vale muy bien vamos allá entonces ahora vengo por aquí dar sólido es igual a contexto propio era contexto propio vamos a verlo en el contexto mapa propio con texto map aprox contexto nueva propio punto getty image data punto flora 2x partido 50 como punto flor después y partido 50,11 punto data d 3 que es el alfa y entonces yo digo sí sólido es igual a cero eso quiere decir que te puedes mover eso quiere decir que te puedes mover es decir esto mismo lo voy a aplicar sobre cada uno de los elementos para decirle al personaje que no se va a poder mover si está colisionando con algún prop finalizó sangro recargamos en efecto identifier 236 bar sabe que me he cargado a mí me lo ha cargado también bar y ya recargamos vamos a jugar no se ha recargado y vamos a ver me quedé atrapado en medio del armado me quedó atrapado vale fantástico vamos a encontrar estas sillas vale antes me había quedado atrapado vamos contra esas sillas ah perdón es que no es 0 2 0 es 255 así es sólido es que es 255 recargamos claro sí ahí estoy atrapado y voy a eliminar donde estas gomas aquí toca gomà si css goma o mahoma goma con banco más no sé por qué el fin vamos a darle propio bar recargamos áspera a ver si hay tengo algo todavía pero no claro claros y sólidos igual a 0 no estaba bien programado estaba bien programados y sólidos igual a 0 te dejo moverte vamos a ver si podemos colisionar con las sillas y mira qué bien ahí sí que reconoce algún tipo de colisión de alguna forma eso tengo que afinarlo suele tener que afinarlo pero sí que en cierta forma ha reconocido colisión con las sillas y cuando algo así ya no puedo tirar más vale ok pues eso tengo que verlo eso tengo que analizarlo será un poco para mejorar el código pero básicamente ahí lo tenemos bien entonces ahora lo que voy a hacer pues bueno voy a pintar un poco algunas algunos niveles más reducción ahora es cuando podemos empezar a jugar digamos desde el punto de vista en el que podemos empezar a crear escenarios completamente personalizados con todo esto que tenemos lo único que nos quedaría por ejemplo pues sería hacer múltiples tipos de propios múltiples tipos de recogerles vamos a hacer eso pero ya te digo que eso no va a suponer ningún problema porque como la verás ni siquiera hay que repetir el código es un poco de copiar y pegar y ya está esto lo vamos a hacer de forma que me voy a ir al gym voy a abrir voy a ing voy a recoger les voy a posición y esto va a ser tono saturación pues quiero una poción verde opción 2 y quiero una poción azul cocientes esto quiere decir que yo ahora me voy al código me voy a condiciones iniciales me voy a mapa uno recoge recogerle uno me voy a recogí bledos y recogí bleu 3% 2 y poción 3 y ahora en los recogí bless recordamos que teníamos ahí el tipo pues disputó tipo por cierto qué dirección ya no hace falta this punto tipo es igual a más punto flor demás punto random x 2 0 1 y 2 03 por qué entonces ahora me vengo al bucle y en los recogí bless en los recogí bless vale voy a decir que sí this punto tipo es igual a 1 en ese caso esto si de tipo es igual a 2 y es igual a 3 imagen recogidos imagen reconocible 3 y si todo esto ha ido bien de esta forma pues ya no tenemos un una poción roja recogí bleu a ver un segundo bueno creo que han desaparecido todas vale no vamos a ver if this tipo no es distinto tipo es a raíz recogí bless punto tipo vale tampoco tipo es igual a 1 tipo es igual a 2 vamos a verlo this punto tipo es más punto flor más punto random x 3 interesante más punto round vamos a darle y bucle e entonces imagen recogí bleu a ver si es que no he puesto lo correcto imagen recoge 1 yo creo que no está cogiendo el this punto tipo entonces con soles punto log puede ser imagen recoge uno correcto tampoco eso acaba de explicar por qué porque eso lo que haría es que serían todos rojos vale hay azul vale correcto el tipo es 0 2 y 3 qué curioso nunca es un voy a recargar el tipo es uno siempre es el tipo de eso no vaya vale ahora sí voy a decir le voy a decir le flor casualidad que el tipo de sido uno ahora vale y ahora tengo ahí un rojo y va de 0 a 2 efectivamente tengo otro rojo habrá sido de casualidad no me quedaba bloqueado vale ahora voy a desactivar el este desactivar la colisión hasta aquí bien y ahora voy a empezar a crear un montón de funciones para empezar pues a externalizar porque si no bucle como has visto se me está haciendo eterno entonces para ello voy a crear un nuevo archivo lo voy a guardar dentro de videojuegos dentro de js y si ya tenía funciones pues voy a llamar a estas funciones bucle junto a js vamos a cargar aquí en index.html funciones bucle vamos a ver bien y ahora lo que voy a hacer es algo que hay que hacer con mucho cuidado y encima está están ahí separados qué es lo siguiente vamos a ver aunque el ok pues luego aquí y digo corto function collection personaje terreno pongo el código dentro y ahora me llegó la función y ahora me llevo la función y si recargo todos deben seguir funcionando correctamente esto que estoy haciendo es medio pantalla x 6 notifight muy bien me dio pantalla xy me ha llevado a colisión un personaje terreno sí cuidado porque estoy declarando esas variables ahí dentro como locales ahora vengo por aquí bueno ahora evidentemente habrá vuelto a funcionar ok bien ahora cálculo desfase pues cojo este código me voy a funciones fue un clon cálculo desfase y lo pego me cojo la función a ver el momento y cálculo desfase me voy a bucle y calculo desfase recargo y como te digo el juego tiene que funcionar exactamente igual la diferencia es que evidentemente pues ahora esto va digamos aligerando sedeco digo vengo por aquí personaje snps corto funciones bucle función pinta en epc y entonces vengo por aquí y pinta en el pc ahora vengo por aquí le digo cojo esto de aquí pintas recogí bless con un clon cuidado ahí solución pintas recogí bless cojo el pintar recogerles que al final tiene la misma pinta es decir al final todo lo que estoy sacando de aquí lo estoy poniendo en otro archivo pero sin embargo ahora vengo aquí propio función pinta propios pinta productos y pinta personaje esto que es así esto es pinta personaje collection próx collection propios y esto de aquí qué es a pintó el premio muere y ya vale pues función pinto premio y función 9 entonces si hago esto ahora el bucle se nos queda así aparte de que pues evidentemente eliminó las líneas que no pinten nada y así pues cuando el meto en el bucle ahora por cierto recargamos para comprobar que todo sigue funcionando correctamente pues fíjate que podemos entender mejor pues que primero dibuja el terreno luego las colisiones luego calcular el desfase luego pinta los 'peces luego pinta los recogí bless los grita los prólogo y en definitiva si yo digo vale tengo un problema con los npcs bueno pues ya sé que tengo que ir a buscar una función que se llama pinta n peces y entonces pues me voy a funciones bucle busco pinta npcs y ya a partir de ahí pues puedo empezar a buscar puedo meter todas esas funciones dentro de un archivo puedo crear diferentes archivos cada uno con una función esto ya es un poco pues al gusto de cada uno es decir es lo que te decía anteriormente de que lo podríamos haber hecho todo en un único archivo y no tendríamos quiere mareándonos con múltiples archivos se puede partir en diferentes archivos y si lo partimos en diferentes archivos pues el límite digamos de cuántos archivos crear no está establecido sino que el límite es evidentemente el que nosotros queramos crear