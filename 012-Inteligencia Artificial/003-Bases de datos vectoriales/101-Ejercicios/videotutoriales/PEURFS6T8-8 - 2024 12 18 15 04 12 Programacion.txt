en primer lugar vamos a empezar por algo muy ligero vamos a empezar por algo muy liviano casi una tontería Y es que vamos a bautizar al proyecto eh yo soy muy malo para el naming Así que lo que estoy haciendo últimamente Es que para nombrar los proyectos que hago pues aplico colores de css3 ya aquí hay una lista de 127 colores vale con lo cual pues tenemos ahí un poco para elegir os paso la lista os paso la lista con lo cual lo que quiero es que elijáis un color el que sea el que queráis y e vamos a ver y bueno yo Mientras tanto voy a abrir una hoja de cálculo que tengo donde tengo un listado de los colores que ya tengo pillados vale con lo cual pues elegido un color y si no lo tengo ya cogido pues le asignamos ese color como nombre al proyecto y ya está vale Así que echadle un vistazo decidme Algún color que os mole y lo aplicamos al proyecto vale Así que contadme Algún color que os guste Algún color que os haga ilusión decidme algo si no le pregunto a chat gpt que me diga old l vale vamos a por ello vamos a ver oqrs old l Vale pues venga me ha molado venga Así que vengo por aquí y aquí en Old L y Oye dónde está old l lo llamo antiguo proyecto Apple lo cual quiere decir que ahora luego corregiré ahí vale Lo cual quiere decir que en la carpeta de archivos Pues en dam en primero en lenguajes en punto TR en proyectos voy a crear el 007 eh proyecto old L y en proyecto Apple lo que voy a hacer es que me voy a la última versión del proyecto Apple copio pego y aquí continuamos vale Y 118 continuamos en este proyecto Vale pues vamos allá vamos a ver dónde nos quedamos ayer vamos a ir aquí proyecto Apple no vamos a ir al proyecto old l vamos a Front y en el Front pues teníamos esto teníamos la capacidad de ir a un producto comprar el producto confirmar el producto Mira al parecer recuerda el procesado que hicimos ayer Recuerda los productos que teníamos ayer Así que le doy a procesar pedido y al procesar pedido pues pongo José Vicente carratalá email del cliente y de momento le doy a enviar y veo cómo se envía pues esto que tenemos aquí bien cuando guardamos un pedido exactamente qué es lo que guardamos Pues bueno os cuento voy a sacar un blog de notas veréis cuando guardamos un pedido en cualquier sistema Generalmente un pedido tiene tres partes y suele requerir Generalmente Cuatro Tablas requiere por una parte los datos de cliente por tanto eso tener una tabla de clientes vale a continuación requiere guardar los datos de pedido eso requiere guardar unos datos de pedido Como por ejemplo fecha del pedido y número de pedido requiere guardar Por una parte una serie de líneas de pedido es decir el cliente puede pedir un número indeterminado de líneas de pedido un 2 3 n vale es un número indeterminado por tanto Eso quiere decir que haría falta una tabla externa llamada líneas de pedido y requiere guardar una tabla de productos para que los productos aparezcan en las líneas de pedido Esto es lo que la información que se va a enviar cuando guardamos un pedido y entonces lo que tendríamos que hacer es Pues en la base de datos at apar esa información guardar el cliente guardar el pedido guardar las líneas de pedido y guardar los productos es un poco vale es un poco extenso es un poco largo sin embargo si nos fijamos en el temario oficial de la asignatura de bases de datos podremos comprobar como no todavía pero sí hacia el final de la asignatura encontramos un punto vamos a verlo encontramos un punto que es uso de bases de datos no relacionales es decir Guardado de la información en bases de datos que no tengan por qué seguir el modelo relacional Generalmente estas bases de datos son bases de datos basadas en documentos donde por ejemplo estaremos trabajando con la base de datos mongodb que cuyo nombre probablemente habréis habis oído aunque sea de pasada en los últimos meses o en los últimos años si no sabéis lo que hace No pasa nada porque lo veremos aquí en la asignatura pero En definitiva se trata de saber y de entender que el modelo relacional el modelo sql está muy bien y nos soluciona muchas cosas pero hay cosas que a veces puede no solucionar por ejemplo en este caso Yo tengo como estamos viendo yo tengo aquí un jotas son donde yo puedo decir bueno que realmente no me apetece separar esto en diferentes tablas Por qué no puedo guardar un pedido que directamente el pedido tenga esta información y ya está de hecho en este caso incluso eh puedo hacer lo siguiente vamos a ver Me voy a ir aquí me voy a duplicar el proyecto voy a guardarlo como 119 ampliamos datos del pedido para hacerlo más estructurado todavía y hacerlo incluso ahora veréis más entendible todavía el documento que vamos a enviar así que me voy a Primero me voy a lenguajes me voy a manipulación me voy a proyectos me voy a old me voy a continuar me voy al módulo ya sabéis de la tienda benditos módulos que nos permiten trabajar Únicamente con el código que nos interesa ojo si el código de la tienda ya es largo imaginaos estuviera juntando los códigos javascript de cada proyecto esto sería inm tenible vale sería un mazacote de código bien pues Yo vengo por aquí listado de productos aquí y en el jas como yo sé Y esta es una lección que a este punto del curso debemos haber aprendido ya yo sé que eh Jason me da una libertad gigante Yo sé que puedo reestructurar el formato del documento como me dé la gana por yo voy a decir eh cliente dos puntos y todo esto lo meto en un objeto todo esto de aquí lo meto en un objeto interesante que le apliquemos sangría al código para entender mejor Cuál es la estructura del código Vale entonces tengo cliente pues estos datos de aquí ahora puedo crear otra otro otra entrada en la estructura otra propiedad dentro del Jason que sea pedido datos del cliente y datos del pedido y yo por ejemplo en este caso voy a decir Bueno pues Quiero la fecha y la fecha va a ser vamos a decir Let fecha es igual a New date y voy a decir en este caso que LED en fecha completa o fecha humana es igual a fecha pun get full year más guion más fecha get month + 1 hay que fastidiarse vale porque los meses en javascript van del 0 al 11 en lugar de ir del 1 al 12 no sé a quién se le ocurrió esto pero no tenía un buen día se ve esa persona y fecha get day estoy dudando vale estoy dudando Entonces vamos a ver chat gpt momentín por aquí vale Okay y digo eh vamos a ver y digo Script date get day of month para asegurarme que estoy cogiendo el correcto es get date Vale pues no es get day sino es get date bien y ahora a continuación Let número pedido es igual a fecha get full year más nada más fecha getm o sea esto de aquí vale pero lo enaden con nada y ahora como pueden ha ver varios pedidos en un día más fecha punto get hours más fecha pun get minutes más fecha get seconds y Esto será el número de pedido vale luego el número de pedido ya veremos que se tendrá que convertir más adelante no ahora en un número de factura el número de factura ya tendrá que ser eh correlativo Por temas de declaración de impuestos y todo eso vale Pero el número de pedido no tiene por qué Así que fecha es igual a fecha humana coma número de pedido es igual a número de pedido y vamos a verlo esto es un Jason que tiene una pinta muy buena vale esto es un jas que tiene un grupo de datos de cliente donde estoy guardando estos datos pero ya sabéis que vosotros podríais guardar muchos más un número de datos de pedido y un listado de productos vamos a probar esto vamos a comprobar si funciona correctamente ampliamos datos del pedido me voy a la tienda por aquí podría y hacer un acceso directo a la tienda pero bueno me voy a la tienda le doy a procesar pedido proceso el pedido y si todo ha ido bien y debe ser que sí le doy a enviar y vemos que tenemos datos del cliente tenemos datos del pedido y tenemos datos de los productos que vamos a comprar Entonces tenemos un archivo js muy bien estructurado y tenemos un archivo js que tiene muy buena pinta para enviarlo al servidor ahora qué es lo que vamos a hacer a continuación Pues mañana le enviaremos al servidor el siguiente pedido hoy es mañana así que el servidor lo que tiene que hacer es acoger ese pedido y persistir lo y guardarlo de alguna forma y esa alguna forma ahora veremos qué forma es de momento vamos a asegurarnos que el servidor recoge el pedido así que a continuación copio y pego 120 eh recogemos el pedido en el servidor entonces Front módulos tienda js vale Y una vez que hemos preparado el producto el pedido Perdón una vez que hemos preparado el pedido aquí donde pone mañana le enviaremos al servidor el siguiente pedido pues pongo fetch y voy a lanzar Algo vamos a ver tengo por aquí algún fetch no tengo ningún fetch Ah no Claro porque lo tengo en el pedido vale Ok bien pues fetch dos puntos barra eh servidor creo que era no back Y qué operación voy a hacer en el Back Pues en el Back vamos a verlo voy a decir If is set If set get envío vale tengo tabla tengo Busca Pues ahora quiero envío y set get envío en este caso pues vamos a hacer algo bien Vamos a ver ese algo que hacemos entonces me voy aquí y digo envío es igual a más J son stringify de Ok espera Esto va Aquí Ok de jas punto fun y digo return y voy a decir de momento response text Ok de momento y ahora punto den fun datos y return datos perdon returno console log datos en el servidor voy a decir si get env eco ok es decir esta es la parte de cliente que envía y esta es la parte de servidor que recibe vamos a ver si es cierto Que de momento está recibiendo Así que recogemos el pedido en el servidor me voy a Back no me voy a Front me voy a un producto me voy al carrito me voy a procesar José Vicente carratala email enviar y me dice ok recibido vale pero tened en cuenta que quien me dice ok recibido es el servidor demostración de que al menos Hemos llegado hasta aquí ahora a continuación digo okay pero dime qué has recibido vamos a ver si estoy recibiendo lo correcto Así que le doy a enviar y digo vale Mola esto que está recibiendo el servidor es lo correcto está recibiendo los detalles del cliente los detalles del pedido y los detalles de los productos vale Mola lo está recibiendo todo correctamente Muy bien pues ahora a continuación lo que quiero es atrapar eh una información en php y guardarla de momento en alguna parte del disco Vale ahora veremos porque esta información como os digo en formato js que voy a atrapar Pues ahora veréis que como ya hemos trabajado bastante con sql Tenemos que trabajar más con sql Vale pero como no todo el campo es sql sino que hay más tecnologías pues hoy quiero demostraros Cómo me puedo guardar esa información directamente en json y no hay ningún problema Por ello así que me vengo por aquí me vengo por aquí y digo eh php get eh Jason String convert to Jason and save to file and save to Jason file Pretty print es que me lo escriba con intentacion con tabulaciones bonitas vale lo de Pretty print su un poquito de coña pero ahora veréis que no es así que veis hay un comando que es Pretty print bien Así que vamos a ver cojo por aquí esto y le digo datos es igual a j son de code de envío el eco este ya me lo puedo quitar porque ya tengo Claro que lo he recibido correctamente Vale ahora vamos a ver esto no lo quiero Esto sí que lo quiero y entonces digo archivo es igual a salida json Vale ahora hablaremos de eso evidentemente luego no se podrán Llamar todo salida porque si no estaré sobrescribiendo todo el rato el mismo pedido vale Pero bien eh Ahora J son Pretty vale voy a llamar a esto datos bonitos voy a codificar los datos en Jason Pretty print ya os digo que la única diferencia es que el archivo en lugar de escribirlo todo a Palo Seco lo que hace es que lo escribe con sangrías e indentaciones y desde un punto de vista humano pues es más fácil de leer y ya está Vale y bueno file putut contents como veis me estoy saltando toda la estructuras de control para asegurarme que con las mínimas líneas posibles el php hace lo que debe hacer luego ya más adelante ya explicaremos para qué sirven esas estructuras de control y que realmente chat gpt hace bien en darnos esas estructuras de control vale pero yo ahora mismo estoy dando una clase y lo que quiero mi prioridad ahora mismo es enseñaros que con las mínimas líneas de código posible se puede hacer el trabajo y luego más adelante ya veremos que es conveniente poner una serie de estructuras de control para asegurar qué es lo que ocurre si el programa por lo que sea falla bien si todo ha ido bien si todo ha ido bien yo ahora vengo por aquí Bueno puedo decir eco ok Al final no está demás Pero bueno bien le doy aquí a enviar me dice ok pero si realmente ha ido okay Es que aquí en la estructura de directorios habrá guardado debería haber guardado a ver dónde lo he guardado no igual es que tengo que darle permisos vale eh vamos a ver refescar vale No lo ha guardado Ah sí Perdona salida Jason sí que lo ha guardado no lo veía vale Así que hago doble clic y esto que veo es una maravilla esto que veo es una auténtica maravilla Y cuando digo que es una auténtica maravilla lo que quiero decir en este caso es que pues veo que la información que me ha enviado el cliente el servidor la ha recibido la ha guardado directamente a un archivo Jason y Yo abro el archivo Jason y yo aquí veo Gloria pura Yo abro este archivo js encima me lo ha hecho con lo cual me lo ha hecho con sangrías y todo eso y veo datos de cliente y veo datos de pedido y veo datos de productos y digo vale o sea sql Mola pero guardar información en un solo archivo de Jason donde además en un archivo de Jason puedo tener una estructura todo lo compleja que quiera y dentro de una propiedad puede tener una Ray y dentro de ese aray puede tener una lista de objetos fantástico Vale y digo Oye no todo sql bien claro Ahora yo lo que estoy haciendo es guardar esto aquí directamente en los archivos del bac bueno Esto no debe ocurrir evidentemente vale por tanto lo que voy a hacer de momento es mejorar el Guardado de sus archivos guardarlo de forma más ordenada Así que guardado dejas más ordenado sin AC por si acaso Y entonces me voy a ese proyecto 121 y dentro del proyecto 121 me voy a hacer una carpeta nueva llamada aquí no me voy a hacer una carpeta nueva llamada eh base de datos más que nada para diferenciar lo que son archivos de programación del bac con lo que es una base de datos de hecho incluso aquí me voy a cuidado no perdón aquí me voy a hacer eh aquí una subcarpeta nueva llamada pedidos queriendo decir que más adelante podré guardar en esa base de datos no solo pedidos sino cualquier otro tipo de información que me interese vale hoy pedidos más adelante ya veremos me voy a Back me voy este salida Jason me lo voy a eliminar ya sabéis para siempre intentar separar lo que es el código de lo que son los datos vale Así que me voy a Index php y digo Mira esto para empezar te bajas una carpeta te vas a la carpeta base de datos Y te vas a la carpeta pedidos de momento y esto que se llama salida js pues no quiero que me lo guardes como salida js quiero que por ejemplo para ponerle un nombre le pongamos el date u es decir la era un el número de segundos que han pasado desde el día 1 de enero de 1970 hasta este momento para qué pues para que cada pedido tenga su propio identificador inequívoco vamos a verlo si esto ha ido bien y debe ser que sí me voy al proyecto 121 me voy a Front me voy a diseño no me voy a programación al Blue me voy a la tiend proceso el pedido datos del cliente José Vicente carratalá info sabéis que luego podemos meterle más datos si queréis vale dirección dni lo que sea pero ahora para hacer una demostración sencilla Así que le doy enviar me dice ok Y si realmente es cierto que es Ok pues me voy aquí me refresco pedidos estoy en el me he ido al 121 vale me refresco pedidos Eh refrescar vale no lo tengo lleno No pasa nada porque si no lo tengo lleno lo que voy a hacer es que me voy a ir a esa carpeta me voy a abrir un terminal me voy a hacer sudo ch mod 777 men r007 proyecto Okay Vale vamos a volver le doy a enviar me dice ok Ahora sí y en pedidos veo que tengo un archivo con un código y con la extensión jas pero es que a continuación yo ahora hago otro pedido y este pedido es de Juan López Martínez Juan @lopez comom Juan igual compraría otros productos vale le doy a enviar me voy a esa carpeta y en esa carpeta veo que tengo un segundo archivo donde en este caso tengo otro cliente diferente la fecha es la misma pero el número de pedido no es el mismo y en productos pues veo que tengo ahí los productos que sea que haya comprado ese cliente concreto luego obviamente podemos afinar más el comportamiento de la aplicación y podemos decirle que además una vez que haya guardado los productos en la carpeta correspondiente pues además el Front el módulo de la tienda en el js lo que debe hacer pun den Es que la vamos a ver el local storage item el local storage s item carrito es igual a nada Creo que hay un delete item creo que hay un delete item vale Así directamente mejor y Windows location es igual a Index html vale es decir vacío el carrito y te redirija página principal vale o no O igual en lugar de enviarte la página principal pues te muestro un mensaje en pantalla de tu pedido ha sido procesado correctamente Yo qué sé entonces recargo me voy a confirmar nombre del cliente José Vicente apellidos email envío eh delete item no momentín porque ahí he patinado vamos a ver js delete item from local storage y remove item vale remove item Así que vengo por aquí proceso José Vicente car pedido envío vale se me envía Ok se me envía a index.htm claro no es Index html es index.php Okay bien y ahora a continuación index.php y ahora a continuación si me voy a comprar cosas por ejemplo daraki compro confirmo y veo que se ha perdido el carrito anterior porque en el momento vale vamos a ver sí Fran vamos a ver eh ahí para empezar te voy a decir que filosóficamente tienes toda la razón vale Y es que es todo un reto eh diferenciar discriminar y por tanto poner las cosas lo más fácil y lo más agradables posibles a los usuarios reales humanos bienintencionados compradores vale y poner todas las trabas posibles a los Bots con lo cual efectivamente pues una cosa que se puede hacer una operación que se puede hacer es poner algún tiempo de delay para que un Bot se quede frito porque el Bot entiende que debe estar toda la información en ese momento y un ser humano pues no tenga inconveniente en esperar igual uno o dos segundos para seguir a la siguiente operación vale pero sí Fran que sepas que desde el punto de vista de recuerdas que implementamos por aquí en el contacto el tema de la pregunta de seguridad pues por ejemplo así como por ejemplo los jóvenes entendéis muy bien el porqué de este tipo de preguntas porque los jóvenes pues habéis nacido con internet y bueno y sabéis lo que ocurre con internet pero claro la gente mayor cuando ve una pregunta de estas de Dime el doble del día de hoy se quedan fritos porque es como Pero por qué me preguntas esto y por mucho que una persona mayor le expliques lo que son los Bots de internet pues no están preparados para entender ese concepto vale Así que como ya te digo O sea no os voy porque no está en mi mano daros una solución inequívoca de Cómo resolver ese problema Y cómo filtrar porque aparte Cuanto más tiempo va avanza por los Bots más expertos son pero sí que te digo que cuantas más medidas podamos tomar como ya te digo siempre con esa filosofía vale de entorpecer a los Bots pero no entorpecer los seres humanos pues obviamente mejor vale bien una vez que hemos hecho hemos guardado un pedido a continuación qué podemos hacer a continuación qué hacemos con los pedidos Bueno pues recordad que si yo me meto por aquí si yo cambio Front por admin Yo tengo un inicio de sesión Y esto es eh dónde estás mejo carsa supongo jocars jarsa le doy a acceder Ah no perdona info @ jocars comom vale jarsa le doy a acceder y claro yo tengo aquí eh blog tengo categorías tengo productos Tengo categorías blog tengo destacados tengo Héroes está Guay vale pero claro Dónde están los pedidos Bueno pues los pedidos no están de momento porque este panel de control en su momento que en su momento llamamos Dark Slate Blue lo tengo apuntado en la lista de proyectos colores Dark Slate Blue panel de control de primera de dam Sí vale correcto Vale pues eh este Dark Slate Blue lo hicimos para conectarse a mysql Pero obviamente este Dark Slate Blue no sabe nada de la base de datos que acabamos de hacer nosotros en Jason Bueno pues No pasa nada porque si no lo sabe yo voy a aumentar las capacidades del panel de control para que no solo podamos guardar datos en Jason sino que además podamos recuperar los datos en Jason para ello voy a hacer e aquí proyectos voy a hacer una nueva copia Así que 123 Perdón 122 y e ordenación de la navegación en el panel de control y entonces digo lo siguiente proyecto old admin vale en admin me voy a Index no me voy a escritorio Ahora sí y veo que tengo include menú pero en el includ de menú me voy al menú de hecho menú include menú ahí vale tengo un show tables in proyecto Apple OK Pero yo ahora a continuación quiero hacer lo siguiente aquí en ul voy a decir le y voy a decir por ejemplo de momento voy a poner my sql y ahora aquí a continuación voy a poner por ejemplo jas luego Aquí pondríamos tablas y mira voy a ponerlo ya vale tablas y documentos lo digo porque si esto luego no lo usamos nosotros sino que lo utiliza un cliente de la calle pues le pongo May sql y dirá esto Qué es vale pero tablas y documentos pues sí que es un término que la gente de la calle puede entender y ahora aquí a continuación Inc listado documentos eh si queréis incluso aquí vamos a ver voy a entrar en ese panel de control ordenación admin accedo vale me dice que no existe Ok y aquí en Tablas lo que puedo hacer es un destacado es decir Class destacado y Class destacado Por qué Pues porque luego igual en el estilo en destacado le digo background qué colores estoy usando aquí Bueno y qué color es este Espera que te lo digo no Dark sl Blue y el background Qué es background Ah no Espérate m no que es White a ver se Sí pues sí que es White Sí vale pues Venga pues background White y color Dark Slate Blue por tanto recargo vale Y así tengo tablas tiki ti tiki Vale y documentos tiki ti tiqui bien Ahora a continuación claro me está diciendo que eh No se encuentra en este caso el archivo eh dónde estás el archivo espera listado documentos punto php Por qué Porque no lo he creado entonces me voy a Inc me creo un archivo llamado listado documentos php y en listado documentos voy a decir en listado documentos php list all folders in folder scandir me gusta y ya está mín Okay esto quiero vale Así que copio pego y digo escandir A dónde Pues escandir a dos puntos barra base de datos Y ya contenido y ahora eh En lugar de hacer eco folder Pues voy a decir le leches punto y aquí donde pone php end ofline pongo le el If no hace falta porque lo que te digo sí que es una base de datos pero bueno en fin da igual vale Así que vengo por aquí eh aquí recargo y tengo pedidos Pero por qué tengo pedidos Pues porque en esa carpeta de base de datos Hay una carpeta llamada pedidos si además hubiera otra carpeta llamada facturas pues ahí pondría facturas quiero decir con esto quiero decir con esto que pues eh Ahora como podemos ver tenemos un listado de tablas que vienen de mysql Y tenemos un listado de documentos que están en la carpeta de documentos y no pasa nada vale es decir y podemos construir nuestra propia base de datos que obviamente mysql es una super base de datos May sql Mola mogollón May sql tiene un montón de ventajas Pero hay veces que nos puede venir bien utilizar otro tipo de estructuras para guardar eh datos vale Y con esto una vez más os digo que así os voy preparando mentalmente para ese último tema de la asignatura de bases de datos que tiene que ver con el uso de bases de datos no relacionales vale bien pues yo ahora a continuación digo Okay Pues cuando pedidos cuando pedidos espérate porque cuando pincho aquí vale bien cuando pedidos o lo que sea quiero que menú aquí Ah hre vale quiero que me vaya a una carpeta me vaya a una carpeta llamada e bueno carpeta es igual a folder es decir cuando yo recargue me voy a pedidos y al ir a pedidos lo que va a ocurrir en este caso es que el sistema no sabe qué hacer vale No sabe qué hacer porque simplemente el sistema no está preparado para llegar a la carpeta de pedidos porque no sabe que qué es lo que tiene que hacer cuando yo haga clic en facturas o en pedidos o en lo que sea así que a continuación le voy a decir Qué es lo que tiene que hacer bien lo que tiene que hacer es copio pego 123 listado de documentos listado de pedidos o los documentos que sean necesarios cierro por aquí archivo me voy al 123 me voy a admin me voy a ver escritorio qué tiene escritorio Ink tabla pero claro in tabla está preparado para decir si set get tabla pues en ese caso Ponme la tabla pero claro es que en este caso Esto no es lo mismo vale esto es otra cosa así que a continuación yo lo que voy a hacer es lo siguiente en el escritorio voy a decir inclúyeme la tabla e inclúyeme los documentos Qué es documentos Bueno pues creo un archivo nuevo llamado documentos php me voy a la tabla me copio el código y digo Si is set carpeta en ese caso Ted vamos a ver en ese caso Ted TD documento y TD operaciones aquí en el tb esto formulario nuevo no esto no lo quiero ahora vale aquí en el tiod voy a hacer lo siguiente php list all files folder Entonces vamos a ver okay Esto es lo que quiero entonces la carpeta es dos puntos barra base de datos barra geto get carpeta y barra y para cada uno de ellos voy a decir TD espera no TR TD archivo TD operaciones TD TR Si queremos vamos a bajarlo para verlo mejor y así queda más claro lo que estamos haciendo vamos a verlo vamos a ver si esto es cierto me voy aquí a listado de documentos me voy a Back no perdón a Back no admin me voy a entrar me voy a pedidos y veo que tengo los pedidos que están en esa carpeta es decir los pedidos que se encuentran dentro de pedidos en esa carpeta me los pone como una tabla es decir tengo las tablas de mysql clic y tengo los archivos jas a continuación bueno en facturas por ejemplo no hay nada porque todavía no he puesto nada pero en pedidos sí que veo los pedidos Claro si ahora tengo los pedidos pues por ejemplo puedo realizar operaciones con los pedidos por ejemplo Eh quiero ver pues la estructura de puedo ver el contenido de un documento vamos a verlo vamos a hacerlo eh A ver un segundo Aquí tengo botones Sí pero muy feos vale Okay Venga pues en pedidos voy a hacer ahora que tengo el listado voy a hacer 124 acciones con los documentos Qué acciones puedo hacer pues eliminar documentos por ejemplo o ver los documentos Vale entonces me voy a acciones con los documentos me voy a admin me voy a Inc me voy a documentos eh documentos listado documentos y no documentos vale Y ahora aquí en operaciones voy a Añadir por ejemplo un buton y ver el pedido aquí en ver el pedido Pues claro voy a poner un a href eh vamos a verlo and documento es igual a file aquí pongo una etiqueta a aquí esto lo sangro y lo bajo y así un poco pues veréis Cuál es la estructura del de lo que estoy ciando vale de lo que estoy tejiendo con php así que me vengo aquí acciones con los documentos e admin acceder pedidos Vale y tengo un botón de ver el pedido es decir en pedidos tengo un listado de documentos y tengo un botón Que de momento Insisto que aquí Vais a poder meter tantas acciones como queráis pero de momento me permite realizar una acción que es ver este pedido pincho aquí documento el la ruta documento no existe pincho al ver el pedido no existe pantalla en blanco porque me dice documento es igual a esto de aquí pero yo no he dicho qué es lo que ocurre cuando alguien pulsa a ver el documento Vale pues Ahora voy a hacer una cosa Que va a ser maravillosa ahora veréis lo que voy a hacer me voy a apoyar en chat gpt también os lo digo y voy a hacer lo siguiente vamos a ver a continuación ahora a continuación eh recojo el documento vale recojo el documento y a continuación en recojo el documento claro yo aquí en el admin en el Index en el escritorio Perdón hago aquí un nuevo endpoint que es documento un documento en el link creo un nuevo archivo llamado documento php y en documento php y ahora viene lo genial y ahora viene lo fantástic yo digo si es cierto que está puesto documento si es cierto que existe documento yo ahora vengo aquí y digo te voy a enseñar el documento vamos a verlo me voy a recojo el documento me voy a admin me voy a acceder me voy a pedidos pincho ver el pedido y dice Te voy a enseñar el documento es decir demostración de momento de que la ruta de acceso al archivo es correcta y ahora lo más divertido Es que voy a formatear un documento y le voy a decir a php que me lo dé Vale y que me lo formatee y ahora como os digo a continuación es cuando lo Vais a flipar muchísimo porque yo lo que voy a hacer a continuación es decir lo siguiente h1 pedido y entonces digo por ejemplo Table TR TD Y estos son mis datos vale estos son mis datos que son por ejemplo pues j carratalá esto sería un p o un h3 No lo sé ahora p calle de José Vicente Valencia dni un correo electrónico de contacto vale estos son los datos estos son los datos del emisor del pedido vale ahora a continuación vienen los datos del receptor nombre del cliente sabes si quieres aquí voy a poner emisor y Aquí estos h2 Aquí voy a poner receptor calle del cliente e población código postal y población dni y email del cliente Okay y tengo un emisor y tengo un receptor Vale ahora a continuación Quiero los datos de la del pedido Así que creo una nueva fila y digo h2 fecha de la factura p fecha 2024 12 eh Te d número de factura y 2024 12 tiki vamos a verlo vale Y tenemos ahí de momento tanto el emisor como el receptor como todo Por cierto que voy a decirle que este TD va a ser with 50% un poco forzado pero así nos aseguramos de que está correcto y ahora a continuación y ahora a continuación Yo vengo por aquí y digo Vale pues Ahora quiero las líneas de pedido para las líneas de pedido me voy a hacer un TD me voy a hacer un TD me voy a hacer un call span es igual a 2 y voy a decir líneas de pedido Okay líneas de pedido y ahora a continuación Aquí voy a crear otro Table para decir para cada línea de pedido que se ha guardado es decir vamos a verlo para cada línea que se ha guardado Pues el nombre la descripción y el precio Es decir TR th TD nombre del producto descripción y el precio Okay vale Y ahora a continuación pues hago un TR ahora hago un table Row normal y hago a Ah y copio y pego pego porque estoy simulando un pedido con e Qué pasa aquí uy porque tengo aquí un descuadre vamos a verlo th un th vacío porque tengo un se vacío Ah perdón que me he equivocado es Table Row y es th me he equivocado yo al marcar Okay ahora sí vale nombre descripción y precio y por ejemplo al final por ejemplo al final y tampoco para no me quiero liar con impuestos vale Pero puedo hacer un TR TD Perdón call span de dos donde digo total y un precio vale un total vale con lo cual al final tengo el total y el total del pedido lo cual quiere decir lo cual quiere decir como os digo que si me voy a pedidos me voy a ver el pedido tengo ahí el ID del pedido Bueno pues ahora como os podéis imaginar lo que quiero hacer es hacer un mapeo y cuando digo hacer un mapeo lo que quiero decir es que si tengo aquí la plantilla de un pedido plantilla que bueno es ponernos hacerlo con html en un ratito y ya está y tengo aquí los datos de un pedido qué le voy a decir ahora en este caso por ejemplo a chat gpt Pues le voy a decir Bueno pues Eme los datos Y pónmelos en el pedido y hazme el pedido para que en lugar de ser estático sea Dinámico Pero insisto pero a chat gpt no le puedo decir Hazme un pedido Dinámico le voy a ayudar mucho más Y va a funcionar mucho mejor si yo le doy la plantilla que quiero le doy los datos que quiero para eso tengo que haber hecho ese trabajo inicial y le digo Vale ahora júntame una cosa con la otra y cuando me junte una cosa con la otra pues yo también tengo que saber interpretar lo que me está diciendo y tengo que adecuar correctamente el código Así que 126 pedido Dinámico y en pedido Dinámico cierro cierro cierro me voy al 126 y en pedido Dinámico aquí en admin en Inc en documento le digo me voy aquí y digo I have this template no est I have this template And I have this Jason make a template dynamic with php from a j file from that buo J son file containing this Data and set datos del receptor datos de la factura número de factura y fecha de factura and bueno product Lines make them dynamic to populate as many files necessary to render all productos Lines in Jason file puns Hala pues vamos allá una vez que le doy la información una vez que le doy la información con suerte en este caso pues lo que hace php es que es capaz de vale de atrapar los datos Y entonces atrapa los datos y me genera la plantilla pero de forma dinámica vamos a verlo el emisor lo debe dejar igual pero en el receptor aquí es donde debe empezar la fiesta ahí lo vemos vale calle del cliente código postal me lo ha dejado igual vale Por qué Porque no tenemos la información el sistema lo ha detectado correctamente pero tengo la plantilla para más adelante tener la información con lo ual no me preocupa fecha de la factura es correcto número de la factura es correcto y ahora for each productos as producto o sea gu lo que está haciendo es crearme correctamente la plantilla muy bien tiene muy buena pinta así que me lo llevo a documento reemplazo mi plantilla estática con el pedido Dinámico no me hace falta el doble php momento Ah sí si me hace falta el doble php Sí vale OK Sí vale Y esto dentro muy bien y ahora a continuación file get content Data J son no file get contents dos puntos barra base de datos creo que esto es pedidos vamos a verlo vale de momento pedidos y get documento es decir Cógeme el documento Dinámico que te estoy enviando en la URL Así que si esto va bien Así que si esto va bien me voy al pedido me voy a admin me voy aquí me voy a pedidos vamos a ver si hay suerte le doy aquí a ver el pedido y me dice receptor José Vicente carratalá calle del cliente de momento nada vale me dice fecha de factura me dice número de factura me dice todo lo que he pedido y me hace correctamente la suma lo cual de momento tiene muy buena pinta si yo vuelvo a pedidos me voy aquí al segundo pedido y en este caso el segundo pedido es de Juan López marínez que es juan@ara.mil.ar factura pone factura debería poner pedido Pero bueno no pasa nada eso luego lo cambio y pone todo lo que ha comprado en este caso pues Juan López lo cual quiere decir que si ahora sigo el sigo la línea de razonamiento Vale y hago una demostración completa del funcionamiento del Hardware del Software Perdón Pues eso quiere decir que luego evidentemente tendría que hacer por aquí algún botón que dijera vale Okay me gusta el pedido pues convertir en cliente vale Y al convertir en cliente pues esto o bien entraría aquí vale o bien tendría que hacer una eh una entrada llamada clientes o bien en este caso uniéndolos con lo que aprendemos en segundo curso donde iceberg de segundo donde en segundo lo que hacemos es aprender a crear sistemas de gestón empresarial pues ahí conectaría esta aplicación con la aplicación que hacemos en segundo para que ese p ya pasar al departamento de ventas y en ventas luego hicieran una factura Y en factura luego lo pasaran a contabilidad y evidentemente pues eso ya dependería del sistema de gestión empresarial vale para que sepáis un poco también por una parte lo que estáis haciendo en primero y luego lo que hacéis en primero como continúa en segundo vale Muy bien pues vamos a continuar pues vamos a hacer más cosas iba a hacer una demostración iba a hacer una demostración así que me voy a Front vale en Front me voy a comprar un producto a Blue pincho por aquí y tenía ya un Dark caki le doy a alis Blue y ahora tengo Dark kaki y alis Blue vamos a arreglar unas cuantas cosas vale proceso pedido Jaime García López es Jaime @garciaposti le doy a enviar parece que todo ha ido correcto teníamos que poner algún mensajito de tu pedido se ha procesado correctamente Okay Vale ahora me voy al panel de control me voy al panel de administración Entro o sea hasta ahora sería como usuario como cliente ahora sería como administrador me voy a acceder me voy a pedidos en pedidos veo que hay un quinto pedido me voy a ver el pedido y veo que Jaime García López ha hecho un pedido Donde ha pedido estos dos programas informáticos vale con lo cual pues hasta este punto es donde tenemos la información es decir la información en el sentido de que tenemos Pues un sistema mini sistema de gestión empresarial donde tiene una parte de Front donde la gente puede pedir cosas y hay un Back hay un panel de administración en el cual un administrador puede controlar Qué es lo que está ocurriendo y qu qué es lo que ha sucedido hasta el momento ahora como os Digo vamos a hacer mejoras y cuando vamos a hacer una mejora por ejemplo Mirad yo me vengo aquí me vengo al Front y veo dos problemas el primer problema que veo es que quiero un Alice Blue lo compro me voy a confirmar que lo quiero y se añade Aquí bien pero ahora me voy a programación Quiero un Dark aquí me voy a comprar veo que tengo ya previamente un Alice blue pero cuando le doy a confirmar veo que tengo un Alice Blue y un daraki no es correcto porque encima el total es de 110 Por qué Pues porque en lugar de quitar lo que ya tenía y poner lo que tengo ahora lo que ha hecho es sumar Así que vamos a hacer estos pequeños arreglos en el carro de la compra siempre hay cosas que mejorar siempre así que copio y pego 127 arreglo carro de la compra y en arreglo carro de la compra me voy al 127 me voy al Front me voy a módulos me voy a tienda me voy a tienda js y en tienda js vamos a verlo vale en tienda js cuando le doy a confirmar on click es confirmar sí confirmar on click aquí listado de productos Vale y listado de productos lo que hace es aadir aquí está vale aadir a lo que tuviera con lo cual contenedor pun innerhtml es igual a nada Eso quiere decir que cada vez que ejecutes el listado vacía estéticamente el carrito vamos a comprobarlo vamos a arreglo el carro de la compra me voy a daraki vale compro bien tengo Alice Blue tengo daraki quiero Oh mira quiero también pues Quiero comprar ahora un coral pincho Creo que vale 0 Pero bueno le doy a confirmar y veo que ahora ya no se me junta Ya no se me monta vale bien más cosas que quiero hacer dentro del carro de la compra Pues dentro del carro de la compra por ejemplo yo antes de procesar fijémonos como yo voy añadiendo productos pero antes de procesar el pedido Pues debería es una buena costumbre tener por aquí un botón de eliminar de Mira es que he metido este producto en el carro de la compra pero me he arrepentido vale no tengo ninguna forma de decir Oye o quiero Vaciar el carrito o Quiero quitar un producto concreto Vale pues vamos a meter esa forma para meter esa forma lo que voy a hacer es meter a ver bueno el emoji de la x eh emoji x Hola x vale Y esta por ejemplo muy bien vale pues eh Okay pues me vengo aquí y para cada de los productos para cada uno de los productos aquí a continuación voy a decir div Class eliminar pego y div Y entonces vengo por aquí recargo y veo que tengo un eliminar pero no lo quiero ahí vale Deep Class texto y di con esto lo que voy a hacer es que el article del carrito vamos a verlo un momentín esto es de y de carrito artile fantástico estilo general no no estilo de la tienda Ahora sí vale confirmar carrito artical aquí está Pues quiero un Flex flexbox help quiero esto de aquí lo quiero space between y lo quiero Center vale quiero eso de ahí y eso lo que va a hacer es que al recargar Pues tengo las x ahí vale tengo las x ahí para decirle al programa que lo quiero quitar de vale del punto correspondiente ahora obviamente en cada uno de ellos vamos a verlo en cada uno de ellos esto que voy a hacer ahora me va a causar problema pero bueno Class eliminar y producto nombre vale producto es igual a producto nombre vamos a ver esto creo que quitaré todos los corals pero bueno bien Ahora voy a decir que vamos a ver un momenti copio Vale y digo set on click event to all divs with Class Cómo se llama eliminar vale a un bucle vale Sí pero Oh increíble me está haciendo todo increíble fuerte listado productos Vale pues me voy a crear esto de aquí me lo voy a poner aquí abajo y ya está listado productos set eliminar productos eliminar eventos vamos a verlo set eliminar eventos en listado productos al final pongo set eliminar eventos vamos a verlo no estoy muy convencido recargo vale le doy a coral Okay y me elimina los corals correcto le doy a Dark aquí y me elimina Dark aquí vale Y me quedo con Alice Blue Solo tengo un producto en el local storage Solo tengo alis Blue Y si ahora proceso el pedido pues le doy a procesar pedido le doy a nombre de cliente apellidos del cliente email del cliente le doy a enviar vale Y lo tengo ya hecho y eso quiere decir que si ahora me voy a admin Pues en admin veré como en pedidos tendré ver el pedido donde únicamente habré pedido una list Blue vale luego como os digo pues hay más cosas que tendríamos que hacer siempre hay arreglitos que tenemos que hacer vale como que por ejemplo pues ahora voy a hacer arreglos en el modelo de pedido entonces eh 128 bueno arreglos en el pedido en el cliente y el servidor vale nosotros que somos informáticos no entendemos mucho de dinero pero claro esto lo coge cualquier administrativo y cualquier contable o cualquier contable y aquí por ejemplo nos dice vale esto cuesta cero qué c euros cero algarrobas cer vale Qué cuesta pues cuesta 0 eur vale por tanto me voy por aquí y en precio debemos poner 1 eur y aquí debemos poner 1 euro recargamos Espera Perdón que estoy d no toca estoy donde no toca eh Front módulos tienda me voy a tienda vale aquí es donde pongo precio euro aquí es donde pongo precio Euro recargo vale Y ahora sí 0 Vale cuando emito pedido voy a poner un producto que sí que tenga coste quito este me quedo con 90 aquí tendría que poner el precio con dos decimales Pero bueno le doy a procesar pedido nombre del cliente José Vicente envío me voy al panel de control y en el admin observo que también en la gestión de idos pues pone 90 qué 90 algarrobas vale además el en este caso en un listado de pedido lo que es texto es normal es entendible que esté alineado a la izquierda pero lo que es un número debería estar alineado a la derecha y debería tener la moneda en la cual se está tramitando el pedido vale Ya os digo que cosas que a nivel informática pues ni pensamos porque que el tema de los euros nos da igual porque los informáticos somos así pero claro cualquier administrativo cualquier contable cualquier persona de administración que vea esto dirá Es que esto no es válido O sea no estás indicando la moneda en la que se paga este pedido con lo cual me voy al panel de administración me voy a Inc me voy a documento y en documento Pues aquí vamos a ver aquí TD Class precio o Class moneda y vengo por aquí y aquí abajo le pongo Class moneda de tal forma que yo ahora a continuación aquí mismo arriba vale para No complicarme tampoco puedo hacer un Style puedo hacer un Style y puedo decirle qué moneda es texaline right otra cosa que puedo hacer es en la moneda aquí al final le pongo espacio Euro y aquí al final le pongo espacio Euro para que cuando recargue pues fijaos como esas dos columnas se me van a la derecha y las dos tienen dos decimales y espacio Euro y ahora evidentemente pues esto está mucho mejor luego como ya os digo si quiero ampliar más esto Pues podría además poner aquí abajo un par de filas más eh poniendo el IVA y poniendo el total con IVA esto sería la base imponible Pues bueno Vale hay siempre más cosas y más ajustes que podemos hacer para que esto sea más bonito del todo bien y ahora a continuación ya para más O sea para rizar el rizo y pegar el triple salto mortal vale Hoy hay muchos saltos mortales que dar para es la última semana antes de Navidad pues de lo que se trata es dejar este software lo más bonito posible Pues yo ahora a continuación quiero imprimir el pedido vale Quiero que desde aquí Yo además incluso pues pueda esto le pueda dar a imprimir con PDF o lo que sea y se lo pueda enviar al cliente para decir mira tu pedido aquí lo tienes vale No lo sé bien pues ahora a continuación le voy a dar a imprimir directamente control p pero veo que esto es un desastre esto es un absoluto desastre vale yo Esto está al 90 por vale Yo Esto no se lo puedo voy a poner a cu yo Esto no se lo puedo enviar al cliente así porque no le puedo enviar hocar a Dark Slate Blue y tablas y no sé cuántas leches Bueno pues de la misma forma que anteriormente hace unas pocas semanas Estuvimos viendo que existe el concepto de la etiqueta media de css y la etiqueta media de css la utilizamos para hacer un media print Es decir para imprimir vale perd Perdona para hacer un media responsive para que salira correctamente en el teléfono móvil hoy os voy a enseñar que también existe un @ mediaprint que nos dice Cómo salen las cosas cuando Se imprime con lo cual yo ahora a continuación voy a crear un nuevo proyecto voy a crear 129 y mediaprint y en el mediaprint por aquí 129 media print me voy a panel de administración me voy a estilo y en el estilo Y en el estilo digo eh arrob momentín voy a pedir chuleta css media print example solo quiero la primera etiqueta De hecho voy a ver que hace rato que no vebo bien quiero vale Sí muy bien Esto es lo que quiero un momento venga va Esto es lo que quiero ya está esa chuleta quería bien Me cojo media print Y entonces le digo Mira para imprimir no quiero momento a admin acceder vale eh pedido y un pedido no quiero que salga ni el header ni el nada vamos a ver la estructura no quiero que salga ni el header Así que header display known pero atención display known solo en media print vale o sea no es que me ocultes la cabecera Es que solo me ocultas la cabecera cuando vaya a imprimir y ahora a continuación qué me quiero cargar pues me quiero cargar también el nav porque no quiero el nav Así que heer com nav display known lo cual quiere decir que yo sigo navegando por aquí y yo veo que el nav y el header están pero me voy a pedidos me voy a un pedido y le doy a imprimir y al darle imprimir vemos como de momento el header y el nav han desaparecido pero el Main ocupa poco no ocupa toda la página y encima el fondo de la página sigue de color Dark Slate Blue Vale pues yo a continuación digo vale sigamos Pues cuál es el fondo es Body o el fondo es Main el fondo es aquí Vale pues en el body com html Ah por esto Me está doliendo el brazo toda la tarde de que llevo aquí una cosa pegada hay que joderse estoy toda la tarde diciendo me duele un trozo del brazo bien pues background White Así que recargo le doy a imprimir y ahora el fondo es White lo único que pasa es que el pedido no se ve correctamente todavía bien el pedido no se ve correctamente todavía porque el Main tiene la instrucción vamos a ver que te lo digo eh Por aquí estará vale tiene la instrucción de ser bueno no tiene la instrucción Ah mira display Flex Pues voy a decirle Main display block y with 100% es como Olvídate del Flex porque ya no hay Flex al imprimir y quiero que la anchura Te asegures que sea el 100% Así que recargo le doy a imprimir bien Todavía no Por qué vamos a verlo pues no debería a ver Ok vale un momentín men a se Espérate Ah section vale aquí está section y with del 100% Mira sabes qué Main coma section y así me ahorro esto de aquí Okay recargamos Vale le damos a imprimir Ah ahora sí Qué bonito vale con lo cual Pues luego también lo podemos hacer más grande si es que acaso queremos que tampoco es que quiera vale tampoco es que quiera porque todo este espacio que parece que nos queda aquí abajo pero en un momento dado lo podemos utilizar para crear más líneas de pedido otra cosa que os digo otra cosa que os digo es que esa tabla de total quizás podría ponerla abajo del todo no tiene por qué estar pegada arriba Entonces mejoramos un poquito la estructura del pedido vamos a include vamos a documento y en la tabla Aquí está en el TR vale pues aquí cierro el Table aquí creo un nuevo Table pero esta tabla se va a llamar eh tabla a pie con lo cual de momento no se nota vale simplemente aquí parece que se note en cuanto a que se ha separado un poquito pero a continuación el Call span de hecho ya no me hace falta vale Pero a continuación en el print le digo tabla pie es eh Por Pon absolute bottom 10 píxeles porque aquí no se nota pero cuando imprimo la el total cuidado ahí vale cuidado ahí porque se me ha descuadrado con respecto al origen ahora le diré que Wii 100% Pero pues si lo queremos insisto para que no se nos quede todo esto vacío y que se ajuste esto abajo del todo pues el total aparece por allí abajo vale eh voy a vamos a ver bottom 50 píxeles y with es 100% a ver esto recargo print mm no sé por qué bueno si no puedo ponerle el 95 por tendría que averiguar el motivo por el cual vale se me estaba descuadrado esto quiere decir por lo tanto que ahora podría ir a la página web esto quiere decir que ahora podría ir a la página web podría ir a Front podría ir a programación Alice Blue pincho confirmo que quiero muchos Alice Blue ahora a continuación me voy a eh daraki Me voy a comprar confirmo que quiero muchos Dark kakis me voy a procesar pedido el pedido es eh José Vicente carratala email del cliente le doy a enviar y ahora me voy al admin me voy a acceder me voy a pedidos me voy a ver el pedido vale con lo cual pues vemos que tenemos ahí una serie de productos o una serie de líneas de pedido y por tanto ahora al imprimir pues quedará más bonito en cuanto a que se ve como estas líneas pues pueden crecer todo lo que sea necesario y abajo al final del pedido pues tenemos esto de aquí que es el total vale Insisto que esto de el total y ponérmelo aquí bajo simplemente es una demostración de fuerza vale simplemente es una demostración de fuerza en el sentido de que os demuestro que podemos hacerlo luego que queráis hacerlo ya es cosa de cada uno o sea lo que implement cada uno de vosotros depende vale No tenéis Por qué hacer lo mismo que yo luego por ejemplo ahí aparece pedido pero yo quiero Que aparezca más grande y Que aparezca centrado pero en la impresión Vale pues una vez más una demostración de me voy a documento me voy a dónde estás Uh title pedido Sí pero no h1 pedido y le digo en el media print h1 es text Aline Center y font size 48 píxeles lo cual quiere decir que aquí en el panel de control pedido sigue Exactamente igual pero cuando le doy a imprimir pedido se pone con letra más grande y se centra y En definitiva hace literalmente lo que yo le diga que haga vale por tanto pues vemos como tenemos a nuestra disposición el css mediaprint y puede ser de utilidad cuando en un momento dado pues queremos guardar y queremos hacer lo que sea por cierto eh al guardar como PDF eh Por defecto coge el nombre que tengamos arriba vale veis que pone pedido Bueno una cosa que puedo hacer porque entonces yo tendría que poner aquí el número de pedido a mano vale entonces una cosa que puedo hacer un trui para el css print vamos a verlo Es que aquí donde pone title vale aquí donde pone title Yo vengo por aquí un momento aquí y esto es aquí el número de pedido vale pedido atención pedido número de pedido guion y ahora php eco el número de cliente con esto qué consigo con esto consigo que cuando imprimo el pedido vale Yo recargo veis que pone ahí pedido triqui triqui cuando le doy a imprimir y le doy a guardar como PDF automáticamente guarda el ID correcto del pedido y guarda el nombre del cliente o guarda la fecha o guarda lo que a mí me dé la gana Que guarde vale Así que un trui para facilitaros la vida a la hora de imprimir es que el nombre por defecto del documento PDF que imprime en este caso Chrome deriva de la etiqueta title que hayáis puesto en el documento Así que podéis personalizar la etiqueta title e incluso como estáis viendo pues hacerla dinámica una vez que hecho esto Una vez que hecho esto vamos a eh vamos a seguir personalizando cosas vamos a seguir arreglando cosas vale tenemos por aquí el producto jarsa Dark Slate Blue vale Mola eh vamos a ver voy a volver a la al panel principal bien y quiero en este caso trabajar un poquito la imagen corporativa de la Porque no tenemos trabajada la imagen corporativa del panel de control Así que copio pego 130 imagen corporativa admin Entonces yo digo en el Front sí que me suena que tenemos un logo Dónde está en img es logo.svg me lo copio me voy al admin me lo pego mismamente ahí y entonces a continuación puedo usar el logo para varias cosas bueno primero lo quiero configurar entonces me lo voy a abrir con in escape eh voy a buscar aquí el X for Dark Slate Blue es este de aquí y me voy a Ink escape Ah no puedo tocarlo ahí vale Okay venga a ver me voy a escritorio Hola me voy a logo pun svg no jarsa svg Bueno pero tampoco dónde lo puse yo ayer vale Sí ya me acuerdo tengo el logo correcto el más correcto que tengo lo tengo en Nueva web en go en Ah en marun Aquí tengo el logo eso es vale me lo guardo Aquí y ahora link escape me lo abro logo okay Y esto de aquí Ah pues no es correcto no bueno da igual vale esto de Aquí le voy a poner el color este que es el color Dark Slate Blue Vale ahora esto de aquí color de trazo Dark Slate Blue y esto Qué es Y esto es relleno Dark Slave Blue vale ahora esto lo guardo y por lo tanto me lo puedo pasar desde el escritorio no modificación aquí me lo paso aquí Oh no sigue siendo marún no sigue siendo marun Por qué guardar como Ah muy bien escritorio logo.svg reemplazar Vale ahora cojo este lo reemplazo ahora sí que es Dark Slate Blue vale Y entonces Esto vale Y entonces esto en admin me voy a Index y para empezar pongo img src logo.svg vamos al admin Okay pero no Okay Por qué quién tiene debería ha Aquí vamos a ponerlo en el Main debería haber un texaline Center Wow fantástico pues form Vale entonces esto es ID logo y en el estilo del login le vamos a decir que logo margin auto no A ver qué pasa luego margin auto y en el form podría decirle en el form podría decirle que text Aline Center Ahora sí muy bien Además yo quiero que ese logo también aparezca en el favicon Así que favicon svg muy bien Sí pero esto es lo que quiero Esto me lo guardo en el Index como link favicon icono logo.svg y de esta forma Ahora cuando recargue aquí veremos que momentín dónde estás no aparece todavía logo svg image tal Vale ahora aparece ahí tenemos el logo y vamos a poner también en login aplicación pues vamos a poner Dark Slate Blue que es el nombre de la aplicación con la cual estamos Iniciando sesión de hecho literalmente es jarsa y separador y Dark Slate blue para verlo mejor para ver la pestaña más ancha pues cerramos unas cuantas pestañas y ahora vemos mejor ahí el título bien con esto tenemos un poquito de imagen corporativa un poquito más ajustada al Eh pues al menú de login y ahora a continuación pues le doy a Acceder al darle acceder pues vamos a seguir haciendo ajustes en el panel de administración Pues aquí bien para ello ahora en el panel de administración en el escritorio Pues también lo que voy a hacer Es que aquí donde pone jarsa Dark Slate Blue Pues voy a poner por una parte el logo vamos a ver dónde heer no en h1 A ver no le ha hecho mucha gracia que lo ponga ahí bien No pasa nada vale Ah Espérate que quiero claro Necesito el invertido venga ahora ponemos el invertido es que me cojo el relleno y a este elemento le digo no el relleno es este color Y el color de trazo es blanco y a este elemento de aquí le digo que el color de trazo es blanco y el relleno es blanco con lo cual tengo el logo invertido de jarsa para Dark Slate Blue esto se llama en escritorio logo invertido Ay no quieto se llama venga se llama logo invertido svg y ahora aquí cojo logo invertido me lo copio en esa carpeta vale Y ahora a continuación en el panel de control quiero logo invertido vengo por aquí y ahora tengo el logo invertido quiero que sea más pequeño obviamente vale Así que en el código ahora cierro cosas en el código del escritorio le digo logo Es with de 30 píxeles okay vale más 60 píxeles OK ahora el h1 es flexbox entonces hago así y ya está y en el Center y hago así que h1 es esto OK ahora mucho mejor ahora a continuación pues vamos a ver ahora a continuación qué te iba a decir yo sí el aquí el título en escritorio Me cojo Por una parte el favicon y me lo aquí y me cojo el title y me lo pongo aquí recargo y ahora también tengo ahí arriba el fabico correcto el nombre correcto del producto del proyecto o de lo que sea y tengo por aquí el Dark Slate Blue que es la el panel de control vale Y como os Digo vamos Ajustando cosas vamos tocando cosas vamos mejorando cosas Qué cosas nos faltan Pues nos faltan muchas cosas vale por ejemplo una cosa que me falta es un botón de cerrar sesión un botón de salir de aquí no tengo forma de salir de aquí más que hacerlo a mano vale pues vamos a Añadir un botón de cerrar sesión Así que voy a cerrar por aquí cosas eh cosas que con las cuales ya haya acabado vale Esto está claro eh bueno Esto está claro Vale entonces ahora copio pego y f2 131 cerrar sesión encerrar sesión vamos a ver eh caray Estoy buscando yo emoji eh shootdown emojis Wow eh shootdown es este Pero qué raro Este vale copiado bien me voy a cerrar Esto me voy a 131 cerrar sesión administrador escritorio y aquí en el escritorio en el header vamos a estructurar un poquito más esto para que quede mejor vale luego esto y ahora Aquí voy a decir div ID cerrar sesión div Okay y pongo eso de momento Así que vengo por aquí me voy a la siguiente parte del proyecto me voy a cerrar sesión no me voy a admin quería decir y veo que tengo ahí el botón de cerrar sesión que luego lo puedo hacer más grande más pequeño o lo que sea Mi pregunta es cómo hemos iniciado sesión es decir cuando inicio sesión qué ocurre realmente vamos a ir a login Ah claro y no estamos uando and ningún método de cómo te diría yo de inicio o sea de crear una sesión real vale esto quiere decir que cualquier persona que venga por aquí es decir cualquier persona que entre al admin Pues en lugar de conocer el usuario y la contraseña pues puedo hacer Sí pues mira entro directamente a escritorio php Hala ya me he colado entonces Claro pues no Mola vale la forma una forma hay varias vale pero una forma de Iniciar sesión correctamente es utilizar las sesiones de php tiene una herramienta Yo antes la utilizaba mucho ahora la utilizado la utilizo menos pero es crear una sesión de php en lugar de trabajar con variables locales para ello voy a hacer lo siguiente vamos a ver primero escritorio php no estamos utilizando sesiones vale correcto Y entonces digo en login digo session Start esto quiere decir ahora por cierto en gran parte de la clase de hoy vamos a ir Ajustando cosas poniendo comentarios inicio una sesión php y ahora aquí si es cierto que he iniciado sesión session login es igual a true vale es igual a verdadero es decir se pone una sesión login cuando voy al escritorio en primer lugar session Start tiene que estar arriba del todo y a continuación yo ahora digo If no y set sesión cuidado sesión login es decir la misma variable de sesión que he creado antes si no existe la variable de sesión login en ese caso Die te has intentado colar en la fiesta pero da muere o sea mata la ejecución vamos a ver si funciona vamos a ver si funciona Porque para ello me vengo aquí me voy al formulario de inicio me intento colar en el escritorio php y me dice Die te has intentado colar en la fiesta vale No has pasado realmente por el formulario de inicio Pero si yo ahora digo no inicio sesión valido le doy a acceder es correcto ahora sí que entro en escritorio php incluso Fijate que puedo ir directamente a escritorio php porque he pasado por el login y como he pasado por el login pues se me ha dado una galleta no es realmente Una Cookie en este caso pero se me ha dado una galleta en el sentido de que se me ha dado una pieza que me dice tú puedes entrar Vale ahora a continuación opción por último lo que voy a hacer es decir que en aquí en admin voy a hacer un archivo llamado logout.php y por tanto el en el escritorio Cuando alguien aquí a href logout.php es decir Ese botón realmente va a ser un hipervínculo está azul vale no os preocupéis eh vamos a ver cerrar sesión a escritorio Y cerrar sesión a es color inherit text decoration vale Y así vuelve a estar de color blanco Vale entonces espera una qué quieres decir con una descarga automática Luis descarga de qué porque has dicho una descarga automática pero no sé en el contexto que estamos hablando ahora mismo A qué te refieres con Ah que quieres decir una descarga automática de algún tipo de virus vale de Claro en plan malvado vale a ver s o sea técnicamente forzar una descarga de algo es eh es posible esa descarga puede ser un archivo de exe de algo que sea malicioso yo no soy muy proclive a eso vale cierto es claro Sí lo sé que lo dices por eso que es un poco como escarmiento vale pero ya te digo en este caso pues hay que estar en modo karma que es decir que aunque alguien te intente atacar porque tú dirás Es que yo no he empezado atacando es decir yo estoy respondiendo a un ataque pero en informática Pues muchas veces la respuesta a un ataque es la mera defensa vale De hecho Quiero que sepas y esto lo puedes ver si te metes en el repositorio de la asignatura de procesos y servicios de segundo de dam que ayer por la tarde estábamos hablando justo de eso y ayer por la tarde estábamos hablando de cosas tales que como por ejemplo si detectas un ataque Pues igual o bien directamente a nivel de servidor apagas aache O sea no es que bloqueas el ataque sino es que apagas el servicio de Apache e incluso ayer Estuvimos viendo en clase el que le envías un correo al administrador y literalmente y te lo digo en serio apagas el servidor quiero decir detectas que te están atacando y te están atacando mucho pues puedes a nivel de servidor como te digo lo Estuvimos viendo aer con los de segundo puedes a nivel de servidor hacer que el servidor automáticamente sin intervención humana se apague físicamente y si se paga físicamente Ya nadie puede acceder vale a menos que llegue el administrador que tendrá acceso físico a las oficina donde está el servidor y haga clac vale y le da al botón y lo vuelva a encender y el administrador Pues en un momento dado o sea para volverlo a encender pues le puede quitar el cable de red para encenderlo y ver qué es lo que ha ocurrido y solo cuando esté seguro de que todo está bien volverlo a conectar a la red O sea que ya te digo pero siempre hablamos de métodos de defensa vale porque pues ya te digo o sea el tema de del ataque es un tema que no te digo que no pero éticamente hay que analizarlo pero por defecto la política suele ser defender vale aunque técnicamente podría existir el no es paz y amor vale porque no es realmente paz y amor sino es una perspectiva lo más amplia posible de Cómo es el mundo Vale y de o sea de que si alguien te ataca si tú te defiendes nadie te puede reprochar nada pero si alguien te ataca y tú atacas en ese caso estás iniciando una escalada y en ese caso alguien te puede reprochar a ti un ataque con lo cual eh No sé cómo se dice ese refrán pero encima de cornudo apaleado vale con lo cual encima alguien te puede decir es que he recibido un ataque de esta web que tú digas pero cabrón lo has recibido porque tú me estabas atacando a mí vale pero ya es lo típico de los hermanos pequeños de vale de has sido tú ha empezado tú has empezado él ha empezado el otro vale Por eso digo que no es una cuestión de paz y amor sino es una cuestión de hace muchos años eh un alumno que tenía en otro centro de formación se coló en los sistemas del centro de formación se coló de una forma benigna vale quiero decir que no tuvo ningún reparo en ocultar su identidad no hizo nada más que simplemente entrar y ver vale No eliminó nada no alteró nada porque era un chaval que no era mal chaval simplemente es que era hacker cillo y le molaba pues intentar entrar y en ese caso lo consiguió y eh Y yo me lo comentó el director me dijo Oye que ha ocurrido esto y empecé a analizar los registros y a través de la IP saqué Quién era el responsable y yo dije me lo cargo o sea lo voy a matar lo voy a matar porque es que además lo conozco y entonces el director de ese centro me estuvo echando pues una charla muy larga que me dio que pensar durante mucho tiempo y me dijo vale Te lo cargas Y luego qué y yo claro le dije luego qué de qué o sea me lo cargo y punto y él me dijo ya pero te lo cargas y que has ganado con eso vale eh y me empezó a echar una charla muy larga En aquel momento pues no tenía ni ganas de oír esa charla porque yo estaba enfadado pero pues luego con los años como te digo pues eh he estado analizando y un poco recordando muchas veces esa charla vale que tenía que ver con no actuar en caliente analizar Cuáles son las consecuencias Más allá de un acto que realizas a corto plazo analizar Cuáles son las consecuencias a medio plazo a largo plazo y ya te digo yo En aquel momento en caliente quería matar a ese alumno pero claro el director dijo vamos a ver o sea es un niño vale eh nunca ha tenido mala intención lo que ha hecho simplemente ha entrado ha mirado no ha tocado nada no ha modificado nada no ha eliminado nada no ha hecho nada vale con lo cual tiron cete de orejas Pues sí vale tiene un ceto de orejas pues Oye David date cuenta de nos hemos dado cuenta de que has entrado no lo hagas más tal y cual vale incluso el director me dijo se inteligente ha entrado pregúntale cómo ha entrado vale porque si lo matas lo has matado y ya está pero si le preguntas cómo lo ha hecho pues probablemente te lo va a contar porque es que encima ese chico te lo va a contar porque es que le va a encantar dárselas de importante y contarte Cómo ha conseguido entrar con lo cual vas a exacto y te puede ayudar a reforzar tu seguridad vale con lo cual pues como os digo no es por paz y amor vale Yo no soy todo paz y amor Pero a veces lo más inteligente es no ser agresivo vale A veces lo más inteligente no por paz y amor ni Por cobardía sino porque es más inteligente quedarse un poco a la defensiva y en el caso de que hagas algo hacer algo después de meditarlo mucho y analizando Cuál es el impacto de tus acciones a medio a O sea a corto a medio y a largo plazo bien pues estaba yo Por aquí cerrando sesión vale con loig pincho por aquí me voy a logout y logout no lo hemos programado todavía Vale y logout eh aquí vale lo que voy a hacer es php y digo session destroy y eh Perdona perdona primero session Start es curioso que en php para destruir una sesión primero hay que iniciar la sesión porque si no Si dices directamente destruir no sabe que estás destruyendo con lo cual primero arrancamos la sesión para luego destruirla Y por último eh un php header redirect entonces eh php header redirect Y eh aquí vale Y redirija bien si todo va bien hago así le doy a eliminar y me salgo he cerrado la sesión pero no solo es que me he ido a porque tú no deberías vale pero podrías estar en un hotel en un cibercafé en el ordenador de alguien que te pueda robar tus credenciales Vale pues comprobamos que es cierto que si cierro Ob sesión es que realmente cierro Ob sesión y luego también en lugar de decir te has colado en la fiesta pues puedo venir por aquí al escritorio y puedo decir aquí y puedo decir que eh aquí vale Y puedo decir que heer Location Index html es decir si alguien se va a escritorio php Pues como veis no vale se le devuelve a son las 5 teóricamente estamos en el cambio de clase hacia una hora de marcas vale con lo cual dadme un segundo vamos a hacer vale hemos acabado el bloque de programación eh vamos a hacer 10 minutos de descanso y ahora a las volvemos y continuamos con lenguajes de marcas bases de datos entorno de desarrollo y todo vale con lo cual