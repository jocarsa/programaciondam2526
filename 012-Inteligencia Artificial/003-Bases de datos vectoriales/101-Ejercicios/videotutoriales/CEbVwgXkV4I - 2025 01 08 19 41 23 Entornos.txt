volver a arrancar para digamos la grabación de la última parte de la clase entornos de desarrollo bien para esto la configuración de dns hay que hacerla desde el panel de control de jonos yo tengo una IP Así que vengo por aquí me voy a copiar la IP en alguna parte vale Y me voy a la configuración de dominio me voy a dominios me voy a eh aquí me voy a jarsa comom vale ajusto destino madre mía Qué nervios Vale y eh vamos a ver editar las dns aquí dns okay en las dns aquí la dnsa está apuntando a una IP que no es la mía Por tanto lo que voy a hacer ahora vamos a verlo un momentín y la a ww apunta a esta dns madre mía ftp Uh Sí okay ftp también pero espérate yo qué tengo aquí en la aquí vale Ok digo a ver que no me cargue lo que no me tengo que cargar Bueno yí tengo el MX Ah el MX va a doler más Alex bl vale a ver Espera espera Ah eso okay a ver Vale pues se la lo modifico y le cambio la IP Okay ahora okay okay okay al 241 vale Acabo de cambiar la dns para que apunte en lugar Opa aquí a la dos un nu dónde estás apuntando aquí Ah sí vale se desactivarán guardar vale bien y esto quiere decir que en principio ahora mismo en principio en este momento he cambiado la configuración de dominio para que cada vez que una persona entre en jocars comom me lleve al dominio principal vale me lleve al dominio de O sea al nuevo servidor si todo ha ido bien si todo ido bien Ahora aunque puede tardar un rato en propagarse me voy a joks.com vale Creo que todavía me está mostrando el Antiguo No pasa nada vamos a esperar un poco a ver un momento que domain Connect espera vamos a ver voy a okay No pasa nada a ver y ajustar destino no Ah casa configuración dns ajustada vale dns lo mismo vale vamos a probarlo no y aquí llegará un momento de hecho Mirad voy a hacer un ping a https do bar jocars comom Ah Guay gracias joks.com y me sigue llevando todavía al 241 vale tened en cuenta que yo acabo de hacer en la web sale Apache no el problema no es en la web sale Apache sino que en el mundo hay una serie de servidores dns yo ahora mismo Estoy en mislata vale estoy en creo que es Movistar con lo cual yo ahora mismo me estoy conectando a un mirror vale me estoy conectando a un espejo de dns en el cual no ha sido actualizado el cambio pero tú donde sea que estés y con el operador que sea que estés te estás conectando a un servidor de dns que por lo que sea ya tiene propagado el cambio vale con lo cual no es que en la web sale Apache es que en tu web en tu casa sale Apache que es lo que tendría que salir y a mí ahora mismo aquí todavía no se me ha actualizado voy a lanzarlo otra vez a mí todavía no vale Pero ahora en un rato es cuestión de tiempo quiero decir al final se nos tiene que actualizar a todos Yo creo que máximo una hora se nos tiene que actualizar a todos pero esto todavía no está bien vale todavía no está bien porque vosotros diréis ya pero no por en tu caso si entras en jocar.com.mx que sí que estás entrando en el sitio correcto pero claro yo no quiero tener que poner jocars Ah no y qué sale no se puede acceder a este sitio web ostias Pero en cambio Si entráis en jarsa sí que sale la página de Apache pregunto eso es raro no no goam no funciona no no eso seguro pero si cargá com qué sale Mira voy a hacer una cosa voy a conectarme a otro ordenador a ver aquí ahora sale que no se puede acceder vale No pasa nada ok jocar.com.mx claro Perdón cargarlo con http no con https sino con http perdón y veréis que funcionará confirmo cuando podáis vale perfecto ahora con http entro en jocars gu old l tranquilos que ahora luego restauro la aplicación dam all l vale Y me sale esto Qué es lo único que pasa que me está fallando el https Es decir me está fallando el No ya el certificado vale porque el certificado lo tengo me está fallando la configuración del certificado en el servidor qué es lo que tengo que hacer ahora pues hacer que funcione correctamente Muy bien pues vamos a por ello y vamos a por ello bien para configurar el certificado orora teniendo en cuenta que el cambio de dns ya ha sido realizado ahora a continuación me voy a certificados dime por favor Dónde está certificados dime por favor que tengo un certificado wildcard a ver jarsa vale certificado Ah wildcard menos mal gracias vale Y quiero configurar un certificado ssl starter wc vale Sí per administrar Ok venga vale vamos a dominios vamos a aquí administrar vale Ahí va tengo todavía alguno sin utilizar que curioso Vale tengo el dejo carsa y con el dejsa lo que quiero es momento lo que quiero es Descargarme los archivos configuración avanzada vamos a ver espérate usar con mi servidor Ok vale Descargar Clave privada vale perfecto me copio por aquí llaves ssl jarsa OK Y sí pero no pero aquí me faltan cosas archivos Ahora sí vale me descargo el cer me descargo el intermedio me descargo el pfx pero no el pfx es para Windows nada Olvídate vale Sí lo sé a ver Fran yo Ahí te tengo que dar toda la razón vale porque es una práctica común en informática que cuando se quiere evitar acciones fraudulentas se ponen zancadillas esto que estoy haciendo son zancadillas Ni más ni menos lo cual No evita los actos maliciosos pero sí que en cierta forma se intenta disuadir lo cual hace muchas veces se dice ese dicho de pagan justos por pecadores vale lo cual hace que los que tenemos una web normal pues tengamos que sudar pinta China para ponerla en funcionamiento mientras que los que van a hacer actos fraudulentos los van a hacer Igualmente pero bueno Pero ya está pero es lo que hay que hacerlo entonces ahora a continuación voy a ir aquí Bueno y voy a hacer lo siguiente vamos a ver en primer lugar a través de ftp en mi carpeta home en claves me voy a mi carpeta de escritorio en Home José Vicente en claves jarsa a ver llaves SS L jarsa y me la subo ahora están en mi servidor Vale ahora ubuntu server install ssl case for Apache I have a qué tengo I have aquí a fa and intermediate F create y esta es la cuestión vale create virtual domain Which points domain ssl to W no bar W html jarsa old l vale Vamos allá Sí al final á negocio que no es barato el certificado precisamente vale vamos a ver a las Y esto es muy importante porque nos lo tenemos que dejar hecho porque si no funcionará mi web eh a las estamos haciendo el activar el ssl vale eh qué te iba a decir yo Okay Vale y re iniciamos reiniciamos Apache obviamente Vale ahora Muy bien hago un directorio Mira sabes qué vale hago un directorio Okay Esto me lo apunto esto es Esto vale aquí esto lo voy a llamar hokar sake intermediate C y jarsa cer vale aquí me voy a cb Home cb claves Hola Ah perdón ls vale Y ahora hago esto sudo CP punto Ok sudo CP jocars puncer y sudo intermediate cer vale Ya están los tres en la carpeta correcta Ahora vale vamos a poner permisos los permisos intentan evitar que alguien me robe las claves O sea que bien eh sudo vale Okay esto es jocars puncer y el intermediate lo dejo como está Vale creo un combinado okay creo un combinado esto quiere decir que el cer y el intermediate los uno en jocars combine vale sigamos ahora voy a editar esto sudano s available jarsa all days y pongo esto de aquí vale activo pego vamos a ver server admin es igual a info @josé viicente carratala comom voy a poner info carsa.com no sé si el correo Me habrá dejado de funcionar Pero bueno ahora veremos tampoco tengo nada vital en ese correo vale el document rot es este de aquí el certificate es este de aquí el domain es este de aquí vale Ok Ok yo creo que ya vale guardo salgo ahora deshabilitamos voy a poner esto por aquí esto es ahora 1959 deshabilito el de por defecto habilito el nuevo sitio 19 59 habilito el nuevo sitio o sea este espera vale deshabilitado habilitado Ok reinicio Apache bueno config text para comprobar que no tengo ningún error Okay sintaxis es OK Vale y reiniciamos apach 2 y si todo ha ido bien que vete a saber si todo ha ido bien me voy a jocar.com.mx https hocar comom si sabéis rezar algo Este es un buen momento para rezar le doy a enter y en principio carga correctamente vamos a comprobar si lo que estoy haciendo está bien hecho vale si lo que estoy haciendo está bien hecho le doy aquí a Go y me dirá que no existe porque es cierto que no existe Vale ahora podéis probar a recargar mi web con https y veréis que acabo de Instalar los certificados correctos para poder entrar Así que ahora a continuación para que no cunda el pánico obviamente lo que voy a hacer es restaurar las aplicaciones que tenía puestas entonces para ello tendría que hacer subdominios pero bueno ahora luego lo veremos entonces antes de que cunda el pánico me voy a venir por aquí eh aquí vale me voy aquí me voy a w me voy a old l pero claro es que bueno voy a poner Go vale no me hace mucha gracia esto Go Vale ahora aquí me voy a aquí me voy a escritorio home José Vicente escritorio backup Go admin o backup Go yonos y backup Go ionos me voy a go en yonos y me descargo aquí cosas lo que pasa es que bueno vamos a empezar por dam va dam Hala momentín descargando transcripciones ahora de hecho lo que haremos es crear un subdominio Pero bueno momentín que tiene unas cuantas transcripciones porque hay unos cuantos vídeos un segundo Esto es lo que comentabas antes Fran de que fila es lento Pero bueno qué se va a hacer es lo que hay vale con lo cual Okay Vale con lo cual ahora hago lo contrario escritorio aquí Back Go yonos me lo llevo a dam es decir subo estoy migrando ahora desde el servidor compartido en el que estaba hasta ahora al servidor vps vale un momento está subiendo y Vale y Si antes si hace un momento no funcionaba jocar.com.mx Claro ya tenemos el servidor lo hemos migrado lo hemos colocado lo hemos puesto a funcionar nos ha costado media tarde pero no pasa nada pero claro Ahora yo tengo jocar.com.mx static logo sí que se supone que está static logo a ver l static logo no sé por qué dice que no está Pero bueno no pasa nada Eso es lo que menos me preocupa ahora mismo Jara Black Ah creo que es con mayúsculas vale da igual lo que me preocupa ahora mismo bien pero Qué ha pasado con el panel de control porque Claro si ahora jara.com Cómo puedo yo entrar a al panel de control Bueno pues para entrar en el panel de control yo ahora me gustaría crear algo así como un subdominio que sea admin. hocar comom o darks Slate Blue jocars comom Vale pero no existe no se puede bien Vamos a ver cómo puedo hacer esto porque y ahora a continuación me voy a dominios me voy a eh vamos a ver me voy a jocars comom Aquí tengo que quitar dominios que tengo un montón me voy a subdominios qué subdominios tengo Alice Blue OK Pero claro pero aob CR crm espérate Me acabo de cargar el crm Mira qué Guay vale No pasa nada vale fuera todo esto fuera eliminar sub y de hecho la list Blue también eliminar subdominios vale Ok se eliminará y voy a crear un subdominio el subdominio es Dark Slate Blue jocars comom guardar y Okay vale es posible que tarde unos minutos okay No pasa nada vale recargo momentín ahora se ejecutará Y dónde apunta este dominio dónde apunta ese destino Pues ahora veremos dónde apunta vamos a las dns vale Y ahí bien pues vamos a ver un momento he Dark Slate Blue es este no cómo es posible Ah vale porque ya empieza a aparecer Okay un segundo porque teóricamente debe aparecer ahora en un momento de hecho Qué curioso no me aparece ya en dns Dark Slate Blue curioso a Dark Slate Blue mira aquí ya Oh y es el correcto y me lo ha apuntado al servidor correcto Qué interesante porque el servidor correcto es el que acaba en nu no s vale esto quiere decir que me está apuntando ya El dominio el subdominio Dark Slate Blue al servidor correcto lo cual Pues es de agradecer lo único que pasa es que en el servidor tengo que declarar un nuevo virtual Host es decir tengo que decirle vale si recibes jarsa comom Vete a old days pero si recibes Dark Slate Blue Vete a la carpeta Dark Slate blue para ello Now please create New virtual Host to accept https Dark Slate blarcom and page in bar W html jarsa gu Dark Slate Blue certificates es certificates wildcard so they should work out of the Box isn't it esto quiere decir que si os fijáis tengo un certificado ssl wildcard que en principio quiere decir que vale que en principio quiere decir que si tengo el wildcard para cada nuevo subdominio no tengo que pedir un certificado nuevo si el certificado no es wildcard sí que me tocaría gestionar un certificado para cada dominio lo cual es un rollo que os podéis imaginar Así que vamos a ver vamos a crear un nuevo virtual Host vamos a hacer un Clear pego Okay Vale qué ha pasado Okay Vale entonces vamos a crear un virtual Host vale pego corrijo lo que haya que corregir admin jocars comom bueno info @ hocar comom Pero vale da igual bien eh jocars Dark Slate Blue se llama Dark Slate Blue no a ver si lo estoy yo aquí flipando y me estoy confundiendo de nombre Dark Slate Blue Sí el certificado es hoc carsa puncer Ay quieto jocars combine c el key es jarsa Ke y ya está guardo salgo reaplicación Okay Vale recargo Apache no a ver sudo service Apache 2 restart Okay vale Y ya está vale Así que si todo va bien claro estamos en las mismas vale acabo de hacer un subdominio nuevo como es normal el subdominio puede tardar un rato en activarse vale con lo cual Pues voy a probarlo mira en mi caso ya funciona Mira tú qu bien probadlo vosotros si queréis vale Y si todo va bien Ahora en darkest Slate blue.com podéis encontrar el inicio de sesión Y si todo va bien pues me voy a info@.com.ar comom si entro uh Ah perdón Oh esaa pero ahora entrar en hoka.com Oh y parece que no está funcionando vale momen bien Vamos a ver Ah sí va pues se me habrá quedado frito a mí momento a ver darkest Slate Blue jocars comom funciona y jocars comom Ah funciona Pues debe ser cosa mía no os preocupéis vale Ok no pasa nada Ahora lo vemos Eso quiere decir por lo tanto que pues es lo que comentaba antes con Fran vale que en mi caso lo he dividido en dos aplicaciones Simplemente porque con esa excusa os enseño a trabajar con subdominios Pero si alguno de vosotros dice es que yo no lo considero dos aplicaciones sino que yo lo considero una aplicación y cuando igual que en wordpress cuando quiera entrar en admin pues pongo barra admin y entro pues ya está quiero decir que no hay ningún problema vale Pero yo lo he forzado a dos ap iones porque así Si más adelante pues os preguntáis Oye y cómo se configura un subdominio dentro del mismo servidor Pues que os acordéis que hay un trozo de vídeo grabado con como con Cómo configurar un servidor vale bien una vez dicho Esto vale una vez dicho esto voy a hacer una pausa de 5 minutos