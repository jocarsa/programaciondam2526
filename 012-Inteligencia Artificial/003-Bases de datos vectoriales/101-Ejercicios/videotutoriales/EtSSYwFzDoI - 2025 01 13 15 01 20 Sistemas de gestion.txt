la que quiera hay un tío en YouTube diciendo pero solo un poquito okay el botón eso es rojo sí Igual lo que tú llamas dos y un el sistema operativo lo tiene al revés vale vale veo a p sql vale Sí muy bien sí no pasa nada vale muy bien sí lo veo vale estoy viendo un botón de un micrófono Okay muy bien vale Ya me contarás vale cuenta muy bien ya ya veo dónde vas Sí vale sí sí un momento vale porque claro entonces me has dejado un poco pillado porque como es posible que te esté cargando una cosa así y la otra no Enséñame el código vale luego entonces eso decir que estás llamando al e frame pasándole dos parámetros de URL que son tabla eid muy bien Ah sí no Pero espera un segundo porque eh vamos a hacer una cosa bueno en lugar de compartir pantalla dame rash desk y así entro tu ordenador y muevo el ratón pues arrancar r desk Ah sí rost desk o sea como escritorio oxidado digamos sí correcto el exe instala y al acabar de instalar te dará un código y una contraseña Pues dame código y contraseña y mientras tanto voy yo espera ahora comparto yo espera un mom un momo un m vale 247 Sí 683 Ok vale un momento estoy conectando ahí nsg v y qu e vale Vamos a darle Ok perfecto un momento sí un segundo que ahora que me ya doble vale perfecto vamos a ver entonces aquí lo veo vale pero yo no estoy viendo aquí el es decir a ver opera yo no estoy viendo aquí el archivo get info sino que parece que estoy viendo otro archivo Más que nada porque aquí en principio se pinta una respuesta Ah A menos que estés enviándolo por Ajax que no creo Es decir Ábreme el archivo que pinta esta tabla espera un moment déjame primero vale esto es unif frame vale que es Apps ficha de cliente Ah Pues sí que estás formateando una vale Okay pues vamos pasito a pasito vale aquí de entrada esto lo estás haciendo bien vale Y es que estás llamando a Index html entidad y cliente Okay con lo cual me voy a visual Studio vale me voy a Apps aquí me voy a clientes es ficha de cliente Creo era ficha de cliente Sí vale okay Sí vale muy bien De hecho de hecho Okay vale De hecho vengo por aquí y te digo console pun log la entidad es coma entidad y console pun log el ID es ID Mira tú que bien el texto predictivo Este vale Okay entonces yo hago así Ahora a continuación recargo Bueno vey a clientes Espera a clientes esa que esto lo tiro para aquí Cojo un cliente ficha de cliente me voy a consola Vale y la consola me dice Ah vamos con las colecciones no no vale a ver voy a Ah muy bien Necesito recargar quitando la cach pero aquí en ópera no sé cómo es Entonces te lo voy a dime shift click Ah shift click aquí vale Okay clientes ficha de cliente no creo que no porque vamos a ver vale mira voy a hacer una cosa voy a hacer una cosa Pero vale No sí no iba a hacer eso pero vale Sí eh No me coge así sí o no Pon ahora no tienes Chrome Okay sí tampoco es que me haga mucha ilusión vamos a ver ya por eso a Espera que he minimizado mi ventana en lugar de la tuya Vale entonces Ed No mira voy a hacer una cosa me voy a instalar Chrome porque Ed no tengo mucha confianza en vamos a ver me descargo Chrome ya sí dale tú sí en principio a ver eh OK Sí dale eso es vale perfecto muy bien Estará instalando ok No Iniciar sesión no Google Vale y saltar Vale y activar venga va que no Ok vale Uy he entrado directamente vale No he entrado directamente Pero esto no puede ser entonces cliente jarsa vale vamos a ventas Ok ventas vamos a clientes vale Uy a ver captura de pantalla no era un inspector Pero vale muy bien ficha de cliente vale la entidad es clientes yid es o eso qué quiere decir pues que hasta este punto que te digo lo mismo del otro día un momentín Aquí estás que es no no espera ahora vamos a lo de abajo no eso no es lo que te quería decir sino que lo que te digo es lo del otro día lo de buguear es decir primero vamos a ver si hasta aquí lo recibimos bien vale pues vamos a ver si aquí abajo entonces lo recibimos bien vale entonces d Data Vale pues me vengo por aquí console.log Data a ver qué se está recibiendo Okay Mostrar datos ya es el Table Border lo que sea vale Okay venga recargamos clientes selecciono una opción ficha de cliente Ok Vale entonces esto quiere decir ah calle ficticia 123 sí que parece correcto Ah no Ah a capón vale Ok vale bien Eso quiere decir que hasta aquí todo es correcto y por tanto vamos a ver qué es lo que pasa aquí get info no sé si es este que he visto no a ver get info es servidor vale abajo ahí get info Vale entonces tabla get tabla Ok Claro pero lo que pasa es que tú Aquí estás metiendo un dato ahí a capón vale Sí pero un momento vale Sí pero no porque Ah vale el nombre muy bien el nombre claro Espera qué estoy enviando Sí pero a ver pero no pero es que te cuento es que tú Aquí estás llamando a get info y le estás pasando el parámetro tabla y el parámetro ID Claro porque si no le pasas el parámetro nombre get info no va a recoger nunca el nombre e igual eso es lo que te hace falta para atrapar eso de ahí y poder hacer la petición y poder sacarlo por aquí sabes Entonces si aquí vamos a ver pero claro es que a su vez aquí es decir para qué quieres el nombre para qué te sirve el nombre te lo digo porque si tú tienes el ID con el ID va asociado el nombre es decir pasándole a una tabla el nombre de la tabla y el ID al pasarle el ID la tabla te devolverá el nombre los apellidos lo que sea por eso no entiendo que aquí en o sea en get info tienes iset get tabla fantástico iset geid Pero no entiendo esta línea Qué función te cumple Ah lo cual es OK pero o sea bien sí o sea lo que quieres es correcto pero la forma en la que lo estás haciendo No entonces claro aquí a response Claro pero aquí está aquí lo que se comenta la lógica para obtener los datos entonces la lógica sería ejecuta esto Y ahora te digo qué cabrón esto es justo lo que iba a escribir vale Esto sí eh vale pues esto Bueno e actúa es cor Sí eso Ah okay Lo acabo de ver ahí y ejecuta vale Ahí Vale entonces Claro si tú Select all from tabla Where ID es igual ID los datos de retorno de esa petición serán el nombre el email el teléfono la dirección y luego la tabla y el ID si que es cierto que los puedes de aquí evidentemente vale con lo cual Pues eso o sea vas bien Lo único que pasa es que esto por cierto también te lo voy a te lo voy a mutear o sea esto que estás pidiendo No tú no se lo das sino que es lo que se te devuelve aquí vale Y ya está Y eso te guardo esto claro vale nada vale pues me salgo de tu ras dime Ah pregunta Sí vale eh A ver claro No porque me cierran el centro Pero lo que haré es que te llamaré por manos libres y si es cosa de conectarnos a ordenador pues ya cuando llegue a casa Okay pues te llamo vale perfecto Vale pues Ahora luego hablamos vale está hora bueno eso Si acabamos a las 9 si acabamos rollo o algo así según vaya a la tarde Pues sí ahí sí que tengo tiempos a las 9 Así que ahora luego vemos vale pues me salgo de tu ordenador Okay Vale pues vamos allá Vamos a continuar y lo que os comenté la semana pasada y es que pues ya Uy Perdón Ink escape sí Ink escape ya empieza a llegar un momento en el cual eh empezamos a no os preocupéis por si el esquema esto tiene muchas rayas es un esquema pensado para alumnos de primero vale porque lo digo porque veis por aquí que pone sistemas informáticos marcas programación bases de datos y entornos de desarrollo pero En definitiva es un esquema muy significativo de lo que vamos a hacer ahora mismo donde lo que queremos hacer es una primera implantación en el servidor es decir lo que queremos es la aplicación que está desarrollada en nuestro entorno de desarrollo en nuestra máquina de desarrollo en el caso de los alumnos de primero pues la aplicación que están desarrollando se divide en dos aplicaciones una web Pública que es el proyecto old lce una un panel de administración privado que es como una especie de crimson pero muy en miniatura Obviamente que se llama Dark Slate blue pero en vuestro caso esto cambia un po lo voy a ver Hola lo quiero guardar Vale pues lo voy a guardar en dam como esquema sagrado alumnos de segundo svg y un poco de esta forma voy a quitar un momento esto porque en vuestro caso está más claro es decir ya sabéis que aporto cada asignatura de primero al desarrollo de estas aplicaciones pero en nuestro caso lo que vamos a hacer es que quitamos la web pública nos quedamos con la web privada cuidado esto de aquí y así un poco primero antes de operar antes de proceder pues quiero hacer un esquema para que entendáis qué es lo que va a ocurrir hoy bien quito esto lo quito Vale y todo esto va a ser una aplicación llamada crimson vale esto por aquí esto es cosa de primero vale con lo cual la web pública domes primero la web pública nos la vamos a cargar y esto fuera y bueno Esto claro es que es muy grande con lo cual pues me lo voy a dejar así bien lo que queremos por lo tanto es todo aquello que está en nuestro equipo de desarrollo y empezar a implantarlo en el servidor teniendo en cuenta que todo lo que hagamos tiene que ser visible todo lo que hagamos tiene que ser lo más real que podamos para ello en primer lugar debemos contar con una máquina de servidor en mi caso es una máquina que ya está creada ya está contratada es un servidor vps real igual que hicimos la demostración de Cómo configurar el servidor de hecho es el mismo servidor que configuramos antes de navidades lo único que pasa es que la semana pasada lo formateé y lo volví a configurar con los alumos de primero pero es lo mismo que hicimos nosotros antes de Navidad bien lo primero que os voy a decir es que es un servidor vamos a verlo es un servidor vamos a analizar la máquina de destino Antes de realizar la implantación y cuando os digo analizar la de destino Esto va a tener un poco que ver con momentín esto va a tener un poco que ver con pues parte del final de las asignaturas y de la evaluación vale que es analizar Cómo es el entorno de producción y adecuar nuestra implantación al entorno de producción lo cual quiere decir que hay contratado un vps vamos a sacar el editor de texto y esto es el proceso selección Okay pues no estoo fuera vale el entorno de producción en este caso es un vps con ubuntu Linux 2404 lts con vamos a verlo con lo pone por aquí con 2 280 es decir dos núcleos virtuales 2 gigas de ram 80 GB de disco esto quiere decir dos cores 2 gb de ram y 80 GB de disco duro lo cual quiere decir como os digo que es un equipo con unas prestaciones muy inferiores a las prestaciones de que tiene el equipo de desarrollo que hemos utilizado cosa que es totalmente normal y más Y va a ser una aplicación que de momento por el momento no está previsto que tenga una un digamos una necesidad de rendimiento muy fuerte debo deciros de todas formas que sobre esta aplicación sobre este servidor Perdón está instalada una aplicación que he desarrollado en sistemas informáticos con los de primero llamada tomato así que la aplicación tomato lo que hace es esto es decir tenemos una aplicación tal que desde la semana pasada que empecé a hacer implantación con los de primero Pues esta aplicación va recogiendo desde la semana pasada el número de conexiones activas vemos un pico de 23 24 conexiones eh máximas una media de 12 14 conexiones vale simultáneas con lo cual parece correcto bien una carga de la cpu este gráfico me interesa bastante una carga Por cierto el software tomato es un software mezcla python mezcla html eh lo tengo en positorio lo tengo privado creo o igual lo tengo abierto No lo sé pero quiero decir que ahora luego quien lo quiera os lo doy y así lo podéis implantar sobre vuestros servidores y tener un software de monitorización para comprobar que todo va Okay Vale bien como veis no ha habido desde la semana pasada esto son horas vale horas de desde la implantación Pues un consumo de cpu muy grande con lo cual hay dos cores pero parece de sobra para gestionar el sistema bien carga de disco claro a medida que poquito a poquito voy añadiendo cosas al servidor Pues el disco poquito a poquito se va llenando pero ahora mismo estará por el 5% de uso total de disco vale por tanto como veis En definitiva lo que estamos haciendo es averiguar En qué estado está el sistema de destino antes de realizar una implantación y nos estamos asegurando de que el sistema de destino en principio va a poder acoger correctamente la aplicación que vamos a implantar vale Ok venga en carga de ram bueno Vale es un sistema con 2 gb de ram lo cual quiere decir que claro ubuntu server entre que arrancas ubuntu server arrancas Apache arrancas mysql arrancas pin Pam pum pues bueno ya lo tengo al 50% de ram vale sin embargo una vez Parece que la carga de ram es continua y parece que por mucho entrar usuarios no aumenta la ram o no aumenta significativamente vale con lo cual parece que el sistema de destino ya te digo una semana que lleva instalado y con aplicaciones en funcionamiento Parece que va bien vale carga de red esto es culpa mía vale esto de aquí es culpa mía por una razón muy sencilla y es que el en este sistema ahora luego hablaremos de cron tengo una tarea chrom puesta que es os acordáis del correo que os envié el otro día en cuanto a los en cuanto al y las grabaciones de los vídeos Pues tengo una tarea cron que en lugar de yo ejecutar un Script de python para que me actualice los vídeos de YouTube en el calendario pues está puesto en un cron en este servidor y cada viernes a las 9 de la mañana actualiza automáticamente el calendario vale con lo cual este pico de aquí está controlado porque soy yo vale soy yo el viernes a las 9 de la mañana o sea soy yo es micron quería decir aún así estamos hablando de una velocidad de descarga un pico de 0,35 megabit por segundo o sea el viernes a las 9 hubo 350 kb por segundo kilobits por segundo perdón con lo cual sigue siendo un consumo de red bastante bien y lo único es que bueno en clase en primero hicimos el Software tomato asumiendo que se iba a instalar sobre un servidor dedicado y por tanto lo hicimos con un Script de python que ahora luego os comentaré para que el Script atrapara la temperatura de del sistema del procesador creo que era y la pusiera Pero como estoy en un vps Pues el vps no me da la información de los sensores de temperatura y por tanto esta gráfica Pues de momento se queda a cero vale Pero el software está preparado para eso entre otras cosas bien esto quiere decir que esto quiere decir que estamos analizando las características de producción estamos viendo que en principio el servidor de producción parece dispuesto a nuestro software Y a partir de aquí tenemos que empezar a planificar la implantación cómo vamos a ejecutar la implantación otra cosa que os digo es que eh en clase la semana pasada empezamos a hacer esto que es un log de servidor vale desde que instalamos el servidor algo que vamos a continuar haciendo hoy pues está apuntado lo que tiene el servidor lo que se ha instalado A qué hora se ha instalado y todo eso esto qué quiere decir pues que ahora a continuación vamos a analizar Cuáles son los requerimientos de nuestra aplicación para asegurar si el servidor ya lo tiene instalado no hace falta instalarlo Y si el servidor no lo tiene instalado hay que instalarlo Cuáles son los requerimientos del Software crimson que al menos yo hasta este momento he desarrollado Cuando digo al menos yo quiero decir que pues la lista que voy a escribir Depende de lo que vosotros hagáis pues se puede ampliar más o menos así que los requerimientos son apach 2 son módulo de php con lo que sea 8. x vale a salido el 8.4 no usamos lo último de lo último con lo cual da igual es mysql y ya está Vale aparte en el servidor está instalado ese kulite está por aquí vale no lo veo por aquí está instalado por aquí nosotros no usamos ese kulite Pero bueno Es bueno saber que está Vale qué más utilizamos nosotros qué más utiliza nuestro software hasta este momento pues mongodb pero mongodb no está instalado hasta el momento con lo cual hay que instalarlo también os recuerdo que eh trabajamos con un Script en python sí que está instalado Pero había una parte del servidor que dependía de una librería de python que es smtp bueno imap y smtp que probablemente esas librerías no están instaladas dentro del servidor por lo tanto antes de empezar la instalación debemos ser conscientes de qué componentes ya están instalados Y qué componentes faltan por instalar bien una vez que tenemos esta perspectiva general de lo que ya es está instalado y que por tanto el servidor está bastante preparado para nuestro software y lo que no está instalado lo instalamos eso sí lo debemos poner en el log de instalación del servidor vale a continuación vamos a empezar por El dominio el ssl y las dns vale vamos a hacer un repaso de qué era cada una de estas cosas El dominio momentín lo voy a apuntar por aquí El dominio es un mnemónico quiere decir ayudante para la memoria lo cual quiere decir que teóricamente cuando yo contrato un servidor y me dan una IP pues la ip es esta de aquí vale la ip es la ip del servidor que es básicamente Oye no es estoy viendo espérate ahora espera Espera un momentín que no estaba viendo el chat A ver un momentín y Okay Ok momentín Espera que estoy leyendo eh okay José Manuel Okay Vale Beatriz un momentín Okay perfecto sin problema hermandad m Okay vale perfecto Pues un momentín Beatriz voy a continuar y ahora luego te comento lo de en tu caso qué tiene que tener la aplicación o igual hago tutoría individual contigo porque tu caso igual es un poco más particular y eso pero vamos tranquila sí hacemos una lista de prioridades para asegurar que lo que entregues esté dentro de las prioridades correspondientes a las asignaturas en las que estás O sea que sí sin problema vale y creo que Ah sí vale Sí eh dragos lo de Ah No espera dragos decía lo de los documentos Pero no sé si lo de los documentos es lo que me ha comentado antes Albert Ah pero sí Ah sí lo sé Está frito Sí lo sé Okay sí no Además Gracias por comentar eso porque as ahora luego os comento por qué Está frito y el por qué Está frito es muy sencillo Y es que cuando cargo documentos técnicamente me estoy cargando estoy machacando la el contenedor el section vale de las tablas con lo cual luego cuando hacemos clic en una tabla la tabla dice Dónde está la sección donde se suponía que yo cargaba la tabla no está Vale con lo cual la solución es una o cuando cargamos un documento de no cargarnos el contenedor de tablas o dos cuando cargamos de nuevo una tabla si no está el contenedor crearlo mediante javascript vale pero vamos a tema de implantación y ahora luego os comento ese tema pero sí O sea eso que estáis viendo Es cierto que pasa y ahora luego hablamos de las soluciones que evidentemente las hay bien entonces como os decía cuando yo contrato un servidor Pues con el servidor me dan una IP pero precisamente y las ips el protocolo tcpip ha existido desde hace décadas desde los años 60 70 Pero la idea es en internet no Llamar a las páginas web como si esto fuera un número de teléfono como tú llamas un teléfono vale sino tener algo así como una agenda de teléfonos en vuestro móvil no es más que un mnemónico cuando tú pulsas el teléfono de José Vicente tu agenda Recuerda que José Vicente es el teléfono 620 89 171 Pues con los dominios de internet ocurre lo mismo son mnemónicos para que cuando tú hagas clic cuando tú pongas http2 jocars comom el sistema sabe que jocar.com.mx abro un terminal esto se puede hacer en Linux en Mac en Windows y pongo ping jocars comom Y si pongo ping hocar comom me dice ping a 217 1660 2289 vale por lo tanto hay en los servidores espejo distribuidos a lo largo de internet a lo largo del mundo hay diferentes servidores espejo hay una serie de tablas son las tablas de conversión dns que cuando tú pones un navegador jocars comom mediante ese servicio de domain name server automáticamente los navegadores dicen Vale pues me voy a ir a la IP 217 160 2289 y a ver qué me dan en esa IP vale esto quiere decir ahora hablamos por cierto también del protocolo ssl esto quiere decir que en la página web de jarsa comom ya existe una aplicación que está implantada por tanto yo no quiero quitar es página de jocars comom yo lo que quiero es crear un subdominio que es crimson jocars comom no existe ahora mismo por tanto le doy a enter y no existe vale me dice no se puede acceder a este sitio porque no es O sea no es que no sea seguro es que no existe no está definido Vale entonces lo primero que voy a crear lo primero que voy a crear un mín espera un momentín que hago así aquí lo primero que voy a crear es un subdominio quieto vale Yo tengo esto y tengo esto con lo cual una vez que tengo voy a ampliar el ssl una vez que tengo un dominio yo puedo crear diferentes subdominios crear un subdominio la creación no se hace dentro del servidor sino que se hace dentro del panel de control del proveedor que haya seleccionado en mi caso por ejemplo yo me voy aquí a ionos me voy a dominios y ssl me voy a crear un nuevo subdominio me voy a El dominio jarsa y Quiero crear El dominio crimson jocars comom vale creo un subdominio para este dominio le doy a guardar el coste de la creación de subdominios y el número de subdominios que puedes crear depende del proveedor de servicios que hayas contratado yo en este caso creo que tengo un número infinito de subdominio creo vale pero tengo que consultarlo con el servidor Y en este caso como la página de jocars comom está redirigida como habéis visto al a la IP del servidor que tengo contratado cuando ahora continuación le daré a recargar cuando creo crimson.com me lleva también a ese servidor pero lo divertido Es que yo puedo ajustar las dns de cada servidor Perdona de cada subdominio lo cual quiere decir que en la práctica en lugar de tener diferentes subdominios alojados dentro de la misma máquina Yo podría tener diferentes máquinas si el tamaño de mi empresa fuera grande y podría hacer que un subdominio O sea que El dominio original dominio principal enfocara a una máquina y que un subdominio enfocará a otra máquina diferente vale recordad que esos son las dns y las dns nos dicen A qué servidor apunta cada dominio o subdominio insisto que bueno estoy recargando dentro de unos minutos lo que tarda el proveedor en dar de alta al subdominio pues aparecerá el subdominio disponible en mi página web y por defecto este proveedor ha elegido que cuando cree un subdominio le aplica por defecto la mis misma IP que el servidor principal si de hecho ahora me voy aquí a ajustar las dns veréis que de hecho ya empieza a existir crimson Vale y de hecho por aquí empezará a existir crimson que apunta a la IP 217 160 2289 os voy a decir una cosa y es que la primera vez que hagáis esto en un servidor vosotros como todo el mundo estaréis acojonados porque cuando tocas las dns de un dominio parece que si lo tocas mal te lo cargas y va a explotar mi respuesta a eso es que efectivamente si lo tocas te lo cargas y va a explotar pero también te digo que si te lo cargas muchos proveedores tienen por aquí una utilidad de restablecer vale de dejarlo como estaba al principio y si no te dan esa opción en el panel de control muchos proveedores ti el servicio telefónico les pegas un telefonazo Oye mira que estaba tocá me lo cargado y el típico técnico que te atiende te dice no pasa nada te lo reinicio y en media hora vuelve a intentarlo y ya está Vale quiero decir que tocar Las dns pues hay que tener cuidado porque yo sin embar o sea sin ir más lejos esta mañana y de hecho os lo puedo demostrar en un correo eh esta mañana para un servidor de la Universidad de valencia con el que estoy trabajando que ya os hablaré más de este proyecto más adelante porque igual os engancho a tres o cuatro de vosotros con la universidad de valencia para hacer las prácticas pero ya os hablaré un poco más de esto En cuanto me ten información más concreta Pues estábamos tocando Las dns y nos lo hemos cargado y ya está Vale estábamos cambiando de un dominio que era este de aquí a otro dominio que es este de aquí y nos lo hemos cargado vale con lo cual como esta mañana estaba en clase he dicho Mira pues ahora la web ya no está visible ni en esta url averiguo Por qué De dónde viene el problema y te digo a ver cómo lo podemos solucionar y ya está y no pasa nada O sea quiero decir que entre otra persona y yo que es esta persona pues esta mañana nos hemos cargado un servidor o sea nos hemos cargado Perdón las dns de un servidor más que un servidor y no pasa nada vale De hecho yendo en el coche a mediodía he caído en dónde está el problema pero claro como ahora me metido en clase con vosotros pues ya esta noche le Escribiré un correo y le diré Mira el problema está en el certificado pero ya está Vale O sea que si os lo cargá no pas nada tranquilos bien una vez que esquema una vez que eh habéis configurado un subdominio y el subdominio apunta a una máquina a continuación la máquina tiene que estar preparada tiene que estar disponible para acoger ese el código de ese subdominio vale para ello voy a hacer lo siguiente me voy a meter en el servidor me puedo meter o bien a través de file cila o bien a través de ssh me tengo que meter de las dos formas o bien me puedo meter a través de nautilus lo que sea me voy al vps me voy a la carpeta barw esto ya es el servidor vale aquí veo una serie de aplicaciones que ya están instaladas entre las cuales se encuentra old blace y Dark Slate Blue que son las aplicaciones que estamos haciendo en primero Así que ahora de momento lo que voy a hacer es crear un directorio y lo voy a llamar crimson temp vale crimson temporal dentro de crimson temporal yo puedo hacer cosas vale es decir Yo puedo vamos a verlo me voy a conectar con nautilus eh Me voy a es este el nueve sí o qué Sí vale me voy al servidor me voy a ir a hedit me voy al servidor me voy a bar me voy a w me voy a html me voy a crimson temp hago un Index html y digo voy a poner la Fuente más grande vale y digo h1 Bienvenido a crimson Vale y tengo un micr documento html pero Mirad si yo intento ir a crimson recargo crimson me lleva a jarsa crimson jocar.com.mx blue o sea no me está llevando la carpeta Correcta Por qué Mirad la aplicación hok carsa corresponde a la carpeta hok arsa old L por ejemplo ahora luego en la siguiente asignatura en programación móvil hablaremos del Forest Green vale haremos una migración a Android de Forest Green por ejemplo pues tengo una aplicación que se llama Bueno tomato lo habéis visto Vale cuando yo pongo por ejemplo quieto dónde estás aquí cuando yo pongo tomato jocar.com.mx a una URL u otra a qué carpeta le tiene que llevar Vale pues esto se hace a través de una cosa que se llaman virtual hosts el Virtual Host es una utilidad de Apache que es capaz de que un solo servidor escuche en varios dominios y o en varios subdominios y según El dominio o subdominio que le entre te redirecciona a una carpeta o a otra Así que como os digo yo no quiero tocar jocars comom pero sí que quiero que cuando yo ponga crimson jocar.com.mx Index html para ello veré que si me meto en el servidor y me meto en etc y me meto en apach 2 y me meto en sites enabled veré que hay ya unos archivos de configuración y cada uno de estos archivos de configuración Por ejemplo si entro en light salmon me dice mira cuando alguien entre o bien en salmon hocar comom o bien en salmon.com le vas a enseñar lo que esté dentro de la carpeta bar W html hoc carsa light salmon y luego Aquí puedo poner una serie de opciones y lo que os decía Albert este fin de semana o el viernes no me acuerdo cuando os lo dije lo del tema del log vale lo del tema de si hay errores de Apache donde se van a registrar esos errores de Apache de php o de lo que sea vale por tanto el Virtual Box o sea el Virtual Host Perdón es un traductor es capaz de escuchar el subdominio de entrada y según el subdominio de entrada te va a llevar a una carpeta o a otra lo cual quiere decir que el Virtual Host pues es una forma muy limpia de enganchar y de hacer que en un servidor convivan varios dominios y varias y varios y varias carpetas bien para ello lo que voy a hacer en este caso es que me voy a ir al servidor entonces en el servidor Espérate que te lo digo Clear y le digo ssh Root @ 27.160 28.9 vale Yes me conecto al servidor momentín que tengo por aquí la contraseña un segundo Ok vale me conecto al servidor me dice mira has usado al 5% de 80 GB uso de memoria 43 uso de carga del sistema 0% vale Okay Venga pues aquí lo que voy a hacer a continuación Ok log instalación vale Ok lo que voy a hacer es ejecutar este Comando Así que digo 202 501 1 a las voy a sudon ano apach sa vailable crimson jocar.com.mx vale hago así Ahora a continuación una vez que lo tengo Pues claro me copio uno de estos me lo pego en Nano lo modifico no me puedo olvidar nada porque si no funcionará y digo crimson hocar comom escucho también en crimson hocar comom y te tengo que llevar a la carpeta de momento crimson temp se llama crimson temp es porque no va a ser la final ahora os diré Por qué los certificados ssl ahora luego os hablaré de ellos el certificado ssl que tengo sirve para subdominios y te voy a llevar a crimson temp y los errors para no error.log y crimson Access log combinado con esto por tanto guardo salgo ejecuto este Comando ejecuto El Comando 225 a las de sudo Apache to enable site crimson jocars punc es decir habilito le digo a pache Oye que sepas que Acabo de crear un archivo de configuración o sea mételo en tu lista habilito ok Y me dice vale para que me dé cuenta de los cambios tienes que reiniciar aache reinicio Apache a las 2021 a las reinicio Apache vale Okay si todo va bien y como hace unos minutos que hemos creado el subdominio yo creo que irá bien si todo va bien yo ahora me vengo aquí Dónde estás navegador aquí me vengo aquí me voy a crimson jarsa comom espérate recargo y me dice bienvenido a crimson vale ahora sí ya hemos hecho todo el proceso si os dais cuenta Estoy viendo el h1 en la pantalla ya hemos hecho todo el proceso de a partir de un dominio crear un subdominio a partir del subdominio lanzarlo en las dns contra el servidor en el servidor crear un virtual Host que enlace el subdominio con la carpeta correspondiente y activarlo todo vale por tanto Eso quiere decir que cualquier persona podrá entrar en mi web en jocars comom y otras personas entrarán en crimson hocar comom y no pasa nada son como dos burbujas dos universos diferentes dentro del mismo ordenador vale bien sigamos ahora luego por cierto Mira de hecho dentro de 10 minutos nos meteremos en tomato y en tomato veremos que no habremos consumido muchos recursos Vale ahora no porque básicamente la Gráfica se actualiza cada hora y por tanto pues quedan 10 minutos hasta la siguiente actualización O sea que de momento no va a haber ningún cambio con respecto al inicio de la clase una vez que hemos creado el Virtual Host a continuación tenemos que hacer un deploy es decir pasar la información desde el servidor hasta Perdona desde el entorno de desarrollo hasta el entorno de producción por ejemplo se puede hacer con file cila vale no hay ningún problema por ello Es decir es el método clásico de pasar la información al servidor Pero yo lo que voy a hacer es enseñaros a hacerlo con github que ahora veréis que añade la dependencia de github es cierto añade github como intermediario pero yo creo que tiene muchas más ventajas que desventajas vamos a hacer primero una implantación directa a través de file cila y luego lo hacemos con github para ello a continuación lo que voy a hacer es lo siguiente Por una parte me voy a file fila me voy a mi ordenador a barw me voy a dam me voy a segundo me voy a sistemas de gestión empresarial me voy a proyecto Me cojo la última versión acabamos modularización quito el Index porque era una demostración vale Y ahora hago así por cierto antes de hacerlo deberíamos echarle un vistazo A cuánto ocupa por saberlo vale propiedades y un mega qué Guay Vale pues nada pues un mega así que me vengo aquí lanzo vale esperamos a que acabe la transferencia esperamos a que acabe la transferencia Okay vale Y si ahora insisto si ahora cargamos jocar.com.mx forbiden vale forbiden no hay ningún problema y eso quiere decir que no tengo permisos Entonces vamos a ver CD bar no es W html ls lsl vale veo que crimson temp pertenece al administrador pero ahora CD crimson temp lsl e e espérate Ah sí Perdón vale porque no puedo entrar en la página principal porque tengo que entrar en barra cliente vale cliente Ahora sí bien y veis que pues ya tengo el login de crimson migrado mediante ftp a un entorno de producción empezado a migrar vale porque nos queda mucho para acabar la migración aparece un problema el problema que aparece es que este logo no carga y entonces yo digo cómo es posible que ese logo sí que cargue en la versión de desarrollo Ah muy bien vale pues tampoco carga Pues nada entonces bueno os cuento a ver si local Host os cuento el error está en que este archivo de aquí es jarsa crimson con minúsculas pero realmente el archivo crimson con mayúsculas Vale cuando esto apuntaba a ionos no pasaba nada porque ionos me cambia automáticamente la mayúscula por la minúscula pero mi servidor no vale entonces qué ocurre Pues que van a haber problemas en la implantación pero no pasa nada Claro yo acabo de detectar un error y acabo de detectar Cuál es la solución La pregunta es dónde lo soluciono o bien lo soluciono en el entorno de desarrollo y luego lo vuelvo a subir al servidor que bien no está mal de esa forma es decir es trabajo en mi equipo de desarrollo en modo desarrollo y luego implemento implanto en el servidor Ok también puedo meterme directamente en el equipo de desarrollo en el equipo de producción y editar en caliente lo único que pasa es que entonces cuidado porque habrá una desincronización entre lo que en tu equipo de desarrollo y lo que hay en el equipo de producción Vale Voy a hacerlo en caliente sería hacerlo medio mal todos trabajamos mucho en caliente yo el primero vale Pero vamos a hacerlo medio bien en lugar de hacerlo medio mal si yo sé cuál es el error yo me vengo por aquí me hago una siguiente versión 158 corregimos logo de login Y entonces me voy a hedit voy a abrir otro hedit diferente vale me voy a dam me voy a segundo me voy a sistemas de gestión empresarial me voy a proyecto me voy a corregimos logo del login me voy a Index php y el problema como os digo es que crimson va en mayúsculas eh esto por aquí y esto por aquí vale fijaos no me ha pillado no me ha pillado ni el logo ni el favicon pero yo ahora me voy arriba me voy aquí vuelvo a lanzar sobre escribo puedo lanzar únicamente el archivo que he modificado o puedo lanzar todo vale lo que quiera Okay está transfiriendo vale Okay implantado vamos a recargar y ahora veo que tras haber hecho esta corrección pues ya tenemos correctamente el logo vale modificado Mira por ejemplo me he dejado por ahí un eco de es.es Bueno pues no pasa nada podría ir también dónde está ese es.es pues me vengo aquí login.js dónde estás es a vertin si lo localizo Ah es.es vale parece un document write console log es.es Ah Espérate que aquí hay más tela eh no Qué raro vale vamos a ver index.php Vale pues no lo estoy viendo no lo estoy viendo idiomas Ah Espérate in idiomas que eco idioma Vale pues muteo el eco idioma con lo cual pues tengo que volver a implantar volver a subir y ya está por supuesto Ahora cuando haga login no va a funcionar vale porque la base de datos no la he migrado solo he emigrado el código ahora migramos la base de datos obviamente bien entonces vengo por aquí ahora recargo crimson y ya no aparece el código de idioma molestando por ahí arriba vale por tanto lo que hago En definitiva es que cada vez que veo algo que hay que mejorar pues la forma medio bien de hacerlo consiste en modificarlo en el entorno de desarrollo teóricamente antes de lanzarlo debería probarlo en el entorno de desarrollo y solo cuando compruebe que en el entorno de desarrollo ha sido correcta la mejora pues en ese caso a través de file cilla hago un trasbase al servidor de producción bien a continuación eso es la forma medio bien Ahora vamos a la forma super bien a continuación voy a intentar loguear Mira otra mejora Es que este campo Debería ser de tipo password Pues bueno ahora Luego hacemos la mejora vale le doy a Iniciar sesión y evidentemente me dice error número 02 contacta con el administrador porque básicamente lo que me dice es que me he intentado Conectar a la base de datos llamada crimson y la base de datos crimson no existe para ello por lo tanto lo que tengo que hacer como os podéis imaginar es migrar la base de datos es decir aquí estamos hablando de migrar la programación pero también tengo que migrar la base de datos desde el entorno de desarrollo hasta el entorno de producción cómo lo vamos a hacer Pues bueno lo podemos hacer A través de php o a través de línea de comando voy a hacerlo en línea de comando me voy en primer lugar a local Host bar php my admin me voy a Root vale me voy a crimson en crimson veo que tengo este problema Vale ahora luego bueno igual mi servidor lo acepta ahora veremos Vale Voy a y si no luego lo puedo quitar bien exporto me voy a crear una nueva carpeta llamada implantación exporto crimson Vale y a continuación lo que voy a hacer en file fila es que me voy a ir a mi carpeta home y ahí dentro lo que voy a hacer Hola Qué hay Serena qué Tala cuidado claro has tenido reflejos mío vale quier hablar contigo ah sí perfecto por sus prácticas Sí lo sé lo tengo en cuenta vale venga ahora luego llamo okay Vale esta hora Vale entonces tengo por aquí una carpeta llamada subir sql Más que nada porque no es bueno que un archivo exportación sql pues esté por ahí en cualquier parte vale por eso lo he puesto en la carpeta home donde en principio la carpeta home Nadie debe tener acceso Así que home José Vicente escritorio implantación Hola implantación vale en subir sql lo subo ahí veis que ya está el sql de la semana pasada de old lce que es el proyecto de primero insisto vale que esto se hace así por seguridad Aunque evidentemente pues en nuestro caso crimson es sql ahora mismo no tiene datos privados ni nada pero los Podría tener vale me voy al servidor me voy al servidor y en el servidor digo sudo Bueno mysql guu Root gu p quiero Acceder al servidor entro como usuario Con permiso al servidor mysql entro dentro de mysql y digo databases las bases de datos que hay ahora mismo en el sistema son information skema mysql performance esquema siis como bases de datos del sistema no las puedo tocar y también está old l que es la base de datos que creamos la semana pasada para el proyecto de primero a continuación vamos a decirle dónde estás Aquí vamos a decirle que el 2025 011 a las 1603 vamos a decirle create database crimson Así que copio pego le digo show databases Y ahora ya existe crimson vamos a meternos dentro de crimson use crimson realmente no hace falta para lo que voy a hacer Pero bueno u Perdona use crimson con minúsculas vale Ya estoy en crimson show tables no hay nada no hay ningún conjunto de tablas vale lo que voy a hacer en este caso momento que te lo digo Aquí a continuación el día 13 a las 1604 voy a crear un usuario llamado crimson user 4 si os fijáis hasta el momento en el entorno de desarrollo era base de datos crimson usuario crimson contraseña crimson que era una práctica muy insegura Pero no pasa nada porque estaba en un entorno de desarrollo ahora estoy pasando esto a un entorno de producción a un servidor público abierto que cualquier persona podría reventar Así que el usuario ya no va a ser crimson como contraseña voy a mantener esta contraseña por tanto ejecuto esto create user crimson Okay Vale con contraseña y le asigno aquí y le digo el día 13 a las 1605 Grant all privileges to crimson a la base de datos crimson punto cualquier tabla al usuario crimson user 4 @localhost copio pego y ya está es bueno que hagamos un flush privileges es decir un recarga la tabla de privilegios date cuenta de los cambios que han habido vale eso no hace falta ni que lo apunten el log porque es una práctica común en mysql cuando modificas los privilegios pues hacer un flush cach vosotros no hasta ahora no lo habéis hecho porque os lo hace php my admin vale De hecho cuando creéis un usuario si miráis en el registro veréis que os ha hecho un flux privileges pero en un servidor de producción tienes que hacerlo tú como administrador vale Y ahora salgo de mysql y ahora a continuación me voy a CD home ls CD subir sql ls veis que tenéis por ahí el crimson sql con lo cual ahora lo que voy a hacer va a ser Esto va a ser el día 13 a las 07 mysql Ur Root y digo crimson sql me lo importas a la base de datos crimson es decir Comando mysql como usuario root Pídeme la contraseña dentro de la base de datos crimson metes el archivo crimson sql copio pego si todo ha ido bien enter password para superusuario Y si todo ha ido bien Ahora me vuelvo a meter en mysql U Root p me meto en el servidor use crimson show tables y tengo aplicaciones claves Api clientes cliente resumido departamentos todo lo que tenía en mi ordenador de desarrollo ahora mismo Está en el servidor de producción ya sabéis que si hubiera dado algún tipo de error con la colación pues no pasa nada Pues hubiera hecho el buscar y reemplazar que hemos comentado en semanas anteriores Y ya está Vale bien Voy a decirle exit tras lo cual acabo de realizar el proceso de migración y el proceso de importación de base de datos a base de datos claro ahora lo que ocurre es que evidentemente Mirad voy a hacer Voy a ver un archivo en producción pero no lo voy a tocar Si yo ahora me voy dónde estoy aquí si yo ahora me voy a bar a w html a crimson temp vale me voy a cliente me voy a login login Dónde estás login dónde vas a servidor usuarios vale a servidor eh okay Buscar tabla vale usuarios Pues aquí en conexión de B tendría que cambiar esto la base de datos será crimson Pero usuario ya no será crimson contraseña ya no será crimson vale Pero bueno lo puedo hacer y ya está y no hay ningún problema ahora a continuación voy a cerrar esto y vamos a hablar de hacer las cosas mejor que bien vale en este caso de lo que os voy a hablar a continuación es de no hacer una implantación directa a través de file fila que habéis visto que no hay ningún problema lo hacemos va a funcionar y ya está O sea no hay problema por eso pero de lo que vamos a hablar en este caso voy a quitar esta flecha es de realizar una implantación utilizando un sistema de repositorios como en este caso el sistema más cómodo es github donde en el en este sistema cómodo lo que vamos a hacer Es que desde el servidor de desarrollo vamos a lanzar a con github nos vamos a poder beneficiar de hacer control de versiones de si una versión falla podemos hacer rollback o a la versión anterior o a las x versiones anteriores podemos hacer ramas podemos fusionar dentro de la rama principal y al final podemos implantar directamente desde github al servidor para ello lo que voy a hacer va a ser lo siguiente me voy al servidor me voy a ir a la carpeta bar vw html y en este caso en lugar de trabajar con la carpeta crimson temp que evidentemente se llama así porque era temporal voy a crear un repositorio en github específico para crimson github.com barok voy a crear un repositorio llamado jarsa crimson lo voy a hacer privado pero no privado para vosotros vale o sea quien quiera ver lo que hay en el repositorio me pide acceso y ya está y se lo doy lo hago privado para que no lo vea la gente de fuera vale como va a tener ya información que puede ser delicad pues lo voy a hacer privado añado un readm Pero insisto vale privado para todo el público de la calle o sea quien quiera de vosotros verlo me envía una yo os doy permiso y ya está o al revés o me lo decís yo os envío la invitación y ya está Vale entonces Beatriz eh A ver esto sería Beatriz lo que tú quieras que sea es decir en el momento en el que hacemos una implantación desde github al servidor lo lógico Efectivamente es tener una rama de Master y subir la de Master y tú ir trabajando en una rama de desarrollo o incluso si hay varias personas trabajando en un proyecto que cada persona trabaje en una rama y trabaje independiente y al final hacer un comit a la rama principal desde el servidor hacer un Pull para bajar la rama principal al servidor voy a hacer demostración ahora eh de todo esto y por tanto implantar vale claro Albert precisamente y insisto y lo he dicho mil veces que ya sabéis que yo no soy o sea mi rama de expertise no es precisamente la seguridad pero siempre he confiado mucho en que precisamente una de las razones para usar github es el tema de la seguridad y desde luego de la integridad dicho lo cual os vuelvo a recordar una vez más que no soy un hacker con lo cual igual le preguntas est un hacker y te dice no si reventar github es muy sencillo No lo sé o igual le preguntas a un hacker y te dice no reventar github es imposible no tengo ni idea pero yo en principio pienso que es bastante seguro no tengo digamos nada que me indique lo contrario bien Así que y desde luego en cuanto a integridad toda ahora verás por qué le doy a create repository Sí a ver un momentín te cuento Beatriz las empresas de hecho en cuanto la empresa crece un poquito lo que tienen directamente es un chit esto qué quiere decir diréis os Cuál es la diferencia entre jit y jit Java yit que es un software creado Por cierto esto no sé si os lo había dicho por Linux thals que es el mismo que el creador de Linux vale git es un software de o sea para montar un servidor de control de versiones Eso quiere decir que vosotros cualquier persona cualquiera de vosotros podéis ir a Download git descargaros git en vuestro equipo y montar un servidor de git en vuestra casa o en vuestro o en vuestra empresa vale Lo cual quiere decir que una empresa si la empresa es medianamente grande puede tener un servidor dentro de la empresa que sea un servidor con todo el código de la empresa vale con lo cual luego desde el servidor de ionos o donde sea puedes hacer una clonación desde el servidor de la empresa pero claro donde nosotros somos digamos estudiantes O sea ya en este caso he contratado un vps Pues claro eh Como te diría yo montar un servidor específico para jit Pues sería un coste adicional vale por tanto un poco pero que sepáis que eso se puede hacer yo en este caso me voy a ir a github porque es una opción gratuita con lo cual hay una empresa que se llama github.com propiedad en este momento de Microsoft que ha creado un servicio de jit abierto al público pero te puedes hacer tu propio jit privado gratuito en cuanto al software pero tienes que eh Tienes que pues invertir en un servidor vale bien con lo cual yo ahora a continuación lo que voy a hacer es que en mi equipo de desarrollo esto lo voy a subir a yit que es una cosa que hecho antes de clase vale en mi equipo de desarrollo me voy a clonar crimson es decir momen que está recargando es decir el repositorio específico de crimson Ok jarsa crimson vale muy bien a continuación aquí a continuación me copio esto y en mi ordenador de desarrollo vamos a ver en mi ordenador de desarrollo pego crimson con lo cual me voy a github me voy a github y subo primera primer comit commit Push vale Y ya está lo que acabo de hacer lo que acabo de hacer Dónde están las bolitas me he cargado las bolitas Sí vale lo que acabo de hacer es esto es subir la información desde mi ordenador local hasta github ahora a continuación en el servidor de destino lo que voy a hacer es bajar la información desde al servidor de producción Vamos allá me voy a el servidor a ver lsl Uy Perdón Clear lsl Vale y digo git clone dónde estás aquí el día 13 a las git clone jocars crimson punkit clono pongo la contraseña de github y fijaos que aquí arriba no existía carsa gu crimson pero lsl ahora existe jarsa crimson y dentro de jarsa crimson existen todas las carpetas que hagan falta Bueno ahora a continuación como os podéis imaginar donde hace un rato crimson apuntaba a crimson temp porque era temporal Vale Voy a editar el Virtual Host y voy a hacer que apunte a donde debe que es jokar gui crimson esto quiere decir que vamos a ver esto quiere decir que aquí me voy a etc me voy a Apache Me voy a sites enabled a ver available vale me voy a crimson y digo que esto lleva a jarsa gu crimson y ya está y jokar crimson y en bailable Ah mira bien vale Ok perfecto vale a continuación le digo sudo service apach 2 restart y si todo va bien claro cómo ver si lo he hecho correctamente no si todo va bien Ahora me voy aquí a crimson Claro funciona pero no sé si lo he hecho bien para saber si lo he hecho bien me voy a file cila ya sabéis que yo no soy mucho de eliminar pero voy a eliminar crimson temp porque era una carpeta temporal vale un momento que está eliminando todos los temporales porque ahí estaba todo el proyecto un momento un segundo Oye estoy viendo que el micrófono a ver headset vale Ah sí está a tope a ver prueba Sí vale bien ya está eliminado ya está eliminada la carpeta crimson temp con lo cual si yo ahora recargo y sigue cargando es que estoy en la carpeta correcta vale estoy en la carpeta de github ahora vamos a comprobar si lo que estoy haciendo está empezando a estar bien hecho vale Cómo hago esto Bueno pues una forma de hacerlo voy a hacer una modificación contraseña era un campo visto era un campo claro y encima tengo por aquí has pulsado una tecla vale con lo igual ese tipo de console punto log los tengo que ir empezando ya a Desactivar Bueno pues yo entonces vengo por aquí y en el entorno de desarrollo local Sí vale Sí pero no en el entorno de desarrollo local me voy a jarsa crimson estoy en el correcto creo que sí vale me voy a jocars crimson y en cliente en login no perdona en Index este campo de aquí es de tipo password además en el login voy a quitar javascript cargado vale Pero ha expulsado una tecla esto no lo quiero ya okay Y Ok los consoles me los quito vale aparte elimino algún espacio empiezo a limpiar código vale Okay bien así que ahora a continuación Este cambio está en local vale Ah perdón local Host jarsa crimson vale Este cambio está en local veis ahí el password pero no está en la nube sigue siendo un campo de texto Pero yo a continuación hago lo siguiente a continuación si yo hago un cambio nuevo lo que voy a hacer es que ese cambio lo voy a subir por aquí truco trucu truc trucu y ese cambio lo voy a bajar por aquí trucu trucu vale vamos a verlo desde el entorno de desarrollo me vengo aquí y digo mejoras en el login contraseña comit to Main Push lo que estoy haciendo comit Push es trucu subir a la nube de github ahora la novedad está aquí y la novedad está aquí y ahora me voy al servidor entro dentro de jocars crimson y llamo a este Comando y llamo a este Comando git Pull origin Main es decir llamo al comando git ejecuto una instrucción Pull y desde el origen quiero clonar lo que comentabas antes Beatriz la rama Main Así que copio pego contraseña de github me dice qué archivos han cambiado Me dice mira en Index php has cambiado una línea cuando pone más y menos quiere decir un cambio en una línea y en el login js es un cambio en una línea y cuatro líneas has quitado incluyendo las líneas en blanco así que si ahora a continuación me voy aquí a crimson hocar comom y recargo veo que ahora este campo es de contraseña con lo cual a partir de este momento lo que hacemos Es implantar y como ya os digo bien implantado con ciertas garantías el hecho de que en lugar de lanzar directamente desde desarrollo a producción lo que hacemos Es que primero trabajamos con un sistema de versionado lo cual qui decir que yo acabo de aplicar una novedad al servidor Pero si yo no quisiera esa novedad Yo podría hacer un rollback es decir yo podría volver a la versión anterior y también evidentemente el sistema de lanzar directamente por ftp está Guay cuando una sola persona trabaja con un programa cosa que probablemente es nuestro caso evidentemente Pero por supuesto el sistema de trabajo con github está especialmente bien cuando dos o más personas trabajan con una máquina o sea con un proyecto con lo cual el proyecto se sincroniza con un repositorio centralizado que es github Y a partir de ahí pues ya evidentemente si las dos personas trabajan en la rama Main cosa que no recomiendo Pero bueno puede ser pues vale Y si una persona hace una rama hace pum y luego hace un merch en el Main Pues luego al final lo que le llega al servidor es directamente el Main vale Así que la idea de esta implementación como veis es que pues bueno Espérate que ahora Hay que seguir la implementación es que todo en principio empieza a funcionar correctamente y hay ventajas Pero todo no funciona correctamente porque ahora hay que hacer ajustes Así que vengo por aquí jarsa le doy a Iniciar sesión y no funciona por qué no funciona el motivo por el que no funciona vamos a ver el motivo por el que no funciona es porque me voy a servidor y en servidor en conexión de B Pues claro tengo los datos de eh usuario y contraseña y base de datos del entorno de desarrollo entonces la cuestión Cuál es modifico los datos y le pongo los datos del servidor de producción No porque entonces me dejará de funcionar el equipo de entorno de desarrollo vale es decir podemos sincronizar el código la base de datos obviamente no O no tan fácil o no Si es May sql curiosamente si fuera sqlite sí que podríamos así que una forma muy común de trabajar consiste en lo siguiente en el servidor voy a hacer por una parte un archivo llamado config gu sample php y en config sample lo que voy a hacer es decir servidor es igual a local Host contrasena es Perdón usuario voy a decir servidor de B usuario de B es igual a no me acuerdo pero me lo he apuntado por aquí es igual a crimson user 4 contrasena de B es igual a me lo he apuntado por aquí y base de datos base de B es igual a crimson vale a continuación claro esto es un config sample pero bueno a continuación en conexión de B voy a decir include config.php y voy a decir servidor es igual a servidor de B usuario es igual a usuario de B contrasena es igual a contrasena de B base de datos es igual a base de datos de B y ahora a continuación y ahora a continuación este archivo lo guardo como config Vale entonces vamos a ver el config sample tendrá esto vacío Este es el config sample vale es el archivo de muestra de configuración en entorno claro esto Realmente está mal en entorno local esto es crimson Perdón esto es entorno local esto es crimson vale Y ahora me voy lo pruebo ahora ya no las tengo todas conmigo de que funciona la primera jarsa joc carsa inicio Ob sesión no vale error Por qué ahora no debería dar error men okay vale a ver crimson servidor de B usuario de B base de B voy a hacer una cosa voy a meter el config aquí un momentín No creo pero OK ahora sí vale y entro momentín y entro Vale ahora a continuación me voy a github o sea subo el modificado pero no voy a subir config porque config al servidor a github no le interesa config me muestra la configuración en mi entorno de desarrollo pero no en el entorno de producción por tanto botón derecho y lo ignoro es decir el config no lo subo al servidor porque el que voy a subir es el config sample Así que a continuación hago datos de configuración para base de datos commit Push vale Ok venga y vamos allá ahora en el servidor git pool origin Main dame los datos Dame las novedades bien git ignore ha sido modificado el conexión de B ha sido añadido el config sample y ahora a continuación me voy a servidor tengo el config sample esto recordará mucho a wordpress y digo CP config sample config.php es decir qué acabo de hacer lo que acabo de hacer es duplicar copiar el config sample en un archivo config.php para qué para que el entorno de desarrollo tenga su propio archivo de configuración y el entorno de producción tenga su propio archivo de configuración cada uno con datos diferentes Así que ahora a continuación me voy ahora sí que puedo editar en caliente ahora sí que está permitido me voy a bar me voy a w me voy a html me voy a crimson me voy a servidor me voy a config porque ahora sí que está permitido aquí esto es servidor esto es crimson vale porque ahora estoy haciendo una configuración específica del servidor usuario contraseña Ok me voy al servidor y fijaos que mientras que local Host en local Host inicio sesión y entro correctamente si todo ha ido bien en el servidor que igual no va bien Vamos a verlo si todo ha ido bien en el servidor entro con jarsa Y jok carsa le doy a Iniciar sesión error Vale ahora vos a ver qué ha pasado Pues no lo sé y cuando digo No lo sé vamos a ver jarsa y jarsa quiere decir que vale me voy a ir al vamos a ver momentín Me voy a ir a local esto es sí me voy a ir a cliente me voy a ir a login me voy a ir a Ah console log Data si que está console.log datata sí response text lo que os decía el otro día vale yub dónde estás aquí depurando login me voy al servidor lo podría hacer en el servidor vale pero es para hacerlo bien no eh espera bajo ahora hago un Pull Vale entonces desde aquí recargo jarsa y a ver qué error Da inicio sesión Access den for user crimson @localhost es que no es crimson no no Espera no te vayas no es crimson a ver crimson @localhost en eh Ah en Fuerza bruta vale Espérate Hay un problema y es que vamos a ver este login en Inc hace referencia a Fuerza bruta vamos a verlo en servidor librería Fuerza bruta y a Fuerza bruta le pasa esto que estáis viendo aquí vale con lo cual una vez más lo que tengo que hacer es modificar arreglar todas estas cosas que no van bien para la importación Así que include dos punos barra config.php y aquí le digo servidor de B usuario de B contrasena de B base de B vale okay Y antes que nada voy a volver a repetirlo en Fuerza bruta y en Index 9 Ah en Index 9 vale Index línea 9 Muy bien pues actualización archivo config Push en el servidor hago un Pull Okay recargo jarsa Vale ahora no s file or directory Fuerza bruta Ah ok venga esto es porque vamos a ver espera antes Tengo que probarlo aquí lo pruebo en entorno de desarrollo inicio sesión vale Ok el error está en que en Fuerza bruta es el archivo config reprobamos OK ahora sí vale entras correctamente y Ok vale eh en la sesión no me la ha hecho por cierto Bueno vamos a ver Esto es response.js veis que lo estaba haciendo mal vale porque lo estaba probando directamente en el entorno de desarrollo o sea en el entorno de producción no vale pruebo en entorno de desarrollo y si va bien el entorno de desarrollo Entonces probamos el entorno de producción okay Vale ahora hago un Push mejoras en rutas config commit Push vale aquí hago un Pull pongo la contraseña Okay recargo en producción jarsa is nota válido Oh qué rollo venga vamos otra vez a ver hasta que lo consigamos eh aquí Ah depuración venga a ver qué dice ahora el entorno de producción Jo Ah no perdon y aquí p no sé si lo había hecho ya vamos a ver Ah sí Ey Albert El error del vale me acaba de ocurrir El error del con lo cual qué ocurre Pues que yo simplemente Todavía no he instalado deb vale con lo cual lo que ocurre en este caso simplemente es que antes de instalar vamos a asegurar el funcionamiento hasta este punto pues lo que voy a hacer es que aquí jas aquí en conexión de B no en Index aquí quito un momento el conecta quito un momento el conecta quito un momento el conecta y vamos a probar a ver si así me deja probamos en local OK Vamos a subir a producción desactivo temporalmente aquí hago un Pull vale recargo inicio sesión Oh Non White space caráter qué rollo a ver Qué pasa punto text debug podría hacerme una variable para entrar en modo de bug también te lo digo vale Uy Ah no Ya he subido vale venga a ver qué pasa fatal error Access the Night for user crimson En qué archivo en registros vale en registros otra vez me ocurre en registros que otra vez me ocurre esto de aquí es decir algo que funcionaba en local y me estoy dando cuenta que había incurrido en una mala práctica que es poner a manubrio los datos de conexión con mysql en lugar de meterlos en un archivo de configuración buen No pasa nada Pues lo que hacemos ahora a continuación es en la implantación ir corrigiendo ir mejorando todo lo que sea necesario Así que eh configuración en archivo de registro y Vale Okay Y probamos de nuevo jarsa ahora sí entras correctamente Y si entras correctamente Pues momentín porque me tengo que hacerlo Jason eh Ahora login.js vale salimos de debug comit to mail gitp m vale recargo entro vale entro correctamente Y si todo va bien pues ahora sí que ya entraré a la aplicación real hasta aquí todo este rollo toda esta película ha sido para salir del login o sea para entrar en la aplicación ahora por supuesto al entrar en el panel de control ocurrirán otros errores vale de momento sí que me conocido correctamente el usuario y me ha reconocido correctamente que voy al departamento de ventas Así que hago clic en ventas entro aquí hay por ahí empieza a haber errores No pasa nada pincho en clientes empieza a aparecer documentos aparece vacío porque de momento he desactivado mongodb pero como veis poco a poco la aplicación empieza a estar implementada en el servidor bien ahora antes de acabar y antes de por hoy y en sistemas y antes de saltar a la siguiente asignatura que es programación multimedia Eh quiero hablar un momento de esto que acabo de hacer yo sé que todo esto que acabo de hacer de github lo veréis como un rollo porque diréis madre mía Pero lo fácil que es file cila y hacer pum y soltar la aplicación directamente en el servidor y Oye por qué no podemos editar en caliente o sea por qué no podemos abrir un hedit y me voy aquí directamente a marcadores me voy al servidor de producción y entro aquí en html y me meto en crimson y empiezo a editar el código vale en mi caso con hedit en vuestro caso con visual Studio como queráis bien la cuestión es la siguiente eh la edición sobre todo en caliente en servidor es un poco Juan Palomo vale Yo me lo guiso yo me lo como y no hay ningún problema con ello Es decir primero cuando punto número uno una sola persona gestiona la aplicación y cuando punto número dos esa persona incluso ya con la aplicación con usuarios en funcionamiento tiene suficiente conocimiento y suficiente confianza como para decir puedo editar en caliente y estoy tranquilo que sé que si lo rompo lo voy a arreglar Sí o sí en ese caso puedes editar en caliente vale No es que esté prohibido pero lo que no quiero vale es que lleguéis el día de mañana a una empresa o bien de prácticas o bien ya contratados y que yo os haya acostumbrado a editar en caliente y que en esa empresa os coloreé en la cara porque digan Eh no perdona os lo editar en caliente Aquí prohibido o sea aquí hay un repositorio hay un project manager que es el que contra el cual haces commit Y ese project manager se lo baja a su equipo y lo testea Y sí está Okay en ese caso ese Project manager le da al botón de merch y lo fusiona con la rama principal y hay un administrador del sistema del servidor que un día a la semana hace Pull y lo baja al servidor y lo mete en producción y aún así lo mete en producción y luego hay que testearlo para que comprobar que todo funciona bien vale cuando llegue ese momento no quiero que digáis github o jit eso qué es repositorio commit Push merch eso qué es vale Porque mi profesor hacía comit en un repositorio suyo en el que nos pasaba el código pero no sabemos nada más vale por tanto sí Exacto Beatriz Esa es la cuestión vale Y es que Mirad si yo me meto respecto a lo que estás diciendo vale eh meme git merch vale Vais a encontrar vale vais a encontrar o sea memes todos los que queráis de git merch Entonces si aún trabajando con seguridad y con ramas y con má y con un proyect manager que gestiona y comprueba y habiendo comprobado en entorno de desarrollo y cont testeadores en la empresa y aún así Beatriz haces un Push a producción y todo revienta vale Imagínate si editas en caliente porque una de las cosas muy buenas que tiene jit es que si lo pasas producción y revienta y el reventón es máximo que no sabes por dónde Peta El reventón Pues a una mala haces rollback Y ya está Vale y vuelves a la versión anterior y ya el equipo de desarrollo analiza el reventón y ya Mira a ver qué ha pasado pero claro al editar en caliente pues ese tipo de cosas no son tan posibles vale claro no Albert es que hay memes específicamente de merch Friday que es Cuál es la mejor forma aquí vale Cuál es la mejor forma de quedarse sin fin de semana pues hacer un merch momentín vale Te por aquí mira vale o sea la mejor forma de porque haciendo el merch sabes que algo va a fallar ahora tú haces un merch un lunes por la mañana y dices Bueno pues tengo todo el lunes para arreglar los problemas que haya Por qué se hacen los merch el fin de semana pues porque hay una figura que es el Project manager tiene que rendir cuentas ante el director o ante el ceo o ante quien sea o ante el cto y el project manager es un es muy de quiero irme de fin de semana con todo cerrado porque una cosa muy curiosa e irónica que se da es que el project manager no suele ser programador por qué no tengo ni idea Vale pero no suele ser programador con lo cual el project manager que no programa es como no el viernes a mediodía Quiero el Push hecho y tú como programadores pero tío Tú sabes lo que estás diciendo O sea si funciona bien fantástico pero como no funcione bien Quién va a arreglar esto y el project manager dirá Bueno yo no sabes el que se queda sin fin de semana es el programador vale Por eso digo que insisto O sea que yo no estoy diciendo que el git sea garantía de triunfo y garantía de felicidad y todo eso o sea si tiene que petar pero por lo menos si tiene que petar pues el yit yub o yit te proporcionan herramientas tales que puedes hacer rollback tal es que puedes saber qué rama es la que ha fallado tal es que puedes vale puedes hacer un montón de cosas desde luego específicamente Porque si editar en caliente es arriesgado editar en caliente con un proyecto grupal es más arriesgado todavía Vale entonces correcto Beatriz entonces lo que quiero un poco es enseñaros que en clase hayamos visto una metodología Pues bien vale una metodología eh Guay Vale y que luego ya veremos cómo trabajáis quiero decir que incluso yo la semana pasada implementando el proyecto de primero yo a los alumnos les decía lo estoy haciendo a través de github porque os lo tengo que enseñar por tanto si es mi servidor si es un servidor real si lo que estoy subiendo lo estoy subiendo ya para producción pero si fuera para mí y no estuvieren los alumnos delante yo lo haría en caliente por qué porque yo soy Juan Palomo yo me loo yo me lo como ahora como no estoy solo y os tengo los alumnos delante pues os tengo que enseñar a hacerlo bien y luego vosotros pues ya veréis cómo lo hacéis pero por lo menos que alguien os haya enseñado a hacerlo bien vale bien pues vamos a ver un momento espera