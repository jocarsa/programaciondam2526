bien para hacer esto vamos a hacer lo siguiente al worker a cada uno de los workers le podemos pasar la información de el resto de workers entonces voy a hacer en este caso una cosa y es que le voy a decir a otros es cero otros momento lo voy a poner a cero pero ahora lo que voy a hacer esto es un mensaje nada vale cuando llamo el post message y cuando de hecho llamó llamo cuando de hecho llamó al post meses vale puedo decirle que el identificador es igual a i y puedo decirle también que otros es igual a vamos a verlo a personales de esta forma lo que estoy haciendo es que a cada uno de los personajes estoy pasando a lista de los otros personajes vamos a verlo me vengo por aquí y le digo bar otros y le digo otros es igual a datos punto data punto otros y al final le puedo decir cuidado otros y al final le puedo decir con solé punto el ojo otros y vamos a ver que nos da vamos a ver que nos da voy a bajar la frecuencia a bajar la frecuencia voy a recargar a inspeccionar vale y aquí lo tenemos ahí voy a poner menos trabajadores voy a tener menos workers pobres para que el sistema no vaya tan aquí y entonces si nos fijamos vamos a ver espera esto aquí lo que está haciendo es lanzar cada uno de los otros 10 ahora esperar un poco vamos aquí abajo y entonces veremos como el sistema lo que está haciendo es que le está enviando como un dato la posición de cada uno de los otros elementos entonces eso quiere decir que ahora cada worker pues puede conocer información acerca del resto de otros workers y por tanto puede hacer cosas como por ejemplo pues van a intentar evitarse vamos a verlo vengo por aquí me voy a tarea y ahora voy a crear una función llamada evitarse bien vengo por aquí y ahora le digo lo siguiente quiero por y es igual a cero y es menor que y ahora viene la cuestión y es menor que datos punto data punto otros puntos link creo yo porque esto es directamente vale para cada uno de ellos voy a averiguar cuál es su dirección y cuidadora que falta aún más bien voy a poner javascript distance between two points voy a la clásica ecuación que está aquí vale y voy a decir a es igual a 2 x menos datos punto data punto otros de iu punto x porque x pues porque si nos fijamos tengo aquí para cada uno de ellos su x vale ahora la ve esposa y menos datos punto de ata a punto otros puntos y la ce es la distancia entonces yo a continuación digo si es cierto que la distancia es menor que no sé 20 en ese caso yo lo que quiero es dirección más igual a más puntos y esto quiere decir que cuando me acerco a alguien pues doy la vuelta voy a poner aquí evitarse voy a poner la función activa dentro del bucle así que si ahora vengo por aquí y recargo voy a bajar un poco la frecuencia para que ya hemos visto lo que queremos y no hace falta que pongamos ya el con solé punto love porque si no se nos van a llenar la consola de matrices recargo bien cuidado datos y snow de find al evitarse mal por qué pues porque datos está aquí entonces ok esto es otros vale pues sólo con poner otros en principio ya debería funcionar porque allí lo he puesto en una variable recargamos datos es notifight otra vez con el que recargue entero al evitarse otros puntos recargamos vale ahí los tenemos no sé si están haciendo algo o qué yo diría que haberlos time out 33 y 33 voy a desactivar evitarse a ver si es que evitar se está haciendo que se quede frito pues igual sí vale voy a hacer distancias igual a 5 activo evitarse porque parece que se están quedando fritos en el sitio si te parece que voy a hacer una cosa con solo punto cambiando a ver si está entrando ahí dentro cambiando efectivamente por lo que sea parece que se están detectando como que están todo el rato unos pegados a otros si distancia es menor que 5 voy a repasar el código otros de y voy a hacer una cosa con solo punto el ojo otros x y otros de y quiero ver las x y las y de los personajes quiero ver si están acogiéndose correctamente sí que parece que se están cogiendo correctamente así que no parece que esto sea un problema vamos a hacer un con sol y punto logo de la distancia y este con sol ya no hace falta tampoco recargamos vamos a ir como esto ya está usando el procesador vale inspeccionar vamos a ver la consola a ver qué nos dice voy a volver a relajar el tiempo con solo bien y en principio esto que estamos viendo aquí es la distancia vemos que en prácticamente ningún caso es menor a ver aquí si la distancia es menor que 5 en ese caso dirección nacional así que vamos a hacer esto y por tanto no acabo d de ver cuál es el sentido de que diga que está cambiando vamos a hacer esto con todavía más tiempo vamos a poner esto con todavía más tiempo y vamos a poner menos jugadores en pantalla voy a poner 2 así que ya sé lo que está pasando ya sé lo que está pasando y lo que está pasando es que se está cogiendo a sí mismo porque sí mismo es un jugador muy bien entonces ya está entonces si distancias igual a cero and distancia no es igual o sea si es menor que 5 y no es igual que 0 bueno cambiando le aparece uno como distancia es interesante y distancias mayor que 1 vamos a ponerlo cambiando de nuevo vamos a poner mayor que 2 parece que se está cogiendo a sí mismo con lo cual no debería vale entonces ahora vamos a volver a bajar vamos a verlo otra cosa es que además estoy cogiendo puedo la ive entonces si puedo la idea si puedo la idea es ti así pues puedo decirle el sistema directamente si otros punto y d dónde estás y otros puntos no es igual a mí es igual a river y en definitiva lo que estoy haciendo con esto es no cogerme el mismo sigue por ahí cambiando vale no pasa nada voy a decirle y otros con distancia es mayor que 4 yo voy a hacerle menor que días vamos a verlo recargamos ahora vale se empiezan a mover creo que se sigue cogiendo a sí mismo pero bueno vamos a poner más para que haya un poquito más de opciones a que colisionen bien fijémonos qué vamos a verlo en cuanto hay 20 bueno aparte de que la consola la voy a liberar evidentemente porque sí no basándonos que vamos a empezar a probar poco a poco vamos a ver el procesador al 100% puede incluso matar el proceso arrancamos chrome lanzamos de nuevo vamos con 5 y llegamos allá