a la asignatura de eh proyecto interdisciplinar donde qué hemos hecho en semanas anteriores vamos a echarle un vistazo en semanas dos anteriores hicimos en primer lugar un proyecto de un blog local Host dam primero no proyecto disciplinar el blog creo sí vale y teníamos por aquí por una parte a ver un momentín Ah con comentarios vale Okay perfecto bien Vamos a ver un segundo Por una parte Bueno voy a arrancar el servidor porque como es un proyecto que depende de flask pues tengo que arrancar flask para que haga algo vale Así que cd2 puntos CD bar cdw CD html CD dam CD primero CD todo esto es una Sabes porque mira CD barra puedo decir CD bar W html dam primero proyecto interdisciplinar Vale y me ahorro el tener que hacer cdcd pero bueno vale Y ahora eh CD blog ls vale Y voy a hacer Vamos a ver la última versión es comentarios Así que python 3 021 comentarios python muy bien me voy al servidor localhost 127001 me voy a local Host dam primero no perdona OK Y esto es lo que me da los artículos lo cual quiere decir que ahora a continuación me voy por aquí me voy a comentarios aquí vale Y tengo el blog de José Vicente donde de momento tenemos por aquí pues la información que venía del servidor la semana pasada además hicimos también atrapo los datos envío el contenido con fetch aquí hicimos esto introduce un nuevo título para una entrada un panel de control donde pues podemos llamarlo por ejemplo admin o podemos llamarlo por ejemplo lo que sea bien qué es lo que voy a hacer a continuación Pues voy a organizar un poquito más el código para que tenga aspecto más de panel de control en este caso me voy a inspirar un poco en wordpress porque en wordpress tenemos pues la parte principal y la parte de administración esto quiere decir que ahora sí tal y como muchos de vosotros me habéis dicho a lo largo de las semanas ya llega el momento en el cual no me queda más remedio que aquí que crear una carpeta 023 eh ordeno en archivos Y entonces en ordeno en archivos voy a crear una carpeta llamada cliente no clientes sino cliente y una carpeta llamada servidor en la carpeta de no sé si tengo por aquí el otro y no vale en la carpeta aquí en esta carpeta voy a poner servidor el python en servidor y este comentarios en cliente ahora comentarios en cliente creo que no porque un momento ahora lo vemos y aquí comentarios Ahora sí blog 23 cliente admin y ahora s aquí pego esto con lo cual ahora esto lo renombro como html en admin esto lo renombro como Index html y aquí en servidor esto lo renombro como servidor y claro Ahora lo único que va a pasar es que cada vez que quiera avanzar una versión más en lugar de sumar un archivo pues tengo que copiar y pegar la carpeta es decir copio y pego Y entonces esto lo llamo 024 y siguiente versión vale que es un poco lo que quería evitar pero llega un momento en el que ya nuestro proyecto pues lo va pidiendo quieras que no también yo me voy aquí a cliente y en cliente Pues también veo vamos a verlo voy al editor Espera que esto lo descarto voy a cerrar cosas esto no lo cierro del todo zoom no lo puedo esto lo quito esto ya no me hace falta esto ya vale Okay Vale ahora sí editor claro Index pues Index vimos el otro día que tenemos css tenemos javascript Y tenemos html dentro del mismo archivo así que dentro de cliente pues no estaría mal tener un archivo llamado estilo y otro archivo y otra carpeta llamada js dentro de estilo Pues voy a crear un archivo nuevo En qué versión estoy en la versión siguiente vale voy a crear un archivo nuevo y lo voy a llamar primero proyecto siguiente cliente estilo y lo voy a llamar estilo.css voy a crear otro archivo y lo voy a llamar código js vale el nombre es el que queráis y ahora en Index html Me cojo todo esto de aquí lo corto y me lo llevo a estilo y por tanto Ahora aquí le digo link rel es igual a Style sheet hre es igual a estilo barra estilo.css es decir carpeta estilo archivo estilo.css lo mismo voy a hacer con javascript así que me vengo aquí cojo el Script Espera que Ah Fran Espera que acabo de ver tu esto Dime pregunta bueno estaba haciendo tod día este ejercicio vale Y al final conforme vamos aprendiendo en la programación Pues a uno se le van ocurriendo más ideas en la cabeza no y estaba diciendo vale Cómo harán wordpress o estas páginas o para que claro los usuarios que sean administradores si podrán entrar a esa página Pero los que no sean no podrán entrar entonces claro yo estaba pensando Vale pues creo una base de datos cor una nu base de datos que sea usuarios privilegios nivel uno puedes leer y escribir toda la base de datos eh nivel dos solo puedes reescribir los clientes nivel tres no tienes acceso nada más que solo a ver no nada a editar y luego haciendo consultas así es como haría realmente O sí vamos a ver la pregunta que está haciendo Fran tiene que ver con respecto a privilegios es decir cuando alguien entra en el panel de control Ahora mismo ni siquiera tenemos un login con lo cual tenemos que hacer un login pero esa persona Qué puede hacer o qué no puede hacer dep Endo del nivel de privilegios que tenga Y entonces lo que estaba comentando Fran es que una alternativa es en la tabla de usuarios tener o bien una columna que se llame privilegios o bien tener una tabla adicional llamada privilegios donde para cada usuario diga qué puede hacer y que no puede hacer vale es pronto para eso Fran pero sí O sea de entrada la aproximación que has indicado es correcta es una de las más habituales que es la tabla de usuarios tiene una columnita que dice Qué tipo de usuario es y por tanto Pues mira os voy a contar una cosa en Capitol centro que vosotros conocéis Tú creo que no porque t has venido directamente aquí eh durante años han utilizado un software de gestión de Centro que yo hice Y entonces que yo hice y sigo manteniendo y tal Y entonces ocurre una cosa muy divertida Y es que este software lo implanto en 2019 vale ya lleva unos cuantos años ahí funcionando y al principio dentro de lo que es la buena voluntad digamos vale yo implemento un sistema de permisos pero Digo e aquí en la empresa todo el mundo es de fiar vale con lo cual todo el mundo tiene permiso para hacer de todo entonces qué ocurre Pues que llega un alumno y un profesor pasa lista vale Y el alumno no viene el alumno no viene el alumno no viene con lo cual el profesor en clase dice Oye este alumno qué pasa y le dice un colega de ahí de la clase no es que se ha desapuntar Y entonces claro llega la profesora dice bueno se ha desapuntar cojo el registro del alumno en la asignatura y hago placa papelera Vale y lo elimino con lo cual claro qué ocurre que un colega de la clase diga se ha desapuntar no quiere decir en absoluto que se haya desapuntar con lo cual de repente igual llega ese alumno como 4ro meses después o llega el alumno o llegan los padres del alumno y ese alumno figura como que no está en la plataforma Y entonces vete y busca que Claro ese profesor pues tuvo como te diría yo la buena El buen corazón de decir bueno es que si un alumno ha dicho que se ha desapuntar pues se ha desapuntar pues No necesariamente ent claro llega al secretaría y dice no A ver cuandoo dice que se desapuntar por aquí por secretaría y tiene que firmar una serie de documentación hasta que eso no se hace figura como que sigue en el centro vale por ejemplo llega otro alumno vale Y dice Oye mira es que me quiero cambiar el nombre de Brian a Brian vale con Y entonces claro por si me lo puedes cambiar para Que aparezca en el listado y tal Entonces qué ocurre porque yo si se lo cambio cuando saquemos boletines de notas y ponga Brian consellería dirá es tío No existe o sea es esa combinación de nombre y apellidos no la tengo vale qué ocurre que dices No eso tienes que ir a secretaria y secretaría lo primero que te va a decir es enséñame tu d porque lo que pongan tu dni es lo que voy a poner aquí si tú vas a la policía o al Ministerio de interior o donde sea y tú te cambias el nombre y en tu dni pon Bray con y yo te voy a poner varan con y pero hasta ese momento no ves qué ocurre Pues que a partir de ahí tuvimos que cerrar más el tema de permisos para decir solo secretaría puede eliminar y los profesores pueden ver pero no pueden eliminar Vale entonces es un ejemplo donde bloqueas permisos a la gente pero no porque la gente sea mala sino porque la operativa del día a día hace que sea más aconsejable que un tipo de perfil de usuario realice un tipo de operación y otro tipo de perfil de usuario no tenga acceso para por accidente poder modificar esa acción algo de lo que también hablaremos Fran es eh Sí lo sé lo del tema de que la cabeza va pensando más cosas y eso es lo que tiene que ocurrir pero eh yo por ejemplo todas las aplicaciones que hago y os diré que vosotros tenéis que hacer lo mismo No ya en clase pero cuando hagáis una de verdad es que todo aquello que ocurre en la aplicación queda registrado en un registro para que si luego pasa algo pues haya vale haya un registro de qué es lo que ha ocurrido en ese primer año que implanté esa aplicación concreta ahí en el centro en capítol claro yo evidentemente todo ese tipo de cosas ya las sabía de años anteriores y de muchas otras aplicaciones anteriores que me han dejado síndrome este es postraumático informático Vale entonces yo ahora cuando hago una aplicación automáticamente Todo queda registrado pero no lo digo porque eso es un tema informático O sea no le digo a todo el mundo eh que sepas que te estoy registrando lo que haces vale Y entonces en ese primer año donde todo el mundo podía borrar de todo claro llega una profesora y dice me ha desaparecido un alumno me ha desaparecido vale Y yo a ver las cosas no desaparecen las cosas si le das al botón de borrar se borran pero el programa no se aburre y se pone a borrar cosas porque sí vale Y entonces pillamos una reunión en un momento entre esa profesora la jefa de estudios y yo y claro esta profesora que juraba y perjuraba que ella no había borrado nada y digo no pasa nada porque resulta que guardo un registro de todo lo que ocurre con lo cual nos metemos en un momento y vamos a averiguarlo claro hasta ese momento ella no sabía que existía ese registro y de repente dijo ay Espera que ahora que recuerdo igual sí que le di a borrar yo o sea mientras no sabías que había una tabla de registros jurabas y pre jurabas que t habías borrado nada en cuanto te digo que esa tabla existe Ah Espérate que recuerdo que igual lo he borrado Vale entonces todo ese tipo de cosas ya te digo que el año siguiente ya no podían borrar ya no tenían permiso vale pero no porque fueran malvados sino porque la gente pues p se le escapa el dedo Vale entonces todo esto son cosas que ahora mismo ni estamos teniendo en cuenta porque ahora mismo estamos en nuestro primeros pasos en la programación pero son cosas que a lo largo del tiempo pues ya os iré enseñando vale bueno estábamos externalizado javascript Así que quito de aquí javascript me voy a código js y ahora evidentemente en Index aquí en Script digo Index src y código era código no era javascript creo no me acuerdo eh cliente js y código vale es eh js y código js con lo cual nuestro programa que hasta el momento era super mega largo y si os dais cuenta ahora está mucho más limpio y es mucho más manejable porque yo hablo Yo abro el archivo html y el archivo html del Blog no llega ni a 25 líneas y si quiero saber más del estilo pues ya me abro la hoja de estilo y ya miro lo que tenga que mirar del estilo y si quiero saber exactamente qué es lo que hace el javascript pues ya me abro el javascript y ya Vero exactamente qué es lo que hace javascript vale Entonces esto Insisto que lo lleváis pidiendo hace semanas yo Me resisto a ello porque ahora veris que es un rollo ahora tener que duplicar la carpeta entera pero llega un momento que como ya os dije hace días no queda más remedio esto que acabo de hacer en cierta forma tiene la forma de refactorización no es exactamente refactorización porque refactorización es dentro de un mismo código y empezar a cambiar esto es Separar en diferentes archivos pero lo primero que se hace después de una reactualización es comprobar que todo funciona igual porque si no es que alguna metido y podría ser vale Así que me vengo por aquí y a continuación me voy a blog me voy a 024 siguiente versión cuidado ahora debo cerrar aquí esto me debo ir a CD 020 no me acuerdo 024 CD servidor python 3 servidor python para que en cada versión arranque el servidor que le toca a esa versión y ahora a continuación en cliente Pues tengo el blog Y qué es lo que tengo pues tengo exactamente lo mismo pero no es lo mismo porque tengo lo mismo pero después de haber separado en archivos diferentes y después esto fuera estos de antes y después de haber asegurado que ahora todo está correcto claro qué ocurre que si ahora abro la siguiente versión Pues me va a pasar lo mismo y es que tengo que eh cargar todos los archivos nuevos vamos a hacerlo bien De momento lo que nos damos cuenta es que un poco como en wordpress voy a quitar por aquí pestañas de hecho muchas vale como en wordpress pues si yo vengo por aquí y hago así y pongo admin pues ya está entro en el panel de control y es como eh A ver no O sea primero que tengo que darle un poquito más de estrito a este panel de control y segundo que vamos a intentar proteger el panel de control para que esto no pueda pasar así que para ello voy a ver si tengo por aquí el esquema de la semana pasada esquema y no este esquema no es stack Eh Pues bueno este esquema más o menos sí que es vale No pero esto es python Y esto es python vale a continuación yo lo que voy a hacer es que me voy a crear aquí en primer lugar me voy a crear se acordáis que en marcas hicimos un login la semana pasada porque esta semana hicimos un Vale pues voy a hacerlo en plan rápido evidentemente podríamos reutilizar el plugin que hicimos el otro día no lo quiero reutilizar porque voy a hacerlo en plan mucho más sencillo entonces me voy a siguiente versión y ahora veis lo que os decía tengo que copiar y pegar login Y entonces ahora claro dentro de eh cliente dentro de admin El índex ya no puede ser Index Ahora tiene que ser por ejemplo escritorio y ahora voy a crear un archivo Index cierro hago uno nuevo cliente admin Index html vale voy a hacer algo muy sencillo Mirad eh h1 login y digo ahre escritorio punto html pulsa aquí y entras directo Claro si yo hago esto Si yo hago Esto me voy a la 025 en cliente tengo esto y si me voy a admin login pulsa aa que entras directo y entro al panel de control es decir ya tengo el concepto del login vale lo único que pasa es que ahora este login es una de login porque o sea es solo una pantalla y alguien pulsa y entra directo y esto es un cachondeo vale bien Vamos a editarlo un poco más así que copio pego 026 eh login con algo de formato Y entonces dentro de admin en Index html voy a decir doct type html Head Body lang es igual a es title login meta charset es ig utf8 Vale ahora en el body vamos a ver voy a hacer un se section input no ID usuario placeholder usuario input ID contrasena placeholder contrasena contraseña y buton enviar o sea lo más sencillo que puede hacer más sencillo imposible Así que recargo 026 cliente admin e y el botón algo hecho mal Ah muy bien Se ve que no he guardado vale Ok botón bien claro si nos metemos en esta dinámica porque nos tenemos que meter en esta dinámica pues al final quieras que no aquí tengo que poner link rel es igual a Style sheet href es igual a css o estilo login.css y puedo hacer un Script voy a ponerlo aquí abajo de momento voy a hacer un Script donde diga src es ig js login.js esto es como la caja de Pandora Así que ahora a continuación pues quieras que no tengo que crear un nuevo archivo me hago una nueva carpeta llamada estilo lo llamo login.css y me hago un nuevo archivo y lo llamo js lo llamo código js creo que era este el nombre Ah no perdona le había puesto login.js vale si vamos a ver un momentín aquí no eh Otras ubicaciones segú tú no vale un momentín porque por aquí había una forma Ajá Ahí estamos ahora vale perfecto Esto es lo que quería bien bar W html primero proyecto blog Vale y Mirad si nos quedamos Únicamente con el proyecto el 026 lo que quiero que veáis es que cliente tiene js estilo y admin que a su vez tiene juraría que lo había creado Hola lo he creado dónde lo he creado Ay que la he cagado míralo esto no va Aquí Esto va aquí vale muy bien Esto es 26 Vale entonces este login va en 26 cliente admin y estilo y login Mira si no llego hacer esto no me hubiera dado cuenta de que estaba cometiendo un error o sea ha sido casualidad cliente admin js login.js vale Y ahora sí me voy a esta carpeta y veo que de momento mi proyecto tiene esta estructura lo veis la estructura intenta ordenar la estructura intenta Eh pues que cada cosa esté en su sitio y todo tenga una lógica y no mezclar código y no tener más código el necesario pero hemos pasado de tener un bueno Perdona un archivo no teníamos tres el servidor el blog y el panel de control y hemos pasado a tener todo eso vale entonces por eso cuando el otro día decíais Oye es que esto habría que separar un archivo Yo decía sí pero quiero tardar lo máximo posible para estar todo el rato en un archivo vale Pero bueno bien ahora que lo tenemos pues ya podemos empezar Insisto que voy a hacer lo más sencillo que pueda para el login porque login el otro día Ya hicimos login Vale y digo section es eh with 400 píxeles height 400 píxeles margin auto padding 20 píxeles y pro y Box Shadow va bueno cero píxeles 2 píxeles 4 píxeles rgba 0.3 vale vamos a verlo vamos a cargarlo a ver qué ocurre pinchin vale Y ahí a cuánto de porcentaje estoy a 100 pues quiero menos todavía Así que 200 y 200 así ya está fantástico bien Ahora a continuación bueno texaline Center y se todo with 100% Box sizing Border box pading 10 píxeles c píxeles y margin 5 píxeles c píxeles vamos a verlo y ya está y se acabó vale Y no voy a hacer más no voy a hacer más porque ahora aquí digo h1 login y ya está Esto es lo que quería hacer vale cuando veáis que por ejemplo como el ejercicios de la semana pasada de marcas Pues yo hago un montón de css y pongo un montón de propiedades y demuestro y todo bonito redondeo con color con transparencia con desenfoque ese no soy yo Ese soy yo como profesor poniendo un montón de css para enseñaros un montón de propiedades y que veáis la demostración de cada propiedad ese De ahí soy yo vale intentar voy a ver si puedo escribir las mínimas líneas posibles y que esto quede más o menos visualmente apañado vale ese es Ahí es donde me encontráis a mí de verdad bien entonces ahora a continuación una vez que he creado estilo ahora tengo que crear un poco de código javascript Igualmente voy a intentar crear el mínimo código posible por qué Pues porque este proyecto se va a ir complicando con lo cual si cada archivo individual ya es muy complicado luego al final Esto va a ser un marem Magnum de código Vale Voy a hacerlo lo más sencillo posible para hacerlo lo más entendible posible Vale entonces qué voy a hacer Pues que yo primero relleno el login o sea relleno usuario relleno contraseña Le doy a enviar y cuando pulso el botón de enviar cojo los datos y los envío al servidor Vale entonces por ello me voy a login js y digo document query selector os acordáis del selector del documento quiero seleccionar el buton el botón y cuando al botón le haga clic en ese caso lo que voy a hacer Es que voy a decir Let usuario sí no pero yo lo hago muerto eh o sea yo por lo que Comenta Fran yo siempre hago diseño que parece espartano sabes entonces Let usuario es igual a document query selector no me acuerdo usuario vale usuario punto value LED contrasena es igual a contrasena value y ahora lo que voy a hacer es el esquema este que os comentaba antes donde javascript está cogiendo los datos para pasárselos a python y que python los compruebe contra mysql y que me diga si esto es correcto o no Es correcto para eso qué voy a hacer Bueno pues para eso antes de enviarle nada a python voy a hacer lo siguiente me voy a ir a local Host php my admin me voy a ir a blog en blog tenía entradas Okay pero ahora necesito usuarios así que me voy a crear una nueva tabla que se llama usuarios tiene un identificador que es una clave primaria índice primario auto incremental Fran no me voy a complicar ahora mismo con nivel de usuario Vale ahora mismo va a ser únicamente entras o no entras entonces voy a poner usuario y contrasena luego podríamos poner nombre correo electrónico vale pero paso ahora mismo paso Ahora solo quiero usuario y contraseña 255 bien y ahora voy a insertar un usuario inserto el usuario jok carsa jarsa y eso quiere decir que si el usuario aquí pone jok carsa y aquí pone hoc carsa cuando le de a enviar python a ver un momentín vale Mirad ahí a no esto no vale cuando aquí ponga jarsa js va a los datos de html se los va a pasar a python va a decir Oye mysql es cierto que tienes un jarsa mysql va a decir sí o no y por tanto python va a decir sí o no vale vamos a por ello entonces para esto claro me tengo que en primer lugar ir a python entonces en python os acordáis que bueno voy a abrirlo aquí m Aquí voy a abrirlo aquí en el servidor vale Yo tenía hasta el momento dos rutas Perdona Hola Ah Sí vale la ruta raíz y la ruta de toma pero yo ahora Quiero una tercera ruta que es la ruta del login Así que vengo por aquí hola en qué momento me ha abierto simplemente para hacer enter No sé qué pasó vale Def login Perdona aplicación Root login Bueno sí da igual aplicación Root login Def login Y entonces digo usuario request ar usuario contrasena request ar cont contrasena vale petición mantengo el String formateado que veo que os Mola Así que Select all from usuarios Where usuario es igual a usuario espérate usuario es igual a usuario and contrasena es igual a contrasena si o sea cursor conección Vale ahora filas es igual a cursor punto fetch all Y entonces digo si len de filas es igual a cer eso quiere decir que no hay filas Y eso quiere decir return momentín dame un segundo resultado de heches resultado es false si hay filas en caso contrario quiere decir que sí que hay alguna fila Vale ahora comento código resultado es igual a true false true 0 1 verdadero falso lo que tú quieras vale Si quieres voy a poner aquí falso y voy a poner aquí verdadero para que veáis que podáis controlar el resultado bien Vamos a verlo Entonces vamos a ver vamos a probarlo salgo me voy al 026 creo que estamos el 026 sí no dónde estoy vale CD 026 ls CD servidor y python 3 servidor vale si yo me voy a 127001 5000 me dice ok me dice toma tu blog Pero si yo le digo login me va a dar error internal server error vale Por qué Pues porque le he dicho que usuario es igual a jarsa and contrasena es igual a jarsa vale intern server error un momento a ver Ah que se me ha cerrado No un momento momento Ok internal server error no result set to fetch from vale un momentín un mín aquí qué error he cometido el error que he cometido Ah Per no vale a ver peticion es igual a esto Okay no es un execute mira aquí conexión punto cursor es igual a conexión punto cursor pero conexión execute de la petición por quées porque si no la petición nunca se está ejecutando en ninguna parte y ahora sí Ok curso fechal vale vamos a probarlo Ahora salgo recargo No todavía no vale inw unknown column jarsa ostias espérate Select all from usuario Where usuario like esto tiene que ir con comillas las comillas que me decías vale Entonces cierro abro vamos a verlo ahora ok vale si yo le pongo jarsa me dice el resultado jarsa verdadero Pero si yo pongo J JJ me dice resultado falso de momento yo estoy comprobando de momento yo estoy comprobando que esto funciona es decir que python se va a mysql le pasa dos parámetros y sube hasta este punto verdadero o falso y ahora ese verdadero tiene que subir Aquí vamos a verlo vale esto por aquí voy a comentar código vamos a ver creo una nueva ruta para el login como estáis viendo una gran parte del desarrollo de python va a ser crear Rutas para lo que haga falta de momento en un solo archivo más adelante os enseñaré a Separar python en diferentes archivos y separar el código bien creo una función y ahora atrapo el parámetro de URL llamado usuario ahora atrapo el parámetro de URL llamado contrasena formateo la petición vale creo una petición de Select conw con parámetros creo un cursor en este caso el diccionario no vale para nada pero bueno lo dejo ejecuto la petición recupero el resultado de la base de datos Y ahora si no ha resultado Eso quiere decir que no hay ningún usuario que coincida con lo que he pedido en ese caso devuelvo un jas que dice falso en caso contrario sí que ha habido un resultado en caso contrario devuelvo un Jason que dice que verdadero el final si os estáis dando cuenta lo que ocurre Es que yo como siempre dibujo una bolita vale esa bolita lo que hace es que a python le llega le llegan dos parámetros python se va contra mysql y dice Oye esto es correcto o es falso y python dice verdadero Ah vale pues python dice vale Y el ret return lo que acaba de hacer es poner la bolita en la puerta de salida para que se vaya hacia javascript vale sea verdadero o sea falso le pone la bolita en la puerta de salida y ahora lo va a enviar a javascript para que javascript lo coja y diga ah Vale pues es verdadero o es falso bien para esto ahora continúo a mi culo con javascript aparte de que hace un huevo que no Vevo y el login ya sabéis que hago fetch el fetch que hicimos el otro día para el blog vale podemos copiarlo y pegarlo fetch De hecho voy a copiar la ruta fetch http 2/17 t donde usuario es igual a usuario y contrasena es igual a contrasena es decir le meto las variables de javascript que he cogido sí dónde no no porque como es al final s si hubiera algo después Sí pero y ahora digo punto den function response y digo return response.js que básicamente quiere decir que lo que va a venir en formato json por tanto interprétalo como json y den function datos de momento siempre hago lo mismo siempre que hago un fetch lo primero que hago es console pun log datos para ver qué viene luego ya lo interpretaremos vale vamos a probarlo aquí 026 vale hago así siempre saco la consola para ver qué está ocurriendo Y entonces digo Ah le doy a enviar y me dice resultado falso pero si pongo jok carsa a me dice resultado falso pero si pongo jok carsa me dice resultado verdadero con lo cual ya estamos implementando Este full stack de que html Perdona js ha cogido de algo de html Perdón se lo ha pasado por aquí con fetch se lo pasa a python dice vale cojo la bola se la paso a mysql my sql es el que al final dice sí o no y con lo que diga sí o no la pelota vuelve por aquí y ahora mismo la tenemos aquí ahora mismo la tenemos en la consola de javascript evidentemente vamos a hacer que esa pelota pase aquí a html para decir Ok O Ko vale pasas o no pasas Entonces vamos a duplicar el proyecto vamos a duplicar el proyecto blog cojo el 026 lo paso a 027 eh interpretamos el login Vale y ahora decimos vamos a ver cliente admin js de login el editor de texto lo vaciamos login Vale y digo sí he Hola Uy Eh vale qué Guay pues momen que se ha quedado un poco frito e dónde estás pues no estás fantástico vale pues Ah digo Qué susto digo si datos pun resultado datos punto resultado es igual a verdadero o verdad o lo que sea me da igual en ese caso window location es igual a escritorio html en javascript es una forma muy básica de redirigir a otra página es decir la dirección de la ventana es escritorio html de la misma forma en caso contrario Windows location es igual a Windows location que es una forma fácil en javascript de decir recarga esta página o sea ves aquí mismo bien Vamos a probarlo Ok 027 cliente vale me voy a admin y digo login tricky Trick 3 le doy a enviar no sé si habéis visto pero me ha vuelto a la misma página triqui triqui me vuelve a la misma página ahora si pongo jarsa Y jarsa le doy a enviar y me lleva al panel de control vale dicho lo cual el objetivo hoy como os digo es implementar aquí o aquí el tema de la pelotita vale el tema de que veáis que la pelotita sirve para todo sirve para te recojo datos los paso por aquí los valido mysql me dice y con lo que me diga mysql te lo tiro para arriba interpretamos y tomamos una decisión vale Ya sea para artículos de Blog para insertar un artículo para loguear todo el curso va a ser así es un método difícil pero lo vamos a repetir un montón de veces hasta que poco a poco lo interiorices alguno de vosotros me dirá Oye claro es que si alguien viene aquí y alguien por todo el morro pone admin bar escritorio.mas directo yo os diré sí pasito a pasito vale en próximas semanas más bien próximos meses implementaremos seguridad el hecho de que cuando por ejemplo pues alguien te entre correctamente pues por ejemplo se ponga una Cookie y cuando alguien entre en el escritorio compruebe si tiene esa Cookie tienes la Cookie te quedas no tienes la Cookie te sales vale Cookie que a su vez estará codificada porque las cookies en el navegador os enseñaré que se pueden trucar de una manera increíblemente fácil con lo cual la Cookie no será poner pasas y igual a true sino que deberá tener un código para que el programa valide el código y diga vale este código como la película de Star Wars vale lo de este código es correcto pero pasa pues más o menos igual Vale entonces La idea es hoy voy a poner comentarios de código y es ir repitiendo poco a poco esto para que poco a poco como os digo lo vayáis pillando Entonces esto es cuando en el login veis Y hoy por ejemplo el código del login se queda así quietecito no va a ser más una vez que hemos empezado a separar en diferentes códigos la mala noticia es que aparece hac un montón de archivos diferentes en el proyecto la buena noticia es que cada archivo tiene Únicamente lo que tiene y no hay una fotk de código así de grande mezclado para arriba y para abajo vale bien cuando en el login no cuando en el botón hago clic en ese caso atrapo el valor del campo de usuario Luis hago p de todo Sí eso tener en cuenta que todo el código que yo haga en clase al final lo tenéis que tener o sea ahora luego hago Push y lo tenéis absolutamente todo pero como Luis se ríe yo creo que lo que quiere decir es que hasta que no probéis esto No vais a ver si esto funciona o no Porque eso es un bacalao que te cagas y efectivamente Esa es la cuestión que hasta que no lo probéis no lo Vais a ver si os funciona o no vale eh atrapo el valor de la contraseña Okay envío una petición por fetch a eh a flask Entonces cuando el servidor me responda cuando el servidor me responda en ese caso convierto la respuesta a jas son y ahora cuando eso haya ocurrido en ese caso el console pun log me lo puedo quitar digo si el resultado dice que es verdadero en ese caso redirija a la ventana de escritorio en caso contrario recargo la página sí Por qué no lo sé eso es lo que es raro no no sé por qué Ah claro porque aquí estaba pensando si esto era un objeto era una Ray pero claro pero esto no esto es un String sí de hecho esto es una de esas cosas que dices porque ha funcionado sí ha funcionado Pero por qué a la primera pero debería haber dado error nunca había hecho eso de claro es que técnicamente en javascript al igual que ocurre en otros lenguajes un String es una Ray de chars con lo cual igual ha funcionado de casualidad por eso pero me he Librado por sabes si esto no suele ocurrir hay varias veces en la vida de un programador que pasan cosas de estas Por ejemplo hay otras veces en las cuales tienes un software vale Y de repente dices lo podría ampliar para que hiciera no sé qué Y entonces te conectas y tú o sea en tu cabeza antes de meterte a programar tú ya vas estructurando vale voy a hacer esto y Lu voy a hacer esto y lo voy aer así vale entonces abres el ftp te conectas y de repente ves que lo mismo que habías pensado ya está en el código y es como uh pero lo peor es cuando sabes que ese código solo lo tocas tú y cuando empiezas a leer el código y tiene tu estilo que dices esto lo escrito yo pero no tengo el recuerdo de haberlo escrito Vale entonces es buena noticia como diciendo eh Mira la faena ya está hecha pero es mala noticia como diciendo porque no tengo ningún recuerdo de haber hecho esto pero sin embargo este código lo leo y es que es mío porque quieras que no Cada persona tiene un estilo y hay veces que lees código que dices vale lo entiendo pero no es mío y hay veces que dices este código lo escrito y porque tiene mi firma sabes O sea que Pero en fin cosas que pasan no bien una vez dicho esto una vez dicho esto y una vez ya está Vale en la siguiente o sea en la clase de hoy en cuanto a código no quiero avanzar nada más vale con esto ya podemos empezar a darle forma a lo que será vuestro proyecto de final de curso y vuestro proyecto de final de trimestre vuestro proyecto de final de trimestre voy a hacer un diagrama de flujo y de curso más bien quiero decir que final trimestre llegaremos hasta donde lleguemos evidentemente veréis vuestro proyecto deberá tener una parte Front y una parte Back í el Front será una web que tendrá un título tendrá un menú como estamos haciendo en marcas y esa web tendrá un listado de algo y qué será ese algo pues no lo sé eso lo decidís cada uno de vosotros serán artículos de un blog serán artículos de una tienda online No lo sé vale pero En definitiva en una con esto lo que buscaré Que aprendáis es que en el Front de una página web Generalmente tú haces Select no haces insert update ni delete es decir tú ves una página online de una tienda online perdón y tú estás viendo un Select de productos pero un cliente cuando entra desde el Front de una tienda online no pueden ponerse eliminar productos vale a partir de aquí vosotros tendréis un Back en ese Back tendréis Por una parte un login y ese login obviamente os dará paso a un panel de control en ese panel de control el login es esto que hemos programado hoy le pondremos seguridad pondremos un control de acceso niveles de permisos lo que sea vale en ese panel de control tendréis Por una parte un menú que te dirá Mira pues puedes tocar clientes productos pedidos puedes tocar vale os suena lo que estamos haciendo en programación Al final todo va a converger hacia un sitio ahora qué habrá en este menú Y yo que sé cada uno lo que quiera dentro de su aplicación y ahora una vez que un cliente seleccion una entidad aquí dentro lo que habrá es un crud Perdón al revés aquí dentro lo que es un crud y para cada una de las entidades que tienes una tienda online de zapatos pues aquí la en el frontal el cliente solo verá zapatos pero en el panel de control Tendremos que ser capaces de crear zapatos eliminar zapatos actualizar zapatos y listar zapatos que aparte de tener zapatos tienes fabricantes de zapatos Pues aquí tendrás que ser capaz de criar fabricantes de zapatos listar fabricantes eliminar fabricantes actualizar fabricantes vale todos tenéis que hacer exactamente ese tipo de proyecto ahora de qué va el proyecto Pues no lo sé alguien hará un blog Pero alguien igual cogerá un blog y le dará más estilo y pondrá categorías y lo convertirá en un periódico online con la misma alguien en lugar de poner noticias pondrá artículos en venta o alguien pondrá el año pasado por lo del tema de proyectos para un mundo mejor pues la gente hacía lo de por ejemplo mercadillo solidario vale que en el panel de control la gente pueda poner pues Oye nos han donado tanta comida vale Y en el Front pues la gente mediante o bien aplicación web o bien aplicación móvil pues pueda decir pues mira necesito tanto pues ya está vente al día y lo recoges vale Pero al final es todo lo mismo al final es todo lo mismo en el sentido de que aquí quieras que no habrá un poco de comunicación por eso nos quedan un montón de semanas y meses por delante para enseñaros un montón de cosas acerca de esto porque por ejemplo en una tienda online Pues sí se lista un producto pero tú tienes un botón de comprar y en el botón de comprar no eliminas pero sí que insertas un pedido en el panel de control Vale pues veremos que esta parte frontal no solo hará listar sino que hará listar y un poquito más por ejemplo si tú haces un blog pues la gente ve el artículo pero la gente puede comentar y al poner un comentario quieras que no se inserta algo en la base de datos vale lo digo porque ya estando a mitad de octubre pues ya en las tres asignaturas principales programación marcas y bases de datos empezamos ya a tener un conocimiento mínimo como para que podáis haceros una idea de qué tipo de aplicación podríais empezar a hacer vale o de qué va la aplicación pues por ejemplo en el caso que comentabas que te interesaba el tema del fútbol Vale pues que tengas una página frontal donde tengas el listado de Qué equipos hay y qué jugadores han fichado por cada equipo y tengas es un panel de control donde el administrador puede decir Vale pues tengo equipos Tac jugadores Tac fichajes Qué jugador está enlazado Con qué equipo Vale y pensarlo todo así y os daréis cuenta de que al final las aplicaciones empresariales son muy estándar lo único que cambia es el nombre de la entidad pero lo que es la lógica de negocio es muy parecida entre sí vale esto ya os digo es algo que podéis ir empezando a pensar de momento seguimos con el mismo plan que es que vos vosotros hagáis lo mismo que yo estoy haciendo en clase y yo sigo con la misma Promesa de siempre que es que tranquilos Porque si estáis haciendo lo que yo estoy haciendo al final ya estáis trabajando en vuestro proyecto final es decir lo que estamos haciendo en una inmensa medida os va a servir para el código que yo estoy haciendo y luego empezar a modificarlo para que con eso hagáis vuestro proyecto final vale Por eso digo que trabajad tranquilos en el sentido de que luego os voy a hacer perder el mínimo tiempo posible no os digo nada porque a veces es inevitable que algo se pierda pero lo mínimo posible vale eh con esto poco más por hoy acordaos que mañana por la mañana que tengo tutorías enviaré el correo este para la sesión del martes que viene de lo del currículum opcional para quien quiera y a partir de ahí sí que en el correo de mañana os meteré prisa a los que hagáis prácticas este año para que me lo enviéis en cuanto podáis para ir empezando ya a enviar a empresas vale eso fenomenal en tu caso no sé qué hacer porque el año pasado te acuerdas que le metimos un montón de Caña hídrica y pasó de nuestra cara pero te puedes ni imaginar de hecho ya lo viste que estabas informado de todos los pasos que íbamos dando y tal Y qué tal claro y qué te ha dicho vale o sea ya estamos igual que el año pasado vale oye pues intenta Claro correcto o sea vale o sea yo ya te digo no tengo ningún problema en enviar a hídrica como he enviado a todas pero claro es que en cuanto vea el mareo del año pasado de Bueno sí Igual no bueno igual no sé Bueno por el momento que lo consulto es como Dime sí o dime no pero dime algo ya porque yo entiendo que lo harían por bien lo harían con buena intención de va a ver si Claro pero es como a ver si chicos si tiene que ser que no decir que no y ya está y lo coloco en otra parte pero es que las semanas iban pasando y eran largas y es que al final vale Pero bueno coméntalo cuando puedas y nada y poco más por hoy vale con lo cual un momento no os vayáis subo vídeos