bueno pues continuamos trabajando con este continuamos trabajando con este bloque de contenido y vamos a extender formamos a hacer varias operaciones a lo largo de esta en este siguiente bloque en una de ellas lo primero que quiero hacer es establecer un nuevo tipo de campo he subido esta aplicación a una dirección web ahora veremos por qué es una dirección web real porque a continuación quiero establecer un sistema de notificaciones y para ello por tanto lo que voy a hacer es trabajarlo directamente en un proveedor web me da igual el que sea vale pero necesito estar trabajando no ya en local sino en un proveedor web como digo sobre todo para el tema de notificaciones por correo electrónico que ahora a continuación pues voy a configurar pero antes de ello lo primero que quiero como digo es establecer un nuevo campo dentro de la base de datos que es un campo de parámetro url entonces yo tengo por aquí que una variable vamos a verlo este momento abriendo la base de datos en otra pantalla así que era un momento aparecerán vamos a verlo un segundo y aquí vale estoy abriendo la base de datos en este caso como digo pues es una base de datos que ya no está en local sino que está subida a un hosting porque esta aplicación ya está en funcionamiento ya es una aplicación que se está usando saldremos de momento ya hay 129 registros y la idea ahora es que quiero poner un parámetro dentro de aquí dentro de entregas que va a ser pues un parámetro de url entonces me voy a entregas no había estructura y dentro de estructura yo por ejemplo pues vemos que tengo aquí vamos a ver tengo por ejemplo pues a ver aquí el equipo que tengo la práctica tengo la url y tengo el campo vamos a ver deshabitado no vi si bolt true ahora le veremos sobre todo lo que quiero en tipo de campo vamos a ver lo título descripción máscara tipo datos url vale pues a continuación quiero modificar la estructura cuidado con esto evidentemente ahora comprobaremos que va bien por supuesto y voy a meter un nuevo campo por ejemplo pues después de poco meto un nuevo campo y voy a llamarlo por ejemplo la asignatura es un campo de tipo entero puede serlo perfectamente voy a poner estos 20 caracteres vale y ahora a continuación voy a copiar alguno de los campos voy a copiar por ejemplo este campo de aquí se lo voy a poner dentro de vamos a cambiar no cambiarlo quieto los actuales 11 columnas vale quiero cambiar solo esta columna vamos a verlo y aquí en comentarios le pongo esto entonces vamos a ver el tipo de datos va a ser el tipo de dato get y esta es un poco este es un poco la cuestión y es que si el tipo de dato es get en este caso lo que va a ocurrir es que esa columna realmente va a un parámetro de la base de datos entonces título no vamos a verlo realmente título no es necesario en este caso pero bueno voy a poner esto en un texto dit porque esta versión de mysql pues parece que no es tan amigable en el sentido de que no me deja hacer la línea multi texto entonces el título pues el nombre o código de la asignatura vale descripción especifica el código de asignatura place holder e introduce el código de la asignatura vale más cara vamos a ver algo me menciona algo deshabitado sígala falls visibles e iguala deshabitado es igual a true vice vuelve es igual a true y como ahora lo veremos ahora veremos qué color le pongo y tipo dato es igual a get entonces a continuación voy a crear una nueva variable voy a decir parámetro pero entonces voy a decir parámetro url o parámetro get para entendernos va a ser y recurso por ejemplo me lo estoy inventando en curso y de curso así que copio esto lo pongo en comentarios le voy a guardar y vamos a verlo entonces ahora vengo por aquí recargo estoy momento ok por aquí asignatura estoy viendo deshabitado hacia la troupe pixable s 4 estoy cobrando que se conecte al lugar correcto desarrollado según latour visible es igual a true vale ahora es presionar deshabitado es true pero visibles y balastro vamos al recorrido bien vamos al controlador aparte de que aquí tenemos esto formulario entregas correcto vale entonces visible busy bolseo a la troupe así que en principio debería aparecer pero bueno ahora veremos en todo caso vamos a ver pero tipo dato es igual a get entonces ahí lo que voy a hacer es decirle como tipo de dato probablemente no lo está cogiendo correctamente voy a cambiar esto voy a decirle qué tipo de dato tipo dato es igual a number vamos a ver entrega a number vamos a recargar todavía no lo tenemos ahora voy a inspeccionar ahora aparecerán estoy comprobando que todo esté correcto voy a cambiar mover columnas en general había madera encima de él poco recargo así el momento todavía no como digo estoy comprobando que todo vaya según viven cambiar lo copió lo pego dentro de aquí vivo el true deshabilitado igual a falls copio es decir copio pego guardo recargó bueno sigue sin aparecer ahora aparecerá pero en todo caso lo que quiero es crear un campo tal que pueda por ejemplo y de curso es igual a un número y es el decurso digamos ese parámetro se recoge dentro del formulario vamos a echarle un vistazo ahora probablemente voy a sacar algún tipo de eco en pantalla y al sacar algún tipo de eco en pantalla pues vamos a ver al final por donde sale el parámetro voy a hacer una cosa voy a copiar práctica voy a pegar literalmente en asignaturas y luego modificó más que nada porque en principio no me cuadra vale ahora tenemos número de práctica ahora lo tenemos ahí luego en principio debía haber algún tipo de error dentro de él dentro del código entonces lo que voy a hacer es ahora pues modificar entonces esto es título como digo de la asignatura descripción e introduce el código de la asignatura de la cual realizar la entrega por ejemplo 1 2 3 4 5 deshabilitado es igual a folks béisbol se cuadra icono es lo que sea tipo de dato number copio esto lo introduzco dentro del comentario guardo recargo y desparece para y desaparece por algún motivo porque fijémonos que código de la asignatura estoy introduciendo al parecer algún tipo de error estoy introduciendo algún tipo de error tal que el sistema no coge lo que le estoy diciendo código de la asignatura ya veo cuál es el error y el error es que tengo aquí unos unas comillas abiertas y cerradas entonces voy a convertir esto en textos en formato vamos a ponerlo aquí guardo recargo vamos a ver todavía no de ahí por ahí todavía unas comillas abiertas y cerradas voy a modificar las comillas en principio vale deshabitado es igual a true creo que tengo un poquito más de confianza para poder cambiar los parámetros sabiendo que el localizado dónde está el error que lleva a que no funcione guardo recargó vale si todavía hay algunas comillas por ahí sueltas pues vamos a e irlas buscando irlas localizando estoy repasando las comillas así que yo creo todavía hay alguna yo creo que más o menos todavía hay alguna más o menos ya práctica no estos asignaturas estructura asignatura comentario guardamos recargamos código de asignatura vale está deshabitado y ahora que tengo esto es cuando voy a poner el parámetro url o parámetro get en definitiva dos puntos y del curso voy a parar esto y de curso vale entonces copio esto lo pego dentro de la estructura le voy a guardar vale código de la asignatura y ahora viene lo siguiente yo he dicho que el parámetro que voy a es el y de curso y entonces a continuación yo en y de curso puedo poner lo que quiera pero lo que voy a hacer es modificar el controlador para decirle que si existe y de curso donde pone vamos a poner aquí voy a decir a ver lo siguiente le echo por aquí y digo hoy perdón esto vale y ahora digo sólo en el caso de que exista sólo en el caso de que este puesto el parámetro j son de code parámetro get o el nombre que hayamos puesto fila perdón como parámetro get estaba aquí sólo en el caso de que exista en ese caso lo que voy a hacer es ponerle el valor pero claro cuál es el parámetro pues bueno vamos a ver por qué yo a continuación lo que tengo que hacer es decirle que ese parámetro lo quiero solo en el campo donde lo quiero es decir yo vengo por aquí digo echo momentos todo funciona el programa funciona demasiado bien voy a decir value es igual a algo y ese algo va a ser el parámetro get llamado parámetro que está va a ser parámetro vez vamos a verlo parámetro que ok vale ya lo tenemos recargamos vale y aquí lo que tenemos es que pues introduce un número tenemos youtube tenemos lo que sea y en este caso en código de la asignatura tenemos que ir de curso es decir lo que ha hecho el sistema es que si yo he dicho aquí coge el parámetro get y de curso lo que hace es el parámetro get y de curso es decir busca y de curso y si aquí pongo 5435 ahí pone 5 435 si aquí pongo no sé otro número ahí pongo otro número cuidado si allí pongo abc ahí no lo coge vale porque estoy pasando un texto en un campo del cual he dicho que era un campo no médico mucho cuidado con esto vale el tipo de dato tiene que coincidir pero de momento en este caso lo que estoy haciendo es simplemente poner ahí eso lo que estoy haciendo es poner ahí ese dato bien entonces a continuación ya tengo este dato voy a realizar una prueba vale voy a realizar una comprobación de si ese dato se está guardando realmente en la base de datos para eso me voy a ir a poner un correo me voy a poner un vídeo vamos a ver el youtube vamos se presente carta la yo que sé carratalá estoy aquí cojo ese vídeo lo pongo aquí número de práctica 1 con el código de la signatura vemos que está le damos a enviar registro guardado correctamente y si todo va bien ahora nos vamos a ir al final vamos a ir a entregas vamos a ver cómo vamos a ver cómo me voy al final y veo cómo vamos a ver asignaturas o sufren dejar atrás youtube bots tengo práctica número 1 y tengo por aquí y tengo por aquí que en la asignatura es un 0 al el texto no me cuadra tanto de momento pero bueno ahora a continuación vamos a este momento el campus se está metiendo lo cual pues no es moco de pavo vale pero vamos a ver por qué este campo no está siendo metido correctamente en este caso por tanto lo que voy a hacer porque si lo pongo disabled lo que ocurre es que o sea si lo pongo vamos a ver disabled lo que ocurre es que el parámetro realmente no se envía entonces voy a poner read only entonces vengo por aquí el parámetro no se puede escribir voy a poner y de curso es igual a 1 2 3 4 5 vale no se puede modificar y entonces info url número de práctica le voy a enviar vamos a verlo vale y ahora nos vamos a la base de datos venimos por aquí y si todo ha ido bien y si todo ha ido bien pues ahora sí ya tengo la asignatura correctamente introducida dentro de la base de datos lo cual quiere decir que ya tengo un campo más y ya tengo una funcionalidad más me tira dentro de él vale el formulario a partir de aquí por tanto pues ya puedo hacer qué pues bueno se inserten tantos formularios como quiera pero ya digamos respetando la respetando el parámetro gay ya partir de ahí pues evidentemente puedo meter tantos parámetros get como en un momento dado e necesite por cierto que voy a meter código de asignatura pues voy a ir a fondo icon entonces voy a meter vamos a ver que encontramos vamos a buscar iconos dentro de iconos vamos a buscar schatz ect entonces matter realmente no es eso pero bueno hay un cerebro brain pues mirad el icono del cerebro me ha gustado para esto con lo cual lo que voy a hacer es buscar fast food brain le doy a estructura le voy a modificar y entonces fase a brain copio modificó guardo recargo y ahora aparece un cerebro en ese icono que en un momento dado pues me puede venir bien a partir de aquí pues puedo hacer lo que quiera por ejemplo podría ocultar ese campo especificando como te diría yo que el campo al final se guarde quiero decir con esto que yo ahora vengo por aquí voy a decir que visibles igualar false entonces me vengo aquí le voy a cambiar le doy a guardar recargo no es visible pero sin embargo voy a decir y de curso es igual a 1 2 3 4 5 voy a comprobar que existe campo es igual a esta de aquí clave vale pues ha dejado de existir ver código fuente de la página número de la práctica a dejar de existir pues bueno visible lo voy a dejar a true y así de momento que exista aunque se coja automáticamente vale guardo por aquí recargo por aquí código de la asignatura y ya está bien más cosas que puedo hacer otra cosa que puedo hacer por ejemplo es aumentar el controlador y en el controlador pues puedo decir por ejemplo en los mensajes puedo decir que dónde está aquí si existe para mí droguett pues si se parámetro get bueno pues en este caso o si es disable realmente si es deshabitado pues en este caso digo sí y set este de aquí en ese caso este campo está deshabitado ya que lo rellena automáticamente el sistema guardo recargo cuidado ya que lo rige automáticamente el sistema vamos a verlo no debería sí vale si eres habilitado es igual a true vale y ahora deshabitado vamos a verlo a ver ring only deshabitado se iguala trump puede haber estabilidad recargo y ahora sí solo en este campo está deshabitado ya que lo rellena automáticamente el sistema voy a poner un asterisco y una noticia para que las personas sepan bueno que te vamos a atender a ese campo tenemos ya ahora sí este campo más cerrado vamos a continuación a extender el programa con otras funcionalidades pues igualmente importantes que nos están esperando algo que tenemos pendiente y siempre es un buen momento para desarrollarlo realmente es la parte de el registro donde se sepa un poco pues qué es lo que está ocurriendo en cualquier momento entonces lo primero que tenemos que hacer y el tema del registro siempre es un tema muy complejo porque la primera discusión cuando hablamos de un registro es donde debe guardarse ese registro el registro generalmente ocupa al final pues no sé el 95 99 por ciento de lo que ocupa una base de datos cada cuánto limpiar los registros es otra de las discusiones es decir el tema de los registros daría para un debate inacabable eterno yo de momento para un poco hacerlo todo esto un poco más operativo pues lo que voy a hacer es implementar unos registros en una tabla sql y vale a partir de ella más adelante podemos hablar de la idoneidad de hacer esto entonces ya partir de aquí lo que voy a hacer es me vengo por aquí me voy a desarrollar una nueva tabla mientras nueva está la llamada registros va a tener un identificador registros va a vamos a verlo va a ser de tipo entero 20 caracteres va a ser índice primario va a ser auto incremental registro es una tabla que en principio mantiene el sistema por tanto pues no hace falta no hace tanta falta meterlo de los comentarios porque no va a estar en un formulario pero bueno ya veremos si le metemos algo de información siempre estamos a tiempo desde luego ahora lo importante los campos voy a meter epoc voy a meter por aquí voy a meter y p voy a meter un navegador browser y voy a meter vamos a ver voy a meter una columna más aquí está y voy a meter datos entonces tipo que es un número entero que tiene voy a poner 30 caracteres y pe pues tiene puntos con lo cual lograron marchar poner pero podría ser más v6 100 caracteres o 200 por si acaso browser es una cadena con un navegador y datos puede ser algo grande ver en un texto porque no sé los datos que se pueden enviar pueden ser muchos datos y quiero guardarlos así que vengo por aquí creo que ya lo tengo le voy a guardar tengo ya mi tabla de registros y ahora a continuación una vez que tengo la tarea de registros pues lo siguiente que quiero es empezar a guardar registros como guardar registros bueno pues técnicamente el guardado de registros no forma parte del super controlador es otra cosa los pre controladores para el de control forma de formularios y todo esto pero técnicamente un guardado de registros que es que cuando alguien entre los datos y meterlos eso ha sido un trueno que lo sepa y se lanzaran en la ventana pero de hecho ha sido un señor trueno pero la idea es que aunque técnicamente guarda algo en la base de datos pues no voy a meterlo digamos dentro del controlador entonces lo que voy a hacer es que de momento por aquí voy a crear un nuevo archivo rafael new un file y voy a crearlo y voy a llamar esto registro punto php vale un nombre que en un momento dado luego perdón ahora registro php folder específico un segundo pero para atrás y entonces ahora voy a entrar dentro de clic voy a entrar de casa voy a entrar dentro de proyectos go into vale y aquí dentro de entregas aquí dentro voy a crear un nuevo archivo así que como decía se llama registro punto php un clásico y ahora lo que voy a hacer es lo siguiente entonces de hecho va a ser un archivo para incluir va a ser un archivo lo más sencillo posible entonces incluye config php para traer los datos de configuración de conexión a base de datos y ahora voy a hacer algo sencillo como lo siguiente esto es registro me traigo estas tres líneas y luego insert into registros está siempre va a ser igual quito las columnas las voy a meter yo directamente y digo values coma y ahora vivo para diego 1 2 3 y 4 ahora que es el parámetro 2 se me ha olvidado meter un campo me voy a estructura abajo de poco método otro campo que es la url quiero saber qué url estaba viendo el usuario en el momento en el que se guardó el registro entonces pues es un campo más vale entonces recordemos vamos a verlo el poco d tengo la url php url y sí vale no mantiene vale por si acaso lo que no se intenta meter esto vale pues voy a esto vamos a verlo está bien vengo por aquí y dijo url exceso de allí así que voy a la url sigamos no quiero la ip php get ip esto es el clásico remote a ver si te lo puedo copiar directamente de la descripción de google siempre ahora quiero el browser php browser qué es el agent vamos a ver es el you sergent ese de ahí y por último los datos entonces y ahora lo que voy a hacer y vamos a ver es lo siguiente voy a el controlador y tenía por aquí un force y c's ahí está y digo lo siguiente listado columnas listados valores vale pues aquí el registro voy a hacer lo siguiente digo vamos a ver el momento vale cadena es igual a nada esto nada vale y ahora digo cadena pongo punto igual nombre campo punto 2 puntos y punto valor y punto por ejemplo barra vertical como un carácter separador y ahora al final después de haber encadenado todo esto lo puedo resumir lo que estoy haciendo es en definitiva atrapar todo lo que venga por ahí de los datos y aquí pongo cadena vamos a ver si ha funcionado vamos a ver si ha funcionado para ver si ha funcionado evidentemente lo primero que hago en el index es decir que quiero incluir registro php no harán datos creo supongo ahora lo veremos todavía vale entonces vengo por aquí recargo no ha pasado nada en la pantalla no tiene por qué pasar nada pero ahora me vengo aquí se ha ido bien me dirá que identificador 1 el epoc es este de aquí la url casa puntocom barratt álvaro entregas barra con la url vale la ips esta de aquí los datos son estos de aquí y no tengo el browser este de aquí y no tengo ningún dato porque no estoy pasando datos lo cual es normal ahora vengo por aquí a ir el curso sí que estoy pasando parámetros sí que deberían haberse guardado los parámetros se retocó por lo menos y de curso tendría que haberse guardado así que vale datos nos están pasando luego parece que está todo bien pero vamos a ver qué es lo que ocurre con el tema de los datos entonces vengo por aquí vamos a ver qué pasa con los datos registro y digo cadena es igual a esto entonces cadena punto igual for its a post puesto vale for each request no sé por qué en el controlador escala como post porque arriba estaba como este ahora sí entonces ahora sí me voy a registro ok a cargo me voy a registros de nuevo y ahora si tengo recursos igual a esto y google analytics parece un google analytics porque técnicamente soy dentro dejo carsa puntocom y wordpress settings es igual a lo que sea es decir parece que hay una serie de parámetros de post o parámetros de get que en un momento dado se están cogiendo pero vale me vale puedo otros parámetros tales como por ejemplo los valores de la sesión pero de momento con esto tengo suficiente para haber atrapado una serie de datos mínimos y estos datos mínimos en cualquier momento pues me pueden servir para saber qué es lo que ha pasado con el sistema qué es lo que está pasando con el sistema en un momento dado pero como ya digo esto no es algo que me preocupe ahora mismo digamos esto no es algo que me preocupe en el sentido de que por lo menos quiero empezar a recoger datos quiero asegurarme de que los datos que recojo pues son lo suficientemente correctos tengamos en cuenta eso tiene cierto peligro y es que el peligro está en qué como te diría yo en cualquier momento alguien puede utilizar un parámetro de url para intentar meterme algo en la base de datos no estaría de más que también le pusiera algo de protección ocurre esto vamos a verlo pues en el registro antes de hacer nada más antes siquiera de los datos de la base de datos pues die vale entonces si yo vengo por aquí y recargo no ha pasado nada pero vamos a verlo como tengo el registro número 4 vale pero si yo pongo aquí drop intento hacer algo ejecución detenida y veo como al recargar no aparece ese registro vale porque hay alguien que me ha intentado atacar y sí que veo que si me voy al volcado debería ir a la sala vería aquí genérico no así y veo que más efectivamente ahí tengo toda la información de alguien que me ha intentado digamos atacar vale esto por aquí luego además también quiero está esta inclusión me voy a algunos que se ocupa más el código para la mínima protección que el código que en sí y guarda el registro pero no es lo que hay se podría meter en un archivo aparte se podría meter en incluye ya lo veremos si al final lo usan diferentes elementos y ahora al incluir el registro pues también lo quiero incluir en el controlador en el momento en el que en cuanto se guarde un formulario guardas un formulario pues lo quiero propio que los registres entonces vengo por aquí no voy a hacer el drop voy a hacer un dos tres cuatro o cinco aguas y ahora digo info vídeo número uno esto está bloqueado le voy a enviar y si todo ha ido bien ahora voy a ir a la base de datos no verás registros y veo como pues por una parte tenemos por aquí el registro digamos pero por otra parte también tenemos por aquí todos los campos que se han metido dentro de esa base de datos sabemos que cada inserción o sea no solo cargar el formulario sino la propia inserción pues se convierte en un elemento del registro y a partir de ahí pues evidentemente puedo ir empezando ya a recoger información que pueda utilizar en el caso de que me interese registrar qué es lo que ha ocurrido con la plataforma una vez que ya tenemos un sistema de registro dentro de las muchas cosas que podemos hacer en una aplicación empresarial pues una de ellas es enviar correos electrónicos a los usuarios de la aplicación esta función a mí personalmente no me gusta demasiado porque los sistemas de notificación de correo electrónico siempre causan muchos problemas en cuanto a que en el momento en el que el sistema de correo de envío de correo electrónico falla y el usuario no es notificado pues el usuario puede decir como no se ha notificado pues miles de cosas depende de para lo que sirva el software entonces claro que ocurre pues que el sistema de correo electrónico muchas veces no depende de nosotros depende del servidor donde esté alojada la aplicación entonces claro no me gusta el sistema de correo electrónico porque yo puedo programar todo lo bien que haga falta pero si hay algún problema con el servidor de correo pues los correos no se van a enviar las notificaciones no se van a enviar y la primera persona la que van a culpar va a ser a mí como desarrollador vale entonces por eso es por lo que pues bueno tiendo a limitar o tiendo digamos a desaconsejar los sistemas de notificación de correo electrónico por parte de las aplicaciones pero hay que reconocer que a veces pues tienen su utilidad evidentemente y hay que reconocer que en todo caso pues es necesario aprender a programar ese tipo de sistemas así que tenemos fundamentalmente dos tipos de sistemas que son los sistemas de correo de salida el sistema envía mensajes y los sistemas de correo menos frecuentes todavía de entrada y es que tú le puedes enviar órdenes al sistema mediante correo electrónico no es muy frecuente pero desde luego tiene una utilidad muy grande ya que cualquier usuario puede cualquier usuario con permiso evidentemente puede escribir un correo electrónico al sistema enviarlo y evidentemente escribe un correo electrónico es algo cualquiera puedo hacer incluso desde su teléfono móvil y le puede enviar mensajes al sistema y si están correctamente formateados pues el sistema los puede introducir vale así que es algo muy interesante no es fácil de configurar pero es algo muy interesante así que vamos a por ello voy a hacer en primer lugar un pequeño experimento otra de las razones por cierto es que como diría yo estoy trabajando en un servidor real más que nada porque en un servidor local en un sam o en un mapa prácticamente nunca va a salir un correo electrónico hace falta un servidor real para poder probar el sistema de correo electrónico así que voy a darle a new voy a darle a file bien voy a crear un archivo llamado envía mail php de momento voy a hacerlo en este archivo y algo probablemente lo voy a integrar dentro del controlador así que vengo por aquí bien y por cierto que aquí he visto antes procesa formulario vale venga entonces vengo por aquí y ahora digo lo siguiente ahora digo voy a usar una función llamada gmail de la cual siempre he estado muy enamorado porque en la metodología de enviar correo en php siempre me ha parecido muy sencilla de hecho se mail es una función integrada en php que luego por dentro lleva una barbaridad de cosas y lo que está haciendo esta función es que nos las simplifica automáticamente o sea que esta función hace mucho más de lo que pensamos y por eso siempre me ha gustado porque es muy sencilla voy a poner php gmail generalmente lo que se hace es como diría yo crear una función que abstraer pero siempre me da pena porque es que la función se mail ya está abstrayendo vale estoy viendo que esta de aquí en mail y tengo otra que es el send mail entonces voy a poner ese mail funciones de mail vamos a ver vale cuidado por aquí porque había un ya había por aquí os lo visto antes aquí dice si tienes un tercer ver php el dash network simplemente que los países pero bueno no vamos a ver sí pero no quiero sí pero quiero el semen más básico vale pues ahora voy a este bien voy a el mail vale y simplemente voy a escribir esto aquí mail y digo tú vales puesto es info jose vicente carratalá puntocom el satec es este es el asunto del mensaje message este es el mensaje el cuerpo del mensaje vale ahora habéis un ángel es esta es la cuestión una visión alge vers php mail reverse html entonces vamos a ver por aquí los típicos parámetros cabeceras este es este de aquí vale entonces yo digo cabeceras es este de aquí from pues info aucalsa puntocom replay to infobae.com vale pero estas no son las que quiero estas son las nuevas cabeceras que quiero esto sí esto sé entonces cabeceras punto igual lo que estoy haciendo es introducir pues todos los jueves las cabeceras para poder enviar correo electrónico así que cabeceras ok y el último parámetro me lo voy a saltar porque no lo quiero no quiero parámetros adicionales esto punto y coma un poco de sangría y si todo ha ido bien y yo creo que sí todo ha ido bien vamos a verlo si tú estás bien yo vengo por aquí y le digo te quiero ir a proyectos quiero ejecutar envía mail punto h p vale no sale nada en la pantalla porque no tiene por qué salir nada en la pantalla y ahora lo que voy a hacer es abrir mi correo electrónico y comprobar si no ha habido ningún error pues si he recibido ese correo electrónico entonces si todo ha ido bien pues como digo ahora me abro mi correo electrónico y digo este es el asunto del mensaje enviado por info arroba jo casa este es el cuerpo del mensaje con lo cual veo que vale acabo de enviar un correo electrónico es así de sencillo en teoría y en la práctica pero luego la cosa se puede complicar un poquito más como ahora veremos otra cosa que puedo hacer es que este es el cuerpo del mensaje entonces pongo h1 h 1 título esto es muy importante y p envió el correo recupero el correo y vamos a ver si tengo un correo electrónico nuevo vamos a ver hay esta y si todo ha ido bien vamos a verlo vemos aquí como tengo un título formateado con h1 y tengo pues un texto de párrafo que en un momento dado pues como podemos ver nos está mostrando el texto que ha marcado esto que es lo que quiere decir pues lo que quiere decir es que no sólo mis aplicaciones pueden enviar un correo electrónico sino que lo que puede ocurrir es que pues el correo electrónico esté correctamente formateado que es lo que quiero ahora bueno pues lo que quiero ahora es que se quiere utilizar este sistema de correo electrónico para que cuando alguien envíe un formulario a ese alguien se le envíe una notificación y se le diga oye ha subido un formulario ha subido un elemento se notifica tienes un comprobante en definitiva de que ha subido correctamente ese formulario y es la persona que lo rellena por generalmente se queda tranquila en el sentido de que pues lo ha recibido correctamente además evidentemente tenemos que formatear este correo electrónico para que sirva para cualquier tabla es decir ahora mismo estamos trabajando como te diría yo con un correo particular pero ahora lo que voy a hacer es programar esto para que sirva para cualquier tipo de formulario bien pues ahora vamos a ver por qué me voy al súper controlador me voy al controlador en definitiva vale tengo por aquí el proceso formulario procesar formulario se me acaba de encerrar tal creo esto no suele pasar esto no es nada común el proceso de formulario en principio pues bueno yo lo quería utilizar para que me procesará también un formulario enviado desde el propio panel de control cuando hagamos el panel de control entonces claro evidentemente como podemos imaginar vamos a cargar la página correcta pues bueno lo que quería decir es que no quiero que lo inserte en cualquier eventualidad pero bueno pero de momento sí que va a ser así que go into vale vamos allá así que entregas así que me voy al controlador y aquí en el controlador vamos a verlo en el proceso formulario pues bueno pues vamos a hacer esto realmente vale vamos a hacer que lo que ocurra en definitiva es que voy a enviar un correo electrónico vamos a verlo para saberlo voy a asegurarme que todo se envié correctamente y entonces le digo y entonces yo digo un volcado anda muy bien perfecto post vale porque en principio todo viene por post lo cual es bien lo cual vale y entonces el arábigo lo siguiente me voy a enviar él entonces vengo por aquí tengo aquí voy a hacer un separador para establecer lo que es el correo electrónico lo que no lo es recordemos que estoy dentro d dentro de una clase con lo cual hacer un incluye no es tan bonito en este caso y voy a decir lo siguiente input mail de momento a este usuario lo ideal sería si hay un campo llamado el correo electrónico decirle mira coge el correo electrónico así que post e mail vamos a verlo vale este es el asunto del mensaje pues formulario enviado para pero el momento y ahora vengo aquí y diego mensaje es igual de momento nada y ahora digo for its lo pongo aquí y digo mensaje / igual horas empleado un formulario a la que al sistema de entregas luego ya veremos a ver qué título le ponemos pero bueno esto es no reply qué trabajo quedarse puntocom y esto es no reply abajo carsa puntocom aunque ahora vivo esto es h1 esto es un hombre campo esto es dos puntos negrita el valor negrita punto b r vamos a verlo aquí pongo un b r y aquí pongo un punto y coma y aquí pongo el mensaje así que si todo iba a ir bien que no lo sé pero ahora lo vamos a ver vamos a probarlo así que introduzco url número de práctica no se puede tocar vale en principio de momento estamos ahí vale y ahora nos vamos al correo electrónico a ver esta es la base de datos voy a cerrar por aquí cosas ya no solo tengo el correo electrónico vamos a comprobar si tengo un correo electrónico y comprobamos ha funcionado la primera lo cual ha sido extraño pero bueno y básicamente nos dice esto básicamente nos dice a la asignatura creo que no había enviado email o lo que sea url arroba lo que sea práctica arroba lo que sea asignaturas igual a lo que sea vale y aparece digamos él pues es el vídeo ya pues aquí se puede pinchar y se puede ver y se puede lo que sea vale entonces con esto en definitiva pues acabamos de programar un sistema de pues envió digamos de notificación al usuario de que realmente ha enviado algo con lo cual pues vale ningún problema desde ese punto de vista ahora tenemos ya este sistema funcionando pues por ejemplo se podría formatear un poquito vale para que la primera letra pues apareciera en mayúsculas que eso desde el punto de vista del programador no tiene ningún ninguna función pero desde el punto de vista del usuario pues sí que vale sí que tiene algo entonces lo que voy a hacer pues en este caso va a ser vamos a ver pues buscar el clásico php letter upper así que bueno veo que hay algunos por aquí alguna función y words no puse first sí haberle dado a luz y first entonces vengo por aquí voy a decirle qué un hombre de campo y bueno ahí puedo poner pues algún comprobante vale algo así es cómo p a continuación te mostramos un comprobante del formulario o de los campos que has enviado al formulario de r desde el formulario vamos a probarlo voy a decir y de curso es igual a 1 2 3 4 5 correo el stop número 1 código de asignatura vamos a ver me voy al correo electrónico en el correo electrónico pues veo cómo se recibe correctamente el lead de asignatura así que pues bueno ya lo tenemos por aquí por lo demás pues como vemos estamos recogiendo esto nos sirve solo para el sistema de formularios pero bueno algo es algo no está mal de momento pero por lo menos le permite al usuario conocer cuál es la entrega que ha realizado el sistema lo cual pues evidentemente ya es un principio podemos extender este sistema todavía más diciendo el usuario bueno ahora te voy a decir qué es lo que digamos como te diría yo qué es lo que has entregado por ejemplo yo ahora podría ponerle por aquí un enlace como para ver las entregas que haces en el sistema pincha aquí y vas a tener un informe cuidado porque en ese momento le estamos dando acceso al usuario al sistema pero bueno si tomamos una serie de medidas de seguridad pues probablemente lo vamos a poder hacer sin demasiado problema pero siempre evidentemente teniendo bastante cuidado bueno pues sí ya tenemos un formulario con el cual los usuarios pueden meter información en el sistema ahora lo que voy a hacer es crear un informe mediante el cual los usuarios pueden obtener información del sistema siempre evidentemente teniendo mucho cuidado con el aspecto de la seguridad así que para ello lo que voy a hacer en este caso es que voy a crear un archivo nuevo lo voy a llamar informe php y dentro de informe lo primero que voy a hacer es que voy a incluir configuración punto php y una vez que he incluido configuración php pues a continuación lo que quiero es realizar vamos a ver index quiero realizar una petición o controlador por ejemplo entonces vamos a ver mysql y ok resultado y baile así que vengo por aquí pongo esto y ahora lo que quiero hacer es quiero select from entregas wear were que dónde está la base de datos aquí sí pero no sé dónde estaba la base de datos pero ahí va a ser que no vale vamos a un momento que me ha caducado la sesión pero este base de datos esto vale quiero esto muy bien y en entregas en la estructura quiero el email y web email es igual a puedes decir voy a hacer info de momento estático info jose vicente catalá puntocom así que si todo va bien tengo aquí un error no sé dónde está el error y el error es que me falta aquí una doble comilla no voy a decir echo fila y en fila digo por ejemplo la url entonces si la url en cadena con un br y ahora voy a ejecutarlo en plan rápido y sencillo esto vale esto por aquí ahora me voy a informe punto php bien y aparecen aparece todo aquello que yo he subido así que en principio de momento bien hasta ahora hasta el momento bien ahora lo que voy a hacer es que voy a abrir por aquí voy a decir bueno pues youtube voy a un vídeo cualquiera voy a un vídeo que sé y quiero insertar este vídeo quiero compartir a ver para quiero compartir quiero insertar y me cojo este código así que vengo por aquí y digo eco pero el código y claro ahora evidentemente aquí en lugar de este bloque voy a meter pero aquí no en lugar de este bloque voy a meter el fila url corto pego pongo el br recargo no sé dónde allí y entonces si todo va bien pues vemos los vídeos que he introducido de aquí a play a un error vale quizás metido demasiados no lo sé a ver un momento voy a inspeccionar a ver si no de copiado el código correctamente si no le digo ver código fuente de la página of title acelerómetro y agua vale sí watch esto qué es claro que le digo la url y en la url vamos a poner aquí y la url en la fila url pues me aparece vamos a verlo la url completa entonces de esa url únicamente lo que quiero quedarme es con el parámetro de el código así que vamos a ver un php get url para meter from string a ver si alguien tiene ya una función hecha para sobre él pues este de aquí entonces estoy aquí digo parts es esto de aquí fars cuero email square y quiero el parámetro v o después mi parte es igual a esto de aquí así que aquí pongo mi parte y si todo va bien desbloqueo esto recargo y se trataba bien vamos a verlo no lo sé en vez en un principio en principio no lo voy a hacer es con mi parte a ver qué pasa mi parte recargo no está sacando nada mi parte square y v entonces fars strings en cuero voy a hacer un bardo huele un momento validado está claro y lo que ocurre es que en la url realmente la url es fila url y la url dónde está la base de datos es fila url vale me vengo aquí ahora sí ahora ya tengo los códigos y por tanto ya puedo hacer así ya puedes desbloquear mi parte bien recargo y si todavía en los primeros una persona negro pero a partir de ahí los siguientes en principio los siguientes van a aparecer correctamente title falta yo creo que me he comido falta una comilla se ve que me he comido una comilla en el proceso recargo y ahora si todo va bien puedes empezar a aparecer por ahí pues entrevista curso vigente lo que se vale muy bien aparte de que ahora a continuación pues puedo hacerlo más pequeño por supuesto bien entonces ahora digo pues el wef es de 300 por ejemplo el height es de 200 y ahora quiero meter más cosas quiero por ejemplo meter esto dentro de la tabla así es que yo digo h 1 entregas para jose vicente bien vengo por aquí digo table y digo te r th y qué es lo que quiero meter pues quiero meter el la url quiero meter pues la práctica quiero meter bueno la asignatura realmente la práctica y quiero meter la fecha muy importante y quiero meter el vídeo comprobarlo como recargamos y entregas parejo suficiente y en la parte de ahí debería aparecer y qué raro que extraño a una tabla y eso es que aparece al final vale perfecto sin problema no de sara vengo por aquí y digo bueno pues ahora quiero echo ahora quiero eco dv pero echo en cierre de tv y ahora digo quiero un tv de una columna y enganchó fila y hemos dicho que lo primero que quiero es la asignatura no la url luego quiero la asignatura y luego quiero la práctica y luego quiero la fecha hay poco y luego quiero el vídeo esto aquí voy a poner fecha ya que el usuario final no entenderá lo de ahí poco y por último aquí va un punto y coma y por último aquí voy a poner un t r para cerrar la fila y por último aquí voy a poner un table para cerrar la tabla así que vengo por aquí recargo y si todo ha ido bien pues vamos a ver cómo tengo una tabla que me dice pues todas las entregas que yo he realizado hasta el momento hasta ahora bien perfecto fenomenal y aquí podemos ver pues todos los vídeos que ha entregado pues una persona concreta tengo ya un listado esto ha sido sencillo pero claro este listado es de un usuario fijo y ahora lo que quiero es que el listado sirva para cualquier usuario bueno pues a continuación lo que voy a hacer es bueno especificar que lo quiero todo como una variable así que yo puedo venir por aquí y decir quiero php eco get bien quiero que te email esto evidentemente requiere que yo aquí ponga email es igual a info jose vicente carratalá puntocom y yo ahora lo que voy a hacer aquí en la petición es decirle quiero obtener todas las prácticas de info arroba josé vicente carratalá puntocom entonces si no pongo nada o si pongo un email incorrecto pues no va a haber ninguna práctica y si pongo un mail correcto pues van a aparecer las entregas de esa persona pero claro hay un problema y el problema que hay es que este sistema digamos que es un poco inseguro desde el punto de vista en el cual como diría yo cualquier persona puede poner aquí cualquier email y puede obtener digamos cualquier listado de prácticas de cualquier otra persona y eso pues evidentemente no es muy seguro de hecho voy a en lugar de poner email voy a poner clave vamos a empezar un poco a esconder la información y entonces ahora voy a poner aquí clave así que vengo por aquí y ahora lo que quiero es codificar esta información quiero realizar una codificación para esconder esa clave y para que en definitiva pues nadie me la pueda atrapar así que para ello vamos a crear un codificador voy a crear un nuevo archivo llamado codificador punto php y ahora en este codificador vamos a empezar a crear un codificador personalizado así que yo vengo por aquí y voy a crear pues vamos a ver digo cadena es igual a jose vicente hay una forma de encadenar que es la siguiente codificado es igual a base 64 en code de cadena y entonces yo puedo poner eco codificado vamos a verlo esto va a ser ahora luego tenemos informe esto es codificador php y aparece esto que tenemos ahí eso no es muy seguro desde el punto de vista en el que pues alguien nos puede s 64 y tal y como yo lo he codificado se puede descodificar es muy sencillo algo que se puede hacer es lo siguiente yo digo 1 2 3 4 5 6 7 era 1 2 3 4 5 6 7 marzo recargo y sale una cadena y claro esa cadena ya es un poquito más fácil de perdón un poquito más difícil de descodificar no es imposible pero se puede descodificar pegamos el que se ponga a descodificar la pues tendría que averiguar que la he codificado siete veces vale entonces a partir de ahí por ejemplo yo lo que voy a hacer es como diría yo que voy a hacer es insertar otra otro tipo de oscuridad digamos que es cambiar los caracteres entonces php parce string carácter bytes carácter y entonces vamos a ver bueno puedo hacer lo siguiente puedo decir qué y es igual a 0 es menor que count carrera y más y ahora digo cadena de iu porque realmente un string es una un string es una colección de caracteres le digo vamos a ver php from chat art chr quiero verde' de cadena y entonces quiero cadena de iu es igual a esto más 1 y ahora hace hr de esto ya que hace que hecho es tan extraño pues y ahora digo el echo cadena voy a poner un eco veré simplemente para que se vea bien en pantalla lo que veremos es que tengo a josé vicente h y j vale me ha subido el acá vamos a ver porque yo lo que quiero d string link vamos a verlo str leen así que recargo efe jose vicente efe vamos a ver y más cadena de la cadena del dólar vale bueno pues acá es la que viene a continuación de la j agregó de 12 dado la t es la continuación de la s lo que ha hecho el sistema es subir un carácter subir una letra entonces y esto digamos lo puedo hacer tantas veces como quiera puedo modificar esta cadena y de hecho el base 64 vemos que ha cambiado vemos que se ha modificado entonces ahora por ejemplo pues puedo decir que esto es una función voy a convertirlo en una función entonces function sube carácter es igual sobre carácter de una cadena es igual a esto de aquí y ahora return cadena y entonces ahora vengo y digo sube carácter eco sube carácter cadena y el resultado en principio tiene que ser el mismo así que ahora vengo por aquí así que ahora vengo por aquí y digo bueno pues si he creado un sube carácter voy a crear un baja carácter para luego descodificar y esto es menos entonces eso quiere decir que y además es de 4 en code su carácter ba 64 en code sobre carácter a lo que estoy haciendo como vemos es alternar estoy diciendo codifica sube codifica y sólo yo sé cuántas veces estoy realizando esa operación así que pues vemos que por aquí aparece una cadena y esa cadera vete a saber lo que tiene así que ahora lo que voy a hacer es codificar entonces para codificar vamos a verlo momento voy a decir function codifica cadena es estoy aquí así que ahora digo echo codifica a jose vicente y lo que ocurre es que vamos a ver codifica cadena así y return codificado así que vengo por aquí y tengo esta cadena de aquí pero lo que quiero es comprobar si esto que he hecho es real si esto que he hecho está bien y lo voy a comprobar descodificando es decir sí descodifica he hecho esto descodificado y esto debería ser de code esto es baja carácter y vamos a ver en code baja carácter yendo les digo original es igual a jose vicente entonces codificado es igual a codificar jose vicente pero el codificado es punto codificado si le ponemos un ver en cada línea mejor ya tengo el original es y punto original esto es una prueba esto es una prueba vamos a comprobarlo me dice el original es jose vicente el codificado es este de aquí en 3 ahora voy a decir descodificador es igual a descodificar el codificado y entonces aparte de meter un eco vr digo el descodificador y que haya suerte es descodificados y todo ha ido bien esperemos que sí y ha ido bien a la primera es mucha casualidad pero bueno el original en jose vicente el codificado es este de aquí pero el descodificador es jose vicente entonces comprobamos que tenemos un algoritmo en el cual podemos esconder digamos bastante la información siempre se puede mejorar por supuesto pero podemos esconder la información de tal forma que luego nosotros tenemos el algoritmo de descodificación tenemos el algoritmo para volver a obtener la información que sea necesaria a partir de ese código que tenemos en pantalla bueno pues ahora lo que vamos a hacer es lo siguiente lo que vamos a hacer es primer lugar bueno vamos a el codificado vamos a decir que el original es 90 info mira e incluso voy a eliminar todo esto voy a moldearlo por si acaso más adelante me hace falta para hacer algún tipo de debut y ahora dentro de lo que es el informe voy a decir que solo quiero ver a aquellos en los que el email sea igual a mal después php incluye y quiero incluir codificador punto php entonces vengo por aquí y digo echo no me acuerdo ecodes codificado descodifica la clave y además evidentemente lo que voy a hacer es decir que descodifica la clave pero claro cuál es mi clave pues no lo sé realmente la tengo aquí pero bueno de hecho es a dar loco es porque es la clave de jose vicente pero yo quiero la clave de info arroba jose vicente catalá puntocom pues aparte de que podría hacerme un pequeño programita para calcularla eso está claro pero lo que no quiero esto lo que voy a hacer es que en el controlador le digo te quiero vamos a ver incluye bueno voy a meterlo en él dónde estás en el index entonces incluye codificador php y entonces yo vengo por aquí y en el controlador vamos a ver mensaje nombre campo for its has enviado y ahora mensaje punto igual br y digo puedes un parágrafo cierro parágrafo puedes consultar sus entregas previamente realizadas en dos puntos br copio pego y algo así y un segundo y vivo h ref puntos ah y enganchó con que conatel http s2 o cars apuntó con barra mira sabes que voy a decir aquí pinchando para empezar les hagas haciendo clic quito el p y aquí pongo http s2 cars.com proyectos barra entregas barra que pues barra clave es igual el codificador codifica y codifica el que nos codifica el post email momento el post email si todo ha ido bien y yo creo que sí perdona de seguro vengo por aquí pongo esto le digo qué el curso es este mi correo mi url práctica número 1 envío y como digo si todo ha ido bien y ha acertado la primera cosa que sería un poco rara pero vamos a probarlo no reply vale y dice puedes consultar tus consultas previamente realizadas aquí esto es porque lo he puesto en cada campo está mal pero voy a hacer clic aquí y entregas no esto es entregas no esto es informe php y clave es igual a eso luego aparte esto no va aquí sino que va afuera de esa entrega vamos allá y recurso es igual a esto info url número de práctica le voy a enviar vale y ahora me voy al correo no sé dónde está el correo esto fuera voy a abrir ese correo y si todo ha ido bien si todo ha ido bien dice bueno con el formulario email práctica asignatura puedes consultar sus entregas previamente realizadas haciendo clic aquí y si todo va bien pues vemos como aquí aparece una clave de la cual nosotros conocemos la entrega digamos conocemos cuál es la descodificación y aquí tenemos pues cada una de las entregas que hemos realizado vale así que la idea es que de ahí de esa clave sale info jose vicente catalá puntocom pero en principio podríamos pensar que nadie puede conocer la clave y eso quiere decir que sólo el usuario podrá ver su propia clave evidentemente lo que podemos hacer lo que podemos hacer es introducir aquí pues un mensajito que diga mensaje punto que yo está el es igual a color dos puntos red y pongo importante este enlace contiene una clave con tu usuario con tu correo junto identificación no compartas este correo electrónico con nadie al agua sí y de esta forma parece que me ha olvidado de poner un punto y coma así y de esta forma se hará vengo y digo y de curso info url número le voy a enviar y como le he dicho al código que quiero que el formulario soporte html vamos a darle aquí a mostrar pues veremos que puedes consultar importante este enlace contiene una clave contra identificación no compartas este correo electrónico con nadie y vemos como ahora cualquier persona va a poder digamos recibir su propio correo electrónico a ver momento ap v r vale pues bueno voy a quitar este ere voy a ponerlo aquí y así pues no habrá tanta distancia pero la idea es que a partir de ahora pues cualquier persona que está enviando al formulario está recibiendo un formulario de vuelta donde aparece un comprobante aparece la url aparece el vídeo pero además puede hacer clic aquí y puede ver todos los vídeos que ha ido enviando pues para comprobar digamos cuál es su historial de entregas bueno pues vamos a finalizar por lo menos un poquito s ese formulario final vamos a ver y vamos a pinchar en ese formulario que teníamos hace un momento que es el formulario donde aparecen las prácticas y bueno simplemente le quiero poner un poquito de estilo porque ahora mismo tiene cero de estilo tiene no tiene nada de estilo absolutamente quiero hacer algo muy sencillo realmente entonces voy a ir a informe y dentro de informe vamos a ver lo bien dentro de informe vamos a poner un poquito de estilo vibra vamos a crear un documento html válido que de hecho docta html http de por aquí un boli por aquí dentro del hair un bueno un style y ahora todo esto de aquí estas dos etiquetas las pasos al final y ahora simplemente os lo voy a hacer en el style es decir que el body va a tener un background egb 220 un font family de sans serif algo sencillo en el table voy a decir que va a tener un wifi de pues no sé 800 píxeles un martín auto and white y un boxeador de 0 píxeles 10 píxeles 20 píxeles rgb a de 0.00 0.4 por ejemplo y con esto lo que ocurrirá es que pues vemos como esto se utiliza un poquito más vemos que la url por cierto debería ser una url bueno ahora vamos a ello parece que sean pequeños los píxeles 3200 vamos a poner un parking de 230 píxeles o algo así algo que se vea mejor algo que se vea más rápidamente vamos a también la url para decir que esto es un a hr y en él el al sheriff le vamos a poner la url y así pues esto de aquí son urls vale y bueno y ya está vamos a ver y bueno y ahora evidentemente le decimos que el h1 es text align centre y bueno como digo le podemos dar un poco más al estilo evidentemente pero bueno lo importante es que pues lo veamos correctamente en pantalla que veamos que cada práctica tiene como podemos ver ahí su enlace y a partir de aquí pues podemos sacar como podemos ver o bien el enlace para ver el vídeo o bien podemos ver el vídeo directamente aquí y podemos ver en youtube o desde aquí lo podemos ver directamente en definitiva es un visor de documentos en este proyecto son documentos vídeos insertados incrustados de youtube pueden ser pdf pueden ser xml pueden ser realmente cualquier cosa que queramos que sean