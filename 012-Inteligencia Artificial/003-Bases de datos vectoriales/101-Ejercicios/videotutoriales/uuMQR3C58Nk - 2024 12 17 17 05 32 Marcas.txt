Así que vamos a ver un momento porque ya que estamos igual acabo antes así add ad js to array on local storage Y entonces vamos a ver si chat gpt Me detecta más rápido d estoy fallando a Ay esto Ah ese es el problema parece vale Okay esto es cierto Vale pues vamos a verlo confirmar un click hago así vale vamos a ver si ahora funciona correctamente recargo voy a cargarme carrito por si acaso carrito fuera bien me voy a alis Blue confirmo Ahora sí y tengo un array que tiene un producto pero ahora me voy a programación me voy a cadet Blue le doy a comprar le doy a confirmar y veo que ahora tengo dos productos en el carrito y ahora en programación me voy a dar caki y me voy a comprar y me voy a confirmar y ahora tengo tres productos en el carrito es decir en este caso lo que está ocurriendo es que pues cada vez que añado un producto al carrito ya os digo que de momento la interfaz es muy vale muy marronera Pero más adelante a lo largo de Entre hoy mañana y pasado pues le daremos más cariño al css del carrito de compra y por tanto al final pues le daremos más fuerza bien una vez que tenemos esto Una vez que tenemos esto a continuación lo que vamos a hacer es por ejemplo aquí abajo Añadir el procesar el carrito vale se puede Añadir por aquí flotante o se puede añadir por aquí anidado se puede Añadir donde se quiera yo por tanto lo que voy a hacer ahora es lo siguiente ahora a continuación copio y pego y 104 listado de elementos en el carrito y en el listado de elementos en el carrito cierro esto por aquí me voy al 104 listado de elementos en el carrito me voy al Front me voy a módulos me voy a tienda y en tienda aquí por ejemplo por alguna parte me voy a eh div ID corrito y div aquí por ejemplo puedo poner div ID datos producto actual Vale y div un poco más que nada para estructurar correctamente y organizar correctamente y que todo tenga una jerarquía y que todo tenga un sentido vale Así que ahora dentro de carrito una vez que tengo Claro que lo voy metiendo todo dentro del carrito correctamente Pues ahora en js puedo venir por aquí y decir listo los productos existentes y digo led productos es igual a local storage get item clave almacenaje led productos js es igual a jsps de productos y console.log productos Jason vamos a verlo nos vamos al producto nos vamos a la versión Front me voy a programación me voy a alis Blue vale me voy a la tienda al carrito y veo que aquí en la consola pues veo que aparecen no perdón Esto no es le doy a confirmar y veo que aparecen aquí cuatro productos confirmados lo cual quiere decir ahora que voy a Añadir estos productos al carrito dónde está ese carrito se llama vale carrito Así que digo led contenedor es igual a document selector carrito Y entonces digo productos jas punto for each function producto y entonces digo algo así como contenedor Push m l más igual uso el truco del accento vert porque estoy un poco vago hoy y digo article h4 p p Class descripción Class precio y aquí utilizo el truco otra vez del accento vert para decir producto punto título es título no Nombre producto punto descripción y producto punto precio con lo cual recargo y cuando le doy a confirmar veo que aparecen todos los productos que yo hasta ese momento he comprado voy a volverlo a hacer voy a reiniciar me voy a application me voy a carrito borro carrito me voy a la página principal me voy a comprar Alice Blue compro y le digo confirmar y aquí me aparece Alice Blue ya como carrito preparado para procesar pero quiero comprar más me voy a programación y me voy a comprar Dark kaki así que me voy a comprar le doy a confirmar y me dice Vale pues hasta el momento tienes Alice Blue y tienes Dark aki es decir son los productos que hasta este momento has comprado Vamos a ponerle un precio a Dark kaki eh Dark kaki lo Quiero vender por eh No sé 120.00 Uy tampoco Qué pasa Qué quieres pues no sé 20 Te parece bien claro como le he puesto cuatro son cuatro contando los decimales bueno no pasa nada Pues ya le pondré eh un límite mayor bien si ahora recargo vale veo que al poner Dark aquí pues veo que ese precio claro aquí lo he comprado cuando valía cero tendría que reiniciar vale aparece la memoria aparece el registro de todos los productos que tenía en mi carrito de compra a continuación pongo el precio a continuación digo led total carrito es igual a cer Y entonces digo total carrito más igual a producto punto precio y entonces al final digo tienda carrito div ID total y entonces en total le digo document query selector total punto text content entonces digo el total de tu carrito es de más total carrito más euros y vamos a ver si funciona borro el carrito me voy al principio y digo vale Quiero comprar el producto alis Blue confirmo y el total de tu carrito es de 090 vale Okay No es Okay ahora veréis por qué no es Okay pero es un problema que hemos tratado anteriormente repetidamente en la asignatura de programación Ahora me voy a productos Quiero comprar Dark kaki me voy a comprar quiero confirmar y ahora tu el total de tu carrito es un número que no se puede decir vale Por qué Pues porque lo que ha ocurrido en este caso es que el sistema está interpretando que los precios son strings y por tanto está encadenando strings Vale entonces eh Te cuento Fran que acabo de ver tu acabo de ver tu duda el local storage dura indefinidamente vale se le puede decir cuánto dura con lo cual al cerrar el navegador te digo yo que no se borra hasta donde yo sé eh dura de forma indefinida hasta que borres la memoria temporal del navegador Pero puede durar días vale por tanto no es como el session storage vale tenéis aquí otra mecánica que es el session Store dónde podéis guardar datos hasta que se cierra el navegador ojo igual os interesaría más un session storage porque igual diréis es que realmente no me interesa tener un carrito de compra que me dure hasta mañana o hasta pasado sino que cuando te salgas pues se borra el carrito de compra vale o no lo sé pero En definitiva que sepáis que tenéis tanto local storage como session storage el local storage Pues también está pensado para guardar información que te la sigas encontrando mañana maana te hablo de un carrito de compra como te hablo de otras muchas cosas que puede tener una web vale por ejemplo mi aplicación Dark kaki Mira si yo voy a jara.com bargar caki pues es una aplicación de toma de notas vale con lo cual hago un panel nuevo y digo panel dam añado una etiqueta y pongo Hola qué tal Y entonces yo ahora Perdón yo ahora salgo cierro abro y me encuentro la nota en el mismo sitio Por qué Pues porque me voy a local storage y dentro de local storage hay un Dark kaki panels que tiene los paneles y tiene el último panel Vale y cada uno de ellos Pues tendrá sus etiquetas y sus movidas y sus lo que sea Vale entonces quiero decirte con esto que un local storage pues no solo para guardar e un carrito de compra sino que hay muchas otras cosas en javascript que se pueden guardar vale bien entonces Eh bueno os decía Estaba arreglando el problema del tipo de dato el tipo de dato pues simplemente se arregla con un parce float entonces hacemos un pars float es decir lo pareamos como número para que no lo interprete como cadena vuelvo a empezar me voy a carrito delite vale me voy a programación me voy a list Blue me voy a comprar me voy a confirmar y el pedido es de 90 eur vale luego me voy a programación me voy a dar kaki y entonces compro y entonces confirmo y entonces tu pedido es de 110 que son pues 90 + 20 vale Así que pues En definitiva como os digo eh La idea es esta vale la idea es que mediante el carrito de compra pues podemos ir aumentando poco a poco el carrito y al final obviamente pues colocaremos un botón que será por aquí Button buton procesar pedido y de procesar pedido vale Confirmamos y procesar pedido lo que hará en ese caso es que pues ya pasará a la siguiente fase del proceso de compra que será vale pues el total de tu producto es este dime tus datos Ponme tu nombre Ponme tus apellidos Ponme tu identificación fiscal y al pulsar enter o al pulsar enviar pues pueden pasar muchas cosas vale Y cuando digo que pueden pasar muchas cosas pues lo que quiero decir es que eh có te diría yo pues te le puedes llevar a una pasarela de pago le puedes llevar a PayPal o le puedes decir en breve te de enviar haremos por correo electrónico las instrucciones de pago yo que sé vale es decir la lógica de negocio de una tienda online pues no es una sola sino que puede ser las que queramos de momento voy a empezar a implementar ese siguiente paso así que copio y pego 105 datos del cliente y en datos del cliente en datos del cliente Voy a crear un formulario que estará oculto y en un momento dado mostraré tienda php vale Y aquí voy a decir eh form ID datos cliente form de momento no me hace mucha gracia que sea un form vamos a hacer un div datos cliente y digo input type text name eh nombre name s nombre Place holder datos del cliente Perdona nombre del cliente vale hacemos así nos vamos a la siguiente datos del cliente Front compro un producto me voy vale nombre del cliente ahí empieza a aparecer es un formulario muy espartano h3 datos del cliente para la compra vale doos del cliente como para la compra como os digo de momento estoy formateando El html crudo para luego pues darle más diseñito con css y el diseñito css que lo haremos entre las clases de mañana y pasado pues lo Tendremos que cuidar mucho y lo Tendremos que hacer muy bonito para que sea atractivo vale hoy en la sesión de hoy de marcas sobre todo me interesa que funcione vale me interesa que esto pues esté en funcionamiento y sea Pues lo que nos dé tiempo en la clase de hoy pero un proceso de compra mínimamente funcional y entendible dentro de lo que se pueda vale continúo y pido datos name apellidos del cliente type email name email del cliente y ya está quiero decir cuando digo ya está quiero decir que los datos que se recogen para una compra pues pueden ser muchos o pueden ser pocos dependiendo de lo que queráis Por ejemplo si estáis vendiendo un producto físico Pues evidentemente tendréis que preguntarle por la dirección de envío al cliente comprador pero si es un producto digital pues Qué necesidad hay de pedirle una dirección física A menos que vayáis a emitir una factura en cuyo caso sí que se necesita una dirección física pero por eso digo que ahora mismo no he llegado todavía a ese punto Vale ahora mismo Solo me interesa demostrar que podemos recoger datos Y luego más adelante podemos ampliar este formulario tanto como queramos bien button enviar y ID enviar datos por tanto Cuando vengo por aquí veo que hay nombre de cliente apellidos de cliente email de cliente enviar datos es decir eh confirmo vale proceso pedido me Mostrar los datos con lo cual Dame tus datos de cliente enviamos y ya consideramos que el pedido se ha enviado correctamente además pues Le podremos enviar un correo al cliente de confirmación otro correo al gestor de la tienda para que sepa que ha recibido un pedido en fin eso ya es un poco como queramos vale otra cosa que os digo es que pues evidentemente Tendremos que formatear darle css más bonito a este formulario pero como os digo no es algo que me preocupe ahora mismo Vale y de hecho voy a simplemente pinchar el botón de enviar asegurar que puedo recoger los datos Y ya nos vamos a hacer el css más bonito vale Y ya mañana lo meteremos en base de datos y nos aseguraremos de que nos llegan pedidos al panel de control y todo eso que hoy con esto pues ya hemos avanzado un buen rato así que al pulsar el botón enviar esto es ID email cliente esto es ID apellidos cliente esto es ID nombre cliente vale Y en nombre bueno Y en todo esto al enviar datos digo lo siguiente document query selector enviar datos onclick es igual a function Y entonces digo vamos a ver J son led J son es igual a Ray vacío a objeto vacío realmente Y entonces digo Let nombre es igual a document query selector nombre cliente punto value Let apellidos es igual a apellidos cliente punto value Let email es igual a email cliente value y entonces digo js es igual a nombre dos puntos nombre coma apellidos dos puntos apellidos coma email do pun email y console.log son y ya está Vale esto es hasta donde quiero llegar en cuanto a programación en cuanto a lógica en la clase de hoy es decir console.log mañana le enviaremos al servidor el siguiente pedido recargo Vale y nombre cliente José viicente apellido carratalá email info @ Vicente carratala le doy a enviar le doy a enviar y mañana le enviaremos al servidor el siguiente pedido y un pedido a nombre de José Vicente eh apellido carratalá email info @j viicente carratala comom y de hecho si queréis incluso me cuesta poco decir es que no solo te voy a enviar este esta información sino que en productos vale en los productos que has pedido pues te voy a enviar momento que te lo digo Aquí te voy a enviar el jsps de local storage get item carrito es decir recargo y te digo que José viicente carratala info @josé cente carratala comom le doy a enviar y te digo Mira te voy a enviar que José viicente carratalá con el correo info @josé viicente carratala punc com ha comprado cuatro productos donde cada uno de los productos que ha comprado son estos de aquí quiero decir que gracias al formato json pues vamos a poder enviar una estructura de datos todo lo compleja y todo lo profunda que en un momento dado queramos y necesitemos y el servidor pues evidentemente estará procesado estará preparado para esa Estructura de datos Y para guardarla en la base de datos Y para hacer todo lo que sea necesario vale bien entonces una vez que hacemos esto Una vez que hacemos esto Vamos allá vale a continuación Vamos a darle un poquito de css vale para acabar la clase de hoy entonces en el css vale lo que vamos a hacer en este caso Vamos a darle un poquito de css para el carro y 106 css carrito de compra vale no le he puesto ninguna imagen al producto todavía mal por mi parte eh dónde estás e espera espérate cómo que vale carrito de compra Front Ok programación Alice Blue y compro vale Bueno pues vamos a ver cómo lo hacemos sabes qué Estoy vago estoy vago procesar pedido confirmar vale control u hago así create a professional looking css for product listing and the cart original module for shopping cart has this code me vengo por aquí le doy el código del módulo correspondiente okay and dynamic js is vale Y así el sistema sabe cómo se Puebla Okay Vamos allá ahora si todo va bien pues me dará un css me dará de hecho el css para tienda css ya que estamos a ver si es cierto que yo creo que sí y tiene una pinta Guay un momento Okay copio código me voy a carrito css a tienda css vamos a probarlo recargamos Oh qué Guay Vale pues Ahora luego pondremos una imagen pero bueno de momento no tiene mala pinta el header me lo ha machacado un poco vale No pasa nada eso luego se puede editar podemos ver cuál es la colisión Así que le digo confirmar al confirmar aparecen los productos en el carrito luego ya os digo que podemos poner una imagen en la izquierda para cada producto al procesar pedido pues en este caso aparecerán los parámetros y en datos del cliente José viicente carratala info @josé viicente y enviar vale Y ahí aparecen los datos del pedido y la compra eso es por eso que os decía que el css me es un poco lo de menos porque sé que luego pues lo vamos a poder hacer bonito en este caso cuidado porque me ha puesto algo de código aquí está que me está machacando un poco creo que s este a ver no tengo heer no con lo cual voy a quitar el body de aquí y No todavía no Body background color no sé por no sé quién colisiona no sé quién colisiona heeder quién me está colisionando tienda php heeder ahí está tienda php dónde tienes header no Ah tienda php Perdón vale a ver header contenedor ahí puede estar el problema ahí puede estar el problema porque esto es Main contenedor Ahora sí vale Así únicamente me formatea el del contenedor y ahora Pues básicamente lo que quería bueno dos cosas vale primero solo aparece el botón de o sea solo aparece el listado de productos cuando pulso el botón de confirmar no quiero que ocurra eso y eh Solo debería aparecer los datos del cliente cuando le doy a procesar pedido vale Entonces vamos a hacer un par de mejoras funcionales entonces 117 mejoras en el carrito y por tanto en mejoras en el carrito 117 mejoras en el carrito vale módulos tienda Okay Vale y digo vamos a ver esto de aquí listo los productos existentes esto debería ejecutarse siempre por tanto fun listado productos lo extraigo como una función ya sabéis lo del tema de la reutilización lo extraigo como una función y por tanto si ha ido bien y no tiene dependencias externas que igual sí lo ejecuto cuando se pulsa confirmar y cuando un momentín y cuando arranca el programa porque cuando yo voy a esa página le de a confirmar o no le de a confirmar Yo quiero ver mi carrito Es decir me voy a programación me voy a Alice Blue me voy a comprar y Hola No estoy viendo el carrito vale Ok console clave almacenaje ok venga clave almacenaje claro clave almacenaje se ha quedado por aquí clave almacenaje es carrito Okay me la pongo aquí a ver ahora vale recargo y veo el listado de los productos y si confirmo que quiero el nuevo producto pues Vale en ese caso aparece el producto abajo del todo y siguiente ahora borraré el carrito pod hacer un botón para borrar productos sin ningún problema vale Y al procesar pedido yo digo que datos cliente le digo display know vamos a ver datos cliente Ah datos cliente Perdón es unid display y cuando le doy a procesar el pedido cuando sobre procesar pedido a ver cuando sobre procesar pedido Cómo se llama procesar pedido hago click en ese caso me voy a document query selector datos cliente punto Style display es igual a block esto quiere decir que voy a borrar el pedido local storage carrito delete vale recargo bien vamos a empezar me voy a página principal me voy a programación Quiero comprar Alice Blue vengo aquí no tengo ningún carrito nombre del producto e no me está cogiendo espera nul vale for it un momenti ahí pasa algo me debería haber cogido el nombre del producto vale vamos a ver por qué nul 305 algo se me ha fastidiado vamos a ver 305 productos Ah sí No pasa nada vale Okay Vale confirmo No claro No puedo porque no tengo nada entonces tres 07 vale productos J son for each productos J son forage dónde estás aquí vale aquí If productos jas punto length o productos J son no es igual a undefined en ese caso ejecútese programación Alice Blue compro no tienes productos en el carrito vale confirmo ahora tengo el producto Alice Blue y el total de mi carrito es de 90 fantástico Ahora me voy a programación y quiero comprar daraki compro daraki quiero confirmar una compra de 20 me ha metido dos veces a is Blue vale Ahí tengo que ver por qué tengo ahí algún problemilla pero bueno no pasa nada el total de mi venta Ah sí ya sé por qué es que me tenía este y luego además he puesto estos dos vale No pasa nada vaciar para que me meta solo uno porque el total si os fijáis sí que es correcto que son 90 + 20 que son 110 vale Ahora quiero procesar el pedido al pinchar procesar el pedido aparece dime tus datos de la compra nombre José Vicente carratala y email del cliente info @jose viicente carratala comom con lo cual le doy a enviar y mañana procesaremos el siguiente pedido en el servidor donde lo guardaremos y lo validaremos y Vale y aparecerá en el panel de control para que podamos procesarlo y todo eso así que poco más por hoy porque ya hemos tenido bastante por hoy ha sido bastante intensa la clase de momento como estáis viendo pues hemos implementado la primera parte de un carrito de compra un carrito de compra en el cliente en el lado del cliente pero un carrito de compra visual no funcional de momento porque de momento Esto no se está llevando ninguna parte no se está guardando en ninguna parte pero mañana obviamente lo que haremos es pasar el carrito de compra del cliente al servidor y lo meteremos en la base de datos y haremos que sea real y que luego el administrador de la página pues vea un pedido recibido en el panel de control y lo pueda procesar vale poco más por hoy como os digo nos vemos en las clases de mañana ya sabéis as Sao como siempre de 3 a 9 y el jueves de tra nueva igual y con el objetivo Pues de que nos dejemos el proyecto lo más avanzado posible antes de que lleguen las festividades de Navidad y que por tanto pues cada uno en Navidad pueda ir trabajando con libertad y pueda ir dándole forma al proyecto y aquellas personas que llevéis el curso bien pues aprovechéis Navidad para darle forma y aquellas personas que ya no lleven el curso tamb bien pues pueden aprovechar Navidad para ponerse al día de los contenidos del curso vale Así que como os digo poco más por hoy y nos vemos mañana por la tarde a las 3 vale chicos al esta ahora me quedo yo aquí conectado porque ahora en 20 minutos continuo con los segundo con lo cual pues me quedo yo por aquí vale esta hora