a ver una vez que tenemos ya estas fórmulas afinadas para la equis para la y voy a hacer una prueba voy a hacer una prueba me voy a arriba del todo eso es y aquí lo que voy a hacer es que voy a dibujar un píxel esto no espera que estoy con la brocha lápiz y voy a dibujar otro por ejemplo por aquí en aquí pues en 31 voy a ver si me deja llegar a esa carpeta más cara para no tener que ir copiando cada vez img mapas mapa 2 y vamos a comprobar si es cierto recargamos y 0 y 6 1 parece que efectivamente esas fórmulas están funcionando correctamente bien pues ahora ya lo que quiero es devolver el mapa 1 sabiendo que las fórmulas que nos dan son correctas aquí tenemos todas las todos los píxeles digamos que estamos encontrando y ahora por tanto lo que quiero es con esta información por cada uno de los píxeles negros que me encuentre aquí quiero dibujar un terreno isométrico dentro del canvas correspondiente que por cierto vamos a comprobar que está en el sitio tenemos contenedor tenemos fondo lienzo al lienzo fondo correcto y enzo fondo en este caso no pasa nada esta vamos a verlo y en fondo y en condiciones iniciales contexto fondo y aquí vamos a decirle que el lienzo fondo también se beneficia de esa ampliación automática en base a la pantalla con solano contenedor pienso fondo y lienzo perfecto ahora por tanto me voy a funciones me voy aquí a este digamos esta función y ahora para cada uno de estos bloques lo que quiero es contexto fondo punto draw image y quiero dibujar el que se llama bloque lo que 9 en iso x de x y eso y de equis y esto no va a funcionar pero no va a funcionar no va a funcionar muy bien por la sencilla razón de que yo estoy digamos convirtiendo cada píxel en cada pixel isométrico y eso no puede ser porque cada uno de estos píxeles tiene un píxel de anchura pero como hemos visto los sprites que estoy definiendo pues evidentemente cada uno de estos price tiene pues creo que son 256 píxeles de anchura vamos a ver eso vamos a ver en qué se traduce eso así que recargó vamos a verlo por aquí de momento no he visto nada para hacer en pantalla no hay ningún error en consola vale voy a ocultar vamos a ver voy a ocultar el fondo voy a no dibujar el fondo para asegurarme que el fondo no me maría recargo y ahí es lo que he hecho esto no lo he visto antes no sé si estaba ocurriendo pero es que igual el fondo me estaba mareando no lo sé vamos a verlo a no ser que el fondo me estaba tapando pues menos mal que he quitado esto 449 cuadrado no me cuadra vamos a verlo fondo y en fondo y lienzo en principio el fondo debería estar atrás este debería estar por encima pero el problema es que el lienzo fondo no tiene la información de posición absoluta el lienzo fondo ahí está el problema voy a bajar esto a líneas y ahora y en su fondo expósito en absoluto 20 píxeles led 0 píxeles recargamos y ahí empieza a aparecer entonces ahí lo que tengo es que de hecho ahí realmente hay en esa parte de ahí no sé que tengo pero lo que me cuadra es esto de aquí he hecho eso de aquí no sé si lo ves pero es como el dibujito del burrito ese que he hecho en el game esto es lo que ya te digo que no me acaba de cuadrar mucho pero bueno ahora veremos lo que es entonces claro esto ha salido así porque yo en funciones le he dicho que la equis es la x la y griega voy a poner 10 no sea suficiente todavía pero voy a poner días recargo vamos a ver claro ahora se habrá ido vete saber dónde no veo no nos bajo es otra repetición del fondo voy a hacer una cosa ahí está vale 3 hay vales está lleno y ahí sí lo empezamos a ver lo que está haciendo aunque todavía no está preparado aunque todavía nos está contando correctamente pero lo que está haciendo es dibujar crear una cada uno de estos elementos isométricos pero con cada uno de los píxeles claro lo que está ocurriendo ahí evidentemente es que me lo tengo que llevar un poco al sitio no pasa nada porque para eso tenemos la función que podemos utilizar de desfase con la función de desfase lo que puedo hacer es re cuadrar el fondo ahora creamos un desfase pero de momento lo que quiero teniendo en cuenta que el punto original el punto cero está ahí pues bueno lo que quiero es llevármelo entonces quiero decir que vamos a hacer la anchura bloque es igual a 100 y ahora pongo aquí la anchura bloque ahora se me va a ir completamente de la pantalla pero la idea pero es más se salva el completamiento de la pantalla lo voy a crear allá arriba abra el mapa de hecho cojo esto me lo llevo y así por lo menos un poco pero tengamos localizado y luego ya así eso pues ya trabajaremos el desfase así que sobre escribo recargo bien y ahí empezamos a tener eso y como podemos ver pues lo que ocurre en este caso es que estamos empezando a pintar cada uno de los cada uno de los bloques bien vamos a ver 80 ahí de hecho voy a poner momento 40 más que nada porque quiero que veas es que no sé si lo ves ahí como realmente el dibujo que estoy haciendo es el dibujo que toca realmente aunque sale un poco ahí distorsionado x y eso xx y vale pero por lo menos empieza a ser ese dibujo o por ejemplo si yo vengo ahora aquí al game vamos a empezar con algo más sencillo si quieres si vamos a verlo vamos a ver momentos laterales de momento voy a hacer una cosa así que sí que efectivamente parecía como que había altura entonces voy a pintar algo sencillo voy a pintar 3 x 3 y así un poco pues vamos a poder ver bien si está saliendo lo que toca y fíjate que sí que sale no sé si veis 1 2 y 3 y 1 2 y 3 hay una cosa que no me acaba de cuadrar mucho y es que la distancia en este eje no parece la misma distancia que en el otro eje y no debería ser evidentemente vale y también vamos a la consola y así un poco evaluamos el resultado vale y esto es 2 4 6 es el problema no es correcto y eso quiere decir que esta x no tendría que multiplicar la x 2 aguas y ahora sí ahora si es un 2 3 1 2 3 en la y 1 2 y 3 y ahora sí que podemos poner con tranquilidad cualquier tipo de terreno digamos sabiendo que saldrá correctamente entonces ahora sí que podemos ya empezar a buscar la longitud del mapa el original recuerda que es d de 256 y ahí el sprite que he dibujado pues probablemente habrá que afinar lo un poco y luego quiero decir que no tiene por qué coincidir perfectamente y luego también te digo que recordamos que en el propio drogba image yo puedo elegir anchura bloque bar anchura dibujo que soy mala por ejemplo 30 entonces tengo por aquí y pongo anchura dibujo como anchura dibujo y fíjate como yo puedo elegir digamos cuánto me va a ocupar realmente cada sprite y por tanto yo puedo ir jugando con ese tamaño ahí lo tenemos por ejemplo si yo ahora vengo por aquí alguien a partir de aquí voy a dibujar un pequeño terreno será así y así digamos la plataforma que dará acceso a una zona más grande pues sobre escribo les voy a recargar y fíjate como pues me va a generar un mapa de ladrillos que luego va a reemplazar a este de aquí pero con el dibujo que quiero es decir ahora vengo por aquí y ahora puedo ir extendiendo el mapa voy a extenderlo por aquí y ahora hago así y creo un pasillo y fíjate que de esta forma una vez que hemos sufrido al principio una vez que hemos tenido que programar la primera parte que ha sido dura pero luego lo vamos a poder disfrutar en el sentido de que yo lo que dibujó en el gimp automáticamente se va a convertir en un mapa en isométrico y te digo más y cuando además de vivo que se va a convertir en un paraíso métrico quiero decir que fíjate que yo ahora mismo estoy creando píxeles negros pero luego puedo jugar y puedo decir bueno si te encuentras un píxel negro crea una pieza de terreno pero si te encuentras un píxel verde pues crea un enemigo y si te encuentras un píxel rojo pues crea un recogí blé con más vida y sic y si te encuentras con un no sé qué es lo que quiero decir vale entonces hay la idea es que ahora lo que voy a hacer es quitar el fondo voy a poner un degradado de fondo voy a hacer un 2048 x 2048 y ya nos vamos a empezar a quitar un poco el fondo que teníamos antes y te digo más ahora a continuación otra de las cosas que vamos a hacer es comparar cuál es la posición del personaje con respecto a los sprites y decir oye la voz de mi personaje está dentro de un píxel negro pues no pasa nada estás en la plataforma pero la posición del personaje se sale del pixel negro y entra en un pixel transparente pues te has caído y entonces me hace esa animación de que te caes hacia abajo vale decir la idea de que trabajar con el tipo de mapas está súper bien porque a partir de aquí podemos hacer como verás pues lo que queramos entonces vengo por aquí voy a pintar voy a hacer un degradado puede ser un degradado clásico ya él como el que hicimos otro día pero sin aquí sin un fondo realmente crea una capa nueva la pinto de color gris juego con la transparencia y una cosa así más o menos y esto lo voy a guardar en mi vejez como fondos como solo degradado no saberlo por aquí me voy a estilo me voy aa fondo degradado no sólo degradado y voy a decir en este caso que background size verás vamos a ver si yo no le digo esto recargo ahora sólo tengo el degradado de fondos es genial y algo así y llega momento que se repite cuando se acaba se repite yo le voy a decir background 6 100% 100% para que el fondo se adapte automáticamente a la pantalla y así siempre tengo ese degradado de fondo si habrá por ejemplo empieza a jugar vamos a verlo