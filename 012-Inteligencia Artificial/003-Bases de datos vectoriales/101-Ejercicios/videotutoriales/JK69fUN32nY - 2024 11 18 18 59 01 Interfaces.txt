Vale pues vamos con diseño de interfaces voy a cerrar por aquí Android y tal vamos a ver vale exit por aquí terminate en el emulador vamos a trar cosas que siempre se acumulan sí guardar esto lo podde trar esto es Google Drive esto es incape va esto es am mobils Okay vale Y esto es la pantalla y esto github que ahora luego haré un Push bien en desarrollo de interfaces como veíamos antes como veíamos hace un rato en el temario hay un punto muy concreto y en el que muchas veces los programadores no caemos vamos a ver y desarrollo de interfaces Qué es la generación de informes entonces eh í Uy dónde estás aquí en cuanto a lo que es la creación de informes fijaos que desde el primer subpunto no voy a empezar por ahí Obviamente que es informes incrustados y no incrustados en la aplicación Qué aplicación Vale pues la aplicación crimson o la aplicación que sea que genere informes pero en primer lugar Qué es un informe pues un informe es una vista de los datos que genera la aplicación de una forma que esos datos sean fácilmente entendibles no Ya por una máquina sino por un ser humano dentro de los informes vale herramientas integradas en el ide externas al mismo estructura general secciones vale un informe Generalmente tiene secciones Así que cuando hablamos de un informe Generalmente estamos hablando de un documento Y si hablamos de un documento pues realment hablamos de html o de xml a partir de aquí las los informes suelen filtrar y agregar y conte datos Y cuando filtramos datos en ese caso Generalmente los queremos hacer o bien a partir de aquí en Tablas o bien a partir de aquí en gráficos Vamos a entrar un momento en Google voy a buscar informe y a ver tiene un informe vamos a ver informe rp esto es la pinta que tiene un informe de un rp vale un informe de un rp pues es algo que tiene una tabla en la tabla pues suele haber sumatorios suele haber conteos suele haber pues lo que sea vale Qué hay en html hay tablas pero no hay automáticamente cuente ni hay números de fila si los hay los tenemos que hacer nosotros Qué hay también en un informe hay gráficas y nosotros nos podemos hacer gráficas pero no hay un elemento en html por defecto que sea gráfica de tarta o gráfica de barras nos lo tenemos que hacer nosotros Cuando digo nos lo tenemos que hacer nosotros quiero decir que para empezar está clarísimo que hay existen librerías sin ir más lejos el año pasado vosotros conmigo visteis aunque igual un poco tangencialmente pero visteis que hay una librería para python que se llama matplot Li que hace gráficas brutales y con una sencillez bastante elevada también vale con poco esfuerzo por vuestra parte podéis obtener gráficas bastante chulas pero el objetivo este año no es utilizar una librería eso ya lo aprendimos en primero hay muchas librerías de gráficas además el objetivo es aprender a generar nuestra propia librería de gráficas vale esto es más o menos un informe esto es otro informe vale por ejemplo momentín pues vemos que un informe tiene pues una gráfica y tiene tablas Vale qué más tenemos bueno Esto es un poco más una ilustración pero básicamente Pues en un informe pues como veis un momentín vale como veis Aunque muy a nivel ilustrativo Pero hay gráficas verticales barras horizontales vale histograma eh histograma con o sea barras con línea tarta y luego hay tablas donde las tablas tienen que ser Pues lo más claras posibles porque no es lo mismo una tabla de digamos del crm o del rp que una tabla de un informe que tiene que tener numeritos tiene que tener sumatorios tiene que tener vale lo que sea insisto podemos abrir tantos vale tantos como queráis pero amente pues vamos a ver siempre lo mismo que los dos componentes iniciales que tenemos en un informe son tablas y son gráficas bien para ello a continuación estoy abriendo vale por ejemplo cosas como esta para que veáis que siempre lo que tenemos es lo mismo gráficas y tablas qué es lo que vamos a hacer a continuación pues vamos a empezar a crear nuestras propias librerías de eh de gráficas y de tablas y esas librerías obviamente pues como veréis dentro De nada de tiempo lo que haremos es incrustar losos en una aplicación en qué aplicación Pues en crimson ya que estamos haciendo una aplicación empresarial pues tenemos ahí una oportunidad fantástica para de paso implementar la librería que hagamos para ello me voy a hedit bueno en primer lugar me voy a desconectar del servidor Okay Vale me voy a hedit me voy a ir a dam me voy a ir a segundo me voy a ir a desarrollo de interfaces me voy a ir a creación de informes y por ejemplo aquí en gráficos me voy a crear pues archivo nuevo 001 tarta html Entonces qué ocurre entonces lo que ocurre doc type html Head Body y body entonces resulta que anteriormente en este curso en otras asignaturas tales como por ejemplo el multimedia hemos visto que hay un recurso fantástico que se llama Canvas donde podemos pintar y ese pintar hasta el momento nos ha servido para hacer videojuegos pero el mismo Canvas que en multimedia nos ha servido para hacer videojuegos resulta que en aplicaciones empresariales y en desarrollo de interfaces nos puede servir para hacer gráficas vale Así que a continuación me vengo aquí voy a hacer un Script Y en este Script voy a hacer lo siguiente led Lienzo es igual a document query selector y eh Lienzo a continuación Lienzo wif es igual a 512 eh Lienzo H es igual a 512 y pues Lienzo Style Border es igual a un Pixel solid Grey por ejemplo vale Y ya está y LED contexto es igual a Lienzo getcontext 2D OK Vamos a probarlo nos vamos a local Host me voy a segundo me voy a sistema no me voy a desarrollo interfaces me voy a creación de informes me voy a gráficos pincho Vale y de momento tengo un Canvas no tengo nada más que un canvas pero ahora lo que voy a hacer es pintar Así que 002 eh pinto vale pinto de momento un círculo Así que le digo m contexto pun beginpath contexto arc desde Oh vaya vamos a ver led anchura es igual a 512 Let altura es igual a 512 por tanto esto es anchura Y esto es altura Perdona Y esto es altura y ahora esto es anchura partido 2 coma altura partido 2 coma 0 coma má punto pi por 2 que es el círculo completo desde el ángulo C hasta el ángulo 2 Pi radianes y ahora digo contexto punto Fil bien si hago así y recargo la siguiente versión veré que Ah perdón el radio Esto está mal anchura 2s vale Y Eh Pues voy a decirle anchura partido 2 - 50 vale vamos a verlo y No todavía no Qué ha pasado algún error coma qué pasa anchura coma do altura partio 2s cuidado aquí vale Ok Vale y sale un círculo de color negro Pero además de que sale un círculo de color negro en un momento dado Pues yo puedo cambiar el color vale Así que 003 cambio de color esto quiere decir que yo ahora puedo venir a contexto F Style que es igual de momento a red quiere decir que ese círculo no tiene por ser de color negro sino que puede ser de color rojo vale bien una vez que tenemos esto Una vez que tenemos esto ahora a continuación yo puedo hacer un segmento vale segmento de círculo y yo puedo decirle begin path contexto pun mve to move anchura 2 altura 2 vale contexto arc desde esto hasta vamos a ver hasta maz punto pi por un por 0.23 me lo acabo de inventar 023 Vale y contexto punto Line to es decir parte desde el medio parte desde el centro dibújame un arco y luego vuelve al centro con lo cual qué me va a hacer me va a hacer un quesito vale me va a hacer un quesito de 0.23 radianes quiero decir que si ahora aquí pongo 033 pues me hace un quesito más grande Vale qué estáis viendo pues que evidentemente si tengo un quesito ya me puedo empezar a fabricar una gráfica de tarta vale Y evidentemente como os podéis imaginar voy a hacer una gráfica para luego convertirla en una librería y luego poder reutilizar Tantas veces como quiera esta librería y hacer tantas gráficas como sea necesaria como sea necesario dentro de la aplicación crimson que estamos desarrollando vale No adelantemos acontecimientos pero sí que quiero Obviamente que sepáis Hacia dónde voy bien a continuación me voy a 005 y digo eh conjunto de datos vale Y ahora no solo quiero tener digamos un quesito puedo tener tantos como quiera sino que quiero led datos es igual a un conjunto de datos y digo vamos a ver datos Quiero una estructura de datos vale Quiero un contenedor de datos para tener un contenedor de datos voy a tener una array y dentro de la Ray voy a tener objetos y voy a decir eh texto vale es que estoy pensando texto es porción 1 coma eh valor es 50 coma y ahora yo puedo venir aquí porción 2 valor 40 y no lo s y una cosa así vale Sí me gusta porque así si lo hacemos con objetos luego Incluso le puedo poner otra propiedad que sea los colores vale No lo voy a hacer de momento pero vale Okay venga Así que texto esto es porción 3 y el valor es 140 por ejemplo bien estos son los datos de inicio estos son los datos que voy a alimentar en la Gráfica Así que ahora a continuación vamos a bloquear un poco esto 006 procesamiento de los datos Y ahora digo eh led total es igual a 0 entonces digo datos. for each function dato Esto va aquí y digo total más igual a dato punto valor con lo cual al final yo digo console pun log el número de elementos en el conjunto es de coma datos pun leng Y console.log el total del valor de la Gráfica es de coma total vamos a ver si esto es cierto si yo ahora recargo y hago así el número de elementos en el conjunto es de tres es cierto vale es de tres y el total Es 230 que es 50 + 40 90 140 + 90 230 vale es correcto claro esto quiere decir que a continuación yo lo que voy a hacer es repetir esto de aquí pero no para dibujar un quesito sino para dibujar tantos quesitos como sea necesario vamos a por ello 007 dibujo tantos quesos como sea necesario antes de ello voy a decir console pun log claro no bien espera vamos a por ello este led todo esto de aquí va aquí okay esto es condiciones iniciales vale esto es conjunto de datos a representar esto ahora luego será un parámetro que alimentaremos dentro de la función Okay esto es cálculo de totales y longitud okay Y ahora sí dibujamos quesos entonces digo datos for each y para cada uno de los quesos para cada uno de los datos un queso vale cómo voy a dibujar ese queso vamos a verlo para empezar el estilo es rgb más math pun round de math pun Random por 255 es decir quiero que el color sea aleatorio vale porque si no todos serán de color rojo y no distinguiremos nada bien Es más si queremos puedo decir led r es igual a esto porque si no en esa longaniza que acabo de escribir No entenderéis nada entonces el código de esta manera será más extenso pero también Creo que será más claro rgb rojo verde y azul vale Y así entenderéis que rgb es un Random entre 0 y 255 con entero vale con round bien a continuación Yo vengo por aquí y digo led ángulo inicial es igual a 0 vale que es donde empieza cada quesito y ahora Digo vamos a ver vale led ángulo final es igual a eh es igual a dato punto valor dividido entre total Vale y todo esto multiplicado por ma punto pi por 2 con lo cual esto es desde ángulo inicial hasta ángulo final y después al final de todo esto le digo ángulo final no ángulo inicial es igual a ángulo final lo que quiere decir ahora comento el código lo que quiere decir que cada es como un cursor digamos cada vez que me dibuja un quesito Pues el siguiente quesito no empieza en cero sino que empieza donde se ha quedado El quesito anterior vale Esto es lo que he hecho lo que he hecho Aquí vamos a probar a ver si funciona la primera no creo pero vamos a probarlo eh Wow vale a ver no creo que no es correcto porque a ver vamos a poner console punto log porque de momento me ha hecho un círculo entero pero yo diría que esto no es correcto vale Ah no perdón perdón no no esto es ángulo inicial más ángulo final que tampoco va a ser correcto pero Por cierto Pero bueno vamos a probarlo Vale y ángulo inicial es más o igual a ángulo final momento vamos a ver qué ocurre ahora okay esto Sí ahora sí que es correcto vale vamos a probarlo diréis que es correcto Lo dirás tú vale pues vamos a probarlo aquí le digo eh 25 aquí le digo 25 y aquí le digo 50 probamos y vemos cómo es correcto aquí le digo 33 aquí le digo 33 aquí le digo 33 y vemos que es correcto vale o sea que sí que lo estamos haciendo correcto de momento vale vamos a comentar un poco el código que hemos hecho y entonces digo anchura del Lienzo altura del Lienzo selecciono el Lienzo esto Ahora lo cambiaré le pongo la anchura le pongo la altura un poco de estilo creo un contexto en el que dibujar vale creo un conjunto de datos misterio es un jas y arranco un total a cero y para cada uno de los datos le sumo el total actualizo con lo cual al final Ya conozco el total esto lo puedo quitar sole Vale ahora creo un ángulo inicial Que obviamente vale cer0 empezamos en el ángulo cer0 ahora para cada uno de los quesos para cada uno de los quesos creo un rojo aleatorio creo un verde aleatorio creo un azul aleatorio y ahora calculo el porcentaje de ángulo final pinto el queso digamos le pongo color arranco el dibujo muevo el cursor hasta el centro y dibujo un arco desde anchura partido 2 altura partido 2s el centro con un radio de anchura partido 2 men 50 píxeles desde el ángulo inicial hasta el ángulo final dibujo un círculo vuelvo al centro Lo relleno de color y actualizo el cursor vale para que el siguiente quesito como os digo no me empiece en el ángulo cero sino que me empiece en el ángulo que se ha dejado El quesito anterior vale claro ahora a continuación como os podréis imaginar 008 lo meto en una función lo que quiere decir que yo ahora me vengo por aquí y digo function tarta el function tarta le meto todo esto pero en el function tarta saco los datos y la función tarta aceptará datos si yo ejecuto esto no va a ocurrir nada no va a ocurrir nada pero si yo a continuación ahora 09 llamo a la función en la función yo digo tarta de los datos y tarta de los datos ahora Epa perdón siguiente tarta de los datos ahora funciona vale bien a continuación bueno los colores Por cierto Cada vez son aleatorios esto que quede bien en una aplicación sinceramente va a ser vale con lo cual yo a partir de aquí puedo estilizar lo que quiera lo que me dé la gana como siempre yo estoy diciendo e yo lo hago así vale luego vosotros Insisto que aquí tenéis una barbaridad de oportunidades de imprimir vuestra huella en este desarrollo bien pues yo ahora digo Ok 0 10 acepto parámetro de color inicial Entonces cuál es el color inicial Bueno pues el color inicial voy a poner aquí color y entonces en el color inicial yo a continuación a partir de ahí puedo poner una variación Qué es una variación vamos a ver led variación color es igual a por ejemplo 50 Y entonces a continuación vamos a ver en el color aquí está un momentín porque voy a pedir una cosa chat gpt y voy a decir javascript from input color x Give Me similar color with variation eh int number vale a ver qué pasa Sí pero Uf no no no quiero algo tan elaborado no eh javascript x2 rgb fantástico Esto sí ya está esto sí que es lo que quiero Vale entonces me vengo aquí voy a crear una función auxiliar vale Y ahora a continuación led return rgb Oh fantástico Sí pero no porque esto me devuelve No yo lo que quiero es que me devuelva una rray de rgb ahora sí vale entonces si me devuelve un array yo ahora a continuación le digo rojo es igual a color de cer más punto round de punto Random -0.5 multiplicado por variación dónde estás variación okay hago así y esto es color de uno y esto es color de dos ahora mismo va a fallar porque no le estoy pasando los datos que le he prometido vale bien pero ahora vengo y digo eh crimson xcor crimson esto y digo Quiero llamar a la tarta y el color que te paso es este de aquí Okay vale Si todo va bien okay No Mola algo está ocurriendo mal vamos a ver si las letritas tienen que estar en minúscula No tampoco vamos a ver qué ocurre eh Ah sí sí Ah no no vale Okay led color es igual a ex rgb de color vale No claro ya ha sido declarado mi color Vale pues mi color mi color Okay Vale entonces ahí veis que me está haciendo diferentes gradaciones del color carmesí vale luego obviamente yo puedo decirle que por ejemplo variación colores 150 pues en ese caso la variación de color será más grande o puedo decirle que será 20 pues en ese caso la variación de color será más pequeña vale En definitiva puedo controlar voy a poner 100 puedo controlar el color y puedo controlar el eh la variación vale Y a partir de ahí montón más de cosas que se pueden hacer se puede encar un montón más de elementos bien a partir de aquí yo digo vale pero es que esta librería esto ya se va convirtiendo en una librería pero esta librería depende de que haya un elemento llamado Lienzo Y esto no Mola porque Y si quiero generar dos tartas claro tendría que hacer dos lienzos pero cuántos lienzos tengo que hacer bien entonces yo ahora lo que quiero hacer es que la propia creación del Canvas sea dinámica lo cual quiere decir que 011 Lienzo Dinámico y ahora aquí en la tarta voy a decir que en lugar de document query selector Lienzo le voy a decir que document create Element Canvas sí que me va a hacer falta sí que me va a hacer falta un selector entonces Aquí voy a poner div ID contiene gráficas para decirle que el Lienzo create Element Canvas Pues aquí le digo document punto query selector dónde estás selector punto appen Child Lienzo y aquí por lo tanto en la llamada a la tarta le diré que esto me lo pones en contiene gráficas vamos a ver si es cierto Okay Vale pero lo divertido de esto Insisto que lo divertido de esto es que yo ahora puedo venir por aquí y puedo decirle 012 más gráficas que ahora por ejemplo creo otro conjunto de datos y digo esto es pues esto de aquí y esto de aquí y esto de Aquí y ahora recargo y tengo dos gráficas vale Y si puedo tener dos gráficas Eso quiere decir que puedo tener tantas gráficas como me dé la gana Y a partir de aquí es donde empezamos a jugar Y empezamos a reutilizar todo lo que queramos bien Vamos a preparar más esta librería vale para luego su posterior uso en un panel de control dentro de crimson porque yo la continuación voy a quitar la segunda tarta porque ha quedado demostrado que puedo hacer tantas tatas como quiera Vale ahora a continuación yo lo que quiero es tener un poco una leyenda porque tengo unos quesitos de la tarta pero no sé a quién pertenece cada quesito Vale pues para eso es para lo que en el conjunto de datos tengo el texto e incluso el valor vale porque yo lo que quiero es ver en cada uno de los quesos Cuánto vale ese valor para ello a continuación 013 imprimo el texto y entonces digo vamos a verlo esto es el queso OK Y esto es el texto en el texto le digo contexto texaline creo que es texaline si no voy a sacar la html 5 Canvas cheat sheet esta tiene un montón de años vale texto text Aline efectivamente sí Ok venga ahora contexto F Style es igual a white por ejemplo y ahora a continuación digo lo siguiente vamos a ver ahora contexto Fil text quiero Que aparezca en el medio del quesito ahora veréis es un dónde estás Field text texto xy fantástico vale Hola en anchura coma do coma altura coma do altura partido dos lo probamos Okay Vale pone Hola ahí ahora luego veremos que se puede cambiar la Fuente se puede hacer más grande se puede hacer lo que queramos Vale pues ahora eh 04 lo imprimo en el sitio correcto Vale y digo vamos a ver Ya ahora Esto es lo difícil calcular el sitio correcto vale esto es Ah ángulo inicial vale esto no no esto es hostias espérate Ah vale Okay led ángulo texto es igual ángulo inicial más ángulo final partido 2 o sea el ángulo inicial más la mitad del ángulo de este queso y esto es anchura partido 2 más el coseno de el radio Cuál es el radio es este Okay más el coseno esto multiplicado por esto partido por 2 y esto es el coseno del ángulo texto vale Y esto de aquí es lo mismo pero con el seno si esto es cierto recargamos la siguiente versión Okay Vale y nos aparece luego se puede mover más hacia fuera más hacia dentro se puede mover hacia donde queramos otra cosa por cierto Ah no Hola No esto es dónde estás esto es dato punto texto creo que era texto Sí vale esto es porción un porción dos porción 3es Vale ahora a continuación yo puedo decir bueno es que aparte de averiguar el nombre del quesito quiero que me diga la cantidad vale Quiero que me diga De cuánto estamos hablando Pues yo puedo venir por aquí y puedo decir 015 ahora quiero datos Y entonces digo vamos a ver texto eh queso texto queso eh leyenda Vale y digo esto es la y - 30 por qué 30 porque me ha dado por ahí entonces voy a venir por aquí y voy a decir Let altura letra es igual a 30 altura letra Vale ahora esto es texto queso total esto es dato punto valor esto es cer0 y ahora esto es texto queso porcentaje esto es más altura letra y esto es dato punto valor partido total más porcentaje vale vamos a verlo eh siguiente versión no ángulo texto ha sido ya declarado Por qué Porque Au Sí claro rectángulo texto y rectángulo texto Okay Vale bueno Igual me he pasado un poco pero vale Ahí está la cosa igual 30 es mucho vale Voy a ponerle 15 Bueno eso me gusta un poquito más eh luego eh También creo que este redondeo es O sea quiero decir que estos decimales son muy bestias con lo cual Pues yo puedo venir aquí y decir eh A ver js round decimals la forma más sencilla que haya porque hay un montón de formas de d decimales to fix fantástico ya está es la más fácil Vale entonces esto es en el porcentaje vale esto es tu fix a dos decimales Okay fantástico bien pues una vez que tengo esto Una vez que tengo esto claro ahora he hecho una pero probablemente más adelante me gustaría hacer No solo una gráfica de tarta sino me gustaría hacer una gráfica de tarta una gráfica de barras vale esto Qué sería Pues sería una clase vale con lo cual vamos a convertir esto en una clase convertimos en una clase igual hoy no nos da tiempo a hacer la gráfica de barras pero sabemos con los conocimientos que tenemos emos que no hace falta programar lo que va a venir ahora Para saber que meterlo en una clase es una garantía de vale de éxito de que va a ser ampliable así que vengo por aquí y digo 017 clase gráfica y digo Class jv gráfica todo es jv vale jv gráfica y un momento quieto vale Ok vale en el jv gráfica claro esto pasa a ser métodos y de hecho el function X se convierte en un método de la clase Okay Vale Ahora quiero el function constructor momento constructor Ah ya está Vale fantástico pues ya está que por cierto eso quiere decir que me cargo Esto y me cargo Esto vale lo único que pasa constructor vale Okay vale Y mín esto dis pun datos es igual a datos Porque aquí le pongo datos Okay vale Y entonces esto es dis punto datos dis punto color Pues mira ya que estamos dis punto color dis pun selector Vale entonces dis punto color es color dis pun selector es selector y por tanto dis pun color y dis pun selector Y si esto es cierto y si esto es cierto eso quiere decir que Aquí le voy a decir led nuevo gráfico es igual a jv gráfica New jv gráfica y le paso todo esto y ahora le digo de nuevo gráfico punto quiero usar el método tarta por qué Pues porque más adelante además de tarta habrá gráfica habrá línea y habrá un montón de métodos más entonces vengo por aquí vamos a ver si no tengo ningún error clase gráfica error bien dis dónde no te lo esperabas tarta Ah muy bien pues sí que empezamos bien Por qué Porque no te lo esperabas anect token a ver momento Oh No veo no veo cuál es el problema a ver un momento voy a consultarlo porque no me cuadra a ver al alguna tontería debe ser Okay es incorrecta vale Okay bueno vale Ya claro lo que me dice es que Okay puedo los datos dentro no quería hacer eso pero es que no quiero hacer eso en serio O sea sí lo que me dirá es que dis datos pero no apetecía hacer eso pero bueno ya que estamos claro me dirá dis pun datos disex rgb y dis color Vale pues Bueno un poco rollo vamos a ver vale Okay método auxiliar corregido Sí pero a ver tarta hasta el método auxiliar lo sangramos correctamente ejecutamos Okay vale Y ahora sí ya lo tenemos como método bien Si ya lo tenemos Pues bueno probablemente llega el momento de empezar a insertar esto dentro de la aplicación y bueno para insertar esto dentro de la aplicación pues vamos a verlo en primer lugar eh vamos a ver Me voy a ir a local Host crimson envío datos cliente superc controlador vale Y por ejemplo hay varias formas de hacerlo la primera de ellas es que cuando cargo la aplicación Por qué cargo clientes Por qué se carga clientes Pues si nos fijamos se carga porque yo lo estoy cargando manualmente pero en lugar de cargar clientes pues lo que puedo hacer es decir no quiero cargar un panel de control es decir si pongo rp control panel o si pongo rp desktop vale veréis que el panel de control de un crm o de un rp Generalmente está con gráficas generales de cómo está la cosa y luego ya entras dentro de cada o rp desktop vale Y como ya os digo si miráis por aquí pues muchas veces en un panel de control primero hay como gráficas y luego ya pues haí lo que sea Vale entonces para ello Por cierto voy a tocar un momentín una cosita más est que voy a hacer es un capricho porque no me gustan las gráficas de tarta me gustan más las gráficas de anillo Vale entonces Pero mira sabes qué lo puedo convertir vale anillo porque digo bueno Y si no toco tarta y si no toco tarta y me hago me copio este método y me lo pego y no pierdo vale Así no pierdo la tarta y lo llamo anillo Y entonces en anillo aquí lo que hago es que vamos a ver aquí dibujo y entonces this datos for each Vale pues entonces por aquí digo eh contexto punto fill Style es igual a white contexto pun arc eh Perdona contexto pun vin Paz contexto pun arc de anchura partido 2 coma altura pardo 2 coma 0 coma no coma 30 coma 0 coma má punto pi por 2 contexto punto Fil vale con lo cual de esta forma si yo quiero una tarta Me pone una tarta Pero si yo a continuación Quiero un anillo me pone un anillo vale me pone un anillo quiere decir que el centro como estamos viendo pues tiene vale está vacío lo cual quiere decir que yo ahora le puedo decir que aquí que esto es de 100 y por tanto aquí le pondría -2 vale para que el texto momento - 50 vale para que el texto esté un poquito más W no centrado para allá un segundo vale espera porque un momenti anchura partido 2s - 20 - 20 Okay y menos 0 Okay vale una cosa así yo diría + 10 o + 20 y así un poco corregimos la posición del texto en el anillo que obviamente pues no puede ser la misma que en el círculo vale Y ahí como veis Pues tengo dos gráficos tengo dos tipos de gráficos prácticamente con el mismo esfuerzo otra cosa es que vosotros me podríais decir Oye si eh para definir el anillo has copiado Prácticamente todo el mismo código que tarta y lo has pegado y has hecho un par de modificaciones Pues todo parecer indicar que este sería un buen candidato a una refactorización donde saquemos lo que tiene en común el anillo y la tarta lo pongamos en una función abstracta Superior y luego el anillo y la tarta pues solo indiquen lo que tienen de especial vale Sí tenéis toda la razón si estáis pensando eso no lo voy a hacer ahora pero bueno Pero obviamente un desarrollo que podríamos hacer a continuación sería pues mejorar esto desde el punto de vista de orientación a objetos para que sea más escalable vale para que luego pues cualquier modificación que haga afecte automáticamente a los dos tipos de gráfica bien como os decía Ahora me voy a crimson y dentro de crimson pues lo que voy a hacer es pues bueno eso hacer un pequeño panel de inicio no entonces de momento me voy a hacer lo siguiente vamos a ver un segund innn Ok Ok Ah bueno Esto ahora luego lo sacaré a una librería Pero vale pero bien okay de momento bien entonces me voy a dam me voy a segundo me voy a sistemas de gestión empresarial me voy a proyecto y ahora a continuación me voy a 97 integramos vale Y en integramos gráficas me voy a cliente y en superc controlador en librería me voy a crear una nueva carpeta llamada jv gráficas o jv gráficas creo que se llama en plural eh No gráfica vaya gráfica Bien dentro de jv gráfica me voy a copiar todo esto de aquí me voy a copiar todo esto de aquí me voy a segundo sistemas de gestur empresarial proyecto integramos gráficas cliente eh superc controlador librerías jv gráfica archivo nuevo jv grfica js Ok vale Y ahora a continuación y ahora a continuación me voy a ver en qué parte del programa pone que al principio cargu clientes vamos a verlo vamos a ver me voy a comportamiento y en comportamiento listado de tablas listado colecciones carga datos tabla cliente cuando arranco el programa le pongo una tabla por defecto Vale pues esto de momento no lo quiero ya no lo elimino ya sabéis que tiendo a no Eliminar cosas pero lo quiero Desactivar Así que ahora me voy a segundo me voy a sistemas de gestión empresarial me voy a proyecto me voy a integr gráficas me voy a cliente me voy a superc controlador y no se carga nada por defecto de hecho pone clientes por poner algo vale porque se lo habré puesto yo manualmente pero de momento no debería poner nada vamos a ver qué hay aquí hay un table fantástico un table y un tib Body y está vacío muy bien así que una vez que tenemos esto Una vez que tenemos esto ahora a continuación Yo vengo por aquí y digo quiero bueno por supuesto en el Index html quiero cargar el jv gráfica Dónde están las librerías Bueno la verdad es que lo puedo cargar aquí arriba quiero cargar de Li de jv gráfica quiero cargar el jv grafica js vale Y entonces Ah aquí y entonces me copio los datos y le digo datos es igual a eso y digo gráfica crimson Y contiene gráficas Esto va a ser Table t Body a ver qué tal a ver cómo va la cosa recargo y ya está funcionó la primera ha habido suerte hoy bien claro cosas que tenemos que hacer Pues por ejemplo el tema del Border ahora lo quitaré lo he puesto antes el Border para ver algo vale pero bien pero Mola tenemos ahí unas gráficas pero claro cosas que me he dejado cosas que vamos a mejorar de la librería Pues de repente resulta que me acabo de dar cuenta de que la Gráfica no tiene título con lo cual no sé exactamente Qué representan estos datos Pues ahora veremos presentan vale oportunidad de mejora eh otra cosa que voy a hacer voy a cerrar un poco todo esto vale Voy a mejorar un poquito porque voy a decir mira quiero cero Pixel solid Grey o comento esta línea antes me servía ahora ya no me sirve Vale y recargo oiv va Y tú por qué tienes un Border eh Hola ostras Esto sí que Border un Pixel solid gre pero si se ha rayado ostras Por qué el primero Ah claro veis Esto es lo que os decía porque he modificado el tarta pero ahora tengo que modificar veis Esto es lo que tendríamos que refactorizar para evitar este tipo de errores pero bueno Ahora no ahora es para demostración bien hago así y ahora a continuación simplemente pues Quiero en el comportamiento vale quiero pegar esto pegar y copiar un par de veces más simplemente para decorar vale un poquito la pantalla y para que veamos cómo quedaría un panel de control en estas condiciones claro ahora evidentemente como os podéis imaginar pues lo que tenemos que pensar es Qué información le proporcionamos al sistema para que eh estos datos no sean inventados sino que esos datos tengan que ver con la información real que se encuentra dentro del sistema es decir que este panel de control represente algo de información antes de ello voy a ampliar y voy a modificar un poquito la librería para ponerle algún título a las gráficas Así que para ello me vengo por aquí voy a hacer una siguiente versión Aquí no aquí y ahora copio pego 098 eh mejoramos librería estas cosas Pues no te das cuenta hasta que no te pones a hacerlas vale Así que 098 cliente eh superc controlador comportamiento no en Live en jv gráfica vale Y entonces ahora lo mismo vale es que ahora cada cambio que haga lo tengo que hacer Tanto en uno como en otro Esto es lo que quería evitar voy a hacerlo en el anillo Vale pues vamos a decirle que aquí dis punto esto es dis no esto es título entonces digo dis pun título es igual a título vale Y entonces okay el dis pun textline aquí Vale pues okay Bueno aquí mismo texto título vale contexto text Aline Center contexto fill Style es igual a sabes qué a dis color ahora contexto F text es igual a dis pun título en no en anchura partido por 2 coma 10 y yo creo que ya vamos a verlo y nos vamos al 098 mejoramos librería Ok un error vamos a verlo bien a ver qué raro porque ha fallado en uno sí Y en el otro no un momentín porque Ah ok ha fallado aquí donde debe fallar vale muy bien Vamos a hacerlo todo de anillo bien me dice que undefine color Ok pues eso quiere decir que en jv gráfica Espera que cierre todo para asegurarme que estoy en el sitio correcto dis pun color no es dis pun color Pues yo diría que sí a ver dónde está el fallo fill Style dis pun color Pues sí que teóricamente es eso no a ver y dice of undefine vale Dónde está el color mi color vale Sí pero 10 punto color Ay vamos a ver estoy flipando voy a decir una cosa Let me supercor es igual a this pun color a ver si es que en alguna parte lo está perdiendo vale Así que mi supercolor Okay Reading título ostias Vale pues a ver anillo Let mi super título es igual a dis pun título se ve que el dis no le está gustando Ok vale Y ya está bueno me dice undefine bien No pasa nada vamos a verlo dice Define Entonces yo a continuación digo vale vamos a ver Ah claro claro Perdón por qu en el comportamiento Ah aquí vale Este es un título para la Gráfica Ok hago así y este es un título para la Gráfica vale Y ahora sí pues puedo llamar a tantos a tantas como yo quiera donde cada una pues sé que va a tener su título correspondiente otra cosa que puedo hacer esto ya es un poco más al gusto del consumidor vale es el título y ponerlo dentro del disco Claro que esto ese título serviría únicamente para el disco pero no serviría para otras gráficas con lo cual Pues luego igual habría un poco de descoordinación a nivel de estilo Pero no pasa nada vale o sea esto es un poco ya cosas que hasta que no nos ponemos a desarrollar pues no las vemos bien ahora ya por último en este ejercicio me gustaría que pues el sistema como te diría yo detectará o sea sacará datos reales vale Cómo puedo sacar datos reales pues por ejemplo vamos a ver puedo ver pues qué tabla pesa más o en qué tablas líneas pedido vale En qué tablas hay más información repetida o que no tengo todavía muchos datos cargados con lo cual Pues tampoco puede haber mucha historia vamos a ver quiero decir lo normal es las tablas que se repiten Mira puedo hacer una cosa puedo hacer una petición a la base de datos donde le diga eh qué tablas tienen Cuántos datos Y así por lo menos que es una petición que no va a servir para prácticamente nada pero por lo menos para comprobar que podemos recuperar datos reales un momentín que me voy a quitar la sudadera un segundo Vale pues me voy al servidor vamos a ver y 099 estamos casi a punto de cumplir 100 eh obtengo datos reales y por ejemplo en la en el controlador en el servidor voy a crear un nuevo endpoint en el servidor conecta db Perdón index y voy a vamos a ver Case tabla no Case lista tablas Pues mira me voy a duplicar esta URL Ah lo voy a llamar estadísticas tablas dentro de estadísticas tablas sí Hola Qué hay Alicia Sí estoy en clase dime pasa no examen no empiezo mañana sí el jueves Sí donde quieras donde los convoques o sea donde a ti te sea más cómodo ellos en principio van a estar aquí haciendo examen con lo cual lo que tú quieras o bien te los muevo arriba o bien los tienes aquí para hacer el examen lo que tú digas vale sin problema a ver una cosa son los que tenemos y otra cosa son los que vengan el examen con lo cual un momento que te lo digo sí en mi caso es que no se pueden copiar pero claro entiendo que en el tuyo igual Sí claro pues ya te digo si un momentín que te lo digo en el caso de que A ver espérate que me mueva esto aquí a ver en primero desde el 24 hasta el 42 Sí yo tengo 18 pero ya te digo por ejemplo este alumno de aquí esta mañana se ha dado de baja esta alumna de aquí esta mañana me ha escrito un WhatsApp que se de baja con lo cual ya son dos menos O sea que cuenta unos 15 más o menos vale Piénsalo y lo que tú me digas vale Ya sí correcto no y ap parte de los de informática se portan bien o sea no habrá problema sí no pasa nada o sea yo ya les he dicho en el correo que les he enviado este fin de semana que se tienen que traer documento o sea de identificación oficial preferentemente dni y ellos en principio tendrá ya los dni en la mesa puestos con lo cual cuando tú llegues simplemente vas mirando y ya está pero ya te digo no se lo tienes que decir tú porque en los exámenes de antes ya habrán tenido que poner el dni sí correcto vale Sí correcto Sí en principio sí s y Blanca así y Borja sí los tengo por aquí perfecto eso vale fenomenal la idea es eso es los contenidos hasta el día o hasta la semana de antes de la Dana y el resto pues pasamos a la evaluación número dos Sí perfecto fenomenal Gracias venga hasta ahora no vale pues vamos a ver momentín espera que ahora me he perdido yo temáticamente Dónde estaba aquí haciendo un endpoint entonces estadísticas tablas vale Esto me llevará al método Si quieres lo vamos a llamar igual estadísticas tablas lo cual quiere decir que me voy a conexión de b y entonces digo lo siguiente vamos a ver mm Mira sabes qué te digo vale create a New method to get eh to count rows in each Table and return in this format y el format es cliente super comportamiento y el formato es esto y esto es tabla un tabla dos tabla 3es y así vale Okay Ok While okay y me hace un query count vale Ok venga perfecto pues Hala copio eh Ok lo pego aquí lo pego por ejemplo al final vale es un public function contar filas tablas cuidado que me ha puesto mayúsculas Ah contar filas tablas vale fantástico bien y si todo va bien si todo va bien Ahora en comportamiento le digo fetch comillas vamos a ver poblar pobla tabla a ver algún fetch aquí vale es no me acuerdo la operación es estadísticas tablas punto den result no fun result return result J vale punto den fun datos Y entonces vengo aquí y le digo que datos ya no es esto datos es lo que viene espera aquí y lo pongo ahí ok fantástico vale de esta forma me conecto al servidor le pido estadísticas tablas me devuelve las estadísticas tablas y yo hago un gráfico a ver si es cierto o no a ver si funciona o no vengo por aquí vale vengo por aquí superc controlador no vale vamos a verlo unexpected token ostras 87 no ABS J son 87 y Ah por qué porque por qué Si sí que hay lista tablas A ver vamos a ver console pun log el servidor dice ok el servidor no dice okay Por qué Pues no lo sé vamos a ver o estadísticas tablas vamos a probarlo proyecto servidor o estadísticas tablas Ah okay Vale muy bien porque tengo un error undefine a right key Table name no Ah Table name espérate ah no sí a ver un segundo y contar filas tablas Ah conexión de B contar filas tablas vale vamos a comprobar primero si funcion la clave Table name no está definida en el resultado Table name pero Select Table name dis base de datos Vale pues vamos a ver vamos a degar esto porque H php admin vale me voy a crimson me voy a sql y el Table name el Table esquema es espera Table esquema crimson Ah sí vale Okay pues esto es correcto Select Table name If no is set Qué raro sí que debería Eh hostias sí que debería Table name Espérate que lo está poniendo en mayúsculas no sé por qué no sé por qué pero vale Table name 288 Table name no 288 bardum Row Table name Y por qué me dices que no existe vale esto fuera Ah aquí ese es el problema Okay ahora sí venga una vez que esto funciona no sé por qué me la ha puesto en mayúsculas Pero bueno misterios de mysql superc controlador ahora sí vale Y ahí estáis viendo como Bueno ahora le ponemos un ahora le ponemos un título donde el título aquí sería pues eh registros en cada tabla vale con lo cual pues tenemos por ahí que cliente resumido tiene 86 clientes tiene 86 l has pedido tiene dos Vale ahora también habría un poco que analizar Cómo poner esta información en la utilización real de una librería pues es cuando vemos que con pocos datos No pasa nada pero con muchos datos parece que se monta entonces tendríamos que igual sacar los datos fuera de la Gráfica Pero cómo lo sacamos fuera de la Gráfica hay que calcular las líneas y hacer gráfico más ancho No lo sé vale Hay muchas formas de resolver esto otra cosa que puedo hacer que me cuesta poco es e eh qué te diría yo cambiar un poco la Fuente vale Aunque aquí tampoco me va a arreglar mucho pero aquí en el html5 Canvas cheat seit hay una cosa que es el font Vale entonces aquí en el font yo le puedo decir a la librería jv gráfica que anillo Vale y contexto punto font es igual a 20 píxeles sans serif recargo vale Y ahí por ejemplo ahí se ve mejor pero también estamos viendo que hay títulos que se montan mogollón por ejemplo pues 20 píxeles Pues igual la altura letra pues la voy a poner a 20 para que no se monte en vertical vale Y no sé Ahí tendría que tocarlo un poco más ahí por ejemplo el texto pues esto es altura letra el texto es aquí es altura letra vale para que el título no se me corte y esté ahí dentro en fin vale Hay un montón de cosas que podemos hacer y una cosa que me está dando por saco desde el principio del desarrollo de esta aplicación y con esto pues vamos a acabar esta clase que ya ha sido bastante densa eh el próximo día haremos tablas vale haremos una librería de tablas con cuente y número de línea y totales y reorganizador y todo eso vale esa práctica Yo creo que es muy bonita el próximo día no es la semana que viene vale es la semana siguiente porque la semana que viene son exámenes entonces eh es este error vale de del favicon que me está diciendo todo el rato que no tengo el favicon vale porque es cierto que no tengo el favicon entonces Yo vengo por aquí y digo vale crimson claro crimson es carmesí crimson logo Oh ese ha molado flight of the crimson Dragon Uh increíble Vale Voy a ir a chat gpt voy a ir a imágenes y le digo e logo for an erp application named crimson Hala a ver qué me dice y así le ponemos un favicon y ya nos olvidamos y el naming la identidad corporativa no es lo mío vale mm me ha molado ese también me ha molado vaya Ah okay esto de aquí me ha molado porque esto de vale Lo que pasa es que eso tendría que dibujarlo a ver voy a de momento este Claro pero Tú di logo vale porque me ha hecho imágenes muy 3D bueno pues no está mal sabes no está mal Así que me lo bajo vale Esto va a ser crimson logo me lo abro con eh no me lo abro con el gimp Ah no Espérate si el logo era Bueno pero sabes qué lo voy a cambiar a ver abrir con el gim claro el logo era el mío pero es que da igual lo voy a cambiar a ver entonces inauguramos la versión 100 pongo por aquí favicon vale Y entonces vamos a ver bueno Eso de pation no sé qué es será Ah application claro bien vale pues vamos a el cuentagotas cogemos ese color pintamos okay ahora a ver voy a recortar cuadrado okay Voy a decirle en capa que transparencia color Alfa Ah Mira pues ya está bueno espera Este es el color TR Cancelar Este es el color transparente capa transparencia color Alfa dónde estás Este es el color transparente Okay Más thold vale aceptar y me lo guardo dentro de Ah sí no crimson logo pues png Vale de hecho 740 por 740 me lo voy a pasar a 512 por 512 y lo sobre imprimo vale Y entonces ahora aquí me voy al escritorio me copio el crimson logo lo pego en cliente esto estará aquí Bueno sí puesa aquí en grimson logo muy bien y en crimson logo esto quiere decir que yo ahora me voy al código y así acabamos con algo gráfico y Guay me voy a cliente me voy a Index aquí donde pone img Ah espérate no lo he copiado sí refrescar no dónde lo he copiado mi mg crimson logo cliente sí Bueno pues nada A ver crimson logo.png vamos a ver si funciona Okay vale Y además aquí arriba Pues voy a meter ya el favicon code y así estoy un poco harto de que me dé el error este que ahora mismo mira ahora mismo no me lo da para fastidiar vale pero me da el error ese de no est Alf bicon bien con lo cual este eh Y este vale me voy aquí y digo eh sizes No esto no lo quiero esto es 512 por 512 Y esto es img y crimson logo.png vale Y esto es lo mismo lo cual quiere decir que ahí arriba ahora aparece el crimson logo vale Y si alguien se hace un favorito en su ordenador pues le aparecerá el logo correctamente lo cual quiere decir también que ahora me copio Esto me lo llevo al escritorio por ejemplo en el escritorio eso S tendré que decirle que esto es baja una y luego sube y en el superc controlador en el Index Pues también se lo pongo por aquí y también baja una y luego sube con lo cual si ahora pongo por aquí jocars y joc carsa le doy a login vale entro y por aquí ya tenemos el crimson logo y tendré otros errores No te digo que no pero por lo menos que también hay que arreglar Por supuesto que sí pero por lo menos me quito el error del favicon que lo ibamos arrastrando desde no sé cuándo vale otra cosa es que pues también lo que podría hacer es pues meter por aquí el logotipo y donde poner super controlador pues poner la imagen corporativa y todo eso vale pero por lo menos el error del favicon pues ya me lo quito bien poco más por hoy vale con lo cual pues tal y como os decía al principio de la clase pues hemos creado una librería de gráficas en un objeto que sería extensible que podría hacer más métodos he hecho tarta he hecho anillo podría hacer barras podría hacer líneas podría hacer histograma podría hacer lo que quisiera vale lo cual os Deja pues obviamente un montón de espacio para vosotros hacer y vosotros ampliar y el próximo día pues ya os digo haremos una librería de tablas que como os digo es creo que ser algo Bastante bonito de desarrollar y luego de integrar Y así pues vamos construyendo cosas para luego hacer un informe y para luego pues que en ese informe aparezcan nuestras tablas nuestras gráficas y que quede un informe super guay pero no solo super guay visualmente sino super guay desde el punto de vista de la calidad de la información vale Así que nada Nos vemos mañana Bueno mañana Por cierto empiezo los exámenes de primero vale lo digo porque tenemos clase de procesos y servicios tenemos clase vale Exacto luego eie Y dam perdona eie y vosotros tenéis eie y inglés y yo tengo el primer examen de lenguajes de marcas vale Lo cual quiere decir lo cual quiere decir que pues probablemente la clase de procesos la acabaremos 5 minutos antes y la segunda clase de procesos la continuaremos 5 minutos después pues lo típico entre que acabo el examen tiro la gente a la calle y ya está Vale y luego ya el martes y el jueves pues ya tengo a full de exámenes con primero pero mañana ya os digo que se mezcla un poco eh las dos cosas vale de la misma forma que el próximo O sea la próxima semana pues vosotros estaréis un poco mezclados con los de primero en exámenes Pero bueno así que nada Nos vemos mañana y continuamos con procesos y con acceso a datos vale