bien a continuación vamos a hacer lo siguiente voy a crear vamos a verlo por aquí vamos a verlo voy a crear un archivo nuevo voy a copiar el anterior huevo voy a copiar la anterior lo voy a guardar como index 3 y ahora voy a demostrar el uso de un worker así que para ello voy a hacer lo siguiente puede decir para el trabajador es igual a new worker ya sabemos que sea algo lo pongo en español es porque lo podemos cambiar es porque podemos poner lo que queramos pero si algo lo pongo en inglés es porque tiene que estar así que walker es una un objeto una clase que existe en el navegador web en cualquier navegador web moderno y digo tarea punto js es una tarea que va a llevar a cabo el worker entonces a continuación lo que voy a hacer es un poco estar pendiente de qué es lo que me dice este worker y voy a decir trabajador punto message cuando el trabajador me envíe un mensaje de vuelta voy a decir función y con sole punto el ojo el trabajador ha dicho algo de momento no va a hacer nada no creo que diga nada vamos a verlo digo 3 y me dice en este caso me dice que yo he prometido que va a existir un archivo llamado tarea punto js pero no existe ese archivo tarea punto j s así que no pasa nada voy a crear un archivo llamado tarea punto js y ahora a continuación vamos a ver ok vamos a recargar vamos a ver bien en este caso dice que el origin es nulo es decir que lo estoy intentando cargar directamente desde bueno desde el sistema de archivos y lo que voy a hacer es decirle que lo voy a cargar desde un servidor web local entonces voy a pasarlo aquí y voy a pasarlo htd ox pero pasa procesos lo abro desde ahí y ahora lo único es que he tenido que cerrar el navegador no pasa nada acordémonos de que antes teníamos una marca de 64 segundos vale por tanto en localhost procesos invex 3 punto html bien vamos a expresión ar ok vale vamos a consola y ya está esto es lo que nos dice ahora ya no tenemos el error del servidor esto es lo que nos dice el worker y es que de momento no nos dice nada pero no pasa nada porque a continuación lo que vamos a hacer es que el worker realmente diga algo entonces vamos a por ello vamos a cargar mi tarea punto j s y voy a hacer lo siguiente vamos a ver por una parte lo que voy a hacer es decirle pues simplemente digamos a la tarea que diga algo dos meses y te digo hola desde la tarea ok así que recargo y te digo el trabajador ha dicho algo el trabajador ha dicho algo que ha dicho bueno fijémonos en un mes y lo que hace es escuchar qué es lo que dice el trabajador y el post message lo que hace es elevar un mensaje desde el trabajador hasta la tarea principal ya tenemos un medio de comunicación unidireccional mediante el cual el trabajador es capaz de enviarle mensajes a la tarea principal o sea el trabajador dice cosa esta tarea principal escucha vamos a ver qué dice datos entonces quiero saber lo que ha dicho el trabajador ha dicho algo datos recargo me dice en este caso que ha dicho algo vamos a ver con sole punto de ojo datos y así lo vemos en crudo y así el sistema nos saca en crudo y nos dice cómo podemos ver en la pantalla nos dice datos punto data nos dice el trabajador ha dicho algo te digo hola desde la tarea ya tenemos este medio de comunicación unidireccional pero ahora quiero comunicarme también en la otra dirección quiero decirle al trabajador algo entonces vamos a hacer lo siguiente vamos a hacer lo siguiente voy a decirle trabajador punto post message con esto le digo algo hola y entonces a la tarea le puedo decir qué un meses en este caso va en minúsculas curiosamente es igual a function y te digo hola desde la talla qué es lo que ocurre aquí pues lo que ocurre aquí es que solo se envía un post message cuando se recibe un mes es decir la tarea está quieta esperando a que le den un mensaje y cuando le dan un mensaje entonces es cuando dice hola desde la tarea recargamos en este caso dice exactamente lo mismo voy a hacer una cosa voy a quitar el post message y comprobaremos que no ocurre nada es decir el post message desde la tarea principal lo que hace es enviarle un mensaje al trabajador el trabajador lo que hace es escuchar si alguien le envía un mensaje y si alguien le envía un mensaje de vuelta y por tanto la tarea principal escucha un mensaje de vuelta puede parecer un poco complejo realmente tiene mucha lógica pero lo importante es que ya tenemos por aquí un medio de comunicación multidireccional que tenemos por aquí un medio de comunicación bidireccional para comunicar las tareas con a la tarea principal y ahora lo importante es que dentro de lo que es digamos la tarea principal pues podemos calcular nuevas tareas podemos crear tantas tareas como necesitemos vamos a por ello