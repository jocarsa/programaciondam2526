en esta pequeña serie de vídeos voy a hablar de automatizar operaciones como por ejemplo las llamadas a bases de datos tener en cuenta voy a hacer un ejemplo sencillo pero yo creo que lo vais a entender tener en cuenta que en una aplicación web pueden haber decenas o centenares de apli de llamadas a una base de datos y no estoy de broma ten en cuenta que cada página según lo que quieras hacer básicamente vas a estar llamando a tablas de base de datos y vas a estar pidiéndoles cosas una base de datos ahora yo os vivo supongamos este caso supongamos que hacéis una aplicación donde creedme tendréis decenas o centenares de llamadas a bases de datos y cada llamada a base de datos tiene su usuario su contraseña su servidor sus parámetros y ahora por lo que sea coges esa aplicación y la subes a un servidor web y por lo que sea ese servidor web os obliga a cambiar la contraseña de la base de datos si tenéis centenares de llamadas a base de datos tendríais que hacer centenares de cambios en la página web os tenéis 100 llamadas a base de datos tendréis que hacer 100 cambios ir página por página encontrando cada petición de base de datos y cambiando los datos y os lo digo además de que sería pesado además de eso es que es imposible que aceptéis las 100 llamadas a base de datos la primera por tanto lo que tenemos que hacer es buscar un método de alguna manera de encapsular esas llamadas a bases de datos para que en el futuro las puede usar tantas veces como quiera y si en el futuro me cambian la contraseña o el usuario lo cambie en un solo sitio y se me cambien y automáticamente me cambien los 100 las llamadas a la vez es decir lo que voy a hacer no os voy a engañar es complicar un poco el código pero va a ser para bien va a ser para que luego suframos mucho menos cada vez que tengamos que mover la aplicación del sitio voy a ir a la base de datos que tengo en el servidor de datos pero voy a ver una que tengo por aquí que se llama tienda online o de tienda online tiene clientes y tienen pedidos creo que tenía alguno y tiene productos sí o no y una tienda online como os podéis imaginar más adelante pueden tener tantos elementos como queráis así que supongamos que en una página por lo que sea tengo que llamar a los clientes a los productos y a los peligros cierto bien pues voy a hacer lo siguiente voy a hacer lo siguiente vamos a ver voy a abrir un archivo admirar este mes y me voy a hacer me voy a hacer una cantata llamada función de hormigas en aero y dentro de function voy a hacer un archivo llamado index punto index.php nuestro código final mira y ahora hago lo siguiente creé una conexión voy a mover esto hacia atrás conexión el local host de conectó a tienda online creo que el usuario de la tienda la contraseña de la online me conecto a tienda online y digo selecciono todo de productos y quiero sacar el nombre del producto en la pantalla así que local host barra función y me dice los productos a un marco de fotos decoración de alta boda datos de klein y broche cierto hasta aquí bien verdad hasta aquí he hecho en la conexión me he conectado a la base de datos seleccione una base de datos le pidió algo a la base de datos cargo el resultado y lo devuelvo en pantalla cierto bien el problema ahora no es un problema realmente hasta este punto pero es que hago así copio esto y digo ahora que logré mis clientes con lo cual digo quiero ver solucionar todo de clientes y quiero ver el nombre del cliente en este caso coincidiera luego no coincidirán bien y tengo aquí un marco de fotos brochetas y jose vicente juan jorge y jorge pero en mi interior algo me está empezando a definir crear duplicado código luego parece que es todo muy eficiente no está haciendo pero es que os cuento más cosas y ahora quiero ver los pedidos vuelvo a tal y digo quiero seleccionar todo de pedidos y ahora lo que quiero es haber pedidos que tienen columnas tiene quiero seleccionar que tendría yo el número de pedido número de peligro y tengo ahí por una parte los productos tengo a por otra parte los clientes y tengo por otra parte los pedidos la tienda online pero yo que he hecho pues yo lo que he hecho es triplicar el código fijaos realmente para lo mismo para volverme a conectar esta línea es igual esta línea es igual esta línea es igual volverá a pedir una base de datos esta línea es igual esta línea es igual esta línea es igual a todo es igual lo único que cambia evidentemente es el while pero todo lo demás es igual cambia el while y lo que le pido a la base de datos con lo cual mi primer problema el primer problema un poco grave es que estoy duplicando código estoy siendo poco eficiente pero mi segundo problema más grave todavía es el siguiente supongamos que yo ahora por lo que sea y esto os lo digo os va a pasar por lo que sea en la base de datos tengo que cambiar mi contraseña del usuario porque pues porque el nuevo vídeo de usuario o porque oye sospecho que alguien me quiere reventar el servidor y quiero aumentar la sombra de la contraseña es decir hay mil razones por las que puedo cambiar los datos de conexión mira me voy a la tienda 'online' me voy a privilegios y le digo del usuario tienda editó los privilegios y le cambió la contraseña y donde estas contraseña voy a ver en localhost privilegios en tienda y quiero evitar aquí está contraseña se haga la contraseña era online verdad pues le voy a poner no sé la contraseña del gato para todo el mundo recordamos la nueva contraseña del gato continuó hemos puesto un nuevo password por sabéis que el problema ahora es que yo abran recargo y me dice el error ya te estabas conectando con la contraseña online pero la contraseña online ya no existe hemos cambiado la contraseña por gato y evidentemente como hemos canela 4 señala error para que si para pues yo no tengo otro problema y es que si yo cambio aquí usuario tienda contraseña al gato funciona la primera conexión pero no la segunda ni la tercera por tanto lo tengo que ir a aquí y cambiar manualmente gato y sólo cuando cambio manualmente las contraseñas es cuando vuelva a poder acceder insisto ponerle un poco de imaginación al asunto imaginaos que no son tres peticiones la base de datos porque tenéis brno acosta al tanto imaginaos que son 100 peticiones a la base de datos repartidas por un montón de archivos php nos podéis volver locos en la migración de vuestro servidor a un servidor comercial se puede convertir en algo indigerible lo que vamos a hacer ahora por tanto una vez expuesto el problema es ponerle una solución hemos visto por tanto como al final aquí lo que tenemos es una hoja triplicación del código pero insisto si estuviéramos hablando de una aplicación real estaríamos hablando de multiplicar el código por cien por eso yo lo que voy a hacer es automatizar lo todo en una función con parámetros mira voy a crear una función la función se va a llamar llamada beber el nombre de la función ya sabéis siempre que escribo algo en castellano es que se puede cambiar por la organizada le podéis cambiar el nombre que queráis y recordamos que las funciones en php tienen esta estructura la palabra reservada función el nombre de la función parámetros tanto si queremos como si no hay que poner los paréntesis ahora lo vuelve a poner parámetros y entre llaves el código que va a encerrar esa función que miréis una cosa ahora mismo el código ocupa 56 líneas ahora veremos cuánto ocupa después y ahora aquí dentro del código voy a hacer lo siguiente incluso si me permitís lo voy a comprimir voy a hacer mirad función voy a cumplir el código voy a eliminar todos sus comentarios porque creo que además menos los tenemos claros y cierro las edades bien la función llamada bebé lo que hace es que se conecta estoy yo me conecté donde me conecté siempre me voy a conectar a localhost con tienda dato siempre voy a seleccionar la base de datos tienda online pero problema voy a borrar esto pero problema si yo ahora ejecutó llamada de vez así se define una función que pasa se ejecutó esto no pasa nada alguien le puedo decir por qué no pasa nada porque no es llamado la función cuando yo que una función lo que hago es guardar la memoria para cuando la quiera usar por tanto digo ahora llamo a la función llamada deber llamada benet me dice marco de fotos la cuestión está ya sé que lo voy a hacer en extracciones y embargada pero ahora les como lo adaptó la cuestión está en que ahora puedo hacer una llamada a la base de datos para clientes otra para productos y otra para pedidos pero claro vosotros me diréis si parece que sí que te pillamos lo que quieres decir porque fíjate cómo lo he escrito una vez y luego lo llamó tres veces pero no porque estás llamando tres veces a los productos luego vale que hagas una función pero esa función tendrá que ser personalizable pues esa función va a ser personalizable porque os recuerdo que yo podía poner parámetros los parámetros que se ponen aquí lo que pido y ya aquí digo consulta es igual a lo que pido así que lo que pido es paul fueron productos sale el from clientes y por último select all from pediros vamos a ver que vienen en un problema al final para la tercera petición pero más o menos esto está empezando a funcionar veis que ahora me da marco de fotos decoración broche me devuelve también los nombres pero tengo un problema y es que me dice pero sabes qué pasa estoy aquí definido he dicho quiero localizar todo y quiero que me devuelvas la fila nombre de la base de datos pedidos existe la fila el nombre en la base de datos pedidos no existe le pedí dos veré que existe número de pedido y de cliente existe base imponible pero no existe el nombre por tanto lo que voy a hacer es una función en la cual pueda puede personalizar lo que pido y lo que le vuelvo y lo que devuelvo es esto eco lo que devuelvo vamos a ver si funciona por tanto he puesto la coma y la como es importante y le digo lo que devuelvo es igual a que me concentré a fila nombre y punto br momento a ver si funciona correctamente al área la fila evidentemente porque no la he vencido a ver si pongo hola si da igual sea público que sea privado tengo por aquí hola es decir estoy personalizando lo que hay aquí dentro con lo cual ahora tengo que leer un método de devolver esto para cada una de las tablas de clientes pedidos productos pero básicamente a falta de resolver eso que vamos a resolver ahora fijaos una cosa y es que esto se queda guardado como función y yo cada vez que llamo a la función de ahorro lo que se repite y voy directamente al grano voy directamente a lo que importa y me ahorro lo de abre y selecciona y el query y ejecuta y cierro la base de datos y todo eso lo que echo por tanto es meter como el segundo parámetro lo que pido y lo que devuelvo perdón y poner aquí echo fila lo que devuelvo como lo que devuelvo es nombre aquí le pido la fila nombre como lo que devuelvo aquí es el nombre en clientes vuelvo devolver la fila el nombre como lo que devuelvo aquí es el número de pedido aquí devuelvo fila número de pedido de tal forma que fijaos que ya tengo esto hecho quizás este mismo objeto no me serviría para todas las llamadas a base de datos de una aplicación pero desde luego me ahorraría unas cuentas y luego os digo más y luego os digo más puedo hacer unas variables que sea servidor y uaga localhost usuario iguala era cierto contra escena porque no me gustan las series en programación la contraseña del gato es la manera que aquí y base de datos la base de datos es tienda online de tal manera que yo ahora digo mira yo lo que quiero es conectarme al servidor me conecto usando este usuario me conecto usando esta contraseña y me conecto a esta base de datos lo bueno de esto y aquí viene la demostración del final del ejercicio es que insisto sigo teniendo o hago sigo teniendo un servidor servido al servidor el servidor es igual a local host claro que esto tiene que ir dentro de la función de salida cuando recargo ahora si no te quiero que veáis en definitiva es que todo esto que he hecho simplifica lo que antes ocupaba 55 líneas de código y ahora lo puedo llamar siempre que quiera y sobre todo es que ahora sí por lo que sea ahora sí si voy a la base de datos y cambió la contraseña del usuario atención mírame si voy a privilegios y digo mira es que en el usuario entienda antes la contraseña era gato pero ahora es perro atención perro continuó ejecutó el programa y no funciona porque la contraseña ha cambiado antes he tenido que cambiar la contraseña en tres sitios diferentes ahora vengo aquí y digo contraseña que es igual al perro y se acabó y funciona ahora ya he conseguido que cambiando una sola vez para empezar yo creo que veis que la claridad de código es mucho mayor antes tenía tres techos de código por ahí al absoluto que sólo tengo un tope de código arriba y segundo he conseguido que cambiando una sola vez la contraseña me lo aplique a tantas peticiones de bases de datos como yo quiera hacer en esta ocasión vamos a hablar de vamos a hablar de clases vamos a hablar de clases o lo que es lo mismo programación orientada a objetos porque ya hemos visto funciones los objetos en cambio son un paso más allá que las funciones son pedazos de código más complejos que las funciones pero que evidentemente nos van a solucionar más problemas que las funciones y yo para no marear os voy a hacer nuestras clases y voy a hacer un archivo index.php para no marear os voy a hacer el clásico ejercicio de clases que se usa en cualquier curso de programación orientada a objetos en php hola y aquí tengo hola hay un ejercicio que se usa prácticamente en cualquier curso de programación hábitat de objetos que tiene tres vertientes o tienen personas o tiene animales o tiene coches vale vamos a usar animales pero hablando de objetos sí pero algo tenemos que poner como ejemplo así que mira vamos hablar de animales por tanto yo lo que voy a hacer es una clase y voy a definir una clase llamada gato como veréis como os podéis imaginar la palabra class es una palabra reservada porque se ha colocado de color rojo y gato es una palabra que yo elijo cambiar gato por longaniza digamos clase gato y dentro de clases gato voy a escribir cosas que cosas voy a escribir pues yo una clase es más compleja que una función porque una clase puede tener unas cosas que se llaman propiedades y otras cosas que se llaman métodos no sabéis ya sabéis usar las propiedades y los métodos las propiedades realmente son variables y los métodos son funciones es decir cuando una variable está dentro de una clase recibe el número de propiedad y cuando una función está dentro de una clase recibe el nombre del método ya está de momento sigue fácil ahora pensar por un momento un gato pensando el momento en un gato tiene dos tipos de cosas tienen propiedades y tienen métodos nosotros tienes cuál es la diferencia entre una cosa y otra una propiedad es algo estático una propiedad es algo que no cambia no funciona es algo que el actor posee como característica por ejemplo blanco o negro o pardo el gato tiene que hacer algo para ser blanco o negro no el gato simplemente es blanco o es negro vale por tanto voy a crear una propiedad y le voy a crear con la palabra reservada para el bar ahora volvemos a php en color y de momento la mar color porque no pongo nada porque no pongo blanco negro gris pardo o lo que sea porque recordar estoy haciendo una plantilla no estoy hablando de un gato en particular estoy hablando del concepto de gato y por tanto yo acabo de decir que un gato puede tener color un gato puede tener la variable color un grato puedes tener la variable raza es callejero es siamés es lo que ser filipino pero qué hace un gato para ser siamés no hace nada no es algo que los haga es una propiedad que viene con el gato es una característica del ratón esos son las propiedades son cosas del objeto que no cambian son características pero ahora vamos a los métodos son cosas que el objeto puede hacer son acciones por ejemplo magullar es una acción por tanto la gato maúlla el gato maúlla no es como los gatos es negro no lo puede evitar pero cuando el gato maúlla dice primero me preparo luego el pongo luego abro la garganta y luego hago mía o no es una propiedad es una acción y por tanto es un método cómo se define un método igual que las funciones función magullar sin parámetros por ejemplo y el gato está bailando que más cosas hace un gato pues por ejemplo el gato ronronea no es una propiedad es una acción que realiza el gato hago función ronronear y dijo puedo hacer lo que quieran y dijo el gato está ronronear i nombre como se llama este gato para crear una variable bar nombre era el nombre del gato veis por tanto como un objeto en cierta manera es como una función pero a lo bestia un objeto es como una función de funciones es una mega función que puede llamar a otras funciones ya hemos hecho una clase y por tanto hemos hecho un objeto si yo ahora guardo y recargo esto evidentemente no tengo nada en la pantalla porque lo único que he hecho es crear una plantilla de una cosa que se llama gato y está preparado para que yo lo pueda usar cuando quiera así que ahora vamos a ver un proceso que se llama instancia ción mediante la instancia ción es como si yo cojo la plantilla de gato y digo voy a hacer un gato nuevo vosotros no sabéis pero totalmente hago un inciso de un par de minutos vosotros no sabéis pero nuestro cerebro funciona con algo muy parecido a los objetos que se llama en usabilidad de los modelos mentales veréis vosotros cuando sois pequeños cuando sois unos niños muy pequeños y veis por primera vez un gato en vuestra cabeza se empieza a crear un objeto una plantilla de lo que es un gato todo sea un gato y lo ves mago biar y dices esto que es y tu padre te dice esto se llama agobiar y tú dices vale en tu mente aparece gato el gato maúlla vale y al cabo de ver gatos dices bueno parece que los gatos tiene una propiedad que se llama color y parece que hay gatos negros parece que hay gatos blancos a que vuestra cabeza existe el modelo mental de lo que es un gato y el modelo mental lo que es un dato admite ciertas variaciones por tanto cada vez que veis un gato nuevo por la calle no redescubrir lo que es un gato sino que aplica es un modelo mental que ya conocéis a ese gato particular dice es mi chino no es un ser nuevo que me acabo de encontrar por la calle me chino es un gato y mira es un gato negro pues lo clasificó en mi cabeza como gato negro y además yo sé que automáticamente michi no es capaz de maullar igual en ese momento no de la grama gullar pero yo sé que en cualquier momento ese dato puede manchar y si me hago ya yo ya sé que es una de las funciones que tiene un gato que es maullar pues esto es lo mismo lo que te voy a hacer es crear en la mente del ordenador el modelo de lo que es un gato y por tanto cuando defina un nuevo gato no lo tengo que volver a explicar ordenador lo que es para angular y lo que ronronear porque ya lo sabe como hago ahora un nuevo gato bueno pues ahora voy caminando por la calle y me encuentro a mi chino chicos un gato y lo que voy a hacer ahora es realizar una nueva instancia ción de ese objeto y digo mi chino es un ni un gato es decir mi chino lo defino como una instancia de gato michigan no es una variable cualquiera que va a almacenar cualquier cosa de ahí la palabra reservada al new que habíamos antes mi chino es nueva copia mental en mi mente de un gato y ahora le daré propiedades ojo pero por lo menos debo empezar a saber que mi chino a partir de ahora es probable que va hoy es probable que ronroneo atención es que voy lo más divertido 22 un gato no puede que ronronea sí o no pues yo no le digo de chino mayor que veis que hace una especie de flecha magullar y te hace mi chino el gato está magullado lo que le estoy diciendo es el aquí mi chino es un gato luego ya que eres un gato y como he dicho magullar coge el gato mira las funciones que tiene dice hay una función que es maullar y cuando alguien la ejecuta el gato está maullando pero momentos que no hemos acabado lo hemos acabado en absoluto voy a hacer ahora una clase que se va a llamar perro pero puede tener unas propiedades en común y otras propiedades diferentes con respecto a gato verdad un perro tiene el nombre si un perro tiene color un perro tiene rafa un perro magullado no he visto ninguna olla por tanto le digo función la dra y le digo el perro está la dra y le digo en función morder el perro está mordiendo son dos plantillas he creado el concepto de lo que es un gato y de lo que es un perro lo que quiero que veáis lo que os quiero demostrar con las funciones y los métodos escribe y ahora dijo tome el típico nombre de perro cuando ese precio es igual a un niño perro todavía es igual a un perro qué diríais qué pasa si ahora le digo a tomic m pues no irá me he quedado a cuadros no sé qué me estás diciendo cómo va a maullar si es un perro lo que me dice atención ya le digo tobin magullar qué me dice el programa de iniciativas y tú aquí me has definido como perro yo puedo ladrar y puede morder pero no puedo magullar porque me hago ya está reservado para los gatos así que guardo recargo y me dice has llamado a un método no definido maullar veis perro cambiar esto suaves esto y ya te pega en la cara porque es claro es que allí tiene que haber un error es que será o gato maúlla o perro ladra pero no un perro maguire qué pasa que soy ahora cojo el perro y le digo si perro perros ladrar ahora sí vale ahora si efectivamente me dice el perro está labrando aunque mañana tengo yo que poner en espora y por ende las palabras el perro está ladrando pero también lo mejor es que lo mejor de hacer una plantilla para una factura no es hacer luego una factura es hacer miles de facturas con esa plantilla lo bueno que tiene esto como ahora veréis en el siguiente vídeo es que cada perro puede tener sus propias propiedades y sus propios lo que sea voy a hacer ahora lo siguiente porque he dicho que toby es un perro que puede agarrar de esto estaba hablando pero ahora quiero trabajar y ha trabajado por metros hay que trabajar con propiedades así que le vivo tommy convierte tobillo pongo ahí un enlace y pongo vamos a ver nombre o color es igual es un perro de color crema comprobamos la pasa nada y digo tengo tobin es un perro de color y enganchó con tomic color vamos a ver lo que funciona no se suelte todavía es un perro de color crema no vais a y vosotros tenéis y qué pues que yo ahora puedo venir y decir es decir voy a actualizar las tomas y decir voy a hacer ahora otro perro dominó como escriban a este otro perro así que es igual a un ni un perro y ahora les vivo así color es igual a blanco y negro con lo cual ahora digo nací es un perro de color el color del aceite la sin color y ahora de igual así que la wta todo bien es un perro de color crema el perro sol hablando la así es un perro de color blanco y negro y el perro ladrando con esto quiero decir que vosotros tenéis un modelo mental en vuestra cabeza de lo que es un perro un modelo general de lo que es un perro que puede hacer un perro qué parámetros tiene un perro pero luego ese modelo mental no aplicase a cada perro en particular y porque un perro que hayas conocido sea negro no tiene decir que el resto de perros de tu vida sean negros lo que dices no ese perro es negro y ese perro se llaman las y ese perro está ladrando pero es que hay otro perro al lado que tendrá otro nombre que será de otro color y que igual no es taladrando igual estaba mordiendo igual está comiendo hoy bastante cualquier otra cosa vale esto es lo que es la programación orientada a objetos que es define de una plantilla y luego úsala tantas veces como quieras vamos a hablar ahora de la herencia en php veréis un gato y un perro que razas de animal son pero forman parte perdón es que lo he dicho mal lo dicho mal qué especie aquí especie pertenece pues pertenece a los animales y dentro de los animales pertenecen a los mamíferos sí o no porque un pájaro también es un animal pero no es un mamífero eso quiere decir por tanto que el perro y el gato si os fijáis comparten algunas propiedades como cual pues como son mamíferos se crían bueno su madre los da luz y luego maman de su madre los primeros días hicieron eso es igual para los perros que para los gatos por tanto tendría yo que definir dos funciones diferentes una para el perro y otra para la gato no lo que vamos a hacer lo siguiente atención ve a una clase llamada super clase llamada mamífero la mami feroz y sin parámetros mamífero tiene una función llamada nacer y digo echo este animal nace mediante parto quiere decir esto que uno nace con huevos o sea sí pero no de un huevo con cáscaras al animal y ahora mamíferos tiene otro método que se llama mamar esto es de los primeros días este animal es amamantado bayas tengo una subclase mamífero y es lo que le quiero decir al gato y al perro es hoy el gato es un gato que lo discute todo es un gato y puedes bailar y poder ronronear pero es que además era su mami feroz con lo cual además de poder hacer todo eso puedes hacer todo además es decir si a ti te han explicado en el colegio lo que es un mamífero desde no mamífero nace y se va a manta y todo esto si de repente un día te dice oye un gato es un mamífero tú no tienes que decir mono pero esto que es hay que decir con esto sino que aquí en el colegio te han dicho que el mamífero nazi se maman está y te dicen un gato somnífero pues automáticamente dices mira pues el gato hereda las propiedades de nacer y ser amamantado en tu mente automáticamente lo conectas y dices ah pues automáticamente mi mente concibe que este animal no nace mediante poner un huevo y cuando nace mi mente concibe que su madre no le trae comida del nido sino mi mente concibe que la madre de aveva mar con lo que ya sabéis cómo se hace esto en programación pues esto se hace con las siguientes dos palabras sencillas que es una cosa mirada para comprobar que no funciona voy a crear un gato mi chino es igual a mi gato para el mismo gato me hacer qué me dice no sé qué es esta parte del escrito mal chino perdón lo había escrito mal me hice no sé qué es nacer no sé cómo lo hace este gato por qué pues porque tú has creado aquí mamífero pero nadie te ha dicho hoy es que además un gato es un mamífero cómo se hace esto pues vienes aquí le dices la clase de gato palabra mágica que excel se extiende a mamífero qué quiere decir extens quiere decir que el gato hereda todas las propiedades de mamífero quiere decir que me acaban de decir que el gato es un mamífero y por tanto digo ah pues mira todo lo que me ha enseñado en el colegio de los mamíferos ahora lo aplicó al gato y por tanto en este momento sé que el gato ya no lo hace poniendo un huevo ahora vuelvo a ejecutar ahora que ya me han dicho que el gato es un mamífero vuelva a ejecutar mirada atención y me dice este animal de ence mediante parto el gato mirará atención aquí el gato tiene el método nacer no mira ahí lo tiene magullar y tim herrón rodear no lo tiene pero si yo le digo que extiende mamífero y mamíferos y que lo tiene es como si los métodos de mamífero pasaron a formar parte del gato bueno como si no es que es así que los métodos de ahí pero pasan a formar parte del gato vamos a demostrar como la programación orientada a objetos se puede aplicar a algo tan mundano y tan cotidiano como la generación de facturas por tanto ni a qué clase es dentro de la carpeta de clases voy a hacer un archivo llamado facturas voy a hacer una demostración facturas punto php y vivo y lo cargo aquí y lo que vemos aquí facturas php y me hago una clase factura tiene varias propiedades por ejemplo bar cliente porque es una plantilla alguna factura de hecho un hueco para meter el cliente y a partir de aquí dijo bar línea 1 de la factura tengo la línea 1 de la factura voy a crear otra variable llamada alinearlos marc línea 3 y ahora voy a crear una función su marco donde la función sumar fin la suma d una factura es oye pero como estoy haciendo esto por favor ahora un poquito de html para crear es que se puede formatear con un objeto la suma de la factura es y voy a decir le voy a decir la línea 1 más líneas 2 más línea 3 un error pero vamos a probar así que digo repito es igual a mil factura porque le voy a hacer una nueva factura papito y le digo débito nombre cliente es igual a pepe martínez torres y recargo de momento nada lo que quiero ahora es decir simplemente eco repito cliente es decir quién es mi cliente este es mi cliente espere martínez torres y ahora voy a hacer lo siguiente pepito ha pedido unas cosas que vale 80 euros he visto ha pedido otra cosa y vale 90 euros repito ha pedido otra cosa que vale 630 euros y por último a ver si en suerte creemos y por último a ver si hay suerte y digo vamos a ver pepito sumar creo que va a darme roth de variables pero la vamos a ver bien efectivamente hay un error de variables no definidas donde en este caso voy a hacer una cosa enfermar cosa schümann zuma y le voy a decir repito suma de 80 toda la factura 280 y ahora les digo que esta factura le quiero sumar línea 1 + línea 2 + línea 3 el total de la factura en sus cientos pero lo mejor y es que yo hago otra factura diferente la atención y ahora vamos juanito es igual a new factura juanito siempre es igual a juan lópez original y digo de juanito la línea 1 que me ha pedido valentín que voy a cambiar los bonitos por los picos me ha pedido un producto de 20 1 de 31 de 40 pues pero martín héctor es la suma de la factura de 200 y en el caso de juanito juan lópez garcía la suma de la factura es 90 es decir casi ya lo sé que me he gastado más código en la distanciación del objeto que la propia objeto pero fijaos que el objetivo de esto es pre establecer que es una suma pre establecer que es el método sumar y cuando yo diga a sumar me dirá la suma de la factura es lo que sea por tanto yo por ejemplo podría poner esto dentro de una tabla no podría hacerlo ahora mismo pero estable si puedo meter html dentro del php y ahora digo que el table es igual a border es igual a 1 y week es igual al 100% guardo recargo el ojo es igual y ahora si recargo pues me dice la suma de la factura es 200 la suma de la factura es 90 o por lo que sea le podría decir pues cada uno de los elementos que participan en la suma podría poner aquí un desglose de la suma veis por tanto como tengo una clase factura y tengo una clase voy a verla aquí table pues voy a poner un de r esto es una factura cuando recargo esto es una factura la suma la falta de 200 esto es una factura la suma de la factura es 90 y luego ya pondría ampliar el objeto a hacer que calculé y hacer que sume hacer que ponga lo que sea por el importante es que fijaos que con un solo objeto he hecho dos facturas diferentes pues voy a hacer una dentro de clases porque voy a hacer un archivo pero voy a hacer ninguna clase en este caso debe ser sencillo y un archivo que se llame factura de oro un tope hp facturador php lo que va a hacer es irse a la base de datos y generar una factura de cada tenido que hay en la base de datos hola pues amigo facturador factura dor como la ola yo le digo vayan a ver base de datos función inversa ahora me copió todo esto a saco facturador tienda perro tienda online o la fila nombre esto lo que esto fuera eco y consulta lo que pido es select all from felinos eco fila número de pedidos y lo enganchó con un y me dice los peligros que hay en la tabla de pedidos yo no verlos los pedidos que aquí los veis aquí los veo esto es el utc perdón o menos detenido aquí es el número de médico pues ya está esto es ahora muy seco y empieza a ser una tabla table tb tal vez hace uno h factura cr tener por él y aquí voy a poner pero qué entonces de tv iteere donde aquí dentro de ese te voy a poner el fila y de cliente aquí voy a poner el fila fecha y aquí voy a poner número de pedido factura vale algo tengo mal por aquí table border es igual a 1 with es igual al 100% algo he hecho mal por aquí ahí está factura uno aquí y aquí para seguir en error cerraron no sé por qué hay un error pero parece que el error es antes de empezar bueno no pasa nada vale le digo cliente dos puntos fecha de la factura dos puntos número de peligro dos puntos bordes igual a 1 with igual anciano dientes altura 001 fecha de factura número de pedido y continuó y aquí está el problema parece diciéndote r dv voy a hacer en plan sencillito total y va bueno más imponentes base imponible y valor total y le digo esto es base disponible base imponible y va total así que recargó algo ha cambiado con el momento más imponible y va total algo se me ha olvidado cerrar tr bueno casi lo tengo ahí esa tabla se cierra mal dv tr no sé lo que está fallando evidentemente está el número de pedido vamos a revisarlo abren cierran tablet cierra abren cierran y cierra tierra claro es que no puedo abrir la tabla hay en medio como ve dé la gana y luego la tierra y luego cerrar en la tabla y ahora sí ya tengo un generador de facturas que pone factura y de cada factura te pone el cliente la fecha de factura el número de pedido la base imponible el iva acordes que hicimos la primera prueba de que falló y el total base disponible iván el total disponible iván y en total