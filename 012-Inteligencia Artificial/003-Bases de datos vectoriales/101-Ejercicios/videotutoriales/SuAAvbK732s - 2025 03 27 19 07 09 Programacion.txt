eh vamos a ver en primer lugar la versión single vale con el long Entonces esto no hacemos así vale Y vamos a compilar sin multinúcleo ahora ejecutamos y vamos a verlo y no sé si igual me he pasado un poco Ey espera si yo lo que quiero realmente es esto aquí yo lo que quiero realmente es Esto vale veremos que hay un núcleo que estará a tope de hecho se lo va repartiendo con respecto al resto de núcleos me da igual que tarde más por mí como que tarda más me parece fenomenal Okay y lo voy a parar lo voy a parar porque realmente me da igual o sea que acabe lo único que quiero es comprobar que realmente me revienta los núcleos vamos a ver ahí vale Y ahora voy a probar la versión con multithread porque en ese caso utilizamos la librería thread Vale entonces lo que hacemos en este caso es vamos a ver primero detectar como en javascript como hicimos en su momento en javascript el Hardware concurrency es decir el número de threads que podemos tener en el sistema en este caso son 16 en mi caso concreto ahora así que 002 multinúcleo y ejecuto compilo eh g+ Plus ejecutamos vale usando 16 threads saco esto y tengo esto y ya está Vale y cuando digo ya está lo que quiero decir es que con la versión de un núcleo Bueno ahora el ventilador me empieza a rodar vamos a ver varias cosas primero sin multinúcleo Uy madre mía le quito aquí esto le quito un g+ Plus ejecuto y estoy ejecutando en primer lugar sin multinúcleo para ver Cuánto tarda vamos a ver okay ha tardado 26,12 37 segundos ahora voy a el multinúcleo le quito un cero igual que a este Vale entonces g+ Plus 002 ejecuto usando 163 y ha tardado 3,42 segundos Por qué Pues porque sí dividido 26.12 entre 16 núcleos 1,63 vale me ha tardado 3,4 segundos lo cual es normal porque en el proceso de partir el trozo y lanzarlo en pantalla y todo eso pues evidentemente va a tardar más vale ahora lo que quiero es aplicar esto para algo que sirva de utilidad por ejemplo el clásico la clásica aplicación multinúcleo es la de eh tratar imágenes vamos a ver si en la librería de eh de c+ má Hay algún elemento para tratar imágenes ahora veremos No lo sé Vale entonces vamos a ver y Ok vale c+ Plus get the color of the First Pixel of a jpg image use only standard library libraries ya está vale a ver si cuela a ver si cuela vamos a ver eh nos dice que no tiene la librería jpg vale es cierto vamos a ver vale nos dice que vamos a ver Qué código más de coña decoding jpgs require external libraries vale esto es gracioso vale vamos a ver OK So implement The easiest Way of completing the task lo de crearme un mini programa de c+ má y que el programa de el mini programa de c+ me diga que no creo que es lo más gracioso que me ha hecho e gpt en mucho tiempo pero bueno ha sido divertido vale vamos a ver std stb image vale venga esto tiene buena pinta muy bien entonces me voy a aquí a la carpeta me voy a proyectos carpeta nueva va eh leer imagen vale Y en leer imagen voy a hacer 001 leer Pixel cpp Okay Vale Necesito la librería stb image. Esto es lo que he intentado evitar toda la tarde pero a ver qué pasa a ver si la encontramos en github mira en github Vale pues bueno 8000 líneas bien normal vale Bueno pues vamos a ver si hay suerte entonces html c+ Plus c+ Plus vale proyectos y leer imagen y vamos a meter la librería dentro de esa misma carpeta muy bien Entonces copiamos esto lo metemos aquí hemos dicho y ahora para compilar para Ah no igual no hace falta vale venga image jpg Vale pues me voy a copiar una imagen mía escritorio archivado una imagen mía en esa carpeta a ver una imagen mía esta 3,5 megas y esta 9,3 megas vamos a por esta imagen vamos a una imagen grande a propósito ahora veréis por qué o c+ Plus quiero una imagen grande para que sea pesada de procesar para que tenga sentido el multinúcleo vale leer imagen y la voy a llamar image.jpg más que nada para que coincida con lo que el código de c+ Plus está esto es el clásico caso de que si maoma no va a la montaña irá maoma así que me voy a hacer un Clear me voy a la carpeta de a ver ls me voy a la carpeta de leer imagen g+ Plus 001 Okay de momento bien y bien vale oye pues ya os digo para lo por culo que n las librerías de c+ má ya nos ha ido bastante bien Ahora luego quiero meter la librería deite que tampoco dará por saco pero a ver qué tal bien pues ahora a continuación yo lo que quiero no es leer un píxel vale Quiero leer todos los pixels Y es más quiero convertirlos a Gris vamos a verlo así que le digo por aquí estoy en aho estoy en chat dónde estoy digo Ok perfect Now read all pixels convert them to gre scale making a median average and then write to another image imagen final.jpg and Show me time elaps to do de task Vamos allá vamos a ver H vale correcto no ya no veis aquí está pensando y Entonces le voy a decir Ok Don't really use median Just use Plane average between r g and B to create grecale vale vamos a hacerlo más sencillo O sea no hace falta que me haga el promedio mediano sino con que me haga un promedio simple ya está vamos a verlo Ok Okay no hagas eso Ay qué rollo no sé por qué me Cierra la sesión bueno Vale vamos a ver ya está sabes rgb dividido entre 3 y ya está OK Venga pues 002 escribir Pixel eje compilo g+ Plus 002 Ok bien e Qué dice include Ah Uh stb image right Ah vale Perdón Dónde está pues estará en el repositorio de github vale stb image right este me lo bajo compilo Okay ahora sí y vamos allá bien y me dice tarea completada en 1977 milisegundos vale Okay perfecto vamos a verlo vamos a comprobarlo y comprobamos que la imagen se ha eh hecho vale de 4000 por 6000 y parece que no pero son unos cuantos millones de píxeles y se ha hecho en unos pocos segundos vale perfecto pero ahora yo le digo eh Dónde estás aquí okay perfect Now please do the very same but with python and p es decir Oye ya que estamos aquí vamos a hacerlo con python a ver Cuánto tarda python no tengo ni idea de lo que va a salir y cuando digo que no tengo ni idea quiero decir que realmente os juro que no tengo ni idea pero como siempre decimos lo de que si c+ más es más rápido y no sé queé no sé cuántos No lo sé vamos a probarlo a ver qué pasa os juro por lo más sagrado que no tengo ni idea de lo que va a salir así que vamos a probarlo no sé qué tipo de sorpresa o no sorpresa nos llevaremos acm Y esto es c+ Plus esto es proyectos esto es leer imagen y esto es 00 no sé cuántos eh escribir python punto python vale bueno evidentemente vemos que hay muchísimo menos código dentro de python ya eso ya estaba clarísimo también os digo que la mayoría de la magia está aquí dentro le doy f5 y vamos a ver qué ocurre bueno Vale pues de momento la misma tarea en python han sido 4200 milisegundos en c+ más son 1977 milisegundos por tanto menos de la mitad bien ya es un comienzo pero ahora además voy a hacer lo siguiente lo que voy a hacer ahora es esto okay Mira voy a decirle Okay Let's go back to Last c+ version and please make use of threads library to Access all available computing cores to Speed up eh process Es decir lo que ha tardado lo ha tardado con un núcleo pero ahora si tengo 16 núcleos quiero que me Use los 16 núcleos para ir más rápido vale siempre tened en cuenta que va a haber una penalización la penalización consiste en que el tiempo en el que coge la imagen y la parte y la trocea y no sé qué vale eso va a tardar un rato Quiero decir un rato unos cuantos milisegundos Pero va a imponer una penalización de tiempo pero Esperamos que aún así sea más rápido vale vamos a probarlo me vengo por aquí me voy a 003 multicore y vamos allá Bien aquí arriba importo threed Vale y iba a pulsar f5 eh g+ Plus 003 vale ejecuto Y me dice que Okay Ok vale no ha mejorado mucho vale No ha mejorado mucho pero porque probablemente en imágenes más grandes es cuando me beneficiaría más de esta metodología quiero decir que probablemente todo el tiempo que ha tardado en la imagen trocearla enviarla y todo eso ha sido el tiempo que no vale la pena con respecto a un solo núcleo pero e lo que sea bien Vamos a ver y ahora ya me voy a volver loco vale me voy a volver loco porque voy a decir que eh estoy pidiendo Yo aquí vale Now like to do un make the software parametr command out y image input o input jpg out output jpg operation y optional parameters y entonces digo dos operations will be a grecale b brightness with value c contrast with value de thold with value o voy a decir es que no me acuerdo cómo se dice Black and White with threshold y no sé e invert no par meters e grecale no parameters y ya está Vale de momento ya está brillo contraste vale Yo que sé venga con esto ya tenemos para que haga unas cuantas cosas que yo de hecho creo que debo estar a punto de que también me fundan el modelo mini pero como os digo talón de Aquiles del lenguaje de programación c+ má las interfaces de usuario vale ese es el talón de Aquiles ahora eh aparte de eso aparte de las interfaces de usuario Pues todo aquello que son programas ciegos que no tienen interfaz de usuario que tal pues se puede hacer perfectamente con c+ má las interfaces de usuario pues ya os digo que son un poco puñeteras porque son muy dependientes del sistema operativo es decir cada sistema operativo lleva su propio sistema de ventanas yo ahora lo voy a intentar vale o sea voy a intentar hacer un proyecto de ventanas gráficas y todo lo que vosotros queráis pero la cosa irá mal os lo digo ya lo digo porque lo intento en cada curso y siempre la cosa va mal hay diferentes librerías pero ninguna es particularmente sencilla de utilizar vale vamos a verlo y bueno Espera que ahora Esto va a tardar un poco porque el código de Esto va a ser grande vamos a ver vale Y vale Okay vamos a ver multioperador FC g+ Plus a Vale y ahora digo a image.jpg cuidado esto es input output salida jpg y digo eh brightness dos me lo acabo de inventar le doy y completado y me voy a la carpeta y veo que si esta es la imagen original Pues esta no se ha notado mucho Voy a darle más caña brightness 200 Ahora sí que se ha notado vale Y eso y acabamos de hacer que este programa luego Obviamente le podríamos meter una interfaz de usuario con python pero que el Core de amputaciones est hubiera hecho en c+ má eh voy a intentar hacerlo de las ventanas pero os Digo ya que esto va a acabar en tragedia vamos a verlo eh c+ Plus create a Windows application on Linux the easiest way possible vale eas way possible insisto voy a decir Linux porque es que os juro que o sea las opciones que hay o son sencillas pero no son multiplataforma o son multiplataforma pero no son sencillas o sea horrible bien Vamos a ver bien sdl es una librería clásica eh en principio sdl es para hacer videojuegos vamos a ver y Bueno vamos a probar con sdl Ahí va a ver sí Hola Sí ya vale Sí vale a ver sí te cuento eh A ver un segund Inn que para aquí la grabación