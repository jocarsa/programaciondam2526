a continuación voy a desarrollar un sistema de avatar es un sistema de generación de personajes procedural es y voy a intentar hacer que sea lo geométricamente más sencillo posible teniendo en cuenta que hay sistemas avanzados de piel y huesos que por una parte creamos aquí en la parte de grafismo y luego en la parte de programación tienen que ser digamos atrapados vale quiero hacer un sistema de avatares que sea lo más sencillo posible y que a la vez sea lo más personalizable posible lo más extensible posible para ello lo que voy a hacer es partir desde figuras geométricas sencillas y luego animar las así que a continuación voy a empezar dibujando por ejemplo una ecoesfera hasta icod esfera sería el centro del personaje sería algo así como la pelvis y a partir de esta y co esfera pues a continuación lo que voy a hacer vamos a ver es entrar en el modo de edición y voy a escalarla en el eje x digamos para que la pelvis del personaje más o menos tenga esta proporción a partir de aquí voy a modelar voy a crear cada pierna a partir de tres vínculos insisto que probablemente en otros vídeos me habrás visto trabajar con piel y con huesos y con cinemática inversa y todo esto con lo cual va a saber que voy a hacer un uso extremadamente sencillo de los recursos pero con el objetivo de que luego este sistema tiene que ser atrapado mediante la programación y quizás más adelante hagamos una versión más avanzada de este sistema de generación de avatares así que a continuación voy a añadir otra malla voy a añadir otra y ccoo esfera y esta y co esfera lo voy a colocar aquí arriba donde iría digamos el principio del hueso esta disco esfera vamos a ver vamos a innovación vamos a ver lo siguiente voy a ver si puedo descargar me alguna plantilla man front y así en todo momento estarás viendo lo que voy a hacer una plantilla más o menos así es la que estoy buscando para que puedas entender pues qué es lo que quiero hacer más o menos una cosa así vale cualquiera de estas dos voy a abrir la imagen en una ventana nueva me la voy a descargar la voy a colocar en el visor frontal voy a añadir una dónde estás aquí una imagen de referencia me voy a escritorio me voy a mano front y aquí lo tenemos bien ya que estamos por cierto vamos a intentar trabajar con las medidas correctas así que digamos que esta persona mide un metro ochenta voy a crear un en ti y lo voy a subir hasta ubicación z pues un metro ochenta con lo cual si un metro ochenta es ahí os voy a escalar esta referencia para que tenga la medida correcta un metro ochenta aproximadamente hay y eso quiere decir que si ahora por ejemplo hemos cojo la pelvis que era esto de aquí pues la colocó aquí pero además pues evidentemente voy a entrar dentro del modo de edición y voy a escalarla no moverla pero si escalarla para que tenga aproximadamente esta ubicación ahora voy a seleccionar esta esfera que recordemos que era la esfera para la pierna y ahora a continuación voy a ver a través voy a colocarla aquí donde estaría el principio de la articulación entro en el modo de edición escalo y ahora a continuación pues voy a escalar en z me lo llevo aquí escalo un poquito menos todavía bien aproximadamente allí y como veremos lo que estoy haciendo es crear digamos una serie de elementos fundamentales para empezar a modelar los personajes tengo esto por aquí esto no tengo esto por aquí ahora a continuación les daremos un poquito también de color y mientras tanto de momento ahora lo que voy a hacer es crear la segunda parte de la pierna así que seleccionó este elemento duplicó colocó la el punto de pivote donde iría la articulación de la rodilla y ahora entro en el modo decisión y empiezo a empieza a moverlo lo escaló más pequeño escalón en zeta se hace falta si hace falta hago esto para buscar esa intersección hay que decir que la primera vez que me llegó un personaje para animar pues será más o menos en este formato yo decía qué horrible qué formato más horrible yo quiero un personaje con piel y con huesos y todo esto y ahora me encuentro yo haciendo un personaje así pero la idea insisto que probablemente me has visto en otros vídeos haciendo personajes con huesos y con piel y todo esto la idea como verás tiene una lógica hay una lógica detrás de todo esto que estoy haciendo ya sé que parece que estoy siendo un personaje super cutre pero realmente todo esto tiene un sentido bien a partir de aquí voy a duplicar esto voy a girarlo en y 90 grados no en mirarlo en y 180 grados ahora sí y ahora evidentemente por supuesto pues escalo en x para hacer esto más pequeño escalo en zeta lo colocó en el sitio luego más adelante le daremos un poquito de mejor forma evidentemente y luego por supuesto pues siempre podemos vértices como estos de aquí así que puedo estos vértices escalar en x para hacer que la parte del pie sea plana es una cosas bien si esto no está acabado pero de momento por lo menos tenemos esto y ahora a continuación vamos a poyar duplicar voy a duplicar y escaló en y -1 para hacer una simetría duplicó y escalón y menos uno para hacer otra simetría y duplicó y escaló en y menos uno para hacer otra simetría y cuando llegamos a este punto es cuando ya podemos empezar a o debemos empezar a poner nombres a las cosas esta pelvis parece muy grande pero bueno ya iremos tocándolo así que este objeto de aquí es pelvis este objeto de aquí es vamos a ver es muslo derecho vamos a poner pierna muslo d esto es pierna espinilla derecha esto es pierna pie derecho y por tanto esto es pierna muslo izquierdo esto es pierna a la izquierda y esto es pie no pierna y pie izquierdo vale ya continuación hay que empezar a poner las emparenta ciones quien depende de quien así que para este sistema de cinemática voy a hacer que la pelvis sea digamos el hueso raíz así que seleccionó la el muslo luego la espinilla control pe y le digo parent a continuación este es el hijo este es el padre pulso control p este es el hijo este es el padre pulso control p así que este es el hijo este es el padre pulso control p este es el hijo este es el padre pulso control pp y este es el hijo y este es el padre y pulso control pe y así tengo la pelvis por aquí y de la pelvis dependen las piernas las espinillas y el pie e incluso puedo ya las herramientas de rotación y empezar a disfrutar de una cinemática directa ballet no es lo que quiero todavía así que voy a darle control z para dejarlo en el sitio pero lo único que quiero es demostrar que vamos en el camino correcto quiero demostrar que estamos en el camino correcto creando una serie de formas gmt digamos automáticamente asignándoles una serie de huesos nombres y todo esto bien a continuación voy a continuar dibujando el tronco así que para dibujar el tronco voy a irme a la vista frontal ahora tengo que trabajar con una serie de articulaciones así que voy a la pelvis voy a duplicar por aquí vamos a verte elvis quien tiene nada plan muy bien así que vale esto por aquí voy a escalar un poquito en z escalo un poquito en y a escala un poquito más en zeta vale y ahora lo bajo un poco digamos una cosa si bien ahora a continuación vuelva a duplicar esto sería en principio la caja gráfica si que escaló un poquito infecta escalo un poquito en todo vale aproximadamente bien voy a duplicar de nuevo y ahora aquí pues voy a escalar un poquito en y escalar un poquito en zeta aproximadamente aquí y allí tengo lo que sería digamos la clavícula luego nos preocuparemos un poco de las proporciones del perfil pero de momento del momento pues esto es más o menos lo que vale así que esto evidentemente será tronco estómago esto es como pecho esto es tronco clavícula esto es hijo control pe de esto es hijo control pe de esto vale y una vez que tengo esto ahora quiero dibujar los brazos para dibujar los brazos que así puedo hacerlo digamos como desde las piernas así que voy a duplicar esto lo coloco allá arriba donde iría la articulación y a partir de aquí pues voy a escalar en y vamos a escalar en el eje local de más o menos quedamos igual roto escalón y ahora vuelvo a rotar vale más o menos y tengo ahí un brazo y duplicó y un roto vamos a escalar en y este es el antebrazo escalo en zeta no tan largo y por último voy a duplicar para hacer como la mano más pequeña evidentemente la articulación más o menos por aquí escalo y lo colocó por aquí más sobre los del momento a falta de tocar proporciones esto es el brazo por eso derecho esto es brazo antebrazo derecho y esto es brazo mano derecha a partir de aquí a partir de aquí voy a hacer un duplicado esto duplicó y escaló en y menos 1 y lo colocó ahí duplicó escalón y al menos uno y lo colocó aquí duplicó escaló en y menos 1 y lo colocó aquí bien y ahora vamos a emparentar de nuevo esto es pariente de esto es paciente de esto y esto es pariente de esto y así digamos cuando giramos pues giraba ahí no hay un problema todavía esto es hijo de esto es hijo de esto y estos hijos vamos girando los huesos para comprobar que todo va bien vamos girando los huesos para comprobar que todo va bien y que las jerarquías que estamos haciendo pues van siendo mínimamente o razonablemente correctas y una vez que tengo esto para continuación pues vamos con la cabeza va a ser sencilla en este caso así que vamos a crear en este caso una ecoesfera donde está hasta aquí quiero ver a través nos colocamos aquí voy a hacer esta echo esfera pequeña el cuello ballet y por último puesto el cuello y por último una ecoesfera para la cabeza vamos a hacer esto un poco más briseño vale por tira y escalamos el zeta la equis no y vamos allá vamos acá ok tenemos un prototipo inicial de personaje vamos a esconder lo sentís vamos a poner nombres esto es cabeza vale el cuello es hijo de la pelvis la cabeza es hija del cuello el cuello lo movemos un poco hacia atrás la cabeza la movemos un poco hacia adelante le vamos a ir realizando diferentes ajustes a lo largo de nuestra bajo con este personaje con este avatar vale pero de momento lo que queremos es el personaje pues tenga una mínima digamos de presencia vale ya que estoy trabajando con la jerarquía quiero meter un empleo que estará aquí y quiero decirle al sistema que la pelvis era hija de este envío por qué pues porque así moviendo el mti nuevo todo el personaje el entierro realmente el que va a mover el personaje está es una costumbre bastante común en prácticamente cualquier otra cosa que se suele hacer es que en los entes pues se puede dibujar un círculo vale entonces roto en x 90 luego un poco más pequeño mientras a continuación voy a eliminar este empty voy a poner el círculo aquí y entonces cojo la pelvis y le digo que la pelvis es hija de ese ente y así digamos que este círculo mueve el personaje es lo mismo que antes realmente solo que ese tipo es queda un poquito mejor vale tampoco es que sea un gran cambio vale pero queda un poquito mejor bien o no se ponen un poquito de colorido a la situación para visualizar un poco mejor lo que estamos haciendo así que voy a hacer un personaje que tenga unos pantalones cortos voy a hacer un personaje que vamos a ver vale verlo en personaje que tenga unos pantalones oscuros pantalón así que le pongo el material del pantalón bien a continuación vamos a dibujar la piel así que este es el material de piel tendrá de momento pues un tono ligeramente rosado vale esto es piel zapatos voy a poner unos zapatos grises así que zapatos color gris intermedio zapatos valen a las manos les pondré la piel voy a hacer que este personaje vaya de manga corta así que piel también y el para la mano y para el antebrazo y vamos a ver pues la camiseta vamos a hacer un material de camiseta voy a ponerle por ejemplo una camiseta azul generalmente azul camiseta y camiseta el cuello evidentemente será el cuello será de piel la cara será de piel vale con esto ya tengo un pequeño avatar vale para con muy pocos polígonos para luego poder hacer una gran cantidad de ellos vamos a continuar un poquito más vamos a darles un poquito de expresividad vamos a poner un poquito un par de ojitos así que vengo por aquí voy a crear una médico esfera la voy a subir aquí voy a ver dónde irían los ojitos voy a escalar esto voy a escalarlo de efecto a system voy al psoe y pongo esto aquí vale vamos a sacarlo un poquito hacia afuera y esto lo quiero poner de color negro así que esto es material del ojo y lo quiero de color negro cuando se vea desde lejos pues para esto uno un poquito más vale más adelante le pondremos refleja si todo esto enfoca voy a poner otro y ahora esto es un ojo derecho esto es ojo izquierdo y estos dos elementos son control p hijos de la esfera que hace de cabeza bien ya tengo por aquí personajito que tiene un par de ojos vale más adelante le veremos más rasgos más complementos más de todo pero ahora de momento pues tenemos ya un personaje que el momento dado podemos configurar además también lo que podremos hacer vamos a ver es jugar con las escalas jugar con la escala total del personaje jugar con la longitud de los la longitud de los miembros vale trabajar de esta forma nos ha dado un personaje muy rugoso digamos pero más adelante veremos que tendremos ventajas una vez que he hecho esto tenemos un poquillo de modelado tenemos un poquito de materiales vamos a poner una pequeña animación vamos a hacer una pequeña animación para hacer una pequeña animación en este caso lo que voy a hacer es jugar aquí con las claves voy a hacer una animación en el sitio vale así que voy a hacer lo siguiente me activo el auto key y a continuación digo la posición inicial es esto por aquí y la pelvis baja y este pie aquí por tanto este brazo va atrás aunque antebrazo eso tengo que arreglar la hora luego lo arreglaré no ahora que estoy animando pero para luego regar en este brazo va aquí y por tanto este brazo va aquí y este brazo va aquí es un poco popeye vale pero luego lo arreglaremos bien entonces ahora a continuación me voy al fotograma 10 por ejemplo ahora luego veremos es correcto o no y entonces aquí lo que hago es qué esto estuvo un poco esto giro no tanto nuestro giro esto giro los brazos vuelven en el fotograma 20 vamos a ver como estábamos este esta pierna es la que va atrás esto vuelve abajo esta pierna es la que va adelante y por tanto este brazo es el que va adelante y el otro brazo es el que va detrás y para finalizar el ciclo tiene que volver atrás así que para volver atrás por ejemplo puedo esta clave y puedo duplicarla y puedo esta clave y puedo duplicarlo y así tengo un ciclo completo esto quiere decir que será limitó la animación a 40 fotogramas pues más adelante cuando esto lo meta en programación pues me dará como ahora vamos a ver un ciclo completo bien ahora hay que mejorarlo pero bueno de momento tenemos a nuestro personaje caminando estira un poco arrastra un poco los pies luego trabajaremos con ello vale pero de momento nos vale de momento es una primera animación aprovecho para vamos a poner aquí el personaje en reposo pero aquí no me están apareciendo las claves no sé por qué no me hace mucha gracia pero vale así que esto aquí y esto aquí es como la posición en reposo del personaje no ok y ahora fijémonos que lo estoy haciendo en el fotograma cero es un poco como fuera de la animación como en un espacio que no existe esto se anima y cuando quiero volver atrás voy a vuelva al 0 y ahí tenemos el personaje bien entonces voy a arreglar estas cositas estos antebrazos por ejemplo pues son gigantescos así que escalo en mx y los antebrazos son más pequeños escaló en x los antebrazos más pequeños para dejarlos ahí voy a ir haciendo ajustes en todo momento con respecto a estas cosas vale con lo cual un momento de momento más o menos lo tenemos ahí y la idea por ejemplo es que si yo a partir de aquí en un momento dado toco la piel del personaje y digo quiero que la piel sea más oscura quiero que la piel sea más clara quiero ser un personaje con piel verde quiero ser un personaje con piel azul yo solo tengo que tocar un parámetro y digamos el personaje se va a modificar o si digo no es que quiero que la camiseta no sea azul sea verde sea roja sea morada sea como sea y se va a actualizar y lo mismo con el pantalón y lo mismo con lo que quiera así que la idea de hacer un avatar digamos avatar hasta el final saber pequeñito saber aproximadamente una cosa así vale por tanto digamos un principio no está pensado para que se vea gigante no está pensado para que se vea así de grande porque entonces se verían los polígonos evidentemente tiene que estar pensado para que se vea a una distancia bastante mayor y también lo que puedo hacer también lo que puedo hacer es cogerlo todo y decirle que quiero verlo suavizado no quiero ver los polígonos así es más o menos como se verá de hecho voy a hacer una cosa que luego destruir evidentemente pero lo que voy a hacer es duplicarlo para digamos que se vea pues cómo van a ser luego un montón de personajes nosotros voy a eliminar porque esto es y x esto es sólo para verlo porque el local muy bien en global y ahora voy a duplicar unos cuantos de estos un poco para tener una idea de qué es lo que vamos a ver después y veremos cómo los personajes pues van moviendo y van caminando y van un poco haciendo pues lo que queramos vale voy a eliminar un montón de ellos y dejar solo el principal porque vamos a trabajar más adelante ya los multiplicaremos había hecho esa multiplicación simplemente para verlo vale simplemente para tocar un poquito voy a ponerle un poco de pelo entonces porque lo del pelo luego me dará juego para darle color de pelo y todo esto cómo puedo hacer el pelo pues bueno yo creo que lo puedo hacer básicamente con una esfera así que voy a venir por aquí voy a duplicar esta esfera la voy a hacer un poco grande bien y a partir de aquí voy a y quitarle un poco y esto se va a llamar pelo no voy a pintar el momento de negro y ahora voy a evitar la malla y al editar la malla voy a eliminar unos cuantos vértices voy a eliminar muy eliminar yo creo de aumentos dos vértices vale más o menos ahora la cosa ha ido bien voy a eliminar unos cuantos vértices y yo creo que suficiente de momento suficiente para lo que quiero hacer vamos a colocarlo un poco en el sitio vamos a incluso no sé si darle un poquito de solís y fai para que el pelo tenga un poquito más d de cuerpo que realmente me da igual porque es que esto luego sin haber una distancia donde es que ni siquiera se va a notar lo que sí que voy a hacer evidentemente es decirle que el pelo es hijo de la cabeza y así un poco ahí está vamos a moverlo y vamos a moverlo ahí por tanto vale ok y entonces pues eso el personaje se verá más o menos a esta distancia ahora lo hacemos igual los ojitos un poquito más grandes vamos a darle igual algún rasgo más vamos a ver vamos iremos trabajando poquito a poquito en los rasgos del personaje siempre insisto pensando que es un personaje es un avatar que en principio está pensado para verse desde lejos así que a partir de los ojos voy a duplicar voy a rotar 90 grados y para hacer las cejas así que tengo por aquí las cejas del personaje vamos a girar las un poquito por qué lo giramos en z y a continuación voy a duplicar para escalar en y menos 1 para hacer una asimetría a ver creo que no ha funcionado escalón y menos 1 yo diría que no funciona bien no pasa nada porque puedo rotar en z y ya está a continuación algo que estas cejas sean hijas de la cabeza ahora las colocó en el sitio más bajo asiste las bajo vamos a ver cómo estamos esto es personaje vamos a esto es tronco vamos a ver la jerarquía clavícula cuello cabeza y aquí lo tenemos y ahora pues estoy aquí es ceja derecha esto es ceja izquierda vale y ahora voy a duplicar el ojo para hacer una pequeña nariz una vez como de koala la nariz no va a ser negra evidentemente esto es una nariz y la nariz evidentemente la voy a pintar de color piel así que esto es piel cuál es el personaje tiene un pequeño rasgo de nariz y con la boca pues podrá ocurrir más o menos lo mismo que con la nariz de momento voy a esta este bloque lo voy a duplicar lo voy a girar 90 grados no voy a momento lo voy a escalar y lo coloco hacia adentro me aseguro que se halla joven la cabeza ahora digamos que es como una especie de pequeño rasgo de la boca del personaje y casi cuando se vea desde lejos pues llegamos quién es como un poquito de cara aunque sea un poquito cuidado porque me está dando la sensación me está dando la sensación pero no parecía que los rasgos no se movían correctamente desde lejos pero parece que sí aunque ahí parece que no pero cuando nos acercamos lo cierto es que sí vale pues más o menos tenemos ya este avatar diseñado e insisto que más adelante este avatar nos va a servir para diseñar tantos como queramos es decir para moverlos no ver en la pantalla tantos como queramos y para tener un personaje digamos que podamos mover mediante programación que podamos personalizar mediante la programación vamos a guardarlo vamos a llamarlo avatar y ahí lo tenemos a continuación y una vez que tenemos ya el personaje vamos a empezar a trabajar con la parte de 3d para la parte de 3d voy a cerrar un momento blender luego lo volveremos a abrir voy a crear una nueva carpeta pero la voy a crear dentro de un entorno de servidor porque para ciertas cosas necesitaremos este entorno del servidor así que en mi caso dado que estoy trabajando en este caso con mac pues estoy con el man y ahora a continuación aquí vale ahora a continuación voy a irme a la carpeta de publicación del servidor vamos a ir a la carpeta chair docs y vamos a ver en aplicaciones en amp nt rocks vale voy a crear la nueva carpeta llamada free js dentro de esta carpeta feliz js voy a crear ya de momento abrir un editor de texto como brackets o cualquier otro editor de texto y vamos a archivo vamos a guardar como vamos a esta carpeta hd docs y js vamos a crear un archivo llamado index.html una vez que hemos creado este archivo vamos a llamarlo fry js barra index.html ya continuación a ver esto no es lo que debería así vale claro es que he guardado el que tenía no yo lo que quiero es uno más quiero que ponga hola la leche era un archivo completamente vacío en el que empezar a trabajar una vez que tengo esto lo que voy a hacer ahora a continuación es descargar el framework efe lee js podría empezar trabajando con a frame voy a en este caso trabajar con su hijo está ese y a tiempo de ir aa frames siempre estamos así que me voy a ir a descargar la ira voy a descargar free js master son 300 6 mb/d de cosas vale pero como ahora veremos no hace falta descargarlo todo nos falta usarlo todo es decir para arrancar un proyecto no hace falta utilizar los 306 megas sino que en esos trescientos seis megas hay infinidad de documentación de ejemplos de todo bien voy a mostrar en el finder de hecho voy a lanzarlo ht docs voy a descomprimirlo aquí me descomprimirlo en free js master y así pues vamos a ir viendo qué cosas nos vamos a ir llegando de momento vamos a verlo mal de momento aquí está aquí en el archivo que había creado voy a crear una estructura de html que va a tener un head que va a tener un body y dentro de este gel y dentro de este body voy a empezar a copiar cosas tengo a quien fui js master tengo un montón de carpetas entre ellas la carpeta example donde la carpeta example son trescientos noventa y dos megas y tengo una carpeta srf la carpeta src es la que tiene pues todo aquello que en un momento dado podemos utilizar la carpeta src no ocupa mucho vamos a tener información son 2,3 megas en el disco así que voy a copiar la carpeta src a esta carpeta de aquí a la carpeta con la que voy a trabajar y por tanto ahora voy a crear un script y voy a decir srf es igual a srf y dentro de ese r de momento no voy a frío js vale con esto ya he cargado free js vamos a inspeccionar vamos a consola a ver si da algún error vale y bueno no puedo usar la importación fuera de un módulo vale bueno pues vamos a cargar algunos de los ejemplos vamos allá y para ello vamos aquí a free js master nos vamos a frío js master copiamos la ubicación vamos a campbell y bueno vamos a nos vamos a cualquiera de estos a este por ejemplo vale entonces vamos a ver el código vamos a ver el código donde estará el código por aquí estaba el código y esta es un poco la cuestión y aquí es donde quiere que importemos los módulos pues vamos a hacerlo así entonces nos vamos a bild vamos a importar esto vamos a bild no quiero bajar y por tanto esto quiere decir que voy a copiar también la carpeta build ahí está copio la carpeta bild la pego aquí srf aquí el apego aquí js aquí está y vamos a vivir recargamos y en principio ya lo tenemos bien a continuación vamos a crear bueno lo que sería digamos nuestro propio módulo vale así que vamos a crear un script y vamos a hacer la escena más sencilla que en un momento dado podamos hacer importamos como frío a continuación vamos a ver vamos a crear la función de init y la función de any mail vamos a declarar las 2 realmente real voy a crear solo límites de momento vamos a empezar creando lo más sencillo que podamos crear la función inite es la que se ejecuta una sola vez al principio y la función animase es la que se va ejecutando paso a paso así que recargamos vale no puedo usar el importe en la línea oms en mal en fuera de un módulo porque esto de aquí es un módulo así que recargamos bien y nos dice march es winfrey pero está bloqueado por un new vale voy a seguir trabajando no pasa nada por ese error y a partir de ahí digamos vamos a empezar a movernos vale de aquí me voy a copiar lo más sencillo que pueda utilizar y es lo siguiente voy a crear un contenedor así que recargo vamos a ver los elementos en el gol y tenemos esto de aquí lo que vale que estoy comprobando que todo esté bien usted hombro cuando lo tenga todo vale esto lo voy a ponerle el boli ok y a continuación vamos a configurar la escena más básica que podamos configurar vamos a usar una sintaxis un poquito más sencillo vamos a por ello y entonces a continuación vamos a esto de aquí y voy a decir lo siguiente yo aquí en este script voy a decir que el módulo es este donde está esto está en src y free js y j bild y frijoles así que recargamos por aquí de momento ok a continuación lo que voy a hacer es cargar los bloques más sencillos que pueda utilizar esto aquí una escena 3d se puede hacer compleja por tanto lo que quiero es simplificar el script al máximo así que para ello voy a hacer lo siguiente voy a crear una constante llamada mi escena y voy a decirle que es una new free punto al paso que hago recargamos vemos que todo va ok en el momento bien a continuación lo que quiere es lo siguiente una vez que tengo una escena quiero una cámara la cámara es el punto desde el que se ven las cosas así que mi cámara const es igual a un new free punto perspective camera y en este caso va a tener una apertura de 75 en la anchura va a ser windows punto dinner with partido punto windows punto giner height y en este caso le voy a decir que vaya desde 0.1 hasta 1000 unidades de profundidad así que dijo que en definitiva está apertura va a tener esta proporción y va a tener este recorte cercano y va a tener este recorte lejano para ver qué es lo que se ve y qué es lo que no sabes a continuación una vez que tenemos en la cámara creada vamos a crear un renderizado el renderizado es el que convierte la escena 3d al final en una imagen 2d que es lo que tiene que salir en pantalla así que constante renderizado lo que estoy haciendo es ponerlo en castellano para que quede muy claro qué es lo que tenemos que poner en inglés y por tanto no lo podemos cambiar y qué es lo que podemos poner en castellano y sí que podemos cambiar renderizado realmente es una palabra que no existe es re presentador pero bueno así que voy a decir que es un new fry y de los diferentes representados voy a poner web cl render hay diferentes representados en free js ya hablaremos de este bello pero este es el digamos el base así que a continuación voy a decir re presentador y punto el tamaño es el wef por el height la arriba es la proporción de la pantalla de la cámara esto de abajo es el tamaño del representado así que ahora a continuación digo document punto por punto a pensáis y quiero representado punto 2 elemento así que después de hacer esto ahora lo que hacemos es recargar y vemos cómo vemos aunque no lo veamos pero vemos cómo ha aparecido por aquí en elemento un canvas este canvas es lo que ha hecho este documento body a pensar que ha hecho es crear un entorno 3d vacío parece que no pero te aseguro que lo que acabamos de crear es un entorno 3d bien ahora he vivido la pantalla para trabajar más cómodo bien ahora claro no vemos nada dentro de este entorno 3d voy a recargar por aquí voy a cerrar por aquí ahora lo que quiero es hacer algo en pantalla es decir quiero demostrar que esto que hemos creado realmente es un entorno 3d y para ello quiero dibujar pues alguna cosita en la pantalla para ello voy a hacer una nueva línea por aquí y vamos a continuar creando objetos a continuación por tanto aquí abajo vamos a crear algún objeto por tanto voy a crear const geometría voy a dejarlo sin acento por si acaso es igual a new free punto y voy a poner box geometría son la caja digamos es una de las geometrías que vienen por defecto así que 111 voy a crear una caja de momento de una unidad por una unidad a torno unidad a una geometría le tengo que añadir un material así que con este material es igual aún no hay muchos materiales en free js voy a cargar uno básico que es més basic material y de los parámetros que le puedo poner dentro le voy a decir que su color va a ser feroz xy voy a hacer uno de color rojo efe 00 s efe para el rojo 00 para el verde 00 para el azul una vez que tengo esto lo que voy a hacer a continuación es decir que voy a añadirle a esta geometría este material para ello creó un constructo cubo y le voy a decir que son new free punto mes donde a la geometría le añado el material y por último lo que hago es que a la escena vamos a ver a mi escena recordamos que sale de aquí arriba del todo mi escena le añado el cubo con un poco rebuscado que para crear un cubo tengamos que hacer todo esto pero más adelante veremos que realmente todo esto que estamos haciendo es lógico y pulsamos play si recargamos la página que generamos aquí lo más probable es que no veamos nada por una razón muy sencilla y es que la cámara y la caja están en el mismo sitio realmente la cámara está ahora mismo dentro de la caja así que para esto lo que vamos a hacer a continuación es la cámara punto posición punto z es igual a 5 lo que estamos haciendo es alejar un poquito la cámara si todo ha ido bien vamos a ver vamos a vernos con dyn porque todavía no hemos acabado vale para a continuación lo que vamos a hacer es un animal digamos lo que vamos a hacer es representar todo aquello que estamos trabajando por tanto ahora a continuación vamos a hacer lo siguiente vamos a ver voy a decir representado punto render luego representado ahora es una palabra que podemos cambiar lo que queramos pero el render no la podemos cambiar y quiero poner mi escena y la quiero ver desde mi cámara vamos a verlo ahora vamos a verlo ahora y si todo va bien y si todo va bien recargamos vamos a ver todavía no vemos nada ahora veremos por qué ahora voy a meter esto dentro aquí dentro de una función qué hacer función animar y ver esta función en inglés y entonces dijo request animation frame a mi mail vale y yo creo que más o menos ya y por último a mí me ejecutó la función aquí en principio un principio en principio debería empezar a salir fin cámara es mi cámara vale no es cámara es mi cámara vamos a ver vamos a corregir algún error que pueda haber de ese tipo y estén a punto cámara posición representado todo el correcto vamos a ver que parece que haya algún error probablemente el error nos dirá qué es lo que está sobre lo bien meses basic material no está definido vamos a por ello lutfi punto mes basic material este es el error vamos a por ello ahora si tenemos ya una caja en la pantalla tenemos una caja en la pantalla ahora mismo esta caja parece que no nos dicen mucho de hecho ni siquiera se nota que sea una caja pero sí que lo es así que vamos a comprobar que sí que es una caja y para ello lo que vamos a hacer es lo siguiente aquí dentro del animal es del animador voy a decir que cubo punto rotation punto x + igual a 0.1 y cubo punto rotation punto y más igual a 0.1 con esto sea ahora recargo la pantalla vamos a ver como no sólo tenemos una caja sino que tenemos también una rotación de la caja podemos ver es un objeto realmente 3d ahora cómo puedo mejorar esto todavía más bueno pues el material de esta caja no parece que sea muy creíble ahora mismo no parece que sea muy tridimensional porque es un material bastante plano el problema es el siguiente me voy a ir a la página oficial de ser y js vamos a ver un momento y para ello voy a desactivar aquí por ejemplo vale voy a desactivar el modo de pantalla de completa que tengo desde hace un montón de versiones y scream voy a desactivar este momento porque cada vez que hago pantalla completa me desaparecen las pestañas sin un tiro esto evidentemente quiero ver las pestañas vale parece una cosa lo que voy a hacer en este caso es poner digamos partir la pantalla manualmente y así tendré todos los tags que quiera esto por aquí y ahora a continuación como decía yo podría por ejemplo irme aquí a la documentación de free js me voy a documentación y digo vale pues este es un material el mes basic material ver esto un poquito más pequeño así que a continuación puedo decir uno que más materiales hay me vengo por aquí me voy a la documentación me voy a material vamos a verlo por aquí y materiales y veo que tengo una barbaridad de materiales veo que el mes basic material es uno pero hay un montón uno que con el que quiero trabajar es el mix font material así que vengo por aquí el mes font material es un material que me da pues bueno un acabado 3b vale así que quiero aquí quitar el mes basic material y poner un mes con material pero tengo un problema y es que si yo ahora vengo por aquí y recargo la caja desaparece porque desaparece la caja por una razón muy sencilla y es que el mes basic material tiene auto iluminado pero el mes font material requiere que yo tenga una luz y yo ahora mismo en esta escena no he creado todavía ninguna luz lo que voy a hacer por tanto a continuación es crear una luz es decir aquí dentro está la caja pero como no tengo ninguna luz no veo nada tengo que tener una luz para ello por tanto vamos a ver por aquí voy a irme a luces ya que estamos aquí voy a crear una luz vamos a ver una wing light por ejemplo una sencillita y así que veo por tanto por aquí que tengo con esto y luz es igual a new free punto y point light que es las más sencillas vamos primero con el color de la luz que es 0 x voy a poner el sff para decir que es luz blanca a continuación tengo dos parámetros más que es aquí está la intensidad y la distancia voy a poner una intensidad de 1 y una caída con la distancia de 100 unidades a continuación voy a decir luz punto posición punto set y voy a poner una tríada de eje donde voy a decir vamos a ver 0,20 0 es decir 0 en x en horizontal 20 en y hacia arriba y 0 en zeta en profundidad así que por último mi escena punto a punto de puntos sobra vamos a por ello vamos a ver si ya lo tenemos así que recargo y si todo va bien pues tenemos una luz en la parte de arriba el problema está en que como está arriba pues prácticamente no se ve voy a tirarla arriba por un poquito hacia mí así que un poquito hacia mí es por ejemplo aquí 10 nadie acepta el tercer parámetro es en profundidad luego 10 es hacia mí y menos 10 es hacia el fondo de la pantalla así que recargo y ahora veo un poquito mejor el cubo voy a poner 20 y tiro la luz todavía un poquito más hacia mí ahí yo creo que se empieza a ver y por tanto como vemos en la pantalla pues tenemos ya un objeto tenemos un objeto donde en este caso pues es un cubo digamos que está pegando vueltas en la pantalla si ya tenemos esta plantilla esto quiere decir que podemos empezar a crear prácticamente lo que queramos vamos a ver el trabajo vamos a la consola para ver si todo va bien esto fuera recargamos vale vamos a poner más cosas si esto va bien y ahora puedo replicar este modelo para poner tantas cosas como yo quiera por tanto voy a hacer lo siguiente voy a decir que con geometría 2 es igual a un news box no quiero un box quiero un plano a ver si hay que no lo sé así que él perdió metris tengo box y tengo plane o metro venga pues hay un play dio metro quiero un suelo bajo de todo esto momento que me cargado quiero un pleno vale material 2 es un material lo quiero de color verde el plane y por cierto qué parámetros tiene pues tiene dimension x dimensión y por tanto no puede tener tres dimensiones valen tres ahora digo suelo es igual a new free mes donde la geometría 2 le pongo el material 2 vale mi escena a suelo y lo que voy a hacer ahora es decirle suelo punto posición punto y es igual a menos 5 para que el suelo esté por debajo del cubo vamos a verlo no parece que se vea vamos a morentín menos 5 menos 50 no lo sé free punto mes de geometría 2 material 2 vale en principio si mi escena al suelo y suelo posición y vamos a decirle que 10 y 10 para que sea más grande vamos a ver suelo street punto mes para hacer una cosa voy a poner un box y geometría y voy a decirle que quiero que tenga 10 de ancho quiero que tenga 0.1 de alto y quiero que tenga 10 de profundo vamos a ver ahora si no se ve debe ser porque está justo al mar prepararle -2 parece que 50 era demasiado ahí lo tenemos menos 1 hay cuidado porque si le pongo menos se interceptara con la caja es decir si le pongo menos 0.4 pues cuidado porque ahí se intersectan a con la caja tampoco quiero eso así que le pongo menos 1 y con esto ya veo cómo empiezo a controlar el proceso de crear objetos en pantalla cómo empiezo a controlar el proceso de crear escenas 3b dentro de la pantalla voy a trabajar con una luz que tiene un poquito más de parámetros una luz mucho más avanzada que es la spotlight aquí está así que me voy a nuclear un momento la luz puntual o la eliminó por la dejo ahí a continuación le voy a decir voy a copiar todo esto es una luz que emite sombras valiendo te digo que esto es poco foco y foco mi escena punto poco vale entonces que estará en 100 no estará vamos a verlo en 0 en 1000 demasiado en 10 y esto en los 0 vamos a verlo ahí lo tenemos está arriba vale la cámara quiere emitir lo un segundo por qué el fuego voy a ponerlo a 3 grados estaba a 30 ok a continuación lo que quiero es bajarle un poquito la intensidad y quiero también haber un segundo y quiero también bajarle un poquito en la el cono digamos así como en team el ángel vale poco punto ángel es 0.1 me dice que no pero yo diría que si no es que no es una función es una propiedad ahora sí ahí lo tenemos vemos como 0.2 aumenta ahí todavía un poquito más perfecto y ahora vamos a ver quiero dedicar su punto de cal es igual no el de camino penumbra esto lo que quiero aquí penumbra y yo voy a poner 0.5 s ahora recargo ahora si tenemos ya ese efecto digamos como que la luz cae poco a poco bien a la luz le hemos dicho que proyecte sombras principio la luz está proyectando sombras pero hay un problema y es que la caja debería estar proyectando su versión al suelo y en principio no lo está haciendo esto es porque ni la caja sabe que tiene que emitir sombras ni el suelo sabe que tiene que recibir sombras así que para ello vamos a ver a todo todo capcom vamos y aquí está entonces le digo que el cubo momento sí el cubo punto cast shadow es igual a trump y al suelo punto recibe shadow es igual a true esta forma digamos no todos los objetos emiten y reciben sombras por defecto sino que debemos indicar debemos especificar quién emite y quién enviar en este caso no lo está haciendo un segundo suelo punto resultados valen un torre cifrado antes de ponerlo en la escena antes de ponerlo él todavía no vamos a hacerlo kast falta buena t todavía no cast shadow es igual a true y he recibido es igual a true live cast shadow es igual a true esto lo teníamos ya y esto nos faltaba nos vamos al re presentador y decimos representados y punto shadow map.mc bold es igual a true y representa 2.0 mapa punto type es igual a free punto pff shadow si todo ha ido bien y ahora en el renderizado ya tenemos sombras vemos que todavía no pasa nada vamos a seguir hasta que consigamos activarlas una vez que consigamos activarlas pues se las debemos para siempre pero pues al principio nos va a costar un poquito tal representado por punto usado map punto enable desigual a true el presentador se adapta efe charo map voy a copiarlo y pegarlo para que me haya dejado alguna letra light castrado o esto lo tengo ya no es igual a true map 6 1500 no mira si he puesto el foco a 10 voy a ponerle 5 porque si estaba a 500 no va a la sombra ahora sí ahora vemos por qué 500 me estaba diciendo que sólo proyectarán sombras a aquellos objetos que estuvieran a 500 unidades o más de la cámara evidentemente no es el caso ya tengo por aquí un objeto girando en la pantalla vale un objeto rodando en la pantalla y por tanto ya tengo un poco de todo tengo geometría tengo luces tengo materiales tengo cámara tenga escena 3d tengo un renderizado tengo un poquito de todo ahora a continuación evidentemente lo que haremos es traer a nuestro personaje pero de momento lo importante es ver como ya tenemos cosas por aquí en la pantalla vamos a organizar un poquito el código antes de seguir así que vamos a ver una escena creo una cámara esto es un representado con sus parámetros añado un canvas al morir de forma dinámica vale y ahora creo una primera geometría para el cubo creo una segunda geometría para el suelo esta luz la puedo quitar ya ahora creo un foco que ilumina desde arriba esto es la sombra vamos a quitar estos espacios añado al foco cambio las cámaras dónde estás cámara bueno luego la cámara un poco hacia atrás y ahora creo una función con un poco de animación y ejecutó la función y con esto como vemos tenemos una escena 3d corriendo a la y preparada para hacer lo que queramos esta escena 3d es algo así ahora mismo como una especie de plantilla y gracias a esta plantilla pues vamos a poder hacer un poco pues lo que queramos bien pero nosotros lo que queremos es traer el personaje 3d que hemos modelado anteriormente así que para esto lo que vamos a hacer es lo siguiente vamos a ir a vender en primer lugar y vamos a intentar exportar el modelo en un formato que en principio reconoce free js que es el formato glp efe así que abro blender de vuelta abro el avatar vale lo voy a exportar vamos a ver en formatos de exportación qué es lo que tenemos gelete efe 2.0 vale así que vamos a exportarlo en ht docs donde estás aquí ht docs qué son ht docs free js vamos a importarlo aquí tenemos formato binario vamos a traerlo como embebido mejor y gelete efe avatar punto g lt efe de momento perfecto así que incluimos no quiero nada ya hablaremos de animación vale exportamos si todo ello bien la carpeta tendremos un archivo llamado avatar punto g lt efe incluso si nos atrevemos podemos soltarlo aquí dentro y si todo va bien veremos que es un archivo json que tiene toda la información que necesitemos para trabajar con lo cual esto que será porque hemos metido texturas esto parece 164 pero no sé realmente de qué igual vengo por aquí y ahora lo que quiero es traer lo que quiero es cargar este glp efe así que si todo va bien voy a traer un modelo 3d no tengo ni idea de cuál va a ser la escala del modelo ahora lo veremos así que también lo primero que quiero hacer es traer importar el importador así que el loader veo que tengo aquí vamos a ver debería tener un gelete fellow there vamos a buscar son útiles nada vale menos escoger en louder directamente vamos a hacer y en bil tampoco estará evidentemente a ver si tengo aquí nunca la host a ver que tengo en los ejemplos fring js master example efe tengo este objeto quiero ver el código quiero ver el código real y lo que está importando vamos a verlo tampoco vale esto es vale web hello del gdf vamos a los example en when gl cloud eran ld efe y este es al principio nuestro traje nada más js m está este jsm js m reuters el glp efe aquí esto este me lo llevo pero llevo aquí y ahora aquí arriba importó glp loader punto js vamos a ver lo recargo bien no puedo importar un statement fuera del módulo en el glp loader punto js vale bueno pues vamos a ver cómo podemos importar el glp efe sin necesidad de hacer esto a continuación lo que quiero es traer el personaje que hemos modelado previamente en blender y para ello necesito varias cosas para empezar voy a ir a blender y abrir blender aquí está voy a abrir el avatar vale y el avatar lo voy a exportar en el formato preferido de fer y js que es el formato glp efe me voy a ir a exportar voy a exportarlo en formato glp efe de los dos formatos disponibles no voy a utilizar de momento el formato binario voy a utilizar el embebido pesa más pero se puede evitar así que me voy a ir a aplicaciones me voy a ir a mando me voy a ir ht docs me voy a ir a fijo está ese y aquí voy a guardar el archivo avatar punto g lt efe como digo al guardarlo como lt efe y no como glp yo ahora podría ese archivo aquí está vamos a ver a free js y podría perfectamente cogerlo y arrastrarlo dentro de brackets dar lo cual tras lo cual comprobaría que es un archivo evitable es decir es un archivo json que puedo editar en cualquier momento bien una vez que tengo este archivo aquí a continuación lo que quiero es cargarlo para cargarlo necesito un cargador de gelete efe y puedo encontrar un cargador de glp efe vamos a verlo en la siguiente ubicación vamos a ir a http vamos a ir a free js master y dentro de los ejemplos veremos que tengo js y tengo el js por módulos así que voy a cargar js dentro de js tengo loader si dentro de louder tengo un g ld efe loader así que lo voy a copiar y me voy a ir a la carpeta del proyecto donde por ejemplo lo voy a pegar voy a crear una carpeta llamada js y dentro de js voy a poner aquí este archivo una vez que tengo este archivo ahora lo que voy a hacer es decir que dentro de la carpeta js quiero cargar el archivo ld efe loader que es el archivo que he puesto cargo jefe laude vamos a inspeccionar voy a recargar la página no debe haber ningún error vale ya continuación me voy a ir a la documentación que dijo está s docs vamos a ver documentación me voy a buscar efe me voy a buscar el importador de glp efe y vamos a algún ejemplo de código vamos a ver vamos a este por ejemplo vamos a el ejemplo más sencillo que podamos empezar por este así que segunda geometría vale cargo una geometría personalizada y entonces digo cargador es igual a new glp efe loader bar & g lt efe loader no está definido porque en este ejemplo se asume al parecer el trabajo por módulos por tanto voy a decir free punto ld efe loader y por tanto ahora ya no dará error entonces ahora lo que voy a hacer es lo siguiente voy a decir cargador punto load y quiero cargar pero el archivo que hemos dicho que se llama avatar punto g lt f vamos a verlo esta estado cierro de momento es este archivo de aquí avatar g lt efe y además lo que quiero es que cuando se cargue voy a hacer función hacer un comeback he creado aquí función dlt efe como parámetro y voy a decir mi escena ave glp f l d efe punto si voy a bajar esto voy a bajar esto y así lo veremos mejor vamos a por ello vamos a recargar a ver qué ocurre recargo y si todo ha ido bien no sé si lo podemos ver ahí pero tenemos ya al personaje en pantalla el cubo lo está tapando un poco vale pero sobre todo por todo lo importante para mí es que veamos cómo tenemos realmente el personaje ya ahí en la pantalla no se mueve está quieto ahora haremos que se mueva pero como digo lo importante es que el personaje está ahí en la pantalla y ahora lo que puedo hacer también es console punto log ld efe lo bueno que tiene javascript es que incluso pues puedo sacar por pantalla exactamente qué es esto animaciones unas animaciones parece que no ha cogido ninguna no me preocupa mucho ahora mismo pero vale children tengo tres y fijémonos que tengo un en ti tengo 1001 y tengo el personaje y en cuanto al personaje en animaciones vamos a verlo así claro muy bien en cuanto al personaje tengo children que es una malla que es la pelvis y ahora sí en animaciones bueno sigue habiendo 0 pero vale en children hay 3 mayas el name es la pierna muslo el tronco estómago se ve que le he puesto mal el nombre vemos como todo lo que he hecho en vender realmente empieza a aparecer aquí así que si empieza a aparecer aquí quiere decir que le puedo empezar a poner en propiedades por cierto que tengo por aquí el material y en material tengo por aqui color y por ejemplo vamos a ver la pelvis qué color es este qué color es este vale este es teóricamente es la pelvis esta es la geometría ahora iremos a por el material porque de momento mes estándar material yo estoy viendo el color parece que tenga un color gris luego este no es el correcto ahora iremos a encontrar el material pero de momento lo importante es que veamos cómo hay un material por ahí bien a partir de aquí quiero poner un poquito más de luz ambiental a esta escena porque lo veo todo un poco negro así que para ello me voy a aquí a buscar ambiente y vamos a ver que hay un ambiente light así que aquí dentro de los focos un poco de luz ambiental y para ello voy a copiar esto y luz ambiental es un ambiente light vale y sin punto esto es mi escena punto de luz ambiental así que ahora vengo por aquí recargo y veo como tengo un poco de luz ambiental y a la vez pues veo un poco mejor los objetos también lo que voy a hacer en este caso es poner la caja un poquito más al lado cubo punto o sitio en punto z es igual a 5 quiero que la caja esté por detrás del personaje ah no perdón menos 5 y de hecho igual pongo menos así menos 1 a los 5 parece que la aleja demasiado ahí ahora quiero cubo punto posición punto z punto y perdón es igual a 1 para levantar un poco la caja para el personaje realmente los pies del personaje estará en el suelo así que en cuanto al suelo en posición menos -1 si pongo menos 1 lo que hago es que estoy separando lo del suelo si el grosor de la caja es 0.1 voy a poner menos 3.05 con eso la caja estará en el suelo pero tengo un problema y es que la cámara está en el suelo también ahora mismo la cámara está justo a cero por tanto no veo el suelo bueno pues lo que quiero ahora es mover un poquito la cámara pero no solo la voy a mover hacia arriba eso es fácil vamos a verlo donde estas cámara mi cámara aquí mi cámara posición que está mi cámara a punto por sitio en punto y lo puedo subir a un metro y ahora tenemos un poquito más subido pero no quiero esto no quiero tener la cámara a ras del personaje no quiero ver en la escena a ras del personaje sino que lo que quiero hacer es subir la cámara un poquito hacia arriba y entonces girar la para que mire hacia abajo es decir si yo cojo la y lo subo hacia arriba 5 en lugar de 1 y ahora vengo y recargo y entonces lo veo todo demasiado desde arriba veo que el personaje se queda por aquí abajo un poco escondido bueno pues entonces lo que quiero ahora es decirle que mi cámara punto rotation punto x es igual recordamos que estamos trabajando en radiales quiero girar 45 grados pues básicamente es p partido por 2 es 90 por 4 es 45 haciendo la conversión mental de grado sexagesimal es a radiales así que vengo por aquí recargó vale la hégira 2 el lado contrario es decir la girado hacia arriba en lugar de girar la hacia abajo bueno pues menos es más y ahora sí ya estoy viendo al personaje desde arriba hacia abajo balear en lugar de verlo a la misma altura pues lo puedo ver un poco mejor voy a hacer que el suelo sea un poquito más grande para ello vuelvo al suelo y en lugar de 10 unidades le voy a decir que tenga 100 unidades de largo 100 unidades de profundo guardia y recargo y ahora veo que el personaje está situado sobre un suelo es el suelo ahora mismo es verde no me disgusta voy a dejarlo verde así tal cual y ahora lo que quiero a continuación es decirle al sistema que pues quiero mover el objeto quiero mover el objeto quiero mover el personaje momento un poco de forma aleatoria pero claro para mover el personaje realmente no puedo hacerlo desde el sentido desde el punto de vista en el que buscaron mi escena lo tengo aquí metido dentro de un parámetro y ese parámetro no lo puedo tocar aquí fuera quiero decir que sea la vivo consuele punto log lo mismo de arriba dlt.es sin recargo y da error que raro no aquí arriba funciona aquí abajo no funciona no es raro esté aquí arriba estamos dentro de una función pero aquí abajo hemos salido de la función y fuera de la función por protección pues ese parámetro no existe entonces qué es lo que voy a hacer pues lo que voy a hacer vamos a ver lo voy a decir ah vamos a ver voy a decir con un personaje es igual a un min vamos a verlo aquí firmes es un proyecto vamos a cargarlo aquí aun se extraía aquí esto es lo que estoy buscando vale entonces personaje es igual a un new tree punto se exprime con la esperanza de que eso sí que pueda cargarlo y entonces aquí lo que voy a decir es qué personaje es igual gl tf-5 de hecho lo que puedo hacer es cargar no solo gelete efe sino ya no solo la escena sino todo entonces veremos a sainz en tu constante moment in vale esto es claro esto es un bar bien entonces ahora vengo por aquí y entonces veo como pues tengo animaciones a la silla y tengo las animaciones tengo assets tengo cámaras tengo para ser tengo escena vale tengo escenas de hecho tengo varias no las voy a utilizar pero es bueno saber que estaba ahí vale pues ahora ya tengo el personaje metido dentro de esa escena voy a hacer con solé punto log personaje recargo ahí lo tenemos vale y por tanto ahora es cuando técnicamente ya puedo mover el personaje entonces por ejemplo voy a decir lo siguiente voy a decir por hacer una prueba personaje punto o sitio x más igual a 0.05 a ver qué pasa así que si recargo y todo va bien ahora veremos que el personaje se va para allá es decir ahora veremos que el personaje pues empieza a caminar digamos de motu propio aunque no he ejecutado todavía las animaciones del personaje a luego iremos pero vemos cómo el personaje pues realmente empieza a caminar y se empieza a desplazar realmente lo importante de esto es notar como ya tengo el control sobre el personaje es decir lo importante es notar cómo se puede mover el personaje es que ya puedo hacer lo que quiera con ese personaje hasta ahora en principio podría parecer que trabajar con free js equivale a trabajar con un dialecto pues un poco completamente diferente de javascript a trabajar con una app y que nos obliga a trabajar con esta app y únicamente y no es así no es cierto en cualquier momento nosotros podemos mezclar javascript puro y duro con este trabajo con share y js y es perfectamente compatible y lo podemos hacer sin ningún tipo de problema así que voy a demostrar esto para crear una matriz de personajes y por tanto quiero crear matrices no es algo que se haga dentro del free js las matrices son algo que es puro de javascript así que voy a parar un empina este personaje luego lo pondremos en marcha otra vez voy a hacer que se quede quieto en la pantalla y ahora a continuación voy a hacer lo siguiente vamos a ver voy a crear arriba del todo en variables declaración de variables una variable que va a ser número personajes qué va a ser es igual a 10 por ejemplo no lo voy a declarar con constante porque este esta variable de hecho arreglo va a variar ahora luego veremos por qué en un momento dado se crearán nuevos personajes eliminarán personajes por eso esto variará y ahora a continuación digo dar personajes cuidado porque personajes es en el singular vale es igual a new array así que ahora a continuación voy a hacer lo siguiente una vez que tengo esto digo ahora bar y es igual a 0 y es menor a número personajes y más por tanto estoy metiendo de repente un bucle foro porque sí porque quiero y ahora digo personajes es igual a personaje entonces que acabo de hacer bueno por lo que acabo de hacer es crear diez personajes vale ya simplemente aquí lo que esto es crear un array y a cada uno de los elementos de la rai les he metido el objeto 3d y ahora por ejemplo claro si ahora recargo no se va a ver vamos a ver dale no más bien aquí esto más bien aquí esto lo voy a meter dentro aquí y ahora personajes de ahí es igual a glp efe.es team ahora sí que tengo 10 personajes de hecho sea diego con sole punto de ojo personajes recargamos y vemos que tengo un array y dentro de la rai tengo pues una serie de personajes y ahora por ejemplo aquí a continuación voy a decir ahora sí otra vez formar y es igual al número de personajes ahora voy a decir personajes y punto positión x es igual a más punto random por 100 y lo mismo con zeta estoy poniendo los personajes aleatoriamente se hará recargo vamos a ver posición porque esto es un objeto por sitio en b y vamos a verlo esto un segundo vamos a verlo esto es un objeto que raro vale porque ese personaje posición personajes de iu voy a ponerlo aquí al lado voy a ponerlo vamos a verlo porque quizás el problema es que en aquel momento todavía no existían los personajes y ahí es donde empiezan a aparecer los personajes en los que en los primeros ocho no ha funcionado ahora sí entonces claro lo que voy a hacer en este caso lo que voy a hacer en este caso es que esto porque no quiero que la oposición cambie en cada fotograma es un poco molesto como podemos ver vale lo que quiero aquí es que personajes de posición ahora sí vale donde están los personajes no lo sé se me han ido por ahí vamos a ver por uno y por uno vale vemos como de momento para eso un personaje realmente debe haber días por ahí personajes de oposición x 2 creo que se me están yendo todos al mismo sitio porque realmente hago esperate ah claro mi escena punto escena personajes de iu pero si no los estoy metiendo y de hecho el personaje original luego ya aunque recargo vamos a ver personajes de iu en principio debe haber 10 bueno ahora veremos ahora los veremos yo creo que están los 10 años metidos yo creo que son los dije metidos pero bueno como ahora a continuación los vamos a empezar a mover pues no habrá mucho problema algo que puedo hacer es que aquí probar y es igual al número personajes voy a hacer lo siguiente voy a decir personajes de punto posición punto x + igual a más punto random y ya está y ahora voy a hacer lo mismo con seta los voy a mover de una forma un poco aleatoria esto lo voy a partir por 10 esto lo voy a partir por 10 y el objetivo vamos a ver aquí personajes de iu es comprobar que se empiezan a mover vamos a partir esto por 100 y vemos como hay uno que se va poco a poco vamos a partirlo por mil vemos que hay uno que se va pero en principio ese personaje debería representar a los diez personajes así que vamos a números personajes vamos a asegurarnos de que creamos x personajes diferentes esto es una matriz el líder es el mismo el líder de objeto es el mismo y ahí tenemos un problema menos mal que en este caso tenemos al líder de objeto que nos está diciendo que si el líder de objeto es el mismo es que hay algo que no funciona bien vale voy a decir personaje así el personaje vamos a ver esto el ide sigue siendo el mismo vale pues en este caso lo que voy a hacer es lo siguiente lo que voy a hacer es decirle al sistema vamos a verlo aquí momento y voy a hacer lo siguiente cada uno de estos personajes será un objeto 3d diferente a personajes de iu es igual a un new free coaching friki vamos a verlo ahora vale para cada uno tiene un nivel diferente y por tanto ahora si tengo esto vale y entonces a la digo personajes de iu es igual ld efe puntos si todo va bien vale vamos a verlo vuelve a ser el mismo bien vale gelete efe.es y lo que quiere en definitiva y ahí es que cada uno de ellos sea diferente igual me toca cargar 10 veces esto no descartemos pues bueno pues vamos allá si esto es así vamos a hacer lo siguiente este foro los saco así fuera este foro abajo aquí abajo y ahora cargador loud personaje cargo allí esto fuera vamos allá recargamos vale posición de james esto fuera del momento esto fuera de momento que es lo que estaban de error vale tengo ya hay unos cuantos personajes de momento quietos es lo que quiero vale y ahora pues ya tengo vamos a ver 10 elementos ahora vamos allá y ahora personajes pacífica es una radio de elementos pero no veo los 10 elementos sinceramente no pasa nada no me preocupa demasiado pero vamos a verlo bien ahora por ejemplo os digo bueno no quiero 10 elementos quiero 30 pues ahora vemos como tengo en el momento 30 personajes en pantalla no tenemos como ha tardado un poquito en cargar vale por eso es importante que el personaje pues no consuma muchos recursos para que no colapse el sistema vamos a continuar voy a dejarlo en 10 personajes tampoco hace falta 30 ahora y por tanto ahora lo que quiero es seguir demostrando cómo trabajar con free js no nos impide trabajar con otros digamos otras partes de javascript por cierto que la luz la voy a echar un poquito para arriba voy a subir la luz 30 en y vale ahora les diré a los objetos que proyecten sombra hacer que las geometrías proyectan sombra es otra historia pero bueno a ver un momentín fijo está ese glp efe cast shadow y la falta está aquí está para qué vale entonces aquí está voy a cargar esto ya hablaremos del método travers el método travers lo que hace es recorrer uno a uno todos los elementos de la escena y lo que hace es decirle que si el nodo es una malla en ese caso activar en la proyección de sombras una forma un poco elaborada vemos ahí como ya tenemos sombras parece que no pero los personajes ya están proyectando sombras y ahora a continuación lo que quiero es lo siguiente class personaje vamos a ponerlo en una clase ahora veremos por qué klaus personaje una serie de cosas constructor voy a poner de punto x es igual a más punto random menos 0.5 x 10 estoy creando una clase que no es de frijoles es una clase normal this punto y es igual a 0 y de zeta es igual a esto entonces lo que voy a hacer es que cada uno de estos personajes sea una cosa diferente sea una clase no solo una malla sino que sea un personaje y por tanto this punto bis punto que despuntó maya es igual a new free punto de freddy vamos a recargar lo vale ok todo momento bien entonces yo lo que quiero ahora es decirle al sistema vamos a ver y es igual a 0 y es menor que número personajes y más ahora digo qué personaje y personajes de y es igual a un new personaje porque estoy haciendo es crear una clase por tanto ahora tengo que replantear esto personajes de iu maya punto maya y personajes de maya solo que metro es la malla del personaje personajes de maya es esto no hace falta porque creo que ya lo ha declarado arriba así que esto va afuera recargo bien vamos a ver no puedo poner los propiedades de andy find vale personajes de iu voy a hacer una cosa personajes del punto maya voy a re declararlo es igual a un frío feliz vamos a verlo así vamos a verlo vale el set properties cuando falla en la línea 58 maya no puedo poner los properties de dónde fue en la línea 58 vamos a voltear un momento de esto recargo y tengo el error vale los márgenes de un tamaño es igual a cero pero ahí el fandi find y no está definido personajes y lo que me dice es que esto no está definido es decir vengo aquí a consuelo personajes es que no es los personajes ok hago tengo como 100 allá y luego que no funciona bien y dentro de cada uno de ellos tengo un personaje y dentro de cada uno tengo un objeto 3d aquí hay algo que no ha funcionado bien antes de meterme aquí vamos a ver qué es personajes esto suena 53 y 68 muy bien recargamos vemos que hay diez personajes cada uno de ellos con su malla ahora quiero saber quiénes personajes de cero y hay una malla quiero que me digas quién es su malla es un objeto 3d así que personajes de 0 punto maya es igual a un niño free punto escribí vamos a verlo ahora teóricamente es correcto hace nuestro error así que si no da error porque da error aquí vamos a hacerlo a mano número personajes vamos a verlo no formar y es igual a 0 y es menor que número personajes y más al cargador es igual a miwa raid y entonces ahora digo cargador es igual a un gelete flow ver así que esto es cargador de gym esto fuera vamos a verlo viene hasta el momento personajes mayas igual a 0 vale no puedo ser properties off and i find vamos a ver consuele punto log personajes de y vamos a verlo y aquí lo tenemos ahí está el problema del problema es que es tan difícil entonces si el handy fine no debería ser and if i'm pero lo es vamos a ver personajes de iu es igual a ningún personaje quizás no elevado tiempo a que esto se ejecute correctamente asiste por tanto vamos a crear una función init y en definitiva lo que quiero es que todo esto tarde un segundo en ejecutarse el segundo o mejor todavía voy a decir séptima otro ejecuta a mi mail dentro de un segundo descargo y andy find ok ahora se time out voy a ejecutar todo esto también dentro d un segundo esto lo cargo aquí recargo andy file hola a ver vamos a asegurarnos y esto en todo caso para ser un error de lógica en el sentido de que yo he creado arriba personajes pero el sistema me dice que los personajes no existen es decir que es un antifaz cuando aquí arriba por ejemplo hacia arriba con sólo personajes ahí por ejemplo tenemos un personaje pero sin embargo abajo dejan de existir pues y aquí arriba existen y aquí abajo no existen es que en algún momento - que estoy cargando así estábamos allá personajes vamos a buscarlos número personajes que valen igual los personajes de iu es igual a ningún personaje con solé punto los personajes hasta aquí existen otra cosa que puedo hacer es esto ponerlo aquí recargo esto fuera recargo ahora existen los personajes pero esto ha sido un truco raro es decir lo que he hecho es forzar la red declaración de los personajes pero no debería haber ocurrido bueno vamos a ver si ya puedo continuar el personaje es maya es igual a gelete efe.es sin vamos a verlo y ahí tengo los personajes y ahora si los personajes ya están metidos dentro de la escena esto voy a decirle un time out de 100 esto voy a decir un taimado de 100 vemos cómo sale cada uno en una posición diferente y ahora lo que quiero es decirle al sistema que la posición de la malla pues no es realmente es cerrando sino que es personajes punto x y personajes punto z sus propiedades reales ahí tenemos los personajes muy bien y ahora a continuación lo que quiero es empezar a mover a los personajes cada uno con sus propias propiedades para ello me voy a ir a vamos a verlo me voy a ir a this punto ángulo es igual a más punto random x + x 2 así que si cada personaje tiene un ángulo vamos a verlo ahora a continuación vengo por aquí y digo force para cada uno de los personajes vamos a comprobar que me dejen moverlos y vamos a hallar personajes el ángulo es igual a más punto random menos 0.5 y esto lo multiplicó por 0.1 para que vayan cambiando poquito a poquito su ángulo por 0.1 a continuación digo personajes x personajes de x es más igual a más coseno de personajes de ángulo y la zeta va a tener el seno no sé si lo he hecho ha sido hecho al revés vamos a verlo y si todo va bien le damos a recargar vamos a verlo ah perdón punto vamos a verlo punto maya punto posición punto x vale punto maya punto posición punto z realmente no me mola esta solución no vemos la esta solución porque prefiero actualizar la posición verdadera y ahora decirle que el punto maya punto por sitio en x es igual a personajes de y punto x esta solución yo creo que es mucho más limpia ahora sí primero actualizo la exposición teórica y luego actualizo la posición real lo mismo con la zeta y de momento no se toca si todo ha ido bien vamos a verlo los personajes deberían empezar a moverse pero de momento no lo están haciendo personajes de maya voy a sacarlo por pantalla a ver qué está ocurriendo con sol de puntos personajes de in como más afecta vamos a verlo parece que veo que hay algún tipo de cambio así que veo qué así que veo que hay algún tipo de cambio veo que se van todos hacia la derecha lo cual me extraña pero bueno vale malla posición zeta y esta es la parte que al parecer no está funcionando correctamente posición zeta con solo punto lo vamos a ver esto eso no tiene un posición en principio debería ser correcto bueno de momento tenemos esto vamos a ver a continuación porque teóricamente el personaje se está moviendo pero la escena 3d no está representando los cambios sin embargo se sigue moviendo vale voy a probar otra aproximación y es que lo que voy a hacer es ir trabajando en otras cosas mientras acabamos de solucionar el movimiento por tanto al saber entraba aquí vamos a y este index por tanto arrancamos chrome localhost vale y ahora lo que voy a hacer es trabajar un poco sobre otros factores tales como por ejemplo pues la rotación así que tenemos un ángulo lo que voy a hacer en este caso es que cuando el personaje se deja mover digamos vamos a un poco esto pues voy a hacer lo siguiente personajes d-link barra rotación barra y es la el eje vertical es igual a personajes de ahí punto a punto ángulo guardo y recargo y vemos como ahora cada personaje está girado según el ángulo que originalmente le pertenece según el ángulo que le hemos dado aquí arriba en el objeto otra cosa que quiero hacer es variar un poco la apariencia de los personajes vamos a ver si podemos llegar un poco a sus materiales entonces voy a hacer con solo punto log y quiero modificar por ejemplo el color de la camiseta así vengo por aquí sabes que voy a evitar todo voy a ver todo me voy a inspeccionar me voy a consolar como un personaje vale dijo tengo la malla dentro de la malla vamos a ver tengo por aquí una serie de objetos la idea es ahora cual estoy editando voy a hacer una cosa personajes es igual a 1 y así voy a editar me que voy a asegurarme que editó el que quiero recoger este por ejemplo vale entonces maya quiero hay tres children's hay una cosa que no me gusta mucho y es la siguiente vamos a ver y es que aquí arriba tengo un 21 y un mtv que realmente ya lo estoy utilizando entonces estos dos entes me los voy a cargar porque no quiero estar digamos transportando información que no vaya a utilizar exportó glp efe sobre escribo avatar así que recargo y por tanto en el personaje en la malla veremos que ya no tenemos vamos a ver si vale vamos a recargar bien recargado y children ahora veremos por qué siguen apareciendo tres personajes esto se ve que no estoy reescribiendo la malla correctamente pero bueno lo que sea entonces ahora vengo aquí voy al avatar recargo la página para comprobar que debería fallar debería estar fallando y js index no sé qué está cargando ahora se vale pero muy bien entonces exportó se ve que tenía un tipo de caché free js avatar lo exportó ahora botón derecho vacío la caché vale y ahora el personaje que se ve un poco lejos vale la malla ya tenemos sólo un silben perfecto vamos a hacer que esté un poquito más cerca muy bien ahora una vez que tenemos la malla vamos a el objeto 3d creo que aquí es donde voy a encontrar el problema que tenía anteriormente vale creo que ya sé dónde estaba el problema de antes del movimiento bien el caso de hecho 00 cet a 0.01 0.02 me dejara tocarlo pero de momento lo que quiero es editar los materiales entonces tengo un kilométrico y tengo un material vale así que este material en principio tiene un 0.02 0.0 23.02 si lo evitó de hecho no cambiará estoy tocando el color del material así que yo lo que quiero es evitar los materiales layers matrix quiero llegar a los materiales vamos a ver si puedo buscar en los objetos vengo children otra cosa es para causar es que voy a especificar aquí te quiero la escena consuele puntos gdf vecino quito material tengo el grupo y voy a buscar por aquí donde están los materiales objeto 3d es el personaje y por aquí lo que quiero es llegar a las mallas aquí tengo un pierna por ejemplo una geometría tengo un material el material es todo gris así que yo creo que es en pantalón ahí está muy bien vale claro evidentemente vamos a ir a los hijos vamos a ver si podemos recargar un personaje que se vea un poco mejor el personaje maya children la pelvis pero children el tronco quiero children silver el tronco yo creo que por aquí ya podría a ver si puedo llegar a la clavícula children tronco children yo creo que este de aquí ya abrazo esta es la clavícula vale my name me name tronco clavícula así que me voy a material y en material aquí si todo va bien veo 102 10 35 108 le voy a poner un 1 pero estos son 0 y esto es un 1 y fijémonos como acabo de convertir la camisa en rojo es lo que quiero ahora es decir lo siguiente lo que quiero ahora es seleccionar el material se llama neymar camiseta y quiero hacer un pequeño travers entonces vamos a por ello aquí en las propiedades voy a hacer lo siguiente de punto camiseta r es igual a más punto por más random por 256 en este caso parece que los colores van de 0 a 1 vale con lo cual pues más punto random directamente así que esta es camiseta rojo camiseta verde y camiseta azul y por tanto ahora lo que quiero es lo siguiente personajes si quieres atravesarlo todo realmente y entonces voy a decir lo siguiente gelete fe sin travers vale si el nodo es maya entonces el nodo qué es un mes no es más y ahora sí no de punto material punto negro qué es lo bueno que tiene que javascript de todo aquí es igual a camiseta en este caso no de punto material punto color r vamos a ver si funciona es igual a personajes de ahí punto camiseta r de la misma forma tengo el je y te envuelve y se ve vamos a probar a ver si funciona veo que hay una camisa amarilla por ahí la camiseta verde le vemos cómo está funcionando y por tanto ahora sí devuelvo esto a diez personajes pues voy a comprobar como cada personaje va a aparecer con una camiseta diferente lo cual quiere decir que puedo hacer por ejemplo lo mismo con los pantalones ahora por ejemplo lo que voy a hacer es decir que si tengo un material llamado pantalón o el primero voy a definir las propiedades esto es pantalón componente rojo pantalón componente verde pantalón componente azul y entonces digo sí material name en el pantalón en este caso pantalón rojo pantalón verde pantalón azul así que si todo va bien pues veremos como ahora cada personaje vamos a cerrar esto cada personaje tiene una combinación de colores pues de ropa diferente puedo hacer lo mismo con él con el pelo puedo en este caso crear una matriz vale una matriz de colores de pelo y puedo recorrer la matriz o puedo poner un color completamente independiente o puedo hacer lo que quiera realmente bien hemos acabado con lo que sería o hemos acabado hemos hecho algo con el color de la ropa voy a volver a probar lo de mover el personaje ahora que creo que sé dónde está el problema vamos a por ello otra cosa que quiero ahora es aplicar un poco de órbita es decir estamos moviendo un objeto dentro de poco moveremos varios personajes pero también lo que quiero es moverme y yo para ver un poco pues para poder orbitar alrededor del mundo hay varios tipos de movimiento de cámara en este caso para este ejemplo voy a implementar un movimiento de órbita que me permitirá mover yo la cámara así que para ello me voy a ir y jf orbyt controls vamos a ver por aquí para trabajar con orbyt control voy a una librería esta librería está aquí está en src está en example está en j s está en control y por aquí hay un norbit controls lo voy a copiar lo voy a pegar dentro de js y lo voy a cargar así que me vengo por aquí y cargo orbyt controls por aquí no no lo que quiero es editar el nombre y quiero cargarlo vale ahora dentro de orbyt control sostengo por aquí este ejemplo en la documentación y voy a hacer lo siguiente vamos a ver en controles cojo la cámara debajo de la cámara dónde estás cámara aquí abajo de la cámara voy a poner con control los controles es igual a mi cámara representa dor representado esto va a dar error porque el representado no existe todavía ha llegado a este punto vamos a ver vamos a comprobar que he llegado a ese punto me dirá si construyes notifight moment in new free punto orbyt controles para empezar y ahora no puedo acceder a re presentador antes de su inicialización por tanto voy a este controles y lo voy a poner después del re presentador vamos allá así que ahora al hacer clic y arrastrar como podemos ver en la pantalla lo que puedo hacer es ver un poco alrededor es decir puedo moverme yo además de que ahora luego ponga a los personajes en movimiento pero puedo moverme yo y puedo pues ver un poco a través de la escena en todos los servicios controles creo que hay por aquí creo que hay por aquí un límite en el volcán por cierto es que si hago clic con el botón del medio lo que hago se acercarme y alejarme y si hago clic con el botón derecho lo que hago es spam panorámica vale con lo cual pues podemos ahí ver con más detalle el personaje que queramos podemos moverlo podemos girar lo vale así que es orbyt controls como vemos pues nos permiten tener un control un poquito más preciso del mundo vamos a ver un poquito como estamos de consumo de rama antes de fraga este vídeo monitor de actividad vale memoria de google chrome estamos usando 158 megas vale voy a cerrar por aquí y ahora estamos usando cientos en 164 no tengo más cromos abiertos creo que no y ahora lo que voy a hacer es que voy a meter 50 personajes para ver si esto aumenta mucho la carga ahí tengo 50 personajes y hemos pasado a 164 vale pues no hemos aumentado mucho vemos que la escena todavía se mueve con cierta soltura vale con lo cual muy bien pues tenemos ahí una serie de personajes y ahora como digo pues vamos a editar un poco pues otros colores como por ejemplo el color de la piel podría hacer un color muy random vale vamos a ver yo ya blender a ver si consigo sacar una lógica para el color de la piel más que nada porque un ser humano puede tener muchos colores de piel pero por ejemplo azul pues no o verde no entonces quiero una serie de colores pero digamos no ilimitados así que esto es la piel si cojo rojo verde y azul vale pues lo que puedo hacer de momento lo que puedo hacer es mantener el rojo este mantener el rojo y bajar el verde y el azul con una cierta proporción cierta procuración pues un segundo y estoy analizando a ver como podemos porque hay el rojo muy bien entonces voy a decir lo siguiente si esto era pantalón poster o piel de punto piel claro piel ya lo tengo es quien rojo y ahora voy a decir this punto factor es igual a más random bien y ahora digo skin rojo es igual a esto y entonces ahora vivo skin verde es igual a skin rojo x el factor y ahora esquina azul es esto x factor' dividido entre 2 con esto por tanto ahora como se llama el material se llama piel hago otra vez si el material exp hiel en ese caso esto es skin rojo skin verde y skin azul vamos a verlo no creo que se vea mucho parece que hay un error vamos a ver cuáles consola error factores not be fine vale porque es this punto factor recargamos vale ahí los tenemos si no lo sé pero si nos acercamos vamos a ver como ahora cada personaje tiene un color de piel creo que en algunos casos pasa muy a rojo pero bueno de igual con que cada personaje tenga un tono diferente de piel de momento me vale y lo mismo podríamos hacer con el cabello podríamos aplicar un color vale un color aleatorio o un color dentro de una matriz para que cada personaje digamos tuviera un carácter diferente con esto por tanto ya estamos en un punto en el cual tenemos una serie de personajes en la pantalla y lo que queremos para dentro de poco ya prácticamente es que los personajes se empiezan a mover es decir que los personajes empiecen a tener un movimiento en pantalla y que podamos controlar hacia dónde van porque van hacia un lado y no hacia otro que coleccionan entre sí y todo aquello que podamos necesitar muy bien pues vamos a el código y vamos a replantearlo para la parte que nos falta que es la parte de mover los personajes así que para ello vamos a ver mal así que para ello vamos a 81 ok vale y entonces el problema está aquí vamos a quitar este time out que viene de aquí y viene de allá y el problema está en que este cargador realmente el problema está en que sólo ejecuta esto cuando esto ha sido cargado cuando el cargador ha sido cargado por tanto este foro se intenta ejecutar todo lo rápido que puede pero este loud es asincrónico y por tanto todo esto va a fallar es decir la y siempre va a ser 50 por una razón muy sencilla y es que el cargador punto load no va a ejecutar esto dejamos el bucle for no va a esperar a que el cargador haya acabado sino que el bucle for va a ir ejecutando pero el cargador no habrá acabado así que a continuación vamos a hacer lo siguiente en primer lugar voy a reutilizar este cargador de aquí este cargador va a ser un 'new age' tlf loader en la continuación voy a hacer lo siguiente vamos a ver por una parte vengo por aquí y ahora vamos a ver una vez que tengo esto lo que voy a hacer es que voy a mandar 50 cargadores a cargar así que tengo esto y ahora quiero aquí ya que con esto por cierto vamos a ir tirando partes del código que ahora volveremos a desbloquear más que nada para comprobar que no salen errores y poco a poco ok perfecto pues ahora lo que tenemos básicamente es una serie de cargadores en pantalla el cargador funciona pero lo que el cargado admite la y por lo que no admite la y es lo que haya aquí dentro por tanto entonces ahora lo que voy a hacer es lo siguiente voy a decir que va a iteraciones cargador es igual a cero bar temporizador voy a hacer una función asincrónica de carga es igual al set time out y voy a hacer una función llamada bucle carga vamos a ponerlo aquí entre paréntesis bucle carga en 500 milisegundos y ahora por tanto digo función function un bucle carga y entonces voy a hacer lo siguiente clear time out temporizador y temporizador es igual a bucle carga con esto por tanto a continuación lo que voy a hacer es lo siguiente antes de acabar iteraciones cargador más y voy a decir que sólo cuando iteraciones cargador sea menor que número personajes en ese caso sólo en ese caso se volverá a ejecutar este bucle entonces con esto ahora sí que puedo venir aquí y decir lo siguiente así que puedo decirle que personajes de maya momento esto lo tenemos ya vale vamos a ver aquí cargador de ahí aquí es donde está un poco el problema mal ahora haré un personaje de prueba vamos a ver porque una vez que he llegado aquí es cuando ya puedo meter la información que voy a poder necesitar personajes el health efe sin esto es lo que necesito cargar aquí es me falta la asignación pero no puedo usarla y esa es la cuestión y aquí entro en bucle de carga es donde tengo que llamar a personajes de iteraciones cargador punto maya y le digo que la maya es la maya correspondiente al cargador ahora es donde aquí puedo hacer esto a ver si lo podemos ver aquí y entonces personaje iteraciones cargador es igual a g lt efe.es sin y por último mi escena personajes de iu personajes de iteraciones cargador maya vamos a probarlo vamos a ver lo voy a poner por aquí con solo punto lo cargando y con esto probamos el código vale no puedo cargar lo dudo muy bien en cargador de y correcto es porque esto es cargador de iteraciones cargador ok muy bien cargando is not y fine en la línea 87 y cargando ok es una cadena es un string veremos allí los personajes que están cargando en principio parece que no ocurre nada parece que todo está bien este bucle no es que no tenga fin es que tengo 50 personajes voy a cambiarlo a 10 personajes para que sea más sencillo de momento y ahora si todo ha ido bien no puedo poner las propiedades de andy find aproximada vale si todo va bien voy a poner mi escena y vamos a ver cuántos elementos tiene mi escena me voy a mi escena me voy a children y veo que tiene 13 elementos y además veo que los ires son diferentes y además cojo uno de los objetos me voy a posición y en la x le pongo uno y veo como entonces ahora sí lo que lo he sacado vale por tanto vemos como ahora si el personaje de los personajes ya empiezan a estar correctos bueno voy a volver a sacar por si acaso con solá no sea que tenga más errores que siempre puede ser aquí por cierto tenía un error voy a decir número personajes aquí está no el error viene aquí el error viene aquí es menor o igual vamos a ver si así eliminó este error vamos a verlo pues no entonces es menor a número personajes menos uno debe actuar correctamente y ahora si todo va bien si todo va bien es cuando ahora puedo recuperar este código vamos a verlo aquí cuando puedo recuperar este código copio para luego eliminar el local málaga pero y voy a cambiar la iteración es cargador iteraciones cargador estoy recuperando todo lo que tenía antes pero ahora en lugar de meterlo en una y de bucle for lo estoy metiendo en un temporizador vale si todo va bien vamos a verlo si todo va bien realmente los personajes han desaparecido no tengo tampoco warnings vamos a ver la posición x vamos a ver la posición x cuál es me estreno lanzó la escena sacó los children escojo este grupo por ejemplo me voy a posición y posición veo que está en 57 porque está en 57 porque están allí pues no lo sé parece que se han ido hacia allí por algún motivo que ahora mismo desconozco pero que debe tener evidentemente su motivo así que personajes iteración cargador es la fe está solo ha pasado con la equis no con la zeta pero que están por personajes allí así que personajes iteraciones cargador vamos a ver qué ha pasado vamos a ver qué ha pasado donde creo los personajes y personaje de y de x es más fondo random por 10 principio en principio está todo correcto pero los personajes por algún motivo salen mealor salen todos por allí por algún motivo que ahora mismo desconozco vamos a ver si es por esto vamos a ver se tiene que ver esto de aquí vale aquí empiezan a aparecer los personajes ok vale donde la idea está en que ahora pues cada uno de ellos debe tener una malla completamente diferente y ahora si teóricamente es cuando puedo empezar a trabajar con estos personajes vamos a intentar mover uno de ellos vamos a ir al personaje cero con solo punto log personajes de 0 vamos a verlo vale tiene una equis y tiene una zeta correcto no hay problema de aumento así que voy a hacer lo siguiente voy a copiar esto desde cero estoy moviendo sólo un personaje vamos a mover primero un personaje vale ya tenemos allí algún problema y no puedo leer las propiedades de a porque no puedo leer las propiedades de a pues por alguna razón que no sé vamos a ver lo tenemos ahí la a tenemos ahí la pero por algún motivo personajes de 0 de a y no lo está cogiendo si quito la entonces probablemente me dirá que me dará un error vamos a verlo también la así que vamos a voltear esto vamos a tener esto ok vamos a probar con el personaje 1 a más poco a poco vamos con la xy con la y parece que el personaje pero está fallando vale ahora tienen que me falla muy bien me falla aquí el 1 y el 1 ok vamos a por ello vale hay uno allí no sé qué hace allí vale bien y ahora si todo va bien por lo menos habremos avanzado algún pasito pero personajes de 1 punto malla punto position x es igual a personaje personajes de uno de equis y lo mismo es con la zeta vamos a verlo recargamos vale en principio todo bien estoy buscando se algunos están moviendo en principio no se está moviendo de hecho schumacher 0 punto maya punto posición creo que técnicamente no se produce ninguna personajes de 1 perdón ningún movimiento así que debería producirse movimiento pero no se está produciendo por lo menos ya tengo los personajes cada uno en su sitio cada uno con su entidad diferente y así por lo menos vamos a empezar a mover personajes vale pero la idea es que por lo menos ya tenemos esto más correcto y ahora a continuación pues vamos a empezar a mover los personajes correspondientes vale lo que he hecho ahora es decirle al personaje que la x únicamente me la aumente en 0.01 en x vamos a ver como efectivamente habrá algún personaje que de repente se vaya ahí está el que se está yendo vale entonces vamos a decirle esto lo desbloqueo esto bien lo desbloqueo y ahora esto lo voy a multiplicar por 0.01 para que el personaje vaya mucho más lento porque el problema está en que nos estaban desapareciendo los personajes vemos como que desaparece demasiado rápido solá x aquí se está aumentando a una velocidad brutal por algún motivo que ahora mismo desconozco pero que en cuanto averigüe seguro que será muy evidente pero el caso es que no lo consigo averiguar porque la equis va tan fuerte a veces hace un momento vemos 6000 por ejemplo esta barbaridad vamos a hacerlo más pequeño todavía vamos a hacer que vaya más lento todavía y ahora sí más rapidísimo por mucho que estoy bajando por mucho que le estoy bajando ahora si va a una velocidad increíblemente grande y por eso básicamente desaparece de la pantalla otra cosa que puedo hacer por aquí es poner esto por 0.01 0.01 y quitarlo digamos del final tampoco quiero hacer eso quiero ver ahí como hay un personaje que está moviéndose vale ahora veremos por qué va tan rápido bien pues una vez que tenemos esto ya podemos empezar a trabajar con la animación de los personajes ahí tenemos uno que se va corriendo es lo que me acaba de cuadrar porque se va tan corriendo vamos a verlo porque en principio un principio esto minimizarlo es como se va súper corriendo y como digo no me cuadra que se vaya a tanta velocidad y tenemos es que encima más vamos a ver por aquí y es que encima además es un personaje que ya de por sí pues ésta distanciado de los demás bien dicho esto otra cosa que quiero averiguar es por qué porque esto de aquí esto no lo quiero eliminar porque tenemos pendiente a no lo del pantalón lo tengo ya pues esto lo puedo eliminar entonces ahora porque empezamos en 1 y no empezamos en 0 iteraciones cargador cero bucle carga iteraciones cargador más luego no entiendo por qué vamos a ver parece que empiece en cero vale así que foro bar y es igual a 0 y es menor que número de personajes y más y a continuación ponemos aquí una y ponemos ahí i para hacer que todos los personajes se mueven ok vemos como además ocurre una cosa muy curiosa y es que además de que se están moviendo parece que se suman la equis entre sí esto como digo va a tener algún tipo de explicación va a tener algún tipo de porque pero ahora mismo no sé cuál es por lo menos lo que me importa es que ya tengo personajes moviéndose en la pantalla y digamos que eso pues ya es un avance con respecto a lo que tenía hasta el momento vamos a ver a continuación al menos ya tengo esto correctamente y z y bueno voy a echar un vistazo voy a echar un vistazo al código más que nada para ver cuál puede ser el motivo de que los personajes por ejemplo se estén yendo tanto en x el ángulo es esto la x es ésta luego en principio no me explico por qué vamos a ver con solo punto los personajes y vamos a ver cuál es el punto en el cual ser y extorsionan vamos a sacar la consola vamos a quitarle el consuelo punto lo que haya por aquí y como vemos aquí ya en la asignación inicial tenemos unos valores de x increíblemente grandes y no acabo de entender el por qué no acabó de feta son correctos porque van entre menos 5 y 5 pero estos valores van en 356 vamos a verlo es algo que está ocurriendo aquí es algo que está ocurriendo aquí pero por alguna razón acabo de saber el porqué voy a hacer una cosa 156 más punto random menos ciento si funciona la zeta debería funcionar a x voy a poner px p&p z vamos a verlo para fallo más adelante no pasa nada de hecho me extraña que no estén ballet ahora xp y es correcto entonces voy a modificar esto es x p&o pz y pero esto es la ley griega aunque ya no esto es perdón la posición y estos personajes px pz y vamos a verlo ahora vale el momento no aparecen personajes y ahora aquí abajo px perfecto y esto es pages vegeta vamos a verlo vale ahora no aparecen personajes y vuelvo a tener lo mismo vuelvo a tener un error donde se ha producido el error pues no lo sé vamos a verlo el error porque puede ser y arriba y está bien ahí está bien aparte de que los personajes hayan desaparecido eso me preocupa relativamente poco x perfecta a ver dónde están los personajes que han desaparecido x perfecta muy bien tenemos los personajes parece que miran todos hacia adelante luego en principio parece que no ha cogido bien el ángulo y es igual es teóricamente debería ser correcto así y ahora ok a verlos y ahí se empiezan a mover ok vale el problema estaba en que esto es más igual creo que esa es la razón por la cual sumaba tanto que llegaban todos van todos juntos bien van todos juntos como podemos ver y vamos a ver por qué el ángulo no va a cambiarlo el ángulo sé que cambia px pz todo parece estar bien pero los personajes van todos en conjunto y parece que el ángulo que están cogiendo todos es el mismo vamos a ver por qué el ángulo técnicamente agua vale el ángulo vamos a poner por 260 vale simplemente el problema es que van todos al mismo sitio y vamos a ver en qué tipo de grados frío js rotación running a ver si es que lo estoy trabajando con rabia nes en radiales en rodillas entra bien es correcto voy a pasar a lo que quiero es que cada personaje vaya caminando en una dirección aquí por 10 ahora la variación es demasiado 0.1 con esto van a ir todos juntos vamos a poner ahora 1 y por tanto ahora lo que quiero es que no vayan todos en la misma dirección vamos a ver qué pasa aquí rotación y es igual a personajes de ángulo y tengo aquí el coche no voy a probar el xenón pero no creo que sea esto efectivamente los huesos así que bueno a continuación voy a modificar el código simplemente vamos a verlo aquí para ver por qué el ángulo 0 09 07 01 02 bueno sigue sin ser y sigue sin ser correcto un topping por 2 vamos a probar de nuevo cuánto es ahora 0 3200 2004 son variaciones pequeñas son variaciones peque voy a putear un momento esto ahora recargo 60 12 estos ángulos técnicamente son más correctos estos ángulos técnicamente son más correctos los ángulos técnicamente son más correctos luego entonces aquí está el problema esto es más igual creo que donde tenía que haber puesto igual había puesto más igual él tenía el puesto más igual había puesto igual vale esto ya es otra cosa esto ya es otra cosa ahora ya los personajes se van moviendo un poco más y también recordemos qué personajes de iu punto maya rotation station y es igual a ángulo y así lo que quiero es que los personajes se orienten correctamente ahora la rotación es demasiado grande demasiado rápida así que esto por 0.1 los personajes y no sé si van correctamente así que van girando pero no sé si están girando en la proporción correcta por cierto que escapan de la pantalla no pasa nada ahora haremos que vuelvan bien para hacer que vuelvan pues simplemente lo que voy a hacer es lo siguiente vamos a ver este x voy a hacer algo sencillo es menor que menos 10 personajes de mpx es mayor que bien personajes de y es menor que menos 10 o personajes de y es mayor que 10 en ese caso personajes de personajes sí exacto de punto ángulo es más igual a más un tope por dos lo que es lo mismo pégate la vuelta vamos a verlo para los personajes lo que van a hacer es que cuando lleguen a un cierto límite van a pegar la vuelta y para volver límites menos días y más 10 vamos a verlo al principio en principio cuando llegan a ciertos límites volverán eso espero voy a poner menos 5 allí y ahora en principio en el momento en el que salgan deberían volver vamos a verlo vamos a poner más personajes vamos a poner 100 personajes a ver cómo se comporta el sistema también lo que haré ahora es aumentar un poquito la luz subir un poquito la luz dónde estás allí van apareciendo los personajes creo que tengo como una especie de pequeña un pueblo de personajes y la idea es que llegará un punto en el que teóricamente pues deberían volver vamos a ver si vuelven otra cosa que quiero es echarle un vistazo al consumo de memoria para ver si para ver cómo vamos de memoria parece que bien parece que no estás gastando mucha memoria y en principio vamos a hacer que me dan un poquito más rápido y así ahora van más rápidos artificialmente más rápidos ok se escapan vamos a ver - 1 bueno parece que se escapan demasiado rápido y bueno la cosa será pues ponerles algunos límites para que no se vayan tan rápido no se me escapen del juego sino que es cuando están demasiado lejos pues vuelvan vamos a poner personajes vamos a ver el número 1 a ver que tiene número 1 p x 5 pz menos uno es vemos cómo van saliendo otra cosa que puedo hacer es que salgan más deprisa para ello la función del temporizador pues igual la pongo a 50 milisegundos y así aparecen más rápido es interesante como algunos creo que se han quedado bloqueados tendría que ver por qué pero bueno la idea es ir probando con esto como vemos pues tenemos ya una escena 3d veo que las sombras son de poca calidad porque la luz está ya muy lejana podemos mejorar las sombras podemos mejorar la calidad de las sombras si venimos por aquí localizamos el foco y por ejemplo en el foco le decimos que pues posee 4096 x 4.096 anna esto va a ocupar bastante más memoria así te guardo recargo vemos como la sombra tiene más calidad de hecho no ha ido mucho más lento que esperaba que fuera más lento voy a poner por aquí abajo consuele punto no colisión y el problema está en que estan colisionando antes de tiempo vamos a ver la consola es tan colisionando vamos a poner terror dicen que están colgando ya no están comisionados así que si colisionan voy a decirles esto voy a decirles esto multiplicado por uno si colisionan que vuelvan para adentro a ver la obra la caja original de cuánto era la caja original era de box de 100 vale más o menos a mitad de caja de verían deberían coleccionar es extraño que algunos hayan quedado parados pero bueno y otra cosa que podríamos hacer en un momento dado podría ser bueno trabajar con una vista un poco más isométrica activar las animaciones también de los personajes vamos a trabajar un poco con todo esto bueno ahora que ya tenemos esto un poco más en marcha es momento de hacer otras cosas vamos a ver un segundo que estaba arrancando minecraft por accidente vale es momento de hacer otras cosas como por ejemplo poner texturas así que voy a continuación vamos a abrir brackets al menos personajes antes había puesto 100 personajes sólo para probar vamos a poner 10 bien vamos a poner texturas en este caso no podemos todavía poner texturas a los personajes más que nada porque no he matado correctamente los personajes en blender no es un problema de free js sino que es un problema de blender pero el suelo sí que puede ser correctamente mate hable así que a continuación voy a ir a google voy a poner schéker textura voy a buscar un chequeo textura voy a buscar voy a sacar esta imagen pero antes de ponerla la voy a tratar un poquito en gimp por una razón muy sencilla por una razón muy sencilla voy a crear una carpeta llamada imágenes voy a poner schéker punto jpg y es que en primer lugar las imágenes deben ser una potencia de dos y esta imagen no lo es esta es una restricción decir y js de donde se recomienda en muchos otros sistemas informáticos pero en fijo está ese realmente es una restricción y es que las imágenes tienen que ser potencias de dos entonces estas de 800 x 800 pues ahora subo a 1024 ahora bajo 512 pero en 800 no la puedo dejar así que me voy a ajustar el tamaño del lienzo le digo que quiero 512 x 500 no quiero tamaño del lienzo quiere el tamaño de la imagen escalar la imagen 512 por 512 vale así que le doy a escalar y ya que estamos quiero hacer como una especie de cheque en verde o cheque a cheque gris por ejemplo vale así que cuidado porque acabo de eliminar la capa por accidente voy a crear una capa nueva o bien voy a colores brillo y contraste voy a quitar contraste y casi que mejor esto es realmente lo que quería vale así que sobre escribo checker punto jpg y ahora lo que voy a hacer básicamente va a ser aplicar esta textura de chequers al suelo a la caja que tengo como suelo bueno pues para ello recordamos que tengo el mes con material el mes vamos a verlo esto es una geometría para el suelo el mes con material y por tanto vamos a js docs y vamos a ver cómo aplicar una textura así que voy a textura vamos a ver por aquí bien y vamos a ver texturas vamos a ver y js material textura y es este de aquí el texto loader así que vamos a por ello vamos a por ello y voy a hacer lo siguiente voy a crear una textura donde está la caja y segunda geometría para el suelo aquí la tenemos así que creo una textura le digo que esto está en la carpeta ing y se llama checker punto jpg y por tanto ahora aquí en el mapa le voy a decir que en el material quiere decir que en lugar de poner un color voy a poner un mapa es textura quito la doble llave recargo en la pantalla ya vemos como ya tenemos una textura de cheque digamos en la pantalla pero es demasiado gigante es demasiado los cuadros son demasiado grandes porque lo que está haciendo es repetir la textura por todo el suelo pero claro el suelo es demasiado grande así que lo que yo quiero es repetir la textura lo que yo quiero es hacer que la textura se repita dentro del objeto para ello fry js material textura repito para ello aquí está vamos a verlo vamos a ver dónde lo tengo de la forma más sencilla aquí hay es así que una vez que tengo la textura pues voy a decir textura repito punto set voy a decirle que se repite cuatro veces en xy cuatro veces en y lo que es lo mismo cuatro veces en 1 y 4 veces en v vale vamos a ver ahora ha pasado algo ha pasado a mirar la mirada ahí está repetida cuatro veces pero claro ahora lo que quiero también es que se repita por todo el objeto vamos a verlo así que textura repeat pero y ahora me hace falta decirle que cuando se acaba la textura quiero que lo vuelva a poner aquí está aquí y aquí repito vamos a verlo así que le digo lo siguiente textura wrap s y graf te lo que hace es el repite mapping el repeat rapping y eso lo que nos va a permitir es que la textura se repita y por tanto que aparezca digamos pues más pequeña de hecho ahora puedo repetirla por ejemplo ocho por ocho veces guardo y recargo vemos como los cuadraditos se hacen más pequeños y es digamos una forma de pues eso de hacer que el sólo tenga una textura tal que podamos ver un poquito mejor cuál es la perspectiva puedo poner también algo así como un grip textura vamos a verlo vamos a poner un gris textura algo así fritz textura square qué textura billy matters algo así es lo que estoy buscando así que vamos a abrir la imagen vamos a guardar la imagen la voy a guardar como se quiere 2 voy a abrirla dentro de limp kim que en la que está y voy a tratarla un poquito voy a editarla un poquito así que por ejemplo lo que quiero es quedarme con algún trozo de textura como este ahora lo que quiero es en colores quitar ese color verde cillo por tanto vamos a ver tono saturación quito la saturación una cosa así vale voy a un poquito brillo contraste un poquito menos de brillo o una cosa así acepto sobre escribo en el código actualizo qué quiero chequear 2 así que ahora recargo y vamos a ver así cuidado perdón porque lo que tengo que hacer tendré un error en la consola porque no he respetado lo de que sea potencia de 2 vamos a verlo ahí dice bill se dice no he encontrado me extraña vamos a verlo sé que ricardo j jp falta la e vale muy bien una cosa así y ahora pues puedo repetirlo tantas veces como quiera para que el digamos el efecto sea más pequeño para que tenga un poquito como una hoja de papel cuadriculado y así pueda ver un poquito mejor la perspectiva vale pues este sería por ejemplo un ejemplo en cuanto a él la textura del fondo aprovecho para decir que quiero hacer un juego un poco más como diría yo un poco más y someter y ccoo aquí podemos ver claramente unos puntos de fuga así que para hacer un poquito un juego más isométrico voy a hacer voy a buscar por aquí eso me trick game pues vemos allí que el punto de fuga es menor vale así que lo que voy a hacer en este caso es que con la cámara vamos a ponerla más lejos pero vamos a acercar aquí está la cámara perspectiva vamos a ver voy a poner la cámara perspectiva está por aquí la posición voy a poner 25 la y 25 vamos a ver cómo me habré alejado bastante pero ahora en lugar de poner un cierre de cámara de ese 35 voy a poner un cierre de cámara creo que lo voy a hacer al revés de 35 ahí lo tenemos vale y pues voy a poner por ejemplo 25 y así un poco pues también aprendemos a jugar con la cámara vemos cómo era los personajes se ven como más desde arriba y todavía puedo seguir jugando digamos con el zoom y con la panorámica y lo que quiero ahora el juego es un poquito más isométrico no lo es realmente pero lo parece así que éstas son más operaciones que puedo hacer con este juego vamos a hacer algo que es bastante complejo que es activar las animaciones recordamos que los personajes originalmente tenían animaciones en blender pero cuando los hemos traído están quietos completamente así que para esto lo que voy a hacer vamos a venir por ejemplo por aquí voy a poner free js efe animation vale vamos a ver aquí está bueno aquí está no quería la original vale quizás este código nos sirva bien vamos a crear un animation mixer en este caso vamos a ver nos vamos al loader aquí tenemos aquí el loader y vamos a por un mixer vamos a ver si luego tenemos que hacer varios mixer cuantos mixer tendremos que hacer un segundo que estoy viendo el código en este código es más bien complejo pero vale vamos allá voy a decir que mixer es igual a un new free animation mixer vamos a verlo esto es cuando logra así que cuando lou de aquí esto es un mixer vamos a recargar para comprobar que no da error de error es ahora vamos a ver lo que voy a hacer es cargar una animación vamos a cargar estas animaciones lo que hago es cargar todas las animaciones que tenga el personaje de momento voy a empezar con la primera animación de la matriz que es la única que hay de momento por cierto vale en expecto intifada en el año 88 línea 88 gelete efe assen y entonces mixer sí muy bien entonces voy a hacer un control y punto log mixer y a ver que hay a ver qué sale suena esto fuera valero animation ex a la fiesta así que hay un actions animation no hay animation no parece haber vamos a animation sí que hay así que voy a cargar geles df para asegurarme que sí que hay cargo todos y veo que animation realmente hay 11 animaciones o sea que sí que hay vale nos vamos a la página oficial pictures animation mixer y la vamos a ver muy bien xerez te fascina vamos a verlo a ver si hay algún error en principio no pero el personaje tampoco se activa el té se animase oslo que no hay cuadras lo de sin porque las animaciones no están ahí está la escala no se puede para mimar por lo menos ya ha encontrado una serie de propiedades voy a hacer una cosa voy a hacer con solé punto log gelete efe.es y más que nada para ver qué es lo que tenemos vale pero animation si ahí no hay animation así que bueno veo que con el código nos estamos acercando pero parece que el mezclador mira es más voy a hacer un control de punto logo del mixer y a ver qué sale animation mixer y el problema está en que amigas y sé que la acción es así y acciones objetos que están animados vale perfecto ahora nos están ejecutando vale memento muy bien y aquí está y ahora en la función the animated voy a poner delta es igual a clock es delta mixa la plata mixer yo creo que tendré que declararlo por aquí arriba en alguna parte bar mixer mascarada porque así no han email no lo va a reconocer recargamos bloques notifight no hay problema vamos a por ello clock es un freak loc vale bueno ahora los personajes hacen algo bastante curioso de hecho ese de ahí está intentando caminar de una forma bastante extraña así que bueno entiendo qué vale este está por una parte parece que hay un problema de rotación de miembros son los miembros simétricos realmente son los miembros simétricos y sólo se está animando uno muy bien vamos localizando en problemas y veremos como hay uno que se está animando ok vale entonces con esto pues lo que tenemos que hacer es que los mixers también sean independientes y luego ya aparte entraremos en blender para arreglar pues lo de la que estén rota 2 180 grados eso ya no es tanto un problema de frío js como un problema de blender vale muy bien entonces vamos a arreglarlo primero vamos a darle esta parte tenemos el jefe de fraudes valen tenemos el mixer vale bar mixer se igualan y barral y por tanto ahora mixer de iteraciones cargador es igual a estoy aquí esto fuera esto es inspiración es cargador y por tanto ahora aquí abajo voy a decir esto el himno hace falta iteraciones pues aquí formar número personajes esto es mixer day y ahora por tanto lo que hacemos es actualizar todos los mezcladores de animación si esto ha ido correctamente y no da error ahora veremos esto se ha quedado frito no pasa nada errores héroes porque vamos a ver a 20 en la línea 186 en la línea 186 update vale esto por aquí esto para allá recargamos bien entonces qué está ocurriendo valemos lo que estaba ocurriendo es que esto el mixer animation 0 muy bien eres igual arriba y esto está aquí fuera y dice que el mixer no existe si hago esto dice que el mixer no existe no está definido si vengo aquí y vengo por aquí y digo con solo punto log mixer de iteraciones cargador dime qué es esto vale es unánime es un mixer es correcto y ahora aquí al final del todo con sol de punto los knicks 0 vamos a quitarlos con soles y así nos quedamos sólo con lo que nos interesa animation mixer principio sin principio en principio es correcto el principio es correcto en principio es correcto porque esto no va ser tiene 10 y exor vélez no puedo leer propiedades de uno que no está definido temp porque en principio sí que está definido mi perro bueno voy a crear lo de momento vamos a pasar a otra cosa aquí están los personajes y a continuación lo que podría hacer por ejemplo es mover el cubo mover el personaje para desplazarme por el entorno 3d es decir estamos moviendo personajes virtuales pero no nos estamos moviendo nosotros en ningún momento no estamos interactuando más allá de vale más allá de hacer la cámara de órbita que no está nada mal evidentemente así que ahora voy a hacer lo siguiente voy a traer la librería jquery más que nada para atrapar teclas pero jquery lo pongo aquí arriba y ahora a continuación voy a decir lo siguiente es decir lo siguiente dirección igual w por ejemplo en ese caso voy a decir cubo punto o sitio en punto z más igual a 0.1 voy a cortar esto así que ahora vengo y llegó sin dirección es igual a s en ese caso menos igual si dirección es igual a en este caso menos igual de equis y si es una vez en ese caso sobre la equis voy a aumentar más igual a 0.1 que es la dirección ahora mismo no es nada bar dirección y entonces voy a decir lo siguiente voy a decir que el jquery key down vale entonces con key down w pues voy a decir qué cuándo el documento esté preparado voy a escribir una función en este caso vemos como ahora estoy mezclando dos frameworks estoy mezclando free js con jquery y no pasa nada perfectamente posible así que cuando sobre el documento haga que el down el querido aún esté va a ser function event y entonces voy a decir si event which 13 que no sé cuál será el 13 w even with its pero dime cuál es javascript el board which a ver imágenes a witch perdón javascript coats en wii 87 esto es lo que quería 87 en ese caso dirección es igual a w s a entonces ese es 83 a 65 y de el 68 recargo y si todo va bien ahora así puedo mover el cubo esto la zeta está al revés vale vemos cómo puedo mover el cubo y cuando suelto no está ocurriendo nada esto es salsa vale hacia abajo z menos igual iceta más igual y cuando suelto la tecla por cierto event que ya cuando subo las teclas direcciones igual a nada para parar vamos a verlo así que hago así comprobamos cómo puedo mover lo estoy moviendo con las teclas del teclado puedo mover el personaje no solo puedo mover el personaje sino que incluso si quiero puedo mover la cámara así que vamos a decirle vamos a ver si es posible vamos a decirle al sistema que y mi cámara punto posición punto z igual a 0.1 vamos a ver si funciona sólo funcionará con uno de ellos por ejemplo perfecto vale pues voy a hacer lo mismo y mi cámara mi cámara z más igual a 1 x menos igual a 1 x más igual a 1 y ahora si hacemos así vemos como por tanto pues nos podemos mover digamos es como que nuestro personaje es el cubo de alguna forma extraña y luego evidentemente podemos quitar el cubo y podemos poner lo que queramos ahí dentro así que este juego por ejemplo podría ser que tenemos que capturar a los personajes o que los personajes nos capturan a nosotros o lo que fuera en definitiva como salimos y ya tenemos un juego que tiene un poquito de todo tiene una parte d una parte de personajes una parte de 3d una parte de texturas una parte de luces una parte de materiales una parte de todo el objetivo del juego en definitiva es demostrar como con el framework free js podemos hacer realmente un poco de todo aquí dentro y mezclarlo con diferentes partes del lenguaje