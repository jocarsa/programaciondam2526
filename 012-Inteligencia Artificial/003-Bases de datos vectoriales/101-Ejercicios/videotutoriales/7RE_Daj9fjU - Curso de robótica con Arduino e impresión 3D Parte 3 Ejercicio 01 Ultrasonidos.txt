llega el momento de empezar a unir todas las piezas y empezar a comprobar como realmente lo divertido de arduino es combinar los sensores con los actuadores y de esa manera por tanto al final conseguir generar un proyecto final bien pues voy a empezar en este caso con el sensor de ultrasonidos por tanto recordamos que tengo el sensor de ultrasonidos lo voy a pinchar por ejemplo en este bloque es decir empezando en el canal j de los números 1 al 4 antes eso si nos fijamos aquí arriba que tenemos los canales de uve cc es decir de voltaje el trigger el eco y el ground así que bueno casi estoy pensando que lo voy a pinchar aquí abajo en lugar de arriba en los canales 27 al y por tanto ahora una vez que tengo esta parte lo que voy a hacer es conectar lo que sería el cableado así que vamos a empezar por aquí vamos a empezar por aquí y voy a hacer lo siguiente el ground donde el grande en este caso recordamos que es el del final del todo lo voy a conectar no parece que vaya a llegar así que voy a un cable un poco más largo vamos a un segundo aquí tengo un cable un poco más largo he hecho aquí lo tengo y de hecho este cable va junto positivo y negativo por tanto vamos a ver déjame un segundo que prepare un cable a lo que estoy haciendo es un mini cable frito y está bien voy a preparar este cable para ahora insisto decimos el ground está al final luego el voltaje está al principio en este caso el ground es el cable marrón el voltaje es el cable rojo así que cable marrón al ground aquí está y cable rojo al voltaje de 5 voltios con lo cual el cableado queda de esta manera tenemos el cable marrón que viene aquí a ground tenemos el cable rojo que viene aquí al voltaje ya tendríamos el sensor de ultrasonidos alimentado ahora nos hace falta conectar los cables de eco y trigger así que voy a conectar vamos a ver el cable este de aquí que va a ser el trigger no voy a conectar al canal número 2 voy a conectar el canal que me queda vamos a verlo bien el canal que me queda voy a conectar al canal número 3 hasta aquí por tanto tengo el cableado eléctrico para esta primera parte del ejercicio en la cual estoy trabajando con el sensor de ultrasonidos tras lo cual voy a salir de pantalla completa voy a arrancar el bebé arduino y vamos a crear un nuevo proyecto alimentándonos también un poco hay que decirlo de los proyectos anteriores por tanto dejadme que me haga un poco más de pantalla y sensible este ratón y así puedo hacer esto un poco más grande y tendremos un poco más de pantalla bien esto lo voy a guardar como josé vicente documentos proyectos ejercicios y voy a recuperar el código que hemos desarrollado previamente para ultrasonidos así que abra el código voy a copiar y pegar propio de uno pegó en el otro cierro este realmente y lo único es que vamos a tener que cambiar los pines porque recordamos que el pin 10 en output pues en este caso ahora es el número 2 vamos a verlo esto es el trigger efectivamente es el número 2 y el timo del input es el número 3 el eco este es el trigger este es el eco así que bueno vamos allá vamos a ver si éste funciona correctamente y no me ha dejado nada por tanto añade alimentación lanzó el sketch había un tono por aquí que menos mal está deshabitado bien y lo que voy a hacer en este caso es monitorizar el serie en este caso me está dando 0 lo cual equivale a que no estoy tomando datos bien pues vamos a ver por tanto en este caso digital raid en este caso no es 10 evidentemente sino que estos los dos y este estrés así que vamos a ver lo guardo recargo bien y sacamos el serial para comprobar que ahora dice 25 pongo la mano dice 5 dice 4 quito la mano dice 25 lo cual equivale a que ya está funcionando ya está detectando algo de colección pero el caso es que ahora me gustaría hacer algo de manera que vamos a ir arreglando el código yo tengo por aquí una serie de declaraciones iniciales declaraciones inicial hemos declarado una cosa que es la dos variables de tipo long tipo de datos long para duración y distancia ya puestos me gustaría decir un trigger es igual a 2 por ejemplo en echo es igual a 3 de esta manera lo que estoy haciendo es indicar que los puertos ya no están en números sino que están en variables y de esta manera si más adelante yo cambio el puerto no tengo que irlo cambiando múltiples veces en el programa sino que lo cambio una única vez en la declaración de las variables y esto es el puerto echo hay que decir que trabajar con variables gasta algo más de memoria que trabajar sin variables fijémonos que el tamaño binario es de tres mil 758 bytes probablemente será lanzó otra vez me dirá que es de tres mil 778 bytes es decir este es fijado es un poquito más de memoria pero claro pero cuánta memoria realmente pues prácticamente nada por eso digo que hay que ser conscientes de que se gasta más memoria pero tampoco es tanta en este caso bueno pues voy a ir comentando el código esto es variable de lo que tarda el sonido en llegar esto es variable para almacenar la distancia esto es el puerto que usamos para el trigger de infra perdón ultrasonidos y este es el puerto que usamos para el eco de ultrasonidos esto puede parecer trivial el hecho de estar comentando tanto el código pero sin embargo tened en cuenta que ahora estamos al principio del ejercicio pero a partir de aquí la cosa se va a complicar y cada vez va a haber más código por tanto algo que puede parecer sencillo innecesario ahora mismo que es declarar estas variables más adelante verás que no están no es tan innecesario por cierto me falta aquí reemplazar el eco aquí está y digo el pin trigger es de salida el pin eco es de entrada y inicio el puerto serie lo cual nos viene bien siempre para hacer este proceso de este proceso d es decir por el puerto serie que es lo que estamos haciendo voy a poner los comentarios en línea apago la emisión esto es emitir la señal realmente esto es apago la emisión copio no corto copio y pego y ahora esto no voy a dejar aquí parado y ahora lo que vamos a hacer es que en el siguiente vídeo una vez que vemos una vez que comprobamos que esto está funcionando recordamos todo está funcionando igualmente fíjate que pongo la mano y paso a 5 6 7 8 centímetros saco la mano y pasó 23 centímetros sentidos centímetros porque tengo unos cables por aquí cerca de la mesa y por eso está detectando que tiene la colisión a esa distancia ya tengo por tanto en esta primera parte del ejercicio en funcionamiento lo que sería esta detección de colisión