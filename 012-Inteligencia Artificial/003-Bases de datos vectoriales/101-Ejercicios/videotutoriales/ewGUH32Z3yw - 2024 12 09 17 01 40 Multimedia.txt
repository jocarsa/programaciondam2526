ya vamos a continuar con programación multimedia en dispositivos la semana pasada vamos a ver nos quedamos dentro de Android Studio pero era este no yo creo que no momentín me voy a escritorio me voy por orden alfabético me voy a Android Studio este es vamos a Bin vamos a ejecutar Studio vale vamos a ver por dónde nos quedamos y recordamos que estábamos haciendo aquí un repaso a los conceptos fundamentales de cotlin un momento y aquí Ah y nos quedamos correcto hablando de los tipos de datos disponibl disponibles dentro de Android Tampoco es para volvernos muy talibanes con respecto al tema de los tipos de datos pero lo que estuvimos comentando vale Y es que eh una edad para qué ponerla con un int Estuvimos viendo lo que ocupan en memoria cada uno de los tipos de datos Cuándo podemos ponerla con un byte vale Y en principio os acordáis que era de -127 a + 128 pues no es probable no es esperable que alguien viva más de 128 años desgraciadamente vale Pero puede ocurrir también os digo Aunque en usuarios de aplicaciones móviles Pues igual no tanto pero bueno bien pues eh vamos a ver una vez que tenemos esto perfecto vale estuvimos hablando también de operadores aritméticos por aquí operadores de suma operadores de resta vale muy bien no Estuvimos viendo si no lo estoy viendo correctamente vale operadores de incremento con lo cual digo B edad es igual a byte y bueno simplemente vamos a ver que sepáis que tenemos aquí que tenemos por una parte el edad más igual a 5 Es decir los operadores aritméticos abreviados que tenemos el problema está en que eh vamos a ver vale Y esto es tu byte H que es conversión de tipo con lo cual esto es edad esto es era to String y de la misma forma que tenemos operador aritmético abreviado de suma Tenemos también el abreviado de resta Tenemos también el abreviado de multiplicación y Tenemos también el operador abreviado de división Además de que también tenemos los operadores eh de incremento los clásicos es decir el más y el menos bien Vamos a por ello Vamos a darle a Play Vale ahora a continuación dentro de operadores ya sabéis que estoy haciendo como siempre en cualquier lenguaje de programación el Tour básico vale sobre los fundamentos de cualquier lenguaje Main activity B cannot be reassign Ah perdón bar vale No es una constante vamos a verlo un momentín que está arrancando y ahora relanzo la aplicación o no ahora veremos muy bien Ahora lanzamos la aplicación bien ahí en principio vamos a ver más igual a 5 vamos a edad es igual a tipo entero no quiero el tobite Okay vamos a trabajarlo como un entero para evitarnos problemas de conversión menos igual multiplicado igual partido igual le doy a Play y ahora veréis que tenemos el clásico vamos a verlo instalando 46 230 y 46 de nuevo vale si os fijáis por ejemplo lo que os decía en la clase anterior esta mañana estaba a ver espera esta mañana estaba en un curso de python github.com carsa me voy a repositorios python 3 313 hace 3 horas y si os fijáis todos los cursos los empiezo igual vale que es estructura Y a partir de ahí un archivo de texto donde pues primero sintaxis comentarios entradas salidas operadores variables estructuras de datos estructuras de control vale todo lo mismo es decir estoy siguiendo el mismo esquema que sigo siempre al enseñaros cualquier lenguaje de programación estamos ahora mismo el otro día vimos entradas y salidas hemos empezado a trabajar también con variables estamos ahora mismo dentro de operadores bien hemos visto los operadores de incremento y los operadores matemáticos abreviados vamos a continuación con los operadores de comparación Vale entonces voy a hacer el clásico de ahora pondré nombre a las secciones para que lo podáis identificar correctamente operadores de comparación y básicamente aquí deciros que 4 es menor que 3 vale aquí me dices que nada is Always false Perfecto es lo que quiero vale 4 es menor que 3 4 es Mayor que 3 me dirá is Always true fantástico Vamos a darle a Play Y entonces me dirá en primer lugar false vale false Y en segundo lugar me dirá true vale Eso es lo que quiero que ocurra bien a partir de aquí en operadores de comparación pues sabemos que tengo también el menor que igual menor o igual tenemos el mayor o igual en este caso menor o igual 4 con respecto a tres dará siempre false y mayor o igual que tres dará siempre true bien en este caso fijaos que tengo una advertencia donde básicamente Android Studio me dice que no entiende para qué quiero eso porque siempre va a dar el mismo resultado pero claro Android Studio no tiene por qué saber que lo estoy haciendo para enseñaros las bases de cotlin el doble la doble igualdad para establecer para preguntar si es cierto que 4 es igual a 3 y e admiración igual para preguntar si es cierto o no es cierto que 4 no es igual a 3 Así que vamos allá le damos a recargar y al darle a recargar veremos que vale true false va dando true o false según el elemento que esté vale eh analizando bien seguimos trabajando en este caso con operadores de comparación los operadores de comparación en cotlin ahora bloqueo esta parte ahora luego le ponemos nombre a las partes de arriba ahora operadores booleanos vale estoy ahora en la parte de operadores lógicos en este caso bien en operadores booleanos voy a hacer el clásico voy a hacer el clásico voy si queréis puedo hacer lo siguiente eh vamos a ver voy a decir bar resultado es de tipo boolean vale Y el resultado puedo decir más que nada para separar un poco esto B resultado es igual a bullan y es igual a 4 es igual a 4 doble ampersand que es el signo de la el operador and vale 3 es = a 3 doble ampersand 2 es ig a 2 y ahora aquí a continuación voy a poner resultado to String Entonces le doy a Play y dirá true vale Y me dice true Es cierto que 4 es ig a 4 y que 3 es = 3 y que 2 es igual a 2 es true ahora cojo esto no redeco evidentemente y digo es cierto que 4 es ig a 4 y que 3 es ig a 3 y que 2 es igual a 1 el resultado es que no es cierto con lo cual e vale a ver qué pasa el resultado esto ya no hace falta que sea tipificado vale vuelvo a ejecutar Entonces primero me dice true pero luego me dice false Por qué Pues porque ya sabéis que con el operador booleano and con una de uno de los elementos que sea falso toda la expresión booleana resulta falsa ahora de la misma forma que tenemos en otros lenguajes de programación Es cierto que 4 es igual a 4 Perdón que 4 es ig a 4 o que doble Pipe vertical 3 es ig a 3 o que 2s es igual a 2 pues es cierto vale ambas todas las afirmaciones son ciertas por eso me dará true luego me dará false y luego me dará true no sé si lo veis porque se ve pequeñito vale pero está por ahí ahora es cierto como en cualquier otro lenguaje de programación que 4 es igual a 4 o que 3 es ig a 3 o que 2s es igual a 1 la pregunta trampa es que mucha gente suele decir que no es cierto pero la realidad es que sí que es cierto vale porque con el operador booleano or con que una de las expresiones validadas resulte true la expresión global validada resulta true Así que a continuación voy a decir Es cierto que 4 es ig a 4 o que 3 es igual a 2 o que 2 es igual a 1 pues sigue siendo true porque es cierto que 4 es ig a 4 y ahora por último es cierto que 4 es ig a 3 o que 3 es ig a 2 o que 2 es igual a 1 Pues eso ya no es true vale la primera es true la segunda false ahora la primera es true la segunda es true la tercera es true y la última es false vale Eh no bueno no ha aparecido será dirá nada vale pero ya está bien esto en cuanto a operadores booleanos un poco como siempre para ver que pues los conceptos globales de programación en cotlin puro pues son muy parecidos a los conceptos que ya conocemos vale Cuando digo en cotlin puro ya sabéis que esto técnicamente no es cotlin puro porque esto de aquí es cotlin Pero esto de aquí es un toast que es una de las uno de los objetos propios de la Api de Android vale bien a partir de aquí a partir de aquí una vez que hemos visto esto el heit lo puedo cerrar ya luego lab interfaces vale eh hemos visto variables de hecho el otro día vimos variables y constantes con el Val y con el bar vamos a pasar un momento de estructuras de datos vamos a estructuras de control vale ya veremos estructuras de datos y vamos a por ello Entonces vamos a ver bueno va como tengo aquí estructuras de datos pues va vamos a hacer ahora estructuras de datos entonces para ello eh operadores booleanos lo machaco Vale y a continuación digo eh bar nombres es igual a array off y aquí es donde voy a poner pues José Vicente coma Juliana coma Pues no sé Javier coma Jaime vale con esto tengo una Ray claro a continuación yo puedo poner un toast si intento meterle un nombre St String probablemente Esto me pega un petardazo bastante grande vamos a ver estoy tirando ahora Vale y Java lang vale Java lang array no me ha dejado ponerlo eso son array pero sí que puedo hacer como en cualquier otro lenguaje de programación Quiero nombres de cero Así que hago así y ahora sí me da José Vicente vale Por una parte puedo acceder a valores de la Ray otra cosa que puedo hacer Pues también es sobreescribir valores de la rray Así que ahora el valor del array de cero es Juan Vicente vuelvo a hacer un toast y veremos como Primero me dice José Vicente y luego me dice Juan Vicente vale es decir podemos leer y podemos escribir Cuando digo que podemos leer y podemos escribir como en cualquier lenguaje de programación tenemos una infinidad de propiedades y de métodos que podemos aplicar a los arris ahora una vez dicho esto Pues yo por ejemplo vengo por aquí pongo nombres pulso un punto Y a partir de aquí podemos vale por ejemplo shuffle vale podemos reordenar podemos slce podemos recortar podemos sort podemos ordenar en base a un criterio vale o sea como en cualquier lenguaje como en javascript o como en Java hay mogollón de parámetros y o sea de propiedades y de métodos asociables a un nombre voy a por ejemplo size vale bar longitud es igual a nombres. size y por tanto ahora toast make text pues quiero longitud to String y longitud to String va a decir que tengo 1 2s 3 y cuat elementos Así que le doy a recargar y ahora me dirá José Vicente Juan Vicente y ahora me dirá cuatro vale Ok bien esto en cuanto a un repaso básico de los array Ahora sí vamos a continuación a estructuras de control entonces en estructuras de control recordamos voy a ya sabéis a comentar esta sección voy a poner comentarios un poco en todo lo que hemos visto antes esto es operadores matemáticos abreviados esto de aquí es tipos de datos esto de aquí es asignación Ah esto es tipos inferidos es decir tipos que interpreta automáticamente el sistema esto es eh constantes Estos son variables esto es salidas y esto obviamente son comentarios vale Okay ahora ya vemos las secciones comentadas bien Vamos a por ello vamos a ver estructuras de control ahora como os decía vale una vez que hemos visto alguna Estructura de datos como raise vamos a estructuras de control donde encontramos las dos grandes familias que Son estructuras de bucle y estructuras condicionales vamos a empezar con las estructuras condicionales Así que vengo por aquí estructuras de control condicional vale Y empezamos con lo siguiente bar edad que es de tipo entero es igual a 46 Entonces como siempre hacemos If edad es menor que 30 Pues el ejemplo que siempre pongo toast make text ya no eres un joven eh toast make text aquí quiero meter directamente un String ya no eres un joven de la misma forma vale Perdona no eres un joven vale Okay pero no se ejecuta vale no se ejecuta porque no es cierto que edad sea menor que 30 ahora tengo también el caso els donde en el caso els ya no eres un joven Así que le doy a Play y ahora me dirá ya no eres un joven y luego por supuesto dentro del caso eh If y dentro del caso Else Pues tengo también el caso Else If Vale entonces Else If edad vamos a ver si edad es menor que 10 Ahora si edad es mayor o igual que 10 and edad es menor que 20 en ese caso eres un niño eres un adolescente Else If edades mayor que 20 y menor que 30 eres un joven e eres un joven eres un adolescente eres un joven y ya no eres un joven vale cuidado porque me he dejado una t en el toast Okay Play vale Ya no eres un joven porque tienes 46 Vale pues como siempre podemos especificar Pues los casos bien Ahora hasta aquí vale todo lo que estamos viendo pues parece muy similar por no decir exactamente igual a los lenguajes de programación que ya sabíamos pero hay un caso hay una estructura de control un poquito particular que es la estructura de control wen entonces en la estructura de control When voy a decir bar día de la semana es igual de tipo entero es igual a 3 o es igual a 1 y entonces eh bar eh resultado es igual a When día de la semana y abrimos corchetes y aquí decimos cuando sea uno flecha quiere decir que lunes hoy es el peor día de la semana en el caso dos 1 2 3 4 5 6 7 Hoy es el segundo peor día de la semana It's wday my dues ya es juernes Por fin es viernes el mejor día de la semana y Parece Mentira que mañana ya sea lunes de esta forma ahora a continuación utilizo un toast y le digo quito salgo de aquí vale Y en el text le decimos resultado tu String punto tu String con lo cual si el día de la semana es uno pues al recargar Hola A ver qué te pasa dónde estás A ver m When Ah muy bien ostras quieres els Bueno pues no pasa nada vale una rama els Ah bueno espera aparte que aquí me falta Esto vale Y toast Ok y opción no válida vamos a ver no OK Vamos a mutear lo eh tokens En qué línea Ah perdón es que este els no va els caso no válido Ahora sí vale Play Ahora sí Y dice Hoy es el peor día de la semana vale como veréis en cotlin no existe el caso switch sino O sea no existe la estructura switch existe la estructura When la formulación si os fijáis es muy parecida a la estructura switch Pero vale No es Exactamente igual una vez que hemos visto esto pues vamos a continuación hemos visto estructuras de selección es decir estructuras condicionales vamos a trabajar a continuación con estructuras de bucle Así que cierro por aquí vamos con estructuras de bucle y en estructuras de bucle vamos a ver vamos a decir que por bar nombres es igual a lo de antes dónde estás aquí vale con lo cual un uso característico del foro es recorrer Vale entonces for parecido a python for nombre in nombres y esto Mola bastante porque es una de las partes que más me molan de python es decir esto quiere decir que tengo una Ray que se llama nombres y al decir for nombre in nombres en este momento estoy creando una variable local llamada nombre y a la variable local nombre le pongo cada uno de los valores de Ray nombres lo cual como os digo Mola bastante digo que Mola bastante por el código que te ahorras y ahora a continuación digo nombre tu String si ejecuto veremos Cómo imprimirá uno a uno cada uno de los nombres de esa lista bien en un momento dado vosotros podréis decir a ver Esto está bien vale para recorrer a Rise que es un caso bastante normal en desarrollo de programas informáticos pero nosotros estamos acostumbrados al típico for vale al típico for qu día es igual a un hasta que día es igual a 31 bueno no pasa nada Eso en cotlin existe y se llaman rangos Así que a continuación yo digo bar Rango días es igual a 1 dos puntos 31 vale Y con esto acabo de hacer un Rango el menor o igual es algo que si os fijáis pone automáticamente cotl no es un carácter editable vale simplemente es desde que uno sea menor o igual a un hasta que el valor Rango día sea mayor o igual a 31 en ese caso ejecuta el rango y por lo tanto digo for día in Rango días en ese caso toast día si os fijáis la sintaxis es muy parecida a python en el sentido en que python tengo la palabra Range vale Range Pues bueno aquí en lugar de tener Range pongo dos puntos y luego día pongo for diaa in Rango días Así que si ahora le doy a Play decía yo ahora vale 1 dos tres me va a ir poniendo todos y cada uno de los días si os dais cuenta llegados a este punto y ahora continuamos obviamente eh llegados A este punto claro cotlin intenta ser un aglutinamiento de lo mejor de cada lenguaje es decir parte de la estructura de Java nos permite tipificar datos tiene las llaves de apertura y cierre pero no tiene puntos y Coma Como javascript vale bueno javascript son opcionales pero aquí directamente no se pueden poner Y luego como veis bueno no le gusta la estructura switch de la misma forma que a python tampoco le gusta la estructura switch y luego por otra parte pues la forma de recorrer a Rise se parece mucho a la forma de recorrer a raí dentro de python por tanto pues cotlin puede resultar un poco confuso porque es como una ensalada del resto de lenguajes Pero bueno la intención es buena vale la intención es darnos Pues un lenguaje que en la medida de lo posible dentro de la opinión de los que han creado cotlin pues aglutine lo mejor de cada uno de los lenguajes Cuando digo dentro de la opinión de cada uno de los lenguajes no es que yo esté en desacuerdo vale Pero simplemente es que pues bueno a veces es un poco complejo si ya tenemos muchos lenguajes en la cabeza decir Vale ahora tenemos otro además que es una mezcla de todos o sea es como ya lo que me faltaba Pero en fin bien vamos a la estructura de control peligrosa estructura While siempre en cualquier asignatura donde enseño programación Pues siempre digo esto de la estructura de control peligrosa Vale entonces a continuación eh digo bar día es igual a 1 y eh digo While día es menor que 31 y entonces digo toast make text dia to String Vale entonces mientras le doy a ejecutar vosotros qué me tenéis que decir por qué esto es peligroso lo hemos hecho en cada lenguaje de programación que os he enseñado qué me decís Qué ha pasado qué acabo de hacer qué me contáis Bueno pues si os fijáis en el emulador se ha quedado infinitamente Atrapado en el uno vale el que el contador se haya quedado Atrapado en uno es porque el bule Wild no solo en cotlin sino en cualquier otro lenguaje de programación pues requiere que la declaración de la variable la declaración de inicio esté fuera del bucle pero requiere que el incremento esté dentro del bucle Exacto vale bueno ojo En caso de querer o controlarlo en el caso de que sea infinito vale efectivamente porque tal y como hemos comentado muchas veces Pues los bucles infinitos no son malos es como en programación multimedia vale o sea en videojuegos quiero decir que muchas veces queremos bucles infinitos pero controlados efectivamente vale si ahora recargo creo que se ha quedado frito Sí si ahora recargo Pues ahora uno no no recargo un e Qué cosas A ver di más ig a 1 a ver que refresque Ah ahora sí vale Ok espera A ver no sé si se ha quedado frito uno y dos Ahora sí vale Ok perfecto bien entonces más cosas vamos a ver ya tenemos ya hemos visto la parte correspondiente a estructuras de control hemos visto bucles vale hemos visto estructuras condicionales vamos a hablar de funciones vale de programación funcional Cuando llegamos a esta par de programación funcional acordaos que pues siempre es interesante crear funciones para encapsular código y poder reutilizarlo lo mejor posible en este caso hay que tener en cuenta que estamos Sí en cotlin pero estamos en cotlin embebido dentro de Android lo cual quiere decir que teniendo en cuenta que obligatoriamente estamos dentro de un Class Main activity Pues yo cuando voy a crear una función no estoy creando realmente una función estoy creando un método de una clase Vale y la sintaxis es exactamente la misma así que a continuación bueno y tengo por cierto dado que estoy en una clase vamos a ver tengo el método de entrada de la ejecución que en cotlin puro es Main pero como no estoy en cotlin puro sino que estoy en cotlin en bebido en Android Studio es on create vale el on create de codling equivale a al Windows onload de javascript así que bien a continuación por aquí e no perdona me voy a asegurar de que estoy fuera del function principal vale Así que me salgo de la llave y pongo fun Saluda y voy a ejecutar algo voy a ver si me obliga a declarar la visibilidad que parece que no y el ámbito parece que no vale fantástico bien Así que vengo por aquí me copio esto vengo por aquí y digo yo te saludo una vez que tenemos esto ahora continuación simplemente voy a decir saluda vale aquí declaro el método y aquí llamo a un método interno de la clase por tanto refresco y yo te saludo vale no tiene mucha historia yo creo que llegados a este punto Pues todo esto que os estoy contando os sonará un poquito a Java de primer trimestre del curso pasado vale al igual que eh digo lo de Java por lo del tema de los métodos de las clases vale luego obviamente pues funciones y métodos lo hemos visto en un montón de lenguajes de programación más pero bueno Vale pues vamos a ver que en un momento dado también se pueden poner parámetros a los métodos así que uso de funciones y voy a crear otra función saluda nombre es una función que va a aceptar un método perdon va a aceptar un parámetro nombre de tipo String Así que toast make text y vamos a encadenar y digo Hola coma má nombre má yo te saludo vamos a ver todo okay Vale tengo Saluda y ahora tengo saluda nombre y voy a saludar a José Vicente Así que le doy por ejemplo por aquí a recargar yo te saludo primero y luego Hola José Vicente yo te saludo vemos que las funciones para empezar pueden aceptar parámetros y luego tal y como hemos visto en otras ocasiones las funciones pueden aceptar múltiples parámetros Así que pongo una coma y digo edad es de tipo entero Así que Hola Yo te saludo y que sepas que tienes más edad más años y en edad voy a poner Voy a tener que poner un two String Porque si intento encadenar un int a una cadena en javascript funciona pero aquí no vale Así que eh yo creo que ya Bueno este tu String último no hace falta porque esto que le estoy pasando ya es un String Pero bueno Okay Vamos allá vale Y ahora saluda nombre otra cosa es que si pones un doble tu stram Pues tampoco pasa nada pero bueno técnicamente no es correcto y podríamos considerar que es un pequeño malgasto de recursos Así que recargo yo te saludo ahora Hola José Vicente yo te saludo y ahora Hola José Vicente yo te saludo y que sepas que tienes 46 años vale No s si os ha dado tiempo a leerlo Pero ahí estaba bien con esto Bueno ya sabéis que como yo siempre digo una función no debería hacer un toast dentro de la función vale debería hacer un return entonces a continuación voy a crear otra función saluda return Y entonces digo la función es return esto fuera todo esto fuera vale Y ahora Aquí voy a hacer toast yo te saludo y esto es nombre return José Vicente 46 vale vamos a por ello return aquí qué me dices a ver punto String no vale un momento porque vale String fan no Oye a ver type Ah vale Y devuelve String OK ahora sí bien Así que recargo Y esto es más correcto vale de la misma forma que Siempre os digo vale vamos a verlo Hola tienes 46 años y ahora lo mismo pero la función no hace un tost sino que la función hace un r return de la misma forma que en todos y en cualquier lenguaje de programación Siempre os digo que no debe hacer un print no debe hacer un eco no debe hacer nada desde dentro de un método debe hacer un return Pues en codling evidentemente como en cualquier lenguaje de programación el mismo consejo Pues siempre se aplica vale Y una vez que tenemos esto a continuación saltamos a programación orientada a objetos en este caso hay que tener un poco de Cuidado con programación orientado objetos teniendo en cuenta que estamos en un objeto o sea estamos en un archivo que ya de por sí es una clase vale vamos a definir una clase okay Así que voy a mutear todo esto de aquí y a ver si puedo hacerlo dentro del mismo archivo y si no pues lo hago en un arch diferente porque aquí en cotlin en el Main activity en un momento pues puedo crear un cotlin Class vale Pero vamos a verlo Bien voy a venir por aquí fuera de la clase Cuando digo fuera de la clase quiero decir que recordemos que estoy en el Class Main activity vale Y voy a poner el clásico Class gato bien el clásico Class gato me dirá que ni de coña expected a top Level declaration vale Lo cual quiere decir que yo vengo por aquí me creo un Java cod link Class me creo un cod link Class file Class vale Ok Sí vale gato Ok y en el package com. jocars aprendiendo codling vale Por qué es importante el package Porque si aquí tengo el package com. jocars aprendiendo codling y aquí tengo el mismo package quiere decir que al igual que en Java Main activity automáticamente ve el contenido de gato vale igual que en otros lenguajes de programación me hace falta eh hacer un import Vale o técnicas similares en este caso en Java y en cotlin los imports son para importar librerías externas y para importar archivos externos dentro del mismo proyecto lo hacemos con el package bien me voy a gato tengo un gato Vale y a continuación digo bar nombre es de tipo String y es igual de momento a nada bar color es de tipo String Y es de momento igual a nada y bar edad es de tipo int y de momento es igual a cero es decir cuando el gato nace por defecto tiene vale cer años ahora una vez que hemos declarado una clase en un archivo aparte ahora venimos al Main activity y le decimos programación orientada a objetos y le decimos que bar gato 1 es igual a New gat eh Perdón no New no hace falta aquí esto es como py que es directamente meter el gato si os dais cuenta Aunque estoy en el Main activity reconoce perfectamente la existencia del gato Qué hace esto nada realmente vale porque lo único que acabo de hacer es instanciar una copia de gato dentro del identificador llamado gato 1 ahora una vez que tenemos esto Una vez que tenemos esto a partir de aquí yo puedo definir métodos me voy al gato y dent del cl gato voy a hacer fun mauya y fun mauya claro Estamos igual que antes vale podría hacer un toast pero no debo hacer un toast es mucho mejor que diga return miau lo cual quiere decir perdón y mauya es de tipo String vamos a ver vale es de tipo String venga Lo cual quiere decir que y ahora en el Main activity digo gato un punto y si todo va bien me reconoce mauya Así que Ah perdón y ahora hago un toast me copio me pego y aquí a continuación pongo gato uno mauya ahí esa que haga esto más pequeño OK Así que Play y el gato dice miau vale una vez que tenemos esto Pues bueno vamos a finalizar esta parte inicial de repaso simplemente para indicar que vamos a ver un momento que existe el método constructor entonces a ver un momentín vamos a ver vale como es un rollo tener que darle parámetros vamos a ver vale puedo usar un método constructor que es init y en init a partir de aquí pues le podemos dar los parámetros que nosotros darle es decir vamos a ver init por aquí y ahora en gato puedo decirle bar nombre que es igual es de tipo String coma bar color que es de tipo String coma bar edad que es de tipo int lo cual quiere decir que ya no hace falta esto Vamos a darle y claro Ahora cuando creo un gato tengo que decirle el gato se llama mifu coma es de color naranja coma y tiene cer años vamos a verlo y Play el gato dice miau Ah y ya está vale Ok porque no he dicho que quiere hacer de momento nada más con el gato una vez que hemos acabado este primera parte de repaso de conceptos fundamentales que ya conocíamos de otros lenguajes de programación pero en cotlin ya conocemos la parte del controlador y ahora tenemos que ir a la parte de la vista vale en todo momento hemos estado trabajando con conceptos de controlador Pero el único elemento de vista que hemos utilizado es el toast Así que ahora continuación voy a hacer un nuevo proyecto a este proyecto es un activity dar next Y si antes era aprendiendo cotlin ahora es aprendiendo widgets le digo quea todo Ok vale happ 25 le doy a Finish cierro bueno cierro prendiendo cotlin Aunque ahora igual luego lo abro terminate en el emulador espero un momento a que se procesen los archivos de la carpeta momento vale Ok c Java vale vamos al activity Main bien y una vez que hemos visto los controles vamos a empezar a ver las vistas y evidentemente a continuación lo que haremos es empar a unir controles con vistas por defecto aparece un Hello World vale pero lo voy a eliminar porque Quiero crear mi propio Hello World Así que suprimo en todo momento recordamos que cuando estamos trabajando con una vista tenemos la un momentín que vale tenemos la vista de código tenemos la vista mixta Y tenemos la vista de digamos wus wuet el emulador de lo que va a salir el emulador no el la previsualización de lo que va a salir en emulador tenemos en este caso como estáis viendo aquí que estamos trabajando con un archivo xml tenemos una etiqueta Android que tiene una serie de parámetros igual que estábamos haciendo hace un rato con los parámetros del formulario de html y ahora a continuación me voy a ir al Wachu wuet me voy al common text View y pincho y arrastro voy a ponerlo en el centro lo del centro es una falacia ahora veréis por qué me voy al código y en el código veo que para empezar esta etiqueta ahora que tiene contenido se ha cerrado ya no se cierra ella sola y aparece una etiqueta que se llama text viw donde en este caso veo que tiene una serie de propiedades tengo un name space lo cual quiere decir que en el espacio de nombres Android tengo el atributo ID y el ID en este caso es text viw mi texto vale en el layout with es grab content esto es la anchura y la altura en el Android text es Hola mundo desde Android y ahora a continuación en el absolute X son 15 166 píxeles y a continuación en absolute y son 355 vale si yo ahora a continuación le doy a ejecutar vale Vamos a darle vamos a centrarlo creo que se va a ver centrado pero cuando le doy a Play arranc de nuevo el emulador un momento un segundo que está arrancando Ah Sí perdón lo del tema este de la configuración vale grabel build esto es qué quieres pues 35 y 35 vale Así que cierro exit vuelvo a arrancar vale Y ahora vuelvo a lanzar momento que se está regenerando Vale vuelvo a arrancar arranco emulador vale bien y yo esperaría ver el texto centrado en la pantalla pero sin embargo vamos a verlo pero sin embargo el texto aparece í arriba vale Por qué Pues porque y esto yo creo que uy espera me ha hecho una eh un audio de que arranca Android porque yo creo que esto es un fallo del previsualizador de Android en Android los elementos al igual que en css tienen que tener unos constraints vale en css si tú le pones Pos relative pues hace pl se te pone í arriba vale Y si tú le pones posi en absolute pues puedes empezar a moverlo por la pantalla y tanto en relative como en absolute le puedes le tienes que poner de Qué elemento partes bueno Esto es lo que conocemos como los constraints entonces en los constraints ahora mismo no tenemos ningún tipo de constraint si yo hago clic por aquí aparece 20 si hago clic por aquí aparece Perdón 120 y ahora hago clic por aquí y aparece 356 y aparece clic por aquí aparece 3 5 6 Eso quiere decir que y atención porque eso es muy importante para este emulador concreto para este tamaño concreto va a aparecer correctamente pero claro cuando yo ejecute esto en un Android que tenga un tamaño diferente de pantalla pues puede no aparecer correctamente la solución para ello es aquí donde pone 120 pongo 0 y cer0 y al poner cer0 es como poner un margin auto en css es decir 0 Y cer es que quiero lo mismo de un lado y de otro y por tanto céntrate en la pantalla Así que si yo ahora le doy aquí a recargar veremos como ahora el texto vuelve a salir en el centro pero sale en el centro de verdad lo cual quiere decir que si yo saco esto como un ejecutable y luego lo ejecuto contra otro Android que tenga una resolución diferente se va a ver Exactamente igual a partir de aquí Bueno tengo ya definidos cuatro constraints vale fijaos que se pueden editar se pueden modificar se puede hacer lo que se quiera Vale tengo un layout tengo una rotación bueno además rotación en 3D que no es moco de pavo Espérate que lo hago grande y puedo rotar en x vale fijaos ahí como el texto rota como en 3D lo cual es como alucinante porque en css se pueden activar rotaciones 3D pero hay que hacer un poco de magia negra vale Y aquí en Android Fíjate que con un solo deslizador lo tienes lo que pasa es que tampoco es tan normal a hacer rotaciones 3D dentro de una aplicación de Android Pero bueno que sepáis que existe vale la rotación más frecuente si es que acaso queréis rotar algo es la z que es la clásica rotación de toda la vida que tampoco recomiendo rotar vale porque va un poco en contra de la usabilidad tengo rotación tengo escala tengo traslación y tengo Alfa vale el alfa en este caso momentín voy a hacerle 0.5 vale No sé si veis pero no es que el texto se haya hecho gris sino que el texto se ha hecho transparente voy a quitarle el parámetro y no quiero Alfa Vale tengo comon attributes vale tengo texto que texto quieres poner tengo el text appearance font family pues puedo cambiar la Fuente vale serif por ejemplo o puedo cambiar monospace las fuentes son literalmente las de html vale cursive clásico bien vale voy a serif puedo el Face es decir normals s serif monospace vale puedo el Tex si más tamaño menos tamaño en el caso de texto multilínea puedo Line spacing literalmente igual que el Line height de css puedo text color voy a un color rojo enter vale rojo tomate en puedo poner negrita cursiva y versalitas voy a negrita y puedo alinear voy a alinear por ejemplo al centro si os fijáis Esto es lo que correspondería a css Pero cómo se ha aplicado dentro del Código de la interfaz de usuario Bueno pues si yo vengo por aquí comprobaré que es como css pero si os fijáis tengo por aquí todas las propiedades metidas en línea Eso quiere decir que atención por defecto no existe un archivo que sea igual que lo que conocéis como css pero digo por defecto vale más adelante por aquí en xml os podré generar un archivo que nos permitirá externalizar estilos a un archivo centralizado que caiga en cascada encima de todas las carpetas de tal forma que si y que de facto haremos estilos vale lo digo porque no os acojonados a css porque diréis ostras que ahora tengo que poner los estilos a todos y cada uno de los elementos de forma manual no vale yo os digo que por defecto se pueden estilizar elementos a mano vale Pero más adelante veremos que se pueden hacer estilos centralizados al igual que en css pero mi objetivo de hoy no es ese Vale mi objetivo de hoy es estar trabajando con controles de formulario y ver qué es lo que se puede hacer por cierto que si echáis en falta insisto lo que serían controles css que sepáis que hay por aquí un all attributes y en all attributes tenéis Alpha tenéis background tenéis buffers tenéis si es clickable tenéis el drawable end drawable top vale tenéis los margins tenéis los fonts los foreground el font family vale tenéis Prácticamente todo lo que podáis encontrar en css más parámetros vale desgraciadamente no hay un mapeo uno a uno de los estilos de Android a los estilos de css pero sí que desde luego la correspondencia es muy cercana no me quiero meter ahora mismo en all attributes vale sino que hoy quiero pegar un paseo por los widgets que tenemos en Android y Quiero echarle un vistazo A qué es lo que podemos hacer y para qué nos puede servir cada uno de ellos bien hemos visto el text viw vale el text viw es texto voy a eliminarlo vale bueno está por aquí en texto pero vamos no tiene mucho misterio bien lo elimino ya sabéis que se elimina todo de la jerarquía vale Y el siguiente de los commons es un buton pincho buton bien veis que al igual que antes me aparecen advertencias que me dice que no está restringido ni horizontal ni verticalmente lo cual quiere decir que aunque en el simulador Aunque en la previsualización Perdón lo vea correctamente luego va a aparecer aquí arriba ya sabéis que la solución para esto es restringirlo y más adelante poner cer y cero en todas partes por tanto habrá refresco y aparecerá correctamente vale Y a partir bueno correctamente es que lo he puesto yo en la parte de abajo pero bueno da igual lo que sea bien y ahora una vez que selecciono el botón pues una vez Epa quieto No quiero ahí una vez que selecciono el botón pues yo me puedo ir aquí vale No seos ocurra girarlo en 3D es muy raro Vale y vamos a ver estilo por aquí icono por aquí veis que están los common attributes claro el text View no tiene un on click pero nosotros sí que tenemos un on click Qué es on click claro no hay nada en este momento es decir Tendremos que crear un método dentro del archivo de cotlin y Llamar a ese método el on click vale pero de momento todavía no bien Así que vamos a ver tengo text Button pulsam OK Vamos a ver font family no quiero mira estilo vale vemos que hay estilos predeterminados de botones y de librería vale vamos a quedarnos con esos y insert bottom icono tinta stroke color Ok enter debería haber aquí str with 2 bueno Pues debería haberme creado una un stroke alrededor Pero vale lo que sea bien y pulsam Tex siise Tex font family vale San serif bien y ahora a continuación lo que voy a hacer es poner un pequeño text View Así que pongo un pequeño text View voy a restringirlo con respecto al botón que está arriba y poco más vamos a comprobar que sale realmente bajo del botón y ahora Aquí y ahora voy a pulsar el botón vamos a verlo este botón tiene el ID mi botón y ese text View tiene el ID mi texto Así que a continuación vamos a ver vale a continuación le doy a refactor y me voy a ir al Main activity vale para va que vayamos enlazando poco a poco el comportamiento de unos objetos con el resultado dentro de otros vale recordad que lo importante en este caso lo más importante son los ids Entonces esto es mi botón Y esto es mi texto me voy al Main activity y dentro del Main activity voy a hacer lo siguiente vamos a ver aquí voy a decir Val mi texto que es de tipo text viw con lo cual aquí arriba hará falta importar text viw no lo habéis visto pero se ha hecho automáticamente es igual a find viw by ID r.id punto mi texto vale esto es literalmente como un document query e Hola Qué pasa me das error Mi texto vale Por qué activity Main does not contain a declaration with ID mi texto no vamos a ver Ah Espérate Ah s estoy dentro de Long create vale vamos a hacer una cosa vamos a seguir Val mi botón de tipo Button vamos a ver es igual a find View by ID r.id mi boton vale aquí un momento porque esto es de tipo Button Así que show context actions import Class Button y veis que ahí import Class Button Vale rid mi bón no da error pero sin embargo mi texto a ver mi super texto refactorizar y ahora en el Main activity es r.id punto mi super texto Okay vamos a ver find viw by ID r.id voy a darle a Play a ver si me da más información acerca de este error o si me dice que no es un error Vale ahora no es un error muy bien Ya decía yo digo no entiendo por qué eso lo marcaba como error pero bueno los ids a veces son así vale ahora a continuación digo en mi botón punto set on y tengo on click tengo capture Pointer tengo context menu listener tengo drag tengo Focus tengo hover tengo key lisner Vale tengo no digo lo mismo que en javascript pero el concepto sí que es el mismo vale que es el concepto de evento voy a el más sencillito voy a hacer set on click listener y en on click listener vamos a decir que pues eh mi texto punto text es igual a has pulsado un botón vamos a por ello le damos Play Okay vale Y le doy al botón de pulsam y dice Has pulsado un botón Así que En definitiva pues como os podéis imaginar a lo largo de estas clases por una parte vamos a estar viendo hemos visto una parte inicial de cotlin estamos viendo xml de controles Y a medida que vayamos trabajando pues iremos uniendo los controles Perdón los elementos de vista mediante controladores para ver cómo se van relacionando entre sí voy a eliminar esto porque claro ahora para continuar pues tengo que eliminar Vale entonces pues claro es que si elimino se va a eliminar todo pero bueno voy a hacer un nuevo Proyecto A ver más controles que me sabe mal eliminar código vale momentín está recargando voy a cerrar esto para que no se me la memoria RAM y vamos a ver más cosas vamos a ver bien en el activity Main hablaremos de fragments vale que es para reciclar Trozos de vista si yo me voy a text veo que al igual que ocurre en html tengo múltiples tipos de texto por tanto a continuación voy a hacer lo siguiente vamos a ver Estos son inputs así que vengo por aquí y creo un input lo voy a marcar Ok Muy bien el tooltip pone name voy a poner nombre y el ID es campo nombre refactor a partir de aquí por ejemplo puedo poner email es como un html vale es un validador Así que lo e constri arriba y aquí vale text email vale Ahí sí luego aparte igual que con las herramientas de adobe pues puedo espera bueno Hello World lo quiero fuera vale puedo por ejemplo ahí cer y aquí cero y así que se queden pues correctamente alineados un momento que se a ver Sí pero ahí vale Okay nombre email bien Ahora a continuación dentro de Buttons vale Hay un montón de botones está el botón normal está el botón con imagen está el botón de chips vale Este de hecho lo hicimos lo estiz a mano con css nosotros está el botón de Chip lo voy a quitar o sea lo voy a poner pero luego lo quitaré vale que es esto de aquí está el botón de switch que es el de encender y Apagar vale Mola También bien pero voy a meter el buton clásico Así que meto un buton aquí le meto un margen le meto aquí un constraint cer y cer Vale y vamos a por ello no quiero constraint bajo vamos a previsualizar Play a ver Ah sí el 35 otra vez vale venga app no gradel scripts B gradel no este 35 y 35 Okay cierro exit abro vale recargo vale Y ahora voy a activity Main me voy a Play comprobamos que al menos la maquetación es correcta Okay Vale Pixel está arrancando y vamos allá okay Vale nombre email correctamente maquetado bien ahora quiero poner los ids correctamente mi botón por aquí mi botón por aquí y esto es mi nombre bueno campo nombre y campo email Ok lo que sea pero que tengan un nombre que podamos reconocer Así que ahora a continuación me voy a Main activity y dentro de main activity voy a decir bar mi botón es igual a find View by ID no quiero esto Ah Sí perdón mi botón que es de tipo Button y así no hace falta que ponga el operador estrella r.id punto mi botón y ahí arriba vale Y ahí arriba botón derecho importo buton y ya tengo buton correctamente puesto vale me dice es ahí mira otra vez me pasado me decía error y simplemente le he dado control S he tirado una línea para abajo y ya no da error ahora bar eh cómo lo llamado es que no me acuerdo pero no tiene por qué llamarse igual vale Pero si le llamo igual pues mejor bar campo nombre de tipo qué de tipo espérate de tipo eh espera Plain text no momentín vale edit text de tipo edit text es igual a find View by ID r.id campon nombre y campo email es igual a r.id campo email una vez que tengo esto ahora a continuación digo mi botón punto set on click listener no quiero parámetros Quiero la llave directamente y ahora digo vamos a ver y ahora digo qué te diré yo toast punto make text donde en dis quiero eh campo nombre como ya es un String creo que no hace falta hacer nada más vale coma toast make short vale leng short pun show eh vamos a ver make text no no quiero esto no vale momentín dis campo email Vamos a darle a Play vale contexto Okay pero sin embargo vale voy a abrir el proyecto de aprendiendo klin in New window y vamos a ver qué contexto ponía en ese proyecto no sé si se ha abierto en otra ventana sí No aquí no dónde estoy Ay leches aquí vale toast text vamos a verlo Hola vale lanzamos vale Este sí que dice cuando hago clic dice hola pero ahora a continuación desbloqueo estos dos Ah y ahora sí en fin Android es así de Guay vale no eh two String Ah Espérate punto text y ya está ahora sí punto text Ahora sí claro estoy apuntando al campo pero no tengo que o sea pero tengo que especificar Qué propiedad Quiero su texto bien así que y ahora aquí en nombre pongo José Vicente en email pongo info @a.com le doy a buton y me aparece José Vicente y info@.com.ar esturas de las que hemos visto antes vale Y lo que quiero ahora es guardar una Ray de elementos Entonces vamos a ver estoy pensando en crear un objeto vamos a ver vale Y voy a hacer lo siguiente por aquí creo B bar realmente lista mutable es igual a mutable list of Quiero una pareja de datos Quiero una pareja de datos que sean de tipo String coma String vale en este caso estoy creando un mutable list que una vez más tomando conceptos de python cuando creamos una array dentro de Android el problema de ese array es que no es mutable Es decir no puedo irlo aumentando tanto como quiera en lugar de crear una array voy a crear una lista que igual que en python las listas sí que son mutables Y en este caso mediante operador diamante le digo que cuidado le digo que el mutable list va a contener una pareja de datos y el dato que va a contener es un String coma String por tanto cada vez que hago clic Aparte ya tengo claro de que puedo los datos pues lo que voy a hacer en este caso es lista mutable punto add lo mismo que en python es append vale aquí es ad quiero meter una pareja de datos Y en este caso quiero meter campon nombre. text coma campo email text con esto lo que estoy guardando es un momentín porque Hola String Bueno pues tu String vale Y tu String Okay Vale ahora sí bien una vez que tengo esto ahora a continuación pongo toast make text y aquí pongo ahora tengo más eh momentín más lista mutable punto size two String má elementos vamos a verlo le doy a Play vale nombre pues tricky tricki email Trick tricki le doy a Button vale me dice lo que he guardado y ahora me dice ahora tengo un elementos si ahora a continuación meto otra cosa y ahora a continuación meto otra cosa le doy a Button me dice lo que ha guardado y a continuación me dice ahora tengo dos elementos Vale tengo dos elementos en memoria lo cual quiere decir que tengo una lista mutable que hasta que no la persista de alguna forma pues no podré hacer realmente nada quiero decir con esto que si yo ahora Cierro la aplicación vale le doy a lanzar le doy a lanzar y me dice que tengo un elemento debería decirme tres pero me dice que tengo uno vale Por qué Porque al cerrar la aplicación lo que ha hecho es perder todo tipo de memoria vamos a ver algún cómo te diría yo algún modo el más sencillo posible porque hay múltiples métodos en Android de persistir la información pero así de alguna forma nos quedamos tranquilos de que podemos persistir y de que más adelante podemos recuperar esta información vamos a ver así que para ello un momentín a ver esto fuera meto los elementos en una lista mutable los añado bien y vamos a ver un momento momenti vamos a ver vale vamos a usar ser preferences voy a abrir bebida vale casí Voy a demostraros esto en un archivo aparte en un proyecto aparte y luego si hace falta lo mezclamos con este proyecto voy a hacer un empty views activity este se va a llamar persistencia y vamos allá vale a ver cierro esto de más controles cierro aprendiendo kodlin vale lanzo emulador Me tocará otra vez hacer esto Así que cierro lanzo vale Y ahora en el Main activity por aquí por ejemplo voy a hacer lo siguiente vamos a ver le digo que de tipo shared preferences mis preferencias es igual a get shared preferences y mis preferencias coma Mode gu baj private lo cual quiere decir que voy a guardar un archivo con mis preferencias y no quiero que compartido entre las aplicaciones me dice que no reconoce sh preferences importo Epa importó share preferences a ver no está bien escrito Okay lo he escrito bien vamos a ver sí pero no esto es un tipo de dato vale Okay vale No espérate esto es mis preferencias de tipo share preferences vale Y ahora bar mis preferencias Okay ahora sí muy bien entonces una vez que he cargado Esto vale ahora digo en mis preferencias punto edit punto apply Ahí está entonces digo put String clave y valor por ejemplo nombre coma José Vicente bien Voy a decirle apply pongo esto por aquí y básicamente lo que hace esto es abrir las preferencias compartidas y crear como una especie de pequeño repositorio como una especie de pequeña base de datos llamada mis preferencias como siempre os digo todo aquello que está en español se puede cambiar todo aquello que está en inglés no se puede cambiar lo cual quiere decir que dentro de mis preferencias es como que imaginaos una base de datos site vale es como que creo una pequeña base de datos esite y dentro de la base de datos meto clave y valor realmente más que como un esite se parece un local storage dentro de la base de datos Pero bueno una microbase de datos con donde puedo introducir clave valor ahora a continuación le voy a dar a Play y no va a pasar nada Vamos allá conectando emulador conectamos a emulador y como ya os digo arrancamos y no va a ocurrir nada visible Mejor dicho arranca vale Y ya está me dice hola mundo y ya está bien pero ahora voy a bloquear este trozo de código porque a continuación lo que voy a hacer es decir bar mi valor es igual a mis preferencias punto get String y quiero aquí perdón y quiero el nombre y en este caso voy a ponerle un valor por defecto vale que es por defecto claro Ahora puedo hacer un toast make text en dis como contexto coma mi valor String no debería hacer falta pero vale coma eh toast punto no ay le es queé raya me da esto momentín resent Uh aprendendo cotlin en New window voy a un toast voy a el nombre de variable para aquí esto no sé por qué antes no me ha aparecido pero bueno aquí to length short pun show bien Vamos a verlo cogemos nombre le aplicamos un valor por defecto pero luego La idea es que debe reemplazar ese valor por defecto con el mío le doy a recargar Y si todo va bien Ahora me dirá José Vicente pero daos cuenta y de hecho si queréis ahora Mirad quito esto hago así vale hago así espera hago así y cierro ych y cierro Bueno pues no cierro y cierro va Clear all va bien le doy a Play y me va a decir José Vicente y la razón por la cual me dice José Vicente es porque en todo momento estoy recordando lo que realmente ha ocurrido vale otra cosa que puedo hacer hemos visto que podemos guardar un valor y podemos recuperarlo más adelante esto es guardar esto es recuperar podemos eliminar un valor para eliminar un valor esto es guardar un valor esto es recuperar un valor ahora a continuación voy a borrar un valor en este caso voy a volver a aplicar esto de aquí el mis preferencias edit apply y voy a decir remove nombre lo que hago es eliminar una clave concreta dentro de las parejas de claves le doy a recargar no va a aparecer nada vale No aparece nada pero ahora a continuación de o sea bloqueo el borrar y desbloqueo el recuperar y al desbloquear el recuperar e intentar recuperar de nuevo esa clave me va a decir que por defecto vale por defecto es esto que he escrito por aquí que es lo que ocurre cuando no ha encontrado un valor real para esa clave luego moraleja si no encuentra un valor es porque hemos borrado ese valor y luego por último y luego por último podemos Eliminar todos los valores de la biblioteca de nuestra biblioteca para ello voy a volver a aplicar este mis preferencias edit apply y básicamente le digo Clear le voy a dar a Clear en este caso no va a tener mucho efecto porque básicamente ya había borrado todo lo que tenía anteriormente vale con lo cual Pues vale Ya lo tengo bien una vez que hacemos esto a continuación lo que quiero es conectarme una vez que hemos visto unos cuantos widgets y hemos visto cotlin y todo eso ahora en la última media hora Quiero conectarme desde esta aplicación a un servidor o desde una aplicación a un servidor y puedo o sea y quiero enviar información el otro día estuvimos viendo el crimson Cars vale recordamos que en recent projects estuvimos trabajando con el crimson Cars tero la aplicación en crimson Cars estuvimos trabajando con la conexión asincrónica en una aplicación que trabajaba con fch Vale pues yo en este caso lo que quiero ahora es tocar una tocar un servidor y con ese servidor ser capaces de recuperar y de enviar información vamos a por ello voy a crear un nuevo proyecto voy a crear un mtvs activity y voy a llamar a este proyecto enviar recibir Así que enviar recibir eh Hola no estaba en este no voy a recibir Ok venga fuera est es otro emulador es que si no voy a cerrar cosas porque si no la memoria me va a hacer catum este es aprendiendo cotlin vale este se envía a recibir Okay vale un momento vamos a ver vale me vengo aquí y aquí por ejemplo en esta parte vamos a importar Ok tengo Android pues vamos a importar Java iio output streamwriter vamos a importar java.net http URL connection y vamos a importar java.net.url están gris porque de momento no se han utilizado pero ahora a continuación obviamente los vamos a utilizar para ello voy a crear un bar o un B donde voy a decir pues URL es igual a URL Y qué URL voy a poner pues vamos a ver vale me voy a ir a abrir mi servidor vale en mi servidor voy en Nueva web jarsa en Go voy a crear una carpeta llamada Android vale No hay ninguna carpeta llamada Android no voy a crear una carpeta llamada Android y dentro de Android voy a crear un archivo voy a ir aedit un archivo que se llame como yo quiera en este caso pues como estoy en un endpoint nueva carsa Go Android Espera que aquí tengo una ventana aquí vale y voy un archivo nuevo llamado index.php index.php va a decir de momento Hola vale Así que a continuación la URL Por cierto aquí va a ser eh jocars comom bargo bar Android me dice hola vale comprobamos que la URL real y me voy y Pongo aquí la URL vale la URL es esta de aquí a continuación voy a decir Val datos es igual a js input String vale Y voy a decir que claro no Bars datos Esto vale bar datos es igual a comillas clave esto no le va a molar mucho coma valor vamos a poner al revés porque un J son Realmente aquí tiene dobles comillas Ahora sí y qué me dice vale como too many characters vale como aquí lo que quiere es tener dos comillas tanto en la URL como en el valor voy a poner como si estuviéramos en python tic por aquí y tic por allá vale como el doc String de python Cuidado con esto como el doc String de python Pues lo mismo en cotlin bien Ahora a continuación una vez que sabemos dónde queremos enviar y sabemos qué es lo que queremos enviar ahora a continuación lo que voy a hacer es que Val conexión es igual a URL punto Open connection punto no as http URL connection vale la URL es esto de aquí con lo cual esto es simplemente una String de una URL Pero esto Abre realmente la conexión Así que a continuación voy a hacer lo siguiente vamos a ver hago un try vamos a hacer un try y el try llevará un Catch e de tipo exception Vale y dirá e punto print stack TR y Finally al final sea como sea una vez que acabes conexi disconnect es decir finaliza ahí disconnect finaliza la conexión bien tenemos el bloque de intenta conectarte Si das error Dime el error y al final sea como sea apaga la conexión vale haya pasado lo que haya pasado por tanto en la conexión punto request method es igual y vamos a poner post vamos a enviar la información por post podemos hacer get vale loico es que si aquí enviamos por post en el servidor recogemos por post Y si aquí enviamos por get Pues en el servidor recogemos por get ahora vamos a decir qué es lo que estamos enviando un Jason Así que conexión punto set request property y el request property va a ser content type y el tipo de contenido que voy a enviar va a ser application barra jas si es posible codificado con utf8 Igualmente en set request property aunque con la línea de arriba debería ya funcionar por si acaso le voy a meter un accept y en accept voy a decir application.js vale es básicamente lo que le estoy diciendo es te voy a enviar un jas te voy a enviar una información que está en formato jas Así que vamos a ver mm bueno Vamos allá conexión output Stream use vale Y en el use a ver okay Voy a decirle output Stream momentín output Stream es output Stream writer the output Stream punto use y writer y digo writer write y envío los datos y writer flush y Vacío la c bien si todo ha ido bien si todo ha ido bien básicamente te le digo te lo voy a enviar por post te voy a enviar un jas Envíalo Vale ahora luego veremos que puede haber respuesta pero de momento voy a hacer un envío solo Claro en este caso Mira clave vamos a ver clave voy a poner nombre y valor voy a poner José Vicente desde Android okay Así que le doy a Play de momento De hecho no me dirán nada porque esto no tiene por qué devolver nada en pantalla es como un fetch en javascript pero en codling Ay qué Manía con el 35 vale va 35 y 35 momento que se me ha apagado aquí vale Así que cierro OK Así que dónde estás Me voy a escritorio me voy a Android me voy a Android me voy a Bin me voy a estudio bien y ahora sí si todo va bien el Main activity no sé ni por qué lo abro porque no tiene nada interfaz de usuario le doy a Play Okay Vale bien no hace nada no debe hacer nada Hello World pero yo ahora a continuación aquí donde he puesto antes Hola Voy a hacer php y digo vamos a ver por aquí php wr to file este me cojo este Cacho lo pego aquí y digo resultado. txt ord no quiero el ord el txt es pues quiero el post nombre vale Por qué post nombre Pues porque porque aquí estoy enviando por post y la clave que estoy enviando es nombre vale Así que vuelvo a recargar porque esto está en el oncreate vale esto se ejecuta una vez no dice nada porque no tiene por qué decir nada así que a continuación si todo va bien me vengo por aquí me voy a refrescar la vista vale no ha ejecutado nada resultado Android vale Voy a llamarlo manualmente recargo Okay me voy aquí refrescar Ah mira ahora sí resultado Vale pero no ha creado nada muy bien desde aquí no vale vengo por aquí vamos a ver Okay a ver un segundo vamos a ver si yo creo que igual me hace falta tener que abrir el Android manifest Vale entonces me voy al manifest me voy al Android manifest y por aquí en alguna parte pues vamos a ver voy a meter esto voy a meter el Android permisso en internet recordemos que he borrado ese archivo y si no lo he borrado pues lo borro ahora okay vamos a probar de nuevo le damos a Play arrancamos de nuevo vale de momento no dice nada me voy aquí al código le digo refrescar No todavía no vamos a ver Android manifest vale Okay y en application vamos a ver El caso es que estoy llamando voy a poner esto use Clear text Traffic Aunque yo estoy llamando a un https Okay Vale y voy a ver si me da código de respuesta entonces Main activity vale básicamente lo que voy a hacer aquí es un código de respuesta voy a darle a Play otra vez vale Y en el print Line en la terminal y aquí es donde a ver sí pero no momentín A ver por qué no se está conectando Oh no y Ah no Caray no veo la vista de terminal A ver vamos a pulsar al tf12 ahora bien Sí pero vamos a darle Play de nuevo No tampoco vamos a pulsar el alt 6 no no enig datos en la vale Okay aquí puede estar el problema vamos a ver si yo hago así Ahora envío un jas con comilla sencilla le doy a Play aquí Quiero borrar Sí pero no esto es file vale Y ahora me voy aquí me voy a refrescar Ahora sí vale Y ahora Aquí tengo el resultado txt No espérate vale algo ha ocurrido porque me ha creado el resultado de XT pero viene vacío muy bien eliminar vamos a comprobar que es cierto que lo ha creado Android le doy por aquí a recargar Vale ahora me vuelvo al servidor refresco la vista y tengo el resultado txt pero todavía no Entonces vamos a ver por qué eso a ver por el js no me lo está poniendo correctamente porque aquí estoy enviando los datos vale vamos a utilizar caracteres de escape entonces doble pero con carácter de escape doble pero con carácter de escape y doble pero con carácter de escape muy bien Play de nuevo Okay nos damos al servidor cargamos resultado un momentín voy a eliminar ejecutamos de nuevo Ah refrescamos vista resultado no vale vamos a ver post nombre estoy cargando lo correcto Sí en principio sí a ver manín que estoy buscando a ver cuál puede ser el motivo de fallo Okay Vale entonces me dice que lo coja como php input vale bien ok Data nombre y right Vamos allá resultado txt lo quito claro es cierto que estaba enviando un jas pero luego sin embargo lo estaba cogiendo como si fuera un post de formulario y eso no es correcto Vale entonces refresco me voy a resultado Au No todavía no Bueno pues no pas nada pues vamos a dejar esta parte del ejercicio aquí y vamos a ver momentín vale voy a probar otra cosa un momentín última prueba datos es igual a Esto vale voy a probar esto voy a probar esto a ver abrimos conexión método expost vale es un application encoded con lo cual el código php lo dejo como estaba ejecutamos okay recargamos No todavía no vale No pasa nada vamos a ir cambiando la siguiente clase nos dejamos esto para resolver el lunes que viene pero bueno básicamente la petición está llegando pero no estamos hablando el mismo idioma en la aplicación móvil y en el servidor vale básicamente si en un lado enviamos Jason en el otro tenemos que Jason y si en un lado enviamos formulario Pues en el otro tenemos que formulario vale pero Eh Esto evidentemente está encaminado a que por una parte veáis que se puede persistir información en el navegador y por otra parte está encaminado a que veis que eh podemos conectarnos con servidores remotos para enviar y para recibir información y para En definitiva pues implementar lo que hablábamos el otro día en este esquema de desarrollar una aplicación móvil conectarla mediante Jason o mediante formulario o mediante lo que sea y realizar la conexión con el resto de sistemas que estemos desarrollando por ejemplo en la asignatura de sistemas de gestión empresarial vale bien pues