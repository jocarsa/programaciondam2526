vale en la parte anterior de la tarde hemos estado hablando de la generación de gráficas para conocer Cuál era el estado del servidor el procesador la ram y todo eso Pero hay otro tipo de datos que tenemos que analizar que es importante y que es urgente que analicemos que son los datos de qué usuarios van a visitar nuestra aplicación que usuarios van a visitar nuestra web para ello lo que vamos a hacer es eh generar crear una serie de scripts que primero nos van a permitir guardar esa información y luego además a continuación Tendremos que generar otros scripts para generar gráficas para generar estadísticas a partir de esas visitas en primer lugar vamos a ver cómo está el proyecto vamos a crear una nueva versión copio y pego 090 27 y eh estadísticas o registro Perdón registro de visitas claro Hay que tener en cuenta que nuestra web en el Front es html puro Pero bueno tiene php vale con lo cual intentamos evitar conexiones directas Pero bueno al final las podemos generar a ver un segundo a ver un segundo y voy a hacer lo siguiente voy a hacerlo de momento con php vale Okay genera html vale Okay bien en el proyecto aquí en el proyecto 97 me voy a ir al Front y en el Front voy a crear un archivo llamado registro.php el archivo de registro.php que será incluido en todo el resto de archivos es decir php include registro. php en Index en blog en categoría en contacto en producto y ya está Vale registro php lo que va a hacer es conectarse a la base datos y guardar una información un poco particular y un poco especial vamos a verlo me voy a ir un momento a los módulos me voy a ir al módulo de bloque me voy a ir a la clase no no esta clase no Uh a ver Ah no no dónde me conectaba yo a myq vuele bueno sabes qué Me voy a ir aquí a Back me voy a ir a la clase y aquí y ya está vamos a ver conexión es igual a proyecto admin no realmente todavía no un momento antes de eso ip es igual a super variable server Remote addr Así que vengo por aquí y digo eco tu IP es punto IP br vamos a verlo me voy a esa versión me voy a esa versión me voy a Front y aquí en Front voy a cargar registro.php y me dice ip es uno claro uno porque estoy en local Host vale si entro desde mi IP privada If config yo ahora mismo soy 210 192 1681 21 tu IP es esta de aquí V en este caso en este ordenador estoy entrando con la misma IP como cliente y como servidor porque estoy en local Host vale pero estoy siendo capaz de capturar la IP Oye qué tiene Remote address pues hago bardom server Y eso quiere decir que tengo vale http Host tengo el navegador el http user agent tengo todo esto Vale tengo todo esto de aquí todo esto de aquí todo esto de aquí vale tengo todo esto de aquí bien con lo cual yo a continuación me puedo esto y me lo puedo guardar en bueno o bien en una base de datos o bien en algún tipo de archivo de registro me lo puedo guardar en un jas me lo puedo guardar en un csv No lo sé vale vamos a guardarlo en algún csv por tanto yo ahora vengo aquí y digo bardum server y ahora en php voy a hacer lo siguiente cerrado Sí parece que cerrado vale bien Vamos a ver php safe server On A csv eh put headers it has them Así que si hago esto Así que si hago esto copio pego defino el csv abro el archivo compruebo si está vacío escribo los headers escribo la información cierro y lanzo defino abro compruebo si el archivo está vacío haz esto y al final escribe y cierra el output me lo puedo cargar y todo ahora elimino espacios Y si ahora ejecuto registro atención si ahora ejecuto registro puede parecer que no ha pasado nada pero sin embargo yo ahora me voy a esa carpeta compruebo que se ha creado un archivo llamado server data.csv y en el server Data csv veo esto de aquí Claro que vosotros diréis no sé muy bien qué estoy viendo vale voy a recargar y recargar de hecho como lo he incluido puedo abrir el Front directamente y puedo visitar el Front y luego puedo ir a programación y luego puedo ir a diseño y luego puedo ir a formación vale puedo que sé puedo ver de todo vale puedo ir al blog y ver un archivo de Blog lo que sea al cabo del rato conforme vaya navegando veré que este archivo se ha ido llenando de información y vosotros todavía diréis ya pero es que no veo nada esto parece ser un archivo un poco caótico la realidad es que no lo es porque si yo cojo ese archivo Y en lugar de abrirlo con un editor de texto lo abro con una aplicación de hoja de cálculo como libre office en ese caso comprobaré en ese caso comprobaré me lo voy a guardar en otra parte para poder abrirlo en ese caso comprobaré que el archivo csv es un archivo estructurado separado por coma y eso quiere decir que tengo el http Host tengo el http connection tengo el pragma tengo el cach control tengo el vale el upgrade tengo por aquí el user agent es decir que e cuidado cuidado aquí ha pasado algo mofil text moila algo ha pasado vale no pasa nada algunos datos se han corrompido ahora los memos de sitio tengo el remote address tengo el server name tengo el request tengo el context prefix Vale tengo toda la información acerca que puedo sacar vale toda la información acerca del visitante que me ha visitado tengo el request Time que es Cuándo me ha visitado Vale tengo la sensación de que ese aquí vale ese es el problema que no se está guardando correctamente vamos a ver no se está guardando correctamente porque por aquí tendrá alguna coma okay vale Voy a ver si le puedo decir vamos a ver Force all columns with colum Data surrounded with esto make escape characters vamos a verlo ahí vale copiamos pegamos Voy a pegarlo así voy a borrar el archivo porque como he cambiado las condiciones Vale entonces ahora como os decía visito la web me voy al inicio programación contacto diseño formación vale programación pinch un producto Okay bien me voy a ese archivo vale Y si todo ha ido bien que yo creo que no pero vale si todo ha ido bien Melo espera primero eh primero programación HM no primero lenguajes tres proyectos Apple registro Front aquí escritorio reemplazo escritorio abro quiero separar con esto claro ahí está el problema a ver el problema es esto arranca con comilla Y si esto arranca con comilla todo tiene que arrancar con comillas pero no lo está haciendo no lo está haciendo Vale pues no hay que pedirle más H vale probemos registro cerramos bloques server Data lo vacío vale recargamos programación diseño formación contacto no lo sigue sin hacer lo sigue sin hacer voy a probar a copio pego vale abro a ver algún formato de importación no Ah kipa Life claro kipa Life coma vale Venga pues Ok pues lo que voy a hacer en este caso va a ser decirle a registro que el separador un momento que el separador no va a ser la coma sino la barra vertical seguro que no lo va a poder confundir con Nada estoy intentando guardar no me deja Okay cerrar sin guardar bien server Data solo lectura interesante cancelo Vale pues mira sabes qué ah espérate borro y Ok venga Vamos allá navegamos inicio blog contacto programación diseño formación me voy a ese archivo Hola Ah vale vale que lo que está haciendo Okay es ponerme las cabeceras venga vamos a quitar el código y aquí put fsv con esto de aquí vale volvemos a borrar a ver si no se ha bloqueado sí se ha bloqueado volvemos a eliminar vale volvemos a navegar inicio blog contacto programación diseño formación Ahora nos vamos a revisar el archivo venga Ahora sí y ahora ese archivo lo copiamos y lo abrimos y al copiarlo y abrirlo ahora le diré que el separador es la barra vertical Ah no perdón esto es la barra vertical Ahora sí el delimitador es esto a ver todavía No Pero casi vale Okay Vale pues ya casi vamos a verlo y con esto iremos acabando vale tranquilos por la traya en la tarde de hoy pero bueno La idea es que así hemos visto varias cosas vamos a probarlo por lo menos que se quede hecho server Data fuera bien inicio blog contacto programación diseño formación recargo vale esto tiene mejor pinta creo yo bien Ahora copio desde aquí pego aquí abro con hoja de cálculo y por supuesto abro con hoja de cálculo pero Okay separador es la barra vertical perfecto Ahora sí vale abro con hoja de cálculo lo cual quiere decir que ahora sí tengo toda la información en las cadenas correctas en las columnas correctas y esto quiere decir que ahora a continuación ahora igual no porque es un poco pronto vale Pero si tengo esta información de la misma forma que anteriormente en la tarde de hoy hemos utilizado un archivo txt para sacar una gráfica pues puedo usar este archivo csv para sacar una gráfica o bien con python o bien con lo que sea para extraer información acerca de por ejemplo pues Los visitantes a la web o eh los navegadores utilizados o lo que sea voy a haceros una demostración vamos a ver vale voy a abrir con firefox voy a abrir la misma web con firefox para que haya un navegador un poco diferente vale abro con firefox inicio blog contacto programación diseño formación vale para simplemente generar más elementos y ahora una vez que tengo esto voy a crear un pequeño panel de analíticas para crear un pequeño panel de analíticas Pues voy a hacer lo siguiente copio me vengo aquí y digo from server log Data in this format create images create charts using mat plot le to depict Main Data Main points of interest such as visitors Line charts of visitors visitor number Last 24 hours bran of eh browsers distinct IP Y yo que sé sabes qué más te puedo pedir y pages o distinct pages vi vale Vamos allá ahora a continuación me voy a hacer por aquí nua carpeta 97 me la voy a pasar a 98 098 panel de visitas y en panel de visitas me voy a hacer Pues no lo sé por aquí una carpeta llamada útil y en útil me voy a ir abriendo idle me voy a hacer un Script y lo voy a poner dentro de útil dam primero lenguajes tres proyectos Apple panel útil y panel.php o sea panel python Perdón bien Vamos a ver que me ha dicho gpt no me ha dicho nada momentoa aquí anal vale se ha quedado frito se ha quedado muerto me acabo de cargar chat gpt A ver un segundo creo que acabo de matar a chatp pero mucho Qué miedo no es como vale No sé eh la verdad es que el texto que le he puesto tiene es aquel a ver voy a arrancar una conversación nueva jo vale otra cosa que puedo hacer es vale hago una conversación nueva le subo un archivo el archivo es ahora cuando aparezca escritorio server Data no se puede mostrar la visualización okay No quiero tampoco Ajá vale eso correcto no no no use vertical Pipe as separator es que me dice te voy a reformatear CV No quiero que me reformes el csv quiero que me interpretes vale eh No ya pero no a ver eh o sea me ha generado las gráficas pero es como ya pero no O sea yo no quiero eso yo quiero que me des el código de python vale vamos a ver vale con lo cual procesamos Vale ahora sí pegamos vamos a probar eh cuidado Esto está en dos puntos barra Front server Data bien f5 qué me dice vale a ver Oh Vale dice que tiene a ver eh No bueno dice que tiene un número inconsistente de columnas no estoy de acuerdo vale porque fijaos que sí que tiene un número consistente vamos a verlo Ah Sí perdón es server Data es dos pun barra Front server Data vale name server Data is not defined a ver estoy en Front sí y en Front es server Data panel de visitas s vale Bueno pues parece que esto se nos va a resistir un poco a ver Ah me dice error loading error Bad Lines Qué es error Bad Lines an Okay vale se cierra solo Okay pues nada bueno pues vamos a dejar esto para otro día porque esto parece que se nos va a complicar un poco más entonces lo que haremos es básicamente lo que hemos hecho para el servidor vale que es por una parte escribir toda la información en un archivo de registro y luego con python pues leer esa información generar las gráficas y crear un panel de control que nos sirva para obtener Pues el un vistazo de qué es lo que está ocurriendo con toda esa información vale Bueno pues nada poco más por hoy así que nos vemos mañana de 3 a 9 con inglés de por medio evidentemente y nada os he enviado antes un correo a todos a todo el grupo con un poco pues una primera aproximación a Los criterios de evaluación que tendremos en este segundo trimestre así que pues bueno es importante que en la medida de lo posible Pues vayáis poco a poco preparando el proyecto los parámetros que os estoy contando es decir por una parte aprovechar las navidades para crear contenido Por otra parte aprovechar estas semanas para ir siguiendo las clases y ver en qué estado está el proyecto y sobre todo aprovechar enero y febrero hasta que llegue la evaluación para adaptar el proyecto a vuestras necesidades y para que cuando llegue el final de la evaluación pues cada uno de vosotros tenga un proyecto que claramente sea distinto a al de los demás es decir que sea un proyecto eh totalmente personalizado vale venga pues nada más por hoy nos vemos mañana y continuamos con sistemas informáticos con programación y luego con proyecto intermod vale estáis vivos todavía parece que no alguien vale pu supongo que no estáis muy en el ordenador Así que nada cierro por aquí chicos