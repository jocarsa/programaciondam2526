empezamos la sesión de hoy la primera clase si no recuerdo mal es programación vale Así que vamos allá y Bueno vengo a cumplir Perdona a cumplir no a seguir cumpliendo la promesa que os hice la semana pasada de que pues ahora el contenido de estas semanas que vienen ahora a continuación pues va a ser sencillo entre comillas vale es decir vamos a y practicar los conceptos y los contenidos que hemos trabajado en semanas anteriores Y hoy quiero vamos a abrir por aquí idel Hoy quiero contaros una un tipo de conexión a base de datos que os voy a enseñar pero que Vais a ver que es muy parecido a lo que ya habéis aprendido anteriormente con mysql así que dónde voy a ubicar lo que vamos a ver hoy momento que vea a ver en qué carpeta lo ubico estamos en dam estamos en programación muy bien y dentro de programación lo que voy a hacer hoy Ah no multimedia no programación vale aquí vale lo que voy a hacer hoy se enmarca estructuras desarrollo de clases lectura y escritura de información y voy a trabajar por aquí con Aquí vamos a ver creación y eliminación de ficheros y directorios creo que ahí Ya tendré Algo vamos a verlo vamos a ver la carpeta vamos a ir a dam vamos a primero vamos a programación vamos a voy a poner esto en modo lista lectura escritura de espérate aplicación de estructuras de almacenamiento vamos a ver pues mira voy a ponerlo aquí por ejemplo en operaciones de agregadas de filtrado reducción y recolección Vale pues voy a crear un nuevo archivo lo voy a guardar como os digo dentro de esa carpeta y eh lo que os quiero enseñar hoy es un tipo específico de bases de datos que se llama sqlite entonces las bases de datos de tipo site me voy a programación me voy a vamos a ver lectura escritura de información me voy al número no ya no sé dónde estoy aquí estructuras de almacenamiento operaciones agregadas de tal vale digo 001 voy a poner por aquí esite y os decir que ese kulite es un tipo de bases de datos que se basa en sql Qué quiere decir esto Pues que en primer lugar primera buena noticia de la tarde si sabéis May sql automáticamente sabéis sqlite Eso quiere decir que todo aquello que aprendáis de mysql automáticamente está en ese kulite quiere decir sql en pequeñito Y eso quiere decir que no tiene algunas de las cosas avanzadas que tiene m sql Pero para lo que vamos a hacer hoy Vais a ver que nos sirve total y perfectamente Qué es por tanto ese kulite pues es un Gestor y un formato de bases de datos pero con una particularidad un poco especial y es que hasta el momento cuando trabajamos con mysql pues mysql es un sistema de gestión de bases de datos potente pero a la vez Tiene ciertas cosas que en un momento dado nos pueden acordar un poco como que por ejemplo tiene seguridad y eso quiere decir que no nos podemos Conectar a una base de datos de tipo mysql si no hemos eh creado antes un usuario de contraseña y para poder conectarnos a mysql como ya habéis visto en semanas anteriores pues tenemos que haber instalado previamente un servidor mysql y lo tenemos que tener corriendo y todo eso vale ese kulite por contra es una base de datos basada en un archivo y eso quiere decir vamos a empezar por aquí vamos a bueno puedo ir a python Mira voy a ir a mi propio github lo digo porque puedo ir a chat gpt pero en mi propio ghub como siempre os digo hay mogollón de repositorios donde ya hay un montón de información bien entonces pyon vale Y gestión de bases de datos y almacenamiento Sí pero aquí lo tengo proyección no esto es vale Okay el disco residuos No yo quiero a ver jarsa github sqlite python y si no me voy a aquí Ah muy bien pues no esto es de un alumno mío vale Okay nada no Estos son terminal crud vale nada Okay pues venga me voy a chat gpt más que nada para no estar buscando en mis repositorios y digo python import s cite bien Y empezamos por aquí lo primero que voy a hacer es import esite voy a pulsar f5 no va a dar error desde el punto de vista en el que tenemos que tener ese culit instalado en el sistema Sí o sí porque se instala con el Core de python con lo cual le doy a f5 y funciona y ya está y ahora a continuación voy a crear una conexión al crear una conexión a ver aquí vale Y aquí al crear una conexión lo que hago a continuación A diferencia de mysql es Llamar a un archivo que debería estar en el disco duro y si no está se va a crear Vale entonces Mirad me vengo por aquí me voy al escritorio me voy a operaciones veo que no existe ningún archivo punto db Así que voy a poner por aquí empresa. db la extensión es lo de menos eh las extensiones para ese kulite pueden ser o bien db o bien de B3 o bien ulite o bien esite 3 esite 2 no que no es retrocompatible vale Yo voy a poner db Es una muy típica esto quiere decir que ahora a continuación pulso f5 no ha ocurrido nada pero por aquí veréis que se ha creado un archivo llamado empresa. db lo que quiere decir por lo tanto que en lugar de estar conectándome a un servidor de bases de datos como mysql cuando yo pido una base de datos si existe se conecta y si no existe la crea en ese momento vale por tanto es una base de datos local es una base de datos en un archivo es una base de datos que no requiere un servidor Y eso quiere decir como os decía antes que es menos potente que mysql Pero también es mucho más cómodo Porque si tú por ejemplo quieres hacer una aplicación y enviársela a un cliente claro como es esa aplicación use mysql le tienes que decir al cliente Pues mira te tienes que instalar un servidor de mysql y tienes que crear una base de datos y un usuario y una contraseña Y conéctate y mira a ver si el puerto no te rechaza con es kulite no con es kulite tú le pasas al cliente el archivo python Le pasas al cliente el archivo db y ahí dentro está la base de datos vale Y eso como os digo en algunos escenarios no es correcto pero en otros escenarios sí que lo es bien pues a continuación ahora lo que quiero es crear un cursor Así que creo un cursor vamos a seguir por aquí vale conexión punto cursor Y a partir de aquí en el cursor bueno hacer el cursor no hace nada vale simplemente prepara un cursor y voy a decir cursor execute momentín y 004 ejecuto primera sentencia y digo cursor execute y ahora a continuación voy a poner una sentencia sql que es la misma sentencia que hemos aprendido en bases de datos que es la sentencia create Table voy a poner eh Ya sabéis las tres comillas vale tres comillas por aquí y tres comillas por allá ya hemos hablado de esto en semanas anteriores que es por una parte el doc String Pero por otra parte también en python me permite hacer eh pues strings multilínea Y claro cuando voy a hacer una sentencia sql Pues si la pongo toda en una línea pues es un chorizo que a veces es difícil de digerir pero si la pongo en múltiples líneas pues queras que no la legibilidad mejora muchísimo y para vosotros es más fácil de leer luego con los años pues ya os acostumbraré a escribir chorizos sql en una sola pero ahora de momento importa que ocupe las líneas que tenga que importar pero que lo entendáis Vale entonces digo create Table entonces voy a empezar con la misma tabla de siempre digo la misma tabla porque así ya sabéis a lo que vamos y no es novedad para vosotros vale clientes ya está lo típico Y entonces digo If not exist Eso quiere decir que crea la tabla si no existe Y si existe pues no hagas nada vale otra cosa que podríamos hacer si queréis es que en lugar de poner el If not exist pues puedo crear la típica estructura try except de intenta ejecutar el cursor punto execute y si da error pues no me parece el programa di ha ocurrido un error pero seguimos y ya está Vale pero en este caso digo If not exist bien y ahora a continuación lo que voy a hacer es especificar por una parte los nombres de los campos eh teniendo en cuenta que a diferencia de mysql donde existen chorrocientos tipos de datos diferentes en sqlite existen cuatro tipos de datos fundamentales vale que son el entero el numérico el String y el texto Ya está no existen más vale Bueno ya hay un blog que sirve para guardar imágenes pero ese no lo utilizamos de momento vale Así que vengo por aquí vamos a ver voy a este okay Y esto de aquí y digo bueno para empezar ID lo llamamos siempre identificador se puede llamar como queráis vale es integer es entero y es primary key vale a continuación voy a poner nombre voy a poner edad no voy a poner apellidos que es de tipo text y pongo tantas columnas como quiero en ese kulite no existe el concepto de longitud de los datos Pues bueno pues lo típico de siempre no email text eh Y ya está dirección text vale voy a decir una cosa voy a decir eh make ID auto incremental y ya está y auto increment eso es vale autoincrement bien si hago esto y ahora a continuación un momentín aquí 005 ejecuto la conexión vale conexión comit ahora pongo comentarios conexión comit y muy importante esto y 006 Cierro la conexión Vale y conexión punto Close si esto ha funcionado daos cuenta que hasta el momento empresa. db ocupa cer bytes pero si ahora ejecuto y no he cometido ningún error que igual podría haberlo cometido le doy a f5 Ok If not exist vale If not un momento not exist Ah perdón Esto va aquí abajo vale venga f5 ha funcionado correctamente me voy aquí y si os fijáis ahora empresa db ya no ocupa 0 kb sino que ocupa 12,3 kb vale es decir tenemos ahí ya creada la estructura la definición de una tabla bien Cuando llegamos a este punto vale estamos viendo insisto ahora pongo comentarios que tenemos por aquí el código para conectarnos de forma muy parecida a mysql me conecto creo un cursor ejecuto una petición commit y Close vale es lo mismo que teníamos en mysql pero claro vosotros me diréis bueno es que en mysql tenemos una herramienta que se llama php my admin que nos sirve para ver un poco visualmente Cómo va la base de datos aquí tenemos un create table yo me tengo que fiar de ti de que esto ha ido correctamente porque ocupa 12,3 cas pero me gustaría verlo Vale entonces si queréis tener una herramienta que sea similar conceptualmente a php my admin pero claro php my admin es para mysql pero es una herramienta para sqlite hay varias Hay muchas en el mercado yo recomiendo una que se llama db browser la herramienta div browser veis que pone div browser for site sqlite vale que se pronuncia en inglés es esta herramienta de aquí entonces es una herramienta que sigue los mismos patrones que yo os digo Siempre que es una herramienta por una parte multiplataforma para Windows para MAC para Linux y es una herramienta gratuita y de software libre de hecho tenéis el código fuente en github así que me voy a download descargar en este caso para Windows no me lo quiero descargar para Linux Vale appimage entonces voy a ver si Snap un momento si Snap packages debian pues ya está voy a instalarme esta ubuntu y derivados a ver si la tengo en el repositorio esite browser Ok vale Y a partir de aquí Hola chicos venga para dentro a ver un momentín el mando vale está por aquí configurando vale Y si todo ha ido bien Ahora me voy a aquí una vez que la he descargado ya la tengo instalada a div browser y me aparece esta herramienta vale recordad que yo me la acabo de instalar en Linux pero la tenéis de preparada para descarga gratuitamente en Windows y en Mac y en prácticamente cualquier sistema operativo que utilicéis vale entonces yo de momento lo que voy a hacer Es que aquí con esta herramienta puedo o bien crear una nueva base de datos o bien abrir una base de datos me voy a abrir una base de datos primero programación e lectura no estructuras de almacenamiento agregadas tengo empresa deb la abro Y entonces veo que existe una tabla clientes con identificador nombre apellidos email y dirección entonces un poco esta herramienta me permite es un poco como un flotador vale es un poco como php My admin me permite ver si esto se ha creado o no se ha creado o qué vale voy a cerrar qué ha pasado Ah okay vale vale mientras luego lo dejéis como estaba sin problema que si no luego me riñen bien entonces eh Ya os digo que voy a cerrar div browser Más que nada porque voy a trabajar con código pero siempre con la tranquilidad si quieres luego abro div browser para asegurarnos de que todo va correcto vale pero tenemos div browser por tranquilidad para saber que si en algún momento dado necesitamos trabajar con base de datos de forma visual y gráfica tenemos una herramienta que es gratuita que es potente además y que es multiplataforma bien una vez que tengo esto a continuación lo que quiero es ejecutar el ciclo crud vale ejecutar el ciclo de pues crear leer actualizar eliminar Vale entonces me voy a continuación 007 inserto un nuevo registro e inserto nuevo registro simplemente para demostraros que pues es lo mismo de siempre pero con ese cite Vale entonces me voy a cursor execute y ejecuto una sentencia de insert la sentencia de insert es insert into clientes values y es la misma sintaxis que habéis aprendido en semanas anteriores con mysql luego una vez más sabéis mysql automáticamente sabéis ese culita pongo nul en primer lugar la razón por la que pongo nul es porque ya sabéis que cuando tengo un ID autoincremental poner nul es como diciendo te apaña tú para saber lo que tienes que poner porque para eso eres primario autoincremental y a continuación pongo un nombre Eh José Vicente bueno comillas simple funciona José Vicente coma eh carratalá sanchis coma email info @josé viicente carratala comom coma y la calle de José viicente ya sabéis como siempre os digo que si aquí arriba hay cinco Campos estos cinco Campos están haciendo como de contrato la palabra contrato es una palabra especial dentro de programación suena a contrato administrativo o contrato legal vale no es tanto pero cuando veamos una cosa en programación orientada de objetos que se llama interfaces que solo veremos en el segundo trimestre veréis que el contrato se aplica a interfaces y es básicamente que si tú te comprometes a una cosa luego tienes que cumplirla lo que quiere decir que si aquí me comprometo a que he creado