Bueno pues voy a empezar a crear un proyecto Y en este proyecto lo primero que voy a hacer es esbozar un poco el modelo de datos para saber qué datos va a manejar la aplicación y para saber cuál va a ser un poco la lógica de negocio de esta aplicación Oh el modelo de datos sobre todo va a tener importancia yo creo para el desarrollo de la parte Front end porque el desarrollo de la parte backend Pues será bastante agnóstico del modelo de datos como vamos a ver a continuación por lo tanto mi proyecto va a tener en el fondo del todo una base de datos vamos a verlo vale Así que voy a dibujar una base de datos voy a dibujar una base de datos vale Y una vez que tengo la base de datos a continuación lo que voy a hacer es crear dos componentes Por una parte voy a crear lo que podríamos Llamar el backend es decir el panel de control de la aplicación este panel de control va a estar programado en php voy a quitar color de trazo y claro si está programado en php pues al final ese panel de control tiene que generar voy a quitar Aquí también trazo tiene que generar inevitablemente una parte en html y ese html Pues diremos que tendrá que tener mínimamente una parte en css así que de esta forma vamos a pintar un poco esto es php Esto será html Esto será css y tendremos el desarrollo de una aplicación creada en base al sistema embebido Por lo tanto bueno esta base de datos será mysql y diríamos que dentro de lo que es eh cliente y servidor vamos a verlo voy a dibujar una línea vale Pues dentro de lo que es cliente y servidor dibujo el trazo voy a crear un trazo discontinuo lo que hay bajo de esta línea será cliente y lo que hay arriba de esta línea será servidor voy a hacer Esto vale entonces si ahora hago lo siguiente diremos que eh lo que hay bajo de esta línea es la parte del servidor y lo que hay arriba de esta línea es la parte del cliente bien una vez que tengo esto Una vez que tengo esto es lo que llamamos el desarrollo clásico dentro de lo que son las aplicaciones web es el desarrollo clásico es el desarrollo embebido se llama embebido porque php genera directamente html es el desarrollo que eh se intenta a día de hoy evitar se va hacia el nuevo paradigma que voy a explicar a continuación pero todavía a día de hoy Hay un montón de aplicaciones que se encuentran programadas mediante este paradigma por lo tanto Aunque técnicamente es un paradigma que se intenta evitar pero sin embargo es importante conocerlo y es importante manejarlo porque a día de hoy pues sigue bastante activo bien luego por lo tanto tenemos el nuevo paradigma voy a duplicar esto mediante el cual Este voy a ponerlo por aquí tenemos el paradigma clásico que es el embebido que no es este sino que es este y luego tenemos el paradigma moderno que es el asincrónico donde vamos a hacer dentro de lo posible single page applications vamos a hacer aplicaciones de una única página así que por lo tanto a ver cuidado Bueno vamos a ponerlo ahí así que por lo tanto Tendremos una aplicación en la cual por ejemplo y por ilustrar vale la parte del panel de control la parte de la Administración la voy a hacer con el paradigma clásico mientras que el lado del cliente es decir la aplicación vista por parte del cliente la voy a desarrollar mediante el paradigma moderno esto no quiere decir que eh los paneles de control haya que desarrollarlos con el paradigma clásico y la parte frontal haya que desarrollarla con el paradigma asincrónico no quiero decir eso vale simplemente en este ejercicio que voy a hacer a continuación pues tengo que elegir tecnologías y voy a elegir pues estas que estoy comentando vamos a ver vale Y luego en el paradigma moderno lo que hacemos Bueno realmente voy a copiar todo esto en el paradigma moderno se siguen utilizando todas estas tecnologías pero php está más bajo html y css están totalmente arriba y entre html y css existe la tecnología javascript vamos a pintar esto aquí que se comunica con php a través de varios estándares difer pero el más común a día de hoy es el estándar Jason por lo tanto vamos a tener una aplicación Voy a pintar esto de naranja en el cual Tendremos una parte de php completamente metida en el servidor una parte de javascript html y eh Y css completamente metida en el cliente y estas partes se comunicarán entre sí con php con json quería decir bien eh Todo esto evidentemente como nos podemos imaginar Pues tendrá una serie de comunicaciones de líneas de comunicación en las cuales voy a separar un poquito más esto probablemente en las cuales Pues evidentemente habrá una comunicación de entrada y de salida desde php a sql en este bloque de aquí pues también habrá una comunicación de entrada y de salida desde json hasta php pero también habrá una comunicación de entrada y de salida desde php a sql y desde php a sql entonces la idea Está en que la base de datos va a ser la misma la base de datos de la aplicación va a ser la misma Lo único es que el panel de control es decir un componente de la aplicación va a ser el panel de control y otro componente de la aplicación va a ser la parte frontal de la aplicación es decir esa parte frontal que va a ver el usuario final de la aplicación por tanto por último lo que voy a hacer es duplicar esto y al duplicar esto vamos a duplicar Esto vale Aquí voy a poner que aquí voy a crear el panel de control es decir la parte del aplicación que ven los administradores de la aplicación y aquí voy a crear el la aplicación vista por el usuario final es decir la aplicación que ve pues como digo no el usuario que utiliza la aplicación a ver si puedo alinear esto que no me deja Bueno pues nada a ver opciones de texto habrán por ahí si no pasa nada lo pongo aquí y ya está insisto una vez más en que yo dibuje este esquema no quiere decir que todos los paneles de control haya que hacerlos de forma embebida y todos los todas las aplicaciones de cara al cliente haya que hacerlas con el paradigma de Simple page application vale hay aplicaciones que tanto el cliente como el servidor están hechos mediante el paradigma embebido la aplicación más famosa a día de hoy Yo diría que es wordpress y luego también hay tanto aplicaciones como paneles de control que están desarrollados mediante el paradigma nuevo digamos el moderno de single page application técnicamente además el paradigma sincrónico no nos obliga a hacer single page applications pero lo favorece parece que un poco nos empuja entre comillas hacia este paradigma así que lo que voy a por lo tanto a ver un momento lo que voy a hacer por lo tanto es lo siguiente voy a ir a Chrome en Chrome voy a ir a github en github voy a crear un nuevo repositorio voy a llamar a esto proyecto qué Pues no lo sé vamos a ver proyecto bueno sabes qué mira como proyecto lo tengo libre pues voy a llamarlo proyecto pues ya está no sabía que tenía el terminación proyecto libre bien pues ahora aquí entonces creo un repositorio y ahora en github lo que voy a hacer va a ser bueno Esto voy a pushear vale Y voy a clonar repositorio voy a clonar proyecto y en proyecto vamos a ver aquí está Vale eh this folder contains files Qué hay en proyecto claro algo metería yo probablemente vamos a ver en proyecto op proyecto vale interesante aquí hay otro proyecto a ver Okay a ver viendo el favicon Ah Okay ya me acuerdo que es esto Vale pues no esto no vamos a ver entonces esto es un proyecto digamos Instagram como Instagram esto es otra cosa Esto es otro desarrollo anterior vale Así que clono bien y vamos allá Así que ahora sí voy a guardar esto voy a guardarlo dentro del equipo dentro de c dentro de samp dentro de htdoc dentro de proyecto Vale y aquí lo que voy a hacer es introducción y dentro de la introducción Pues voy a guardar Por aquí el dibujo Vamos allá esto es el esquema cliente o esquema paradigmas y tengo ya el esquema de los paradigmas que van a participar Dentro de este proyecto bien pues a continuación vamos a diseñar la aplicación y para diseñar la aplicación en primer lugar lo que voy a hacer es escribir un pequeño texto que sea descriptivo con respecto a lo que hará la aplicación y diremos lo siguiente tenemos una aplicación web es un portal digamos en el cual existen usuarios que pueden enviar preguntas otros usuarios pueden responder a esas preguntas mediante respuestas los usuarios de la aplicación podrán votar la validez de esas respuestas con lo cual vemos que aquí aparecen diferentes entidades que debemos tener en cuenta vale una vez que tenemos esto em vamos a ver en principio yo creo que ya luego la aplicación tendrá una página inicial de presentación eh las clásicas secciones de sobre nosotros y contacto y un blog vale con lo cual prácticamente digamos que hasta este punto diríamos que esto es una página web normal que tendría un blog casi diríamos que esto sería carne de wordpress Pero esto es otra cosa Vale esto es una aplicación web que requiere pues una serie de cuestiones bien eem los usuarios pueden responder a esas preguntas las preguntas se pueden categorizar y etiquetar lo cual evidentemente deriva en nuevas entidades y luego tendremos eh usuarios de la aplicación pero luego tendremos eh digamos usuarios administradores la aplicación será administrada por personas digamos vale con esto por lo tanto ya tenemos una primera descripción para tener una idea de qué es lo que queremos hacer es una aplicación donde la idea es que unos usuarios se ayuden a otros es decir unos usuarios en envíen preguntas otros usuarios envíen respuestas Y a partir de aquí pues que haya una categorización haya un etiquetado vale eventualmente para esta aplicación está prevista la creación de otra entidad llamada equipos de trabajo equipos de preguntas y de respuestas pero de momento yo creo que con esta categorización inicial y con descripción inicial tenemos ya para ponernos a elaborar un diagrama de eh clases o de entidades en el cual nos podamos basar bien pues vamos por aquí voy a crear un nuevo proyecto vale Y en este nuevo proyecto en primer lugar voy a dibujar por aquí un pequeño esquema vale quitamos el trazo Voy a pintar esto de otro color y por una parte tenemos los usuarios esto debería poder propiedades desde el objeto texto y tipografía venga Ahora sí y vamos a ver texto Ah muy bien Ah fantástico pues quiero alinearlo Parece que no quiero alinearlo a la izquierda pero parece que no bien okay venga si hace falta a ver lo que voy a hacer es voy a guardar esto diagrama fierro abro con la esperanza de que la alineación de texto pues se reinicie vale esto es usuarios parece yo creo vale parece que sí bien tengo una entidad llamada usuarios y dentro de usuarios pues tendré cosas tales como por ejemplo el identificador vamos a hacer esto un poco más pequeño tendré el identificador tendré el nombre de usuario tendré la contraseña del usuario a ver voy a poner aquí usuario tendré el nombre tendré los apellidos y tendré el email Vale y pongamos que poco más bien un usuario realiza preguntas un usuario de hecho puede realizar preguntas y puede también emitir respuestas Así que vamos a tener otra entidad donde como un usuario puede emitir muchas preguntas y un usuario de hecho puede responder a muchas preguntas Pues voy a tener por aquí la entidad preguntas y una pregunta puede tener muchas respuestas Así que eh preguntas esto es el id usuario el usuario que emite la pregunta esto es el título de la pregunta esto es el texto de la pregunta Estos son las vamos a ver las palabras clave y esto es la categoría vale por ejemplo probablemente me estoy dejando Campos probablemente luego voy a descubrir que me hace falta en el usuario un campo por ejemplo llamado imagen o foto igual en preguntas también me hará falta un campo Así es decir este modelo no pretende ser perfecto y no pretende ser completo y seguro que más adelante me daré cuenta de que me faltan más cosas pero de momento vale pretende ser un modelo donde Pues bueno pueda empezar a trabajar vale vamos a ver así que de momento diré que existe una relación entre el ID de usuario y el ID usuario vamos a ver y trazo y ahí lo tenemos vale OK ahora existe otra entidad llamada respuesta la entidad llamada respuesta voy a ponerla por aquí será una entidad que tendrá vamos a ver bueno la entidad la relación entre usuarios y preguntas es una relación de 1 a n en el sentido de que un usuario puede realizar n preguntas vamos a poner aquí una bolita y aquí una bolita tampoco quiero complicar el esquema La idea es hacerlo má lo más claro posible Entonces esto es una n de color blanco y esto es un número uno de color blanco vale una vez que tenemos esto como decía a continuación ahora vamos a tener eh entidad de respuestas Así que duplico este elemento y tengo lo siguiente vamos a ver vale la entidad de respuestas va a tener quién responde el ID de usuario Pero va a tener también y de pregunta bien entonces a continuación para tener texto respuesta y poco más bueno Y luego no nos olvidemos de que tendremos la fecha aquí también la fecha esto quiere decir por lo tanto que si coloco esta entidad Por aquí pues voy a duplicar este esquema este dibujo para decir que el I de pregunta vendrá relacionado aquí con el I de pregunta y por aquí el I de usuario vamos a ver voy a duplicar también esto el I de usuario voy a hacer una cosa bueno s esto aquí Au esto aquí no quiero relleno vale Y ahí una n y ahí tenemos el ID usuario y Esto va detrás del todo con lo cual tenemos Ya por aquí tres entidades principales luego además habrán otras entidades tales como por ejemplo pues los usuarios administradores entonces voy a duplicar esto donde voy ar por aquí admin una tabla llamada admin Luego veremos cómo le lamos porque claro usuarios de la aplicación son usuarios que utilizan la aplicación y luego tenemos los administradores Bueno pues usuario pas nombre apellidos email imagen vale podríamos pensar que dado que tienen los mismos Campos un administrador sería al final lo mismo que un usuario quizás con algún flag pero por seguridad no quiero mezclarlo por seguridad quiero mantener a los usuarios completamente separados de la tabla de administradores como digo por seguridad bien eh vamos a ver ahora a continuación habíamos indicado que teníamos un blog Así que si yo vengo por aquí y tengo un blog pues tendré el ID admin o sea el autor del Blog tendré el título tendré el texto tendré una imagen como mínimo tendré una categoría imagen ya lo tengo arriba por lo tanto vengo por aquí duplico y el admin vendrá aquí al ID admin donde en este caso donde en este caso este es 1 y este es n esto realmente más que blog se llamará entrada del Blog vale Y luego tendré otros elementos tales como por ejemplo la categoría Así que vengo por aquí duplico esto es categoría blog y esto tendrá pues ID el nombre de la categoría y yo creo que poco más así que venimos por aquí y bueno Más adelante deciros y de categoría si una entrada del Blog puede tener n categorías o cada entrada solo puede tener una categoría eso es algo que ahora mismo Pues tenemos que decidir Entonces vamos a ver Esto es el un esto es n Perdón no esto es un esto es n y aquí de momento vemos que tenemos pues prácticamente como dos aplicaciones separadas Más que nada porque no hay una relación aparente directa entre las tablas vale Pero bueno de momento tenemos esto y ya es un modelo que probablemente más adelante iremos refinando vale Pero ya es un modelo como para que podamos empezar a trabajar Bueno cosas que nos faltan por ejemplo en la entrada seguro que nos falta la fecha de la entrada vale eso seguro cosas que nos faltan bueno en las preguntas se podían votar y las respuestas se podían votar Así que voy a poner por aquí no sé ya si en las preguntas pero desde luego sí que en las respuestas se puede votar la puntuación y claro si se vota debería quedar un registro de qué usuarios han votado positivamente Y qué usuarios han votado negativamente de esta forma vamos a ver tendría que tener probablemente otra entidad vamos a duplicarla llamada voto donde aparecerá el ID de usuario el ID de pregunta y el valor del voto que será + 1 o -1 así que de esta forma vamos a verlo así que de esta forma duplicamos ID de respuesta una respuesta a ver puede tener diferentes votos y como no pues también tenemos aquí cada voto debe tener Ah un usuario puede emitir varios votos vale Aunque cada usuario no debe poder emitir más de un voto para una misma pregunta pero bueno Eso lo veremos adelante esto por aquí vale Y digamos de momento una cosa así vale una vez que tenemos esto Ahora sí yo creo que ya tenemos un esquema tenemos un modelo de datos como para poder empezar a trabajar en la aplicación y de esta forma ahora lo que voy a hacer es guardar el diagrama y voy a empezar a implementar este modelo de datos en la aplicación tanto para el cliente como para el servidor por lo tanto vamos a verlo okay Vale por lo tanto vamos a por ello este uno está Adelante estoy pensando si me estoy dejando algo seguro que me estoy dejando algo Pero bueno vamos a empezar porque si no empezaremos nunca así que eh voy a empezar implementando este modelo de datos en mysql por lo tanto voy a hacer lo siguiente me voy a Chrome me voy a localhost php by admin Ok php by admin momentín no está abierta la base de datos vamos a abrir la base de datos vale Así que Caray que no ahora bien tengo por aquí proyecto no menos mal Vale pues voy a crear una base de datos llamada proyecto por lo tanto vamos a por ello por lo tanto vamos a ver voy a abrir brackets no voy a abrir brackets y en brackets voy a hacer lo siguiente vale dentro de brackets voy a abrir carpeta voy a abrir la carpeta de proyecto voy a crear una carpeta 003 modelo de datos Y en el modelo de datos voy a 001 crear base de datos.sql y voy a decir create database proyecto punto y coma cuo me voy a sql ejecuto create database proyecto y continuar y tengo el proyecto creado vale a continuación voy a especificar voy a indicar que quiero bueno que quiero empezar a persistir los modelos que he especificado antes voy a abrir otra copia de brackets para apoyarme en dónde estás sql ahí estás Vale entonces vamos a ver en ddl Quiero crear tabla de la base de datos Esta es la tabla que quiero crear pero quiero A ver no la tabla de usuarios Que de momento no depende de nadie así que 002 crear usuarios.sir y yo creo que ya y yo creo que ya en cuanto a qu ID usuario pas nombre apellidos email imagen también vale no me gusta la sintaxis de las comillas abiertas así que no me hace falta la voy a quitar creo la primera tabla en la base de datos llamada usuarios esto es imagen y ya está en la tabla guardaremos los usuarios guardo me voy aquí me voy a proyecto me voy a sql ejecuto esta sentencia Y si está bien aquí vale Y si está bien pues he creado la tabla de usuario preparada para empezar a meter información vale vamos a por ello vamos a Bueno voy a crear un usuario un primer usuario por tanto voy a decir que inserto el usuario jarsa con contraseña jarsa el nombre es José Vicente no está bien Ah sí marchar de 100 vale José Vicente carratalá sanchiz y email info @josé comom y teléfono tengo teléfono no quiero teléfono fuera teléfono vale Y imágenes José Vicente eh jpg bien Le damos a continuar voy a alterar la estructura voy a cargarme el teléfono no quiero guardar teléfono no lo voy a usar Okay Vale y me quedo con estos Campos bien a continuación ahora viene un poco la cuestión delicada a continuación Bueno tengo la vista de relaciones de momento no tengo nada vale Y ya okay vale bien pues eh Como decía a continuación voy a crear otro campo voy a crear otra tabla es la tabla de preguntas y la tabla de preguntas va a tener una restricción va a tener una clave foránea Así que nuevo archivo 003 e Pues un segundo esto es preguntas pun sql vale Voy a seleccionar esto y voy a decir que identificador y de usuario aquí es donde voy a hacerlo mediante sql vamos a ver eham nueva tabla vale preguntas identificador usuario y de usuario y Eh Esto vale Okay momentín esto aquí título de la pregunta texto de la pregunta palabras clave aquí es donde estoy dudando igual meto ahí un jas vale voy a continuar de momento eh categoría ID categoría y fecha claro esto qué quiere decir pues que tengo que crear primero las categorías Así que voy a crear primero las categorías Así que categorías eh identificador y categoría va a ser Ah muy bien no he creado esa tabla Vale pues tengo que crearla no es lo mismo que esto evidentemente no estamos hablando del mismo tipo de categoría porque estamos hablando de categoría de preguntas esto es I de categoría Así que voy a crear nombre de la categoría esto es un marchar esto es un entero 255 voy a poner aquí 10 vale esto es un índice primario autoincremental Ok y ya así que previsualizar sql nos copiamos esto categorías y lo pegamos vale Y ahora ejecutamos ahora sí es cuando puedo ya crear preguntas vamos a verlo ya que preguntas depende Por una parte del I de usuario y depende Por otra parte del I de categoría Ahora yo creo que sí entonces creamos una nueva tabla llamada preguntas identificador y ahora digo ID usuario título texto palabras clave categoría yid categoría y fecha bien identificador será un entero clave primaria autoincremental vale y vamos a ver y de usuario será un entero que será una clave foránea esto es un marchar de 255 caracteres texto es un text palabras clave voy a hacer un marchar de 255 caracteres y de categoría y fecha es un date vale con lo cual ahora necesito las los enlaces entonces para los enlaces vamos a ver dónde estás aquí momentín dónde tengo yo esto de restricción de clave foránea parece que no va a ser aquí vale Y si no es aquí será Aquí vamos a verlo si no lo busco no vale pues lo busco vamos a ver porque aquí índice no aquí no me estás dejando Vale pues vamos a previsualizar sql voy a copiáis y vamos allá create Table preguntas identificador usuario título texto palabra clave y de categoría fecha create Okay Vale ahora fuera los acentos abiertos y voy a establecer aquí una foreign key con el objetivo de implementar estas claves foráneas y vamos allá Vale y digo a ver vale la foren Key y una coma la foreign Key y de usuario voy a decir usuarios ID identificador usuarios qué usuario vale referencia a usuarios su identificador vale Y ahora lo que voy a hacer es otra foreign key Uy madre mía Espera que he mezclado el for key con la fecha ahora sí vale Y voy a hacer otra for dónde vamos a ver Esto es usuarios usuario y ahora categorías Cómo se llama categorías nombre creo categorías nombre vale categorías nombre referencia categorías identificador si esto es correcto madre mía si esto es correcto yo ahora me vengo aquí me voy a sql ejecuto esta consulta continúo vale todo correcto y ahora en preguntas vemos que las preguntas tienen dos foreign Keys a esto de aquí vale a la las categorías a las preguntas y a todo bien si todo va bien Vamos a ver la vista de relaciones vale Ahí vemos que tenemos una serie de restricciones luego por aquí en la a ver había por aquí en la base de datos proyecto aquí en el diseñador vale aquí en el diseñador podemos ver las relaciones entre las tablas a ver ahí vale Y podemos ver pues eso qué aspecto tienen voy a poner esto aquí y ahí lo tenemos Okay vamos a verlo Vale pues vamos a continuar trabajando y así un poco vemos como el modelo que vamos implementando de nuestro esquema pues coincide correctamente con el modelo que estamos implementando dentro de mysql vale Vamos allá vamos a ver y vamos a continuar bien una vez que tenemos esto tenemos preguntas perdon tenemos usuarios tenemos preguntas tenemos categorías vamos a por las respuestas vamos a ver y tenemos los votos también vale venga pues vamos a por ello preguntas lo voy a guardar ahora como respuestas puns create Table respuestas vale identificador y ahora quiero a ver aquí vamos a ver qué es lo que quiero Ahora quiero usuarios usuario vale Esto es lo mismo preguntas pregunta por qué Pues porque preguntas tiene Ah el título Vale pues preguntas título Okay texto respuesta texto vale palabras clave no tiene y puntos realmente no puntos no hace falta porque puntos se va a calcular dinámicamente entonces vale hemos dicho que tiene la fecha y no tiene palabras clave ni tiene categoría vale foreign Kids usuario referencia usuarios Vale y preguntas título referencia a preguntas identificador yo creo que ya copiamos me he dejado esto por aquí minimizado dónde estás Vamos a ver local Host aquí sql pego respuestas continúo yo creo que ya vale no eh No se puedo crear foreing key no está correctamente construida vale venga vamos a ver por qué ah preguntas título cuál no está correctamente construida usuarios usuario preguntas título vale referencia preguntas identificador Cuál es la que no está correctamente construida Ah sí preguntas título es un entero de 10 elementos Vale ahora sí claro la referencia tiene que referenciar a un entero no a un marchar Así que continúo ahora sí me voy a la base de datos me voy a el diseñador y en el diseñador pues veo los cambios Vale y veo que tengo preguntas veo que tengo respuestas vale Ahí lo tenemos y vemos como el proyecto poco a poco pues va tomando forma vale Vamos a continuar y vamos a ver qué más Campos nos quedan por hacer en la base de datos Así que vamos a por ello vale tenemos las respuestas tenemos los votos vamos a por los votos Por cierto en los votos también tendría que guardar la fecha en la que el usuario ha votado vale esto se me ha olvidado Así que fecha es normal No digo que sea deseable pero es normal que durante el desarrollo y la implementación de una aplicación Pues nos demos cuenta de que nos faltan cosas Pero bueno entonces voy a hacer lo siguiente respuestas lo paso a votos.son vale votos tiene identificador tiene usuarios usuario vale tiene no es y de pregunta es I de respuesta Vale entonces vamos a ver respuestas pun texto por ejemplo texto okay y ahora vamos a ver bueno Esto para aquí abajo pero vale esto es ID usuario que va aquí abajo pero está claro Okay Vale ahora valor es un entero Okay la fecha es un date y yo creo que ya yo creo que ya vale usuarios usuario referencia usuarios esto referencia respuestas texto referencia a respuestas primary key bueno la comilla esta no la quiero pero vale okay Y esto es votos así que copio sql ejecuto si todo ha ido bien Ahora tengo votos me vuelvo a ir al diseñador y en el diseñador aparece un poco apelotonado no pasa nada pero vale vemos como Pues bueno el proyecto se va complicando porque quieras que no la lógica de este proyecto pues no es particularmente sencilla vale pero por lo menos es una lógica entendible y vemos como pues las tablas realmente están relacionadas entre sí nos queda ahora a continuación ya hemos terminado esta primera parte del proyecto ya hemos terminado esta primera parte del modelo de datos Ahora nos queda esta parte de aquí que es una parte aislada técnicamente podría estar en una segunda base de datos vale otra cosa es que igual no queremos Pero igual por seguridad vale podría estar en una segunda base de datos no lo voy a hacer No lo voy a hacer para no liarla más pero bueno va a ser una parte que estará aislada en principio de las relaciones que tenemos entre estas tablas de ahí vamos a guardar y vamos a continuar bien pues vamos a finalizar este esquema mediante el cual pues como estamos trabajando con dos principales zonas vale estamos trabajando con dos partes del programa que en principio son independientes probablemente en un entorno de producción quizás elegiría albergar por un tema de seguridad estas tablas en una base de datos aparte vale Pero ahora digamos por operatividad las voy a almacenar en la misma base de datos bien ent Entonces vamos a una vez que tenemos esto vamos a ver este esquema vamos a ver tenemos los administradores tenemos las categoría blog Vale entonces vamos a hacer lo siguiente vamos al proyecto vamos a refrescar Ahora sí bien Vamos a crear los administradores como decía a partir de los usuarios voy a guardar 00 siete administradores sql voy a decir que voy a decir que en principio los usuarios que están dentro de esta tabla pueden hacer de todo vale por tanto usuario contraseña nombre apellidos email e Imagen suficiente y Esto será administradores así que guardaremos los administradores no sé si esto lo he puesto vale Okay bien entonces copio me voy a sql ejecuto le doy a continuar y tengo ya la tabla de administradores y ahora a continuación Pues voy a crear la tabla de entradas Así que esta la voy a crear a partir de bueno categorías también pues vamos a 008 categoras blog. sql y creo la tabla categorías blog enter vale elimino todo esto categorías blog identificador nombre ok primary key es identificador Así que lo ejecuto en sql pulsamos continuar y ahora sí por último me voy a preguntas por ejemplo y lo creo Como e Como qué como entradas blog sql donde voy a hacer lo siguiente identificador esto es administradores gu bajo usuario esto es título texto palabra clave bueno Vale categorías sí categorías blog vamos a verlo es categorías blog nombre fecha todo muy parecido administradores usuario quieto referencia a administradores identificador categorías blog nombre referencia a categorías blog identificador el primary key es el identificador con lo cual esto es create Table entradas del Blog Así que copio sql pego le doy a continuar y con esto ahora por supuesto pues me voy a la base de datos me voy a ver el diseñador y comprobamos pues aquí lo tenemos la estructura del proyecto vamos a verlo bueno primero arrastramos esto Ahora sí y luego por otra parte tenemos la parte de la Administración tenemos los administradores Y tenemos las entradas vale una vez que tengo esto ya tengo un diseño de base de datos en funcionamiento y por lo tanto Ahora me voy a guardar esta vista guardo la página como relaciones le doy a continuar okay Ahí lo tenemos vale Y bueno y vamos a por ello Así que una vez que tengo esto es cuando ya tengo el modelo de datos persistido en una base de datos Y una vez que tengo la base de datos ahora a continuación es cuando puedo venir aquí y es cuando una vez que tengo resuelta esta parte de sql es cuando puedo empezar a resolver Por una parte voy a empezar por aquí resolviendo la parte de parel de control y luego por otra parte de forma dependiente en la parte de desarrollo de cliente Pues desarrollaré esta parte que es la parte frontal Vamos a continuar desarrollando esta parte de aquí que es la parte en bebida donde en la parte en bebida lo que queremos es hacer un panel de control que nos sirva para poder gestionar la aplicación Más allá de un php my admin Aunque lo que vamos a hacer al final pues guarda ciertas similitudes con un php my admin pero finalmente no es exactamente lo mismo por lo tanto a continuación voy a ir por cierto momento a php my admin voy a ver un segundin a ver voy a crear una entrada voy a darle a insertar vale Okay y esto muestro valores foráneos Okay perfecto Vale pues una vez que tenemos esto Una vez que tenemos esto vale a continuación si yo vengo por aquí e inserto elementos pues aparecerían evidentemente ahí voy a insertar elementos voy a crear elementos vamos a ver en el modelo de datos vamos a decir que administrador bueno Por cierto usuarios tenía alguno Sí vale y de hecho no sé si lo había persistido creo que no Vale pues no lo tengo se bien Entonces qué raro porque yo juraría que sí que lo tenía pero parece que no Entonces inserto usuario jarsa contraseña jarsa nombre José Vicente apellidos carratalá sanchiz email info @josé Vicente carratala comom imagen josev viicente jpg yo El caso es que recuerdo haber copiado esto pero bueno vamos a Nuevo archivo insertar usuario sql vale Pero ahora además también lo que voy a hacer es insertar administradores vale Voy a insertar De hecho voy a casi voy a copiar esto insert into administradores vale le doy a continuar Ok insertar administrador sql bien Voy a insertar vamos a ver una pregunta depende de una categoría voy a crear una categoría nueva llamada Así que continúo y inserto una categoría 012 nueva categoría sql y ahora a continuación Pues voy a insertar una pregunta vamos a ver usuarios pues quiero insertar a ver este usuario de aquí a ver un segundo el usuario dos vale eh el título es primera pregunta esto es el título o el texto de la primera pregunta palabras clave pues 1 2 3 4 categorías general y fecha es hoy Así que le doy a continuar y tengo una vamos a verlo aquí vale y tengo esto por aquí Entonces esto es modelo de datos 013 nueva pregunta. sql Vale y vamos a por una respuesta por lo tanto voy a insertar una nueva respuesta el usuario que responde es José Vicente La pregunta es primera pregunta a continuación digo eh vamos a verlo digo pues esta es la primera respuesta la fecha es hoy y continúo esto es 014 insertar una nueva respuesta sql y pues bueno voy a hacer Ah y un voto vale voto Pues voy a insertar para el usuario dos en la primera respuesta el valor es un y la fecha es hoy continúo insertar voto sql y vamos a ver a continuación y ahora pues solo me queda de categorías blog insertar una categoría que voy a poner como general y nuevo archivo 016 insertar categoría blog sql Y por último una entrada del Blog inserto el usuario es jarsa el título es primera entrada del Blog esto es este es el texto del Blog y la palabras clave 1 2 3 4 las categorías es general y la fecha es hoy Así que continúo Y por último 017 nueva entrada del Blog sql vale con lo cual ya tengo la carga de datos finalizada Y eso quiere decir que ya puedo empezar a programar ya puedo empezar a programar cosas una vez que por una parte vamos a ordenarlo de forma un pelín más correcta en ht docs en proyecto en modelo de datos tengo 001 crear tablas y 002 introducir o carga inicial de datos Así que esto viene por aquí esto viene por aquí y así queda más ordenado y ahora sí a continuación es cuando ya puedo empezar a programar en este caso Empezando por el panel de control bien Ahora sí que ya es cuando puedo empezar a programar la parte de vamos a verlo Dónde está el esquema la parte del panel de control en el lado del servidor mayormente en el lado del servidor Aunque va a haber un poquito de html y un poquito de css que llegará a la parte del cliente Así que ahora voy a desarrollar esta parte de aquí voy a desarrollar utilizando el paradigma clásico el panel de control utilizando mayormente php la tecnología mayoritaria va a ser php mientras que cuando desarrollen el lado del cliente la tecnología mayoritaria será javascript bien en este caso por lo tanto ahora a continuación voy a hacer lo siguiente dentro del proyecto vamos a ver aquí nueva carpeta voy a hacer 004 panel de control vale Y aquí en el panel de control voy a ir eh Pues creando varias cosas vamos a ver voy a crear Por una parte bueno nueva carpeta 001 proyecto y voy a hacer login Vale entonces aquí en el proyecto voy a hacer una nueva carpeta llamada servidor o admin o panel de control o algo vale voy a poner aquí eh vamos a ver panel de control y aquí en el panel de control Pues voy a crear un archivo llamado index.php este archivo index.php tendrá el siguiente código Por una parte Bueno vamos a crear por aquí un doc type html lang es igual a es Head por aquí Body por aquí en el Head voy a poner un title llamado panel de control y un meta charset es igual a utf8 vale con lo cual ahora aquí a continuación voy a hacer lo siguiente voy a crear un pequeño formulario form ID realmente no hace falta action es igual a yo mismo y method es igual a post dentro del form voy a crear un input type text name usuario input type password name contrasena y un input type submit voy a poner una serie de placeholders Así que placeholder es igual a usuario placeholder es igual a contraseña y vamos a ver qué aspecto tiene esto vamos a ir a Chrome voy a ir a local Host proyecto y en el proyecto panel de control 001 login vamos a verlo vamos a panel de control vamos a ver ahí crearé varas carpetas creo yo lo digo porque el panel de control no es necesario que tenga esta carpeta por tanto esto lo muevo aquí lo quito de aquí Ahora sí vale bien recargo y ahora lo tenemos vale proyecto login ahí lo tenemos y voy a poner un poquito de estilo voy a poner un poquito de estilo vamos a verlo vale voy a poner bueno alguna imagen un logo voy a poner mi logo Entonces vamos a ver jara.com a ver si tengo mi logo en vacío y no lo tengo con texto lo tengo con texto y además está invertido sea fantástico jocars logo Bueno pues mira pues este es el Antiguo Pero bueno Me vale es el Antiguo muy antiguo de hecho lo rediseñe hace como 5 años o por ahí pero da igual pero me vale para emp a trabajar así que Cojo un logo lo guardo me lo guardo dónde Pues en C en shamp en ht doc en proyecto en panel de control en login y aquí voy a guardar algo como logo.jpg voy a crear una carpeta nueva llamada img y ahí lo guardo como logo.jpg con lo cual Pues aquí voy a meter img src img logo.jpg y esto lo que va a hacer es que yo ahora recargo por aquí y veo que aparece el logo bien un poquito de estilo un poquito de estilo para esto así que Camp H Dogs proyecto vale bien entonces Aquí voy a Desactivar esta columna Vale y estilo 002 proyecto estilo css con lo cual voy a hacer un css interno o qué Va pues vamos a separar entonces link rel es igual a St sheet hre es igual a login.css con lo cual a continuación Es más yo podría crear aquí una nueva carpeta css por tanto css login.css bien Si yo hago esto ahora dentro de css voy a crear un nuevo archivo llamado css y voy a poner los estilos más básicos que me sean posibles por lo tanto voy a cargar login.php no existe Todavía ahora Existirá pero voy a hacer lo siguiente vamos a ver Body html es background rgb 220220 20 esto quiere decir que esto es fuera vamos a ver y recargo y aquí vale ahora form va a tener un margin auto un wid de 400 píxeles un height de 400 píxeles un background White un padding de 20 píxeles vamos a verlo vale vamos a ver por aquí y vale Ahí demasiado 200 por 200 vamos a verlo Ok esto ya es otra cosa y vamos a hacer un 200 por 300 esto es otra cosa bien y ahí me empieza a gustar Entonces ahora a continuación voy a decir que pues forma input va a tener lo siguiente vamos a ver Ah margin 0 píxeles with 100% padding top de 5 píxeles padding bottom de 5 píxeles Vale ahora padding de cer píxeles no ahí No aquí vale esto se parece un poquito más Border o box sizing de Border Box mejor todavía y ahora un margin bottom de 10 píxeles Ok eso tiene mucha mejor pinta Vale Voy a ampliar un poquito más la caja todo lo que sea necesario por tanto vamos a ver aquí vale usuario contraseña de hecho puedo poner un padding de cinco para todo porque tengo el box sizing ahí mejor vale Y Okay y el esto lo quiero subir a 320 píxeles vale Ahí que esté un poquito mejor bien Yo creo que ahí me gusta bastante por lo menos el objetivo es hacerlo lo más sencillo y que quede bonito y que quede efectivo luego puedo hacer pues alguna cosilla como Border radius 5 píxeles o Box Shadow cer píxeles 5 píxeles 10 píxeles rgba 0,0.3 vale No sé pero es para que quede bonito más que nada es para que quede pues un poquito estiloso vale Vamos allá y realmente lo que nos interesa ahora la parte que más nos interesa es la parte de login es decir a le doy a enviar y login.php no existe Vale entonces vamos a por ello vamos a hacer que exista eh yo no sé por qué he cerrado pero tenía por aquí tenía esta ventana Vale entonces ahora a continuación 003 proyecto login vamos a hacer el login para esto nos vamos al proyecto Y entonces Aquí voy a crear el archivo login.php que es el archivo digamos que he prometido Así que vamos a hacerlo un poco verboso al principio eco usuario dos punos post usuario eco br eco contraseña es post no me acuerdo post contrasena Así que si yo ahora me voy al paso número tres y Pongo aquí aa y aquí pongo aa pues le doy a enviar y dice usuario y contraseña comprobamos que lo que está recibiendo Es correcto lo que está recibiendo es cierto ahora a continuación qué es lo que voy a hacer pues me conecto a base de datos 003 004 conectar con base de datos Y para conectar con la base de datos Pues yo recomiendo hacer un archivo llamado config.php y en el config.php voy a decir que usuario es igual a no he creado ninguno ahora que estoy pensando localhost php my admin me voy a proyecto en proyecto me voy a privilegios y voy a crear el usuario proyecto con la contraseña proyecto puede hacer de todo vale Y me copio esto y me lo copio aquí nueva carpeta 003 usuario Con permiso y nombre vale per y nuevo usuario sql lo dejo de momento por aquí vale Y esto quiere decir que ahora en el login Perdona aquí no usuario proyecto contraseña contrasena es igual a proyecto base de datos es igual a proyecto servidor es igual a local Host y con esto Ahora me puedo conectar a la base de datos y puedo hacer lo siguiente me voy a vamos a ver dónde me voy a php May sql vale cargo procedural Okay y cargo un trozo de estos aquí realmente solo quiero esto estoy pensando vale Y entonces me voy al proyecto y en config me conecto servidor usuario contrasena base de datos vale esto quiere decir que ahora en el login Uy había eliminado esto Qué raro bien le doy a include config.php y por tanto ahora voy a hacer una petición para ver si es cierto que existe el usuario o si no existe entonces para ello voy a volver a php sql voy a volver a procedural y ejecuto una petición no create Table no quiero qué quiero vamos a ver aquí Esto es lo que quiero Vale entonces me voy a proyecto y digo Select all from administradores vamos a bajarlo un poco sel administradores we usuario es igual a algo and contrasena a ver un momentín administradores es usuario y contrasena vale en contrasena es igual a algo qué es ese algo pues ese algo es el post usuario y ese algo es el post contrasena ejecuto el resultado en la conexión ejecuto la petición la conexión está aquí Vale entonces vengo por aquí vamos a verlo y digo If fila eco el usuario es correcto els eco el usuario no es correcto vamos a comprobarlo pongo a le doy a enviar a ver un momentín dónde estoy en el cuat vale Okay proyecto 4 a Ah le doy a enviar el usuario no es correcto sin embargo si pongo aquí jarsa y Pongo aquí jarsa le doy a enviar y el usuario es correcto sabemos por lo tanto como ya tenemos un acceso al panel de control donde puedo tomar los datos que vienen del formulario puedo seleccionar los datos Y a partir de ahí pues lo que puedo hacer es decir el usuario es correcto o el usuario no es correcto bien una vez que hemos hecho esto y de hecho estoy detectando que he olvidado crear un elemento importante en la base de datos Pero no pasa nada porque ya comentaba antes que esto va a ser un clásico vale Esto va a ser un continuo el darnos cuenta en todo momento que nos faltan cosas en el modelo de datos Bueno ahora quiero eh decirle al usuario de una forma más clara si es correcto o es incorrecto entonces para ello voy a duplicar el proyecto 005 y Esto va a ser este proyecto se va a llamar Eh bueno estética vale mensajes con css entonces aquí a continuación Pues voy a poner un poquito de código html en el login y aquí en el body es donde voy a poner toda la parte de php de hecho en el body incluso voy a poner Mine la etiqueta Mine y voy a hacer lo siguiente en el login también voy a mostrar vamos a verlo en el login voy a decir que form coma Mine Así que vuelvo atrás le doy a enviar Oh qué ha pasado vamos a ver Ah Uh no venga a ver login No aquí bien un segundo porque esto va Aquí que estoy en la versión incorrecta del ejercicio he hecho los cambios sobre la versión anterior fatal Vale ahora me voy a login Ahora sí Ah Ah enviar vale el usuario no es correcto form Main vale a ver un momento no es la etiqueta Main momento que recargue Ahora sí vale Ok y ahora a continuación Pues bueno voy a poner una serie de mensajes voy a decir que en el login vamos a ver div ID voy a poner a ver cómo lo podemos hacer fácil y bonito el usuario a ver vi Class incorrecto y ahora un p usuario incorrecto registrando acceso incorrecto en el sistema y redirigiendo en 5 segundos vamos a verlo vamos a poner aquí una x y de esta forma recargo vale vamos a ver y voy a quitar estos Ecos de arriba que ya no me valen vale Y ahora aquí ahora a continuación Pues voy a poner lo siguiente en el login voy a decir font family San serif form Main text Aline Center Vale y ahora en el incorrecto voy a decir font size 200 píxeles color red vale esto es ya es otra cosa Bien voy a decir 160 píxeles Aquí no aquí vale ahí más o menos bien usuario incorrecto registrando acceso incorrecto en el sistema redirigiendo en 5 segundos Bueno pues ahora tenemos que hacer que esto que he comentado sea cierto tenemos que hacer que este código que acabo de introducir sea verdad Qué vamos a hacer Pues en primer lugar registrar el acceso incorrecto en el sistema y luego redirigir en 5 segundos cómo vamos a hacer esto Bueno pues lo vamos a hacer de una forma muy interesante porque voy a crear por ejemplo por aquí 006 voy a crear un log de sucesos voy a crear un registrador de sucesos en el sistema y para ello voy a crear Pues un nuevo archivo llamado log.php y en el eh en el sistema en el modelo de datos puedo crear o bien el modelo de datos o bien donde quiera para luego hacer estadísticas más que nada voy a hacer lo siguiente vamos a ver aquí en el modelo de datos crear tablas voy a crear una nueva tabla llamada registros identificador entero 10 poner 20 con un índice primario autoincremental estos datos luego me servirán para hacer estadísticas si los tengo en sql pues mejor eh Y ahora vamos a ver ahora quiero el apoc Ahora quiero el la IP Quiero el navegador vamos a ver Quiero la sesión quiero todo lo que venga en la sesión Y quiero todo lo que venga en reest me da la impresión de que se me olvida algo pero vamos de momento con esto vale esto es un entero técnicamente de voy a poner 40 caracteres esto es un bar charar de 255 esto es un bar charar de 255 esto es un bar charar de 255 Y esto es un request de 255 bien con lo cual momento vamos a tirar con esto previsualiza sql en crear tablas voy a guardar 010 Eh registro. sql vale Entonces ahora en el log aquí por cierto en el Index php voy a decir php include log.php y este también lo voy a poner en el login bien el log.php lo que va a hacer es Conectarse include config.php Vale y la petición que va a hacer va a ser esta Vamos allá va a hacer insert into registros valies y ahora voy a poner Son seis Vale pues un 2s 3 4 5 y 6 Esto va aquí abajo Esto va Aquí bajo Esto va aquí abajo Esto va aquí abajo Esto va aquí abajo y Esto va aquí abajo vale pongo sangrías más que nada para que se vea bien la sentencia y ahora aquí digo que esto es un date u vale esto es un IP un momento vamos a ver y utilizo la variable server y eh vamos a ver Remote address addr vale a continuación tengo el navegador vamos a ver a continuación voy a utilizar la variable de servidor de http user agent Okay y eh vamos a verlo y ahora Quiero la variable de sesión vamos a ver convertida a serializar si hay vale que en este caso no hay entonces vamos a ver voy a decirle Mira voy a jas encode de la variable session y quiero lo mismo jas en code de la variable request vale si esto va bien si esto es cierto y ahora vengo por aquí log undefine global variable session vale Ok venga por bueno porque dónde lo pongo vale muy bien voy a decir If is set tengo ahí bueno va venga If is set variable session sesión es igual a sesión Else sesión es igual a nada si existe Ponla y si no pues Ponle un vacío vale recargo Okay fantástico y si ahora me voy a la base de datos ahora viene lo emocionante me voy a registros y en registros veo cómo se empiezan a registrar cosas vale se empiezan a registrar por aquí cosas bien Ahora a continuación Yo vengo por aquí me está registrando quién soy Cuál es mi IP vale ahora a continuación quiero meter esto también en el login vale yo me vengo por aquí y digo quiero a enviar vale Y si nos fijamos obtengo un registro ahí lo tenemos obtengo un registro en jas de lo que el usuario está enviando O sea no solo puedo saber a qué página se ha conectado sino que puedo saber qué información me ha intentado enviar vale más adelante adás en las medidas de seguridad podemos implementar medidas adicionales para por ejemplo eh detectar demasiados intentos de acceso y bloquearlos por ejemplo vale bloquear al usuario de por vida bloquear la IP Vete a saber Pero bueno el caso es que a continuación tengo ya el acceso incorrecto vamos a ahora a redirigir ya tengo el log correcto Vale pues a continuación redirección entonces proyecto redirección y en la redirección vamos a ver vale vamos a utilizar esto eco y voy a utilizar una etiqueta de redirección html y voy a decir que en 5 segundos me redirige a index.php si esto es cierto y ahora vengo por aquí pongo vamos a volver atrás redirección pongo a bueno business intelligence que tenía por aquí le doy a enviar usuario incorrecto espero 5 segundos y si todo va bien en 5 segundos vale si todo va bien que parece que no vamos a ver qué ha pasado eh login ya lo he vuelto a poner donde no debía ponerlo vale efectivamente login lo pongo ahí vale volvemos a probar le doy a enviar y ahora en 5 segundos si todo va bien me devuelve al formulario de inicio o sea un intento incorrecto Pues tienes que volver atrás Vale ahora a continuación vamos a hacer el intento correcto por lo tanto proyecto intento correcto así que me voy al intento correcto en login voy a decir pues vamos a ver eco Class correcto pongo una V usuario correcto registrando el acceso en el sistema dirigiendo en 5 segundos Vale y a continuación lo que voy a hacer Es que voy a redirigir a panel de control php bien en panel de control.php vamos a ver voy a css voy a decir que correcto es color Green vamos a verlo entonces vengo por aquí intento correcto el incorrecto es este vale usuario incorrecto registrando acceso incorrecto en el sistema redirigiendo en 5 segundos Vale y ahora vamos a verlo estos 5 segundos tardan mucho en llegar creo que he vuelto a copiar el que no tocaba Pues sí vale Pero por qué porque sí que lo había copiado correcto pero bueno parece que no vale pues login Vale y vamos a verlo recargamos y vale Y ahora voy a poner el acceso correcto jarsa le doy a enviar acceso correcto registrando acceso correcto en el sistema redirigiendo en 5 segundos y me redirige a panel de control donde panel de control Pues ahora mismo ocurre que no existe bueno no existe Pero va a existir ahora a continuación vamos a hacer que exista Por cierto que mientras tanto todo esto pues vemos como Se va guardando en registros vale todo lo que hacemos se va guardando en registro lo cual es super guay bien otra cosa que quiero guardar es la página en la que estoy Pero bueno ahora ampliaremos el modelo de datos entonces eh Para ello lo que quiero ahora es aumentar el programa creando un panel de control vamos a crear un panel de control copiar 09 y eh panel de control vale al crear el panel de control cierro por aquí la redirección cierro el intento correcto voy a ahora crear un archivo llamado panelde control.php y en panel de control Pues voy a copiar el clásico marcaje vale Y voy a hacerlo siguiente eh panel de control vamos a comprobar que todo ha ido correctamente entonces panel de control jarsa le doy a enviar usuario correcto registrando acceso redirigiendo en 5 segundos y panel de control Vale ahora sí que estamos en el lugar correcto pero qué ocurre que una persona con un poco de morro Pues podría venir aquí y colarse directamente en el panel de control y funcionaría y no Debería ser así entonces vamos a utilizar variables de sesión como un mecanismo para asegurar que tengamos una llave con la cual poder Acceder al panel de control entonces para esto Vamos allá y voy a duplicar el proyecto panel de control y eh vamos a ver voy a decir sesión como llave y al utilizar la sesión como llave vamos a verlo al utilizar la sesión como llave voy a decir que cuando hago login aquí en el mismo sitio que hago include log digo session Start ahora a continuación digo si tengo usuario si es correcto session usuario es igual aila usuario con lo cual y si no pues nada evidentemente con lo cual en el panel de control aquí arriba voy a incluir el log pero es que además voy a decir que si no existe la variable de sesión usuario en ese caso muere y al morir di Eh pues esto que voy a decir al morir di un momento bueno vamos a ver va aquí al morir voy a hacer lo siguiente es que si digo intento incorrecto vale Bueno sí bien Me puede gustar vamos a ver session vale me intento meter en el panel de control php y me dice intento incorrecto no he pasado por el formulario Vale entonces debido a esto digo div di y voy a hacer siguiente aquí tengo que cargar el panel css tendrá algo parecido a ver cómo lo puedo hacer para que quede lo más bonito posible y entonces aquí en el body Ahí vamos a crear la etiqueta bueno Main para que al hacer así pues diga intento incorrecto es más div cl incorrecto x div y ya está Vale Oh incorrecto bien me voy a traer también el incorrecto Ahora sí vale ahora ya tenemos una marca un poco más visual que nos permite saber que alguien se ha intentado colar sin permiso y ojo si ahora vengo por aquí y me cuelo correctamente jarsa le doy a enviar usuario correcto registrando acceso en el sistema W intento correcto vale Ok bien porque en el panel de control porque en el panel de control tengo que arrancar la sesión si no funciona Vale ahora recargo Ahora sí panel de control Pero por qué Pues porque ahora he pasado vale he pasado por el registro y he demostrado que soy yo con lo cual pues me he guardado una variable de sesión Y eso quiere decir que puedo entrar correctamente y puedo entrar libremente al panel de control ya tenemos por lo tanto un sistema de inicio de sesión con usuario y contraseña y ahora a continuación lo que vamos a hacer es continuar desarrollando el propio panel de control es decir el escritorio del panel de control a continuación vamos a proseguir vamos a proceder con el panel de control propiamente dicho y para ello voy a crear una nueva versión del proyecto que es la maquetación estática maquetación del panel bien en la maquetación del panel vamos a hacer lo siguiente en el panel de control voy a crear en este caso un header donde pondré pues panel de control o algo así vale pongo h1 panel de control bien luego a la derecha del header pondré los clásicos enlaces de quién soy cerrar sesión todo esto Vale ahora luego lo ponemos bien de momento voy a poner aquí un Main una etiqueta Main y en esta etiqueta Main Claro ya tengo aquí un Main bien no es Guay vamos a poner una as vamos a poner una etiqueta aside lo cambiamos también en el css a ver aside Ok bien panel de control vale Y ahora en el Main vamos a poner un Nava a la izquierda y vamos a poner un se a la derecha de esta forma vamos a ver dentro del panel voy a hacer lo siguiente Body html es with vamos a ver margin 0 píxeles padding 0 píxeles with 100% min height 100% vamos a verlo Vale ahora espera un momentín que no estoy en el sitio correcto maquetación A ver quiero guardar usuario a ver si me lo pregunta vale no me lo ha preguntado un momento carsa quiero guardar vale para que no me lo pregunte cada vez bien panel de control Vale ahora Muy bien Ahora el header es un background rgb voy a abrir el gimp voy a seleccionar un color a ver qué color puedo Pues un azul corporativo como esto una cosa así más desaturado a ver una cosa así Creo yo Vale y eh Aquí voy a crear una variable A ver vamos a ver vale en el Root voy a crear a ver Aquí voy a crear eh fondo que va a ser Esto vale Y yo creo que ya está y frente donde voy a seleccionar por ejemplo pues un color estaba por aquí Pues un color así vale frente ese color esto quiere decir que aquí en el background voy a decir que bar quiere utilizar una variable css de fondo Vale pues si todo va bien cierro minimizo el gimp recargo por aquí tengo el panel de control y quiero decirle que color es frente bar frente vale al h1 le digo que mira sabes qué a todo le voy a decir que padin 0 píxeles margin 0 píxeles ya no hace falta que lo diga aquí ahí Vale ahora mucho mejor ahora en el header voy a decir que padding de 20 píxeles pero aquí pero ahí mismo vale Pero y Box sizing es Border boox y ahí tenemos ya el panel de control bien sabiendo que más adelante vamos a poder cambiar variables todo lo que necesitemos porque ahora a continuación lo que voy a hacer es crear el menú de navegación Así que vamos a verlo en el panel de control Vale tengo el nav vamos a verlo tengo el nav que flota a la izquierda tiene un wid del 20% y tiene un background y un color de esto de Aquí vamos a verlo aquí en el na voy a poner un punto y un punto ahí lo tenemos vale Y voy a decirle en este caso vale Ok que tenga un height del 100% ah no porque el Ahí está es el Main o quién es ya no sé quién es dentro de quién estás en el Main vale correcto pues es el Main no el Main el body toma Pues a ver voy a decirle h a ver html Body voy a decirle H Ahora sí vale Ahí lo tenemos y ahora a continuación pues lo que sería el se lo que sería la propia sección del panel de control Pues voy a hacer que sea float right 80% background fondo 2 venga otra vez background fondo 2 va a ser sacamos de nuevo el gimp va a ser pues un grisito clarito ahí con lo cual al se le digo que es fondo dos y el color pues Black por ejemplo de momento vale vamos a verlo recargamos ahí lo tenemos ha salido correctamente voy a darle un padding de 30 píxeles ahí se me va hacia abajo pero no pasa nada porque voy a darle un box sizing de Border Box y aquí también porque aquí también quiero un padding de píxeles Ahora sí ahí lo tengo vale Y ahora Ahí es donde puedo empezar a crear los elementos del panel de control vamos a empezar por el menú de navegación y una vez que tengamos el menú de navegación Pues nos iremos a eh a la parte del propio panel bien entonces para ello voy a hacer lo siguiente en el panel de control voy a decir que 012 área de navegación área Iría con acento Pero bueno da igual entonces me voy al 012 panel de control y aquí en el nav lo que voy a hacer es crear voy a incluir config incluyo config.php y esto me va a servir para hacer peticiones a la base de datos conig Porque aquí ahora me voy a copiar esto y voy a decir que petición es igual a Ok a resultado While y voy a poner lo siguiente recordamos que estamos con html embebido Así que eco Li le y voy a decir fila tables in qué in proyecto creo que es proyecto hago un ul el ul Lo pongo aquí Marco Oh venga qué estoy haciendo ul Okay bien marco la siguiente versión del proyecto área de tal jarsa usuario correcto redirigiendo podría entrar directamente al panel de control bien me falta algún punto y coma tiene toda la pinta Ahí está Vale punto y coma bien y tengo las tablas que tenía correctamente dentro del sistema ahora un poquito más de cs s pero básicamente vemos que en el panel de control Estamos cargando las mismas tablas que tenemos aquí en la base de datos correcta bueno eh vamos a ver varias cosas enlace para cada tabla enlace para cada tabla entonces en el enlace panel de control vengo por aquí y digo Li voy a ponerlo con bajada para que lo veamos mejor y entonces Li a href donde tabla es igual a qué pues a esto tabla es igual a Esto vale esto viene aquí esto es el cierre de la etiqueta a Y si ahora todo esto va bien enlace entro podría ir directamente al panel de control y aquí vale veo que tabla administradores tabla categorías tabla as blog tabla entradas Vale tengo ahí todo lo que me haga falta un poco de estilo Así que estilo del menú estilo de navegación Así que vengo por aquí css panel y digo lo siguiente eh nav ul es list Style type known padding 0 píxeles margin 0 píxeles vale eh vamos a ver nab Uli voy a decir eh Box sizing Border Box voy a decir que padding 20 píxeles y naul a voy a decir que text decoration es igual a noun y color es igual a bar del color vamos a verlo ahí va del frente Vale pues del frente vamos a verlo OK Vamos a ver cómo queda vamos a ver Ok 014 panel de control php Vale y ahí lo tenemos un poquito bestia Quizás El padding de 20 píxeles vamos a decirle 10 píxeles eso ya tiene Otro aspecto vamos a decirle también que Eh Pues igual Quiero un Border bottom de un Pixel solid bar frente vale bien eso ya me gusta bastante bien entonces bueno tenemos esto por aquí tenemos ya lo que serían las tablas del el acceso a la navegación de las tablas puedo también hacer por no pues en el lab voy a hacer un text transform deerc vale para que quede mayúscula la verdad es que ahora mismo no sé cómo me gusta más Pues creo que me gustaba más en minúscula Así que ahí le quito transform que creo que gusta un poquito más y ahora vamos a hacer lo que sería el mantenimiento inicial consistiría en pues crear aquí una tabla donde yo en esa tabla voy a cargar lo que sea que haya seleccionado aquí dentro del panel de control Así que para ello Vamos allá copio pego 15 y esto es tabla de referencia tabla de muestra vamos a la tabla de referencia y en panel de control vamos a ver aquí en el section voy a hacer lo siguiente voy a hacer un table el Table tendrá un t el T tendrá un TR y el TR tendrá una serie de ths que es columna 1 columna 2 3 4 vale luego tendremos un table Body donde el Table Body tendrá una serie de trs y los TR tendrán TD y esto repetir a ver qué he hecho mal aquí vale Y tdt Ok bien aquí esto se podrá repetir con lo cual yo ahora vengo a la siguiente parte del proyecto 15 panelde control.php Vale y tengo ahí la tabla pero la tabla no se ve nada bien no se ve nada bonita con lo cual Pues voy a hacer el estilo de la tabla 16 y estilo de la tabla en estilo de la tabla vamos a verlo en css en panel Pues voy a hacer lo siguiente voy a hacer que Table es igual a with 100% H 100% vamos a ver qué pasa voy a decir background White voy a decir padding de 20 píxeles box sizing de 20 píxeles a ver qué pasa vamos a proyecto estilo panel de control.php vale Ok sí bien y ahora un poco para ver qué es lo que está ocurriendo Pues voy a decir que vamos a ver Bueno claro me lo ha extendido todo lo cual no es necesariamente malo Ah Esto sí vale perfecto okay Vale entonces vamos a ver Border radius de C pel Box Shadow de c píxeles 5 píxeles 10 píxeles rgba 0.1 Ok así un poquito solo muy bien y ahora a continuación Pues voy a decir que Table TR es background bar fondo uno o fondo no me acuerdo fondo Vale y color es frente Wow color es frente ahí vale Y ahora Quiero el cell paing y el Cell padding vamos a ver esto en css vale Y aquí esto es Border collapse Border colapse es igual a collapse Quiero colapsar los bordes así Pero cuidado porque a ver porque no me está haciendo el padding a ver vale y voy a hacer tet en el tet voy a poner el Border collapse Ah bueno tampoco Pay Head TR a ver si así no eh th no bueno tiene pinta de que me lo voy a quedar de momento porque no quiero perder el bueno el Border collapse otra cosa que puedo hacer otra cosa que puedo hacer es poner el Border colapse aquí y poner la tabla en un contenedor entonces vengo por aquí y digo div ID contenedor no me hace mucha ilusión la opción del contenedor pero probablemente no queda más remedio vale con lo cual en el panel aquí vengo y digo contenedor es with H 100% padding 20 píxeles Box sizing 20 píxeles esto lo paso al contenedor vamos a verlo ahora sí y background White Vale ahora sí eh vamos a ver quién se está saliendo se me está saliendo alguien Box en 20 píxeles vale Okay padding 20 píxeles no quién se me está salo vale se vale contenedor Box sizing Ah perdón perdón Box sizing Border Box madre mía Vale ahora sí solucionado vale una vez que tengo esto Pues ahora a continuación una vez que tengo esta tabla que es estática Vale ahora a continuación lo que voy a hacer es poner contenido de verdad a la tabla que haya seleccionado es decir cambiaré las columnas por las columnas de la tabla que haya seleccionado y las filas por las filas de la tabla que haya seleccionado voy a continuar dándole un poquito más de estilo donde voy a decir que voy a decir que Table t Body TR en child od y voy a decirle que background es igual a variable de fondo 2s Y así pues filas impares tendrán el sombreado con lo cual Pues de esta forma podemos ver un poquito mejor las filas por cierto que el TR este me ha quedado un poco demasiado aplastado Vale entonces voy a decirle que esto es un padding de 10 píxeles Ah un poquito mejor ahora respira un poquito más bien una vez que tengo esto por lo tanto una vez que tengo esa tabla Pues ahora ya voy a cumplir la misión de que las columnas y las filas pues sean de verdad Es decir provengan de la tabla correspondiente en la cual yo en un momento dado haya hecho click bien pues una vez que tenemos esto a continuación lo que queremos es que el contenido de la tabla realmente sea Dinámico sea real Así que vamos a empezar por las columnas de la tabla por la estructura de la tabla Así que estructura de la tabla y para ello a continuación dentro del archivo de panel de control Pues voy a el T y voy a hacer lo siguiente voy a poner esta petición y en esta petición aquí reemplazando los tads voy a decir show columns from y get tabla por qué get tabla Pues porque lo que paso arriba en la URL lo que estoy pasando arriba en la URL es la tabla Así que en este caso pongo pH th elimino el Ah ref elimino el Ah ref y pongo creo recordar que es Field cuidado no me quiero cargar tanto creo recordar que el nombre de la columna es Field esto hacia atrás aquí pongo Field y vamos a verlo vamos a ver si esto ha funcionado me voy al 017 me voy a panel de control.php Vale y no pasa nada porque al principio tengamos un undefine array no hay ningún problema Entonces me voy a administradores y veo ahí identificador usuario contraseña nombre apellidos email imagen me voy a categorías y veo identificador nombre me voy a categorías blog veo lo mismo me voy a entradas voy a usuario título texto palabras categorías fecha vemos como el contenido de la columna el contenido de la cabecera de la tabla está ahora funcionando correctamente lo cual quiere decir que voy a crear una versión más 018 que es contenido de la tabla en el contenido de la tabla voy a hacer algo parecido voy a hacer algo con la diferencia de que en este caso pues vamos a ver Estos trs me los quito por aquí vale Y voy a hacer ahora pues php trd esto es un TD esto es un TD y un segundo porque vamos a verlo un segundo Por vamos a ver Esto va aquí eco TR Esto va Aquí eco TR y a continuación voy a decir for each fila as campo voy a poner por aquí esta parte Así que si todo va bien Ahora cada campo cada elemento de la fila lo convierto en una variable campo es decir utilizo la estructura for each para repasar y ahora a continuación y ahora a continuación vamos a la siguiente versión a la 18 vamos a panel de control punto php selecciono y ahow vale vamos a ver porque que nos está diciendo Ah sí no no Esto no es correcto vamos a ver tenemos usuario tenemos contraseña vale lo tenemos todo tenemos el tipo de campo cosa que también es muy interesante Esto no es exactamente lo que quiero pero casi vale tenemos que el elemento es clave primaria incremental primary key vale es autoincremental esto es muy interesante vamos a ver fila as campo Vale entonces para cada uno de estos hago un TR Ok a ver Ah no no Claro es que es un show full show columns Vale tengo aquí el Field no esto lo usaré más adelante es interesante que puedo saber la estructura y la longitud de todos los campos Eso está muy bien pero ahora no ahora lo que quiero es Select all from tabla Ahora sí entonces recargo y tengo el usuario José Vicente jarsa carrat sanchis y tal tengo una entrada y tengo título Esta es la primera entrada del Blog texto Este es el texto palabras clave Estas son las palabras clave vale Ahí lo empezamos a tener ahora haremos que la información quede un poquito mejor vale porque pues vemos ahí que las columnas pesan demasiado Pero vale Lo importante es que ya tenemos ahí los elementos de la tabla bien Vamos a hacer diferentes cosas vale vemos por aquí que la tabla sobresale con lo cual Pues bueno hay varias formas de arreglarlo una de ellas vamos a ver una de ellas es la siguiente voy a hacer ajustes de estilo en la tabla entonces en los ajustes de estilo en la tabla voy a decir que vamos a ver en el th voy a decirle font size 10 píxeles 019 panel de control.php vale para que sean más pequeñas y empujen digamos de forma más natural luego Aparte también otra cosa que voy a hacer vamos a ir a la a los registros ahí lo veremos mejor es que a ver el Table Pues bueno el Table t Body TR TD es padding 10 píxeles vale para que respire también un poquito más el texto Box sizing Border Box A ver no me deja vale Bueno pues se sale y no quiero que se salga ahora no se sale Ah se sale cuando no puede más vale Okay bien eh más cosas Bueno voy a decirle también que el font size sea de 10 píxeles vamos a verlo ahí así caben más cosas vale Y el Table voy a decirle que overflow y que sea scroll con lo cual Table a ver No es este elemento es el contenedor es el que tiene el overflow y ahora sí vale vemos que la tabla tiene el overflow y para poder movernos alrededor de los registros vale Y ahora a continuación lo que quiero es implementar una serie de funciones mediante las cuales pues pueda las cuatro operaciones básicas las cuatro operaciones crud sobre esta tabla vale sobre esta tabla o sobre cualquier tabla en un panel de control debemos poder ser capaces de pues crear nuevos elementos leer ya podemos insertar nuevos elementos y eliminar elementos para ello vamos a hacer una cosa Por cierto voy a ver voy a hacer una cosa voy a separar esto en funciones porque hace rato que esto ya lo está pidiendo Así que externalizar proyecto externalizar funciones punto nada vale Y aquí de esta forma al externalizar funciones con el objetivo de que el panel de control se quede lo más limpio posible pues lo eso que ya está más o menos limpio pero lo que voy a hacer es crear una nueva carpeta llamada Inc en la carpeta llamada Inc voy a crear un archivo llamado funciones.php y en funciones.php Pues voy a hacer lo siguiente vamos a ver include Inc funciones.php Vale y aquí en funciones php voy a decir comprobación function comprobar acceso esto técnicamente es un archivo que también tiene que empezar con php y tiene que acabar con php y comprobar acceso pues lo que va a hacer es heredar este código de aquí Así que php comprobar acceso y ahora a continuación Pues voy a llamar a comprobar acceso php comprobar acceso y ahí bien Ahora a continuación esto es menú de navegación pues función menú navegación hago así me voy a panel de control hago así menú de navegación y ahora Esto me lo llevo a panel de control y ahí Vale ahora esto es Mostrar columnas Vale pues vengo por aquí function Mostrar columnas pego recargo ejecuto y llamo a mostrar columnas Y por último esto de Aquí vamos a ver es Mostrar datos vale Así que corto esto funciones function Mostrar datos hago así Ahora esto es Mostrar datos Y ya está y si todo ha ido bien Todo debe funcionar correctamente pero si nos damos cuenta ahora el archivo Index pues es mucho más claro porque llama directamente a las funciones y evidentemente pues en un momento dado pues ya en las funciones encontraremos el código correspondiente a esa función Por supuesto comprobamos que esto sigue funcionando correctamente porque si no Tendremos que solucionarlo evidentemente usuario correcto registrando el acceso en el sistema redirigidos en 5 segundos Ahí es donde vale empiezan a surgir los problemas pero no pasa nada Simplemente esto lo que quiere decir es que vamos a ver He incluido funciones vale pero undefined variable conexión vale en externalizar funciones include config muy bien Bueno pues un momentín porque este problema es un poco inesperado también digo que lo que puedo hacer es que desde este archivo de funciones incluyo aquí arriba config.php vale bien pero todavía vale vamos a ver undefine variable connection bueno espérate dos punos barra config vale a ver funciones en la línea 10 voy a decir eco aa para comprobar que estoy trabajando con el archivo correcto Ahí está vale Ahí está el problema Okay Me dice que no está el archivo config lo cual me extraña porque sí que está Vale recargamos ahora sí que está el archivo config vale undefined variable connection pero en config teóricamente está la conexión bueno puedo hacer lo siguiente vamos a ver puedo hacer esto y vamos a ver undefined variable connexión Qué raro porque yo hago así undefine variable servidor es como que no me está cogiendo esto no me está cogiendo esto lo cual evidentemente es muy raro include dos punos barra config.php vamos a ver que reconozca vale Ahí ya empezamos a funcionar vale con lo cual voy a pasar el include a todas las funciones que lo necesiten vale Y ahora entro en categorías y ahora pues estoy viendo ya el contenido correcto de todas las tablas he tenido que hacer un poco ese include Pero vale pero bien con lo cual vamos a verlo quería ponerlo como variable global Pero bueno me obliga a ponerlo como variable interna Pues bueno tampoco pasa nada esto también digo que podríamos meterlo como un objeto navegación Pero bueno de momento como tampoco me quiero liar ahora a hacer clases eh porque tenemos más cosas que hacer más adelante siempre podemos refactorizar a clases una solución que sí que podemos adoptar y que pienso que es un poquito más limpia es la siguiente vamos a ver si incluimos aquí si incluimos include config.php que esa solución es un poco la que creo que es la correcta voy a meter conexión como parámetro voy a meter conexión como parámetro y por tanto ahora en las funciones aceptamos conexión aceptamos un parámetro conexión quitamos el include que es que me está quemando un poquito ver ese include ahí repetido varias veces y recargamos y vale Y ahora sigue funcionando correctamente con lo cual pasarlo como parámetro vemos que nos da mejor resultado que haciendo include varias veces y es que aparte esto de hacer include varias veces Pues ya digo que me salta un poco los ojos bien Ahora ya estamos en posición de ampliar esto y al ampliar esto vamos a introducir diferentes operaciones primero voy a venir por aquí y voy a decir 021 proyecto y quiero lo siguiente quiero vamos a verlo qué quiero pues quiero tabla actual y Element bueno tabla actual de momento tabla actual 021 panel de control y aquí en el contenedor voy a poner por ejemplo h3 editando la tabla php eco get tabla Así que vamos a probarlo entramos y vale Ok categorías editando la tabla categorías bien una vez que tengo esto a continuación lo que quiero es poner un signo más que será un botón para Añadir un nuevo registro vamos a empezar con insertar Así que botón de insertar y 22 botón insertar Y entonces voy a hacer lo siguiente 022 panel de control y en el panel de control en insertar aquí voy a poner un a href y bueno vamos a ver operación es igual a Nuevo and tabla es igual a php eco tabla bien con lo cual a continuación eh digo Class nuevo Class botón nuevo y voy a hacer lo siguiente en el css en el panel la clase botón nuevo va a tener un wid de 20 píxeles un High de 20 píxeles un font size de 20 píxeles un Line height de 20 píxeles ahora veremos eh un Border radius de 5 píxeles un background vamos a cogerlo por aquí un background de fondo y un color de frente y un textal de Center vamos a verlo 022 panel de control php tabla vale me falta No me digas que estoy trabajando No sobre el correcto teóricamente botón nuevo Ah sí me hace falta un signo más vale hago así y tengo ahí el signo más no me está haciendo caso en muchas cosas a ver Ah por qué pues porque a ver ahí display inline Vale pues voy a decir display block Ok y ahora si ya tengo ahí el botón y le digo que text decoration es know vale Y aparte quiero un padding de no 10 píxeles Ahora s ahora tiene un aspecto mucho más bonito y un margin de 5 píxeles vale con lo cual ahora la tabla un poco más pequeña también otra cosa que voy a hacer Es que voy a ponerlo en línea vale porque es como que no me cuadra entonces este ah ref lo voy a poner aquí y entonces voy a poner que el display es inline block y así quedará Uh a ver qué ha pasado ih3 vale Sí ih3 es display inline block cuidado copiar pegar ahora mucho mejor bien Entonces al hacer clic aquí por ejemplo en preguntas desde el panel de control Yo haré clic Y entonces operación nuevo y tabla es igual a preguntas entonces esto quiere decir a continuación que ahora tengo que atrapar la operación Así que vengo y digo 03 atrapar operación y digo vamos a ver contenedor Vale pues vamos a ver php y digo If no is set get operación en ese caso van a pasar una serie de cosas pero va a pasar esto pero els van a pasar otra serie de cosas Si no hay operación Sácame la tabla pero si hay operación vamos a ver qué operación me has enviado Así que sí get operación es igual técnicamente aquí puedo hacer un switch get opera Case qu Case nuevo y vamos a crear un formulario vamos a crear un formulario voy a decir eco creamos un nuevo elemento h4 nuevo elemento para la tabla y get tabla vamos a ver si es cierto vale algo uno nuevo eh No estoy en el proyecto correcto 023 panel de control vale en la línea 47 hay un error algún punto y coma sí punto y coma vale No aparte la línea 47 eco Ah no no madre mía no puedo hacer Esto vale Okay encadenó y encadena Vale ahora sí bien recargamos ahí pasa algo vale entradas nuevo elemento para la tabla entradas Entonces ahora a continuación voy a crear un formulario donde el formulario deberá tener los campos correspondientes a cada una de las entradas correctas vale por lo menos vamos a empezar con los usuarios entonces digo con los usuarios porque hay otros Campos que son eh Campos enteros vale Campos externos Campos con clave ánea y esos Campos hay que tratarlos de una forma un poquito más particular vale pero ahora a continuación voy a hacer lo siguiente y Es que voy a duplicar esta versión del ejercicio para crear un formulario Dinámico es decir un formulario que un formulario cuyo contenido esté basado en el contenido de la tabla entonces 24 parael de Vale entonces vengo aquí y digo lo siguiente que nuevo Vale entonces vengo y lo que quiero es averiguar los campos vamos a verlo me voy a funciones quiero mostrar columnas Ahí está Vale y quiero show colums from tabla OK Y entonces aquí digo eco form action es igual a yo y operación es igual a insertar and tabla es igual a coquet tabla vale esto es el form method es igual a post Okay eco form vale Y aquí voy a decir input type de momento text más adelante hablaremos de esto name fila Field placeholder fila Field para que el usuario sepa qué le estamos preguntando y al final del todo eco input type submit bien si esto ha ido bien y estoy en el proyecto correcto que no lo sé que creo que no 24 panelde control.php voy a usuarios qué ha pasado petición petición eh punto y coma falta aquí y falta aquí Vale entonces me voy a usuarios Vale Voy a crear un usuario y veo ahí que aparece el formulario muy bien Bueno ya que estoy aquí voy a formatear un poquito el formulario Así que estilizar formulario y al estilizar el formulario ahora a continuación 25 panel de control.php usuarios vale crear uno nuevo voy a abrir el css y simplemente lo que voy a decir en este caso es lo siguiente panel vale Quiero quiero forma columns 2s dos columnas Vale ahora input with 100% Box sizing Border Box y padding 5 píxeles vamos a ver qué ocurre Ok bien y margin bottom realmente margin cco píxeles a ver qué pasa Okay bien tiene buena pinta vale con esto a continuación tengo que puedo rellenar un usuario vale puedo crear un nuevo usuario pero claro cuando le de a enviar pues la operación va a ser insertar y la tabla por cierto nos está enviando correctamente la tabla a ver Ah okay Y tabla es igual a que tabla ostras Pues sí que se debería insertar tabla usuarios operación nuevo an tabla es igual a usuarios le doy a insertar y tabla es igual a no te lo cojo Vale pues vamos a verlo operación es igual a insertar and tabla es igual a get tabla por qué no me lo coge Pues no lo sé no sé por qué no me lo coge A ver vamos a inspeccionar el formulario form action tabla no lo está cogiendo operaciónes igual a insertar en tabla es igual a get tabla hay un get tabla sí tabla es igual a usuarios porque no me el get tabla porque aquí falta una comilla de cierre Ahora sí vamos a verlo y a no tabla es igual a nada todavía vale vamos a ver Ah operación es igual a insertar an tabla es igual a Ah esta comilla no va ahí ahora sí y tablas es igual a usuarios vale envío y tabla es igual a usuarios bien entonces ahora eh A continuación lo que voy a hacer es procesar esa inserción vamos a comprobar si esa inserción es correcta Entonces vamos a ver un momento and operación vale esto lo voy a llamar acción es igual a insertar me voy a usuarios voy a crear nuevo usuario inserto el usuario Vale y de momento no aparece pero ahora como digo vamos a procesar esa acción vamos a verlo creo el 26 y voy a decir que esto es Eh Esto no sé qué es esto es procesar acción al procesar acción ahora esto que viene tiene su complejidad aquí arriba por ejemplo If set get acción y entonces digo switch get AC switch acción Esto va Aquí entonces digo Case insertar es algo que te voy a decir bien Y ese algo que te voy a decir va a ser lo siguiente consulta es igual a nada vale Y ahora digo for each post as campo vale consulta Perdón es insert into tabla vales y ahora aquí escribo cosas vale si campo no es igual a identificador porque el identificador no lo quiero porque el identificador es automático vale en ese caso consulta punto igual a campo coma al final de todo esto consulta punto igual a paréntesis y voy a hacer lo siguiente Bueno aquí voy a poner un break y voy a poner eco consulta Así que vamos a verlo procesa panel de control php me voy a usuarios creo un nuevo usuario pongo a Ah le doy a enviar y por alguna parte debería hacer a ver If set get acción estoy en el 20 Ah 20 Ay Esto va aquí vale venga Esto va aquí vale había hecho algún cambio más Pues creo que sí porque esto es acción vale Ok venga Ok recargo aquí insert into usuarios values vale Qué cosas Me faltan pues esto es nul coma estos Campos van con una comilla sencilla y la última coma sobra Entonces vamos a ver estoy viendo la función vstr entonces digo consulta es igual a subst de consulta coma 0-1 lo cual equivale a quitarle la última coma comprobamos y le quitamos la última coma y esto quiere decir y esto quiere decir que ahora ya puedo ejecutar en funciones el mysql query el dónde estás el mysql query ec consulta no hace falta vale vamos a probarlo vamos a comprobar si es cierto solo funcionará de momento con este con usuarios o con aquellas tablas que sean primarias vale Pero vamos a probarlo usuario quiero usuario Prueba con contraseña de prueba nombre prueba apellido prueba email prueba imagen prueba punj y si todo ha ido bien Vamos a verlo le doy a enviar no ha ido bien no ha ido bien no sé por qué vale vamos a verlo ec consulta usuarios crear prueba prueba insert into usuarios valius nul Ah que hay ahí ese esas comillas De dónde salen Pues no lo sé pero no lo sé porque ah estas comillas son dos comillas una y dos Por qué están ahí If campo no es igual a identificador voy a hacer un bomp de post para ver qué estoy recibiendo identificador usuario contraseña es el identificador es decir no me está funcionando esto a ver for post as campo Ah perdón Ya sé clave o columna campo si columna no es igual a identificador ahora sí no es el valor es la columna Ahora sí vale entonces y ahora sí pero tampoco ha funcionado vamos a verlo voy a copiar usuarios Okay Vale Voy a sql insert into usuarios a ver si hay algún error pues no hay ningún error usuarios vale usuarios Por qué no ha funcionado No lo sé vamos a verlo Ah envío no se inserta vale Y si no se inserta Ah en la conexión quiero ejecutar la consulta Ahora sí vale venga entonces usuarios bbb bbb envío y ahora sí correctamente ya me está insertando los usuarios lo cual es super guay porque eso quiere decir que ya tengo la operación de leer y también tengo la operación de eh de escribir puedo insertar bien Podría aquí insertar directamente preguntas Bueno todavía no vale todavía no porque claro cuando me pregunte categorías nombre yo tengo que introducir ahí un identificador vale No un elemento por tanto eso de momento vamos a dejarlo ahí quieto Vamos a continuar con usuarios y ahora luego resolveremos qué es lo que ocurre con aquellas tablas que tienen claves foráneas que no pasa nada por eso y veremos que hay una solución muy sencilla pero de momento vamos a continuar y para continuar pues vamos con la siguiente parte una vez que ya tenemos la bueno la operación de leer ya la teníamos Y tenemos la de Añadir vamos a por la operación de eliminar y actualizar la de eliminar es fácil la de actualizar no tanto por cierto antes de eso lo que podríamos hacer es externalizar a funciones que ya va tocando Así que voy a hacer eso mejor vamos a intentar mantener el control del proyecto siempre Vale entonces 27 y externalizar realizar a funciones vale por tanto pues vamos a por ello esto es en el caso de insertar Pues voy a crear aquí Perdón aquí vale En el caso de insertar function insertar registro le paso la conexión Y entonces insertar registro del panel de control va a tener esto okay e funciones pego ahí y llamo a insertar registro Okay ahora mucho mejor y a continuación vamos a verlo vale En el caso de operación Pues voy a hacer function formulario insertar Así que function formulario insertar e aquí falta un break este eco lo pongo por aquí formulario insertar le paso la conexión llamo a formulario insertar y ya está y así el código una vez más se queda limpio se queda tranquilo y se queda controlable bien 27 comprobamos que todo funciona correctamente vamos a verlo y bien y usuarios y ahí lo tenemos Vale entonces onf function formulario insertar Vale pues no va tan bien Vamos a verlo porque formulario insertar pues la función existe Ah guardar vale Ok no estaba guardado bien Ahora sí Y le voy a enviar y correcto se guarda correctamente Vale ahora vamos a hablar del de la acción de eliminar Así que 28 acción de eliminar en la acción de eliminar vale que por cierto en la acción de eliminar Ahora vengo por aquí y me voy a las funciones directamente y en Mostrar columnas al final del todo voy a hacer eco al final th y voy a poner a href algo a Class botón eliminar y voy a decir que acción es igual a eliminar and ID es igual a un momento que te lo digo a ver fila feld Ah no es que esto no va aquí esto no va Aquí Esto va Aquí ahí ahora sí vale as columna campo y entonces digo si columna es igual a identificador en ese caso ID es igual a fila no ID es igual a campo V con lo cual ID es igual a ID and tabla es igual a get tabla si esto es cierto Aquí le voy a poner una x si esto es cierto Ahora vengo por aquí me voy al proyecto 28 en el proyecto 28 voy a ir a usuarios Ay dónde estoy trabajando sí el proyecto Vale qué ocurre en el proyecto 28 th TD estd me falta porque cre creo que estarán todos los botones aquí abajo vos Ahí están vale vamos a verlo cuántos hay th TD algo no va bien algo no va bien porque están al final vale Y eso es porque tienen que estar aquí ahora sí cada uno de los botones tiene cada uno de los elementos tiene su tal y eh Y este sobra ahora okay Vale muy bien lo tenemos y ahora a continuación pues vamos a darle un poco de estilo Así que vamos a estilo para los botones Por cierto no he comprobado si funcionan estilo para los botones vamos a comprobarlo voy a hacer aquí y ID es igual 2 sí funciona correctamente vale funciona el enlace otra cosa es que la acción evidentemente todavía no está programada por supuesto pero yo ahora vengo por aquí usuarios vale Y voy a hacerlo siguiente en vamos a ver aquí vale me voy al 29 y en el estilo en el panel tenía por aquí un a tenía por aquí una botón nuevo Vale entonces esto es Dónde está aquí botón nuevo vale porque son dos clases y este de aquí y este de aquí es botón eliminar de tal forma que ahora en el panel digo botón es esto de aquí y ahora nuevo es Esto me falta uno esto es esto y eliminar es background caray background red color frente amente vale vamos a verlo todavía no Dónde estás se me ha ido a ver un momento vale botón eliminar Ah background red Perdón background red vale Ahí lo tenemos Entonces tenemos el botón de crear Y tenemos el botón de eliminar si tenemos el botón de eliminar ahora por cierto aquí en funciones en la fila sí que podría hacer aquí un operaciones vale aho Por qué Uy Por qué por qué se ha ido a ver TD a ver Ah arriba TD Ah y th no es th es no es th el th sobra Ahora sí vale una vez que estamos aquí ahora a continuación vamos a procesar la eliminación bien pues ahora a continuación vamos a procesar esta información entonces Esto me lleva a una acción por tanto Eso quiere decir que vamos a verlo Eso quiere decir que esto es procesar acción de eliminar 030 procesar acción de eliminar y al procesar la acción de eliminar al procesar la acción de eliminar es cuando aquí cuando atrapo la acción digo Case eliminar registro y evidentemente la función de eliminar registro la función de eliminar registro será parecida a esta función de aquí pero con la diferencia de que delete from get tabla we identificador es igual a get ID una vez dicho esto acabamos aquí punto y coma y yo creo que ya y yo creo que ya vamos a probarlo ah usuarios vale quiero eliminar el usuario este extraño pincho a ver si va bien y bueno no se ha eliminado vale Ok venga No pasa nada vamos a darle ecoc consulta recargo vale ID es ig a 5 no estoy viendo la consulta vale acciones igual a eliminar no se está ejecutando nada okay Por qué estoy en el sitio correcto 20 no leches Ah no estoy en el sitio correcto aquí menos mal vale venga 30 entro Vale y vamos a ver vale usuarios elimino este usuario y vemos que se ha eliminado elimino el usuario B Se elimina también elimino el usuario prueba y veo como los usuarios se van eliminando correctamente vale por tanto eh Ya tengo la tercera de las cuatro operaciones puedo ver puedo insertar puedo eliminar me queda actualizar la operación de actualizar probablemente es la operación más difícil que existe dentro de la creación de un panel de control Pero bueno no pasa nada tampoco vamos a ver có poco a poco pues lo podemos conseguir Así que para ello Así que para ello voy a crear el proyecto 31 y en el proyecto 31 voy a decir que eh crear qué pues no lo sé voy a crear no eh formulario de actualización botón de actualizar mejor botón de actualizar y para ello 31 panel de control y no y en las funciones donde tengo el botón de eliminar Pues voy a crear también un botón de acción no operación es actualizar ID lo quiero tabla sí que la quiero botón actualizar y no sé qué voy a poner un interrogante no sé qué puedo poner como carácter de actualización voy a poner un interrogante entonces en actualizar me voy al css me voy al panel y me busco el botón y el botón de actualizar voy a ponerlo como Yellow con lo cual el color Me tocará ponerlo como Black vamos a verlo envío entro y ahora a continuación me voy a usuarios Vale y veo que tengo Ese botón ahí no lo quiero Ahí no lo quiero bajo lo quiero a continuación Vale entonces en botón voy a decir display inl block tampoco vamos a verlo igual si este elemento fuera más grande s vale bien Pues bueno voy a decir en funciones que esto es operaciones entonces voy a decir que operaciones es un wid de 200 píxeles más que nada para que quepan los botones bien Ahora qué voy a hacer Bueno pues cuando hago así cuando le doy a operación actualizar Ah cuidado sí que necesito el ID sí que necesito el ID lo había eliminado pero no lo tengo que eliminar entonces ahí me quedo a ver espera me quedo el ID que Quiero actualizar este usuario el ID es el número dos Vale ahora que tengo esto voy a ahora que tengo esto voy a presentar el formulario de actualización pero el formulario de actualización va a tener una cosa bastante divertida Y es que es un poco una copia del formulario de inserción pero metiendo los datos Entonces a qué datos nos referimos pues vamos a ver aquí en panel de control en el caso de actualizar creo que era actualizar no me acuerdo actualizar sí formulario actualizar entonces en el formulario actualizar en las funciones vamos a verlo voy a hacer lo siguiente function formulario actualizar le digo Select all from get tabla Where identificador es igual a ID Y entonces para cada uno de estos elementos Okay voy a decir for each fila as columna campo esto lo pongo aquí esto lo pongo aquí esto lo pongo aquí y entonces digo name columna y digo value es igual a eh valor o campo vamos a verlo a ver si hay suerte entonces vengo por aquí me voy al 32 entro en el panel de control y al entrar en el panel de control vale entro en usuarios Ok voy a actualizar muy bien vale Y bueno veo que ha entrado correctamente veo que ha entrado correctamente Pero algún fallo tengo porque el placeholder no va así que bueno el placeholder sería columna si fuera Ok vale Ahí lo tengo y veo que puedo vale obtener los Campos veo que si he pinchado en el usuario de José Vicente pues veo que aparecen los datos de José Vicente Así que ahora tengo que acabar la esta parte difícil de actualización y acabar esta parte difícil de actualización pues va a consistir en procesar la actualización Así que 033 y proceso de actualización vale el proceso de actualización con consiste acción un momentín acción es igual a Bueno vamos a trabajarlo aquí Inc funciones vale el action es procesa bueno o actualizar realmente es una acción tabla es igual a tabla método es igual a post vale Ok entonces me voy a panel de control y digo en el caso de que sea Actualizar registro vale de la conexión y por lo tanto ahora en las funciones me voy a insertar registro lo duplico para convertirlo en actualizar registro y digo update tabla set vale Y ahora viene la cuestión set takat takat consulta we identificador es igual a get ID getd vale eh voy a No lanzarlo todavía voy a ecoc consulta más que nada para ver qué ocurre y ahora pues creo que ya no ya vale columna es igual a campo ahora sí creo que ya vale vamos a verlo entonces digo jarsa 2 le doy a enviar Hola No estoy en el sitio correcto me voy al proyecto y vale usuarios Ah mira Oh hok carsa 2 no se ve que no ha hecho lo correcto vale elimino este Okay modifico este hoc carsa 2 enviar vale Y andif riky ID okay venga abate usuarios set usuario es igual a jarsa 2 contraseña es igual a jarsa nombre es igual a José Vicente apellido es igual carela sanchis email es igual a esto we identificador es igual a esto ahí tenemos el problema vale y el problema está en que tengo que pasar el identificador tengo que ar el identificador a ver un momento actualizar tabla Ahí está y aquí tengo que decir and ID es igual a post identificador vamos a verlo usuarios actualizo ids igual a 2 Ahí está ahora sí vale entonces jarsa 2 le doy a enviar todo correcto pero no Por qué Pues porque el ID está vacío el ID está volviendo vacío por qué estoy en el proyecto 33 estoy en el proyecto vale el ID es igual a identificador el ID igual a dos enviar ID es igual a nada tiene pinta no es correcto vale Qué raro porque todo parece correcto pero evidentemente no lo es claro a ver por ahí sí que me coge el ID este es operación actualizar action es igual actualizaron Ah porque no estoy en el sitio correcto a ver vale No estoy en el sitio correcto ahora voy a estar en el sitio correcto Warning Ahí estamos ahí está el problema undefine ary identificador vale No es identificador es ID recargo formulario Ahora sí hoc carsa 2 le doy a enviar Ahora sí vale Y ahora por lo tanto ya puedo por último desbloquear la ejecución de la consulta eliminar el comentario con la confianza de que si pongo hok carsa 2 contraseña hok carsa 2 pues se cambiará a hok carsa 2 jarsa 2 lo cual quiere decir que ya puedo Eh pues ya tengo las cuatro operaciones ya tengo seleccionar tengo eliminar tengo básicamente de todo bien hay una cosa que me queda antes de digamos antes de empezar a dar por concluido el formulario que básicamente consiste en atrapar las dependencias foráneas es decir si yo creo si yo quiero gestionar una pregunta Pues claro aquí donde pone vamos a ver usuario dos un pues tendré que cambiar eso por las categorías correctas de la misma forma que si yo genero una nueva pregunta Pues en usuarios tengo que tener un desplegable con los usuarios y en categorías tengo que tener un desplegable con las categorías vale por lo tanto ahora a continuación Pues empezaremos a finalizar el panel de control implementando esta lógica Bueno pues vamos a finalizar esto que yo llamaría la parte esencial de este ejercicio eh diciendo que eh siempre que me encuentre algún campo que tenga un guion bajo en mi caso esto quiere decir que es un campo Que bueno que tiene un desplegable pues eh voy a hacer lo siguiente voy a decir que Quiero obtener un desplegable vale con los datos para ello vamos a crear un nuevo proyecto copio y pego 034 y proyecto qué Vale pues vamos a ver bueno campo desplegable externo y voy a hacer lo siguiente Dónde está brackets aquí no vamos a ver brackets aquí Vale pues en el proyecto cuando creo el formulario de vamos a ver aquí cuando creo el formulario de inserción formulario insertar Aquí voy a hacer lo siguiente vamos a ver si fila F Voy a hacer como creo que estoy ya con php8 tiene pues una serie de funciones voy a utilizar vamos a ver el strp si strp de fila Fil coma gu bajo no es igual a false entonces va a pasar algo y si no va a pasar otra cosa lo que va a pasar es lo siguiente hago así entonces pongo esto y aquí voy a decir hola con lo cual esto quiere decir que si voy aquí a por ejemplo preguntas y ejecuto una nueva aquí pregunta vamos a ver Ah si me voy al formulario voy al proyecto 34 y en el proyecto 34 vamos a verlo bien hay un eco por aquí eso quiere decir que me falta un punto y coma no vamos a ver Ah sí Y aquí esto Ok vale me voy a preguntas cre una nueva y allí donde debería haber un desplegable pues encuentro un Hola Bueno pues a continuación voy a decir que eco Select name es igual a f Field y Vale ahora veremos Cómo Ah punto y coma Sí vale ahora veremos cómo aparece un desplegable y en el desplegable voy a poner las opciones aquí de hecho option voy a decir selecciona desde dos puntos fila Fil para que sepamos desde dónde estamos seleccionando selecciona desde usuarios usuario selecciona desde categorías nombre bien y ahora a continuación vamos a ver selecciona desde Vale ahora a continuación voy a decir Select all Select vamos a ver Select explode con el carácter gu bajo de la Fil y quiero el índice cero from y quiero el índice un ahora has campo una vez que tengo la petición esto es la petición dos ejecuto la consulta resultado 2s es igual a la petición 2 y voy a hacer un pequeño While es decir una consulta dent de los resultados de la otra donde diré eco option y digo fila dos campo y en este caso además voy a decir que el value es fila identificador quiero Select identificador coma la consulta es esta Select identificador coma explode as campo coma from tabla vale Esta es la consulta completa para que la veamos mejor así que si todo esto es correcto un punto y coma parece que me falta si todo esto es correcto vale vamos a verlo que me falta algo o me he comido algo vale Select y dentro del Select fatal error proyecto usuario vale proyecto no es al revés es esto es el uno y esto es el cero Ah vamos a verlo ahora entonces usuarios jocars 2 categorías general o si voy a respuestas Pues creo una nueva usuarios jocars 2 preguntas primera pregunta vale vemos cómo colocamos correctamente los campos externos ahora un poco de estilo vamos a ver entonces digo estilo para el desplegable entonces me voy al 35 y el 35 Mientras tanto vamos abriendo por aquí el 35 en el css básicamente voy a decir que aquí donde encontramos los inputs vamos a verlo input pues input coma Select usuarios creo uno nuevo y perdón usuarios no preguntas creo una nueva y vemos como aquí con un poquito de css funciona correctamente Por cierto voy a crear una pregunta para comprobar que funciona usuario jarsa eh categorías general título segunda pregunta texto Este es el texto de la segunda pregunta fecha Bueno pues tenemos que haar de esto también vale le doy a enviar y este es el texto de la segunda pregunta categorías un usuarios dos vale veo que lo va insertando todo correctamente Pero cuidado esto ha funcionado únicamente en el formulario de insertar pero yo quiero que también funcione por ejemplo en las tablas entonces voy a hacer una subconsulta en la eh visualización en la vista en la tabla Así que vamos a la siguiente versión vale Y aquí donde pone que por ejemplo estoy trabajando con el usuario pues Quiero ver qué usuarios tengo es decir en preguntas tengo usuarios usuario Vale pues me voy al 36 y en el panel de control en las funciones vamos a ver Mostrar datos ahí lo tenemos Vale pues vamos a verlo digo si est reposo de la columna e tiene el guion bajo y no es igual a false en ese caso va a pasar una cosa si no pasará otra lo que va a pasar es esto vale Y si no va a pasar eco TD Y de nuevo hago una subconsulta petición dos es igual a Select from explode gu baj de la columna esto es el índice cero creo y vamos a ver Select índice 1 as campo y entonces Esta es la petición dos Este es el resultado 2 Esta es la fila 2s Y entonces as campo vale Y voy a decir Where identificador es igual a e cuidado esto es columna vale campo vale Y ahora eco fila dos campo si esto es correcto si esto es cierto estoy en el 36 vale voy a recargar vamos a ver vale usuarios pone jarsa 2 que es lo correcto e vamos a ver Esto es preguntas vale Aquí he puesto algún TD mal Ah cuidado a ver preguntas usuarios okay Ahí está el problema me lo pone varias veces vale me lo pone dos veces entonces If columna voy a quitar esto No parece es el problema No parece es el problema vale si aquí tengo un TD y ahí tengo un TD voy a bloquear esto me lo sigue repitiendo a ver usuarios Ah muy bien vale por esto me lo repite Okay no me había dado cuenta de que había duplicado ese código Vale ahora sí me voy a preguntas y veo que en usuarios pues ya no pone el número dos sino que pone el usuario jocars y en categorías pone general ya lo tengo en la visualización ya funciona correctamente con lo cual Pues ahora me queda prácticamente para acabar esto y ponerlo también en la actualización es decir si hago así pues veo como ahí donde pone vamos a verlo preguntas vale Ahí donde pone eh usuario hoc carsa 2 le doy actualizar y me dice que aparece esto aparece un dos y en la categoría me aparece un número uno por tanto aquí lo que tendré que hacer es pues seguir modificando seguir ampliando el proyecto ya prácticamente para final 037 proyecto y e desplegable en actualización es el proyecto 37 ahora iremos aquí al 37 Así que entramos Así que 37 vale Y en el 37 en panel de control en las funciones vamos a verlo en el formulario de actualización Ahí está pues voy a hacer prácticamente lo mismo que hace un momento que es lo siguiente si strp fila Field es igual a false de hecho me voy a copiar todo esto ya que estamos y lo pongo aquí y el els Lo pongo aquí interesante que vamos a ver aquí interesante que pongamos sangría Porque si luego cometemos un error pues la sangría nos permite ver mejor dónde hemos cometido un error bien pues Select name vale recargo por aquí preguntas edito esta pregunta vale undefine ar muy bien Vamos a verlo y decimos vamos a ver Ok Select name qué pues Select name columna selecciona desde columna vale Ok eh qué me falta o esos dos puntos no van vale Okay fila feld esto es columna vale aquí algo pasa pues vamos a ver qué error nos da Select y hay un error undefined key array Field pues array Field es columna vale vamos a por ello bien selecciona desde usuario selecciona desde categorías pero he perdido la categoría he perdido todo prácticamente vale Y esto quiere decir que ahora para cada uno de estos elementos tengo que especificar que a vamos a ver eco option fila campo eco option y ahora aquí cierro eco comillas y digo si el vali vale si el value es igual al campo en ese caso eco selected así de sencillo pongo un espacio antes pongo un espacio después recargo y veo que me muestra el desplegable pero me muestra el elemento que realmente corresponde es decir Yo puedo cambiar el elemento en el desplegable pero me aparece el elemento que realmente debería aparecer con lo cual pues ahora sí que ya prácticamente podemos considerar que tenemos el panel de control bastante más completo en el sentido de que podemos hacer un poco de todo podemos e podemos insertar podemos leer podemos eliminar podemos actualizar y el sistema coge correctamente las relaciones que haya entre las tablas que tenemos dentro de nuestra aplicación