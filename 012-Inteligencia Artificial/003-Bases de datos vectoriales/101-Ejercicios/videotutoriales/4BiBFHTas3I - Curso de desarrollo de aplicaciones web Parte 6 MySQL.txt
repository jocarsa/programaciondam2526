vamos a empezar a trabajar conectándonos a base de datos y para ello lo primero que tenemos que hacer es aprender cómo funciona una base de datos donde el motor de base de datos más común para conectar con php suele ser mysql no es el único que puede conectarse pero suele ser el más común en primer lugar vamos a comprobar si tenemos nuestro servidor se ha arrancado pero ahora mismo yo no recuerdo si arrancamos o incluso instalamos como servicio el motor de base de datos de mysql así que voy a ir a la carpeta de disco duro local voy a ir a la carpeta samp voy a ir a abrir el ejecutable de sham control e incluso os digo más lo voy a ejecutar como administrador para en un momento dado momento en un momento dado incluso poder ejecutarlo poder instalarlo como servicio bueno estoy arrancando por tanto el panel de control vamos a ver si aparece por aquí y en su momento arranque apache es más deje apache abierto como servicio pero no hice lo mismo con mysql porque hasta ahora estábamos aprendiendo a programar con php y no con mysql es un motor de bases de datos que viene integrado con el samp y del cual seguro que tenéis soporte en el proveedor de hosting que hayáis contratado así que lo que voy a hacer es pinchar esta pequeña cruz para marcar el servicio como instalado es decir que cada vez que arranque mi ordenador arranque también con mysql esto será efectivo con toda probabilidad a partir del próximo arranque del sistema operativo así que mientras tanto ahora mismo lo que voy a hacer es pulsar start para asegurarme que mysql arranca correctamente y por defecto siempre me arranca el puerto 3 0 6 si tengo alguna aplicación no es muy común pero si tengo alguna que por lo que sea esté usando el puerto 330 6 le puedo encontrar con el problema de que no pueda arrancar mysql pero hay muy pocas aplicaciones que usen este puerto con lo cual lo normal es que arranque correctamente para hacer por tanto lo que vamos a hacer a continuación necesitamos tener tanto apache como mayor sql arrancados correctamente y de color verde ahora que tenemos mysql arrancado vamos a ver que dentro del panel de control de shampoo existe una utilidad una herramienta dentro del último grupo llamado tools llamada php maya admite que hp miami es una de las maneras más sencillas de empezar aprendiendo mysql porque lo que nos proporciona es una interfaz visual muy sencilla de usar muy fácil de utilizar para crear nuestras primeras bases de datos y entender de la manera más fácil posible cómo funcionan lo que estoy viendo aquí por tanto es lo que tengo en la dirección del local host php my admin es una utilidad que viene con sanz desde hace muchas versiones por tanto no hace falta incluso ni tener la última con que tengamos una inferior a 4 ó 5 años de antigüedad pues viene predeterminada y tiene las siguientes partes lo que estoy viendo aquí es una interfaz visual para gestionar mi servidor mysql y veré que en la parte de la izquierda tengo un listado de las bases de datos que ahora mismo hay creadas vosotros no habéis creado ninguna base de datos pero cuando instaléis mysql por defecto viene con unas cuantas bases de datos de prueba algunas son de prueba como por ejemplo colección de cds o como por ejemplo tests algunas son de sistema como por ejemplo information esquema o performance esquema en definitiva yo nunca voy a tocar las masas de datos que vienen por defecto con samp lo que haré es trabajar sobre mis bases de datos que voy a crear a partir de ahora si a la izquierda tenemos un listado de las bases de datos que vienen por defecto en el sistema a la derecha tenemos una serie de botones con las cuales podemos gestionar podemos aplicar operaciones sobre esta base de datos para empezar y siempre una mirada arriba en la parte de arriba se me informa de donde estoy ahora mismo estoy en el servidor 12 7.0 puntos 0.1 que equivale a la ip de este servidor local así que hagamos lo que hagamos ahora lo veréis siempre tendremos que echarle un vistazo ahí arriba en primer lugar voy a empezar por el primer botón de esta fila de botones de ese menú de botones llamado bases de datos así que en bases de datos veré por una parte que puedo realizar operaciones sobre las bases de datos ya existentes ya sabéis que esto no lo quiero hacer o bien puedo crear una base de datos nueva así que voy a empezar creando me una primera base de datos para comparar con el ejercicio que probablemente hemos hecho anteriormente el de agenda voy a llamar a esta base de datos agenda cuidado atención porque se sigue una regla de nomenclatura que es muy parecida a las reglas de declaración de variables en los lenguajes de programación y es que se puede poner agenda uno pero no se debe poner una agenda así que vamos a hacer que siempre las bases de datos empiecen con un carácter alfanumérico es decir con una letra puedo poner agenda a uno puedo poner la agenda guión bajo uno pero en definitiva no debería empezar con un número voy a llamar por tanto a esta base de datos agenda ya continuación un parámetro algo más extraño es el cotejamiento veréis que tiene una gran cantidad de opciones preparadas para crear semos y simplemente nos dice con qué juego de caracteres vas a operar es decir qué juego de caracteres vas a introducir en esta base de datos por lo que es lo mismo sobre qué país vas a trabajar si yo por ejemplo entro dentro de ute efe y juegos para croata checo danés esperanto estonio alemán húngaro islandés lituano persa polaco románico rumano eslovaco en definitiva son juegos de caracteres optimizados para los caracteres que usan cada idioma particular bien nosotros lo que vamos a hacer es ir abajo del todo hasta que encontremos en el penúltimo lugar un juego de caracteres llamado f8 el lute efe 8 es el correcto para europa occidental y prácticamente todo el mundo occidental dentro de este juego de caracteres por 13-8 y si bajamos a la s encontraremos spanish y spanish 2 español y español e internacional en principio nos da igual cualquiera de los dos podemos cualquiera de los dos así que creó una base de datos llamada agenda y le digo que voy a trabajar en 13 8 spanish qué pasa curiosamente si no escoges ningún cotejamiento cuando creas una base de datos lo que ocurre es que por defecto se pone el cotejamiento en idioma sueco y esto es así porque mysql originalmente antes de ser comprada por sam y antes a su vez de ser comprada por oracle era una empresa sueca por tanto un poco como un guiño al programa original por defecto la cotización del corah miento se pone en sueco vale pero si le decimos que vamos a trabajar en defensa en español no habrá ningún problema una vez que he puesto el nombre de la agenda y le he dicho el cotejamiento de caracteres voy a decirle crear tras lo cual atención muy importante la base de datos agenda ha sido creada y podré comprobar por aquí a la izquierda como sin darme cuenta prácticamente ha aparecido una nueva base de datos llamada agenda pero atención y aquí es donde todo el mundo comete el error por haber creado una base de datos no quiere decir que automáticamente haya entrado dentro de ella fijémonos siempre aquí arriba que me dice que yo no estoy dentro de una base de datos yo estoy dentro del servidor de la raíz del servidor así que lo que tengo que hacer es pulsar aquí agenda y ahora comprobaremos cómo estamos dentro del servidor pero también dentro de la base de datos agenda observo que no se han encontrado tablas en la base de datos por supuesto cómo se iban a encontrar tablas si la acabo de crear desde cero esto es lo que tiene que ocurrir y para cerrar este vídeo voy a decir que si en algún momento en algún caso creáis una base de datos y os equivocáis o bien al poner el nombre o bien al poner la colación no pasa nada porque todo esto más adelante se puede modificar con relativamente poco impacto más traumático es cuando ya tienes una aplicación en funcionamiento estando la aplicación en funcionamiento cambiar parámetros como estos no digo que no se pueda digo que es traumático digo que nos puede dar errores pero por lo menos veréis que mysql es un motor de base de datos que en cualquier momento nos deja cambiar prácticamente cualquier tipo de parámetro como os podéis imaginar lo primero que solemos hacer al entrar dentro de una base de datos vacía es crear tablas si el servidor contiene bases de datos las bases de datos a su vez contienen tablas así que en este caso voy a crear una tabla dentro de la agenda llamada contactos al crear la tabla de contactos se me pide que introduzca cuál es el número de columnas así que cuál es el número de columnas la cuestión es no lo sé yo de momento lo que suelo hacer siempre es poner un número 5 o poner un número 10 sabiendo que si luego me falta en columnas voy a poder añadir más columnas tantas como quiera y si luego me sobran aquellas columnas que se queden vacías simplemente el programa las va a descartar así que de momento por ejemplo voy a poner 5 campos y pulso continuar una vez que especificado que voy a crear estos cinco campos aparece esta ventana en la que se me invita a indicar cuál es la estructura cuál es la nomenclatura de cada uno de esos campos os voy a decir que vais a tener bastante libertad para especificar cuál es la estructura de vuestra tabla dentro de la base de datos pero sin embargo os voy a poner una condición solo una condición y de hecho nos la pongo yo realmente la pone mysql en todas las tablas que creemos salvo en algún caso y porque esté justificado pondremos siempre un primer campo como un identificador único y autonómico por tanto voy a poner en la primera columna veis como he pedido 5 de abarth en cinco huecos el nombre de columna y de el ide es algo así como el dni de ese registro es un número único para identificar inequívocamente a ese registro es algo que no es obligatorio dentro de mysql pero aumenta o contribuye a aumentar la integridad de los datos es decir el asegurar que vamos a poder localizar en un momento dado un dato sin margen de error para que haya duplicados a continuación tengo que tipificar el dato tipificó el dato diciendo qué tipo de dato va a ser hay cuatro grupos principales creo que sí son cuatro que son de interés número entero marchar de pequeño texto de texto grande y de it para fecha en mi caso como el identificador va a ser un número entero voy a dejarlo como int como integral aunque también os tengo que decir que el motor mysql viene con muchos otros tipos de datos como por ejemplo tiny int entero minúsculo entero pequeño medio entero gran entero decimal de coma flotante de doble precisión número real bit bull 'enano' fechas cadenas e incluso datos espaciales como por ejemplo geometría para introducir coordenadas tridimensionales en principio por tanto vamos a poner un número entero ya continuación ya en este parámetro en longitud de valores es donde mucha gente se acaba confundiendo voy a poner el número de caracteres que podrá tener ese número si yo pongo 2055 la gente suele pensar que el número entonces podría ir de 0 a 255 y no es así es el número de caracteres que puede tener mi número por tanto puede tener 9 y 254 9 es detrás es una cifra con 255 huecos con 255 números así que en mi caso lo que voy a hacer es poner por ejemplo 10 equivale a tener 99 millones de contactos por eso digo que perdona 99 millones de contactos no equivale a tener un billón de contactos no hasta 9 hasta 10 millones de contactos por tanto 10 parece un número minúsculo para introducir una idea pero con 10 ya puede tener 10 visiones de contactos lo cual está bastante bien y por último para este campo y atención solo para el campo de ive lo que voy a hacer es aquí un poco más a la derecha voy a decir que este campo es un índice primario y es auto incremental es un índice primario ya que es algo así como el dni de la tabla es el campo que sirve como identificador primario de la tabla y además auto incremental si aparece un registro con el número uno quiero que a continuación el siguiente que ponga sea el número dos y el siguiente el número tres y no lo quiero gestionar eso yo manualmente quiero que me lo gestione el motor automáticamente así que una vez que tengo este primer campo voy a continuar con los demás puedo poner por ejemplo nombre y cuidado nombre no puede ser un campo de número entero así que en este campo voy a poner marchar no texto ya que marchar equivale a un texto pequeño digamos un párrafo de un libro mientras que texto equivale un texto grande puede ser un libro en sí mismo así que marchar y ahora cuántos caracteres ponemos pues por ejemplo voy a poner 255 yo en este caso solo aplicar la regla de más vale que sobre que falte es decir más vale poner un campo grande y que luego no haya nadie que tenga un nombre de 255 caracteres que no poner 10 caracteres y que alguien tenga un nombre de 12 caracteres no pueda guardar su campo no puede almacenar su campo por tanto por eso os decía que suelo seguir la regla de más vale que sobre que falte voy a advertir una cosa y es que estoy haciendo esta regla un poco para curarme en salud y saber que no voy a tener problemas al introducir datos pero esta regla que estoy tomando un poco a la ligera iría en contra de la eficiencia si yo estoy usando mucha más memoria de la que realmente voy a necesitar en lo que puedo acabar finalmente es en una base de datos que gaste mucha más memoria de la que realmente necesitaría por tanto no digo que no nos vayamos no nos vamos a preocupar de eso no nos vamos a preocupar ahora que es nuestra primera base de datos hay una regla dice que hablaremos de ella que dice que la optimización prematura es el origen de todo el mal entonces preocupémonos de saber hacer bases de datos y más adelante nos preocuparemos de optimizar las tengo ya por tanto como veis aquí el segundo campo que es nombre así que por qué no podría hacer apellido uno sería un campo marchar de 255 caracteres apellido 2 sería un campo marchar de 255 caracteres ya tengo por tanto tres campos para almacenar un nombre y dos apellidos los nombres de las columnas no deberían empezar con un número fijándonos que he puesto apellido 1 y apellidos y esto es perfectamente válido por otra parte podría hacer que los nombres de las columnas empezarán con mayúscula o en definitiva que tuvieran mayúsculas sin embargo yo por costumbre lo que suele hacer es ponerlo todo en minúsculas por una razón muy sencilla ahora estamos creando una base de datos pero como os podéis imaginar nuestra finalidad última es conectarnos a esa base de datos desde un lenguaje de programación cuando nos conectemos veréis que cometes errores de sintaxis derivados de escribir mal el código del programa pero hay otra serie de errores que son errores lógicos o errores de sincronización que no dependerán del lenguaje de programación así que muchas veces nos pasa que ponemos apellido con mayúsculas en la base de datos pero llamamos apellido con minúsculas desde el lenguaje de programación y de repente por alguna razón que desconocemos no encuentra el dato que estoy pidiendo y me puedo tirar media tarde la tarde entera para al final darme cuenta que él una falta de sincronización en las mayúsculas así que lo que suelo hacer para evitar este tipo de problemas es no poner mayúsculas en los nombres de los campos evidentemente dentro de los datos de la tabla si hace falta pondré mayúsculas y pondré ñ y pondré acentos todos los que haga falta pero como regla para evitar estas colisiones no solo poner mi acentos ni en es ni mayúsculas dentro de los nombres de las tablas creamos a continuación unos pocos campos más como por ejemplo el teléfono iría con acento pero evidentemente lo que voy a hacer es no ponerlo con acento cuidado porque teléfono podría ser un campo entero pero qué pasa si pongo el 34 el signo más ya no es un número de entero qué pasa si el prefijo del país lo pongo entre paréntesis el paréntesis ya no es un número entero por tanto qué pasa si alguien me separa los números del teléfono con guiones de lección ya no es un número entero así que a menos que introduzca una regla de validación con la cual obliga a los usuarios a poner todo y caracteres enteros si no realiza esa regla de validación por defecto voy a especificar marchar y una vez más tendré que ver cuántos caracteres como máximo puede tener un teléfono por defecto voy a poner 20 parece que tengo ahora un problema y es que me he quedado sin columnas había especificado que quería cinco columnas iniciales pero ocurre que de repente me doy cuenta de que necesito más por ejemplo me harían falta dos columnas más para poner el teléfono y para poner el email así que lo que puedo hacer muy fácilmente es aquí arriba agregar una columna no digo que quiero agregar dos columnas pulsa el botón continuar y comprobamos cómo en un momento aparecen dos columnas más pues no había dicho que lo que suelo hacer es poner cinco o diez y si luego me faltan simplemente puedo añadir nuevas columnas dinámicamente con esta utilidad voy a escribir ahora email donde el email será un marchar será un texto y va a tener como mucho 255 caracteres y por último voy a poner teléfono email y dirección y la dirección va a ser simplemente un marchar de 255 caracteres ya tenemos por tanto los siete campos que necesitamos para esta tabla inicial y una vez que hemos seleccionado estos campos podremos pasar a las siguientes opciones comentarios de la tabla no son en absoluto obligatorios pero siempre son recomendables en esta tabla vamos a guardar los contactos de la agenda como motor de almacenamiento en las últimas versiones de mysql viene por defecto un motor de base de datos llamado y no debe en las naciones más antiguas de mysql venía mi isám no merckx más aunque vine aquí en cualquier momento más adelante lo podremos cambiar pero por defecto el setting que viene por defecto y no debe es correcto en cuanto a cotejamiento yo podría indicar un cotejamiento diferente del general para esa tabla concreta por ejemplo imagínate que a una tabla llamada usuarios coreanos en este caso lo que haría es el cotejamiento de esa tabla ponerlo en coreano si no pongo nada se asume que el cotejamiento de esa tabla es el mismo que el de la base de datos principal y en definición de partición en principio todavía no vamos a poner nada así que por último voy a pulsar el botón guardar para guardar estos cambios veremos por tanto lo podemos ver aquí que ahora nuestra base de datos agenda tiene una tabla contactos se hago clic en la tabla contactos veremos que estoy atención ahí arriba en el servidor local en la base de datos agenda y en la tabla contactos y además aparece el comentario opcional que hemos puesto en esta tabla vamos a guardar los contactos de la agenda y simplemente aparece un mensaje que no es de error y dice mysql ha devuelto un conjunto de valores vacíos es decir 0 columnas esto quiere decir simplemente que has creado una nueva tabla pero nuevas metidos datos por tanto es normal que el resultado sea de 0 columnas es decir el resultado sea vacío una vez que tenemos nuestra tabla recién creada y por supuesto está vacía depende de la versión de php miami en la que estéis quizás os permite entrar dentro de la pestaña examinar y os dice que no hay nada o alguna versión de péretz my admin lo que puede hacer es saltar directamente a la segunda pestaña de estructura y no dejarlos entrar en examinar hasta que no tengáis registros es un poco lo de menos lo que vamos a hacer ahora es empezar trabajando con las cuatro operaciones básicas de una base de datos de tipo sql y evidentemente mysql es una de estas bases de datos las cuatro operaciones son las o prefieres cruz que son create read update y the lead crear leer actualizar y eliminar la primera con la que vamos a trabajar por tanto es create es crear vamos a insertar la pestaña de insertar me permite insertar nuevos registros dentro de la base de datos atención el campo y de no quiero que lo toquéis porque el campo y hemos especificado que va a ser auto incremental o sea que lo va a gestionar automáticamente la base de datos ahora quiero introducir un registro que va a ser juan garcía lópez su teléfono es este de aquí su email es info -juan puntocom y su dirección es calle de juan número 4 si pulso continuar y no quiero que introduzcas nada dentro de y de si pulso continuar observaréis que aparece un mensaje de validación donde dice se ha insertado una fila y la ide de la fila insertada es 1 la y de la clave primaria auto incremental de esa fila es 1 aparece algo muy curioso aquí que es un montón de texto que lejos de ser un error es una sentencia de inserción sql veréis cuando habéis sido insertar ya habéis insertado un campo lo habéis hecho mediante un formulario visual lo que hace el programa es decirte mira que sepas el comando sql correspondiente a la acción que acabas de hacer es este de aquí y esto es algo que me gustaría que no si queréis ahora mismo pero a partir de ahora poco a poco cada vez que hagamos algo en sql nos vayamos fijando en cuál es el comando sql cuál es la sentencia sql correspondiente porque al final tendremos que gestionar mysql desde el lenguaje de programación y desde el lenguaje de programación no habrán estas ayudas que aparecen en medias como formularios no es algo que quiero que hagáis ya mismo pero quiero que poco a poco os vayáis fijando para ver que siempre que insertamos algo en una base de datos si os fijáis es insert into agenda contactos o sea insertar dentro de la base de datos agenda tabla contactos que tiene estos campos de aquí los valores y estos valores de aquí tengo que decir que el lenguaje sql la base de datos mysql son en principio lo menos atractivo de aprender para todo el mundo pero por puro desconocimiento porque esos pones a leer sentencias sql veréis que si sabes inglés prácticamente sabes sql son sentencias escritas en un lenguaje como veréis bastante claro ya tengo por tanto la primera inserción pero no contento con esto quiero realizar un par de inserciones más así que me vuelvo a la pestaña de insertar y ahora quiero insertar a jaime con el apellido lópez pues no sé juárez su teléfono es este su email es info jaime puntocom y su dirección es calle de jaime número 54 pulso continuar y vuelvo a esta ventana en la que se me informa que he introducido el registro correctamente voy a insertar por último dentro de este vídeo un par de registros más tengo a jose tengo apellido no sé garcía márquez su teléfono es éste su email info jose puntocom y su dirección es calle de jose número 6 y por último un cuarto registro ya sabéis que nunca tocó el id porque es auto incremental quiero que lo gestione automáticamente la base de datos tengo a julia su apellido es ruth su apellido es esa ropa y el teléfono es estado aquí el email es info julia puntocom y la dirección es calle de julia número 67 así que pulso continuar y ya tengo cuatro registros correctamente insertados dentro de la base de datos una vez que hemos aprendido aunque sea a nivel de formulario a crear nuevos registros dentro de la base de datos vamos a aprender a leer los fijados que dentro de la estructura cruz la ce es de create de crear la r es de ruiz de leer así que para leer la base de datos es decir para obtener un listado de la base de datos simplemente tengo que ir a la pestaña examinar y dentro de la pestaña examinar en cualquier momento voy a ver un listado con los registros que hasta ese momento e insertado puede observar que hasta el momento han sido cuatro y es más puedo observar que el número ide se ha asignado de manera completamente automática e incremental sí ya sabemos crear y ya sabemos leer nos faltan las dos operaciones que son actualizar update y eliminar de lead para actualizar un registro simplemente lo que tengo que hacer es evitarlo así que vengo a la edición del registro y digo que por ejemplo este cuarto registro pues o editar y digo que su teléfono va a ser 1 1 simplemente pulsó el botón continuar y comprobaréis como el teléfono ha sido actualizado correctamente lo único que tengo que hacer para actualizar un registro por lo menos a través de la interfaz de usuario pulsar editar y en el formulario que sale a continuación realizar la modificación que quiera y por último botón continuar igual de fácil mediante el formulario que es realizar una actualización o una edición es también realizar un borrado si yo quiero eliminar un registro simplemente tengo que pulsar el botón borrar como cualquier borrado de datos siempre es peligroso antes de realizarlo el programa me pregunta que confirme realmente deseo eliminar desde agenda donde el ide es igual a 4 en este caso voy a pulsar ok tras lo cual comprobar que he eliminado correctamente el cuarto registro hemos visto por tanto lo fácil también que es actualizar y que es eliminar las cuatro operaciones básicas por tanto son insertar leer actualizar y eliminar pero actualmente hay una operación que se considera imprescindible que es la operación de búsqueda la búsqueda aunque no lo parezca realmente es una selección con condiciones por tanto lo que voy a hacer a continuación es simplemente decir que por ejemplo quiero buscar un registro cuyo nombre sea hwan por tanto continuó y aparece el registro o los registros porque podría haber varios que cuadran con esa condición que cuadran con juan también puedo atención buscar elementos que empiecen con jota pero si yo pulso buscar si yo pulso continuar no quedará ninguno esto es por lo siguiente cuando yo pongo un operador de tipo like lo que estoy especificando es que quiero una coincidencia bastante exacta en cuanto en cambio cuando pongo un like con almohadillas lo que va a aparecer es todos aquellos nombres que tengan jota en el nombre así que me aparecen juan jaime y jose si nos fijamos y es más si leemos el enunciado dirá select el from contactos selecciona melo todo de contactos donde el nombre tenga una jota así que como veis por tanto finalmente una búsqueda básicamente es una selección de base de datos pero introduciendo condiciones donde una manera de introducir condiciones poner la orden en la cláusula web algo muy importante cuando creamos una base de datos y antes de aprender nada más deberíamos hacerlo ya es introducir privilegios es decir especificar qué usuario o qué usuarios tienen acceso a esa base de datos y especificar qué puede hacer cada usuario concreto los privilegios dentro de una base de datos se establecen de la siguiente manera en primer lugar no quiero estar ya en la tabla contactos quiero estar en la base de datos agenda ya que no quiero establecer privilegios por nada la concreta quiero saber es el privilegios para una base de datos concreta así que en primer lugar hago clic aquí arriba o hago clic aquí a la izquierda para que aquí arriba ponga a base de datos agenda a continuación veo que ha desaparecido privilegios de esta barra pero esto es porque en mi pantalla no me caben más botones por eso me voy a más y observó que dentro de más existen todos aquellos botones que no cabían previamente y me voy a privilegios depende de qué resolución de pantalla tengáis vosotros igual os ha cabido aquí en mi caso no dicho por tanto privilegios y observo que ya existe un usuario llamado root en castellano raíz con acceso a la base de datos el usuario raíz es un usuario que existe siempre en mysql es el superusuario el súper administrador que administra todo el sistema de base de datos en este servidor ahora bien los sistemas windows difieren de los sistemas unix en cuanto a que por ejemplo en champ para windows tu puedes crear un ph promedia admin tu puedes instalar como yo voy a instalar una base de datos y no se te obliga a poner una contraseña de administración es decir cuando yo estaba en champ simplemente he entrado dentro del próximo media min y nunca se me ha perdido una contraseña si alguna vez instalar mysql php inmediatamente sobre un sistema unix por ejemplo un linux por ejemplo mac os puede ocurrir que os obligue a poner una contraseña de superusuario al instalar y no os deje entrar si no ponéis la contraseña correcta por tanto en este caso para que ahora mismo estoy con sap y estoy en windows es normal que yo haya entrado como root y no se me haya pedido de la contraseña no es una práctica muy segura pero tengamos en cuenta que estoy con un servidor de prueba no con un servidor de producción en todo caso nunca debería conectarme a una base de datos como root por tanto lo que voy a hacer es agregar un nuevo usuario para esta base de datos al pinchar sobre agregar usuario aparece este formulario donde define cuál es mi usuario por tanto nombre voy a ser poco original para que cuando me conecte desde la programación recuerde los datos el nombre de usuario es agenda usuario como os podéis imaginar este es un nombre muy inseguro porque cualquier hacker que quisiera reventarme en la base de datos probando podría bueno agenda y usuario verdad pero ahora mismo nuestra intención es a aprender mysql más adelante nos preocuparemos de la seguridad cuál es el servidor es local por tanto el hijo local y observo como por aquí aparece el localhost cuál es la contraseña atención la contraseña es agenda password confirma la contraseña agenda password y atención si ya habéis rellenado este campo de contraseña ya habéis confirmado la contraseña no es necesario generar contraseña porque eso generaría una nueva así que no pulses ahí base de datos para el usuario otorgar todos los privilegios para esta base de datos agenda y por último no voy a marcar nada de esto pero simplemente podría elegir especificar cuáles son los permisos concretos para un usuario por ejemplo podría seleccionar pero podría no tener permiso para insertar o no tener permiso para actualizar o no tener permiso para eliminar podría crear por no alterar ni eliminar ni crear rutinas ni ejecutar no voy a poner nada y al no poner nada se me asignan todos los permisos o simplemente deciros que en un momento dado se pueden crear usuarios con limitaciones en el tipo de operaciones que puedo realizar o limitaciones en los recursos gastados por ejemplo el usuario no puede hacer más de tantas peticiones por ahora más de tantas actualizaciones por ahora más de tantas conexiones por ahora y más de tantas conexiones de usuario por ahora sí está a cero quiere decir infinito pero quiere decir que este usuario puede hacer las peticiones actualizaciones y conexiones que quiera en principio como ahora mismo estamos creando una base de datos para conectarnos nosotros como administradores vamos a dejar todo esto a cero imaginaos que un día hacéis una base de datos para una empresa muy grande donde hay muchos trabajadores y cada uno en un momento dado puede empezar a realizar peticiones a lo loco podría ser que si se juntan muchos trabajadores a la vez se podrían tumbar el servidor de bases de datos podrían pedirle al servidor más de lo que puede ofrecer por eso en ese caso nos interesaría establecer limitaciones pero de momento no lo vamos a hacer así que vamos a pulsar continuar y vamos a finalizar la creación de este nuevo usuario para esta base de datos finalmente los botones de por ejemplo simplemente una tabla los botones de insertar buscar borrar editar están muy bien porque nos permiten gestionar visualmente nuestra base de datos pero tenemos que saber que finalmente nuestra base de datos no la vamos a gestionar visualmente sino que la vamos a gestionar mediante el lenguaje sql cuando lleguemos al lenguaje de programación ahora a continuación nos veremos por tanto un buen entrenamiento para ver las bases de sql antes de saltar al lenguaje de programación es pinchar en esta pestaña donde tienes un pequeño campo de pruebas y donde puedes empezar a probar cosas dentro de sql fijaos que tenéis las cuatro operaciones principales select all select lo que quieras en definitiva seleccionar o lo que es lo mismo leer insertar e insertar registros update actualizar registros de lead eliminar registros vamos a empezar con la selección más sencilla que es select asterisco quiere decir todo from contactos así que en este caso lo que estoy haciendo simplemente es especificar que quiero listar la tabla de contactos pulso continuar y si todo ha ido bien el resultado de esta petición es simplemente un listado si os fijáis mirad cuando el pulso en examinar básicamente tengo eso básicamente tenía select all from contactos seleccionar todo de contactos ahora cuando seleccionó todo de contactos puedo empezar a establecer condiciones una tabla una cláusula de condición por ejemplo el software así que voy a decir where nombre es igual comillas a juan el nombre de la columna no hace falta que se ponga entre comillas pero el valor que se está buscando sí que debe ponerse entre comillas a menos que fuera un número y como en este caso no lo es pues hay que poner comillas estoy realizando una búsqueda selecciona velo todo de la tabla contactos pero ojo donde se cumpla la condición de que el nombre sea juan pulso continuar y me encuentra correctamente el registro juan acá vamos a hacer por tanto una búsqueda con una condición usando sql más cosas además de where no en lugar de sino además de where tengo otras cláusulas como por ejemplo order by y d quiero seleccionar todo de contactos y lo quiero ordenar por él y de ascendiente es de menos a más continuó y observamos como menos seleccionado 1 2 y 3 me lo ordena por ir de menos a más pero qué pasa si pongo ctesc quiero ordenar por el id descendiente quiere decir que primero los números más grandes y luego los números más pequeños pulso continua y observaréis como aparece 321 tengo el mismo listado pero ordenado de manera diferente no sólo me lo puede ordenar por un campo numérico también me lo puede ordenar por orden alfabético ordena melo por nombre ascendiente por orden alfabético evidentemente por tanto pulsamos continuar y comprobamos como primero va a jaime luego va a jose j y por último bajo an j vemos por tanto como order by me sirve tanto para una cosa como para la otra así que veremos que las opciones de selección en sql son tan sencillas como poner select all from tabla y a partir de ahí empezar a establecer peticiones continuamos con una inserción así que hay varias maneras de insertar en sql una muy sencilla es la siguiente inserto en tu contactos values abro paréntesis y cierro paréntesis y dentro de los paréntesis atención tengo que poner el mismo número exacto de campos que hay en la tabla si pongo un campo más o pongo un campo menos no funcionará por tanto yo lo que suelo hacer es poner lo siguiente 1 2 3 4 5 6 7 1 2 3 4 5 6 7 poner una serie de comas para saber que tengo que separar los campos el primer campo es un campo y de auto numérico primario siempre que encontréis siempre que estáis insertando algo dentro de un campo primario autor médico tenéis que poner null le dice a la base de datos a peñate y ponme hay un incremental a continuación nombre pues quiero poner a javier como es un texto va entre comillas a continuación apellido lópez a continuación segundo apellido garcía a continuación teléfono lo he puesto como una cadena de caracteres no como un número por tanto con comillas a continuación el email info javier puntocom y por último veis el último espacio de la coma la dirección calle de javier número 5 por cierto que deberíamos poner al final de cada sentencia sql un punto y coma cuando estamos haciendo una única sentencia sql no pasa nada por no poner punto y coma pero más adelante podemos querer hacer varias sentencias sql en una sola petición así que es bueno que nos vayamos acostumbrando a poner un punto y como al final si no ha habido ningún error y no debería haber habido un error le voy a dar a continuar siempre que hay un error no digo siempre pero digo el 95% de los casos es porque aquí hay un número de columnas y allí hay un número diferente de columnas debemos hacer que los datos sean los mismos le doy a continuar y si todo ha ido bien me dice mysql ha devuelto un conjunto de valores vacíos es decir cero columnas si ahora me voy a examinar vamos a ver a examinar nos daremos cuenta como ahora tengo a javier me ha puesto el ide número 5 porque no ha rellenado el ide número 4 que yo había utilizado antes y no quiero que lo rellene de hecho puede parecer lo contrario pero lo que me interesa es que utilice un número de aire que no había utilizado hasta ese momento hemos visto por tanto como la sentencia de insert into voy a insertar otro valor insert into contacto esta sentencia nos permite insertar nuevos valores dentro de la base de datos 1 2 3 4 5 6 7 antes de empezar me haga un poco de espacio y digo que jose o por ejemplo jacobo no lo sé herrero garcía con este teléfono con este email info jorge puntocom y con calle de jorge número 67 me inserta un nuevo registro dentro de la base de datos lo importante en este caso es que aquel campo que iría con ive aparezca la palabra null que vaya a decir nada 0 quiere decir ponle tu vida que le corresponde continuó y si todo ha ido bien me debe dar un mensaje de ok y si algo no ha ido bien como ya os digo en la grandísima mayoría de los casos es porque si la tabla requiere siete campos o la habéis puesto seis o la habéis puesto 8 dos operaciones más la primera de ellas update que me sirve para actualizar es peligrosa al igual que delito porque mirad si digo update vamos a ver contactos y por ejemplo voy a poner teléfono es igual mira a 111 esta secuencia sql es peligrosa porque yo no estoy especificando a quién le quiero actualizar el teléfono y por tanto lo que ocurrirá dejadme comprobar que no tengo ningún error lo que ocurrirá es que cuando lo voy a continuar las 5 filas han sido afectadas y cuando lo que he hecho es que a todo el mundo le he puesto el teléfono 111 y esto no debería ser así la manera correcta de escribirlo sería la siguiente update contactos set teléfono es igual a 222 por ejemplo y le pongo una cláusula web de condición where nombre es igual a juan cuidado porque si tuviera varios juan en la lista le cambiaría a todos los juanes a la vez por tanto se puede poner también donde el nombre sea igual a juan y apellido sea igual a garcía es decir localizar mejor un registro concreto comprobamos ahora como si pulso continuar lo que he hecho es realizar una actualización mediante el lenguaje sql y ahora sólo a juan le he cambiado el teléfono de 111 a 22 o lo que queramos simplemente podemos actualizar cualquier registro o cualquier pack de registros mediante el comando sql update yo tengo ahora por ejemplo a juan garcía quiero localizar al usuario con algo mayor de precisión no solo por su nombre sino también por su apellido así que me voy a sql y le digo que quiero update contactos set teléfono es igual a 33 333 y pongo un operador william o de andar where nombre es igual a juan and apellido 1 es igual a atención era garcía voy a poner lópez sólo quiero actualizar el teléfono donde el nombre sea juan y el apellido sea lópez me juan no es juan lópez es juan garcía por tanto continuó y me dice que 0 filas han sido afectadas no es que haya un error es que 0 candidatos han sido encontrados y fijémonos que juan sigue teniendo el teléfono 2 2 pero si yo ahora vuelvo y pongo y apellido sea igual a garcía comprobaremos como ahora y sólo ahora una fila ha sido afectada y por tanto habrá juan tiene el teléfono 333 mediante operadores bull ya nos and y ahora podemos seleccionar diferentes tipos de elementos por ejemplo el operador ahora me serviría para decir quiero cambiar los teléfonos a javier ya jacobo así que me voy a sql y digo quiero poner el teléfono 44 donde el nombre sea javier o bien sea cierto por nombre o sea igual a jacobo por tanto continuó observar que dos filas han sido afectadas y si ahora examino comprobar como el 444 se ha asignado tanto a javier como a jacobo por último la sentencia de sql correspondiente a delito correspondiente a eliminar así que voy a hacer lo siguiente del lic contactos y cuidado porque en este caso puedo tener el problema de que si continúo me puedo cargar todo así que para no hacerlo antes ya lo he hecho en el update voy a poner un web where nombre es igual a juan así que guardo recargo me dice realmente deseas hacer esto no me lo ha preguntado hasta ahora siempre que hago un delito como es una operación muy delicada la eliminación de datos en una base de datos es algo que en principio no es deseable ya veremos por qué pero le voy a aceptar por tanto una fila ha sido eliminada y ahora me voy a examinar comprobaréis como no tengo el usuario con y de igual a 1 queda juan y voy desde el 2 hasta el 6 es decir acabo de eliminar un usuario en los operadores ya que estamos puedo eliminar rangos de usuarios por ejemplo quiero eliminar el 5 y el 6 como lo haré pues puedo decir lo siguiente de live from son contactos donde vive es mayor que 4 5 cumple esta condición 6 cumple esta condición por tanto cuidado porque converso la sentencia sql puedo eliminar un buen rango de usuarios así que pulso continuar y me dices realmente deseas esto le voy a decir que quiere aceptar y por último me dice que ha afectado dos filas y finalmente me voy a examinar comprobaré cómo me he quedado con dos usuarios con respecto a la tabla original