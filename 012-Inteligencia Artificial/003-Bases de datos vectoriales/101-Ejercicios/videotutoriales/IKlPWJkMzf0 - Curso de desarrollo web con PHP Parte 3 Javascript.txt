a continuación vamos a trabajar con javascript primero que vamos a ver es Cómo meter javascript Y dónde meter javascript es un lenguaje que puede ir suelto o se puede integrar con html vamos a hacer unos primeros ejemplos integrando javascript con html para no tener que trabajar desde el principio con dos archivos diferentes Aunque al final lo haremos crear un Head y voy a crear un boy por regla general javascript va dentro de la cabeza aunque también hay veces que puede ir dentro del cuerpo cuando tú quieres cargar un Script y se y que se quede en memoria para usarlo cuando quieras eso se hace en la cabeza cuando quieres un Script que solo se va a usar particularmente en un lugar específico de la web Entonces se mete en el cuerpo la recomendación es meterlo en la cabeza para meterlo en la cabeza lo que voy a hacer es crear una etiqueta Script claro hay muchos tipos de Script que se pueden usar voy a hacerr dar la etiqueta Script y voy a continuar diciéndole al programa Qué tipo concreto de Script voy a usar para que no se confunda aún así Si ponéis Script y no ponéis nada más casi todos los navegadores hoy en día entienden que Script es javascript pero no está adás que yo le diga que el tipo es texto barra javascript si yo no pongo nada más se entiende que voy a escribir el javascript aquí dentro si yo quiero llamar a un archivo externo simplemente tendría que poner src igual comillas y mi javascript con extensión javascript esto sería si fuera externo pero hoy no lo va a hacer por tanto voy a borrar esto y voy a quedarme con esta etiqueta atención si yo pongo aquí Hola fijaos que Hola apece de color negro igual que con css entre la etiqueta de estilo y la etiqueta de estilo todo lo que se escribe es css en javascript entre la etiqueta de Script y la etiqueta de Script todo lo que se escribe es javascript atención Mirad a la pantalla veis que Head Body hml están de color verde Qué pasa si yo quito esta etiqueta de Script que están de color negro por qué Porque yo he abierto aquí una etiqueta de Script no la he cerrado y el programa cree que todo esto es javascript vale por eso primera regla como en cualquier cosa de css Y html si abres una etiqueta ciérrala delimita dónde empieza y dónde acaba en este caso javascript a continuación voy a decir que no puedo poner eh cualquier cosa en javascript ya es un lenguaje que empieza a ser un poco restrictivo no es como html que puedo hacer lo que me de la gana incluso poner etiquetas llamadas longaniza no en javascript tengo que poner solo aquellas instrucciones que el programa me deje vamos a empezar poniendo comentarios y al poner comentarios vamos a empezar reaprovechar en javascript Se ponen como en css si yo pongo barra asterisco barra equivale a decir que esto es un comentario y por tanto ese comentario No se verá en pantalla si yo ahora guardo y recargo veréis que atención el comentario no s en pantalla pero en javascript como en html Si miro el código de la aplicación veré que javascript sale en el código igual que salen los comentarios de html también salen los comentarios de javascript de hecho sale todo javascript por eso tener cuidado con lo que escribís en un comentario No revelé más pistas de las necesarias esto quiere decir dos cosas Una que tú vas a poder copiar y pegar javascript de otras páginas web y dos que la gente va a poder copiar y pegar javascript de tu página web no os preocupéis porque más os enseñaré a proteger vuestro javascript a codificarlo para que la gente no es que no se lo pueda copiar pero le sea más difícil paréntesis punto y coma todos los comandos dentro de javascript cada instrucción que pongamos debe ir con punto y coma esto no genera error hay veces que poner punto y aparte o sea poner aparte simplemente funciona pero poner siempre punto y coma por si acaso es como teóricamente se tiene que escribir javascript yo ahora voy a poner aquí comillas y voy a poner Hola Este objeto alert simplemente me muestra un mensaje en la pantalla y ese mensaje en la pantalla me dice lo que haya dentro de Mira Me acaba de autoguardar lo que dice dentro de esas comillas si yo ahora recargo ahora me dirá Hola nada muy espectacular de momento verdad Bien voy a continuar Aprendiendo a usar las variables en javascript y en prácticamente cualquier lenguaje de programación son contenedores de información por tanto voy a poner la palabra reservada bar atención veis que es una palabra reservada Porque se pone de color rojo el nombre de la variable yo elijo el nombre de la variable mi variable y ya que estamos le asigno un valor el operador de asignación es el igual mi variable es igual a 3 y punto y coma Qué elementos tiene esta declaración bar es la palabra reservada que indica que vas a crear una variable mi variable es el nombre de la variable atención javascript distingue entre mayúscula minúsculas por tanto poner mi variable en mayúsculas no es igual a poner mi variable en minúsculas para el programa son dos variables diferentes no es la misma el signo igual le da un valor y lo que pongas después del signo igual es el valor que asignas a la variable si ahora atención dentro de alert quito el Hola y las comillas y pongo mi variable si guardo y recargo ahora me dirá tres la pantalla me dice tres porque yo lo que he hecho es simplemente a mi variable darle el número tres y a continuación decirle dime cuál es el valor de mi variable Cuál es el valor de mi variable es tres y por tanto me saca tres en la pantalla a continuación voy a hacer dos cosas Dentro de este vídeo voy a crear una segunda variable voy a introducir los operadores aritméticos y voy a demostrar Cuál es la diferencia entre javascript y html y voy a demostrar Por qué javascript es un lenguaje de programación y html es un lenguaje de marcado esto que he dicho varias veces y que ahora por fin vamos a llegar a é voy a crear otra variable voy a crear una segunda variable Para eso me hago una línea y digo bar puedo crear tantas variables como quiera mi segunda es igual a 5 reglas para definir variables los nombres de las variables no pueden tener espacios si hago esto mi espacio segunda dará error el programa no entiende que todo eso es una variable no tiene que tener espacio si queréis separar palabras podéis hacer como yo que lo estoy poniendo con la letra mayúscula o pod o podéis poner un guion bajo podéis poner números en las variables mi segunda dos pero el primer carácter de una variable no puede tener un número esto daría error Por tanto poner variables con letras al final es la mejor Apuesta y a continuación voy a poner lo estoy haciendo un poco largo pero lo estoy haciendo adrede para que sea más didáctico bar suma yo qué he hecho ahí decirle que creo una variable que se llama suma y a continuación le doy un valor por qué se llama suma y no suuma pues porque no el nombre lo elijo yo suma es igual a mi variable más mi segunda qué creéis que pasará ahora en la pantalla vamos a analizarlo vamos a imaginar que nosotros somos el ordenador mi variable es igual a tres y eso queda almacenado en la memoria mi segunda es igual a cco Y eso queda almacenado en la memoria suma es igual a mi variable más mi segunda y luego atención o sea suma es igual a 8o digamos alert mi variable qué saldrá en la pantalla tres o ocho saldrá tres porque estoy llamando a mi variable guardo recargo y sale tres pero si de repente ahí en lugar de poner alert mi variable pongo alert suma recargo y sale el número ocho poco espectacular a que sí pero sin embargo daos cuenta que acabamos de hacer una operación aritmética de suma en html y en css en ningún momento podíamos hacer una operación algo tan sencillo como una suma esto es un programa acabáis de hacer un primer programa en un programa cumple la siguiente condición Y es que tiene una entrada la entrada es estos dos elementos realiza una operación con esos elementos y te devuelve un resultado esta estructura tan sencilla es un programa introduzco estos datos realizo una operación en este caso matemática aritmética con estos dos elementos y devuelvo el resultado en pantalla evidentemente javascript es capaz de hacer cosas mucho más complejas que una suma pero es una primera introducción para marcar la diferencia entre un lenguaje de programación y un lenguaje de marcado en este vídeo voy a empezar hablando de operadores aritméticos una pregunta que me suele hacer la gente es obligatorio para hacer una suma antes haber declarado variables y meter la suma en variables no es recomendable pero no es obligatorio por tanto ahora que vamos a hablar de operadores si quedéis incluso me voy a cargar estas variables para no mezclar conceptos y mirado atención y voy a dejar solo el alerta solo es que es más me voy a cargar el comentario y así reducimos javascript a la mínima expresión los operadores evidentemente atención qué va a pasar ahora si le digo alert suma he definido la suma no me la he cargado Qué pasará en la pantalla nada un momento un momento Cómo que nada yo he dicho alerta si no tengo la suma no debería haber aparecido una pantalla vacía una ventana flotante vacía No yo he cometido un error y javascript es mu es muy traicionero porque cuando cometo un error no funciona nada por tanto Aunque debería haber funcionado el alert no saca nada en pantalla si yo pongo aquí alert nada entonces me saca un alert vacío veis por tanto siempre que javascript cuando le deis a ejecutar no haga nada Es que algú error algún error habréis cometido y no pasa nada eso os va a pasar a vosotros y a mí un montón de veces cuando eso pase simplemente revisaremos el código a ver dónde está el puntito y coma que falta la coma que sobra o lo que sea o las comillas que faltan lo que sea bien lo que os quería decir para esta primera demostración Es que yo puedo poner aquí directamente operaciones aritméticas 5 + 3 guardo recargo es igual a 8 lo ves esa es la operación aritmética de suma si yo quiero restar simplemente uso el signo menos ya sabéis en cualquier ordenador es el guion atención grabando 5 - 3 es igual a 2 verdad no hay ningún problema hasta aquí es fácil el signo de la multiplicación ya sabéis en cualquier eh prácticamente calculadora o sistema operativo es el asterisco 5 asterisco 3 equivale a decir 5 * 3 por tanto si ahora guardo y recargo me dirá 5 * 3 es igual a 15 en cuanto a la división hay dos elementos de división si yo digo 5/3 la barra es lo que está en mayúscula 7 no lo que está en alg mayúscula 7 5 * 3 es 1,66666 se puede controlar los decimales Sí ya ver que se puede y luego está el módulo F porcentaje 3 5 porcentaje 3 el resto es 2 si yo divido 5 entre 3 Cuál es el resultado 5 / 3 es ig a 1 con un resto de dos el módulo es el resto por tanto más adelante veréis que podremos hacer operaciones aritméticas donde diga si divides tanto por tanto la división entera es tanto y el resto es tanto el resto entero ya llegaremos a la librería matemática que es una de las librerías más chulas que tiene javascript no os imagináis todo lo que se puede hacer ahí dentro con la librería matemática Y luego vienen dos operadores muy chulos que son el incremento y el decremento si yo a cinco le quiero Añadir un valor simplemente pongo 5 más Qué hace 5 más pues 5 más en la pantalla en este caso me da un error voy a hacer lo siguiente bar variable es igual a 5 y ahora pongo variable más y ahora digo variable sacame la variable guardo recargo y ahora me dice se qué es esto seis pues seis es que cuando yo pongo más delante lo que se llama un post decremento Perdón después le estoy añadiendo un valor a esa variable si yo le digo un post decremento variable menos a cuánto será igual la variable a cu 5 menos equivale a eh bajarle un valor una cosa divertida Mirad variable más Si antes era cinco ahora seis y si Ahora vuelvo a decir variable más pues 5 6 s perdón no puedo simplificar Esto sí que puedo atención Qué pasa si a variable le quiero aumentar dos valores directamente hay una fórmula extendida que dice variable es igual a variable + 2 evidentemente variable es igual a variable + 2 variable es igual a 5 + 2 variable es igual a 7 guardo recargo varibles igual a siete Esta es la fórmula extendida la fórmula abreviada a la gente le cuesta mucho acostumbrarse a la fórmula abreviada pero es así es + = 2 dos o tres o lo que queráis voy a poner tres para que lo veáis poner más igual quiere decir coge variable y sumale tres unidades guardo recargo y el resultado es 5 + 3 o de la misma manera atención de la misma manera existen el menos el por y el dividido Mirad - = 3 que decir coge 5 quítale 3 que es igual a 2 por igual 3 quiere decir coge 5 multiplicalo por 3 que es igual a 15 y partido igual a 3 quiere decir coge 5 dividido entre 3 que es 1,66 estos que habéis visto aquí por tanto son los operadores matemáticos los extendidos y los simplificados que nos permiten realizar operaciones Matemáticas con los elementos numéricos las variables están pensadas para cambiar de valor para que su valor se pueda modificar en un principio voy a poner por ejemplo un ejemplo muy claro Y es que voy a crear una variable voy a simular una no digo mini sino que digo micro tienda online donde digo el producto uno es igual a 140 pongamos 140 no puedo poner Euro evidentemente Solo tengo que poner después bar producto 2 es igual a 240 y ahora voy a hacer una cosa atención bar suma es igual a producto 1 más producto 2 y en este alert pongo el resultado de la suma y añadido dos productos al carrito guardo recargo y el resultado es voy a poner una cosa que ahora a continuación os voy a explicar voy a poner el total de tu compra es y un signo más Cómo es que pongo un signo más permitidme que ponga un signo más y ahora explico Para qué sirve ese signo más no es de suma sino de encadena ahora os explico lo que es el resultado de tu compra el total de tu compra es 380 pero yo ahora lo que voy a hacer atención todos a la pantalla es crear una variable llamada producto 3 que es igual a 3 4 5 y ahora vuelvo a decir la suma es igual Claro si he metido un nuevo producto tendré que actualizar la suma en la tienda online no producto 1 más producto 2 má producto 3 y ahora digo alert el nuevo total es más suma Este es un caso bastante clásico de una variable en este caso llamada suma que va cambiando de valor cuando yo meto dos productos en el carrito de compra de la tienda online la suma vale tanto pero si yo meto tres entonces lo que hago es prácticamente olvidar el valor de suma actual y rehacer la suma con un valor nuevo por eso se llaman variables porque están pensadas para variar de valor en un momento dado si nos interesa guardo recargo y dice el total de tu compra es 380 pero si pulso OK ahora dice el nuevo total es 725 en ambos casos he llamado a la variable suma pero una vez más Podría preguntar cuánto vale la variable suma porque vosotros me diríais depende aquí en este punto vale producto 1 más producto 2s pero aquí en este punto vale producto 1 más producto 3 más producto 2 En definitiva una variable es un cajón dentro de un armario y tú dentro de ese cajón metes Y sacas información como quieres en este caso hemos metido un cajón con dos elementos y luego le metemos un tercero podríamos incluso haber sacado por qué no hay ningún problema las variables Esto es algo que os puede parecer un poco extraño pero es muy normal pueden albergar cadenas las variables no solo pueden albergar números sino que pueden albergar cadenas de caracteres bar mi variable es igual Por ejemplo bar mi nombre es igual pero eso sí no puedo poner José Vicente el ordenador fallaría tengo que ponerlo entre comillas siempre que quiera poner una cadena de caracteres alfanuméricos tengo que ponerla entre comillas En definitiva son números no hace falta que pongas comillas tiene al menos alguna consonante al menos alguna vocal tienes que poner comillas las anteriores variables son variables de tipo numérico estas son de tipo cadena alfanumérica javascript como php es un lenguaje muy suave muy permisivo en cuanto a la tipificación de variables hay otros lenguajes más restrictivos donde cuando creas una variable le tienes que decir qué tipo de información va a albergar a javascript No si a javascript le das un número automáticamente dice vale variable numérica si le das una cadena Alfa numérica dice Vale pues automáticamente es una cadena bar mi apellido es igual a carratalá y era muy divertido las variables de cadena se pueden sumar Cuál es el resultado de sumar José Vicente más carratalá bueno el resultado es muy gracioso no es realmente una suma Cuánto vale la a más la e no se puede sumar eso se podría sumar su posición ex decimal pero de momento vamos a dejarlo en este caso el operador de más se usa Como operador de encadena de encadenamiento y no como sumador si yo digo alert mi nombre más mi apellido Cuál es el resultado de pantalla Bueno pues no es una suma aritmética sino que es un encadenamiento va a decir José Vicente y después le voy a poner carratalá guardo recargo y dice José Vicente carratalá en el caso de las cadenas la suma realmente es un encadenamiento Y es más puedo encadenar diciendo atención Mi nombre es sumo mi nombre más mi apellido atención siempre que pongáis un número o una variable no hace falta ponerlo entre comillas esto es un número no pero es una variable siempre que pongáis una cadena que no sea un número o una variable hay que ponerla entre comillas como veis he puesto cadena más variable y el resultado en pantalla si guardo y recargo es mi nombre es dos puntos variable 1 más variable dos vamos a hablar ahora de los operadores lógicos y para eso voy a poner alert atención y voy a poner 3 Igual 4 no he puesto un igual he puesto dos iguales y cuando yo pongo dos iguales estoy empezando a hacer una comparación en este caso de igualdad lo que le estoy diciendo aquí es cierto que 3 es igual a 4 es cierto probablemente no por tanto el resultado en pantalla que voy a obtener es false de dónde ha salido ese false cuando yo hago una comparación si no es cierta dice false si es cierto dice true tenéis ahí false falso Es cierto que 3 es igual a 3 guardo recargo y dice true es lógica no es nada más que lógica atención voy a empezar a complicarlo un poco es cierto que TR es igual a tres con comillas ostras vamos a ver esto guardo recargo y dice que true bien Cuál es la diferencia tres lo he definido como número mientras que si meto el tres con comillas estoy definiendo a tres con una cadena no es el mismo tipo de datos Este es un dato numérico Este es un dato de cadena Pero al final vale tres Pues sí lo meto en una cadena lo mete en un número al final vale tres Por tanto la doble igualdad funciona ahora bien si hay una doble igualdad también hay una triple igualdad Mirad atención a la pantalla si yo pongo 3 es igual a 3 lo que le estoy preguntando es tiene el mismo valor y el tipo de datos es el mismo si uno es numérico El otro es numérico Y si uno es Cadena El otro es cadena el resultado ahora en pantalla va a ser false porque sí el resultado es tres pero no es cierto que sean exactamente iguales porque uno es un número y otro es una cadena aunque los dos valgan tres vale por tanto doble triple igualdad recordad que la primera igualdad es asignación la doble igualdad es comparación y la triple igualdad es comparación exacta otra igualdad es la no igualdad en prácticamente cualquier lenguaje de programación que yo conozca es admiración igual la admiración en prácticamente cualquier lenguaje de programación equivale a decir no es la negación por tanto es cierto la cosa empieza a complicar Es cierto que 3 no es igual a 4 o sea igual pero yo estoy preguntando si es cierto por tanto sí que es cierto que 3 no es igual a 4 luego el resultado es true como podéis ver es cierto recordar eh siempre la palabra clave la pregunta clave es cierto que porque el true o el false está respondiendo a Es cierto que 3 no es igual a 3 eso no es cierto que tres no sea igual a TR luego el resultado es false y luego tenemos unos operadores muy divertidos los conoceréis de toda la vida que son el mayor que y el menor que tenemos por tanto luego los operadores de menor que y mayor que no necesitan mucha explicación ni presentación donde voy a hacer lo siguiente Mira es cierto que TR es menor que evidentemente guardo recargo y me dice que es false no es cierto 3 es igual a 3 pero no es menor que 3 Es cierto que 3 es Mayor que 3 es falso 3 es igual a 3 no es Mayor que 3 pero atención Mirad a la pantalla hay un operador compuesto que es cierto que 3 es mayor o igual a 3 no es mayor pero sí que es igual Por tanto el resultado de esta afirmación será true Será cierto es cierto podemos comparar grupos de afirmaciones y para ello tenemos dos operadores que son and y or que en castellano sería i o voy a decir lo siguiente atención Mirad la pantalla voy poner la cosa se va a complicar un poco en cuanto a los paréntesis Mirad voy a poner un paréntesis y voy a decir Es cierto que 3 es igual a 3 y el I se pone con dos ampers los ampers son los signos que salen con mayúscula se en el teclado y es cierto que 5 es ig a 5 Y ahora os voy a preguntar es cierto esto y es cierto Esto me responderé Sí luego el resultado en pantalla será igual a true es cierto pero atención miradme ahora la pantalla es cierto que 3 es igual a 3 y también es cierto que 5 es ig 6 globalmente No es cierto la primera parte era cierta pero como la segunda parte no es cierta no puedo decir que es cierto que 3 es igual a 3 y que 5 es igual a 6 por tanto Aunque la primera parte sea cierta al recargar el resultado es false la expresión I creada a través de un doble ampersand requiere que todos los elementos comparados sean ciertos solo con uno que no sea cierto globalmente la expresión ya no es verdadera no solo pueden haber dos pueden haber todos los que queráis ampersan ersan y que un es igual a 1 esto seguirá sin ser verdadero porque uno de ellos falla con que uno solo de ellos falle da falso pero si todos dan verdadero Entonces el resultado es true esto es i el otro operador es or es o que se representa con la barra vertical es un poco más difícil de obtener atención Mirad porque se obtiene con alt gr que es el botón que está a la derecha de la barra espaciadora mantenéis pulsado alt gr Y luego puls el número uno del teclado y sale la barra vertical voy a poner dos or se traduce en castellano como o Mirad a la pantalla ahora os dejo tiempo para hacerlo Es cierto que 3 es igual a 3 o que 5 = a 5 o que uno es igual a 1 Bueno realmente todo es cierto por tanto el resultado final es true es cierto el resultado es true pero atención Es cierto que 3 es igual a 3 o que 5 es igual a 6 o que 1 es igual a 2 a o solo le hace falta que una de ellas sea cierta si una de ellas es cierta entonces dará verdadero si al menos una de ellas es cierto dará verdadero ojo cuidado Es cierto que 3 es igual a 4 y que 5 es igual a 6 y que un es igual a 2 o que uno es igual a 2 Lo siento ninguna es cierta si ninguna es cierta Entonces el resultado es fs las estructuras de control me permiten ejecutar un trozo de código dependiendo de si se da una condición o no de esta forma las estructuras de control me permiten también eh tomar decisiones en un programa y por tanto me van a permitir crear comportamientos complejos dentro de un programa en javascript lo que voy a hacer es lo siguiente voy a escribir If paréntesis llaves lo que voy a hacer es lo siguiente y además voy a escribir un poco a continuación els llaves voy a validar una expresión aquí dentro si el resultado de esa expresión es cierto Entonces se ejecutará este código y si el resultado es falso Entonces se ejecutará en este código Y ahora yo digo si 3 es igual a 3 hasta ahora me decía true yo digo alert eso es cierto y si es falso digo alert eso es falso qué creéis que pasará Pues yo voy a evaluar esta expresión si es cierta ejecutar este código y si es cierta ejecutar este código si ahora guardo y recargo el resultado será eso es cierto pero si ahora pongo Es cierto que 3 es igual a 4 guardo cuidado guardo recargo y me dice eso es falso la estructura If por tanto nos permite tomar una serie de decisiones en base a una certeza o falsedad y ahora a continuación vamos a hacer un If anidado probar este If lo que voy a hacer a continuación es poner lo que se llama un If anidado puedo anidar un If Tantas veces como haga falta voy a crear una variable llamada edad bar edad que va a ser igual a 34 y a continuación voy a decir si algo llave els algo poner Siempre os lo recomiendo la estructura básica y luego rellen máis y así seguro que no os equivocáis voy a decir que si la edad es menor que 20 pasará algo pero si la edad es mayor que 20 verdad si es mayor que 20 es falso y ahora aquí digo lo siguiente If fijaos mir lo que estoy haciendo estoy repitiendo otra vez la estructura de control veis tengo una estructura If y la estoy repitiendo aquí abajo If paréntesis corchetes els paréntesis vamos a ver si la estructura es si la edad es cierto que es menor que 20 entonces ejecutar este código cierto y aquí digo si la edad es menor que 10 es decir si es cierto que la edad es menor que 20 y también es cierto que es que la edad es menor que 10 entonces diré alert eres un niño si no es cierto a ver Mirad atención Mirad me todos y pensad lógicamente si es cierto que tengo menos de 20 años pero no es cierto que tengo menos de 10 años cuántos años tengo Entre 10 y 20 No pues pongo alert eres un adolescente Ahora si la edad es menor que 30 eres un joven si no es cierto que mi edad es igual menor que 20 y tampoco es cierto que mi edad es menor que 30 qué edad tengo más de 30 luego alert ya no eres un joven vamos a ver cómo se traduce esto igual a 34 guardo ejecuto y me dice no eres un joven de entre los cuatro textos posibles ha ejecutado ya no eres un joven si hubiera puesto por ejemplo 24 edad igual a 24 Me hubiera dicho Eres un joven si hubiera puesto edad igual a 14 me hubiera puesto eres un adolescente y si hubiera puesto edad igual a cuatro hubiera puesto eres un niño veis por tanto como anidando ifs lo primero el código se complica eso evident ssima pero también nos permite tomar decisiones más complejas nos permite decir si pasa esto pero si pasa esto pero si no pasa esto entonces haz esto otro sin embargo cuando eh No queremos anidar ips porque fijaos que de esta manera tenemos que meter una estructura dentro de eh de control dentro de la otra lo que haremos es usar una estructura de control llamada switch es una estructura de control es un interruptor con varias posiciones donde en este caso dentro de la misma estructura contemplamos varias posibilidades Mirad la estructura es igual que If pongo switch paréntesis Ya ves Voy a validar una expresión aquí bar edado y ahora dentro de ahí voy a poner lo siguiente voy a poner Case 1 y a continuación ejecuto alert eres muy pequeño y al final atención al final muy importante pongo un break por aquí bre este caso no se ejecutará si es verdadero o si es falso solo si tengo un año Case vas a la guardería cas 2 Case 3 voy a decir vas al Cole Case 4 yed meter tantos casos como quiera sin complicar el código Ya eres mayor si ahora edad digo que es igual a 4 fijaos que automáticamente dice Ya eres mayor si pongo Case ig a 3 dice ya vas al Cole y diréis esto hace básicamente lo mismo que el ifan dado Sí pero esa estructura de control es mucho más fácil de digerir Que anidar varios shs no tienes que pensar Cuándo es falso cuando es verdadero Simplemente hay un switch con tantos casos como tú quieras luego tenemos el break donde el break en este caso es una instrucción que nos permite romper que nos permite decir ya has ejecutado este código vale sal no te pongas a ejecutar los demás seo sal del bucle de control por tanto el break es el que me permite finalizar esa instrucción ese bucle de control esa estructura de control voy a cerrar este Script voy a abrir otro dentro del Body Script de tipo texto bar javascript y voy a usar una instrucción que es parecida al alert el alert te saca ventana flotante en pantalla pero a veces se puede volver un poco incómodo por tanto dentro de javascript voy a usar otra instrucción llamada document write escribe en el documento Hola Qué hace esto lo que hace es poner atención Hola en la pantalla poco espectacular verdad lo podríamos haber hecho directamente pero ahora veréis que realmente tiene su utilidad el que javascript pueda escribir por nosotros contenido en la pantalla ahora poro voy a escribir este bucle for y el bucle for tiene la siguiente estructura pongo for una condición y un código que se va a ejecutar for la condición del for tiene tres condiciones dentro Así que voy a crear lo siguiente voy a crear un poco de pseudocódigo Mirad a la pantalla es la condición de inicio punto y coma la condición de final es palabra reservada punto y coma la condición de incremento esto es seudocódigo no quiere decir que lo tengáis que escribir tal cual sino que es poco para daros pistas inicio bar I que empieza siendo igual a cer creo una variable I latina que empieza siendo igual a cero el código se ejecutará siempre que I sea menor que 10 y cada vez que pase por aquí Ahí le voy a aumentar un valor vamos a ver qué quiere decir esto lo que quiere decir esto es que y empieza siendo cer Es cierto que I es menor que 10 Sí ejecuto el código Cuando paso por aquí I más luego y ya no es 0 Y es 1 Pam vuelvo a empezar y Cuánto es 1 es menor que 10 Sí ejecuto el código le añado un valor 2 3 4 5 6 7 y cuando I ya no cumple que sea menor que 10 Entonces separ el código voy a hacer lo siguiente document write y entre comillas Hola Qué pasa guardo recargo y tengo 10 veces Hola lo que hace es ejecutar 10 veces desde la vez c hasta la vez nu ya que 10 no cumple que sea menor que 10 Hola a partir de aquí puedo escribir lo que quiera Mirad lo que voy a hacer a continuación Hola más Hola coma esta es la vez más I más te pasas por aquí y luego un br ya sabéis me amigo el br lo que hace es devolver la línea Esta es la vez I Qué es I pues I es el contador Así que atención guardo recargo Hola esta es la vez cero que pasas por aquí Hola esta es la vez uno que pasas por aquí Hola esta es la vez dos que pasas por aquí y así hasta nueve podría poner algún espacio más para que quedara más ordenado lo veis Esto es lo que hace un bucle for Ni más ni menos lo que va a hacer simplemente es repetir una tarea x veces en la pantalla Hay cosas muy divertidas que podemos hacer con los ifs por con los fors quería decir Mirad por qué tiene que empezar en cero y acabar en 10 Podría empezar en cco y acabar en 11 hay ningún problema guardo recargo 5 y 10 atención problema Podría empezar vamos a ver en uno acabar en 11 y decir I es ig a i A ver si me lo acepta Mirad qué he hecho lo veis me he metido en un bucle infinito Por qué Pues porque le he dicho I es ig a 1 mínimo eh Perdón máximo 10 cada vez que pases por aquí I es igual a i y nunca aumenta de valor y siempre es igual a un luego este código se ejecuta hasta el infinito y más allá luego he entrado en un bucle infinito que solo puedo parar De hecho parece que ni puedo parar medi ese código Oh nada esta página se ha colgado más cosas divertidas puedo hacer os acordáis de los operadores de decremento puedo hacer que empiece siendo 10 y que siempre que sea mayor que 1 y disminuya de valor I menos os acordáis de I men menos estaba i+ má e y men menos 10 98 7 6 5 4 3 2 y así hasta que se acaba vale puedo aumentar puedo disminuir os digo más y empieza siendo uno hasta que sea 10 y le digo I es más ig 2 hace allá y es igual Perdón I es menor que 10 y es 1 3 5 7 9 en lugar de aumentarle un valor le aumenta dos por tanto evidentemente al final tengo 1 3 5 7 9 vale probarlo a continuación vamos a ver dos bucles que son el bucle While y el bucle do While en este vídeo vamos a empezar viendo el bucle While que son otra vez dos bucles de iteración atención Mirad voy a poner una vez más While paréntesis y llaves diréis si es que todo el rato igual Pues sí todo el rato igual pero atención el bucle While es como el bucle for pero en cierta manera simplificado el bucle While únicamente contiene la condición de ejecución no contiene ni la de inicio ni la de final ni la del incremento por tanto es fácil que el bucle Wild si no lo controlamos nos pueda llevar a bucles infinitos y yo te digo bar edad es igual a c empiezo teniendo una edad de cer y yo digo mientras que la edad sea menor que document write tengo edad años y luego un br para salto de línea qué voy a hacer a qué me va a llevar este bucle me va a llevar a un bucle infinito Por qué Porque tengo edad igual a cero mientras mi edad sea menor que 30 ejecuto en algún momento le estoy diciendo que aumente mi edad no Así que mi edad siempre va a ser cero y voy a ejecutar este código hasta el infinito y más allá atención comprobemos guardo recargo y veis ya he entrado en un bucle infinito De qué manera puedo yo trabajar con los Wi Bueno es muy sencillo simplemente tengo que introducir la condición de incremento dentro del While me voy a acercar y básicamente dentro del While voy a decirle edad más fijaos que un bucle While al final no es tan diferente de un bucle for en el bucle for teníamos inicio final incremento aquí tenemos inicio fuera ejecución de dentro incremento fuera si ahora hago esto cada vez que paso por aquí le añado un valor a edad la primera vez que paso edad 1 2s 3 4 cuando sea 30 se acabó guardo recargo se me ha colgado la página no pasa nada un bucle infinito Mirad atención y tengo c años 1 3 4 5 6 7 8 29 es decir el bucle ejecuta un código mientras la expresión validada se acierta el bucle de Wi es como el bucle Wi pero al revés y tiene una particularidad atención a la pantalla el bucle the While es do algo mientras que la expresión que te pongo aquí sea verdadera y una cosita esto es un detallito pero es muy importante el bucle the Wi es el único de los bucles que tiene que tener un punto y coma al final veis que hasta ahora ni el While ni el for ni el If ni el switch Tenían un punto y coma al final pero el do While Sí y de hecho es así en prácticamente todos los lenguajes de programación que conozco y que usen punto y coma evidentemente para finalizar visual basic por ejemplo no y ahora le digo a document write Hola mientras que la edad sea mayor que 10 si esta persona tiene más de 10 años dile Hola esta persona Cuántos años tiene cero le tendría que decir hola no cumple la condición solo puedo decir hola a aquellas personas que tienen más de 10 años pues lo divertido del bucle do Wi es que ejecuto y compruebo que me dice hola una vez porque dice una vez más cuando llego hasta aquí el ordenador todavía no ha leído esta línea y el ordenador dice vale Di hola digo Vale pues digo hola en la pantalla y a continuación dice si la edad es mayor que 10 y el du dice ahí va si ya lo he dicho no tenía que Haberlo dicho y digo Bueno pues para la próxima vez ya no lo digo pero ya lo he ejecutado al menos una vez ojo al menos una vez si la condición es positiva es verdadera Entonces se seguirá ejecutando pero aunque sea falsa al menos una vez la ejecuta javascript se puede combinar sin ningún problema con css y con html yo por ejemplo voy a hacer ahora un bucle for para hacer una pequeña demostración que dice for variable día del mes es igual a uno es más no Mientras día empiece siendo igual a uno porque esto es un bucle for no hace falta declararlo fuera tampoco pasa nada por declararlo fuera pero hasta que día sea menor que 32 un mes de 31 días digamos y cada vez que pase por aquí día más a día le añado un valor ahora pongo document wr y con html pongo TR Qué es TR recordáis es una fila de una tabla dentro del TR pongo TD pongo hoy es el día más día tareas para hacer Es más voy a poner un input type e Hay un problema ve si tengo comillas a doble comillas voy a tener un problema ahora es cuando uso comillas sencillas para no marear para distinguir input type text placeholder igual a introduce tu tarea diris no sé que va a hacer eso no pasa nada ahora os enseño antes del Script voy a meter un table with es ig 100% y Border es igual a un y después del Script meto un table vamos a ver qué hace esto vamos a ver si lo escrito bien y no cometido ningún error que podría ser si ahora guardo y recargo pone hoy es el día 1 2s 3 4 5 6 los que quieras introduce tu tarea y digamos que he hecho un pequeño dietario un pequeño clasificador de tareas por días en javascript y lo he hecho mezclando en este caso javascript y html un primer ejemplo un primer mini micro ejemplo de Para qué nos puede servir javascript en este caso javascript me ha Librado de tener que escribir 31 filas de una tabla sino que con un bcle for de los que repiten n veces las cosas automáticamente con mucho menos código lo tengo pero ahora la pregunta original era y yo ahora como a esto como le meto css La respuesta es pues metiendo No si y ahora me voy al Head y pongo Style con que sea type igual a text bar css y ahora le digo por ejemplo el body será e no sé background Yellow y ahora la tabla va a tener un Border de cero píxeles sólido un píxel Perdón un píxel sólido negro y TR y TD van a tener un borde de un píxel sólido negro pero es que te digo más al primer TD le digo Tú vas a tener el ID con comillas sencillas y habéis visto que hay problemas ahí comilla sencilla el ide día pues aquello que tenga el ID día le voy a decir que el font weight es volt para que solo la columna de la izquierda sea negrita si yo ahora hago así fíjate como tengo con css Fíjate que esto es negrita Y esto no lo es y lo he hecho todo y ahora le digo F family Arial y ahora al Table le digo F padding igual a 0 F sping igual a 0 Y fíjate como con css puedo estilizar una que al final ha sido generada por javascript y puedo combinar no es que puedo es que debo combinar las tecnologías sin ningún problema a continuación vamos a descargar la librería jquery que también se puede pronunciar jquery esta librería está en la siguiente dirección voy a abrir una pestaña nueva y voy a entrar en la dirección www. jquery.org escribe jquery tal cual como suena con y con q y con uorg esta librería le vamos a sacar mucha punta porque nos va a permitir hacer muchas cosas y lo primero que vamos a hacer es Descargar el jquery Core hay varias cosas que podemos descargar de hecho en su momento veremos jquery ui o jquery ui cómo hacer interfaces de usuario para jquery con jquery pero de momento Mirad atención voy a hacer clic en jquery Core el núcleo de jquery veis Mirad hago click y entro en la página típica la página clásica de jquery Mirad atención la pantalla consigue la última versión elige tu nivel de compresión puedes bajarte jquery de producción que ocupa 32k porque está minificado y cipado O puedes bajarte el jquery de desarrollo que son en lugar de 32 247 cas que es código descomprimido yo qué os recomiendo bien Vamos a usar al menos de momento ahora que estamos aprendiendo jquery para usarlo no para modificarlo Porque si estamos aprendiendo cómo vamos a modificarlo por eso el de producción Mirad atención a la pantalla si hago Download fijaos como este es el jquery minificado entendéis algo no pero es que tampoco lo vamos a usar tampoco lo vamos a escribir no lo vamos a modificar quizás más adelante quizás al final vale por tanto lo que voy a hacer atención es comprobar como la versión de desarrollo es una versión Ah mucho más entendible pero claro ocupa mucho más que la versión que está comprimida la cuestión está en que si de momento y durante un buen tiempo no nos vamos a meter a tocar dentro el jquery lo vamos a usar pero no lo vamos a modificar es como tengo un coche conduzco el coche No me preguntes queé habrá el motor del coche pues jquery es igual jquery es el motor tú vas a conducir el coche pero no vas a tocar el motor del coche Vale pues jquery es el motor que vamos a usar lo vamos a usar pero no lo vamos a destripar Así que mi recomendación Es que pinchis aquí en Production en la versión de producción pincháis Download y digáis e no me lo he bajado me lo ha mostrado en pantalla pero no os preocupéis porque le pincháis aquí a la barra de herramientas guardar página como y os lo guardáis en mi caso en escritorio en web en cuanto lo encuentre Master web no en actual en javascript y lo voy a guardar atención Mirad con el nombre que venga jquery-1.7.2.min.js le podemos cambiar el nombre pero no recomiendo vamos a dejar el nombre que tiene y en unos pocos segundos jquery está bajado a nuestro sistema preparado para usar en este vídeo vamos a trabajar con el objeto date que al igual que el objeto math es un objeto que ya está preconstruido en javascript pero que tenemos que instanciar para poder usarlo igual que tenemos que poner ma. vamos a poner el objeto Date una vez más evidentemente voy a hacer un archivo html voy a acercarme htm de hecho puesto ge el archivo que vamos a hacer hoy os va a servir para Toda la eternidad vamos a hacer el típico archivo que básicamente te dice hola fulanito hoy es día tal de tal mes de tal año lo típico que pones arriba en tu página web por tanto este archivo que vamos a hacer lo Vais a poder usar prácticamente en cualquier proyecto y así de paso Vamos también aprender a externalizar javascript para poder copiarlo y pegarlo en cualquier proyecto y que funcione pero en primer lugar voy a hacer un Script de tipo texto bar javascript que va a decir lo siguiente en principio lo que voy a hacer es empezar eh instanciando este objeto date ese objeto date tiene múltiples métodos por tanto voy a poner lo siguiente bar fecha que ponéis un nombre en castellano y así Nunca os vais a equivocar es igual a un New date paréntesis Qué quiere decir esto probablemente ahora mismo no lo entendéis y me parece normal porque no os he explicado todavía cómo trabajar con programación orientada a objetos dentro de javascript recordar que toca la semana que viene sin embargo lo que he hecho es básicamente Llamar a un objeto date que existe dentro de javascript ya veréis que la palabra New es una palabra reservada para decirle que fecha es una nueva instancia de ese objeto es como una plantilla es como una plantilla de un documento y ahora voy a poner lo siguiente a continuación lo que voy a hacer es en la siguiente línea obtener por ejemplo el día en el que estamos así que digo bar día es igual a fecha punto get date es un método es una función dentro del objeto qué hará esto Bueno pues evidentemente esto no va a hacer nada porque si yo hago así Mirad evidentemente no sale nada de la en la pantalla porque yo he creado variables pero no he dicho que quiero mostrar estas variables en la pantalla luego ahora lo que voy a hacer es poner document write para hacerlo sin jquery ahora luego lo hacemos con jquery día quiero que me devuelvas el día en la pantalla guardo recargo y ahora sí me devuelve el día 8 casualmente hoy es 8 de junio Así que como veis me está devolviendo el día lo que voy a hacer a continuación es sacar la referencia completa de objetos que tengo en w3 schools que me dice todo lo que le puedo pedir a una fecha le puedo pedir el día le puedo pedir el año le puedo pedir las horas le puedo pedir lo que sea vamos a verlo otra cosa que voy a hacer además para abreviar Es que yo aquí arriba Eh realmente no es obligatorio Esta sí esta tengo que hacer una nueva instancia esta línea no me la Puedo saltar pero por qué tengo teng que escribir día y luego poner esto no puedo escribir directamente esto pues lo cierto Es que puedo así que voy a eliminar esta línea y sigo teniendo el mismo resultado veis por tanto como día que date me devuelve el día voy a volver a escribir voy a poner document write para que esté un poquito más ordenadito y ahora luego lo modificamos voy a poner un br qué va a hacer el br evidentemente saltar una línea abajo y ahora voy a copiar esto y voy a ir variando en lugar de date puedo poner day ostras si date es el día Qué es day bueno día no es el día del mes sino el día de la semana Cuál es el día de hoy viernes con respecto al día de la semana es el número cinco vale lo pilláis son diferentes maneras de decirme una fecha y hay muchas más otra fecha por ejemplo es el full year evidentemente me da 2012 atención cuidado os recomiendo poner full Porque si pongo me dice que es el año 11 porque en javascript el año cuenta a partir de 1900 por tanto desde 1900 estamos en el año 112 si queréis poner el año 2012 tenéis que usar full year o recurrir al truco que usamos todos que es poner fecha get year más 1900 que evidentemente te devuelve otra vez el año 2012 yo creo que os imaginaréis que si get year full year es el año get day es el día get month es el año Perdón get month es el mes guardo recargo y estoy en el mes número 5y el mes número 5 Sí porque los meses empiezan a contar a partir del número cer 0 enero 1 febrero un poco olioso Podrían haber hecho desde el 1 hasta el 12 en lugar de ir del 1 al 12 va del 0 al 11 Pero qué se le va a hacer javascript es así de hecho si miráis la documentación veréis que en get month dice returns the month from 0 to 11 raro muy raro pero es así que se va a hacer y hay que adaptarse más cosas de la misma manera como os podéis imaginar tengo el Hour get hours con una s ahora mismo son las 11 y algo las 11 get minutes son las get seconds me da los segundos veis como va cambiando cada vez que recargo y atención Esto va rar un poco mise pill no pillado claro por favor gets es la cantidad de milisegundos pas hoy importantes en javascript así como php rara vez solo las últimas versiones reconocen milisegundos javascript hace muchos años Que reconoce milisegundos lo cual es muy interesante para hacer animación y luego por último hay una vamos a ver get utc aquí hay otra que a día de hoy no parece que os vaya a ser de utilidad Pero si yo le digo get utc a ver get dónde estás get utc date atención eh get utc date Espera que no me la está devolviendo get utc date momen aquí Perdón voy a poner get Time me devuelve este pedazo de número que no es más que la cantidad de milisegundos que han pasado desde el día 1 de enero de 1970 para qué me va a servir ese dato ahora mismo parece que para nada pero os aseguro que cuando empecemos a trabajar con bases de datos trabajar con ese número me servirá para meter cada registro de la base de datos con ese número que va a ser único para cada cosa que meta la base de datos y por tanto podré poner un identificador único para cada registro ya que será muy difícil que meta dos registros en el mismo milisegundo verdad me aseguro que cada registro tenga un número completamente único e independiente a continuación Vamos a aprender Para qué nos sirven las funciones en javascript Cómo declararlas y cómo usarlas las funciones son Realmente plantillas que podemos usar más adelante Tantas veces como queramos por tanto voy a crear documento html voy a crear un Head voy a crear un Body y dentro del Head voy a crear un Script de tipo texto barra javascript que va a hacer lo siguiente voy a hacer directamente un alert Hola José Vicente si yo guardo y ejecuto esto lo que estoy haciendo es ejecutar una instrucción directa y por tanto el programa me dirá Hola José Vicente sin embargo si yo Quiero rezar función más adelante yo voy a escribir la siguiente fórmula voy a escribir function palabra reservada function el nombre de la función el nombre de la función es el que yo quiera Hola jv obligatoriamente tenga parámetros o no tengo que poner paréntesis si no tiene parámetros los paréntesis estarán vacíos si tiene parámetros pondré ahí dentro parámetros y ahora pongo una llave y Cierro la llave después del alert Qué quiere decir esto que en este caso alert ha quedado encapsulado dentro de la función Hola José Vicente lo que he hecho hasta este momento es crear una función que equivale a crear una plantilla si ahora guardo y recargo comprobaré que el resultado en pantalla es ninguno Por qué Porque yo he creado una plantilla pero no la he usado lo que hecho es decirle al programa siempre que yo te diga Hola José Vicente me tienes que decir esto pero siempre que te diga no te lo acabo de decir vale Quédate preparado para esto por tanto esta es la fórmula con la cual definimos una función que es la palabra function nombre de la función paréntesis y el código que encierra la segunda parte es cómo se llama a esta función para llamar una función simplemente por tenemos Hola jv paréntesis punto y coma esto es crear una función esto es Llamar a una función guardo recargo y ahora me dice Hola José Vicente qué he hecho aquí he hecho dos cosas Una crear una función y dos Llamar ejecutar esa función ahora fijémonos en que esta función realmente Es una función estática es una función que yo no puedo adaptar por qué porque esta función dice Hola José Vicente Pero y si yo quisiera que dijera Hola Paco y si yo quisiera que dijera Hola Alejandro Hola Nico esta no me serviría tendría que crear otra función en este caso si quisiera Hola José Vicente Hola Paco Hola Alejandro Hola Nico tendría que crear cuatro funciones tendría que multiplicar el código por cuatro no puedo de alguna manera reaprovechar y adaptar esta función Sí que puedo para eso están los parámetros dentro de esta función lo que voy a hacer es function Hola José Vicente bar nombre Eso quiere decir que al decir hola José Vicente el programa está esperando a que yo le diga un nombre y ahora Aquí voy a poner atención Mirad Hola más nombre Qué quiere decir esto que está esperando que dentro de los paréntesis tú pongas algo y ese algo te dirá Hola lo que pongas atención guardo recargo Y si yoora pongo aquí Hola José Vicente me dirá no me dice nada un momentín voy a poner aquí bar nombre lo voy a poner fuera bar nombre me diría me dirá Hola José Vicente Pero si yo pongo aquí Paco me dirá Hola Paco y si yo pongo aquí Alejandro me dirá Hola Alejandro y si yo pongo aquí Nico me dirá Hola Nico para esto sirven los parámetros dentro de las funciones aunque he hecho un ejemplo muy sencillo y muy básico Este ejemplo ilustra y es la llave de entrada a poder reutilizar funciones a que en lugar de tener que escribir cuatro funciones diferentes yo simplemente cambiando un parámetro puedo hacer que una función una sola función se comporte de cuatro maneras diferentes ahorrando por tanto tiempo y ahorrando por tanto código a continuación vamos a descargar la librería jquery que también se puede pronunciar jquery esta librería está en la siguiente dirección voy a abrir una pestaña nueva y voy a entrar en la dirección y con q y con uorg esta librería le vamos a sacar mucha punta porque nos va a permitir hacer muchas cosas y lo primero que vamos a hacer es Descargar el jquery Core hay varias cosas que podemos descargar de hecho en su momento veremos jquery ui o jquery ui cómo hacer interfaces de usuario para jquery con jquery pero de momento Mirad atención voy a hacer clic en jquery Core el núcleo de jquery veis Mirad hago click y entro en la página típica la página clásica de jquery Mirad atenci la pantalla consigue la última versión elige tu nivel de compresión puedes bajarte jquery de producción que ocupa 32k porque está minificado y cipado O puedes bajarte el jq de desarrollo que son en lugar de 32 247 K que es código descomprimido yo qué os recomiendo bien Vamos a usar al menos de momento ahora que estamos aprendiendo yy query para usarlo no para modificarlo Porque si estamos aprendiendo cómo vamos a modificarlo por eso el de producción Mirad atención a la pantalla si hago Download fijaos como este es el jquery minificado entendéis algo no pero es que tampoco lo vamos a usar tampoco lo vamos a escribir no lo vamos a modificar quizás más adelante quizás al final vale por tanto lo que voy a hacer atención es comprobar como la versión de desarrollo es una versión Ah mucho más entendible pero claro ocupa mucho más que la versión que está comprimida la cuestión está en que si de momento y durante un buen tiempo no nos vamos a meter a tocar dentro el jquery lo vamos a usar pero no lo vamos a modificar es como tengo un coche conduzco el coche No me preguntes queé habrá el motor del coche pues jquery es igual jquery es el motor tú vas a conducir el coche pero no vas a tocar el motor del coche Vale pues jquery es el motor que vamos a usar lo vamos a usar pero no lo vamos a destripar Así que mi recomendación es que pinchis aquí en Production en la versión de producción pincháis Download y digáis e no me lo he bajado me lo ha mostrado en pantalla pero no os preocupéis porque le pincháis aquí a la barra de herramientas guardar página como y os lo guardáis en mi caso en escritorio en Master web en cuanto lo encuentre Master web eh No en actual en javascript y lo voy a guardar atención Mirad con el nombre que venga jquery-1.7.2.min.js le podemos cambiar el nombre pero no recomiendo vamos a dejar el nombre que tiene y en unos pocos segundos jquery está bajado a nuestro sistema preparado para usarlo lo que hemos descargado es la librería jquery es este archivo de aquí que en lugar de tener la extensión html tiene la extensión js los archivos que tienen html pueden contener css y pueden contener javascript pero los archivos que tienen la extensión js javascript solo pueden contener javascript como nos hemos bajado la librería y nos la hemos bajado en javascript por eso tiene la extensión js un archivo js no es un archivo ejecutable es una librería fijaos que si hago doble clic el programa o no sabrá Qué hacer o me dirá Con qué abro yo esto Esta librería no está pensada para hacer doble clic está pensada para que la hayáis bajado la dejéis ahí al lado y desde cualquier archivo html la llaméis vamos a ver cómo se llama a esta librería el primer paso Mejor dicho el segundo el primer paso sido descargarlo El segundo paso va a ser Llamar a la librería por eso he creado un archivo llamado probando pun html que va a llamar a esta librería y ahora voy a cargar el archivo probando html tanto en el editor como en el navegador y voy a hacer lo siguiente en probando html voy a arrancar el programa de zoom que no lo tengo arrancado ahora sí el programa html Va a hacer lo siguiente voy a crear un archivo html que va a tener un Head que va a tener un Body y en el Head recordamos que teníamos una etiqueta Script de tipo text bar javascript y que aquí se acabado el Script y dentro de esa etiqueta habíamos programado en javascript bien pues lo que voy a hacer es escribir aquí a continuación src igual comillas y tengo que llamar al archivo javascript tengo que llamarlo diciendo que vamos a ver dónde está la carpeta diciendo que llamo al archivo jquery 1.7 pun 2. min.js lo que he hecho por tanto es Llamar a ese archivo es decir que src es igual a jquery gu y el nombre Exacto sin fallar ni un punto ni una coma ni un guion del nombre del archivo que me he bajado de esta manera yo parece que no he hecho nada guardamos de hecho y recargamos pero sin embargo lo que he hecho en este archivo es incluir es Llamar a jquery es decir voy a usar esta librería y por tanto a continuación podré escribir código usando elementos de esta librería ahora a continuación lo que voy a hacer Si ya tengo la librería llamada Mirad es crear otra etiqueta Script otra por qué otra type text barra javascript donde aquí dentro de esta etiqueta Aquí voy a escribir Mi código fijaos que tengo dos etiquetas javascript la primera me sirve para llamar a la librería para decir al programa e voy a usar esta librería y por tanto voy a Añadir nuevas instrucciones que hasta ahora no existían y a continuación dentro de la segunda etiqueta Script es donde escribo mi propio código la diferencia es que la primera llama a una librería externa y por eso Tiene lo de src igual a jquery todo lo demás la segunda no llama una librería externa porque la segunda es el código que yo voy a escribir podría escribir Mi código en un archivo externo de hecho más adelante lo haré pero ahora de momento por Claridad para no empezar a manejar varios archivos a la vez para algo que puede estar en un mismo archivo voy a hacerlo todo en un solo elemento la estructura general de un Script cuando usamos jquery es la siguiente lo primero que voy a hacer es crear una variable llamada Como quiera voy a hacer una escritura de jquery extendida y más adelante extendida y fácil y más adelante en cuanto vayamos aprendiendo más jquery haré una escritura más resumida pero más difícil de usar por eso vamos a empezar con la larga y fácil voy a crear una variable por tanto pongo bar y asigno el nombre que quiera por ejemplo x podría ser la variable X La variable mi variable la variable lo que sea y ahora digo x hace referencia x es igual al documento por tanto pongo x = dó el dólar y paréntesis ya es de jquery y por tanto digo con lo que voy a trabajar a continuación es con todo el documento recordad punto y coma para finalizar cada línea recordad ahora x equivale al documento por tanto si yo ahora pongo xre estoy diciendo cuando el documento esté preparado entonces ejecuta una función Qué hacen estas tres líneas lo que dicen básicamente es no tengas prisa no empieces a cargar el javascript antes de que acabe de cargar el html carga el html y cuando el documento esté preparado cuando tengas todos los elementos cargados y correctamente preparados entonces arranca este Script ya que hay veces que arrancamos javascript y javascript empieza a decir coge tal elemento de html y cmbi y html dice ese elemento no existe todavía porque no ha llegado a esa línea porque veis que javascript generalmente se ejecuta en la cabecera antes del cuerpo esto lo que está diciendo es estoy en la cabeza pero no me ejecutes Hasta que el documento no esté completamente preparado ahora si he dicho que cuando el documento esté preparado ejecute la función de inicio voy a crear la función de inicio Cómo se crea una función en javascript se pone la palabra reservada function veis que se pone de color rojo se pone de color rojo quiere decir que es una palabra reservada no la puedo usar para mis fines solo la puedo usar para crear funciones la función de inicio atención cuando creo una función pongo la palabra función pongo la palabra que yo he elegido para el nombre de esa función y a continuación tengo que poner paréntesis porque en los paréntesis de esa función pondré los parámetros de esa función la cuestión es que si una función no tiene parámetros y esta función no tiene parámetros Hay que seguir poniendo los paréntesis aunque estén vacíos y ahora llaves veis que una función es parecida a una estructura de control en cuanto a qué pongo en lugar de If digamos pongo inicio paréntesis y luego las llaves y ahora por Claridad simplemente por Claridad bajo y pongo este código alert Hola diréis qué complejo si esto antes lo hacía yo más fácil directamente solo escribiendo alert Sí pero ahora veréis que complicarlo al principio tiene ventajas al final vamos a ejecutar este código a ver si funciona guardo recargo y el resultado es Hola Cuál es la diferencia de momento Aunque ahora veréis que trabajando con jquery las diferencias son muy grandes y muy beneficiosas e eaba alert h a directamente ahora lo que hago es primero decirle al documento Oye acábate de ejecutar y solo cuando hayas acabado de ejecutar entonces arranca Hola en primer lugar vamos a hablar de selectores y vamos a ver cómo los selectores en jquery son muy parecidos a los selectores en css por tanto Cuál era el selector para ide en css la almohadilla Cuál era el selector para la clase en css el punto luego los selectores en jquery son los mismos que en css en este ejercicio lo que voy a hacer es dentro del Body crear un div sin ID yo soy un di ahora voy a crear un div que tendrá un ID llamado cosa yo soy un div con ID y ahora voy a crear un div que tendrá una clase llamada pasa dir yo soy un di con una clase y ahora vamos a ver cómo podemos vamos a hacer un poco de triángulo Cómo podemos estos elementos en html y asignarles css usando selectores dentro de la función inicio voy crear una variable por ejemplo llamada x ya la he usado antes pero la puedo volver a usar si crees No es una buena costumbre así que voy a llamarla y para no malear y ahora digo atención y es igual a dólar paréntesis div Ahí va Vamos a fijarnos momento voy a quitar el aler porque de momento ya no me hace nada dónde he visto yo esto pues esto lo he visto Yo igual aquí arriba primero declaro una variable y luego pongo variable igual a dólar algo primero declaro una variable y luego digo variable igual a dólar algo un primer ejemplo de algo que Vais a ver constantemente en esta formación Y es que la estructura se repite una vez que ya la conoces ya la puedes usar para lo que quieras y ahora atención e Perdón Esto va con comillas cuando Quiero llamar a una etiqueta hago como en css simplemente pongo el nombre de la etiqueta y ahora voy a usar una de las funciones más sencillas una de las instrucciones más sencillas de jquery que es css Mirad tiene la siguiente función la siguiente estructura y css pero si se vuelve a repetir antes era xre que quiere decir cuando x esté preparado ahora es y. css Es decir modifica el css de y quién es y el div luego modifica el css del dip paréntesis y pongo eso sí mira comillas coma comillas Para qué lo Vais a ver enseguida atención background es igual a Yellow guardo recargo y veo atención que tengo tres divs cuyo background ha sido tintado de color amarillo pero lo ha hecho css no lo ha hecho jquery una demostración de Cómo puedo controlar css usando jquery y no escribiendo directamente css para qué me puede servir esto Ahora más adelante con los ejemplos tranquilos que lo Vais a ver voy a hacer un poco más de código Mirad Cuál es la estructura de esa instrucción pues es y. css Es decir siempre es el selector punto la función lo que quiere decir selector es A quién vas a punto Qué vas a hacer con ello pues y que es el dip que vas a voy a el dip css voy a editar su css y entre paréntesis comillas coma comillas el wid será igual a 400 píxeles y. css puedo repetirlo Tantas veces como quiera el height será igual a 400 píxeles y el Border y. css el Border será igual a un Pixel solid Black guardo recargo atención y tengo Mirad que ahora cada dip tiene color amarillo tiene 400 por 400 y tiene un borde negro sólido de un píxel como hemos visto Dentro de este código css lo que hacemos es primero usar un selector y a continuación usar una función de las que lleva implementada jquery la función una de las más sencillas que es css cuando quiero seleccionar por etiqueta simplemente en el selector pongo el nombre de la etiqueta cuando quiero seleccionar por div igual que en css pongo almohadilla cosa Porque recordad que tengo un div ID igual a cosa guardo recargo y Mirad ahora no ha maquetado el primero no ha maquetado el tercero sino que solo ha maquetado el segundo que es el que tiene div ID igual a cosa por tanto veréis que jquery no hay que aprender tantas cosas nuevas sino que al final dices Bueno pues igual que en css si queréis Llamar a un elemento que tiene una clase tenéis que poner igual que en css un punto pasa guardo recargo Y en este caso no maqueto el primero ni maqueto el segundo sino que estoy maquetando el tercero que es el que tiene la clase llamada pasa En definitiva los selectores dentro de jquery funcionan igual que en css Si tú no pones nada simboliza que estás llamando a la etiqueta si tú pones almilla simboliza que estás llamando al ID y si pones punto simboliza que estás llamando a la clase otro elemento que voy a usar de jquery va a ser el elemento text la instrucción text podría usarlo por ejemplo en lugar de o además de lo que he escrito anteriormente me da igual voy a escribir una nueva variable Z y ahora voy a hacer lo siguiente lo que voy a hacer es decir que Z es igual a dólar el elemento que tenga almohadilla cosa qué estoy haciendo lo que estoy haciendo es Llamar a este elemento bien pues hay una instrucción dentro de jquery que es la instrucción text mete texto dentro del selector text yo soy un texto metido con jquery guardo recargo Oh qué ha pasado dice yo soy un dip yo soy un texto metido con jquery y yo soy un di con una clase Qué ha hecho text lo que ha hecho es seleccionar el elemento que tiene el ID cosa ha quitado el texto que había fijaos que el texto de cosa es yo soy un did con ID y he hecho que jquery escriba texto dentro de ese di es decir puedo elegir el texto que escribo dentro de un div específico usando la instrucción simplemente text otra función del texto no es ya escribir sino leer y lo curioso Es que es la misma instrucción la función texto cuando dentro de dentro del paréntesis lleva algo lo que hace es escribir texto es ese di e introducir texto Pero si yo pongo atención bar Z hace referencia A aquello que tiene ide cosa y pongo z. text lo que estoy haciendo es leer el texto es decir si dentro del paréntesis pongo algo lo que estoy haciendo es decir selecciono el di y le meto texto pero si pongo el text vacío lo que hago es decir selecciono el text y Quiero leer el texto selecciono el cosa y Quiero leer el texto que tenía ahí pero claro sabé Qué pasa que si lo ejecuto no hace nada porque dice vale Yo soy un div yo soy un div con un ID y yo soy un div con una clase y internamente la variable Z guarda el valor de ese dip pero no lo podéis ver así que yo os pongo un ejemplo donde os pongo alert Z text qué hace alert pues carar la pantalla evidentemente guardo recargo Mirad atención y dice yo soy un div con un ID veis lo que he hecho es con jquery tomar ese ID Su contenido y ponerlo en una caja con un alerta al final poco a poco Vamos haciendo que javascript y jqu tengan comportamientos ves allí coge esto Ponlo aquí sácalo en pantalla eso era imposible de hacer con html y css html es enseña esto ya está css es maqueta esto ya está J jquery javascript es ves aquí coge esto ponlo allá haz esto haz lo otro si se cumple Esa condición Hazlo si no pues no lo hagas mientras que text te permite leer y escribir texto plano existe otra función como os podéis imaginar llamada html te permite escribir y leer texto plano en la realidad html se usa muchísimo más que text por tanto digo Z o alert no voy a poner ahora z. html con comillas y pongo br B i yo soy un texto y b Yo ahí no he puesto solo un texto he puesto etiquetas html si ahora guardo y recargo Mirad atenciona la pantalla Mirad como hago así y ahora tengo un br y ese texto es negrita y es cursiva html hace lo mismo que texto simplemente la diferencia es que texto me permite meter texto plano mientras que html me permite meter texto plano y etiquetas html de la misma manera atención de la misma manera otra cosa es que con el alert no se va a notar mucho si este elemento tiene yo soy un di con un ID este elemento tiene etiquetas si yo trabajo html solo sin parámetros quiere decir que estoy leyendo html ahora si y digo alert z. html guardo recargo y Mirad yo soy un div con ID y me saca también las etiquetas de html No se podría Por cierto Esta es la típica pregunta No se podría maquetar aquí cosas dentro de la caja javascript con negritas con títulos y no vale esta caja javascript te muestra texto evidentemente usando jquery y usando japt veremos Cómo hacer cajas flotantes en html que podamos formatear como queramos voy a hacer un ejemplo Mirad voy a borrar todo este javascript voy a borrar todo este html y voy a empezar a hacer algunas cosas grabo guardo recargo no tengo nada perfecto hay una etiqueta en html que hasta ahora no tenía ninguna utilidad pero que a partir de ahora la tiene y es una etiqueta que se llama Button qué va a hacer buton Pues no va a correr Fórmula 1 sino que va a mostrar un botón en la pantalla Así que pongo aquí Button y digo Soy un botón guardo recargo Y qué tengo en la pantalla soy un botón clic clic un botón que puedo hacer clic pero que ahora de momento no hace nada esta etiqueta no tiene sentido en html y en css porque De qué me sirve un botón que al pulsarlo no ocurre nada pues no me sirve de nada pero ahora precisamente estamos en javascript y con javascript tiene mucho sentido usar la etiqueta botón porque ahora voy a poder especificar que cuando pulse el botón pase algo en la pantalla cómo lo voy a hacer bien Vamos a ver primero la elemento click vamos a introducir vamos a traer un poco los eventos más adelante veremos más eventos pero voy a hacer lo siguiente cosas que ya conozco Creo una variable llamada y hasta aquí ninguna novedad ahora cómo le digo a esa variable que llame al botón pues le digo Y es igual a dó y entre paréntesis y comillas pongo button hasta aquí nada nuevo creo una variable y le digo que llame a aquella etiqueta veis no lleva almilla no lleva punto luego llama aquella etiqueta que se llame Button esta etiqueta se llama Button es una etiqueta y a la vez un bón ahora atención eh Para que veáis que es que jquery es fácil si yo querido cambiar el css de un elemento digo y. css si yo he querido leer esbir texto he puesto y Tex si yo he querido leer o escribir html he puesto y. html si yo quiero hacer algo cuando haga clic simplemente voy a poner yci es la misma estructura todo el rato y digo cuando haga quiero ejecutar la función di F Dime me la acabo de inventar yo ahora puede ser dime tú Abuelito dime tú lo que fuera vale el nombre de la función es el que vosotros digáis la función dime existe no la tendré que crear es como atención x. ready inicio primero he llamado a una función inicio luego he creado la función inicio Así que ahora lo que voy a hacer es crear la función Dime functions dime y va a decir alert yo te digo qué hace este código puede que ahora mismo no lo entendáis pero yo os lo voy a explicar empieza el documento leerlo desde la primera línea hacia abajo y veréis cómo lo entendéis empieza el documento y digo cuando el documento esté preparado ejecuta la función de inicio se empieza a ejecutar la función de inicio Por qué Porque la he llamado Si no la hubiera llamado no se ejecutaría y digo creo una variable y llamo al botón cuando el botón haga click Solo cuando el botón haga clic ejecuta la función Dime Solo cuando haga clic me dirá yo te digo cuando yo recargue la página va a aparecer un alert que me diga yo te digo no solo cuando yo recargue la página y haga clic en el botón se ejecutará esa función guardo recargo y aparece un botón Mirad atención un botón pero solo cuando hago click en él es cuando aparece yo te digo esto es un poco más esto se empieza parecer a lo que es javascript que esa que algo no pasa hasta que tú no realizas una acción veis esa instrucción lo que hace Es que solo cuando haga clic sobre el botón entonces ejecuta la función dime comprobamos una vez más solo cuando hago clic se ejecuta la función Dime a continuación vamos a ver dos elementos llamados ad Class y remove Class para esto voy a hacer lo siguiente Mirad en suy un botón pongo atención cuando haga clic en el botón añadiré un estilo al div debajo el botón dirá Hazlo guardo recargo cuando haga clic en el botón añadiré un estilo al de debajo hazlo bien Ahora voy a poner aquí un di un dip a secas que va a decir yo soy el dip de bajo guardo recargo cuando haga click este le meterá un estilo a este debajo lo entendéis de momento bien Ahora dentro de la cabeza html voy a crear un estilo evidentemente será de tipo texto bar css y voy a decir la clase mi clase tiene with 300 píxeles High 300 píxeles background ig Green igual un pel solid Black tengo la clase llamada mi clase que tiene esta anchura esta altura este fondo y este borde a quién se aplica esa clase Ahora mismo a nadie guardo recargo se aplica al de debajo No porque yo estoy diciendo Quien tenga la clase mi clase que se le aplique esto pero este di tiene la clase mi clase no es un Divas secas no tiene la clase mi clase no vale lo que voy a hacer ahora es que cuando haga clic en el botón en lugar de poner alert Voy a hacer bar Z Por qué Z porque me ha dado por ahí podría ser la t podría ser la latina podría ser la letra que queráis O podría ser mi variable es una variable el nombre lo elegís vosotros y ahora pongo atención pongo Z ad Class mayúsculas y minúsculas tienen que estar como yo las he escrito ad Class la c con mayúscula y dentro de ese recuadro pongo Cómo se llamaba la clase no acuerdo a ver se llamaba mi clase ahí lo tenemos vamos a ver lo que hace y a continuación lo volvemos a explicar lo refrescamos guardamos y decimos cuando haga clic en el botón añadiré un estilo al debajo vamos a ver si funciona Hazlo vamos a ver de momento no mi clase principio Class Ah claro por favor qué error más fatal Z es igual a dólar dip si no he dicho A quién le pongo la clase y es que encima Siempre es igual creo una variable selecciono un elemento le aplico algo pues aquí me he dejado creo una variable selecciono el div le aplico una clase vamos a probarlo ahora guardo recargo atención pulso Hazlo y al de bajo se le una clase vamos a volver a hacerlo recargo para deshacerlo cuando haga clic en el botón añadiré un estilo Al Di debajo hago clic y solo en ese momento se le aplica la clase y por tanto el estilo al elemento vamos a refrescar el código qué hago aquí ad cl es añadirle una clase cuando haga clic en el botón se ejecutará dime y dime seleccionará el dip le aplicará una clase y no cualquier clase sino que le aplicará la clase llamada mi clase Voy a hacer ahora otra línea por aquí abajo que diga estoy en html estoy en Body y diga y cuando haga clic en este se lo quitas y pongo button W Qué problema Hazlo e Pero hay un problema ahí y Es que voy a guardar recargar cuando haga clic en este botón añadiré un estilo al de debajo y cuando haga click en este se lo quitas Hazlo Oh ha funcionado si este se supone que es el que pone y este se supone que es el que quita Por qué muy sencillo Mirad Yo aquí estoy llamando a aquel elemento que tenga Button que tenga la etiqueta Button problema Yo ahora tengo dos Buttons Cómo puedo diferenciar que llame a uno y no al otro es muy sencillo miradlo aquí en la pantalla buton ID llamado tu kitas buton ID no tú pones tú quitas y ahora le digo que no llamo al botón sino llamo A aquello que tenga el ID tú pones fijaos que ahora si recargo siempre he recargado por supuesto si pulso este no funciona Solo cuando pulso Este funciona y es trabajar con ides Bueno pues ahora lo que voy a hacer Mirad es lo siguiente en la inicio voy a decir que bar T selecciona A aquello que se llame tú quitas y digo t punto click ejecuta la función quítaselo la voy a crear ahora a continuación fun quítaselo ha bar Z es igual al di Z punto remove Class clase yo qué estoy diciendo atención selecciono el tupones cuando haga clic en t pones ejecuta la instrucción Dime ejecuta la función dime selecciono tu quitas cuando haga clic en tu quitas ejecuto la función quítaselo la función dime le añade una clase la función quítaselo le quita la clase vamos a comprobarlo guardamos recargamos vamos a ver me falta la k de click efectivamente iba a cometer un error gracias vale tiene que tener la c de click porque si no hubiera funcionado Muy bien Entonces ahora lo que hago es hago clic en este y le pongo una clase hago clic en este y si todo funciona correctamente le quito una clase clic en este se la pone clic en este se la quita y veis como Puedo trabajar con css y puedo incluso mantener el css externo y asociarlo Y disociar tanto como quiera a continuación vamos a ver ya que ya conocemos el evento click de jquery vamos a ver los eventos Mouse over y Mouse out que es cuando el ratón eh sale de un elemento y cuando el ratón entra dentro de un elemento voy a borrar todo este código Mirad lo voy a borrar lo voy a reescribir y voy a hacer lo siguiente Mirad dentro del Body creo un vib que se llame ID zona sensible si queréis Pongo aquí yo soy la zona sensible y luego pongo aquí otro div con ID objetivo y ahora voy a hacer lo siguiente atención Mirad arriba en css voy a decir que zona sensible tendrá un wid de 300 píxeles un High de 300 no 200 píxeles un padding de 20 píxeles y un Border de un Pixel Dash Black vamos a ver qué pinta tiene esto guardo recargo y Mirad yo soy zona sensible la zona sensible Es por donde yo voy a pasar el ratón verdad y ahora en css otra vez sigo con css yo digo objetivo va a tener un wid de 300 píxeles un High de 300 píxeles y un background Yellow y un piel dotter Black aco recargo y tengo una zona sensible y tengo una zona que va a sufrir algún cambio lo veis lo que voy a hacer es que cuando pase el ratón por encima de este elemento el debajo cambie porque lo de hacer que cuando pase por elemento Y pase algo ya lo sé hacer en css es H css pero lo que no es que cuando pase por aquí encima otro elemento de la pantalla cambie lo que voy a hacer dentro de la función inicio es lo siguiente Mirad otra vez todo el rato lo mismo bar y es igual a dólar almohadilla zona sensible acabo de usar un selector he seleccionado zona sensible y ahora digo y punto Mouse over en este caso over no lleva mayúsculas Mouse over todo junto todo seguido sin mayúsculas ejecutar la función entra y ahora digo bar T es igual al selector zona sensible podría verlo escrito resumido sí pero así lo veis mejor t Mouse out ejecutar la función sale cuando el ratón entre dentro de esa zona se ejecutará la función entra cuando el ratón salga de esa zona se ejecutará la función sale y las funciones van a hacer lo siguiente fun entra sin parámetros va a serer bar y Latina y es igual al ID objetivo y i. css por ejemplo voy a hacer que el background sea red cuando el ratón entre el background del objetivo será red pero cuando salga Mirad qué copia pega más descargado que voy a hacer pero cuando salga función sale el background del objetivo va a ser hielo qué hace este código lo que hace es seleccionar la zona sensible y decir cuando el ratón entre dentro de la zona sensible ejecuta la función entra cuando el ratón salga fuera de la zona sensible ejecuta la función sale Qué hacen las funciones entra y sale la función entra selecciona el objetivo y cambia su fondo a rojo la función sale selecciona el objetivo y cambia su fondo a amarillo vamos a probarlo guardamos recargamos y atención yo soy la zona sensible si todo ha funcionado bien cuando meto el ratón dentro de esta zona el fondo cambia a rojo cuando saco el ratón fuera De esta zona cambia a amarillo vale entrar es Mouse over cuando el ratón realmente no es entrar es cuando el ratón esté encima de este elemento cuando esté encima de este elemento ejecuta la función entra cuando el ratón Mouse out cuando salga de esa zona ejecuta la función sale Qué hace la función entra como veis cambia el background a Rojo No de cualquier elemento sino del objetivo Qué hace la función sale con respecto del objetivo cambia su fondo a amarillo Así que como veis con click conseguimos que al hacer clic en un elemento otro cambie o el mismo cambie a veces con Mouse over y Mouse out lo que hacemos Es que un elemento cambie cuando el ratón está encima o fuera de ese elemento que yo haya usado Mouse over y Mouse out no quiere decir que obligatoriamente haya que usarlo siempre a la vez el mismo proyecto en un proyecto puedo usar Mouse over y no usar Mouse out y viceversa puedo usar Mouse out y no usar Mouse over Pero lo que sí que es cierto es que si los uso los dos y en este caso los uso los dos aquí arriba estoy un poco duplicando el código porque estoy diciendo lo que pasa cuando entra y lo que pasa cuando sale Entonces lo que voy a hacer es simplificar este código y decirle que en lugar de mouse over voy a usar hover suena de css hover entra coma sale de esta manera Por tanto Mouse over se ocupa solo de lo que pasa cuando el rotón está encima Mouse out se ocupa solo de lo que pasa cuando el rón sale H Contla dos funciones a la vez hover contiene dos funciones y básicamente la función es la que se ejecuta cuando el ratón entra la segunda es la que se ejecuta cuando el ratón sale por tanto podemos comprobar como hover es una simplificación es una contracción a la vez de las funciones Mouse over y Mouse out si ahora guardo y recargo comprobaré como el comportamiento del Script es el mismo voy a hacer otro código en este caso voy a enseñar otro evento que es el evento Mouse move el evento Mouse move es Útil para pocas ocasiones pero para esas pocas ocasiones es muy útil sobre todo para hacer videojuegos es utilísimo lo Vais a ver mous mo lo que hace es ejecutar una instrucción siempre que el ratón se mueva da igual por donde se mueva va a ser siempre que el ratón se mueva Mirad voy a borrar esto voy a borrar la función de inicio voy a borrar incluso esto y ahora dentro del Body voy a hacer lo siguiente Body di ID igual a coordenada x div ID igual a coordenada y ahora div ID igual a zona sensible en estilo la x y la y no las voy a maquetar pero voy a decir que zona sensible es igual a wid de 300 píxeles a High de 300 píxeles y a un Border de un píxel das Black guardo recargo compruebo Y tenemos aquí una zona sensible veis si queréis Pongo aquí yo soy la zona sensible ahí la tenéis como os decía por tanto Mouse over nos permite ejecutar una función siempre que el ratón se mueva da igual que se mueva mucho o se mueva poco siempre que se mueva ejecuta una función voy ahora a escribir en inicio lo siguiente bar y es igual a dó comillas zona sensible he seleccionado la zona sensible voy a hacer algo con la zona sensible y le digo Y mem siempre que el ratón se mueva por dentro de la zona sensible voy a ejecutar función Dime la función dime va a hacer lo siguiente Mirad la función dime va a ser una mezcla de jquery y javascript porque voy a decir bar Z bu realmente bar Pos x ig dólar almohadilla vamos a verlo coordenada x y ahora voy a decir post x html o text me da igual y voy a poner lo siguiente x es igual a encadena que el javascrip se encadena con el signo más y pongo event client x que equivale en javascript a decir dime cuál es la posición del Ratón en la pantalla en el eje x de la misma manera ahora copio vuelvo a copiar bar post y coordenada y digo y es igual event client y vamos a ver si funciona y a continuación lo que hacemos es estudiar el código y ver qué hace cada línea guardamos recargamos y vemos Que Mirad allá por donde voy pasando el ratón si me acerco arriba tiende a ser 00 si me voy bajando hacia abajo tiende a ser cada vez un valor más alto pero atención esos números solo pasan esos números solo se mueven si el rotor está encima de la zona sensible y algo de la zona sensible deja de ejecutarse solo funciona cuando estoy dentro de la zona sensible Así que ahora Mirad atención lo que voy a hacer es estudiar el código y voy a decir que solo cuando esté dentro de la zona sensible ejecutar y solo cuando el rotón se mueva dentro de la zona sensible voy a ejecutar la función Dime lo que hace es poner en la coordenada x ig a y la posición del Ratón en x y en la coordenada y porque recordáis que tenía unos ids llamados coordenada x y coordenada y es igual a lo que sea qué estoy haciendo de esta manera pues solo cuando ponga el ratón por aquí encima se ejecuta el programa Qué pasaría si yo quisiera que me chibara las coordenadas X e Y no Dentro de este vi sino en cualquier parte de la página web Pues recordáis que al final Body es una etiqueta con lo cual si digo no quiero zona sensible quiero Body cambio por Body ejecuto y Mirad como ahora funciona en cualquier parte de la página web esta tontería del mouse move nos abre la puerta a la creación por ejemplo de videojuegos que requieran conocer cuál es tu posición del Ratón o por ejemplo a la creación de software de mapas de calor os acordáis el software de mapa de calor que registra la posición del Ratón donde la gente mueve el ratón por tu página Pues imagínate que si con esto ya estás detectando Cuál es la posición del Ratón de tus clientes Pues en lugar de mostrar esa información en pantalla no la muestras y la vas guardando en una base de datos y un buen día dices Quiero ver la posición por las que las personas han puesto su ratón en la base de datos Y ya lo tienes voy a eh editar voy a hacer que la resolución de esta página El zoom sea Dinámico para con respecto a la resolución de la pantalla para que siempre se quede maximizado y no tenga problemas con múltiples monitores bueno Problemas siempre tendré pero por lo menos este que no lo tenga para eso lo primero que necesito hacer es introducir el Script de jav jquery llamar a jquery porque voy a usar jquery Así que voy a hacer lo siguiente me lo voy a copiar de aquí y lo voy a pegar en este proyecto va a funcionar directamente no va a funcionar porque antes necesito eso tenerlo muy en cuenta necesito copiar la librería y pegarla estaba dentro de ejemplo css si no funcionará que eso es un clásico que se nos suele olvidar a todos copio pego no funciona por qué Porque me ha dejado la librería en la otra carpeta vale Ya tengo esta librería y ahora lo que voy a hacer voy a borrar esta función de inicio voy a empezar diciendo que función de inicio hago bar y selecciona un selector a la etiqueta Body y ahora digo y. css paréntesis pareja de parámetros y digo el zoom es igual a 0.5 vamos a ver si funciona guardo recargo y tengo ahí el zoom al 0.5 Eh Esto que acabo de hacer siempre lo hago que es hacer algo que sé que va a funcionar por qué Porque me permite diagnosticar si he cometido algún error al principio es que hay veces que te pones a escribir 200 lías de código hasta que no escribes 200 no las pruebas y de repente falla Y dices ahora Vete a buscar donde falla vale por tanto veréis que una costumbre muy buena en javascript especialmente porque javas como estáis comprobando cuando falla no dice que ha fallado sino Simplemente no pasa nada en la pantalla es ir comprobando poco a poco y esto os lo voy a decir tanto ahora que no sabéis como cuando sepáis aunque sepáis cometeré errores como todo el mundo vale por tanto probar poco a poco lo comamos funciona 0.2 vale funciona perfectamente muy bien lo he hecho con javascript para ahora poder realizarlo de manera dinámica y por eso lo que voy a hacer es hacer lo siguiente la posición no perdón la anchura es igual a en javascript e anchura no bar anchura es igual a el comando de javascript que me permite averiguar la anchura de la pantalla o la anchura del navegador que creo recordar que era with si no lo sé de memoria lo que voy a hacer es preguntarle a s Google y decirle javascript anchura del navegador alto y ancho del navegador y me dice que es Mira document Body client h o window Inner H Vale pues window Inner Wi y window Inner height aunque creo que screen también lo cogía y bar altura es igual realmente la altura no de falta porque la regla de TR la voy a comprobar con la anchura Así que fuera no voy a declarar una variable que luego no vaya a usar Bien voy a hacer una animalada voy a poner ahora que la el factor de zoom sea directamente la anchura tendré un zoom de 800 un zoom de 1024 una pasada lo que voy a hacer es hacer una página web muy grande ni se ve porque está por ahí bajo eso probablemente es mi cara son los píxeles de mi cara por qué veis los píxeles de mi cara por qué Porque hecho un zoom muy grande lo que hago ahora es Establecer un factor de corrección anchura partido 800 voy a probarlo Oh parece que ahora funciona mejor bien si ahora recargo daos cuenta como la página en todo momento se está reescalado a la anchura de la página por tanto da igual el que entre en mi página qué ordenador tenga da igual qué resolución de pantalla tenga al recargar podría hacerlo sin recargar podía hacerlo a tiempo real eh pero al recargar se le va a poner automáticamente a la anchura perfecta de su pantalla eh un pequeño truco Por qué he puesto 800 y no cualquier otro valor es lo que os estaréis preguntando Porque recordad que mi página tenía 800 píxeles de ancho por eso he hecho 1024 partido la anchura real Perdón anchura Real partido por 800 incluso podéis comprobar os acercáis por aquí que si lo pongo No ya en esta pantalla sino que lo pongo en la pantalla de lado recargo y sea cual sea la anchura de la pantalla se va a ajustar podríais decir no pero es que yo no quiero que me ocupe toda la pantalla yo quiero que tenga un margencel por ejemplo por 1000 y vas a tener un margencel margency la página va a ser la misma aquí que aquí veis la proporción del una demostración práctica de cómo conectar útilmente las piezas que estáis aprendiendo como conectar en este caso javascript que controle a css y css que controle html voy a grabar voy a editar mis funciones porque voy a trabajar ahora con Mouse up y Mouse down mira voy a hacer estilo fuera voy a hacer html fuera en el body voy a poner un Button y voy a poner puls y ahora voy a hacer un bueno simplemente un en el estilo voy a decir que el D tiene un W píxeles un High píxeles y el background va a ser red rojo y el Border va a ser un pixxel solid Black vamos a ver qué aspecto tiene esto mir tiene esto puls lo que voy a hacer ahora dentro de la función es crear una variable y para que voy a cambiarla Llamar al botón y decirle que cuando haga Mouse app o ya que estamos Mouse down ejecutar la función pulsa y cuando haga voy a hacer directamente si queréis y punto Mouse app ejecutar la función de expulsa evidentemente me acabo de inventar tanto la función pulsa cuando veis que he puesto algo en castellano es que me lo he inventado la function pulsa tiene los siguientes tiene el siguiente código es que me lo voy a copiar es que estoy cansado de escribir bar Z selecciona el div y ahora digo z. css quiero que el background sea de color Green y en la opción de expulsa en la función de expulsa quiero que el did tenga el background Blue salvo voy a probarlo atención guardo recargo a ver si todo ha funcionado bien si no me ha dejado nada es rojo cuando yo atención voy a hacer click y lo voy a mantener no lo voy a soltar click y mantener pulso se vuelve verde pero porque he hecho Mouse down pero cuando yo levanto el dedo del rotón se vuelve de color azul Es un comportamiento diferente para cuando pulso y para cuando des pulso cuando pulso como podéis comprobar se vuelve Green se vuelve verde Cuando des pulso Mouse app se vuelve de color Blue digamos es una extensión de Click no diferencia entre Mouse up y Mouse down simplemente cuando haces click que es dentro y fuera pero si quieres trabajar que ocurra algo diferente Cuando pulsas expulses usa Mouse up y Mouse down dos eventos más de jquery son los eventos Focus y blur vamos allá vamos a cargar javascript que se me había perdido probando sobre todo estos eventos Focus y blur están pensados para formularios para elementos de formulario y Mirad en el body yo voy a hacer un campo input type text y voy a hacer lo siguiente el estilo lo voy a borrar en javascript por supuesto voy a llamar a y voy a llamar al input y voy a decir voy a empezar diciendo cuando y haga Focus equivale a decir cuando y haga clic con el ratón dentro de un elemento de formulario voy a ejecutar la función enfoca sab siempre que sea en castellano es una que me he inventado yo y ahora y blur en inglés es desenfocar es desenfoca para qué me sirve esto lo habéis visto mud es fun enfoca ahí me he equivocado es llave bar Z = dó a input y z. css background es Green y ahora digo función desenfoca el background es White Qué hace esto lo que hace Mirad es que cuando yo recargo esto es un formulario cuando yo quiero escribir algo dentro hago click y se vuelve de color verde cuando yo pulso fuera vuelve a ser de color blanco quizás me he pasado un poquito con el color verde por tanto voy a poner rgb 200 coma 25,200 para que en lugar de ser verde tan fuerte sea un verde clarito lo veis Y es más le voy a decir que outline va a ser noun de esta manera con Focus y blur yo puedo hacer que cuando esté dentro de un campo se vuelva de color verde lo típico que a veces no sabes qué campo estás rellenando en el formulario Y que cuando salga vuelva a ser de color blanco para este ejercicio voy a hacer una validación en javascript yo tengo Mirad atención Mirad la pantalla yo tengo un form tengo un input y voy a poner un input type submit un botón de enviar formulario pero yo ahora voy a hacer una cosa voy a adelantar un efecto explicaré a continuación Yo quiero lo siguiente yo quiero que este formulario no se pueda enviar vacío por tanto quiero que hasta que alguien no introduzca texto el formulario este botón no aparezca y además me diga tienes que introducir texto para poder continuar Así que en la función de inicio Mirad lo que voy a hacer en la función de inicio voy a poner bar y = a dólar y de botón envía y esto es entrada por tanto evidentemente Mirad aquí abajo tendré que poner ID = entrada ID igual botón envía y ahora con esto os estoy adelantando una cosa que os voy explicar más adelante voy a decir y. hde qué va a hacer me va a esconder me va a hide el botón envía guardo recargo y vamos a ver botón envía por qué no me lo estás escondiendo y. H vamos a ver un segund algo podos estar haciendo mal voy a poner h con parámetros High Fast botón envía Vale pues mira pongo un botón pongo envía y le digo que me coges Button y me lo escondes pero no me lo está escondiendo Claro no funciona por supuesto ahora sí me lo escondido lo habéis visto por qué no estaba funcionando es muy sencillo y este es un error característico de javascript atención yo estoy llamando porque me lo he dejado aquí del ejercicio anterior a entrada que llama la función enfoca y desenfoca las funciones existen no puedo llamar dos funciones que todavía no existen porque entonces dará error de hecho puedo crearlas vacía vacías enfoca Y function desenfoca si las creo y están vacías entonces vale pero si no veis desaparece habéis visto como desaparece el botón mantengo la animación para que veáis cómo desaparece bien lo que voy a hacer ahora es decir qué pasa cuando enfoca y cuando enfoca lo que voy a hacer es el valor de un elemento y jugar con él vamos a ver Quiero una función If si el input está relleno de texto entonces me muestras el botón de enviar si no si pasa algo entonces vas a hacer algo bar Z = atención Z = a vamos a verlo por aquí Z = a input punto att value vamos a verlo un momentín bien atpr value y digo qué es esto es del input cojo su atributo que es el valor y ahora Digo vamos a verlo realmente puedo esto escribirlo aquí delante aquí dentro si esto no es igual a nada a ver si funciona si eso no es igual a nada en ese caso Me cojo el botón y lo muestro vamos a ver qué pasa Ahí pruebo el botón desaparece hago clic aquí dentro he escrito algo no hago clic ahí y en principio sigue sin enfocar Claro porque es que enfoca Ah vale claro cuando desenfoca es cuando aparece Mirad si yo hago así me tengo que salir fuera del elemento para que se dé cuenta ahora de que tiene texto y por tanto muestra el botón un momentín Mirad recargo tiene texto por mucho que haga clic no lo va a hacer por mucho que haga clic si el campo está vacío no va a mostrar el botón pero si muestro el campo Pero Teo que hacer click fuera y clic dentro por qué vamos a ver porque muy fácil si hago clic aquí y hago clic fuera eso qué es blur o Focus es blur pero el blur desenfoca no tiene programado nada Solo cuando vuelvo a entrar es cuando entra el botón porque es cuando comprueba si tiene algo por eso lo que voy a hacer es copiar todo esto así directamente sin miramientos dentro de desenfoca Por eso ahora escribo y al hacer clic aparece el botón el típico que me dice que no puedo rellenar no puedo continuar hasta que no rellene el formulario por ejemplo voy a hacer lo siguiente Mirad voy a continuar voy a completar un poquito más El ejemplo botón forma d ID igual rellena hasta que no rellene el campo no pasas hasta que no rellenes el campo no pasas lo habéis visto en un montón de formularios Pues yo quiero que cuando haya rellenado el campo este mensaje desaparezca verdad pues yo ahora aquí le digo bar Z no bar y igual Cómo era el di ID rellena y text es igual a nada ponle nada o ponle vale puedes pasar copio pego y pasa lo siguiente escribo algo vale puedes pasar Y de esa manera veis como a la vez está pasando que me enseña el botón y me cambia el mensaje vamos a empezar a trabajar con efectos y para eso lo primero que voy a hacer es crear un archivo html donde voy a empezar hablando de un efecto llamado hide y otro efecto llamado show además voy a mostrar el zoome ador de pantalla y así veréis mejor el código que estoy escribiendo tengo por tanto un Head tengo por tanto un Body y dentro del Head lo primero que voy a hacer que de hecho me lo podría copiar del otro día Mirad efectos me voy a copiar la llamada al archivo jquery y luego voy a hacer una etiqueta de Script donde voy a escribir mi propio código aquí Me falta una etiqueta de cierre de Script y ahora sí type text barra javascript Bien dentro del Body tengo esto preparado para empezar a trabajar dentro del Body voy hac hacer lo siguiente voy a hacer un botón con ID Mostrar Cerramos el botón y voy a poner aquí a continuación voy a poner Muéstrame ya está voy a hacer otro botón a continuación en el que voy a poner ocultame y el ID será ocultar y luego voy a poner un did ID igual a texto Cerramos el did donde voy a poner el clásico lorem voy a lipsum.com voy a copiar y pegar copio pego Y si ahora recargo en la pantalla veo que tengo esto veo que tengo un botón de Muéstrame y un botón de ocúltate y un texto que va a ser mostrado y ocultado a continuación usando javascript y evidentemente usando jquery voy a conseguir ocultar y Mostrar ese div o En definitiva podré ocultar y Mostrar cualquier elemento a continuación usando jquery voy a ser capaz de Añadir dos efectos básicos que son estos efectos de mostrar y ocultar para que se muestre este di Lo importante es que entendáis que no solo sirven para este sino que sirven para prácticamente cualquier cosa para mostrar y ocultar cualquier cosa que os podáis imaginar por eso dentro de esta etiqueta dentro de la etiqueta Script voy a empezar escribiendo bar x hace referencia al document y cuando x. ready cuando x esté preparado quiero ejecutar la función de inicio a su vez va a hacer lo siguiente bar y donde y hace referencia a aquel elemento que tiene el ID llamado Mostrar y digo cuando I pun click cuando haga y. click ejecutar la función mostrando y ahora defino bar Z hace referencia a aquel elemento que tiene el ID ocultar cuando z. click ejecuté la función ocultando Qué hacen las funciones mostrando y ocultando de momento no lo sé porque no lo has escrito todavía por tanto function mostrando y function ocultando y digo funto ocultando bar T hace referencia a aquel elemento que tenga el ID texto y digo t pun hde t. hide lo que hace básicamente es ocultar el elemento que yo haya especificado aquí arriba si t es igual al texto y digo t. H lo que estoy diciendo es ocúltate el texto Ahora aquí arriba voy a hacer justo lo contrario la función mostrando lo que hará ests qué ha pasado aquí qué ha pasado en este código pues lo que estoy haciendo en este código es decirle que cuando pulse el botón Mostrar lo que haré es Mostrar el texto show el texto y cuando pulse el botón ocultar lo que haré es ocultar el texto vamos a ver si funciona guardo recargo Y si ahora pulso ocúltate oculto el texto y si ahora pulso Muéstrame muestro el texto como podéis comprobar el efecto más sencillo que es hide y que es Show me permite para ocultar y Mostrar aquellos elementos que quiera si yo no especifico ningún parámetro dentro de hide y dentro de show lo que estoy haciendo Es especificar que quiero ocultarlos y mostrarlos inmediatamente sin embargo Mirad dentro de hide dentro de show puedo meter parámetros atención tales como por ejemplo Fast escrito comillas Fast si pongo Fast se establece Mirad una velocidad de ocultación y de mostrado rápida veis que se realiza una animación donde los elementos se muestran y se ocultan rápidamente fast se puede cambiar por Slow siendo Fast igual a rápido Slow igual a lento Mirad guardo recargo por supuesto si digo ocúltate veis que se oculta lentamente Y si digo Muéstrame se muestra lentamente por supuesto si pones en uno Slow No tienes por qué poner en otro Slow sino que puedes poner por ejemplo que se oculte lentamente y que se muestre rápidamente y luego por último deciros que en lugar de Slow o en lugar de fast podéis poner un número por ejemplo voy a poner 1000 cuaro recargo atención Mirad Y si digo ocultame Y si digo Muéstrame tarda exactamente un segundo o lo que es igual 1000 milisegundos en mostrarse y ocultarse en javascript tener en cuenta que el tiempo siempre se mide en milisegundos por tanto 1000 equivale a un segundo si por lo que sea quio quiero que tarde voy a poner un poco una aberración quiero que tarde 10 segundos en ocultarse lo que haré es poner 100000 recargo pulso ocultar y fijaos como tarda 10 segundos así vemos mejor el efecto en ocultarse Y si quiero que se muestre hago clic en Muéstrame y tarda 10 segundos ni uno más ni uno menos en mostrarse vemos por tanto Cómo podemos controlar mediante el parámetro vad de hide y de show y que si no pongo ningún parámetro en hide y show lo que estoy haciendo directamente es asumir que no quiero animación sino que quiero un Mostrar y ocultar inmediato a mí realmente hide y show no me gustan particularmente porque cuando yo pongo hide y pongo show Yo espero que los elementos se muestren y se oculten y para mí quizás por el modelo mental que tengo de programas de animación Mostrar equivale a ganar transparencia ganar opacidad perdón y ocultar equivale a ganar transparencia pero si os fijáis si lo pongo en Slow si pongo aquí Slow y aquí pongo Slow fijaos que no solo se pierde transparencia sino que parece como que la caja se está haciendo pequeña es una doble animación si os fijáis Por una parte se transparencia y opacidad y por otra parte se hace grande y se hace pequeño bien pues a m lo de que se haga grande y se haga pequeño no me gusta sino que únicamente me gusta que gane y pierda transparencia dos efectos que me gustan más que show y que Hi son los efectos de fade in y fade out fade in y fade out lo que hacen es jugar solo con la no jugar con la escala del objeto Mirad por tanto lo que voy a hacer es simplemente Dentro de este programa que ya tenía desarrollado poner show quitar show y poner fade in la i con mayúsculas fade in y donde ponía hide voy a poner fade out equivale a ocultar fadein equivale a mostrar sin embargo si comprobamos el resultado en pantalla atención Mirad si yo digo ocúltate lo que hace es que me oculta solo la transparencia Y si le digo Muéstrame me muestra solo la transparencia veis el texto no se hace pequeño ocúltate Muéstrame y como podéis ver se cambia únicamente la transparencia de en este caso el di de texto no se cambia la escala ni el texto empieza a desaparecer en líneas ni todo esto igual que con hide con show el fade in y fade out tiene parámetros de Slow de fast Mirad guardo recargo oculto rápido muestro rápido veis que hay una pequeña animación si quito Fast y Slow la ocultación es automática es decir No inmediata pero automática Y si pongo una cantidad de tiempo voy a poner 5000 tardará los milisegundos que yo haya especificado ocultar y tarda atención 5 segundos ni uno más ni uno menos en ocultarse o en mostrarse vo a mostrar y tarda 5 segundos en venir a pantalla veis por tanto que al final si ya sabes trabajar con hide y con Show fade in y fade out son exactamente iguales un elemento parecido a fade in y fade out que se puede combinar como queramos es el elemento fade to yo por ejemplo voy a poner ahora 1 milisegundos un segundo solo guardo recargo ocultame Mirad Ah y lo voy a poner con fade y fade out guardo recargo me oculto tarda un segundo en ocultarse y se oculta completamente pulso Mostrar y tarda un segundo en mostrarse y se muestra completamente ahora en alguna ocasión podréis decir es que yo cuando quiero ocultar no quiero que se oculte del todo sino que quiere quiero que se quede a un 50% de transparencia para eso tenemos el método llamado fade to aquí donde pone fade out voy a poner fade to y lo que voy a hacer es lo siguiente voy a poner en F to el porcentaje de transparencia donde uno es opaco cero es transparente y evidentemente 0.5 en este caso sería un intermedio entre los dos guardo recargo Mirad oculto y se queda al 50% voy a hacer lo siguiente voy a poner Slow coma 0.5 oculto y fijaos que ha tardado en velocidad Slow eh como medio segundo por ahí pero se ha quedado al 50% de transparencia veis no ha desaparecido del todo si ahora le di Muéstrame se vuelve a mostrar tendría que decirle fade to voy a copiar y pegar F to Slow hasta 1 veis Vamos a ver oculto hasta 0.5 muestro hasta un es más Mirad ahora voy a ocultar hasta 0.2 y voy a mostrar hasta 0.7 oculto hasta 0.2 veis que casi no se ve pero está ahí Y luego muestro hasta 0.7 no está al 100% de opacidad con fa to por tanto podéis elegir Hasta qué punto queréis ocultar o hasta qué punto queréis Mostrar hasta ahora tanto con hide como con show como con fade in como con fade out como con f nos hace falta una función para mostrar y otra para ultar y por tanto Al final nos hacen falta dos botones uno para mostrar y otro para ocultar hay una función que se llama toggle que nos permite simplificar esto con un único botón es decir Mirad atención yo doy Mostrar es que si ya está mostrado no hace nada Yo le doy ocultar pero si os fijáis un interruptor de cualquier habitación el mismo interruptor te sirve para pulsar para encender y Apagar y el interruptor ya detecta si está apagado te lo enciendes si está encendido te lo apaga pues eso es togel voy a eliminar un botón voy a crear el botón llamado Hola con el ID llamado actúa y ahora voy a hacer lo siguiente digo cuando pulse en aquel botón que tiene el ID actúa quiero ejecutar la función actuando bar Z hace referencia al texto y ahora digo Z tole como dar la vuelta con Slow atención Mirad guardo recargo y ahora si pulso Hola se oculta el texto pero es que si vuelvo a pulsar Hola se muestra Así que gracias a tole podremos conseguir que el mismo botón sea el que muestre y sea el que oculte voy a empezar este proyecto en el que voy a aplicar todo lo que hemos visto hasta ahora voy a aplicar html Voy a aplicar css y le voy a dar dinamismo con javascript y con jquery por tanto en este archivo que tendrá el ID llamado contenedor y ese contenedor tendrá a su vez dos dips uno que se llamará cabezal que es donde voy a poner las herramientas para alinear cambiar de fuente y cosas así y otro div ID llamado página dondequiera podrá escribir así que lo que voy a hacer En definitiva es decir que content editable igual a true para que la gente pueda editar dentro de ese div yo soy un texto y ahora guardo recargo veo que tengo un texto y que además es editable así que ahora con css con estilo cs voy a poner un Style type text bar css y voy a decir que el html body el html y el body vaya con tanto javascript se no estaba olvidando ya el css verdad y le digo que margin es cer padding es cer le digo también que el background va a ser de color gris al contenedor es decir almohadilla contenedor le digo que el fondo va a ser blanco que el wid va a ser por ejemplo de 800 píxeles en mi caso que tengo un monitor pequeño que el High va a ser de 10000 píxeles más o menos un folio A4 y un Box Shadow donde pondré cco píxeles 5 píxeles 15 píxeles Black para qué voy a ver qué he hecho con esto guardo recargo y fijaos que lo que tengo es un folio tengo un folio blanco como por encima del fondo lo he tenido que hacer zoom porque tengo un monitor de 1024 y lo estoy viendo mitad de pantalla por tanto hago el zoom y al contenedor le digo atención margin do auto para que se sitúe en el centro de la pantalla Así que no tengo ya aquí un texto sobre el que escribir no tengo ya una página en blanco sobre la que escribir bien pero no puedo formatear no puedo hacer nada de esto lo que voy a hacer ahora es decir que el cabezal tendrá un Wi del 100% un background de rgba 0.2 y ahora le digo que tenga un High de por ejemplo voy a empezar con 24 píxeles a ver qué pasa bien Mirad lo veis tengo ahí un cabezal donde empezaré a poner botones de alinear archivo nuevo cursiva negrita y todo eso y abajo tengo el texto además dentro de la página voy a poner página voy a ponerle simplemente un padding de 25 píxeles Y de esa manera el texto quedará mejor centrado en la pantalla voy a copiar y pegar voy a hacer un simulacro y veis como estoy escribiendo una especie de Word en línea lo que he hecho de momento es con html este Word a continuación voy a diseñar unos cuantos iconos para el cabezal y para luego poder tratarlos con javascript para eso lo que voy a hacer es usar inks escape que es un programa de ilustración vectorial específicamente eh recomendado para diseñar botones para programas voy a crear un botón en este caso Vamos a darle un color gris clarito voy a darle un borde el relleno y el borde está por aquí color de trazo está blanco voy a ponerlo si queréis gris pero el estilo de trazo será mucho menor por lo que le diré que va a tener un píxel y ahora tengo este objeto que de ancho mide 61 voy a hacer que mida 32 por 32 y tengo ya por aquí un botón bien este botón me va a servir para crear múltiples efectos de hecho voy a hacer un botón 3D y para eso voy a hacer un relleno donde podré especificar la dirección del relleno esa plantilla de botón me va a servir para crear un montón de efectos un montón de elementos por tanto ahora lo que voy a hacer es empezando a crear los botones de por ejemplo alineación y digo un botón por aquí le digo que las uniones serán redondeadas y quizás que el texto sea más grueso y hago así copio y pego lo hago más grande cuidado lo hago más grande así duplico Y por último duplico la distancia entre líneas es igual es la misma no pero para eso tengo unas herramientas de alinear y distribuir que me van a permitir hacer que la distancia en vertical sea la misma qué nos sugiere este botón nos sugiere que voy a alinear a la izquierda por tanto yo copio esto y digo exportar mapa de bits exporto la selección 32 píxeles examino y digo que lo exporto en Master web actual editor voy a crear una carpeta img para guardar imágenes y llamo a esta imagen alinear ierda exporto si ahora voy a esa vamos a ver si ahora voy a esa carpeta voy a Master web actual editor y mg veré que he creado un botón a partir de ese gráfico vectorial y ahora por supuesto en html dentro del cabezal meteré una etiqueta img src img barra alinear guiz png vamos a ver si he puesto el nombre correctamente parece que sí tenéis ya por tanto esperad que lo haga un poco más grande el botón de alinear a la izquierda no es un botón es una imagen no pasa nada ahora luego con javascript lo vamos a convertir en un botón voy a editar un poco el botón voy a retocarlo un poco veis que algo no cuadra porque el cabezal tenía una altura de 24 píxeles pero el botón tiene una altura de 32 luego voy a hacer que el cabezal tenga una altura de por lo menos 34 para que lo pueda contener y ahora voy a volver a editar el gráfico voy a hacer un degradado relleno lo voy a editar y voy a decirle que este de aquí sea de color gris o de color blanco y este de aquí abajo se ha de un color gris un poco más oscuro veis así tengo un botón con una ligera forma 3D exporto reemplazo voy a visualizar y tengo ya ahí el botón con una ligera forma 3D insisto ahora mismo es una imagen yo hago clic y no hace nada pero evidentemente más adelante haremos que Ese botón realice alguna acción no lo habéis visto Claro pues lo vuelvo a repetir y ahora lo que voy a hacer es seleccionar este botón lo duplico lo modifico para decir que esta Va a ser la alineación centrada por tanto selecciono exporto y digo esto se a llamar alinear al centro exporto y ya que estoy esto se va a llamar alinear a la derecha exporto ya existe y este de aquí se va a llamar alineación justificada son los típicos iconos de programa de ofimática alinear justificada y ahora me voy a guardar esto para en un futuro poder editarlo editor y mg botones para no perderlo y ahora vuelvo aquí Mirad y puedo incluso Por qué no atención copiar esa línea y pegarla y mg alinear derecha alinear centro y alinear atención justificado guardo recargo Mirad tengo ahí los cuatro botones el último ha fallado porque parece que no era alinear justificado sino alinear justificada una sola vocal que falla y la imagen ya no carga Pero corrijo la vocal que haga falta evidentemente recargo y ya tengo ahí los cuatro botones ya tengo ahí cuatro botones y lo que voy a hacer es a continuación empezar a hacer que esos botones realmente modifiquen mi texto lo que haré ahora por tanto es poner ya este programa en funcionamiento por lo menos en un mínimo funcionamiento voy a copiar loremipsum.net de esta aplicación pero así Contamos con un texto largo que se pueda comprobar fácilmente Mirad tengo esto alineación por defectos a la izquierda lo veis atención Mirad a la izquierda lo que tengo que hacer ahora con javascript y con jquery es que estos botones funcionen y que estos botones me permitan alinear correctamente el texto Mirad de probando Me voy a copiar la etiqueta Script la voy a pegar aquí en el Head y por tanto lo que he hecho es importar a jquery y ahora voy a crear mi propio Script type Script a texto barra javascript y pongo bar x hace referencia al documento cuando x. ready ejecuta la función inicio y la función inicio de momento sin parámetros hace lo siguiente cada botón va a tener un ID son imágenes pero los voy a convertir en botones ID = a i de alinear a la izquierda copio y pego esta será a d de alinear a la derecha esta será AC de alinear al centro y esta será a j de alinear justificado lo que importa es que ya les he puesto un ID por tanto ya las puedo seleccionar y ahora la función inicio dice bar X Ya he usado x antes pero no pasa nada puedo usarlo otra vez y ahora digo x hace referencia A aquello que tenga el ID alinear a la izquierda a i lo mismo que ponga en un sitio tengo que poner el otro cuando x punto click entonces ejecutar la función alinear a la izquierda al I la función Ali veis si allí arriba pongo Ali abajo tengo que poner Ali va a hacer lo siguiente bar x se puede volver a repetir hace referencia a la página y x. css le añade la propiedad text align es igual a left ya está pero sabéis qué pasa he empezado con el peor que podía empezar porque es que el texto ya estaba alineado a la izquierda así que bueno voy a probarlo para comprobar que simplemente no pasa nada No es que no pase nada sino que simplemente le estoy dando una propiedad que ya tenía vale Pero lo que voy a hacer ahora es simplemente repetir este código y decir cuando seleccione primero selecciono ad alineo a la derecha hago una función llamada alinear a la derecha copio esta y digo Ali se convierte en al D fijaos si aquí pongo al D aquí pongo al d y le digo que el align me lo hace e no right a la derecha guardo recargo vamos a ver si funciona por supuesto para que esto funcione en la carpeta del proyecto tiene que estar copiado el archivo jquery ya que si no funcionará bien guardo recargo si pulso este botón se alinea a la izquierda si pulso este botón se alinea a la derecha veis como acabo de empezar y hacer el resto va a ser repetir esto hasta el infinito y más allá vale veis como ya he conseguido formatear un texto usando dos botones y jquery permitidme continuar y acabar con los cuatro botones como os podéis imaginar Esto va a ser cuestión de copiar y pegar si ahora digo que quiero maquetar un copiar y pegar es que no tiene más alinear al centro y alinear justificado alinear al centro ejecutar la función al c y alinear justificado ejecutar la función al j y ahora me copio las funciones y digo alce alinea al centro enter y al F alinea con justify guardo recargo voy a hacer la pantalla grande para que se vea mejor el efecto y tengo con los cuatro botones alineación a la izquierda a la derecha alineación al centro y alineación justificada vamos a ver porque texaline es igual a justify Alf claro es que he puesto Alf y es al J veis una sola que te equivoques y ya no funciona una sola vocal consonante que te equivoques izquierda derecha centro justificado y veis como javascript nos ayuda a hacer más dinámica la página hasta ahora y de hecho a partir de ahora continuaré prácticamente igual pero hasta ahora os he estado ando la versión para niños de jquery la versión simplificada de jquery en la versión simplificada de jquery cada cosa que hacemos Es un paso diferente Y de esa manera escribimos mucho código y eh Y lo podemos entender perfectamente y podemos ir línea a línea Sabiendo Qué hace cada trozo del código el problema lo podemos ver ya Con este código que tenemos en pantalla es que al final tenemos tanto eh tantas líneas que en nuestra cabeza aparece el pensamiento Esto no se podría simplificar sí que se puede simplificar pero atención la simplificación siempre va a ser a Costa de aumentar la dificultad en la lectura del código Cómo puedo simplificar yo esto pues Mirad por ejemplo para la función de inicio voy a hacer dos simplificaciones una más suave y otra más fuerte voy a decir que realmente no me hace falta declarar una variable para a esa variable asignarle un selector para ese selector asignar una función porque fijos esto es x ig esto x click Pues yo puedo hacer perfectamente esto si esto es igual a x por qu no puedo hacer esto Pues sí que puedo hacerlo y es más si ya tengo el selector y tengo la instrucción para qué me hace falta ahora la variable la elimino y lo que estoy haciendo de esta manera un momento porque esta es la primera simplificación luego haré la segunda que es más compleja lo que estoy haciendo de esta manera es decirle directamente selector y función ya no me hace falta cargar una variable para esa variable asignar un selector para esa selector asignar una función voy por tanto a hacer lo mismo con el resto de líneas y a continuación por supuesto vamos a comprobar que funciona clic y clic veis he pasado de tener 12 líneas de código a tener cuatro líneas de código pero la dificultad ha aumentado un poquito en este caso vamos a comprobarlo atención guardo recargo y fijaos como izquierda derecha centro justificado es decir sigue funcionando perfectamente pero voy a ir más allá voy a seguir simplificando y voy a pensar lo siguiente Yo estoy aquí en Index y digo cuando hago clic ejecuto la función Ali está aquí al ejecuta esta función alc ejecuta aquella función Por qué tengo que tener las funciones separadas Por qué no cuando hago clic aquí no le puedo decir directamente lo que quiero hacer la cuestión es que puedo Pero cuidado esto requiere que haga lo siguiente atención voy a copiar esta función y a Palo Seco la voy a pegar aquí de hecho si la pego ya no me hace falta si la pego ya no me hace falta que se llame función Ali porque Ali me hace falta cuando la llamo arriba la llamo abajo y la tengo que identificar Ahora puedo decir que simplemente es una función escribo function dos puntos tal empiezo a comprimir el código y digo un momentín bar x me sobra bar x me sobra y digo página css elimino y ya lo tengo así que por ejemplo vamos a comparar con click a tengo que llamar a L Aquí tengo que crear una función aquí y tengo que Definir la variable y tengo que gastar líneas de código sin embargo con Ali lo que he hecho es selecciono a cuando haga clic ejecuto una función que selecciona la página y le da el css text Aline a la izquierda ojo es menos código pero ahora se ha complicado guardo recargo compruebo que sigue funcionando Mirad sigue funcionando voy a hacerlo con todos de hecho puedo copiar y pegar atención me voy a cargar estas funciones y voy a hacer lo siguiente atención click copio y pego y digo este va a la derecha este va al centro y este va justificado guardo recargo y compruebo como el funcionamiento es el mismo Solo que punto número uno he reducido la cantidad de código que tengo y a la vez he aumentado la complejidad de la lectura de ese código porque cómo traduciría esta línea antes se podía Traducir línea a línea ahora esto se traduce de la siguiente manera atención selecciono el elemento con ide a y le digo que cuando hago clic ejecuto una función que selecciona la página y leña del css text Aline left es legible Pero esto es digamos entre comillas como leer en alemán que dices vale veo un montón de palabras y no sé ahora mismo Cuál es el verbo y cuál es el sustantivo y cuál es el tal vale por tanto que sepáis es más queréis una simplificación más fuerte todavía la podemos hacer qué pasa con esto de aquí arriba Pues que yo le puedo decir que en lugar de que ejecute la función inicio le digo esto me lo cargo y digo cuando el documento esté preparado ejecuta la función de inicio pero es que es más la función de inicio la voy a meter ahí dentro me cargo la palabra inicio y función la meto ahí dentro y no tengo que crear una variable x no tengo que decir que cuando el documento esté preparado guardo recargo compruebo como sigue funcionando perfectamente Así que En definitiva como veréis hay un javascript para y un javascript para expertos cuál tenéis que usar yo os recomiendo usar el javascript para niños donde si cometes un error es más fácil detectar dónde lo has cometido y luego cuando ya controlé perfectamente el de niños os pasáis a este que es el simplificado que es donde escribimos menos líneas de código pero a la vez el código se vuelve menos legible y por tanto aumentan las probabilidades de que cometamos un error y no sepamos localizarlo el problema aquí fijaos está en que si os ponéis a contar es difícil sobre todo es difícil por esto Mirad en que esta este paréntesis se abre aquí dónde se cierra aquí no Estos son dos se cierra aquí tampoco se cierra aquí Ahí es donde se pierde la legibilidad y esta llave a qué corresponde esta llave corresponde aquí y este paréntesis veis y esta llave de aquí a quién corresponde pues a esta de aquí y esta de aquí este paréntesis a este paréntesis Ahí es donde se pierde la legibilidad fijaos Mirad Aunque eso sí sigue funcionando perfectamente lo que voy a hacer ahora es crear más elementos voy a vamos a ver editor Index Aquí está voy a crear más elementos para este editor de texto para ello voy a recordar que tenía por aquí el programa in escape con el que estaba diseñando los botones y voy a seleccionar un botón lo voy a pegar aquí abajo veis como me estoy haciendo una colección de botones y voy a decir que le pongo una letra b y la B va a ser negrita Así que negrita y tengo una letra b ahora duplico pego esto aquí esta letra La edito la convierto en una I y le digo que va a ser itálica y creo por tanto unos iconos con los que si todo va bien el usuario debería entender que este es el icono de negrita Este es el de cursiva y voy a hacer otro icono en el que voy a poner una u le quito la cursiva y evidentemente dibujando un poquito me cojo esto de aquí copio pego y hago un pequeño subrayado con lo cual la gente deberí entender que pulsar Ese botón equivale a subrayar todo el texto ahora exporto y digo esto es formato gub esto es formato guion itálica Y esto es formato guion subrayado de vuelta html edito estas imágenes y digo tengo tres y digo la primera es formato gu negrita he puesto Bol vale Bol el siguiente es formato itálica y el último es formato subrayado los ids no pueden ser iguales formato bold formato itálica formato subrayado fb fi me lo estoy inventando son identificadores que me sirven para luego poderlo localizar dentro de javascript hago así fijaos que ya tengo tres botones más Que de momento no funcionan para negrita para itálica y para cursiva y ahora lo que voy a hacer por tanto es volver a javascript y escribir me copio estas tres líneas lo he separado con un espacio simplemente para separar bloques incluso podría poner comentari sería bastante recomendable para más adelante poder Recordar qué hacía cada línea estilo y esto era alineación y ahora digo cuando haga clic en aquel elemento vamos a pensarlo selecciono el elemento formato negrita cuando haga clic en él ejecutar la función que al elemento página le daré el css font weight bold cuando pulse sobre el elemento fi a cuando haga clic sobre él ejecutar la función que seleccionará la página y le aplicará font Style italic cuando haga clic sobre el elemento llamado fs creo recordar Igual me estoy equivocando pero si no ahora luego lo compruebo con las plantillas que era font Style underline guardo recargo vamos a ver qué efecto tiene esto texto centrado a un lado y a otro y ahora texto en negrita texto en itálico y texto subrayado parece que no vamos a ver a continuación qué puede ser lo que voy a hacer ahora es cambiar en lugar de fonte Style voy a poner text gu decoration con loal ual Ahora sí comprobaré como tengo negrita itálica y subrayada el problema ahora mismo es que eh si yo pulso negrita no se quita la negrita porque negrita sirve solo para poner no sirve para quitar claro Yo podría hacer otro botón al lado que fuera para quitar negrita verdad Pero el usuario no está acostumbrado a esto el usuario está acostumbrado a que si pulsa un botón se pone negrita Y si pulsa ese mismo botón se quita la negrita todos lo hemos hecho verdad en proces de texto en correos vale vamos a ver cómo podríamos hacer esto simplemente con javascript lo que voy a hacer es lo siguiente Mirad atención arriba del todo es más fuera de jquery voy a crear una variable llamada negrita que voy a igualar a cero es negrita no Uno será negrita Sí verdad y ahora voy a hacer lo siguiente Creo una función que va a hacer lo siguiente Esta es la función de negrita me hago espacio y digo estoy dentro de la función verdad dentro de la función eh dentro de la que convierte negrita y digo si negrita es igual a cer entonces Pon el objeto en negrita y haz que negrita sea igual a uno si no Y ahora os explico el código si no Haz que el tamaño de el peso de la Fuente sea normal y negrita sea igual a cero vamos a ver si funciona primero vemos si funciona y luego explico el código guardo recargo y vemos que a ver si ha funcionado correctamente pulso este botón y se convierte en negrita y sio ha ido bien pulso el botón y se vuelve a convertir en letra normal lo habéis visto Mirad pulso y se convierte en negrita pulso y se convierte en letra normal Por qué ha funcionado voy a explicar el código creo una variable llamada negrita que empieza siendo igual a cero recordad lo que he dicho negrita es igual a cer y cer es igual a que no es negrita normal y ahora digo atención cuando haga clic en Ese botón voy a comprobar si negrita es igual a cer o si negrita es igual a 1 si negritas igual a oer atención Mirad la pantalla si negritas igual a oer ejecutar este código si negritas igual a un ejecutar este código verdad If Else una decisión de verdadero o falso si negrita es igual a oer quiere decir que el texto no es negrita luego pongo el texto en negrita pongo el texto en negrita y la lía siguiente digo negrita es igual a un para la próxima vez que me pulses ten en cuenta que negrita ya no es igual a cer negrita es igual a un es decir negrita es igual a activado atención Mirad la pantalla la próxima vez que yo pase por aquí dirá cuando haga clic en el elemento negrita es igual a cer no es falso es igual a un si es falso le diré que le pongo un font weight normal le quito la negrita le quito la negrita y en la última línea digo negrita es igual a cer le quito la negrita luego Negrita desactivada negrita es igual a cer0 este es un ejemplo por tanto en el cual vemos varias cosas Cómo combinar varias piezas Cómo usar variables Cómo usar funciones Cómo usar jquery y Cómo usar las estructuras de control que nos van a servir en este caso una estructura de control If para que el programa haga lo que nosotros queramos es la forma extendida fijaos que con la forma extendida yo lo que he hecho es introducir saltos de línea en cada una de las operaciones con la forma abreviada Yo podría ahora empezar a suprimir y empezar a ponerlo todo en una sola línea sin embargo si me lo permitís en esta ocasión como el código se complicaría una barbaridad lo voy a dejar así como está voy a dejar con saltos de línea para que entendáis qué hace el If Y qué hace el Else voy a hacer Ah lo mismo con la itálica y con la cursiva para ello arriba del todo voy a empezar haciendo una variable llamada itálica igual a cer y una variable subrayada subrayado igual a 0 ahora es que incluso Mirad atención incluso lo que voy a hacer es copiar y pegar todo este código condicional copio y aquí en la función aquí pego y digo si itálica es igual a 0 text font Style es igual a italic pero si itálica Perdón itálica es igual ni itálica No itálica pero si itálica es igual a un en ese caso el font Style será igual a normal e itálica será igual a cero es lo mismo cambiando las variables voy a volver a repetirlo si hasta aquí veis Este es el problema contar llaves y saber que es hasta esta llave y no hasta esta Porque si cogiera una demás o una de Menos fallaría ahora cojo la función y desde aquí hasta aquí voy a copiar pegar borro voy abajo pego y digo si subrayado es igual a digo que text decoration es igual a underline subrayado es igual a 1 si no text decoration no pondré normal sino que pondré n ninguno y subrayado es igual a C compruebo y compruebo como negrita sí y no itálico sí y no subrayado sí y no En definitiva repetimos la estructura para en cada momento comprobar el valor de la variable y actuar de una manera o de otra al final el valor de 0 y un para negrita itálica y subrayado es una variable interna nuestra que ponemos porque que nos da la gana entonces no es que siempre cero tenga que ser apagado y uno encendido Aunque evidentemente por motivos lógicos se recomienda que sea así Pero podemos saltarnos esa recomendación entonces yo voy a hacer que por ejemplo es más o sea para que lo veáis lo voy a poner hasta en valenciano voy a poner que negrita es igual a apagad que en castellano sería apagado apagad o sea para que veis que puede ser la palabra el término que vosotros queráis Y ahora yo bajo aquí abajo y digo negrita es igual a apagad pues entonces ha eso y negrita es igual a en ses voy a no poner acentos para no complicar la cosa els negrita es igual a apagad apagado y en ses apagad y en guardamos probamos y comprobamos como formateo texto y al llegar aquí Negrita itálica subrayado los valores de on y off son los que tú quieras lo que pasa es que se recomiendan que sean cer y uno porque todo el mundo trabaja poniendo falso igual a 0 verdadero igual a uno si haces esto de poner tus propios códigos de verdadero y falso el programa funciona pero estás dificultando la lectura de ese código a otro programador que pueda venir después vamos a ver una nueva instrucción de jquery donde hasta ahora hemos visto Cómo meter text Cómo meter html que en ambos casos sustituyen al contenido que previamente tenía un elemento pero gracias a pend vamos a poder insertar nuevos elementos Mirad lo que voy a hacer atención es lo siguiente a ver un segundo bien lo que voy a hacer es empezar creando un botón recordad siempre es importante que guardemos este archivo ya que son los botones originales que estamos desarrollando copio pego y voy a hacer un botón que añada una tabla al texto que yo esté escribiendo no quiero que sustituya el texto y meta una tabla quiero que añada una tabla a continuación voy a meter una caja Mirad una caja le voy a quitar el redondeo color de trazo lo voy a poner en negro voy a disminuir el tamaño del trazo y ahora usando esta herramienta voy a crear una línea por ahí y voy a crear una línea por aquí en definitiva yo hago un icono que espero que la gente entienda como un icono de crear tabla o editar tabla o lo que sea así que guardo exporto esto es tabla y ahora en html lo que voy a hacer es crear una nueva imagen que será tabla.png con elid llamado por ejemplo Pon tabla por qué Porque me lo acabo de inventar hago así fijaos que ahora tengo un botón que me servirá para poner una tabla bien pues yo me voy ahora a javascript y escribo lo siguiente Mirad y escribo por ejemplo me copio Esto me lo pego aquí abajo vaya dónde tengo que pegar Pues no lo sé como no lo sé me lo voy a pegar Justo a continuación y más adelante ya miraré dónde empiezan Y dónde acaban los corchetes y las comillas y digo Siempre que selecciono el elemento que se llame Pon tabla cuando haga clic ejecutar una función en la que en la voy a empezar con html voy a empezar con lo que no hay que hacer pondré un html que dirá Table Wi es igual al 100% Border es igual a 1 y ahora hago TR TD teb TR y ahora me copio todo esto lo pego aquí y si todo ha ido bien Eso es una tabla de dos por lo que si ahora guardo y pruebo el resultado será negrita cursiva tal Y si hago así lo que hago es meter una tabla Pero cuidado he usado el método html Así que quito el texto que tenía y meto una tabla Esto es lo que no quiero bien lo que voy a hacer por tanto es meter y esto debe seguir siendo editable es meter lo siguiente y de hecho le voy a decir que content editable es igual a true lo que voy a hacer es que en lugar de usar el método html voy a usar el método append me sirve para decir que además de todo esto cuando yo haga clic a continuación quiero meter una tabla y de hecho si sigo pulsando clic comprobaré como a continuación puedo meter tantas tablas como quiera lo que haría ahora es poner un poco de contenido de prueba guardo y recargo Mirad meto una tabla Y a partir de ese momento puedo editar esa tabla Esta es mi tabla que tiene el contenido que yo quiera Hola Y si ahora quiero otra tabla yo hago clic por aquí inserto otra tabla y inserto otra tabla a continuación por tanto veis como el elemento html el elemento apen me puede servir para Añadir más elementos a mi proyecto dentro de jquery vamos a trabajar con el objeto math que viene incorporado dentro de javascript el objeto maz nos permite simplificar la creación de algunas operaciones Matemáticas Como por ejemplo redondeos uso de constantes eh números aleatorios etcétera Por eso voy a sacar el zoomit Eso sí bien empezar con este archivo y voy a crear un archivo html que va a contener una etiqueta Head que va a contener una etiqueta Body y dentro del Head voy a crear una etiqueta Script de tipo texto barra javascript dentro de ella voy a hacer lo siguiente mir atención voy a poner el típico nos acordamos de las primeras veces en javascript document Hola Así que si yo hago esto y ahora recargo obtendré que me dice hola en la pantalla bien lo que voy a hacer ahora es decir lo siguiente veréis x igual a por ejemplo maz vamos a empezar con las constantes maz punto pi daos cuenta una cosa y es que fijaos que en cuanto he puesto math ese math se ha vuelto de color verde lo cual quiere decir que se reconoce como una de las librerías específicas de javascript una vez más por tanto la palabra math es una palabra reservada y no podéis usarla para vuestras propias variables pero recordad el consejo que os di al principio poned siempre palabras en castellano para vuestras propias variables y nunca o prácticamente nunca os podéis equivocar si yo ahora digo Quiero recuperar el resultado de X Qué es x es igual a maz pi equivale a decir maz selecciono abro la librería matemática punto y selecciono un método de la librería matemática que es Dime el resultado de pi Cuál es el resultado de pi pues pi es 3 14 15 92 y toda la pesca veis de esta manera estoy ahorrándose y Por qué es importante saber el valor de pi eh Ahora luego veréis o en la próxima sesión la creación de juegos con trigonometría bidimensional y veréis que para trigonometría es muy importante el uso de pi sobre todo para convertir de grados a radianes y cosas así por tanto el primer elemento que encontramos dentro de la librería matemática son las constantes no son variables sino que son números constantes que podemos usar en nuestros cálculos tenemos pi tenemos el número e Cuál es el número e es otro número bastante importante que se usa para calcar logaritmos y fijaos que si yo recargo ahora me dice que el número e es igual a 2.71 82 etcétera otra constante por ejemplo atención es maz sqrt 2 Qué es sqrt 2 sq rt2 es la raíz cuadrada de 2 un momento Eso quiere decir que solo voy a poder averiguar la raíz cuadrada de 2 no puedes averiguar cualquier raíz cuadrada que quieras lo que pasa es que esto recordad que son constantes son algunos números que ya vienen predefin aún así cuando quieras averiguar cualquier raíz cuadrada Simplemente tienes que poner sqrt paréntesis veis como se reconoce como una función como un método y voy a decir por ejemplo Quiero ver la raíz cuadrada de 4 Cuál es la raíz cuadrada de 4 guardo recargo y me dice que la raíz cuadrada de 4 es 2 Cuál es la raíz cuadrada de 9 la raíz cuadrada de 9 es 3 Cuál es la raíz cuadrada de 8 la raíz cuadrada de 8 es 2,82 84 etcétera veis por tanto como vamos a poder disfrutar de Algunos números constantes y sobre todo una gran cantidad de funciones insisto de constantes incluyendo por ejemplo el logaritmo neperiano de 2 ln2 por ejemplo el logaritmo neperiano de 10 Ln 10 no están todos evidentemente si pongo y el logaritmo aliano de 11 el programa me dirá esto Qué es no está definido vale No puedo poner cualquier cosa solo una lista de constantes que javascript tiene preprogramadas vamos a ver ahora un par de funciones la primera de ellas ya la hemos visto es la función de Square Root que nos permite hacer raíces cuadradas otra muy importante es por ejemplo math round me permite redondear un número si yo por ejemplo pongo 4.76 atención obtengo el valor 5 veis Mirad tengo ahí ma. round de 4.76 y en la pantalla el resultado es 5 mientras que si pongo ma. round de 4.34 el resultado en la pantalla es 4 es decir lo que hace el programa es redondear al número entero más próximo si supero el punto c se va hacia el número superior si Supongo si no supero el punto c se va hacia el número inferior y ahora lo que voy a hacer Mirad es usar un par de funciones más la primera de ellas llamada flor y la tercera de ella es llamada fail de failing de techo Mirad yo pongo en lugar de round pongo flor es el suelo si yo hago 4.34 y hago el flor de 4.34 el resultado es 4 Pero si yo hago 4.8 y le digo Cuál es el flor sigue siendo cuatro el flor es un redondeo siempre hacia abajo flor en inglés es suelo es decir No te vayas al suelo o al techo vete siempre al suelo de la misma manera fail es failing es techo quiero averiguar el techo de 4.8 Cuál es el techo de 4.8 pues es cinco evidentemente pero si yo digo Cuál es el techo atención Mirad de 4.2 el techo de 4.2 también es 5 porque es redondea 4.2 pero redondea hacia arriba si yo hago una aplicación financiera evidentemente Generalmente me convendrá redondear hacer un round redondea hacia arriba cuando toque hacia abajo cuando toque sin embargo veréis que en muchas otras aplicaciones en un momento dado te puede convenir más redondear siempre hacia abajo o siempre hacia arriba más cosas el valor absoluto Mira el valor absoluto es el valor sin signo de un número lo que hago para poner un valor absoluto es ma AB s de absolute Cuál es el valor absoluto de 4.2 el resultado es 4.2 Pero cuál es el valor absoluto de -4.2 el resultado es 4.2 es decir absoluto lo que hace siempre es quitarle el signo si es -10 lo convierte en 10 si es + 10 lo convierte en 10 es decir eh absoluto se queda solo con el número y olvida completamente el signo Como por ejemplo Eh Pues qué te diría yo estás haciendo un balance de empresa y da -10,000 y tú al final en javascript le dices quiero averiguar Cuál es el balance negativo igual a 10,000 no es balance negativo igual a -1,000 porque entonces sería positivo negativo es igual a positivo ese es un típico caso donde conviene usar el absolute es -1,000 pero está haciendo balance negativo o quieres aigual el valor absoluto entonces pones absoluto del número una de las funciones a las que yo le tengo a la que yo le tengo más aprecio es la función aleatoria ya que me permite generar aleatoriamente un número en principio puede parecer que la función aleatoria en javascript está bastante limitada sin embargo no es así Ahora veremos que le podemos sacar bastante partido para generar una función aleatoria tengo que poner más Random en inglés es aleatorio y ahora pongo paréntesis tras lo cual si guardo y compruebo veréis como en este caso atención ha salido 0.3 471 lo que sea pero yo ahora recargo y me sale otro número y ahora recargo y me sale otro número y ahora recargo y cada vez me está dando número diferente porque esta es la gracia que tiene la función aleatoria la gracia que tiene es precisamente el que cada vez que recargo me da un número completamente diferente el problema entre comillas porque no es un problema Ya vamos a ver cómo se resuelve del número aleatorio es que si os fijáis va entre C y 1 además es un número aleatorio bastante raro porque veis que entre C y un me da bastantes decimales de precisión Pero esto insisto es bastante conveniente porque voy a poner varios casos voy a resolver estos casos y ahora luego en un ejercicio práctico veremos Para qué nos puede servir y mucho el número aleatorio lo primero que voy a hacer es juntar dos funciones por tanto lo que voy a hacer Mirad es maz punto ground y ahora lo que he hecho es englobar math pun Random Dentro de este paréntesis es decir fijaos que tengo math pun round y dentro de ello tengo ma pun Random qué voy a hacer lo que hecho es anidar dos funciones matemáticas hecho se pueden anidar tantas como queráis calculo el número aleatorio y a continuación le digo rondelo Así que si el número aleatorio era este por ejemplo 0,14 me lo hubiera redondeado a cer0 si el número aleatorio hubiera sido 0.7 me lo hubiera redondeado a uno si ahora guardo y recargo veréis que ahora o tengo cer o tengo uno porque todos aquellos valores que son menores de 0,5 me los pasa a cer0 y todos aquellos valores que son mayores que 0,5 me los pasa a uno bien muy bien he conseguido resolver esto pero ahora tengo un problema y es que eh puedo averiguar dos valores aleatorios entre 0 y 1 pero no puedo averiguar valores aleatorios entre 0 y 10 porque Random no me lo da Pero no pasa nada Hay un truco un pequeño truco que se usa una barbaridad que es decir bueno ma. round y digo ma pun Random por 10 Y de esa manera con este sencillo truco voy a averiguar cualquier número aleatorio entre 0 realmente y 9 Oh Qué problema vaya y 10 el problema en este caso es que eh Solo podría averiguar fijaos veis tengo valores que van desde 0 a 10 luego no son 10 números son 11 números porque si contamos el número cer vale si os fijáis la cuestión Aquí está en que si yo por ejemplo en lugar de decirle round le digo fail techo únicamente me va a averiguar el techo de esos números fijaos que si ahora recargo muchas veces ya nunca voy a ver el número cero así que de esta manera realmente tendré una función aleatoria que va entre 1 y 10 veis por ejemplo Para qué puede servir la esta función qué pasaría porque ahora luego vamos a hacer un juego de cartas aleatorio qué pasaría es que si es que no quiero ni uno ni 10 Quiero tres Pues en lugar de multiplicar por 10 multiplico por tres guardo recargo y Mirad tengo uno dos o tres pero no tengo ni cuatro ni cero ni más de cuatro por eso el número aleatorio bien usado nos puede servir para generar cualquier tipo de juego que tenga el número de elementos que nosotros queramos Qué pasaría si yo quisiera por ejemplo obtener un número aleatorio entre 5 y 10 la solución es mucho más fácil de lo que puedas pensar veréis si yo hago un número aleatorio lo multiplico por cco yo tendré un número que irá desde un hasta c y tú dirás Pero yo no te he preguntado eso yo te he preguntado un número aleatorio que vaya desde 5 hasta 10 la solución es tan sencilla como meter esto dentro de un paréntesis y sumarle cinco Así que al número que te dé entre uno y cinco le sumas cinco y tienes un número aleatorio entre C y 10 fijaos como ahora tengo ocho Tengo seis Tengo nueve Tengo 10 tengo si algún cinco me saldrá alguna vez no Claro no me puede salir un cco porque le he dicho que le sumo cinco 1 + 5 es = a 6 con lo cual le sumaría cuatro vamos a verlo y ahora sí tendré algún cinco y de vez en cuando Espero que me salga algún 10 y si no lo que haría es sumarle este valor a este valor en lugar de multiplicarlo por cinco lo multiplicaría por seis pero En definitiva como veis cualquier Rango de valores aleatorios lo podéis conseguir simplemente cogiendo el valor Random original y o multiplicando o sumando o a veces incluso restando vamos a ver unas cuantas funciones más para esto voy a empezar por ejemplo con las funciones trigonométricas una vez más insisto pongo maz punto y lo que hago es poner por ejemplo el Cos el coseno de un número el coseno de 1 de un qu Pues aquí viene la mala noticia por lo menos la mala noticia para mí y es que en javascript los eh los ángulos se escriben en radianes no en grados yo estoy muy acostumbrado a trabajar en grados por tanto veréis que siempre que hago un programa que usa matemática trigonométrica eh lo primero que hago es convertir de radianes sagrados para saber mejor lo que estoy haciendo Entonces por ejemplo el coseno de 1 no es el coseno de un grado sino es el coseno de un radián y me dice que es 0,5 el coseno o sea el resultado del coseno es 0,5 recordad que trabajando en radianes una vuelta entera de circunferencia es 2 por pi radianes no es ni dos ni uno sino es 2 por pi equivaldrá a prácticamente 7 número s el coseno de 2 pues cvo recargo sería -0,4 vale tenéis que ver esto como un círculo digamos fijaos que si un círculo creo que no puedo dibujar un círculo por aquí y esto es cer si el si tenemos 2 pi Vale pues prácticamente el coseno a ver el coseno de 1 estaría 2 pi 7 coseno 1 estaría por aquí vale por tanto el coseno como veis es positivo sin embargo creo que el coseno de 2 estaría por aquí y veréis que por tanto coseno es negativo porque está al otro lado de la balanza esto es positivo esto es negativo vale tenéis que pensar lo siento yo soy el primero al que le da rabia tenéis que pensar en radianes luego tenemos otra función que es el seno se escribe en inglés Por tanto se escribe como sin como sinus y no como sen pongo sin de seno evidentemente Mirad el seno de 2 me dará 0,9 el seno de 1 me dará 0,8 pero sin embargo el seno de 3 me seguirá dando positivo pero el seno de 4 Ya me dará negativo y el seno de 5 evidentemente me dará negativo y el seno de 6 me dará negativo y diréis por qué pues si os hacéis el esquema de radianes veréis que es muy fácil una circunferencia esa patata es una circunferencia que lo sepáis a partir de ahora será una circunferencia Y si este es el grado 0 y hemos dicho que prácticamente de aquí a aquí hay si unidades uno estará por aquí fijaos que el seno da positivo dos estará por aquí el seno da positivo tres estará Wow por ahí espera voy a hacerlo otra vez TR estará por ahí y el seno dará positivo pero cuatro estará por aquí con lo cual como veréis el seno da ya negativo vale las funciones trigonométricas para creación de videojuegos Aunque ahora de repente parezca una tontería pero para creación de videojuegos Son imprescindibles ya lo veréis más cosas tengo el coseno tengo el seno tengo la tangente Cuál es la tangente de 6 Pues - 0,29 en este caso Cuál es la tangente de 2 recordad siempre estamos trabajando en radianes a partir de ahí Mirad tenemos el arcoseno escrito a sin arc sinus que es notan number en este caso tenemos el arcoseno en este caso del número dos otra vez is not a number cuando pone Nan cuando javascript os dice Nan es n equivale a decir not a number no es un número lo cual equivale a decir te has equivocado no pasa nada Ya sabemos Sale ya sabemos flor ya sabemos round eh Tenemos también el logaritmo natural por ejemplo de un es c el logaritmo natural de dos es 0,69 el logaritmo natural de 3 es 1,09 vale podemos calcular logaritmos dentro de javascript y una que os va a interesar bastante es el power ya sabéis el sqrt que es el Square Root sqrt que es la raíz cuadrada de 3 1,73 si yo pongo pwr en inglés Elevar un número a otro es realizar un poder es el power entonces si yo elevo 3 a la 4 pues es 3 Power 4 si yo por ejemplo elevo 3,2 el resultado evidentemente wow a ver un momentín Power p exp en phps pwr aquí es p 3 a la 2 3 cuadrado es 3 * 3 es ig a 9 Cuánto es 3 cubo 3 al cubo evidentemente es 27 3 * 3 * 3 * 3 9 * 3 27 aquí decís la base en el primer número decís la base el segundo número es el exponente por ejemplo 4,3 equivale a 4 al cubo que es igual a 64 4 * 4 16 * 4 64 vamos a empezar este proyecto que va a consistir en un juego de memoria de cartas creando una carpeta llamada juego cartas donde he creado un archivo Index html está vacío Y por supuesto la librería jquery que voy a usar para trabajar con este juego por eso lo que voy a hacer evidentemente es cargar el Body dentro del Head lo que hago es Script type text bar javascript src igual a vamos a ver cómo se llama jquery 1.7.2 min.js Cierro la etiqueta Script esto es la importación de jquery y ahora lo que hago es escribir mi propio código además para este ejercicio como se va a complicar lo que haré es irlo comentando paso a paso pondré comentarios para que luego sepáis qué hace cada parte bien Voy a entrar dentro del Body y dentro del Body voy a dibujar ocho cartas por tanto voy a crear un div ID igual a tablero y ahora voy a crear un di de class carta recordad que cuando un elemento se repite varias veces es recomendable que lleve Class no que lleve di y ahora aquí en el Head le digo que el Style de tipo texto bar css es que carta punto carta todo lo que sea del tipo carta de la clase carta tendrá un wid de 200 píxeles un High de eh 300 píxeles un background Gray un Border de tres píxeles sólido White un borde radius de 20 píxeles vamos a ver qué aspecto tiene esto en la pantalla veis ahí tengo una carta quizás un poco grande voy a hacerla más pequeña de 100 por 200 no sé voy a probar bien Esto es otra cosa un poquito quizás demasiado estirada 100 por 150 ya tenemos ahí una carta y ahora pongo un Box Shadow donde le digo 15 píxeles rgba 0,0.3 es una carta que proyecta sombra voy a ponerle menos tamaño de sombra veis ahí una carta que proyecta un poito de sombra quizás voy a decirle que el fondo no sea tan oscuro 0,0 no voy a decirle 200 que equivale a un gris clarito quizás demasiado clarito voy a poner 150 ya tengo ahí no sé si se ve un gris un poquito clarito y ahora lo que voy a hacer es poner aquí un signo más por ejemplo pongo un signo más claro se ve ahí arriba por tanto voy empezar a maquetar el texto voy a decir que el font family será Arial el font size será mínimo 72 píxeles el font weight será bold negrita el text align será Center y el padding top será de 30 píxeles vamos a ver cómo sale esto hago así veis ya tengo un signo más en la carta voy a hacer la carta un poco más pequeña 100% ya tengo ahí la carta y quizás 100 un color gris Ya claro es que le he dicho rgba y por eso no funcionaba 200 Ahora sí bien y un padding top pues por ejemplo de 20 píxeles lo voy haciendo hasta que consiga lo veis que el signo más se quede más o menos centrado lo que voy a hacer ahora es crear nuevas cartas voy a crear ocho cartas por ejemplo tengo una con el signo más voy a tener dos con el que te diría yo un círculo otras dos qué podría poner con un palo y otras dos con el signo menos tengo ya como veis ocho cartas lo que voy a hacer ahora también es decirle que cada carta float left que flote a la izquierda para que cada carta esté una al lado de la otra De qué manera tan extraña Solo tengo Siete cartas Porque se ve que la carta de la i se me ha olvidado duplicarla no pasa nada ahora como veis tengo ocho cartas diferentes y es más voy a hacer que entre cada grupo de cuatro se fuerce a que haya un salto de línea también puedo decirle que le pongo un margin de 10 píxeles para que estén un poquito separaditos entre sí quizás 10 píxeles ha sido demasiado voy a decirle c y ahora lo que tengo por tanto es la versión estática de este juego tengo una pequeña programación que me ha ayudado a poner y maquetar ocho cartas en pantalla pero lo que quiero hacer por supuesto mediante javascript son varias cosas primero lo que quiero hacer es que el resultado de cada carta sea aleatorio que cada vez que yo reinicie la página me baraje automáticamente las cartas y luego lo que haré es que me las oculte para que cada vez que yo haga clic en una de ellas se muestre Y si son parejas Entonces se queden es de el juego de memoria pero en versión digital lo que voy a hacer a continuación es en una primera instancia hacer un barajado automático por eso lo que voy a hacer es que sea javascript el que controle la escritura de estas cartas y no html por suerte sabemos que en jquery tenemos una función llamada html que nos permite escribir html verdad bien Voy a hacer lo siguiente tenemos otra que se llama pen acuerdo del otro día Script type text barra javascript y ahora voy a escribir lo siguiente bar x hace referencia al documento y cuando x. ready en este caso me ejecutas la función de inicio donde la función de inicio sin parámetros de momento lo que va a hacer es un alert hola o Bienvenido al juego guardo recargo y dice bienvenido al juego ahí por ejemplo podríamos poner las instrucciones de partida para el juego de momento me ha servido para comprobar que jquery funciona vale no doy nunca más de dos o tres pasos sin comprobar que funcione en la pantalla ahora lo que voy a hacer es comentar esa línea para que luego funcione pero de momento se quede dormida y ahora digo for hago un bucle for Por qué Porque quiero ocho cartas y poner ocho cartas no es repetir ocho veces la misma operación cuando javas quiero repetir ocho veces la misma operación lo que hago es un ble for no bien Google for y digo for bar I es igual a 1 La carta número uno y sea menor que nu y más Qué quiere decir esto repite esta operación ocho veces repítela desde que es igual a 1 hasta que sea menor que nueve es decir ocho y lo que voy a hacer es bar x hace referencia a aquel elemento de la pantalla que se llama tablero creo recordar tablero tablero sí tablero y ahora digo x. apen qué era append es adjunta algo añade algo a continuación y voy a hacer una pen de esta carta voy a poner aquí comillas sencillas y así no se me pega con las comillas dobles que tengo ahí guardo elimino esto y si ahora recargo y todo ha ido bien el resultado en pantalla será ocho cartas con el signo más veis lo que hecho aquí fijaos que la tablero está vacío lo que hecho aquí con este bucle for es decirle Ponme ocho cartas en pantalla es más lo que voy a hacer es lo siguiente Mirad sabéis que pasa es que si hago así me aparecen las och así y yo quiero que aparezcan 4 y cu pero claro dentro de un bucle for Cómo meto yo un br pues es muy sencillo voy a meter un If y digo Si el número I si el número I es igual igualdad estoy comprobando si eso es cierto o no lo es doble igualdad A4 en ese caso digo bar x.en br lo voy a ordenar vamos a ver si funciona recargo y fijaos como de esta manera recargo no me lo está haciendo vamos a verlo I = 1 I = 4 x apen br Ah míralo sí que me lo está haciendo lo veis ahí como me ha bajado una bien lo que voy a hacer es poner más brs br cu brs para que flote más o es que incluso le puedo decir ti Style Clear los puntos both os acordáis cuando quiero que algo deje de flotar guardo recargo vamos a verlo vamos a ver el código ya que estamos miro el código Ah claro el código en pantalla no me lo muestra porque es que he cometido un error ahí porque es javascript he cometido un error ahí y es que me falta poner los dos puntos Ahora sí veis hay unas dobles comillas que me sobran en alguna parte veis Qué curioso salen por ahí en html y las dobles comillas están aquí he puesto las dobles comillas fuera del sitio de esa manera yo me aseguro que lo ponga como lo ponga siempre me pone 4 y cu Porque si I no es igual a 4 entonces me pone solo una carta pero en el momento en que di en que I es igual a 4 Me pone una carta y un salto de línea ahora voy a realizar un primer barajado un barajado aleatorio y para eso lo que quiero es que el programa genere un número aleatorio un número matemático aleatorio voy a hacer lo siguiente dentro del bucle for cada vez que pase por el bucle for voy a decir que bar y es igual a ma punto Random donde lo que voy a hacer ahora veréis lo que va a pasar Mirad Es que voy a colocar ese número y ahí dentro cuidado qué va a pasar me va a poner un número aleatorio en cada carta y ahora lo que quiero es decirle que y es igual al redondeo o por ejemplo s redondeo al ma round de ma Random así que me va a dar cer me va a dar un guardo recargo y me da c y un y lo divertido es que cada vez me baraja unas cartas porque es aleatorio es ventaja que tiene bien voy a continuar y ahora quiero multiplicarlo por cuatro voy a hacer una cosa voy a poner ma fail nota number not number claro es que no es aquí fail recordar n a es nota number 4 1 3 2 veis está barajando donde en este caso el juego de memoria consiste en recordar los números que van del un al cu pero supongamos que no queréis los números del uno al cuat queréis el signo más el signo menos la x el círculo vale Cómo convierto yo un 3 en una x Cómo convierto yo un 2 en un signo menos pues es muy sencillo Mirad y atención eh recordamos que tenemos la estructura de control switch es como un If pero con múltiples casos y digo switch y en caso de que y sea 1 voy a crear la variable voy a crear una variable llamada voy a crear por tanto una variable llamada num y voy a decir en caso de que sea el número un num es igual a x el número un equivale a la x recordad Break rompo En el caso sea el número num será igual a la o en el caso de que sea el número 3 x será igual al signo menos y en el caso de que sea igual al número 4 x será igual al signo más guardo recargo y ahora le digo que no quiero ver y sino que quiero ver fijaos como ahora me convierte cada número en x o más o menos fijaos ya tengo insisto parece el juego de percepción extrasensorial pero no lo es vale es el juego realmente de las cartas fijaos por tanto Mirad como lo que he hecho en este caso veis como el código se está complicando poco a poco es decirle que primero ejecuto un bucle fijaos si hay que contar a veces las llaves ejecuto un bucle repetitivo a continuación dentro del bucle pongo un número aleatorio yo he dicho que iba a comentar esto verdad y no lo estoy comentando Bueno pues ahora lo voy a comentar de aquí a aquí creo un número aleatorio Así luego en casa podéis repasar el código y acordaros de qué hacía cada parte y por qué escribí cada parte aquí abajo convierto los números en símbolos aquí abajo creo una carta y le pongo dentro un símbolo veis n es el símbolo y ahora voy a recordar que el bucle for me sirve para poner ocho cartas repite ocho veces la misma operación de selección número aleatorio conviertelo en un símbolo por una carta atención Mirad que si en lugar de poner nu hubiera puesto 17 ya no tendría ocho cartas tendría 16 es en lugar de ell hubiera puesto 15 pues tendría 14 cartas vale el bucle for es el que controla Cuántas cartas tenéis en el juego en este caso voy a hacer un juego sencillo de ocho cartas pero en cualquier momento luego lo podemos convertir a un juego de las cartas que queramos evidentemente aumentando el nivel de complejidad voy a aparcar de momento un poco la aleatoriedad en este código y lo que voy a hacer Mirad es decir que cojo la i Y en lugar de hacer un switch con la y hago un switch con la i latina Mirad la i latina estaba aquí Así que digo si El caso es un o cco voy a ver si me deja poner comas dos o se TR o si 4 u 8 vamos a verlo no me deja tres o me deja c Bueno pues lo que voy a hacer Igual con punto y coma nada pues lo que voy hacer es poner Case 1 y poner aquí cuatro casos más Mirad esta Va a ser una primera manera no aleatoria y luego cambiaré la aleatoriedad de asegurarnos que tengo dos elementos dos a dos tengo 1 2 3 y 4 5 6 7 8 y tengo 2x do os dos menos y dos signos más voy a hacerlo no aleatorio pero me he dejado aquí preparado el código aleatorio para más adelante especificar que los elementos sean estáticos pero la distribución el barajado sea aleatorio lo que voy a hacer ahora Eso sí es decirle al programa que al principio vamos a ver voy a decir al programa que en la función de inicio aquí está la función de inicio le digo bar x bar T hace referencia a todo aquello que tenga la clase carta Cuál era la clase carta y ahora digo t. css font gu size será de cero píxeles vamos a verlo recargo bien Voy a decirle que el estilo va a ir antes vamos a ver el estilo voy a poner aquí vale no lo está cogiendo t carta tcss voy a poner color para asegurarme que está funcionando Green bien no está funcionando parte te hace referencia a todo aquello que tenga la clase carta Y si hace referencia a todo aquello que sea un dip Ahora sí bien luego algo falla aquí Class carta Bueno pues vale todo aquello que sea un di le voy a decir que el font size será de cero píxeles no me deja vale voy a quitar este font size es más lo comento guardo recargo y ahora el font size es de cero porque lo que quiero hacer es que cuando haga click en alguna carta en ese caso se abra se muestre el font Size ahora lo que voy a hacer es lo siguiente voy a usar un selector que va a hacer lo siguiente bar x o bar r me da igual para usar otras variables ahora luego simplifico el código r es igual a dis es este objeto el objeto sobre el que yo haga clic o el objeto sobre el que yo haga algo y ahora digo r cck me ejecutas la función muestra de esta forma lo que le estoy diciendo es no quiero que te haga referencia a todos los dips ni a todos los que tengan la clase tal sino solo al que yo haga clic entonces digo vamos a ver función muestra creo que estoy trabajando aquí fun muestra va a hacer lo siguiente bar r es igual a this rcss va a ser igual font size de 72 píxeles vamos a ver si funciona en principio no funciona Aquí voy a decirle que en lugar del dis voy a nombrar al D muestra voy a hacer que la función muestra haga alert hola siempre que algo no sé si funciona o no le pongo un alert hola guardo recargo y vemos como no funciona algo he hecho mal porque cuando hago clic es decir cuando hago clic dentro de ese dip debería ejecutar función Hola bar r Ah claro es que lo he puesto fuera de la función inicio Cómo va a estar bien guardo recargo Hola bien Ahora sí e cuidado me ha puesto todos los elementos pero ya he conseguido Mostrar cartas alert Hola me lo inactivo veis hago clic en una se muestran todas voy a recuperar el dis no me hace caso realmente me las muestra todas Bien voy a poner de momento dis y ahora vamos a ver por qué no funciona Qué hago si pongo dis me hace lo mismo Lu ya tengo de momento que puedo hacer clic en una carta y revelarla por tanto a continuación lo que tenemos que conseguir Es que solo se revele la carta lo que voy a hacer en este caso es en el bucle poner Class carta y poner ID en cada una de las cartas ID va a ser igual a i tal forma queora guardo miro el código voy a mirarlo en Chrome miro el código y compruebo como las cartas vaya No me aparecen las cartas serán carta con ID = 1 carta con ID = 2 y así de esta forma voy a hacer un código quizás un poco eficiente pero r hace referencia a lo que tenga el id1 no se puede poner número no se debe poner número voy a decir ID lo que tenga y de1 r click muestra 1 y muestra un hará seleccionar lo que tenga id1 y ponerle font si 72 vamos a ver function muestra un cuando haga clic en lo que tenga id1 IB + I vamos a ver lo que tenga í de dos este código se quedaría así r selecciono id1 le digo que hago clic y ejecuto muestra un que es una función donde digo selecciono id1 punto css y B1 coma no css font size es igual a 72 píxeles vamos a ver si funciona y ahora voy a eliminar la función muestra un igual el problema está en que estaba fuera del sitio guardo recargo probablemente será el problema y ahora en esta función lo que estoy diciendo es que cuando pulse el ID voy a hacer una cosa voy a hacer que sean todos ig a 1 y de1 bien hay algo que falla css font size punto y coma y ahora digo alert Hola Bien ahí hay un problema div ya tenemos algo vale ahora lo mismo sin el Hola problema en este caso es que no me está funcionando el Di lo cual básicamente haga clic donde me va a mostrar el div en esa posición sin embargo Bueno ahora lo que necesito es poner aquí id1 y de uno clic en principio no me está funcionando vale voy a ponerlo en div Y si pongo dis bien ya tengo ahí algo así que voy a repetir este código que está simplificado lo voy a copiar Y si digo this igual no me hace falta ni copiarlo vamos a ver aquí no es que ese dis no me está dejando funcionar bien y de uno click algo ha pasado di vale como decía voy a copiar y pegar este código para decir que si hago clic otra vez en div irá al id2 el id2 de momento no funciona evidentemente Vale ahora voy a decir que el ID es igual a más la letra i clic y aparecen en los dos poco a poco aparecen en los tres y así poco a poco puedo ir seleccionando cada una de las cartas de momento evidentemente pulse donde pulse aparecen todas a continuación lo que tengo que hacer es que solo cuando pulse una se revele esa voy a hacer lo siguiente para que me funcione el javascript lo que voy a hacer es eh convertir otra vez en estático por tanto digo div carta con el ID un y de momento no pongo nada de texto Es más voy a poner un signo más recargo bien borro este bucle no lo borro sino que pongo x punto html indico el ID má I y le digo que en html Quiero poner por ejemplo signo más vamos a verlo Vale tengo ocho más perfecto no Esto no es lo que yo quería este If fuera Este no es una pen sino que es un html y Pongo aquí Hola una H guardo recargo de momento nada x hace referencia al ID Más la letra i vale Y no se está viendo nada porque le había dicho al principio que el font Size fuera de cero píxeles pero si lo pongo se verá vale perfecto h+ más y de un y de dos y de TR y de cu y de 5 y de se y de s y de o ahí tenemos las hes y ahora lo que hago es que le pongo aquí no y vuelvo a tener las cartas ahora le digo cuando haga click en ese Solo ese se hace grande ahora parece que sí que está funcionando cuando haga click en el que tenga id1 solo id1 se hace grande vamos a verlo voy a probar otra vez la doble función dis a ver si funciona No perfecto muy bien pues ahora lo que voy a hacer es copiar esto y escribirlo para cada una de las ocho cartas y de do y de TR y de cu y de 5 y de6 y de s e id8 que hace referencia a 1 2 3 4 5 6 7 y 8 recargo clic veo Ya por fin có estoy mostrando cartas bien al final lo he tenido que convertir en e una mezcla de estático y Dinámico y ahora voy a descomentar esta línea para conseguir que pueda revelar tantas cartas como quiera lo que tendré que hacer a continuación es que las cartas estén abiertas un cierto tiempo para que el programa compruebe si los valores son iguales Y entonces comprobar si las vuelves esconder o se queda voy a hacer lo siguiente voy a usar contadores voy a cargarme este código de aquí voy a usar contadores para lo siguiente voy a hacer de momento ahora en un principio que cuando hago clic en una carta se muestre cuando hago clic en la carta se vuelve a ocultar digamos voy a jugar yo limpiamente y luego har que el ordenador me lo haga automáticamente de esta manera voy a decirle que vamos a ver voy a crear una serie de variables bar id1 es igual a 0 par id2 es ig a 0 id3 y de4 y de 5 y de6 y de s y de8 estas ids son igual a cero de tal forma que tal y como hicimos anteriormente cuando haga clic antes de ejecutar una función yo pueda especificar yo pueda indicar voy de hecho a borar todo esto para que el código resulte más claro voy a indicar si debo ejecutar un css u otro por ejemplo aquí en la función lo voy a descomprimir y luego lo comprimo voy a decir que si If pongo If Else y otro If si ID 1 es igual a 0 en ese caso ejecuto ese código y a continuación le digo id1 es ig a 1 pero si no entonces ejecuto este código es igual a cer píxeles y de 0 es igual a 0 vamos a ver si ha funcionado Esto va a hacer que y hacer clic en este se haga grande y si vuelvo a hacer clic se haga pequeño dec muestro y las cartas bien Voy a repetir el código y ahora lo que voy a hacer es comprimirlo veis esto es el código extendido descomprimido para que entendáis dnde está el If y el els Pero evidentemente esto se puede comprimir Para ocupar menos espacio así Ahora así ocupa si Ah multiplico por o esta línea 4 5 6 7 y 8 voy cambiando dos el dos y de do igual a 1 y de do y igual a 0 y de TR 3 Perdón 4 5 6 7 y 8 y de 3 4 5 6 7 y 8 3 4 5 6 7 y 8 3 4 5 6 7 y o lo podía haber metido dentro de un bucle for estoy pensando Bueno más adelante tres 4 5 6 7 y 8 Y por último 3 4 5 6 7 y 8o vamos a probar un momento ver si funciona guardamos este se muestra se esconde se muestra se esconde se muestra se esconde vemos como podemos Mostrar y ocultar cada una de las cartas ahora lo que voy a hacer es que el programa reconozca que si dos elementos están mostrados Eh me los ponga de color verde vale es decir si yo hago x y x me lo ponga de color verde como diciéndome has acertado bien lo que voy a hacer con esto es lo siguiente aquí a continuación voy a hacer una tanda de ifs y para esto vamos a ver cómo se usa la lógica aquella de varios elementos a la vez si es cierto que id1 es ig a 1 y doble ampers también es cierto que I de 5 es igual a 1 en ese caso lo que voy a hacer es seleccionar voy a escribir Ahora código resumido voy a seleccionar el elemento que sea id1 y le voy a poner css color coma Green de la misma manera voy a seleccionar aquello que sea ID = 5 y le voy a poner color Green vamos a ver si funciona guardo recargo si yo saco esto no pasa nada pero si yo saco esto y esto deberían ponerse de color Green vamos a ver id1 es igual a 1 voy a decir si y de1 es igual a 1 no me lo hecho vale si un es igual a 1 alert Hola guardo recargo y no me dice hola lo voy a poner aquí id1 es igual a 1 y id1 es igual a 1 alerto Hola Ahora sí vale por tanto aquí en cada uno de estos voy a poner lo siguiente me hago un hueco y id1 es ig 1 end ID 5 es igual a 1 solo si se cumple eso bien no lo tenía aquí me dirá Hola Ahora sí luego voy a copiar ese código en todas partes ahora voy a decir otra vez que selecciono aquello que tenga el id1 y le pongo el css color Green y ahora selecciono el ID 5 y le pongo el color Green vamos a verlo si funciona si yo Marco cualquiera de estos no funciona Pero si yo Marco los dos tal debería funcionar y de 5 ese sí que funciona ese funciona siempre Claro porque le quiero decir que If ID = 1 and5 igual a un vamos a verlo ahora todos son bien and id5 = 1 Bueno no sé por qué no me he cogido Este pero me lo debería haber cogido parece que el error está aquí eso funciona claro evidentemente esto no porque tengo que pegarlo en la función siguiente ahora digo en esta función y = 1 en la de 5 la vuelvo a pegar aquí digo que si ID de2 e y de6 me voy al se y se lo pego vamos a comprobar funciona por aquí parece que no bien claro por supuesto porque le tengo que decir que el id2 y el id6 y aquí el id2 y el id6 gra vamos recargamos funciona no funciona por eso a continuación lo que voy a hacer es volver a recargar id3 el id3 está conectado con el siete 7 y de TR y de s copio pego en el siete y por tanto ya Solo me queda el número cuatro que a la vez es el número 8o si ide 4 y 8 yide 4 y copio pego Aquí y ahora puedo hacer un y dos un y dos vemos como reconoce en cada uno de los elementos para qué me puede servir que me reconozca en verde bueno básicamente me puede servir para crear un primer sistema de puntuación donde yo pueda decir lo siguiente al principio creo un bar puntuación que evidentemente empieza siendo igual a cer tu punción al principio es igual a cer y cada vez que yo consigo una cosa de estas digo puntuación es más igual uno súmale uno a la puntuación alert tu puntuación es de más puntuación guardo recargo no al revés tu puntuación es de uno pero un momento incluso voy a decir que si puntuación es igual a 4 entonces alert es más Mira si puntuación es igual a 4 alert has ganado el juego si puntuación no es igual a 4 vamos a ver si es falso Else tu puntuación es la que sea vamos a verlo tu puntuación es uno si hubiera ganado el juego me lo diría ahora copio y pego aquí y aquí prob vamos t puntu opciones de uno t puntu opciones de dos tu pun opciones de tres has ganado el juego incluso evidentemente podéis combinarlo como queráis teóricamente vaya hacert la primera teóricamente en principio tal y como está planteado el juego ahora deberías jugar limpio y decir No pues me lo escondes No pues me lo escondes sí perfecto pero a continuación vamos a ver si ya podemos hacer que sea el programa el que oculte los las cartas cada x milisegundos lo que voy a hacer por tanto es hacerme un hueco aquí después de este els porque lo que estoy diciendo después de este els Mirad voy a hacer aquí un els y aquí Este els lo que está diciendo es que si ide 2 es igual a 1 y si ide 6 es igual a un Entonces lo has hecho bien pero si no lo has hecho mal No es cierto pero hay un problema y es que claro yo no puedo pulsar dos teclas a la vez si yo pulso uno el programa me tiene que dejar un poquito para ver si pulso el otro y si pulso el otro entonces decir vale lo has hecho bien y si no decir vale lo has hecho mal Qué voy a hacer pues decir lo siguiente Else set Time out donde voy a especificar un código en un tiempo voy a poner por ejemplo 5 milisegundos y voy a decir que veamos si vamos a verlo si id2 no es igual a 1 o si ID 6 no es igual a entonces copio esto de aquí arriba le digo que lo que sea i de1 vamos a verlo aquí lo que sea id2 va a tener el css font size igual a 0 píxeles lo que sea id6 va a tener el font size igual a 0 píxel i2 y se van a ser igual a cer qué hago con esto vamos a comprobarlo es un poco lioso yo ejecuto esto en 5 segundos se comprueba si he ejecutado otra cosa con lo cual se esconde vale es decir estoy diciendo hago así es cierto que el otro o está levantado No pues en 5 segundos lo oculto Ah es que no lo he puesto en el otro Perdón funciona aquí y funciona aquí con la x Mirad si en 5 segundos no he pulsado la otra se esconde pero si hago así click clack tu puntuación es de uno y ya no se esconden lo ves Y si hago así tu puntuación es de dos vamos a seguir realmente Ahora va a ser copiar y pegar el código este els lo copio y lo pego aquí y digo Else If ide 3 y si sigo If ide evidentemente tiene pinta de ser 4 y 8 4 y o ahora copio este de aquí y lo pego en el número c cojo este de aquí y de 1 y C copio el de dos y se lo pego en seis cojo el de cinco y siete y lo pego en siete y cojo el de 4 y lo pego en ocho a ver si he copiado y pegado bien que podría ser que no recargo este marco otro no en 5 segundos se oculta este marco otro no en principio en 5 segundos se debe ocultar e no he modificado algunas cosas claro claro este es y de vamos a verlo 4 y 8o 4 y 8 ya me parecía a mí que lo estaba haciendo yo muy rápido 3 y 7 es correcto Sí vale entonces el de cu y 8 tampoco va a funcionar 4 y oo cuatro y oo 4 y 8o este es el de cuatro y 8o el de tres y 7 debería funcionar 3 y 7 3 y s guardamos comprobamos y hago clic en este en 5 segundos debe desaparecer parece que no luego ahí hay algún problema Este es el número cco claro es que yo estoy buscando el 1 5 1 y 5 principio debería haber funcionado vamos a probar más vale vaya justo ese es el que no funciona un segundin pruebo combinados muy bien y ahora pruebo combinados bien Pues justo ese justo en ese tengo algún tipo de error Así que miro el error y digo en el que hace cco ahí parece que está el error este es id2 este es id4 pues esto es 1 y C un y C 1 y cinco parece vamos a probarlo ahora y en 5 segundos parcer que se quita Así que ahora tengo por fin yo puedo marcar varias pero no funciona Pero en cuanto pulso cuanto hago así mi puntuación es de uno aquí he fallado pero aquí he acertado mi puntuación es de dos Al poco tiempo se quita pero si marco aquí tres y Marco aquí cuatro luego ya tengo un principio de juego ahora me falta la aleatoriedad y con la aleatoriedad lo que voy a hacer es una pseudo aleatoriedad es decir barajar un poco las cartas verdad vamos allá lo que falta ahora es un sistema de pseudo aleatoriedad Por eso voy a decirle a las cartas que su posición es absolute qué ha pasado aquí pues que tengo todas las cartas barajadas a la vez las tengo todas una detrás de otra lo que voy a hacer ahora es lo siguiente veréis voy a recuperar la primera parte del Script voy a el número aleatorio voy a encontrarlo que así no lo veo bien lo tenía yo por aquí pero parece que ya no está no pasa nada aquí al principio antes de empezar la aleatoriedad o antes de empezar jquery voy a decir lo siguiente no incluso voy a hacer dentro de inicio voy a decir bar aleatorio es igual a ma punto Random lo quiero redondear y lo quiero multiplicar por ejemplo por cu má punto fail má punto Random por 4 no Random no r redondear con esto se me da un número aleatorio y ahora voy a decir yo lo siguiente sí o mejor dicho switch un caso switch el switch lo tenía por de aquí bajo yo Ah Aquí está pues lo voy a borrar mejor no le voy a hacer caso bueno Vamos allá switch un segundo switch está switch aleatorio y digo en el caso cero voy a ejecutar un cierto código voy a decir que cojo el elemento que tiene el ID 1 pun css y le voy a decir y le voy a decir que su webkit transform es igual a Translate pues por ejemplo 100 píxeles coma 150 píxeles vamos a ver qué ha hecho esto De hecho voy a hacer que el número aleatorio un segund voy a hacer que el númer aleatorio sea igual a cero vale efectivamente le pongo un guion a webkit a ver si ahora funciona vale lo que yo es llevar esa carta ahí como que he barajado Bien voy a seguir barajando un momentito Case 0 multiplico por 8 y ahora digo a ver esta está en 100 perfecto y ahora digo ide 2 3 4 5 6 7 y 8 y yo pseudo aleatoriamente voy a decir que tú eres 0 coma No tú eres 0,150 tú eres 300,150 tú eres 200 tú eres 400 tú eres 100,0 tú eres voy a poner 200 por aquí me hace falta un cer 1 2 y 3 Ahí está 0,0 vamos a buscar el otro 0,050 200,150 200,0 300,150 me hace falta un 1 2 3 4 1 2 3 4 0 100 claro 200 y ahora 300 si he hecho bien el cálculo debo haber barajado las cartas bien ahí no he hecho bien el cálculo en 200 está duplicado vamos a verlo 200 no en 100 está duplicado ahí lo tenemos 100 está duplicado lo he barajado aleatoriamente no sé qué carta es cada carta por tanto pruebo esto es correcto vaya Qué suerte esto es correcto no lo primero Ha sido suerte Así que se quita esto es correcto vaya Qué suerte luego creo recordar que la o estaba allí arriba bien Y entonces ahora esto lo tenemos aquí vale lo que voy a hacer por tanto ahora es poner varios casos como veis es pseudo aleatorio son varias distribuciones ahora digo que esto es el 1 2 3 7 y qué número me sobra el dos el 1 2 3 el cco Pues el oo le he dado la vuelta Case 1 ahora digo aleatorio es igual a math round math Random recordar que puede ser 0 y 1 ejecuto veis más oos ahora ejecuto y es 0 y menos a ver la x 0 - x más vaya el cer pues quiero recordar que el cer estaba aquí eh mi puntuación es de uno bien la x 0 x no 0 Ah sí Ahora hay puntuación por tanto menos y por tanto más pero si Ahora vuelvo a ejecutar ahora vuelve a ser lo mismo pero si vuelvo a ejecutar ahora es más veis tengo dos casos pseudoaleatorios puedo hacer por tanto tantos casos seudo aleatorios como quiera lo que tengo que hacer evidentemente es decir que fail por ejemplo cuatro caso uno caso dos caso tres caso cuatro voy a decir ahora 1 2 3 4 5 6 7 y 8 y ahora voy a decir 1 2 5 6 7 y 8 tengo por tanto esto es Case 3 y Case 4 según cuatro casos aleatorios el programa baraja de una manera o de otra x menos vaya x vaya XX Pues creo que tengo otra vez el de antes no más menos o más menos y la o lo que podría hacer eso sí es hacer que el Time out tarde menos igual 5 segundos son demasiados una cosa tengo un mogollo de Time out por ahí por el código Cómo puedo cambiarlos todos a la vez un truco deit es que lo selecciono le doy a copiar y digo quiero reemplazar todos los de 5000 por 2000 reemplazo todo Y de esa manera me ahorro tiempo de esa manera ahora lo he cambiado todo por dos do dos segundos enteros uno y dos Qué rápido uno y dos y en dos segundos se quita un y dos me suena haber visto un signo más por aquí no pues entonces uno y dos ahí lo tengo c y cer qué casualidad luego y ahora vuelvo a ejecutar y la partida ha cambiado veis y la partida ha cambiado es decir tengo una serie de casos pseudo aleatorios no es aleatorio al 100% sino que hay unos preb barajadas digamos ahora que ya tenemos esto lo que vamos a hacer es hacer la aplicación más bonita que tenemos digamos el código correctamente desarrollado funciona pero la aplicación no es nada estética por eso lo que voy a hacer es en principio empezar marcando y voy a decir aquí que creo un header dentro del cual creo un h1 y un texto de párrafo por ejemplo y digo h1 juego de memoria y pongo levanta las cartas por parejas hasta acertar o levanta las cartas en dos hasta acertar las parejas recargo ahí lo tengo pero claro esto es muy feo por tanto voy a ir al css y voy a decir html tiene el margin cer píxeles el pading cer píxeles el background gre y el font family aral poquito a poquito veis Ahora digo que el heer tiene el fondo negro que llega al 100% y que su H es de 50 píxeles y que el color de los elementos contenidos es ahí lo tenemos píxeles igual ha sido poco Voy a poner 100 píxeles y yo le había dicho a html com Body quio que el body tampoco tenga margen el header debe tener un padding de por ejemplo 20 píxeles quizás ha sido demasiado 10 píxeles Ahora la cosa se empieza a aparecer un poco más a continuación ya tengo esto más o menos desarrollado lo que quiero es centrarlo centrar la pantalla Por eso voy a decir que en el header text align es igual a Center y voy a decir que el tablero va a tener un wid de 600 y un margin auto con lo cual podremos comprobar como si todo ha ido bien el tablero vamos por el tablero Ah claro es que el tablero debe ser más pequeño 400 píxeles margin luto no margin auto es que el margin estaba de luto y ahora s tenemos el juego de memoria más cosas veis como las cartas quizás están un poco demasiado pegadas por tanto lo que voy a hacer es separarlas un poco más voy a decir que en lugar de 300 Uf esto Me va a costar un poco vale voy a cambiar 100 por vamos a cambiarlo 100 píxeles por 120 píxeles voy a cambiar píxeles por 200 40 píxeles voy a cambiar 300 píxeles Por píxeles y voy a cambiar 150 creo que estaba bien Sí guardo a ver si todo está bien recargo vaya y ahí el problema es que he cambiado también la carta el with es igual a 100 el H es igual a 100 guardo recargo y ahora sí tengo seis cartas Tengo ocho cartas efectivamente donde podemos seguir jugando este y este vaya Qué suerte tengo siempre esto es preocupante vamos a recargar y veremos como ya no aparece lo mismo Ya mi suerte se ha ido veis Oh el estaba ahí verdad y tengo ya un juego de memoria hecho en javascript voy a continuación a eh sacar imágenes de Google tapete Oh tapete verde bien y yo por ejemplo voy a esa imagen no es correcta tiene un poco de marco y digo Bueno pues cojo este tapete y digo disco local ch dog no Esto está en escritorio Esto está en Master web Esto está en actual en juego cartas y voy a crear una carpeta llamada img donde pondré esta imagen la llamaré tapete tras lo cual puedo decirle al Body que background será URL y img tapete jpg guardo recargo y veis ahí como he dibujado un tapete otra cosa muy interesante de css es que se pueden anidar colores URL no rgba 0.5 le voy a dar la vuelta coma vale Ahí hay un error pero ahora corrijo rgba voy a quitar esto bien y en principio lo que debería estar pasando Es que me debería unir las dos imágenes no me lo está haciendo así que voy a dejar únicamente la imagen del tapete Luego si hace falta evidentemente siempre puedo tocarla con gim por ejemplo el programa que me sirve para editar imágenes est abriendo el gim y luego evidentemente mientr gimp diré que de la misma manera que he cambiado la imagen de fondo del tapete pues puedo cambiar las x las os y lo que sea por cualquier gráfico por cualquier personaje por cualquier eh lo que sea protagonista de televisión que pueda eh querer meter en un juego de memoria Bueno estoy abriendo el gimp y mientras se abre voy a explicar otra cosa lo que voy a explicar ahora es que como veréis llega un momento que en un solo archivo html tengo un montón de código y llega un momento que no sé realmente Qué hace cada trozo de código lo que voy a hacer es externalizar lo que voy a hacer es decir que en este archivo en este proyecto atención Mirad creo un elemento llamado estilo.css y creo un elemento llamado juego. js lo que voy a hacer ahora Mirad es lo siguiente cargo estilo cargo juego y en estilo copio y pego el estilo Y en juego copio y pego el juego lo que estoy haciendo de esa manera es separar lo que es javascript de lo que es css de lo que es html en cuanto html no hay ningún problema o Perdón en cuanto jav no hay ningún problema porque simplemente le tengo que decir dónde ha ido el archivo como veris ahí pone que el source la Fuente es juego. js el problema Viene un poco más con css Ya que en css no puedo poner directamente el un src porque no existe porque no funciona de esa manera sino que lo que tengo que hacer es atención Mirad es quito las etiquetas de Style y pongo lo siguiente pongo link para hacer un vínculo rel igual a Style sheet hre ig a estilo.css de tal manera y digo que el type es texto bar css de esta manera como podéis comprobar lo que es especificar atención Mirad que en esta línea cargo el javascript de un archivo externo que en esta línea cargo jquery y que en esta línea cargo mi archivo javascript llamado juego. js será guardo y recargo compruebo como el juego sigue funcionando igual y compruebo como sigo teniendo las cartas vaya creo que la x estaba aquí puntuaciones de un pues no ahí puntuación y ahora por último Ahora sí ahora que tengo el gim Abierto dentro del gim voy a archivo abrir voy a escritorio Master web actual juego cartas y mg puedo el tapete y decirle Por ejemplo que lo quiero oscurecer o que lo quiero convertir en un tono diferente tono más de tapete verde menos saturación menos luminosidad para que al aceptar y guardar trato la imagen En definitiva para que al aceptar y guardar quede mejor con respecto a lo que es el programa vamos a empezar a ver una cosa de html5 que se llama canas el Canvas consiste en la propiedad que tiene html5 unido a javascript de poder pintar una imagen de mapa de bits en este caso de mapa de bits y no de vectores que veremos con svg sino de poder pintar al final una imagen que podríamos decir que se convierte en un jpg que podríamos decir que se convierte en un png una imagen basada en píxeles entonces la cuestión está en Por qué nos interesaría hacer esto si ya hace muchos años Que html es capaz de importar imágenes en jpg importar imágenes en png qué gracia tiene el poder hacer esto desde dentro de javascript la gracia como ahora veréis consiste en poder controlar el contenido de esa imagen desde dentro de javascript vamos a empezar trabajando con Canvas y para empezar trabajando con Canvas evidentemente Ay voy a arrancar el zumit que no lo tenía arrancado y así podré hacer zoom bien os decía que trabajando con Canvas Vamos como siempre a hacer un archivo html estoy en la carpeta actual estoy en la carpeta javascript estoy en el archivo canvas. html y voy a hacer un Head voy a hacer un Body y dentro del Body voy a hacer lo siguiente dentro del Body voy a hacer una etiqueta llamada Canvas donde el Canvas en castellano lo traducirías como Lienzo es eh un espacio en blanco en el que yo voy a poder pintar con javascript este Canvas debe tener un ID para que javascript lo pueda localizar por tanto voy a poner ID igual a mi Canvas el ID evidentemente puede ser el que queráis y luego en estilo voy a poner un estilo en línea para no tener que poner una etiqueta estilo Aunque más adelante quizás la ponga voy a poner que estilo es with es 200 píxeles H es 200 píxeles y eh qué te diría yo qué te diría yo el Border es un Pixel dust Grey que en la práctica me da este resultado me da un Canvas me da un Lienzo en el que voy a poder pintar voy a devolver que otro día lo quité el ajuste de texto y así saltará de línea tengo un Canvas y por tanto lo que voy a hacer es ser capaz de pintar dentro de ese Canvas usando javascript por eso y ahora explicaré cuándo poner javascript después cuándo poner antes Cuál es el orden de ejecución de los elementos para este caso particular lo que voy a hacer es poner el Script voy a poner una etiqueta Script justo debajo Justo a continuación de Canvas Script de tipo texto bar javascript y dentro de ese Script voy a poner el código javascript que me va a permitir pintar dentro del Canvas este código javascript que voy a escribir os puede parecer un poco rollo al principio pero también os digo que al igual que jquery es una de esas cosas que te lo aprendes una vez y lo que aprendes ya sirve para dibujar cualquier cosa o sea esto que voy a poner ahora prácticamente va a ser copiar y pegar en cada uno de los ejercicios de Canvas lo que voy a hacer es decir que creo una variable C Que es igual a document get Element by ID elemento si lo leis el documento coge un elemento tomando su ID qué ID voy a Pues evidentemente voy a el ID llado mi Canvas he hecho hasta ahora Canvas que se llama mi Canvas lo que he hecho aquí es decir del documento selecciona aquel elemento que tiene un ID llamado mi Canvas estoy diciendo javascript Fíjate que tienes un elemento así porque ahora voy a hacer algo dentro de él me voy a la línea siguiente y le digo bar contexto es igual a c punto get context qué es esto del contexto 2D el contexto puede ser 2D o puede ser 3D Esta es precisamente ahora Estamos un poco en el límite de html5 esta es una de las cosas que no están completamente desarrolladas este Canvas está preparado para poder pintar en 2D y hacer juegos o gráficos bidimensionales o hacer juegos 3D lo único que pasa es que el Canvas en 3D todavía no está del todo desarrollado por tanto de momento únicamente vamos a poner el get context 2D y diréis para qué pongo siempre lo mismo Pues porque más adelante el año que viene quizás se podrá poner un contexto en 3D eh contexto en 2D como veréis a continuación lo que va a hacer es que nos permita pintar formas en 2D tengamos un eje x tengamos un eje y podamos pintar formas ahí dentro Así que lo que he hecho fijaos hasta ahora es decirle e coge mi Canvas coge el elemento que tiene la idea de mi Canvas y ten en cuenta que dentro de mi Canvas Voy a pintar en 2D Así que a continuación voy a empezar a pintar le digo punto F Style voy a decir que es igual a almohadilla ff00 que en hexadecimal equivale a decir color rojo ten en cuenta que lo siguiente que voy a pintar lo voy a pintar de color rojo ahí cambas si queréis funciona un poco al revés por lo menos para mi gusto porque para mi gusto yo suelo decir cuando algún programa primero la figura que quiero dibujar y luego de qué color lo quiero rellenar pero no canas es al revés es primero seleccionas el color con el que vas a pintar y lo siguiente que pintes te lo pinta de ese color y por último voy a decir contexto punto fill Style Perdón F re voy a hacer un rectángulo relleno que va a tener la las siguientes cuatro coordenadas va a tener la primera coordenada en x que por ejemplo es 50 ahora lo vemos con la con el dibujo la segunda coordenada en y a continuación la anchura del rectángulo y la altura del rectángulo creo que os lo he dicho al revés creo que x iba por y ahora lo vamos a ver así que vamos a repasar qué he hecho aquí selecciono el Canvas pinto en 2D pongo color rojo pinto rectángulo mir vamos a ver qué ha pasado en la pantalla guardo recargo y el resultado de la pantalla como veis es un rectángulo de color rojo lo que he hecho por tanto es pintar este rectángulo de color rojo un momentín voy a probar un poco unos parámetros 10 por 10 bien lo que he hecho por tanto como veis no sé por F rectangle me está pintando principio una apariencia me está pintando 200 pero ahora veremos por qué pero básicamente fijaos que lo que he hecho es realizar un dibujo en javascript lo que he hecho es seleccionar un div que en este caso es un Canvas y poder dibujar dentro de ese Canvas de manera que javascript va a ser el que me permita especificar qué es lo que voy a dibujar dentro de esa zona Vamos a repasar el código vamos a diseccionarlo y básicamente Mirad yo lo que estoy haciendo aquí es un poco simplificar el código diciendo que atención c Mirad es igual al document get Element byid my Canvas mi Canvas qué estoy diciendo aquí la variable c equivale a el elemento que tiene el ID mi Canvas Y qué hago yo con esto Pues fíjate que a continuación digo contexto es igual a c punto get context 2D si este c equivale a document get Element byid lo que le estoy diciendo es al documento aquí lo que le estoy diciendo es al documento que tiene el ID mi Canvas ponle Aplícale un contexto 2D pero es que la cosa continúa y dice contexto fill Style Fíjate que contexto es c get context 2D y a la vez c es document get Element byid así que qué estoy haciendo estoy como comprimiendo la información lo que estoy haciendo al final es decirle al documento que tiene el ID mi Canvas Ponle un contexto 2D y Ponle un color de relleno rojo contexto al documento que tiene el elemento ID mi Canvas Ponle un contexto 2D y Ponle un rectángulo con estas proporciones por eso Y esto es como siempre podría escribir el código abreviado Pero entonces me saldría una chufa me saldría una línea así de larga que tendría que diseccionar Qué es cada trozo de la línea más cosas vamos a hablar de estas cuatro componentes que me están funcionando un poco raras Pero bueno ahora veremos Por qué la primera componente es la distancia que hay desde la esquina superior izquierda hasta el elemento así que por tanto Mirad si aquí pongo 10 fijaos es la distancia que hay desde voy a poner azul desde este punto a la proyección en x esta distancia de ahí la distancia x el segundo elemento es la distancia que hay no sé por qué me sale alargado la distancia que hay desde ese punto hasta ese elemento la distancia que hay en vertical me sale como el doble de alargado es un poco extraño a ver un momentín que me acerque el primer elemento por tanto es este es esta distancia el segundo elemento es este la distancia que hay en vertical el tercer elemento es la anchura en x el cuarto elemento es la anchura en y voy a hacer una cosa un momento High 200 píxeles voy a decir voy a sacar el wid y el High del Style y voy a decir W de 200 píxeles voy probar ahora sí Ahora me sale bien había algún problema en el css Mira por tanto a ver repetimos lo que he hecho es sacar el wid y el High del css y ponerlo como parámetros de html y dejar únicamente en css el borde lo que hago por tanto es ver lo siguiente vamos a verlo el primer parámetro por tanto es esta distancia el segundo parámetro es esta distancia el tercer parámetro es esa distancia es la anchura el cuarto parámetro es la altura y esos son los cuatro parámetros que gobiernan junto con el color de relleno e la caja con la que estamos trabajando y ahora una pregunta muy importante y es En qué orden se ejecuta el Canvas veréis lo que voy a hacer porque ya hemos visto que javascript se puede poner en la cabeza y se puede poner en el cuerpo y ahora mismo lo que he hecho es poner el Script dentro del cuerpo y funciona pero lo que voy a hacer a continuación Mirad atención es cortar todo este javascript cortarlo directamente lo corto y lo pego dentro del Head el mismo javascript lo he cortado del Body y lo he pegado dentro del Head va a funcionar No guardo recargo y no funciona por qué no funciona vamos a tener en cuenta el orden de ejecución de los elementos en html y en javascript tanto en html como en javascript los elementos A menos que digamos lo contrario se Ejecutan desde arriba hasta abajo Así que Mirad si yo vengo aquí y empiezo html voy a hacer un archivo html Head voy a darle información a la cabecera que el usuario no verá hago un Script de tipo texto javascript hasta ahora bien verdad pero el problema es que ahora en la siguiente línea digo creo una variable y a esa variable le digo eh Ponme el document get Element by my Canvas un momentín a ver si puedo dibujar una cosa ya no puedo bien Mira el problema está en que hasta ahora no puedo rellenar el programa conoce esto conoce hasta esta línea pero no sabe más así que dice selecciona el elemento que tenga el ID mi Canvas Hay alguno que se llame mi Canvas javascript dice no sé que hay un elemento que se llama Canvas hasta ahora no lo he visto y por tanto dice me da igual todo lo que me digas a continuación porque me has hecho que apunte a alguien que no sé quién es entonces el problema está en este caso que no está funcionando porque le diga lo que le diga hasta aquí está pintando en algo que desconoce y luego es cuando aparece el Canvas y claro esto es como aasas mangas verdes verdad es como decir vale Sí ahora tengo el canvas pero ya he perdido el código de dibujar en este caso por eso funciona correctamente el poner el Script detrás del Canvas porque lo que hace primero pinta un Canvas tienes un Canvas que se llama mi Canvas claro cuando a continuación aparece el Script y dice get Element byid coge aquello que se llama mi Canvas javascript dice Ah justo arriba han dibujado un Canvas que tiene este ID pues sé localizarlo eso quiere decir que el Script de Canvas nunca se va a poner en la cabeza no ahora os voy a enseñar una manera de poder ponerlo en la cabeza y que funcione perfectamente pero eso va a ser en el siguiente vídeo otra cuestión es que yo en html no puedo cambiar el orden de ejecución porque html es un lenguaje estático pero yo en javascript puedo cambiar el orden de ejecución yo en javascript realmente puedo hacer lo que quiera porque para eso es un lenguaje de programación Así que lo que voy a hacer ahora no es Ni más ni menos que combinar Canvas con jquery para comprobar como jquery puede hacer que funcione Canvas en la cabecera esto no quiere decir que yo recomiende que Canvas tenga que estar en la cabecera Canvas puede estar donde queráis Simplemente estoy explicando Cuál es el orden de ejecución de los elementos y que si queréis se puede cambiar arriba en la cabecera Mirad lo voy a volver hacer voy a pegar el Script lo voy a cortar lo voy a pegar en la cabecera en la cabeza no funciona lo veis no funciona sin embargo ahora por supuesto si quiero usar jquery tengo que llamar a jquery Script type texto barra javascript y le digo que el source es eh jquery No sé cómo se llama el archivo no me acuerdo lo tengo por aquí se llama jquery-1.7.2.min.js el mismo nombre que tenga aquí otro truco la verdad es que lo estoy haciendo lo difícil podría ser copiar pegar y así me aseguro que no cometo errores cierro Script ojo cierro Script Y ahora qué he hecho í arriba pues lo que he hecho es simplemente Llamar a Jer decir a partir de ahora voy a usar jquery y aquí lo que voy a hacer es algo tan sencillo como decir bar x hace referencia al documento y xre cuando el documento esté preparado ejecuta la función de inicio la función de inicio a su vez tiene el código del Canvas voy a ejecutarlo voy a comprobar que funciona y a continuación os voy a decir por qué funciona guardo recargo y compruebo que haciendo eso sí que funciona y ahora la pregunta es por qué ahora funciona vamos a leer el código javascript se encuentra en la cabeza pero si leemos el código nos dice que bar x hace referencia al documento cuando el documento esté preparado atención x. ready entonces y solo entonces ejecuta la función de inicio Qué quiere decir pues que yo lo que estoy haciendo es guardar una función de inicio que dibuja en el canva pero con esta línea le estoy diciendo no ejecutes esta función ya ejecútalo el documento esté preparado cuándo el documento está preparado cuando ha acabado de cargar todo el html Esta es una de las muchas razones para usar jquery Y es que con jquery lo que hacemos Es ponerlo arriba pero decir no tengas prisa no lo ejecutes todavía primero carga todo el documento html y cuando hayas cargado todo el documento html y estén creados todos los divs y todos los ids y todo lo que haga falta entonces ejecuta este código Esta es una simple demostración de Cómo podemos alterar el flujo de trabajo dentro de javascript de Cómo podemos alterar perdón el orden de ejecución dentro de javascript durante el ejercicio que vamos a hacer hoy vamos a estar programando algo razonablemente complejo con lo cual no es solo queos mostraremos Cómo cambiar el flujo de ejecución y el orden de ejecución sino que es que necesitaremos cambiar el orden de ejecución para que el programa haga lo que nosotros queramos más elementos que podemos dibujar dentro de Canvas son rectángulos y son círculos voy a dibujar voy a hacer que este rectángulo sea de 50 por 50 Y así me hago un poco de despacio para segir dibujando por aquí elementos tales como círculos elementos tales como líneas o elementos tales como degradados lo que voy a hacer a continuación es pintar un círculo por tanto lo primero que haré es cambiar de color Ya sé cómo se hace que es contexto punto fill Style y digo que el F Style es igual a verde cómo es bueno verde es eh almohadilla 00 ff00 pero es que claro escribir colores en hexadecimal es un poco complicado yo la verdad es que sé cómo se hace Pero nunca lo uso porque me es mucho más fácil poner colores en rgb por tanto yo recomiendo mucho más que o pongáis Green voy a poner Green y en la el siguiente ejemplo haré un ejemplo con rgb o pongáis rgb si quiero verde sería por tanto Pongo aquí Green en este caso en este ejemplo y voy a hacer ahora lo siguiente voy a poner contexto punto begin path voy a empezar un trazo y ese trazo va a tener las coordenadas siguientes contexto punto arco un círculo ente es un arco y va a tener los siguientes parámetros atención va a tener por ejemplo 50 coma 15 coma 0 coma madre mía ma punto pi por 2 coma true evidentemente ahora a continuación os voy a decir qué hace cada uno de sus parámetros Y por último voy a decir contexto punto Close path yo que he hecho vamos a comprobarlo guardamos recargamos comprobamos si funciona en principio no bien Vamos a ver me debe faltar algún parámetro ar Ah sí claro falta el último contexto punto fill vamos a verlo ahora sí tenemos un círculo de color verde vamos a verlo ahora vamos a comentar línea a línea y vamos a ver qué hace parámetro a parámetro aquí le estoy diciendo voy a dibujar verde aquí le estoy diciendo empiezo un trazo aquí le estoy diciendo dibujo un arco aquí le digo finalizo el trazo y aquí le digo rellénelo lo difícil en este caso es saber qué es cada una de estas componentes es muy fácil la primera componente es el centro en el eje x Mira si yo pongo ahí 100 Mirad 100 se mueve hacia la derecha es el centro Mirad atención 150 es el centro en x es la distancia que hay desde ahí desde el centro hasta el borde izquierdo el siguiente parámetro evidentemente como os podéis imaginar es el centro en y es la distancia que hay desde ese centro Mirad hasta arriba desde el centro arriba el siguiente parámetro es el radio si pongo 15 Tengo un círculo pequeño si pongo 50 Mirad Tengo un círculo un poco más grande si pongo 80 Tengo un círculo más grande todavía fijaos es un Lienzo por tanto al ser un Lienzo no se sale del Lienzo es como pintar en un cuadro no te puede salir o sea te sales Pero pintas la pared cero es el ángulo voy a poner aquí 50 el ángulo en el cual empiezo a pintar empiezo cer0 quiere decir que empiezo desde aquí maz pun pi * 2 quiere decir qué es maz pun pi * 2 Qué son dos pi radianes son toda la vuelta al círculo en trigonometría si pongo por ejemplo ma punto pi quiere decir que estoy barriendo 180 gr recordad radianes eh 2 pi radianes es toda la vuelta al círculo si 2 pi es toda la vuelta evidentemente 1 por pi es media vuelta si pongo Mirad atención 0.5 por pi Qué haré un cu4 de la vuelta guardo recargo y tengo bueno 3 cuart Perdón voy a poner 1.5 1.5 es 1/4 de la vuelta en este caso 0.5 serán 3 cu4 de la vuelta veis aquí 1 el parámetro true indica si es un círculo relleno o si es una tarta voy a poner false recargo y veis ahí tengo el valor completo o el valor complementario no s si lo veis false y true son dos elementos es el mismo círculo pero relleno por arriba por abajo y a partir de ahí como veréis podemos dibujar cualquier círculo dentro del cambas con las coordenadas Generalmente cuando queréis dibujar un círculo básicamente se pone el número dos vos si tenéis un círculo Ah otra cosa Mirad vamos a poner 1 por ma pi dónde ha empezado realmente el círculo empieza aquí el círculo empieza en este lado por qué por la sencilla razón de que un círculo Mirad tiene esta forma esto que sepáis que es un círculo esto que es una patata es un círculo donde Mirad esto es cer esto es pi y la vuelta es 2 pi de la misma manera esto es pi partido 2 y esto de aquí es 3/4 de pi si yo le he dicho cer0 quiere decir que empieza en esa zona Pero si yo quisiera que empezara aquí le diría pi paro 2 cómo vamos a decirlo aquí en lugar de poner cer pongo 0.5 * má pun pi y lo que tengo en la pantalla Mirad es que vaya al revés es empieza hacia abajo veis como ha empezado el círculo aquí ya no empieza Aquí voy a ponerle en lugar de 0.5 voy a ponerle 1.5 veis ahora empieza ahí arriba es decir puedo controlar el punto de inicio puedo controlar el punto de final Aunque insisto en la gran mayoría de ocasiones para hacer un círculo completo simplemente se pone ahí cero y a continuación se pone dos por pun pi que equivale a decirle Hazme un círculo completo dentro del Arco por tanto repasamos los parámetros tenemos varios parámetros que hacen lo siguiente Mira el primero atención el primero es la distancia del centro es la distancia del centro en el eje x es la distancia que hay desde el punto central del círculo hasta el borde izquierdo vemos que pone 150 luego ese valor ahora mismo es de 150 el segundo es la distancia que hay desde el centro al eje y recordad que en Canvas en javascript en html desgraciadamente para mí el punto cero es el punto que hay en esta esquina lo digo porque para programar videojuegos es un poco complejo porque en general norment me suele gustar más que el punto cer esté aquí abajo a la izquierda Pero qué se va a hacer esos son los dos primeros parámetros que son la distancia del centro a x y a y los dos siguientes parámetros son perdón el siguiente parámetro que es el tercero es el radio que es la distancia desde el centro a cualquier punto de la Esfera no puedo hacer con este elipses tendría que hacerlo con otra herramienta Es decir es un solo radio ese radio es equidistante para cualquier punto de la circunferencia y ahora los dos siguientes parámetros lo que me dicen es dónde empiezo Y dónde acabo y lo que hará el programa es barrer el ángulo desde dónde empiezo hasta dónde acabo lo que voy a decir también atención miradme Es que no es obligatorio usar la librería maz lo que pasa es que es conveniente por qué voy a hacer unos cuantos ejemplos atención voy a empezar el número cero y voy a acabar en el número uno veis no es obligatorio usar la librería maz empiezo en el cero acabo en el uno lo que pasa es que si no uso la librería más me puede costar más entender por qué hacen los números el resultado en pantalla es esto es cer esto es un si queréis para hacer el contrario le voy a decir aquí al final false para que flase no false para que me haga ese recorrido he empezado en cero y he acabado en uno ahora lo que voy a hacer es empezar en cer y acabar en dos esto es 0 esto es uno esto es dos ahora empiezo en cer0 y acabo en tres esto es 0 esto es uno esto es dos esto es tres de la misma manera puedo continuar cuatro y me lo hace hasta ahí cinco y me lo hace hasta ahí se y me lo hace hasta ahí de la misma manera puedo decirle Por ejemplo atención cu esto es cu si esto es cuatro quiere decir que esto es 0 esto es cu 1 2s y 3 Qué pasaría si yo quisiera hacer un círculo desde aquí hasta aquí pues en lugar de empezar en cero empezaría en un y llegaría hasta comprobamos empiezo en un y acabo en cu básicamente es el punto de inicio y el punto de final de ese círculo el problema en este caso está en que Por qué uno y por qué 4 es más Cómo podría yo acertar 06 fijaos que no es perfecto ese punto de finalización no es perfecto por qué Porque trabajando en radianes eh realmente toda la vuelta al círculo son 2s pi radianes de esta manera lo que voy a hacer es lo siguiente Mirad lo que voy a hacer es sacar la calculadora Mirad saco la calculadora atención y digo 3 pi perdón 3.1416 más o menos por redondear por 2s 6,28 todo el círculo completo no es 6 sino 6.28 ya sabéis que en programación los decimales son con puntos no con comas solo así consigo el círculo completo para qué estoy usando la librería maz pues para ahorrarme tener que sacar la calculadora a cada momento y ahorrarme tener que yo calcular manualmente el número pi por tanto como yo sé que toda la vuelta al círculo son 2 pi radianes por eso Pongo aquí que en lugar de poner 6,28 pongo ma. pi saco la constante pi de la librería matemática y lo multiplico por dos ma punto pi por 2 o do ma punto pi me da igual guardo recargo y solo así tengo el círculo o solo poniendo ma. pi es cuando tengo medio círculo eso en cuanto a los parámetros de inicio y de final y luego también tener en cuenta que false es decir bueno atención ha sido desde el grado cer hasta el grado 180 Pero ha sido por bajo o ha sido por arriba Pues el false está para rellenar lo de bajo o lo de arriba o lo de la izquierda o lo de la derecha Mirad false rellenado debajo si pongo true y rellena lo de arriba nos permite cambiar qué parte está rellenando otro tipo de forma que podemos generar es una línea donde podemos especificar cada uno de los puntos hacia los que va a viajar esa línea entonces lo que voy a hacer Mirad Voy a hacerme un hueco De hecho voy a comentar el código para que luego sepáis qué hacía yo en cada cosa voy a poner aquí dibujo una caja y voy a poner aquí dibujo un círculo y aquí voy a poner aquí dibujo una línea para trabajar con la línea voy a hacer lo siguiente me voy a acercar al código y voy a decir contexto punto move to es un pequeño cursor que hay por la pantalla le estoy diciendo mueve ese cursor hasta ese punto a ver como si yo fuera a dibujar lo que estoy haciendo es mueve el lápiz hasta el punto de inicio donde vas a empezar a dibujar move to evidentemente a continuación pondré por ejemplo 40,40 que son las coordenadas x e y horizontal y vertical del punto que voy a dibujar y ahora voy a hacer contexto punto Line to y voy a hacer por ejemplo 8040 qué va a hacer esto vamos a verlo por último ahora meto más líneas por último voy a poner contexto stroke es dibuja la línea repaso al código Mirad y hace esto no sé si lo veis he hecho una línea desde 40 Perdón 40 hasta 80 40 he hecho una línea que ha empezado aquí y que ha acabado aquí ha empezado por tanto en 40 y ha acabado en 8040 lo divertido Es que yo puedo hacer tanto líneas como quiera si yo aquí copio esta línea y empiezo a introducirla en Ahora quiero una línea que vaya hasta 80 Ahora quiero una línea que vaya hasta 40 80 vamos a ver que he dibujado con toda probabilidad una C invertida veis de 40 a 80 en x de 40 a 80 en y de 80 a 40 en x supuesto No solo puedo dibujar rectas también puedo dibujar diagonales puedo dibujar realmente la línea que yo quiera ahora digo que voy a crear pues hasta 80 120 y esto evidentemente me va a dar una línea diagonal desde ahí hasta ahí lo que más nos puede costar en un principio lo digo ya es acostumbrarnos a que en el Canvas esto es cer y cada uno de los puntos los tenemos que medir como distancia x a ese punto distancia y a ese punto en este caso la proyección es en X en este caso 80 en Y en este caso 120 voy a dibujar ahora un círculo de hecho Mirad voy a dibujar un círculo copiándole convertir en una elipse por tanto voy a hacer lo siguiente una elipse voy a dibujar un círculo azulín y por tanto lo que voy a hacer es cambiar el color por ejemplo a Blue es más os había dicho antes que os iba a enseñar Cómo cambiar el color con rgb Bueno pues voy a poner rgb 0,0255 que equivale a azul y ahora voy decir que quiero este círculo en 150,50 es decir muy a la derecha poco hacia abajo 50 y más punto pi por 2 lo cual me va a generar un círculo de color azul ahí a la derecha Bueno pues según parece una manera de dibujar elipses es escribir lo siguiente lo curioso de esta manera es que se escribe antes de escribir el círculo antes de escribir el cc voy a decir que contexto punto scale scalo y pongo por ejemplo 0.75 com 1 lo que estoy haciendo es escalarlo a 0.65 al 75 por en x o por ejemplo 0.50 y el resultado en pantalla como veis es este lo que he hecho es un óvalo lo que he hecho es escalar el círculo al 50% en x Qué pasaría si lo quisiera escalar al 50% en Y bueno pues pondría 1.0.5 y como veis lo escalara al 50% en y ojo cuidado si yo he puesto scale en este caso ojo punto y coma Me podría haber dado un error no me lo ha dado Ha sido suerte en este caso si yo le digo texto scale 1 0,5 le estoy diciendo que todo lo que haya a continuación todo lo que venga a continuación me lo vas a escalar al 50% en y esto es peligroso porque si yo ahora continúo dibujando no solo ese círculo sino todo lo que dibuje a continuación me lo va a escalar al 50% por eso es muy recomendable aquí al final poner contexto scale 1,1 para que todo lo que dibuje a continuación recupere su escala correcta es decir escaro al 50% dibujo la elipse y luego escalo al 100% escalo a la proporción correcta para que todo lo que dibuje a continuación y a continuación voy a dibujar una cosita más voy a dibujar un par de cositas más se escale correctamente lo que voy a hacer por tanto es dibujar un hexágono o un polígono de n lados voy a poner aquí un polígono y voy a combinar Canvas con lo que ya sabemos de la librería matemática y de javascript de crear variables Así que digo voy a crear un comentario aquí pongo un hexágono y aquí lo que voy a hacer es escribir una variable Mirad pongo bar centro es más bar centro x es igual a por ejemplo yo que sé 50 ahora digo bar centro y es igual a no sé 50 ahora luego podemos cambiar los parámetros de hecho hará mucha gracia cambiar los parámetros para comprobar como ese parámetro se lleva al resto del hexágono Y ahora yo digo cuál es la distancia Cuál es el la línea que hay desde ese punto de centro hasta el primer borde del hexágono que es el ángulo cero la solución es muy sencilla Mirad voy a dibujar una línea de hecho voy a copiar todo esto que es la línea y digo contexto move to Qué es mueve el cursor hasta dónde hasta centro x coma centro y estoy usando dos variables veis evidentemente si centro x equivale a 50 y centro y equivale a 50 move to equivale a decir muevelo hasta 50,50 no bien Ahora voy a poner lo siguiente contexto Line to Ah ojo voy a crear otra variable bar radio es el radio de El polígono es igual a he puesto 50 por poner algo ahora Luego cambiamos los parámetros y ahora digo atención en x y aquí es donde la cosa se va a complicar un poco en x es el centro x más el radio por el coseno Perdón ma pun Cos del ángulo Cuál es el primer ángulo es cer el primer ángulo la esquina que a la derecha es cer ahora lo que voy a hacer es poner voy a copiar esto de hecho y voy a poner centro y más el radio del ma por el sin más el radio del seno de cer qué he hecho lo que he hecho es una línea que va desde el centro del hexágono hasta ahí vamos a comprobarlo a ver si ha salido bien Ah Y por último Sí el stroke lo tengo guardo recargo y tengo como ahí como veis una línea voy a bajar un poco la línea voy a bajar un poco la línea voy a ponerla 100 porque si no se verá el hexágono se me saldrá de la pantalla ahí la tenemos voy a bajarla un poquito más a 200 ahí la tenemos Esa es la línea veis como esa es la línea que va desde el cero desde el punto central lo difícil pero si superamos este paso ya tenemos todo el ejercicio resuelto lo difícil es el siguiente paso y ahora le digo que quiero dibujar una línea desde el punto inicial hasta el primer punto del hexágono Cuál es ese punto es muy sencillo es el centro x más el radio del coseno del ángulo cer0 no ya no es el ángulo cero qué ángulo hemos dicho que es pues maz pun pi pardo 3 lo tenéis ahí arriba y ahora vuelvo a escribir má punto pi partido 3 lo importante en este caso es que comprendáis o recordéis de secundaria que el coseno te da la proyección horizontal del ángulo la x digamos y el seno te da la proyección vertical del ángulo guardamos recargamos Y si todo ha ido bien tendremos en la pantalla vaya estoy yendo al revés hacia abajo voy a volver a repetir ojo el scale ahora igual quito el hexágono o lo pongo detrás Bueno voy a continuar probablemente me va a salir un hexágono un poco chafado ahora voy a decir que copio esta línea atención Mirad copio esa línea Cuál es el siguiente radio pues 2 por ma tres Y a partir de aquí va a ser muy sencillo Porque la siguiente será 3 por maz 4 por maz 2 por maz partido 3 y tengo ahí esa línea insisto voy a comentar todo este trozo voy a comentar el scale porque me está modificando ahora vale 100,1 Ahí está Mirad atención el resto de vértices son muy sencillos son 3es por maz 4 por má cco por ma y el último y no Por ello menos importante 6 por ma 6 par 3 a Qué es igual a 2 y 2 pi es la vuelta entera luego como podéis comprobar lo que he hecho aquí es dibujar un hexágono dibujando cada uno de los elementos proyectados eh os puede parecer que lo he complicado un poco atención Mirad la pantalla sin embargo no es así os puede parecer que lo he complicado un poco porque todo lo que he escrito depende del parámetro centro x y del parámetro radio Pero eso Aunque os parezca una complicación al final es mucho mejor para vosotros Porque si yo ahora por ejemplo cambio el radio No tengo que recalcular todos los puntos sino que el programa lo recalcula por mí Cambio el radio y me recalcula automáticamente el radio lo que hecho es Si cambio una variable me cambia automáticamente todo el uso de las variables Si cambio el centro de 100 a 120 automáticamente me cambia también todos los centros por tanto para dibujar formas complejas Aunque os pueda parecer complejo al principio suele ser mucho mejor trabajar con variables a continuación voy a hacer un trozo de código que pueda reutilizar en cualquier proyecto y que me sirva para generar un Script que me diga la fecha de hoy y que además me transforme la fecha de como me la dice javascript a como la quiero yo ver como ser humano voy a empezar Aunque luego lo externalizar en un archivo javascript pero voy a empezar creando un archivo html que tiene un Head que tiene un Body en el archivo Head voy a poner un Script de tipo texto javascript y ya que estamos incluso voy a cargar jquery Por tanto copio esto lo pego y le digo que el source es voy a el archivo Esta es la librería jquery Así que copio Así que pego y ahora voy a decir lo siguiente voy a poner luego lo simplificar si queréis bar x hace referencia al documento y cuando x. ready ejecuto la función de inicio la función inicio va a decir lo siguiente y dentro del D dentro del Body voy a poner unir con ID fecha para qué Para yo ahora ya no quiero poner document write porque me lo escribiría en cualquier parte no yo quiero que en un proyecto me ponga la fecha solo en el dip que se llame fecha para controlar mejor y ahora en la función de inicio voy a hacer lo siguiente voy a crear igual que en fechas voy a copiar un trozo voy a crear una instancia del objeto fecha digo que fecha es igual a New date y básicamente voy a poner par y voy a hacer una primera variable segn lo que voy a hacer por tanto es crear una nueva variable llamada I hacer que I apunte a aquel elemento que tenga el ID llamado fecha y decir que y. html aquí voy a poner la fecha de momento de prueba simplemente para que comprobéis en la pantalla Cómo se llama esto Mi fecha crea fechas como pone Aquí voy a poner la fecha lo que pasa es que lo está poniendo javascript no lo está poniendo no lo está poniendo html y ahora digo concretamente la fecha va a tener este formato hoy es viernes coma 7 Creo 8 de junio de 2012 eso es una fecha estática cada día ya Tendría que ir cambiando la fecha imaginaos y encima si pongo y son las qué hora es las Mira las qué hora más curiosa veis qué tendría que actualizar eso cada segundo es imposible lo que voy a hacer es que javascript lo actualice entonces yo voy a hacer lo siguiente Mirad yo puedo cambiar esto y poner que en lugar de lo veis o pongo fecha punto el get day get day get date punto get date y el resultado es que hoy sigue siendo fecha 8 día 8 pero ese número 8 ya no es un número estático sino que mañana ahí pondrá nu veis yo ahora hago lo mismo con el año Y en lugar de get date será get full year full y pone 2012 Pero eso 2012 ya no es estático ahora es Dinámico ahora si por lo que sea mañana cambiar el año esperemos que no porque eso quería decir que el mundo se ha acabado algo así pues cambiaría ese 2012 Y para que lo veáis mejor ahí puedo poner get hours get minutes y get seconds get hours get minutes y get seconds y evidentemente ahora ya me dice que son las 12 una y tres ahora lo que haremos es vamos a decirle Bueno ahora luego lo cambiaremos para que me diga me ponga ceros delante sobre todo mi principal problema ahora mismo es el siguiente Es que yo quiero que me diga viernes y javascript no me devuelve viernes me dice que es el día número cinco os acordáis con get day yo voy a hacer lo siguiente aquí a continuación voy a decir que aplico una estructura de control que ya conocéis llamada switch el switch os acordáis es como un If pero con muchos casos o con múltiples casos y digo fecha pun get day evaluame get Day en el caso cer voy a crear una variable aquí arriba bar día de la semana en el caso cer día de la semana es igual a lunes y no os olvidéis del break siempre que escribáis un caso dentro del switch tiene que haber un break en el caso un no este empezaba con en el cas día de la semana es igual a martes en el caso TR día de la semana es igual a miércoles caso 4 día de la semana es igual a jueves caso 5 de la semana es igual a viernes caso se evidentemente será igual a sábado y caso 7 será igual a domingo yo que estoy haciendo aquí pues lo que estoy haciendo es cambiar un número por una palabra así que por tanto Ahora aquí en la escritura en lugar de viernes le voy a decir que Dime el día de la semana y el resultado evidentemente al recargar es viernes pero ese viernes ya no es estático mañana no pondrá viernes pondrá sábado de la misma manera Voy a proceder con el mes de junio voy a hacer otro switch donde cambiaré os acordáis que los meses Ian del 0 al 11 en lugar del 1 al 12 otra cosa si pongo un switch aquí me van a empezar o perdón si pongo otro switch me van a empezar a aparecer muchas líneas de código una cosa que no recomiendo hacer pero que yo voy a hacer ahora es Mirad es eliminar saltos de línea para ponerlo todo más comprimido veis y ese switch pasa a ocupar tres veces menos no recomiendo vaya no recomiendo escribir así ya sabéis porque el código al menos en mi opinión es más ilegible es menos fácilmente legible pero la cuestión es que fijaos que al final funciona igual hoy es viernes y van cambiando los segundos y todo esto de la misma manera Por tanto como os decía voy a hacer otro switch Y dir en este caso en fecha no me hace falta pero el día de la semana sí voy a crear una variable llamada bar mes del año recordad evito las señas y los acentos y todo eso al escribir variables fecha get month en el caso cer en el caso un en el caso Bueno realmente voy a copiar mes del año será igual a enero y ahora voy a eliminar todo esto y voy a pegar tal 1 2 3 4 5 6 7 8 9 10 vamos a seguir teníamos el caso 10 el caso 11 el caso 12 no el caso 12 ya no Claro es está el 11 y es febrero es marzo abril mayo junio Julio agosto septiembre octubre noviembre y diciembre y si ahora vamos a la fecha cambiamos junio por mes del año y nos dice que es viernes 8 de junio de 2012 y son las 12:0 la cuestión es que fijaos que ahí hemos convertido una fecha de estática a dinámica el resultado es el mismo pero ahora esa fecha va a cambiar automáticamente cada día de cada mes de cada año a cada hora minuto y segundo ya que estamos vamos a demostrar Cómo podemos combinar html y javascript y css y voy a maquetar esto con un formato el que sea por ejemplo aquí en el Head voy a hacer una etiqueta de estilo Style y voy a decir que todo lo que sea todo lo que tenga el ID fecha va a tener lo siguiente va a tener un background Black un font family Courier un color Green y le voy a poner un text Shadow de cero píxeles c píxeles Green vamos a ver qué aspecto tiene esto Ahora tiene este aspecto tiene una especie como reloj de la Segunda Guerra Mundial verdad como reloj mega analógico voy a poner que el color en lugar de ser verde sea rgb o más bien la Guerra Fría eh sea rgp 20025 20000 y por tanto su resultado será un verde clarito y en el color de brillo voy a poner un 100,25 5,100 que será un verde oscurito Es que así no sé si os fijaré pero lo que quiero hacer es que la letra brille un po lo veis un poco de resplandor alrededor de la letra como simulando ese efecto analógico y luego font size voy a poner no sé 10 píxeles para que me quepa todo en una línea veis como un poco efecto de Matrix efecto de letra de Matrix pongo 12 y ahí tengo una letra y luego además voy a poner un poquito de padding de c píxeles No lo sé veis ahí por ejemplo el problema de esta aplicación problema Por decirlo de alguna manera es que esta aplicación te da la hora Mirad te da la hora pero ahí se queda en ese momento se queda Entonces no se actualiza la hora en tiempo real por ejemplo veréis que las horas minutos y sobre todo los segundos se han quedado congelados al principio me dice la hora que es en ese momento y ya está he ejecutado el código y se acabó lo que os voy a presentar antes de externalizar el código es eh presentaros una función que ya hemos estado usando previamente que voy a usar dentro de la función de inicio y es la función s Time out es ejecuta algo así que voy a decir lo siguiente Mirad aquí al final de la función de inicio voy a poner set Time out y voy a decir vamos a ver aquí alert Hola cuidado y que se ejecute a los 5 segundos de cargar la página vamos a ver si funcionado bien guardo recargo cinco es que realmente es 5 milisegundos 5000 Son 5 segundos cuarto recargo y en 5 segundos si todo ha ido bien Mirad Pam me sale el cartel de Hola atención repito otra vez recargo me dice la fecha espero 5 segundos y me dice hola lo que voy a hacer en este caso es hacer que javascript ent en un bucle infinito pero ese bucle infinito va a ser en este caso por nuestro bien yo voy a hacer lo siguiente tengo una función de inicio la función de inicio ha sido la que me ha dicho la fecha Así que lo que le digo a continuación es que set Time out Mira inicio y que me lo ejecute cada 1000 milisegundos tú para qué quieres saber la fecha y la hora 1000 veces en un segundo si te va a decir lo mismo en lugar de decirle que me lo diga cada milisegundo se lo digo que me lo diga cada segundo guardo recargo atención recargo y me dice 29 30 31 32 yo qué he hecho cuidado esto que he hecho es razonablemente peligroso lo que hecho es un bucle infinito Mira atención Mirad la pantalla tengo una función de inicio función de inicio y al final dice ejecuta la función de inicio dentro de un segundo lo cual equivale a volver aquí inicio pues vuelvo vuelve a ejecutar la función de inicio dentro de un segundo la vuelvo a ejecutar veis como he vuelto estoy ejecutando un bucle infinito Insisto que en este caso es un bucle infinito beneficioso porque nos está dando las horas cada segundo Oye otra cosa Mirad supongamos que no lo quiero cada segundo sino que lo quiero cada dos fijaos que yo en lugar de ese Time out 1000 pongo 2000 atención Mira la fecha y me dice 23 25 espera aquí 33 veis Cómo se cumple realmente ese intervalo 2000 son Realmente 2000 eh Son 2 segundos podría poner 3 segundos evidentemente lo más recomendable verdad va a ser poner 1000 milisegundos Y de esa manera como veis tengo un reloj que me está marcando las horas en un formato eh digital digamos a continuación lo que voy a hacer es un reloj analógico con manecillas de hora minuto y segundo que Eh me diga que me permita saber Bueno pues la hora un formato analógico Así que mira voy a comprimir todo esto y ahora aquí abajo voy a hacer aquí un Canvas en el html esto html Canvas ID igual reloj acordáis el Canvas tenía que tener unid para qué e voy a copiar y pegar para que al principio digo bar estoy aquí abajo es más lo voy a comentar voy a poner reloj analógico para que sepáis dónde acaba dónde empieza una cosa me acaba la siguiente repite veis así lo tenemos separado y digo empiezo como antes bar document get Element my ID reloj no sin mayúsculas reloj lo tenéis lo es y sigo y ahora Digo e atención el Canvas le voy a decir que quiero una anchura de 200 píxeles y una altura de 200 píxeles y que quiero un que tenga un borde por lo menos ahora para verlo un borde de un píxel das Grey para qué Para que veáis como ahí aparece el reloj ahí voy a poner reloj lo veis qué voy a hacer en primer lugar voy a Añadir un círculo Así que copio y pego atención Mirad copio y pego aquí dibujo un círculo pues me lo copio me lo pego y lo adapto va a empezar en 100 va a tener 50 de radio y va a tener má pi * 2 y lo quiero rellenar de gris hago así y tengo no tengo nada vamos a verlo contexto claro es que no hecho el contexto pinto en 2D guardo recargo y ahora sí tengo un reloj puedo hacerlo de 100 de radio y así es un reloj que me llena todo lo veis un reloj muy bien a continuación lo que voy a hacer es dibujar las manillas para las horas minutos y segundos cierto voy a empezar si queréis con la de los segundos que es la más difícil yo antes he podido dibujar como veis aquí un hexágono Así que voy a recuperar el centro x el centro y el radio aquí dibujo los segundos el centro x es 100 el centro y es 100 el radio voy a ponerlo de 80 y ahora dibujo una línea voy a empezar dibujando una línea muy sencilla una línea que vaya desde 100 contexto pun l es más que vaya desde centro xa centro I hasta centro x má radio coma centro I Qué hace esto pues dibuja esta línea lo veis además me ha dibujado una línea exterior al círculo no sé por Pero en fin move to bien vale pues perfecto tengo esa línea es son los segundos cierto no Además cada segundo me está dibujando otra vez la línea Bueno pues a continuación voy a hacer lo siguiente veréis arriba del todo voy a decir que bar segundo es igual a 0 y ahora digo esta línea que me vas a dibujar la vas a dibujar con los siguientes datos centro x más atención mirado la pantalla más radio por el ma punto Cos del de los segundos no tengo que partir 2 pi paro segundos de do por ma punto pi partido segundos y ma pun pi es la vuelta entera vamos a verlo no también lo he hecho mal es ma 2+ pi partido 60 y segundos multiplica a ma punto pi el razonamiento qué ángulo barre cada segundo se barre 2 por pi partido 60 que son 60 Segundos por el número de segundos evidentemente el segundo cero es el ángulo cer0 voy a empezar con la derecha ahora luego un paralaje el segundo uno es 1 por partido 60 vale por el coseno bien y ahora voy a hacer que aquí centro y más radio por el seno de ese valor vamos a ver si ha funcionado vale no ha funcionado hay Alguna algún paréntesis que me he dejado incorrecto centro x radio vale voy a poner aquí cero y efectivamente ahí parece estar el error no bien el error está aquí y veréis lo que tengo que hacer ahora es contar paréntesis 1 2 3 4 6 7 8 en principio está bien segundos es que es segundo la variable es segundo una sola s y ya no funciona bien ahí lo tengo perfecto y ahora le voy a decir que copio esto y lo pego aquí centro y más el seno vamos a verlo si ha funcionado bien tengo ahí por fin el radio y diréis por qué no está funcionando Pues porque no le estoy diciendo que cada segundo que pasa tengo que subir el segundo y ahora le digo segundo más ig a 1 y el resultado en pantalla va a salber siguiente ya lo tengo en movimiento Lo siento los segundos van al revés no pasa nada siempre le puedo decir que sea menos el seno más menos ma empieza a las 3 No pasa nada Claro si invierto el seno el eje y está invertido está al revés Bueno lo hecho al revés realmente no hacía falta poner el menos y así el reloj va en el sentido ahora correcto de las agujas del reloj eh otra cosa muy importante e os estaréis dado cuenta que realmente el reloj cuenta segundos sin fin es decir después del 60 no pasa al cero sino pasa al segundo 61 62 que en este caso coincide con que los segundos vale van dando la vuelta pero yo podría poner un If donde En todo caso le dijera si segundo es igual a 60 en ese caso Haz que segundo sea igual a cero de esa manera reinicio el reloj de esa manera le digo cuando llegues a 60 vuelve a cero Pero eso sí sigue contando más cosas que voy a hacer Si ya tengo esto es calcular los minutos en este caso bueno podría hacer básicamente bueno poniendo claro Endo en lugar de dividirlo entre 60 lo divido entre 12 y que cambie con los segundos o lo divido En definitiva con lo que sea otra cosa que puedo hacer fijaos que de esta manera lo que hecho es poner un contador verdad no si estáis fijando pero lo que hecho es poner el contador de segundos pero es que ese segundo no es el segundo real fijaos que arriba No me digas que coincide con el Real Qué casualidad más casualida Mirad pone que es el segundo cundo se y no es el segundo se veis pone que es el segundo 12 11 13 y ni de coñas el segundo 12 o 13 yo he creado este contador realmente el contador me sobra porque no tengo un fecha get seconds Pues en lugar del contador lo que voy a poner es poner directamente fecha get seconds es decir que me diga los segundos reales para que si ahora está en 39 sea realmente 39 Ya sé que diréis pone 43 Y no y pone 45 y está arriba Porque recordad que ahora mismo para el ordenador cer es allí arriba as que lo que voy a hacer es ángulo le voy a sumar pi Así que fecha get seconds por dos por maz pun pi má math pi a ver si funciona más ma pun pi creo que era menos ma pun pi esto es 20 30 a ver menos má punto pi No claro es que no es maz pun pi es maz pun pi por 2 paro 2 porque son 90 gr acordaos que 90 gr es pi par 2 ma pun pi partio 2 menos ma pun pi partido 2 y ahora si ha habido suerte creo que tengo que hacerlo otra vez con más vamos a verlo ahora no me está haciendo mucho caso hay algo que no estaría haciendo bien cierro esto 31 no me está haciendo caso al maz pun pi ma. cost todo esto más el maz pun pi Bueno ahora lo veremos Claro Efectivamente es que es el maz pun pi viene después del partido 60 má ma. pi partido 60 vamos a verlo ahora 56 no no tengo un reloj curioso vo a dar un grafismo curioso Pero no es lo que quería efectivamente vamos a ver es el coseno de esto más maz punto pi estar fuera del coseno tendría que estar fuera del coseno realmente no creo que no porque el coseno tiene que incluir el pi Pero bueno lo voy a quitar de momento y más adelante ya lo pondré otra vez guardo recargo y con y coseno como las coordenadas punto Sí pero bueno No pasa nada porque ahora luego veré cómo lo puedo hacer voy a hacer ahora ya que tenemos el los segundos voy a dibujar las horas y eh los minutos el radio voy a hacer que sea 100 así los segundos serán los más largos de todos y ahora luego haremos que cada uno tenga un color diferente y así nos hacemos Eh un reloj un poco Fashion bien pues voy a copiar esto aquí dibujo los segundos pues Mirad comento todo para que luego lo tengáis aquí dibujo los minutos y digo centro x es igual a 100 esto no cambia radio es igual a 90 o 80 No lo sé ya le digo centro x ig radio por fecha get minutes cuidado minutes Cuántos minutos hay en un reloj 60 luego lo dejo igual que los segundos partido 60 verdad guardo recargo y tengo ahí los minutos y los segundos recordad Son las son la una no sé por ahí me lo pone son minutos claro son 45 recordad que son veis ahí ha cambiado el minuto veis recordad que son 45 gr más para allá si no ahora luego con css lo puedo transformar Si vemos que nos es difícil con Canvas y ahora dibujo atención y ahora dibujo las horas el radio en este cu en este caso es 40 y digo que las horas es get hours partido 12 Porque creo recordar que hay 12 horas ves más cosas lo que voy a hacer ahora permitirme que haga un poquito de Mini trampa es decirle a todo lo que tenga reloj todo lo que tenga el ID reloj relor no reloj que eh webkit transform es rotate - 180 deg y así de esta manera tengo Perdón -10 no - 90 de -90 gr y así tengo un reloj que me está marcando correctamente la hora que me está diciendo que son las 12 y 45 largas 46 47 y lo segundo que estoy dibujando veis como para esta tontería de reloj son prácticamente 100 líneas de código en javascript y unas poquitas más que nos quedan per lo que os quiero decir es que eh javascript prácticamente hagas lo que hagas al final es mucho código que lo ves de un trozo Y dices madre mía esto Qué es pero que si lo vas viendo línea a línea y sobre todo si está comentado puedes saber que cada cosa cumple una función específica lo que voy a hacer ahora básicamente es eh voy a hacer dos cosas Una voy a hacer líneas con mayor grosor y más color donde por ejemplo voy a hacer que las horas sean de un color rojo para hacer esto voy a poner contexto Mirad contexto punto stroke Style es igual a red stroke Style es igual no hace falta poner paréntesis guardo recargo atención y Mirad como todo el stroke se ha puesto de color verde no pasa nada el problema en este caso es que el stroke me lo va a poner verde para todo vale ahora veremos Cómo arreglar eso otra cosa que os quiero enseñar es que cuando hago le puedo poner pun Line wid es igual a por ejemplo 5 píxeles de manera que las líneas no tendrán un píxel de grosor sino que tendrán este en este caso Cinco píxeles De esta manera veis he conseguido cambiar el color rojo de ese stroke en este caso y el Line wid de ahora mismo de momento para todas las líneas cuando trabajamos con javascript Eh puede llegar a resultar un poco molesto el tener en un mismo archivo tanto html como css como javascript sobre todo porque para llegar al Body para llegar al cuerpo de html tengo que empezar a bajar y llegar un momento hasta el body lo que voy a hacer en este vídeo es externalizar el javascript externalizar en un archivo externo y diferente la cuestión el truquet Mirad está en que voy a hacer un archivo nuevo lo voy a guardar como en la carpeta javascript y lo voy a guardar Como crea fechas js si un archivo tiene la extensión html puedo convertir puedo puede contener html css javascript y otras cosas pero si quiero hacer un archivo que solo va a contener javascript debe tener la extensión js de javascript Mirad lo he hecho y ahora corto todo el código javascript y lo pego en crea fechas y ahora lo que voy a hacer es en crea fechas sol se siente un poquito solito porque ha perdido el código es decirle no es que tu código Realmente está en src fechas js veis src y la ruta al archivo que contiene el archivo javascript si ahora guardo comprobaré como el archivo es el mismo Ah una cosa muy interesante queréis ver cómo se ve esto en el código Pues en el código no habis dicho que sí pero voy a suponer que habéis dicho que sí si pongo control u fijaos que nos dice que esto vincula a crechas js y si pincho crea fechas js me lleva al archivo javascript por tanto Aunque es un archivo externo html lo carga automáticamente dentro como jquery no hemos hecho lo mismo Pues lo que hemos hecho es convertir nuestro archivo en una especie de librería externa en un jquery Entonces qué hacemos programamos dentro o programamos fuera Eso ya depende de vosotros yo lo que suelo hacer es cuando empiezo un proyecto además yo tengo la mala costumbre de meterlo todo junto en un mismo archivo cuando empiezo un proyecto meto javascript dentro del archivo html y cuando ese javascript crece Entonces lo externalizado fuera pero vosotros trabajar como queráis o siempre dentro o siempre fuera o a veces dentro y a veces fuera vamos a hacer el juego de pong y lo primero que voy a hacer es crear una carpeta en dentro de la carpeta actual que voy a llamar Pon y dentro de la carpeta Pon voy a crear una carpeta llamada uno ya que voy a desarrollar de manera secuencial este juego cada vez que haga algo cada vez que haga algo nuevo lo que haré es crear una nueva versión de esta carpeta ahora Aquí voy a guardar esto que tengo preparado ahora veremos lo que es Master web actual p carpeta 1 y esto lo voy a guardar como index.php y así progresivamente iremos viendo W php no vamos a guardarlo como Index html Y así progresivamente vamos a ir viendo Cuál es el avance del proyecto además evidentemente para este proyecto voy a necesitar trabajar con jquery por tanto voy a copiar eh la biblioteca jquery dentro de la carpeta pong dentro de la carpeta número uno y de esa manera estaré preparado para comenzar el proyecto para desarrollar este juego tengo un archivo que se llama para comprobar que lo más difícil en este caso no es programar el juego sino primero comprender lo que hace el juego y poco a poco transformar esa comprensión en un juego esto que tenemos aquí se llama la lógica del juego la lógica del juego son una serie de frases en castellano en inglés en francés en alemán el idioma que creáis que describen lo que tú vas a hacer Y de esa manera te aclaran las ideas antes de que empieces a programar para que cuando empieces a programar no vayas a ciega sin no sepas en cada momento qué es lo que necesitas esto Ahora mismo en este ejercicio lo estamos haciendo sobre un videojuego es la lógica del juego cuando Hagamos una tienda online cuando Hagamos una aplicación corporativa un portal de venta de coches de segunda mano esto ya no será la lógica del juego sino que será la lógica del negocio que son las reglas en base a las cuales funciona esa tienda online ese portal de venta de coches esa aplicación de gestión de negocios es lo que sea vale Pero lo que quiero marcar es que y quiero remarcar es que lo importante no es la programación y lo difícil no es la programación sino lo difícil es comprender qué quieres que haga la programación una vez sabes lo que quieres el resto ya es cuesta abajo por tanto lo que voy a hacer Dentro de este proyecto es empezar creando como siempre una estructura html dentro de la cual crearé una cabeza y dentro de la cual creo un cuerpo dentro del Body voy a crear y voy a empezar a comentar esto dentro del Body voy a empezar a crear un Canvas y digo voy a poner unos cuantos comentarios y digo el Canvas es el escenario es el Lienzo Canvas quiere decir Lienzo donde ocurre todo pero el Canvas es estático el Canvas digamos entre comillas por dec manera es la pantalla de la televisión pero la pantalla de la televisión no es la que mueve el juego la consola es la que mueve el juego que luego se ve por la pantalla de la televisión es como el p atari de los 80 Vale pues digo Canvas ig escenario ejemplo y ahora el voy a hacer un Script de tipo javascript y ahora voy a decir en javascript es donde ocurre todo es donde el juego se mueve pero de manera lógica el javascript controla lo que va a pasar dentro de dentro del Canvas además recordad que Mirad Necesito otra etiqueta Script de hecho me voy a copiar la que tengo aquí porque para qué Script y le digo src jquery Mira estoy en modo vago así que me voy me lo voy a copiar directamente he copiado esto Mirad lo llamo y aquí voy a poner cargo jquery para facilitar el desarrollo veis por tanto lo que hago en cada línea eh Aquí voy a quitar esta etiqueta primero cargo jquery lo primero todo para que esté disponible en el resto del proyecto para desarrollar para hacer las cosas más fáciles a continuación en javascript es donde ocurre todo y dentro del Body dentro del Canvas proyectar aquello que estoy desarrollando en javascript por tanto ya que estoy usando jquery voy a hacer lo de siempre voy a desarrollar primero en versión extendida Luego si acaso comprimir para hacerlo más breve pero también cuidado más difícil Así que digo bar x es igual al document y cuando x. ready ejecuto la función de inicio esto podría ser perfectamente un copia pega de lo que hemos hecho hasta ahora siempre igual y cuando inicio Entonces ejecutamos algo por ejemplo voy a decir por ejemplo Bienvenido a Pon ejecuto vamos a ver qué tenemos hasta ahora de momento tenemos Bienvenido a Pon lo que tenemos básicamente no es Ni más ni menos que un juego donde hemos preparado jquery hemos cargado la librería jquery y lo que vamos a hacer es ejecutar voy a poner esto dentro del Body tenemos ahí un Canvas Por qué el texto se ha empujado porque tengo un Canvas si queréis lo que voy a hacer con el Canvas es marcarlo cómo lo marco con una etiqueta Style estilo de tipo texto barra javascript texto bar css y digo todo aquello que sea Canvas tendrá un borde de un pel Dash de momento Grey Para qué para que cuando ejecute Mirad pase esto y vosotros digáis Ah Ya sé porque el texto se empuja Bueno voy a hacer un Canvas de con with es ig a 640 píxeles y H es igual a 640 por 480 voy a hacer una resolución típica de Canvas verdad ahí dentro tendré espacio suficiente para jugar Tampoco voy a hacer un juego en HD pero tampoco lo voy a hacer en una pantallita pequeña qué he hecho hasta ahora por tanto he preparado mi proyecto lo que he hecho es un proyecto html donde cargo javascript preparo una etiqueta de estilo y dentro de el escritorio dentro de El Canvas pondré el juego si queréis voy a poner otro comentario aquí pondré estilo donde sea necesario todo este proyecto lo voy a desarrollar de manera incremental Eso quiere decir que yo ahora atención Mirad a la pantalla pero Mirad bien porque esto os puede causar confusión esto lo hago para que más adelante tengáis todo el proceso de desarrollo pero también hay que tener cuidado Mirad yo ahora cojo la carpeta un atención Mirad cojo la carpeta un y hago copio y pego y aparece uno copia y renombro esta carpeta como el número dos de tal manera que yo ahora voy a empezar a trabajar con la carpeta número dos y me dejo abandonada la carpeta número uno por qué porque cada cambio que yo haga lo voy a hacer en una carpeta diferente Y de esa manera al acabar el proyecto tendréis un histórico de cada uno de los pasos que hemos dado al desarrollar ese proyecto y así cuando más adelante porque el problema es que esto igual lo abrí dentro de un mes y dices muy bien veo el juego acabado pero no me acuerdo por dónde empezó no me acuerdo por dónde acabó y no me acuerdo qué pasos dio lo que hacemos de esta manera es crear carpetas numéricamente donde queda registrado Cómo era el juego en la primera fase Cómo es el juego en la segunda fase y así entendéis Más adelante qué hay que hacer primero y qué hay que hacer después pero ojo si yo ahora he creado la carpeta número dos tened en cuenta que Mirad la pantalla ni hedit ni Chrome se están dando cuenta Luego lo que tengo que hacer es en la carpeta número dos y volver a arrastrar desde la carpeta número dos Index html tanto aedit como al navegador es decir no hayáis copiado la carpeta número dos y sigáis desarrollando la carpeta número uno porque entonces no hemos hecho nada vale Esto es lo más difícil es crear una carpeta número dos y a continuación abandonar la carpeta número uno y decirle a hedit que cargue el archivo desde la carpeta número dos o la tres o la cuat o la última carpeta que haya sigo con el proyecto y lo que voy a hacer ahora es decir que en la función de inicio aquí ocurre todo el bacalao Oye todo es una palabra amarilla todo lo que me está diciendo el javascript es que es una palabra reservada porque todo en castellano es to do en inglés cosas que hay para hacer Igual que go to que es una función que no hemos visto que vemos adelante en php es una función que en inglés dice ir a go to vale por tanto lo que voy a hacer es poner to bacalado y así me aseguro lo que os decía el otro día poner palabras en castellano además Castellano cerrado y así sabéis que nunca Vais a hacer ninguna colisión con javascript Y ahora yo aquí lo que voy a hacer es lo siguiente Mira voy a poner todo esto todo lo que hicimos el otro día o lo que acabamos de hacer ahora y voy a convertir cada una de estas cosas en comentarios ya que los comentarios realmente me van a indicar Cuáles son las fases de programación del juego claro Hay una fase que nos hemos saltado Pero bueno no pasa nada era difícil de considerar Y es que la primera fase de todas va a ser realmente no realmente va a ser la última fase de todas va a ser dibuja el escenario Por qué va a ser la última fase de todas Pues yo os lo voy a decir lo que vamos a hacer para cada vez que tengamos que calcular e Dónde está la pelota y dónde están los marcadores Y dónde están las barras es primero calcularlo todo Dónde está la pelota está rebotando no está rebotando está marcando un punto No está marcando un punto qué tecla está pulsando el usuario Dónde están las barras de rebote primero nos preguntamos todo eso en base a eso el programa internamente nos da unos datos Pues mira la barra está aquí y la otra barra está allá y el marcador está a tanto y la pelota está por ahí en medio rodando en esta dirección y con esta posición y cuando el programa nos haya dado todos esos datos lo que hacemos es los datos y convertirlos en el escenario y que el programa no dibuje la pelota donde sea sino que la dibuje según los datos que la primera parte del programa le haya proporcionado por eso dentro de esta última parte dibuja el escenario voy a hacer lo siguiente voy a decir bar esto en minúsculas bar para que lo reconozca como variable c = document.get Element by ID esto os acordáis que lo hicimos el otro día y nos sirve para decir que voy a dibujar en el Canvas Cuál es el ID del Canvas se llama escenario ahora digo contexto es igual a c punto get context en 2D qué estoy diciendo en esta línea cógete el Canvas además no cualquier Canvas sino el Canvas que tenga el ID escenario en la siguiente línea como el otro día le digo vas a dibujar en 2D y en la siguiente línea voy a poner lo siguiente si queréis incluso Es más voy a poner sangrías para que veáis el desarrollo voy a decirle a el ajuste de texto que no lo activo cerrado vale atención señal Y si queréis incluso hago sangrías como si los comentarios fueran parte de la programación así de esa manera lo que quiero es que entendáis el por hacemos cada cosa porque el lo sabemos Ah hace falta el por a continuación dibujo el fondo Cómo dibujo el fondo Pues digo contexto F Style es igual a Black voy a dibujar con color negro y luego digo contexto punto F rect un rectángulo que va a ir desde 0,0 hasta 640,480 si todo ha ido bien Vamos a comprobarlo vamos a ver que no tenga ningún error en javascript no aparecido bien Algún error debo tener Porque además vamos a ver voy a eliminar esto a ver un segundin vale Y ahora le digo que dod la dosd en minúsculas vamos a ver voy a seguir voy a hacer una cosa todo esto son comentarios El problema es que los comentarios en alguna ocasión me dan en ID no hace falta poner la almilla porque ya le estoy diciendo get Element by ID por eso en este caso no hace falta eh Y probablemente sea el bar contexto vamos a verlo ahora tampoco Aunque eso era un error contexto fill Style Black voy a decirle que almilla 000000 que en principio eso tampoco tendría que ser escenario Bueno vamos a ver por dónde puede estar aquí la cosa bien lo que he hecho es copiar código del otro día copiar código del ejercicio de Canvas y básicamente debía ser alguna coma algún punto en alguna parte lo que estoy haciendo es tomar el elemento que se llama escenario poner su contexto en 2D probablemente Era alguna mayúsculas por aquí lo que fallaba decirle que voy a pintar de color negro y que pinto un rectángulo de fondo Por eso digo color negro y aquí pinto el fondo aquí digo voy a comentarlo todo señalo el escenario y aquí digo que pinto en 2D Así luego lo tenéis todo comentado antes de acabar esta fase número dos del proyecto lo que quería hacer es dibujar tanto la pelota como el resto de elementos Así que voy a hacer lo siguiente de momento estoy dibujando ya lo veis en estático dibujo elementos fijos en la pantalla luego con javascript los voy a ir moviendo dibujo el jugador uno que va a ser el jugador el humano y digo el color va a ser ff que es blanco en hexadecimal y le voy a decir que voy a hacer un rectángulo que esté por ejemplo en 20 coma 20 y que tenga 20 unidades en x y por ejemplo 80 unidades en y vamos a ver cómo queda esto guardo recargo Mirad este va a ser el usuario uno es muy grande es muy pequeño No lo sé A partir de ahí ya lo que tenemos que hacer es eh moverlo Mirad por ejemplo digo 80 bien pero de grueso es un poco grande lo voy a poner en 10 veis y he hecho ahí una barra más pequeña Este es el jugador uno con la misma lógica Mirad ahora digo dibujo el jugador dos y digo Tú vas a estar tened en cuenta que el punto 00 es esta esquina arriba a la izquierda tú vas a estar si es 640 tú vas a estar en 620 vamos a verlo ahí está pues lo voy a decir que va a estar en 610 y ahora tengo el jugador uno y el jugador dos lo veis dos barras Y por supuesto este juego no es nada si no tengo una pelota bien pues lo que voy a hacer ahora es lo siguiente dibujo la pelota y para eso voy a dibujar un círculo para dibujar un círculo voy a copiar del otro día las instrucciones de dibujo de un círculo voy a hacer un poco de hueco aquí dibujo un círculo aquí dibujo la pelota y digo ponme un elemento que sea blanco voy a dibujar en blanco empiezo un trazo que esté en 320 240 Dónde está el centro de esa pelota ahí que tenga 50 de radio má pi falso finalizo el trazo y lo relleno qué tengo Mirad má pi por 2 y tengo esto quizás la pelota es un poco demasiado grande para este juego verdad pues lo que voy a hacer es decirle que el radio sea más pequeño y ahí ya por ejemplo lo tendría y ahora por último dentro de esta fase número dos del juego donde lo que estoy haciendo es maquetar gráficamente como se va a ver esto en pantalla fijaos que el PJ original vamos a ver si lo tengo por aquí en YouTube recordamos que en el juego original en el Pon original Mirad atención todos la pantalla había la numeración sí que me la voy dejar para hac ese Pero había una línea Mirad discontinu de color blanco ahora pensad la cantidad de líneas y rectangulos que voy a tener que escribir sí o no Bueno pues la verdad es que no la verdad es que en principio podríamos pensar que yo ahí me voy a morir poniendo rectangulos pequeños pero realmente qué estructura de control conocemos en javascript que nos permita ejecutar repetitivamente algo pues por ejemplo un bucle for le digo con un bucle for repítete 20 veces cada vez Baja un poquito más hacia abajo y dibújame rectangulos os acordáis el bogle for lo que hace es repetir algo varias veces Esto no es repetir un rectangulo varias veces Pues lo voy a hacer con un bucle for voy a hacer lo siguiente Mirad voy a decir ahora dibujo la red Esto es lo más difícil de esta parte del proyecto y digo for bar y mejor pongo la variable fuera bar red en y es igual a 0 y digo mientras red y sea cero de hecho puedo quitar esto mientras red y sea menor que 20 voy a hacer 20 rectangulos es decir atención mir la pantalla voy a hacer por ejemplo 20 rectangulos estos blancos y digo cada vez que pase por aquí esto no es red y quiero que red y más le añado un valor a red y Este es el bucle for y ahora voy a dibujar un rectángulo Mirad atención copio aquí Dónde estás aquí y lo pongo aquí y digo hacia delante pinto de blanco y voy a pintar un rectángulo que esté en 320 pero que esté cer y que mida dos píxeles y que mida 5 píxeles vamos a ver qué aspecto tiene esto guardo recargo no sé si lo veis pero í arriba hay un rectangulo no sé si lo veis aquí de hecho no hay uno hay 20 hay metidos uno dentro de otro lo que voy a hacer ahora es decir lo siguiente atención mira en y Mirad tenis que mirar en y digo la y no va a ser cer porque para que todos estén en cero sino que voy a decir que red y por TR sí por tres Ya está vamos a verlo o no voy a decir c más 3 por red y vamos a ver qu hac esto principio nos tiene que dibujar una secuencia de elementos unos rectangulos uno detrás de otro tres en este caso probablemente ha sido poco Voy a decirle cinco vaya poco a poco los voy estirando 10 y ahí poco a poco empiezo a tener los elementos incluso puedo decirle que en lugar de 20 quiero tener 40 y me va a dibujar 40 elementos Y a partir de ahí voy jugando hasta tener una red de elementos vosotros diréis exactamente qué has hecho ahí no entiendo por qué ese bcle for me ha generado estos elementos en vertical Pues yo os lo voy a decir Vamos a repasar el código en el código estoy diciendo que ready empieza siendo cero la primera vez es cer0 y siempre que sea menor a 40 añado un valor Así que atención Mira la primera vez Dónde está el rectángulo en 320 en x y en y está en 0 más 12 por red ynto vale r y ahora la primera vez cuánto vale c luego 12 por red y es ig 0 luego Cuál es el resultado de esta fórmula matemática cer la segunda vez que pasó por aquí cuánto vale r y 1 claro el resultado Sí vale 12 Pero cuánto vale r y 1 12 * 1 es ig 12 y por eso me pone el segundo rectángulo 12 más abajo la segunda la tercera vez que paso por aquí cuánto vale red y vale 2 luego 12 * 2 24 y por eso y no por otra razón es por lo que el primer rectángulo aparece en cer el segundo aparece directamente en 12 el tercero aparece en 24 y el cuarto aparecerá en 36 y el quinto aparecerá en 4 o y así lo que voy haciendo es dibujar una serie de rectangulos uno a uno simplemente con un bucle foro ya a partir de aquí el bucle for le digo empiezo en cero acaba en 40 Mirad lo que he hecho antes si le digo en 20 atención Mirad le digo 20 me quedo corto si le digo 10 me quedó más corto todavía pero me ha dibujado 10 rectángulos si le digo 30 igual todavía me quedó un poco corto por tanto le digo Mira parece que el número correcto viene a estar en torno a 40 dibuja 40 y así tengo una red de rectángulos hasta abajo Lo que voy a hacer a continuación es ahora sí empezar a crear la programación del juego empezar a crear las variables que van a gobernar el comportamiento del juego en todo momento para eso una eh una constante a todo desarrollo de cualquier programa sea un juego sea una aplicación de negocios o sea lo que sea atención Mirad aquí arriba es un paso que se llama la definición de variables iniciales y las variables iniciales se ponen arriba del todo Por qué tened en cuenta vamos a hacer hoy como hicimos el otro día que todo este bacalao se repita varias veces para que el juego se ponga en movimiento y yo no quiero que cada vez yo no quiero poner variables aquí yo no quiero que cada vez que venga aquí eh las variables se vuelvan a reiniciar yo quiero que las variables aquí tengan un valor cuando empiece el juego pero a partir de ahí el valor vaya cambiando por ejemplo diréis Bueno pero qué variables son esas os voy a poner ejemplos concretos hablando de los jugadores qué pueden hacer pues pueden moverse en y pueden moverse en vertical Así que digo jugador Perdón bar jugador uno y es igual a 10 el nombre de la variable puede ser el que vosotros queráis pero evidentemente yo recomiendo poner nombres de variables que os aporten información que en un momento dado si abrís dentro de el proyecto dentro de un mes y no os acordáis qu hacía cada cosa pues digáis hombre si la variable se llama jugador 1 y me imagino que está guardando el valor en y del jugador 1 no le llaméis variable un variable dos porque dentro de un mes diréis y qué hacía cada cosa aquí creo otra variable que será jugador 2 y que voy a inicializar a 10 y ojo ahora necesito para la pelota Necesito cuatro variables voy a hacer un juego sin aceleración voy a hacer un juego con posición y velocidad por tanto necesito bar pelota Pos x que es la posición en x de la pelota que es igual al principio del juego a 320 píxeles Por qué Pues porque me ha dado la gana podría ser cualquier otro valor la cuestión es que son unos parámetros que definen la posición inicial de la pelota Yo voy decer que la pelota esté al principio en el centro de la pantalla pero podría hacer que la pelota estuviera donde yo quisiera lo de menos es el valor que le deis lo que importa es que le deis un valor creo otra variable que es pelota posición y que es igual a 240 píxeles no 240 y punto pero sabéis que pasa es que este juego en este juego la pelota está animada con lo cual la posición de la pelota en un momento dado es solo la mitad de la información además de saber la posición Necesito saber la velocidad Necesito saber si la pelota está subiendo está bajando está yendo hacia un campo está yendo hacia el otro por eso voy a crear dos variables más había dicho que para me hacían falta cuatro variables que son pelota Bell x velocidad en x que al principio es no sé voy a probar con 20 yar pelota Bell y que voy a probar con 20 voy a asignar estos valores a la maquetación Y a partir de ahí ya hacemos la fase número tres de este juego tengo ya estas variables iniciales y luego Aquí comienza jquery veis desde aquí hasta aquí son las variables iniciales prácticamente cualquier programa escrito en el lenguaje que sea empieza declarando variables las variables es como si un juego fuera perdón como si un programa fuera un juego de cartas las variables es el reparto inicial es las cartas con las que vas a jugar durante todo este juego digamos Así que yo ahora vengo abajo Mirad atención vengo abajo después de haber declarado variables y le digo mira el jugador 1 dibujo el jugador 1 la posición en y no va a ser 20 va a ser jugador 1 y el jugador 2 no va a ser 20 va a ser jugador 2 y posición de la pelota no va a ser 320 por 240 va a ser pelota Pos x y va a ser pelota Pos y lo que estoy haciendo es convertir una maquetación estática en una maquetación dinámica ahora la programación de la posición de los objetos ya no depende de 320 o 240 sino depende de lo que valgan las variables recargo Mirad tengo lo mismo Aparentemente pero ahora fijaos que esa posición ya no depende de un valor estático sino de un valor Dinámico como va a ser una variable lo que voy a hacer ahora antes de seguir es hacer la versión 3 de este juego por tanto me cojo la carpeta p atención Mirad y hago copiar pegar hago la carpeta número tres y ahora atención me tenéis que mirar y ahora lo que hago es cargar ese archivo tanto aquí como aquí es decir qué estoy haciendo pues en todas partes dejar Claro que estoy trabajando con la carpeta TR del proyecto esto que estoy haciendo Hay que hacerlo en todos los proyectos que desarrollé hombre no es obligatorio pero es conveniente porque así de esa manera Vais a obtener luego un histórico un recordatorio de qué hicisteis en cada versión de cada programa que estáis desarrollando es un poco más complejo porque hay que mantener variades carpetas Pero al final puede ser beneficioso lo que voy a hacer ahora puede parecer un poco pronto pero bueno Más vale hacerlo así lo que voy a hacer ahora es Poner este juego en movimiento Aunque de momento va a haber muchas cosas que funcionen mal pero voy a poner el juego en movimiento y en la carpeta número tres lo que voy a hacer es eh aquí al final después de dibujo la red voy a hacer algo que ponga repítelo todo cómo lo repito todo pues yo lo repito todo poniendo el s Time out que vimos el otro día repítelo todo para poner repítelo todo pongo set Time out es decir qué hacía ese Time out es decir ejecuta la función de inicio dentro de un segundo recordad que en javascript los segundos vanen milisegundos por tanto 1000 equivale a un segundo lo cual quiere decir básicamente que da igual donde estés dentro de un segundo vuelve a recargar el programa qué va a hacer este juego ahora qué diréis que va a hacer Pues de momento no va a hacer nada Mirad Por qué atención Mirad la pantalla porque yo recargo y básicamente sin que vosotros lo veáis cada segundo se va a recargar el juego pero la posición de la pelota va a variar No porque yo en todo momento le estoy diciendo a la pelota que la pelota es pelota posición x pelota posición y pero cambia la posición de la pelota no así que yo aquí ahora voy a decir lo siguiente atención pelota post x es igual a pelota Pos x más pelota x la pelota tiene una posición pues para calcular la siguiente posición coge la posición actual y súmale la velocidad Y de esa manera iré desplazando la pelota en x y en y ahora cojo esto copio pego y cambio x por y vamos a ver si funciona esto es lo voy a comentar para que luego lo tengáis cula la nueva posición sumando la velocidad a la posición antigua una manera muy primitiva de calcular nuevas posiciones Pero la verdad es que funciona y cuesta bastante poco al programa de calcular que es lo importante también recargo y Mirad veis como se va moviendo poco a poco se mendo y no en cualquier otra ahora a continuación lo vamos a explicar pero de momento quiero que veáis lo siguiente atención lo primero es que voy a recargar otra vez la pelota se mueve cada segundo por qué Porque yo aquí le he dicho 1000 si yo aquí le dijera 10 se movería cada 10 milésimas de segundo cada centésimas de segundo Por tanto Mirad pasaría esto atención Tengo un problema Mirad recargo y pasa esto ostras la pelota se me ha ido corriendo mi problema es el siguiente mi problema es que si le pongo 10 milisegundos la pelota va fluida pero se va muy rápido por la pantalla si le pongo un segundo Entonces no se me escapa rápidamente de la pantalla pero va muy a golpes lo cual tampoco me ayuda Bueno lo que voy a hacer en este caso es bajar la velocidad inicial os acordáis la velocidad inicial era dos era 20 perdón pues le pongo dos recargo y ahí la pelota se empieza a mover Ahora lo más importante lo de la velocidad no me importa Porque básicamente es fácil todo el mundo entendemos que si antes con velocidad igual a 20 la pelota ir má rápida Si en lugar de 20 le pongo dos va a ir más lenta eso digamos lo entiende cualquier persona el problema está en atención por qué la pelota va hacia la derecha y hacia abajo y no va hacia cualquier otra parte por una razón muy sencilla acordaos que esto es x voy a poner una flecha esto es x y esto es y yo lo he dicho cada vez que calcules la posición aumenta dos en x aumenta dos en y por eso la pelota se mueve en este vector y no en cualquier otro porque está aumentando en x y en y a la vez ahora mismo de momento lo que tengo ya es un juego mínimo que es un juego donde la pelota se va viviendo Pero tenemos un problema este problema lo habíamos previsto cuando hemos planificado la lógica del juego y es que Qué pasa cuando la pelota llega hasta aquí abajo desaparece porque yo he programado la colisión yo le he dicho cuando llegues abajo rebota hacia arriba no así que esto es muy importante no solo de este juego sino de cualquier programa que desarrollé Y es que todo lo que tú no le digas al programa el programa no lo va a hacer solo lo que tú le digas lo va a hacer esto es un clásico en informática de cuando la gente le echa la culpa a los programas es que el programa funcionaba mal los programas muy rara vez funcionan mal cuando un programa funciona mal es porque el programador que lo ha programado no ha previsto todas las posibilidades que tenía que hacer ese programa vale un programa no es más que una máquina que es lo mismo que no es que iba muy rápido y el coche lo ha matado No es que si no hubiera apretado el acelerador no ha matado pues esto es lo mismo en la mayoría de los casos conduciendo hay otras cosas que pueden pasar vale pero programando un programa hace lo que tú le digas que haga ninguna cosa más lo que voy a hacer ahora es programar esta parte de aquí fijaos esta parte de abajo prácticamente nos encarga de calcular un pequeño cálculo hemos hecho ahí pero lo que voy a hacer ahora es abrir esta sección del código y decir la pelota rebota contra la pared yo Cómo hago eso bien No pasa nada sencillo qué dos paredes hay vamos a pensarlo matemáticamente es más sencillo de lo que parece hay dos par dos paredes aquí una aquí y otra aquí esto no son paredes porque esto realmente es has perdido el juego o has ganado el juego depende Así que cómo puedo saber que la pelota ha llegado a Esta pared es muy sencillo cuando la posición y de la pelota sea mayor que 480 os acordáis esto es 480 píxeles de alto luego cuando la posición de la pelota sea mayor de 480 es que ha llegado aquí al final sí o no es la posición en y de la pelota Pues yo ahora vengo y digo una cosa más sencilla de lo que os podéis imaginar atención Mirad la pantalla y digo sí es una condición si la pelota cumple Esa condición digo si la pelota Pos y es mayor que 480 es decir si la posición en vertical de la pelota es mayor que 480 en ese caso pelota Bel y la velocidad vertical de la pelota es igual a la menos pelota del y es decir si la pelota iba así la velocidad iba así la menos velocidad hace así lo cual queé vale a decir que si la pelota llega ahí rebota hacia arriba si la pelota va así de repente hace así la velocidad vertical se invierte vamos a ver si funciona pelota Bel I lo he puesto bien pelota Bel I asegurémonos que los nombres de las variables funcionan correctamente si pongo un paréntesis casi que mejor Porque algunos lenguajes de programación no cogen correctamente lo de poner un signo menos delante recargo y pasa eso lo veis habéis visto el rebote en la pantalla sí o no voy a hacer otra cosa Mirad dónde más se tendría que cumplir este caso arriba Entonces le digo si pelota Pos y es mayor que 480 o dos barras verticales pelota Pos x es menor que Cero en ese caso es decir si has rebasado por bajo o ha rebasado por arriba en ese caso daré la vuelta a la velocidad permitidme hacer otra cosa permitidme hacer otra cosa Lo siento pero es que yo estoy un poco juguetón Y es que esto luego lo voy a Desactivar en el juego sabéis que pasa es que si hago así ya es el juego se pierde muy pronto es que la pelota hace así se pierde y no vemos más no vemos si esto está funcionando o que está pasando con esto pero yo ahora voy a hacer lo siguiente igual luego lo desactivo si pelota post x Es mayor que 640 o pelota Pos x es menor que Cero en ese caso un segundin pelota Bel x es igual a menos pelota Bel x voy a corregir este pelota Pos x que evidentemente me he equivocado es pelota Pos y ahora qué va a hacer esta línea de abajo Mirad la línea de arriba lo que hace es detectar la colisión vertical la posición de la pelota ni y Pero qué hace la posición Qué hace esta línea de aquí es decir si la posición en X en horizontal rebasa 640 Haz que la bola vuelva para atrás y si la posición rebota en cero Haz que vuelva otra vez para atrás vamos a comprobarlo la pelota rebota veis Cómo va rebotando veis como tengo ya un juego el momento la pelota rebota vale No estoy contando puntos de momento pero lo que quiero simplemente es comprobar Cómo con esos simples ifs cuando veis en un juego una pelota rebotar es un If que le está diciendo si la pelota ha llegado aquí entonces Haz que vaya para allá luego evidentemente en los juegos se usa mucha trigonometría que es según con el ángulo que rebote calcula el ángulo complementario y rebota así en este juego de momento no vamos a meter trigonometría para mantenerlo sencillo si metemos trigonometría será al final cuando hayamos comprendido perfectamente Qué hace cada parte y ya podemos permitir un poco ir a la crem de la crem del juego pero de momento veis que estoy haciendo que es simplemente ir comentando cada parte e ir programando lo que me conviene voy a programar una cosita qué tendría que hacer yo si quisiera que la bola frenara pues es muy sencillo esto luego lo voy a Desactivar no quiero que la bola frene frenar simplemente quiero que penséis un poco lógicamente frenar no es que a cada momento la velocidad disminuya un ito sí o no pues le digo cada vez que pases por aquí pelota Bell x es igual a pelota B x por 0.8 no sé donde 8o sería un coeficiente de rozamiento cada vez que pases por aquí tu velocidad quítale un 20% ent dejal 0.8 lo mismo evidentemente esto de calcular que se y es un poco lo sé pero es que tiene que ser así porque no hay manera podría calcular el vector pero por ahorrar acabaría gastando más por tanto al final es mejor trabajar con x y mira si ahora recargo qué le Uy vaya se ha acabado muy pronto habéis visto la pelota lo que ha hecho frena muy rápido le digo que cada vez que vengas por aquí tu velocidad multiplicará por 0,99 veis como la pelota llega un momento que frena por qué porque cada vez que paso por aquí le estoy diciendo velocidad qué tal un 0,1 por pero claro se repite tantas veces que al final ese 0,1 por se acaba traduciendo en una frenada Bueno voy a quitar esto porque esto de frenar lo había puesto solo para jugar un poquito de hecho lo voy a comentar lo voy a comentar por si más adelante por lo que sea lo queréis volver a lo queréis volver a usar no lo dejo lo entendido Ah vale lo que hago aquí básicamente es decirle voy a volverlo activar la posición Perdón la velocidad de la pelota es igual a velocidad de la pelota por 0,99 en el primer momento ten en cuenta siempre que esto es un bucle que se va ejecutando pongamos que la velocidad es 100 digo tu nueva velocidad es 100 por 0,99 cuál es ahora tu velocidad 99 o sea 100 por 0,99 es 99 luego la primera vez que pasaste por aquí tu velocidad 100 Pero en cuanto llegas por ahí lo que no entiendo es que mira mira espera un momentín lo que voy a hacer ahora es dentro del juego voy a duplicar la carpeta tres copio pego tres copia la llamo cuatro y ahora sí eh abro esa carpeta cuatro y cargo Index html tanto en el eh tanto en el editor como en el navegador vamos a poner esto en el navegador y ahora voy a hacer una parte importante del programa que consiste básicamente en la interacción Mirad lo que quiero hacer ahora básicamente es que el usuario pueda moverse pueda mover el bloque para hacer que la pelota rebote de hecho os acordáis que había dicho antes que íbamos a hacer un juego de pong de usuario contra la máquina yo voy a hacer un poco de trampa voy a hacer que la máquina siga en todo momento a la posición de la pelota y de esa manera la máquina no podrá perder Luego si queréis le ponemos alguna trampa para que s que pueda perder yo voy a hacer que el de la izquierda atención es jugador uno que soy yo y la derecha jugador dos que es la máquina voy a hacer lo siguiente yo he dibujado aquí Mirad un rectángulo he puesto dibujo al jugador dos Cuál es la posición y de jugador 2 Pues voy a hacer lo siguiente que Esto va a ser prácticamente que la máquina siempre gane jugador 2 y es igual a posición perdón a pelota Pos Y qué estoy haciendo pues que barra automáticamente se mueva con la pelota porque en todo momento lo que va a decir es la posición y del jugador es igual a la posición y de la pelota lo cual se va a traducir en pantalla Mirad a que el jugador dos va a saber en todo momento Dónde está la pelota un momento voy a dramatizar un poco más veis que hay un pequeño desfase porque lo que estoy haciendo realmente Es que la esquina superior izquierda sea igual a la posición de la pelota por eso lo que voy a hacer aquí es decirle que eh jugador 2 y va a ser pelota 2 + 30 por ejemplo fijaos ahí no al revés se le está escapando menos 30 establezco un desfase para que la pelota más o menos caiga en el centro del jugador otra cosa que puedo hacer es la siguiente es que fijaos que cómo es posible que el jugador dos está moviendo la pelota incluso cuando la pelota está en mi campo puedo decirle y aquí es donde el jugador dos puede llegar a perder puedo decirle que solo voy a explicar primero lo que voy a hacer y luego voy a hacerlo solo cuando la pelota entre en este campo el jugador dos diga e que viene hacia mí Y entonces se mueva pero si la pelota está en mi campo el jugador dos No se mueva Cómo es esto pues yo le digo cuando la posición de la pelota sea mayor que 320 el campo mide 640 por 480 luego la mitad está en 320 solo cuando la posición de la pelota sea mayor que 320 entonces muévete vamos a verlo claro aún así voy a seguir haciendo trampa porque voy a decir lo siguiente Mirad solo si la posición voy a mover esto aquí solo si pelota Pos x Es mayor que 320 solo en ese caso muev t claro Así va a ser trampa porque yo hago así se mueve cuando llega al otro campo se para lo veis el problema está en que cuando llega pum es decir veis como pega un salto y se adapta automáticamente en el momento a la posición que sea bien lo que tendría que hacer en ese caso Pero eso lo haré más adelante Es simplemente hacer que no vaya directamente a la Pos sino que intente poco a poco ir a la posición a continuación voy a empezar a mover mi jugador con las teclas del teclado y voy a decir tenía por aquí un comentario que era cuando pulso una tecla sube el palito y cuando pulso otra tecla baja el palito bien lo que voy a hacer es juntar estas dos o poner aquí lo siguiente en jquery voy a decir que bar x donde x es igual html Qué es html la página html dentro de la página Fíjate si pulso alguna tecla O sea no quiero que solo te fijes dentro del Canvas sino en toda la página comprueba si yo estoy pulsando alguna tecla y ahora digo lo siguiente xpr kpr Qué es K es tecla pres es presionar cuando presion una tecla es un evento de jquery Como por ejemplo click o Mouse up o Mouse down lo que pas que Mouse up y Mouse down está pensado para el ratón está pensado para el teclado digo lo siguiente kess vamos a verlo por aquí y hago lo siguiente aquí dibujo function de hecho me lo voy a copiar Vení lo tengo por aquí preparado y ahora lo comento lo copio me lo pego y ahora vamos a comentarlo tengo la b y la a y la W vale Voy a hacer la a y la b así que me voy a cargar la W qué estoy haciendo aquí pues decir cuando yo pulse una tecla dentro de html en ese caso Mira a ver qué tecla he pulsado si he pulsado la letra d Dime algo voy a quitar todo esto si he pulsado la letra a Dime otra cosa voy a ver si funciona eh De dónde me estoy sacando esto hay un ejemplo en la página de jquery que luego os enseñaré que básicamente te dice si qué tecla del teclado a Qué código corresponde en este caso el código 100 corresponde a la letra d el código 97 corresponde a letra a esto ahora luego he hecho qu puñeras ahora mismo si yo pongo jquery keypress heess no ipress hay una demo en jquery por aquí abajo que si yo pongo la s me dice la s es el 115 y por ejemplo la y es el 121 veis para cada tecla te dice eh qué identificador tiene de hecho Mirad voy a poner la a que es el 97 y la Q que es el 113 Así que pongo aquí 113 Y si todo ha ido bien digo q has pulsado la q si todo ha ido bien has pulsado la a vamos a ver si funciona conocemos los dedos guardo yo pulso una tecla cualquiera no funciona pero si pulso la a me dice eh pulsado la a Cuidado es que me lo vuelve a decir ojo bien Esto es un problema vamos a recargar voy a tener que cerrar Chrome porque me he metido dentro de un evento sin fin ahora veremos Cómo podemos arreglar eso de un momento lo que voy a hacer es cerrar Chrome porque se me ha colgado marca no p no Index bien y voy a volverlo a sacar 4 y lo cargo pero de momento habéis visto cómo funcionaba como me decía la letra que había pulsado Qué hace ese trozo de código por tanto ese trozo de código lo que hace es aquí considera toda la web html es la mega etiqueta y aquí dice me da miedo poner un comentario ahí en medio si pulsas una tecla voy a ponerlo aquí abajo si pulsas una tecla yo os digo pero qué tecla pues es si pulsas la q haz lo que sea si pulsas la a ha lo que sea vale lo tenéis hay un pequeño problema claro se estará ejecutando muchas veces porque tened en cuenta que Eh Yo estoy pulsando la a mínimo durante medio segundo pero este programa se ejecuta eh cada 10 milisegundos Si yo mantengo pulsada la tecla 500 milisegundos y esto se ejecuta una vez cada 10 milisegundos quiere decir que había ejecutado el alerta 50 veces es lo bueno y lo malo de trabajar con milisegundos Pero bueno ahora veréis que tiene básicamente buen arreglo Mira voy a quitar el alert Q ya que he visto que funciona el alert a y básicamente digo que jugador 1 y he creado arriba una variable que es jugador 1 y que es la posición de La Barrita jugador 1 y es igual a jugador 1y + 1 no será os1 menos un le quito un valor y al debajo le digo jugador 1 y + 1 Vamos a ver si funciona un píxel no será poco creo que no veis lo que estoy haciendo problema caray Por qué le pego un toque si le he dicho que suba uno por qué le pego un toque y sube tanto y se me va por la sencilla razón de lo mismo que os he dicho con el alerta por mucho que le pegue un toque como mínimo estoy 0,1 segundos pulsando la tecla 0,1 segundos una décima parte de un segundo El problema es que como repito esto 100 veces cada segundo he ejecutado esa función 10 veces le voy a decir y diréis Bueno y qué hago pues es tan sencillo como decirle que simplemente en lugar de quitarle una unidad le quito 0.1 es decir que tú vas muy rápido pues yo voy muy lento y ya está y ahora veréis como ahora sí que puedo empezar a jugar veis estoy moviendo el cacharro este con la a y con la q ya lo estoy empezando a mover Incluso le podría decir Ey Incluso le podría decir 0.02 es decir ya es una cuestión de buscar la velocidad vamos a verlo ahora Mirad es más podría hacerlo más lento para añadirle más dificultad para que me costara más llegar Bueno ya estoy consiguiendo atención ya estoy consiguiendo mover a mi jugador con las flechas lo que tengo que hacer ahora es que la pelota reconozca cuándo he ganado Y cuándo he perdido es decir que si rebota en la en el palito rebote y que si me la cuela por detrás pues efectivamente que pierda la partida lo que voy a hacer ahora Es que la pelota pueda rebotar contra mi palo fijaos que tenéis ahí la pelota se mueve esto lo voy a cambiar os acordáis ten aquí la pelota se mueve le voy a decir que posición esto lo pongo aquí por qué porque estaba en la pelota en dibujar la pelota se mueve realmente es pelota posición y x y es igual a pelota posición x más la velocidad es que Eso debería estar ahí no debería estar en el otro sitio bueno y ahora digo la pelota rebota contra los palos Qué es a ver un momentín me ha parecido ver la cosa Vale me hab parecido bien un cambio de velocidad la pelota rebota contra los paros lo que hago es lo siguiente voy a meter un mega If sí pelota Pos y no pelota Pos x es menor que 10 pelota Pos x la x Qué es horizontal menor que 10 Qué es está a la izquierda del todo pelota Pos x es menor que 10 y jugador 1 y es igual esto es imposible de cumplir es igual a pelota Pos y es decir la posición del jugador es igual a la posición de la pelota en ese caso rebota pero es que esto es incumpli por qué es incumpli porque quiere decir que la posición del jugador tendría que ser exactamente igual a de la pelota no puede ser esto O sea tengo que poner un margen da igual que la pelota apriete ahí que apriete ahí vale bien entonces lo que voy a hacer es lo siguiente vamos a ver lo que tengo que hacer es un Rango y ahora tengo que decirle si pelota Pos y es menor que jugador 1y + 30 ahora si funciona y pelota Pos y es mayor que jugador 1 - 30 qué estoy diciendo establezco un margen realmente el margen creo que es incorrecto ahora lo voy a ver Ah en ese caso Perdón solo en ese caso momentom solo en ese caso pelota Bel x es igual a menos pelota Bel x es decir Dale vuelta a la pelota vamos a verlo que haya suerte el programa la coge muy bien Ahora lo voy a yo ay no vale algo hecho mal bien lo que tengo que decir aquí es si la posición de la pelota por ejemplo 50 es menor que esto - 30 y esto + 30 voy a verlo ahora vale vamos a posición de la pelota es menor en x que 10 porque tengo pelota post x es menor que 10 y pelota Pos y voy a hacer una cosa mir voy a quitar todo esto voy a probar haciendo esto la pelota debe rebotar s Sí vale está rebotando perfecto y ahora le digo and posición jugador 1 y jugador 1y Es mayor que 480 240 quiere decir que 480 240 aquí a la mitad por tanto si el palito está más abajo de 240 es que rebota si está por arriba no rebota vamos a comprobarlo si está por abajo rebota pum pero si ahora está arriba me la cuela no lo habéis visto lo vuelvo a hacer si está abajo me da igual dónde esté si está abajo aquí abajo bota pero si está arriba rebote donde rebote me la cuela por qué porque le estoy diciendo lo siguiente está aquí si la posición en y del jugador Es mayor que 240 Entonces rebota si no se pierde es decir no estoy considerando no estoy comparando la posición del jugador contra la pelota lo que estoy haciendo Endo es si el jugador está en la mitad de abajo entonces rebota sea donde sea rebota si el jugador está en la mitad de arriba no rebota lo que voy a hacer ahora es decirle vamos a ver si la posición del jugador y es mayor que pelota Pos y ahora es que tengo que darle un margen y el margen es lo que me va a costar un poco de encontrar vamos a hacer una cosa aquí le estoy diciendo que si la posición es mayor rebote rebota pero si la posición es menor que no rebote Mirad ahora ya no rebotará repito si la bola se me queda por abajo por arriba Perdón rebota siempre que se que la bola se me quede por arriba rebota Mirad lo veis no te hombre casualidad vale rebota Pero si la pelota se me queda por abajo se cuela se queda por abajo se cuela veis como con esos shs lo que estoy haciendo es marcar la posición o marcar la condición de la pelota Así que digo si el jugador uno es mayor a la posición de la pelota a la posición de pelota men x voy a pensar esto vamos a probar la siguiente fórmula y vamos a decir que esto rebotará cuando se cumplan las siguientes condiciones cuando la pelota Pos x sea menor que 10 eso estaba claro es decir cuando ya esté al borde y cuando la pelota Pos y sea mayor que el jugador 1 y que la pelota post que se me ha ido de la pantalla Pos y sea menor que una expresión que es el jugador 1 y más la altura que recordamos que la altura estaba aquí abajo dibuja el jugador uno es de 80 la altura de la barra es de 80 me voy y no sé dónde voy estaba por aquí más 80 vamos a ver si funciona guardamos recargamos algo no Pero ha rebotado Ah claro claro efectivamente bueno a ver y ahora me la cuela perfecto ha rebotado Aunque haya rebotado hacia atrás no pasa nada Y ahora os digo por qué vamos a comprobar que funciona vale ha rebotado porque le he dicho posición x sea menor que 10 es muy poco o sea cuando tiene 10 es que ya está prácticamente allí voy a ponerle 30 por ejemplo vamos a probar y así conseguiré que rebote realmente en la es que se me Hola eh ahí no sé qué ha pasado creo que ahí no sé qué ha pasado Ah claro pum bien Ahí está rebotando si atención si se me cuela y ahí no rebota y ahora lo que voy a decirle claro es que antes hecho un poco de trampa es que si hago así pero llego al final cuando la posición sea menor que 10 si hago así eh rebota Ya ha rebotado si es menor que es difícil de comprender si es por ejemplo 50 también cuenta pero claro yo tengo que decir que cuando se men 50 es que ya se ha acabado el juego Así que le digo que cuando la posición de la pelota sea menor que and pelota Pos x sea mayor que cer porque si has rebasado el cero es que ya se ha acabado el juego para no tener que volver a recargar la página evidentemente lo que voy a hacer es que si la posición de la pelota Dónde está eh cuando vamos a ver la puntuación Dónde está la puntuación cuando la pelota sobrepasa al palito un punto más así que le digo If pelota Pos x es menor que cer eso quiere decir que has perdido nunca tienes que dejar que sea a cero entonces pelota Pos x es igual a 320 es más los parámetros os acordáis los reinicio Qué quiere decir esto que se reinicia la partida vamos a comprobarlo algo hecho mal alguna pelota poses x algo hecho mal corto recargo vale Ahí Había algo mal y no sé qué es debe ser el nombre de la variable pelota Pos x tengo ahí un If claro no puedo definir una variable que ya está definida no tengo que escribir bar porque ya existe arriba la se definido vamos a verlo ahora Juguemos tengo aquí esto por aquí y llego vale le doy Y si ahora me dejo perder voy a dejar perder en principio la pelota tiene que volver a empezar la partida vuelve a empezar voy a volver a jugar ya tengo por ahí el pong y ahora lo único que me hace falta Estoy jugando una partida infinita contra la máquina y ahora lo que más urgentemente me hace falta es un sistema de puntuación algo que me diga Cuántos puntos llevo y eventualmente eh pueda parar cuando llegue a un número de terminado de jugadas voy a hacer ahora un sistema de puntuación para este juego por tanto aquí bajo del Canvas justo bajo del Canvas voy a poner divid p j1 punción jugador 1 y ID p jugador 2 la puntuación del jugador 2 si queréis me la puedo ahorrar porque sé siempre que va a ser cero Perdón la puntuación del jugador uno va a ser siempre cero ya que evidentemente si gana la máquina no puedo ganar la máquina de momento verdad más adelante ya veremos vale guardo y ahora digo en Style y Class igual a puntuaciones y digo todo aquello que sea de clase puntuaciones tendrá el withd de 320 píxeles el High de 50 píxeles o más 100 por ejemplo el background Black el color White el font family Arial el font weight b y el text align Center Qué hace esto pues esto lo que hace es poner ahí de momento cero me lo debería marcar puntuaciones puntura es que he puesto puntura cómo iba a funcionar bien Ahora sí Y luego el font size lo quiero de Eh Pues qué te diré yo píxeles para que ese cero aparezca bien grande y luego si queréis un poquito de padding top de 50 píxeles más o menos para que esté separado hay 50 píxeles y tengo ya un sistema de puntuación voy a poner aquí Hola Y cuidado que está pasando aquí pues está pasando que le tengo que poner float left para que los divs floten cada uno a la izquierda del otro ahora t Pongo aquí 100 vamos a verlo así cero y Hola lo que quiero evidentemente es que cuando el programa me marque un punto aquí en lugar de Hola ponga el punto que me ha marcado cómo lo voy a hacer Bueno sea realmente es sencillo recordáis que marcar un punto era la pelota rebota contra la pared la pelota rebota contra los palos Cómo era reiniciar la partida dónde estás aquí cuando la pelota sobrepasa el palito un punto más Dónde está la puntuación pues al principio bar puntuación voy a poner bar sub puntuación es igual a cer y ahora digo su puntuación más y ahora aquí digo bar x hace referencia a aquel elemento que tenga el ID puntuación jugador dos creo que lo había llamado pj2 vamos a verlo pj2 lo veis ahí pj2 y ahora toco y digo pj2 y ahora digo x. html y pongo su puntuación cada vez que me marque un punto actualiza el marcador vamos a ver si funciona guardo recargo ahí pone Hola Bien pone Hola porque no va marcado ningún punto vamos a hacer que marque un punto y ahora pondrá nada se ha quedado parado algún problema hay Y eso quiere decir que algún error he cometido aquí bar J veis que se ha parado todo completamente luego el error está ahí creo sí debe estar el error Ahí vamos a refrescar esto no pues el error no está ahí si pelota es menor que cero su puntuación claro su puntuación más el más tiene que ir seguido vamos a verlo guardo recargo vamos a probarlo vamos a hacer que me marque un punto y se sigue colgando su puntuación bar su puntuación voy a comentar esto y vamos a ver dónde puede estar el fallo bien el fallo fijaos lo que he hecho porque esto lo haréis vosotros muchas veces es diagnosticar al diagnosticar lo que hago es aislar qué es lo que está dando fallo mediante comentarios Entonces vamos a ver su puntuación puede ser que esté en esta línea el fallo voy aislando veis como eslo su puntuación más ahí falla su puntación Es que la variable se llama su puntuación y aquí pone su puntación así que me faltaba una u veis A veces lo tontos que son los fallos en javascript en programación Es que la mayoría de veces es así es simplemente tener paciencia y localizar dónde está ese pequeño fallo bien y ahora me marca un punto y ahí pone uno lo V ahora pone uno ahora marcar otro punto y pondrá dos pero si yo me molesto en responder a la máquina ya no pondrá tres porque he evitado el que llegue al final ya empiezo a tener un juego Mirad atención voy jugando y si en algún momento Quiero poner puntuación lo voy a hacer en el siguiente vídeo lo que haré es hacer que 11 por ejemplo sean los puntos máximos recordamos que habíamos puesto una condición en la lógica del juego que era cuando llega a 11 se acaba la partida así que bueno voy a hacer de momento lo siguiente voy a decir si su puntuación Es mayor que 11 en ese caso voy a hacer lo siguiente uno alert la máquina ha ganado voy a hacer Si queréis para no ser tan rollero voy a hacer mayor que tres porque si no me tendré que esperar 11 tiradas a perder mayor que tres y ahora reinicio la partida básicamente quiere decir que cojo todo esto quito los Bars cojo todo eso madre mía Dónde está cuando llega a se acaba la partida y digo quito los Bars y vuelvo a empezar con la diferencia por qué estoy quitando los Bars porque ya estaban definidos arriba bien y ahora copio y pego esto y digo Pon otra vez su puntuación porque su puntuación es igual a cero verdad copio y pego vamos a ver si funciona bien Bueno me voy a dejar ganar evidentemente ha ganado un punto la máquina ha ganado dos puntos la máquina ahora va a ganar tres y cuando sea mayor que tres ahora me deberá sacar un mensaje que ponga ya ha ganado la máquina y en cuando pulse se reiniciará la máquina ha ganado y en cuanto pulso Ok la partida se reinicia los dos a cero y realmente es un If hasta ahora realmente es que era imposible ganar la máquina porque fijaos que cuando la pelota cambiaba de campo automáticamente e Será posible que haya fallado la posición de del palo se actualizaba automáticamente era imposible que la máquina perdiera Mirad po se actualiza pero ahora van a cambiar un poco las cosas lo que voy a hacer es que la máquina pueda perder y voy a hacer ahora voy a localizar el punto en el que decía que la posición de el palo fuera igual que la posición de la pelota lo voy a encontrar un momentín dibujo la red la pelota dibujo el jugador 2s y digo jugador 2 y es menor Perdón jugador 2y es pelota Pos y- 30 Es decir que Direct estoy cogiendo la posición de la pelota Pues ahora voy a hacer lo siguiente si se da una condición Sí vamos a ver un momentín que estoy pensando porque recordemos que la altura es 80 vale si jugador 2 y Es mayor que pelota post y en ese caso jugador 2y más igual lo he hecho al revés ahora lo vamos a comprobar es decir sube un punto intenta ir a por la pelota no vas directamente sino coge tu posición y Súbele un punto si jugador y es menor que pelota Pos y quítale un punto igual lo he hecho al revés insisto si jugador un momentín jugador es menor que la pelota súmale un punto vale Y si es mayor réstale y ahora tendría que decirle si jugador y 40 que es 80 par 2 por qué 80 porque quiero recordar que era la altura de la altura del este la altura del rectángulo vamos a verlo bien Oh Mirad intenta ir pero no llega veis como intenta ir pero no llega y ahí puede perder fijaos bien Le voy a decir que en lugar de menos sea + 2 jugador 2y es igual a jugador 2y - 2 Esto será igual a + 2 guardo recargo a vaya me la ha colado qué se va a hacer pero fijaos ahora como no va directamente intenta creo que no era menos 40 sino que debe ser más 40 Sí porque se ha ido no es - 4 sino es más 40 vamos a probarlo pues no está fallando igual ahora se lo acelo por bajo así que bueno voy a decirle sin el más 40 a ver qué pas casa Bueno ahora falla estrepitosamente y creo que estamos fallando los dos vamos a ver si ahora acierta e casi efectivamente bien pues ahora ya puedo ganar y por tanto tengo que programar que cuando la pelota sobre pase ese límite en ese caso gané yo en ese caso yo sum un punto de momento lo que quiero hacer es que le pueda meter gol a la máquina digamos por tanto voy a hacer una variable llamada bar mi puntuación que es igual a cer y le digo que cuando vamos a verlo dibuja el escenario cuando llega 11 se acaba la partida cuando pelota sobrepasa el palito Qué palito Pues el mío vamos a verlo si pelota Pos x Es mayor que 640 en ese caso pelota Pos x 320 pelota Pos x 240 mi puntuación más y quiero poner en puntuación del jugador un mi puntuación y ahora le voy a decir que en los rebotes pelota Dónde está el rebote la pelota rebota contra la pared quito lo de que si la pelota es mayor que 640 rebote esta ahora rebotaba os acordáis si la pelota es mayor que 460 o que 450 realmente no porque ahora lo que tengo que hacer es lo mismo que he hecho para el jugador y digo lo siguiente Mira la pelota revota contra los palos voy a eliminar esto Ah claro 480 la pelota si pelota Pos x Es mayor que 4 70 vamos a ponerlo así y la pelota post x Es mayor que cero claro es menor que 480 y la pelota Pos y es mayor que el jugador 2y y que el jugador 2y ya lo tengo vamos a verlo un punto para mí e ahí ha pasado algo ahora verem el qué Ahí está pasando algo ahí está pasando algo porque el programa bien Alo he escrito yo mal aquí y le digo claro si la pelota posición x 640 es se por ejemplo 620 es la posición x de la pelota vamos a verlo bien un punto para mí otro punto para mí está perdiendo este amente madre mía Cuánto está perdiendo bien y voy a decirle ahora en la puntuación si mi puntuación Es mayor que tres entonces digo Tú has ganado y vuelvo a reiniciar la partida pj1 mi puntuación realmente es su puntuación es igual 0 mi puntuación es igual a 0 Y pone esto aquí y Pon esto aquí es decir lo que estoy haciendo es gane quien gane se reinicia la partida un dos tres y en ese caso tú has ganado y la partida vuelve a empezar lo que hecho darle un poco de ventaja y decirle que si la pelota posición y es mayor que el jugador 2 y men 80 es decir le amplío el margen 80 píxeles más y le digo que el jugador 2y + 160 lo amplío por bajo lo que estoy haciendo es darle ventaja es que aunque este palo tiene esta dimensión realmente el programa que considera que aunque la pelota salga un poquito por arriba un poquito por abajo también ha rebotado lo que puedo decirle es decirle bueno no 80 sino 40 y 120 vamos a verlo un poco como veis para que podamos jugar en igualdad de condiciones y ahora lo que voy a hacer porque me he dejado antes + TR y más TR le da una ventaja demasiado fuerte Voy a poner -2 y + do de velocidad sí que sigue llegando vamos a verlo ostras ahora el que pierde soy yo vamos a ver y ahora voy a hacer una cosa voy a hacer que pierda porque sea muy lento es lo bueno que tiene problema en un juego puedes putar la máquina espera sí jugador 2y a ver ahora si llega o no bien veis si le pongo uno es muy lento si le pongo dos es muy rápido el tema está en poner algo que haga la partida interesante la cuestión está en poner una velocidad que en algunos casos la barra pueda llegar y en otros no pueda llegar por ejemplo 1.5 y esto ya es una cuestión de probarlo evidentemente no hay una fórmula matemática que te diga cuándo la velocidad es óptima para que la barra llegue he puesto 1.5 y estoy probando esa velocidad le he dado un poco de ventaja se está lorando la ventaja pero en ese caso parece que 1.5 está ahí veis ahí ha llegado con soltura porque le pillaba cerca ahí también ir jugando un poco con la bueno eso ha sido muy raro segir jugando un poco con la velocidad y eso ha sido más raro todavía he sido jugando un poco con la velocidad es que lo he cogido de refilón es como cuando Será posible que lo coja tantas veces de refilón eso es casualidad bueno de refilón voy a refactorizar para eso he hecho una nueva carpeta he creado la carpeta 5 dentro del proyecto pong y ahora lo que voy a hacer básicamente es buscar los Jer y simplificar por ejemplo ahorro estas dos líneas y digo donde htm ipress evidentemente ejecuto la función cada refactorización que haga va a ser muy recomendable 5 que compruebe que sigue funcionando correctamente y continúo vamos a ver aquí por ejemplo tiene pj2 le pongo la puntuación voy ahorrando voy simplificando todo lo que pueda sobre todo en aquello que sea jquery en aquello que no es jquery en aquello que es javascript duro podría ahorrar simplemente qu de línea pero eso no sería refactorizar sino sería simplemente cortar líneas aquí por ejemplo fijaos que tengo hueco para algunas mejoras sobre todo de vez en cuando comprobamos que sigue funcionando continúo siempre que pueda siempre que jquery me lo permita y luego ya a partir de ahí puedo simplificar el principio que en este caso si queréis no lo voy a hacer porque en la función de inicio como mucho Voy a hacer esto cuando el documento esté preparado ejecuto la función de inicio pero me voy a dejar la función de inicio ahí porque si no tendría que este paréntesis Y pasarlo al final y quiere decir que todo estaría ahí metido y sería el texto un poco ilegible por tanto en ese caso específico sí que voy a seguir Llamando a la función de inicio ahora por último lo que voy a hacer es acabar de estilizar y eh darle un poco de forma al juego lo que voy a hacer ya es más realmente css voy a hacer una cosa Dentro de este ejercicio de hecho me voy a cargar todas las fuentes personalizadas que había importado atención Mira todos abro en Google Chrome tengo ahí el superp tengo aquí jquery tengo el jquery mínimo Mirad lo que voy a hacer voy a abrir jquery lo que voy a hacer en principio no debe hacerse pero ahora os cuento Por qué hay que hacerlo he abierto ahí jquery veis lo tengo aquí lo abierto en un solo archivo y lo que haré ahora será lo siguiente este jquery yo lo estoy llamando desde la primera línea de javascript pues lo que voy a hacer es borrar Esa llamada jquery voy a copiar estas líneas es más incluso voy a editar seleccionar todo copio un momento me está copiando está en ello y a continuación lo voy a pegar Sí es que está copiando mucho qué va a pasar al copiar y pegar que yo lo que voy a hacer No es que lo recomiende para todos los casos Pero yo lo que voy a hacer es pegar la librería de jquery dentro de mi pom orora hago así y compruebo cómo funciona de hecho Incluso compruebo como guardo borro jquery y si recargo sigue funcionando qué he ganado Y qué he perdido he ganado algunas cosas he perdido otras lo que he ganado ahora es que todo el juego del PK incluso más adelante os enseñaré que podemos insertar imágenes enteras todo el juego del ponk está en ese archivo index.htm no requiere de ninguna librería no requiere de nada para funcionar porque que lo contiene todo Insisto que más adelante os enseñaré que se pueden meter Fuentes se pueden meter imágenes se puede meter lo que quieras dentro de un archivo html esto quiere decir que si yo ahora quiero que esto funcione en internet únicamente tengo que ese archivo y subirlo y funciona Cuál sería la ventaja para publicar una página web de que ese archivo esté en un solo archivo o en varios la verdad es ninguna no tiene ninguna ventaja ahora bien si he hecho esto es para comunicaros una cosa os voy a decir una cosa comprobarlo en los próximos días en la próxima semanas en los próximos meses si esto es una aplicación html Por qué es una aplicación html porque yo no puedo Descargarme esto a Windows y simplemente hacer doble clic y ejecutarlo y tengo un juego de Windows lo único que me está indicando que esto es un navegador web es esta cabecera de arriba si Además le pongo un Script que existe no lo suelo recomendar que abre p en una ventana sin navegador una ventana sin datos de navegador es como una ventana de Windows si os fijáis en las noticias insisto os lo digo comprobarlo y lo que está haciendo Microsoft con Windows 8 es apostar por html5 Buscar desarrollo de aplic para Windows 8 con html5 Qué curioso es lo que estáis aprendiendo esto qué quiere decir que en principio estamos desarrollando aplicaciones web para Internet Pero lo divertido es que como Cada día los sistemas operativos tienen más soporte para html5 con la combinación de html5 css javascript y más adelante php y sql podemos no solo hacer aplicaciones para internet sino también aplicaciones para y lo mejor con el mismo esfuerzo me sirve para poner algo en internet o para bajarlo a alguien a cualquiera Y decirle Mira doble clic y lo ejecutas Oye pero no es ejecutable me da igual doble clic y lo ejecutas y me da igual que tengas un pc me da igual que tengas un mac me da igual que tengas Linux doble clic y lo ejecutas que no tienes el plugin de Flash instalado me da igual porque esto no requiere flash esto Solo requiere html5 y javascript como os dije la gran mayoría de navegadores por no decir todos llevan html5 css3 y javascript directamente incorporados en este vídeo voy a trabajar con matrices dentro de javascript las matrices nos ayudan a automatizar la declaración de múltiples elementos cosa que de vez en cuando puede llegar a ser frecuente pongo Script de tipo texto barra javascript y ahora voy a hacer lo siguiente Mirad voy a crear una variable llamada agenda es el típico ejemplo de matrices y yo claro agenda una agenda telefónica que tiene nombres que tiene teléfonos que tiene direcciones verdad Y claro yo esto Qué nombre le doy eh agenda la primera entrada soy yo José Vicente ala se acabó la agenda porque ese es el problema que tienen las variables una variable admite únicamente un único valor el problema está por tanto que con variables yo no puedo hacer agenda claro vosotros me podéis decir hombre puedes hacer agenda nombre agenda teléfono agenda dirección muy bien pero entonces en agenda nombre poner José viicente en agenda teléfono mi teléfono y en agenda correo mi correo pero cómo hago ahora la segunda persona de la agenda porque hacer una agenda para estar solo yo es un poco triste Claro ya podría hacer agenda nombre dos agenda nombre tres pero eso es un bacalao eso es empezar a declarar variables y variables para eso precisamente están las matrices mira voy a hacer agenda y voy a decir bar agenda es igual a un New array es una nueva matriz y de esta manera voy a decir lo siguiente agenda un es igual a José Vicente pero agenda dos es igual a Javier y agenda 3 es igual a Juan agenda entonces que está qué está guardando pues veréis lo que he hecho de esta manera es convertir digamos vamos a hacernos una idea de que una variable es un cajón donde yo puedo meter una cosa una matriz convierte un cajón en un armario yo de repente tengo un super cajón tengo un armario donde puedo abrir diferentes cajones y guardar diferentes cosas Tengo un armario donde en el cajón número uno he guardado José Vicente en el cajón número dos he guardado Javier en el cajón número tres he guardado agenda y ahora por ejemplo digo document y quiero que me devuelvas en pantalla el valor de agenda en el cajón número uno y esto me devuelve el valor José Vicente si digo quiero que me devuelvas el valor número dos Esto me devuelve Javier quiero que me devuelvas el valor número TR Esto me devuelve Juan y tengo como veis un principio de matriz unidimensional una matriz de una dimensión vamos a hacer en este caso una matriz de matrices una matriz de múltiples dimensiones en php es más fácil de declarar de la siguiente manera Mira yo tengo Nombre en la posición un es José Vicente nombre en la posición dos es Javier nombre en la posición TR es Juan ahora lo que voy a hacer es definir bar nombre bar teléfono de tal manera que puedo decir que teléfono uno es igual al teléfono 111 por ejemplo para no complicarlo el teléfono 2 es igual a 222 y el teléfono 3 es igual a 333 técnicamente yo ahora podría hacer una matriz donde dijera bar agenda es igual a New array donde voy a especificar nombre coma teléfono guardo recargo de momento no voy a sacar nada en pantalla y si digo que quiero devolver la agenda 1 dos me devolverá 2 diréis por qué pues os lo voy a explicar para trabajar con una agenda para trabajar con matrices bidimensionales lo primero que tenéis que hacer es sacar una hoja de cálculo por ejemplo de Excel o de openoffice cal y decir lo siguiente Mira Estoy sacando una estoy abriendo una hoja de cálculo y decir que yo realmente lo que he hecho es aquí poner al principio José Vicente Javier y Juan y he puesto aquí que José Vicente tiene el teléfono 1 111 222 y 333 esto es una matriz y esto es otra ahora digo hazme una matriz que lo contenga todo voy a hacer otra cosa Mirad voy a hacer B email es igual a email del registro 1 es igual Jos viicente @jaru esto porque es una cadena alfanumérica email 2 email 3 el email 2 es Javier @ar com y juan@ara.mil.ar esta línea bar agenda lo que le digo es que hazme una super matriz hace una tabla realmente porque esto es como una tabla que tengas aquí abscisas y ordenadas digamos para una tabla sabéis Qué pasa que yo ahora quiero averiguar Cuál es atención este valor de aquí este valor de ahí cuál me diríais que es pues atención contar 1 dos y TR en la primera dimensión 1 dos y TR en la segunda Perdón un y dos en la segunda dimensión así que dime cuál es el valor de dos y 2s en la pantalla ver si hay suerte y me dice Javier @ jarsa ojo porque es Javier @ jarsa es el 22 Pues a ver el 21 Jos viicente @ jarsa Ahí está es 2 22 lo que estoy haciendo por tanto es recorrer la tabla en este caso para decir que el registro uno realmente esto debe ser cero ahí lo tenemos Javier 02 es Javier vamos a ponerlo aquí un momentín Mirad a la pantalla 02 es Javier 1 2 es 2 veis estoy recogiendo la tabla 2 es Javier @json el número de teléfono de José viicente y 21 es josev viicente @ jocars fijaos que con los índices a ver yo estoy jugando al final a hundir la flota yo estoy diciendo h8 agua y me coge la intersección entre dos elementos lo difícil en este caso es que no sé por qué uno ha empezado con cero y otro ha empezado con uno pero en fin es cuestión de ir probando las matrices eh También os digo que javascript la mayoría de las veces se hacen matrices de una única dimensión y es en php donde se hacen matrices de múltiples dimensiones lo que vamos a hacer eh A continuación es hacer otro ejemplo donde estaremos trabajando con Canvas en este caso para usar matrices y para eh crear matrices dentro de Canvas y para que veáis para qué nos puede servir un bucle for anidado Así que voy a hacer un archivo nuevo lo voy a guardar como dentro de la carpeta escritorio dentro de Master web dentro de actual igual que el otro día hice una carpeta llamada p hoy voy a hacer una carpeta llamada arcano con k donde este archivo nuevo que estoy trabajando lo voy a guardar como Index html además por tanto insisto atención estoy dentro de la carpeta arcano además dentro de arcano porque ya sabéis que bueno lo voy a usar prácticamente siempre así que casi no haría falta ni que lo dijera voy a usar voy a copiar el archivo jquery por tanto dentro de la carpeta arcano Acabo de crear un archivo index.html.com en cualquier momento y en base esto lo que voy a hacer es estar revisando pero no Esto está mal porque igual que el otro día para que tengáis la progresión voy a hacer la carpeta uno y así cada cambio que vaya haciendo lo iré poniendo en la carpeta dos en la carpeta tres en la carpeta eh cuatro Mirad atención Así que ahora entro dentro de la carpeta uno y el archivo Index lo cargo tanto en editor como en el navegador y me aseguro que si aquí pongo Hola guardo y recargo ahí pone Hola lo cual quiere decir que efectivamente estoy viendo el mismo archivo en los dos sitios ahora que ya hemos comprobado que el archivo Hola se está viendo Hola aquí y Hola allá lo que voy a hacer es crear mi estructura clásica html donde voy a tener un Head voy a tener un Body recordamos que dentro del G lo primero que voy a hacer es importar la librería jquery por eso pongo Script type text bar javascript y digo que el source es un archivo que yo voy a marcar ahora y el archivo evidentemente como os podéis imaginar vamos a verlo dónde lo tengo el archivo es este de aquí es jquery así que copio su nombre y lo pego directamente y así sé que seguro que no me puedo equivocar ahora pongo otra etiqueta Script de tipo Bueno me lo puedo copiar verdad me dejáis texto javascript y lo primero que haré es decir que bar x es igual al documento y cuando x. ready ejecuto la función de inicio y así se seguro que el javascript del Can no se va a ejecutar Hasta que el html haya quedado correctamente cargado y ahora hago una función llamada inicio evidentemente que va a tener el siguiente código donde voy a empezar poblando un Canvas bien lo que voy a hacer antes de nada es crear aquí en el body un Canvas lo voy a crear así a paloseco ya sabéis que luego ya lo maquetar ya le pondré el nombre y lo que sea y en este caso lo que voy a hacer es una aplicación web con una cierta orientación hacia dispositivos táctiles para que se pueda jugar en teléfonos en tabletas y cosas así ya que el otro día Ya hicimos un ejemplo para teclados con la a y con la q movíamos el rectángulo y voy a decir que ID igual a lo que quiera igual a escenario por ejemplo escenario arcano mi escenario mi Lienzo lo que sea ya sabéis yo siempre digo lo mismo que cuando pongo una palabra en inglés es que yo no puedo elegir esa palabra es que es parte el lenguaje pero si la palabra la pongo en castellano Es que la palabra me la he inventado yo y por tanto en lugar de poner inicio hubiera podido poner longaniza poniendo aquí lo longaniza y aquí abajo lo longaniza evidentemente es mejor poner inicio ya que te está comunicando mejor para queé va a servir esa función pero la progama internamente da igual lo que pongas cuando lo pongo en castellano bueno Y si ahora tengo un escenario voy a decir que el with es voy a usar una resolución de teléfono móvil Voy a usar qué te diría yo pues un No lo sé Mirad voy a hacer una cosa si no lo tengo instalado bien tengo por aquí un programa instalado que es el Opera Mobile emulator que tiene unos cuantos modelos de teléfonos móviles cargados y me dice las resoluciones que tienen ahora luego os digo cómo se descarga pero básicamente por ejemplo las nuevas tabletas veo que ya tienen 1280 por 800 por tanto voy a usar esa resolución voy a usar 1280 por 800 píxeles así que de hecho voy a usar sí va 1280 y el High de 800 píxeles y ahora lo que haré es usar un poquito de estilo Esto no es imprescindible evidentemente pero así me texto bar css me permite saber qué escenario Cómo se ve en pantalla @ no voy a decir que sea almohadilla escenario porque es un ID y le voy a decir que tenga un Border de un Pixel Dash de color Grey y así Ahora cuando ejecute el programa en pantalla no lo veo pero tiene vaya este aspecto no lo veo es que he puesto esteo Así que pongo escenario y así parecerá mejor Bueno este va a ser mi arcano como veis el juego va a estar delimitado dentro de este rectángulo es un rectángulo en principio diseñado para que se vea bien en las tabletas de Última Generación Ya tengo la estructura lo que voy a hacer a continuación es la carpeta del proyecto y decir que copio pego hago la versión número dos y ahora lo que voy a hacer Mirad es dentro de esa carpeta número dos cargar el Index tanto en el editor como en el navegador y así me aseguro que en todo caso estoy trabajando sobre la versión 2 y así luego cuando revisé el código no solo tenéis el código final d tiene todo a saco y no sabéis cada cosa dónde ha salido sino que tenéis una un crecimiento del proyecto y sabéis cada proyecto cada carpeta qué se puso de nuevo Bueno pues ahora lo que voy a hacer es eh simplemente empezar evidentemente dentro de la función de inicio vamos a ver aquí está y voy a decir lo siguiente mira creo una variable C donde c es igual a document.get Element by ID coge el elemento que tenga el ID que el ID escenario qué le estoy diciendo con esa línea le estoy diciendo voy a trabajar con el escenario todo lo que haga a continuación lo voy a hacer sobre el escenario ahora esto es igual que el otro día digo bar contexto es igual a fg context y el contexto va a ser 2D y ahora que ya tengo el escenario seleccionado digo selecciono el escenario aquí abajo para no marear mucho digo dibujo un rectángulo para asegurarnos insisto poco a poco veréis que yo no redacto 200 líneas de código y entonces me aseguro de si funcionan porque seguro que no funcionan sino que hago tres cuatro líneas y compruebo tres cuatro líneas y compruebo y así Si comete un error lo cazo al vuelo bien pues ahora digo que contexto punto fill Style es igual voy a empezar dibujando una cajita de color rojo simplemente para verlo para ver qué sale algo y ahora digo contexto pun F punto fill re que va a tener recordamos eran eh cuatro parámetros que era la primera esquina en x voy a empezar con 10 por ejemplo coma la segunda esquina en 10 coma la anchura en x evidentemente coma la altura en y vale recordamos cuatro parámetros vamos a ver si esto funciona vamos a ver si sale correctamente en pantalla guardo largo y sale un rectángulo acordaos que de esos cuatro parámetros el primer parámetro atención Mirad es la distancia desde este borde al eje x horizontal el segundo parámetro es la distancia al eje y en vertical el tercer parámetro es el grosor se me escapa un poco por allá en horizontal y el cuarto parámetro es la altura en vertical vale Esos son los cuatro y veis por tanto que ha salido un rectángulo justo con los parámetros que yo le he dicho pero ese rectángulo se va a convertir en eh en uno de esos bloques del arcano que voy a tener que eliminar por tanto voy a hacer un rectangulo que tenga Pues qué te diré yo no sé voy a probar 30 por 10 píxeles Igual me he pasado de poco sí Pues mira voy a ponerle 50 por 20 píxeles hasta que tenga un rectangulo propio de una arcano que sí vale Ya lo tengo ponemos el fondo negro por qué no podríamos ponerlo lo que voy a hacer es lo siguiente eh voy a copiar de hecho fondo negro el fondo negro va a ser copiar estas dos líneas y decir que El Fil Style va a ser Black digo fondo negro porque el arcano original tenía el fondo negro no por otra cosa Vale Si no es tontería y Pongo aquí que empiece en 00 y cuánto tenía mi Canvas tenía 1280 por 800 pues pongo que vas a tener 1280 por 800 veis aquí dibujo un rectángulo negro aquí dibujo un rectangulo del Canvas guardo recargo y Mirad sale esto que no es Ni más ni menos que poner un fondo negro y poner un rectangulo rojo arriba del todo problema ahora mismo es que tengo que poblar todo un arcano de fichas rectangulares entonces claro yo s bueno podría ponerme a duplicar este código pero me podría volver loco duplicando código verdad lo que voy a hacer es lo siguiente voy a poner un doble bucle for ya que Mirad Quiero un conjunto de fichas que se repita en horizontal pero también quiero un conjunto de fichas que se repita en vertical hacer un bucle for en sí es sencillo el doble bucle for es lo que no es tan sencillo de pensar es muy fácil de hacer pero no es tan fácil de pensar eso sí En cuanto lo veáis yo creo que se os abrirá la mente para cualquier otro tipo de proyectos en los que necesitéis una matriz de dos dimensiones Mirad lo que hago es dibujar un bucle for que va a tener las siguientes condiciones recordar que el ble for Lo bueno que tenía es que el mismo contiene tanto la condición de inicio como la condición de final Como la condición de incremento y ahora creo una variable x donde x empieza siendo qué pues x empieza siendo No lo sé 10 porque recordar que empezaba aquí poniendo un bloque en 10 y ahora digo Siempre que x sea menor que 1280 por qué 1280 porque os acordáis que el Canvas mide 1280 píxeles básicamente le estoy diciendo no te salgas del Canvas dibujando rectángulos y cada vez que pase por aquí lo que quiero es que x sea ig a x + 70 por qué 70 bueno tengamos en cuenta que cada rectángulo tiene un grosor de 50 píxeles quiero que cada uno entre cada uno de ellos haya una distancia de 70 píxeles por qué 70 pues hombre para que todos los cuadraditos no estén pegados entre sí verdad sino que haya una distancia si queréis no 70 pero sí 60 que haya una distancia de 10 píxeles entre ellos sabéis Qué hace esto Bueno pues esto lo que hace es prácticamente nada si yo recargo no tengo nada en la pantalla Por qué Pues porque yo aquí tengo una x que va creciendo Pero me falta decirle aquí que pongo la x Qué hace esto pues Mirad hac lo siguiente cómo es posible que haya hecho eso porque vamos a ver el código en el código digo x empieza siendo 10 la primera vez que paso por aquí x es ig a 10 Así que contexto fi rec x si la primera vez es 10 es igual a poner empieza en 10 pero la segunda vez cuántos números le añado 60 sí o no Así que la segunda vez es 10 + 60 que es igual a 70 el segundo rectángulo lo dibujo en 70 10 50 20 veis la tercera vez que paso por aquí cojo 70 y le sumo un 60 que me da 130 y por tanto veis que voy dibujando rectángulos ojo hasta que x sea menor que 1280 en el en que x sea más grande que 1280 es como decirle al código e cuidado que te ha salido de la pantalla porque la pantalla recordáis que medía 1260 y por tanto le digo si ya te ha salido la pantalla no sigas dibujando para qué Ya tengo la primera parte del problema resuelto la primera parte del problema consiste básicamente en poner una primera hilera digamos de ladrillos la segunda parte del problema eh es un poco más compleja porque básicamente requiere esta hilera de ladrillos y repetirla a continuación aquí x veces la primera vez que programas esto y lo programas de m tu propio lo primero que se te ocurre no se te ocurre otra idea mejor que decir Bueno pues cojo este bucle for lo copio y lo pego bajo y le voy cambiando la y pues hombre es una solución válida Lo cierto es que mal no está pero es una solución un poco arcaica porque te requiere trabajar manualmente lo que voy a hacer para automatizar este proceso Efectivamente es anidar es poner aquí dentro otro bucle for pongo otro for Y evidentemente si ya tengo la X Ya he trabajado con la x Ya está solucionada no la voy a tocar voy a trabajar ahora con la y veis atención he puesto sangrías para que veáis correctamente que este bucle for Perdón este bucle for está dentro de este bucle for y digo bar y que empieza siendo igual a 10 mientras que esta y sea menor que qué te diré yo no sé 600 píxeles no 600 es demasiado porque mi Canvas tenía 800 Pues yo que sé 200 píxeles no sé voy a probar a ver qué pasa y es igual a y más mi bloque tenía 20 unidades de alto Pues le voy a decir + 30 y esto Aunque os parezca Mentira cuando yo guardo y recargo Ah cuidado tengo que poner aquí y evidentemente Aunque os parezca mentira lo que voy a hacer con ese sencillo código es crear una rejilla de ladrillos porque lo que le estoy diciendo y el problema es cuando digerimos este código primera vez que decimos cómo es posible que esas dos líneas hayan hecho todo esto pues lo que estamos aquí diciendo Mirad x es = a 10 vale lo tenéis claro x es = a 10 no es igual a otra cosa x es = a 10 y empieza vale pero es que y empieza siendo 10 dibujo el 10 pero luego y crece y dibujo x = 10 y es igual a 40 y luego x es = 10 y es igual a eh 40 o 70 y luego 100 y luego 130 cuando ya he acabado con las sis cuando este bucle se libera entonces vuelvo a este bucle de aquí arriba y le digo ahora eres 70 y digo 70 10 70 40 70 100 vale Y así es como voy pasando entre los dos bucles para crear X e Y simplemente anidando estos dos bucles lo que tengo es una matriz visual de elementos lo que necesito a continuación es que javascrip se acuerde de las posiciones de cada uno de los ladrillos para más adelante poder comparar con la posición de la pelota y poder saber cuánd un ladrillo ha sido golpeado por la pelota y cuando un ladrillo desaparece y cuando pasa lo que sea por eso aquí arriba al principio Mirad antes de empezar la función de inicio voy a hacer lo siguiente Creo una variable que es igual a ladrillo post x la posición x del ladrillo que es igual a un New array sin parámetros le digo Ahí voy a dibujar una matriz ahora digo que creo otra matriz ladrillo post y que es igual a un New array y ahora lo que haré es especificar Eh bueno básicamente una visibilidad le digo bar ladrillo post no bar ladrillo visibilidad es igual a New array de esta manera yo puedo hacer lo siguiente a continuación digo ladrillo Pos x donde el índice x el índice es x será igual a x es decir la posición en x de ese ladrillo para este índice será ese valor básicamente ladrillo pu X en 50 será igual a 50 y algo así ladrillo Pos y de y va a ser y aunque no lo parezca lo que estoy haciendo ver recargo no pasa nada no hay ningún cambio no hay ninguna diferencia lo que estoy haciendo es guardar una memoria interna de la posición de cada uno de los ladrillos porque es que si no si los dibujo solo si más adelante le dibujo si más adelante le digo al programa la pelota está pegando un ladrillo el programa me dirá y Yo qué sé tú los has dibujado yo me he olvidado de ellos lo que estoy haciendo aquí arriba es Sí vale aquí dibujo el ladrillo pero aquí abajo estoy guardando un registro interno en la memoria de Cuál es la posición de cada ladrillo bien aparte voy a hacer una cosa Mirad atención permitidme hacer una cosa voy a crear una variable contador bar contador que empieza siendo igual a cero y ahora lo que voy a hacer es decirlo siguiente ladrillo Pos x del contador es igual a x ladrillo Pos y del contador es igual a y ahora os comentaré lo que hago y ladrillo visibilidad del contador es igual a un es decir que está activado y luego pongo contador más esto qué quiere decir pues lo que acabo de hacer es aquí crear un identificador y lo que voy a hacer es decir el primer ladrillo que pilles que es ladrillo post contador voy a decirle que empiece siendo uno porque me gusta más contador uno su posición x será esta su posición y será esta pero este ladrillo porque al final fijaos que Contador se le suma un valor este ladrillo será el número dos este ladrillo será el número tres este ladrillo será el número cuatro este ladrillo será el número cinco cuando acabe aquí si he dibujado siete creo que son este será el número 8 9 10 11 12 13 14 15 16 vale ese contador lo que hace es ponerle un identificador es como un carnet de identidad del ladrillo es en tu carn identidad Qué nombre hay Qué apellido hay qué dirección hay pues esto es en tu carn identidad de ladrillo qué posición x hay qué posición y hay y qué visibilidad hay Y por supuesto como os podréis imaginar guardo recargo y el resultado en pantalla es el mismo ya lo tengo por aquí y ahora lo que voy a hacer es una pequeña demostración simplemente para que veáis que el contador ha ido aumentando elementos Mirad una pequeña mini demostración simplemente aquí al final fuera no hace falta ni que lo hagáis voy a poner document write contador y si todo ha ido bien Aquí me dirá 155 lo veis document lo que he hecho es quitarme el Canvas y en su lugar poner el número 155 para decir al final he dibujado 155 ladrillos veis como de alguna manera no solo estoy dibujando ladrillo sino que estoy guardando una memoria interna de cuánto se he dibujado y eso me servirá más adelante guardo recargo eso me servirá más adelante para saber qué identificador tiene cada ladrillo y para Al final a la pelota preguntarle pelota te estás pegando con el ladrillo número uno Sí pues quítalo no Pues sigue rodando te estás pegando con el ladrillo número dos vale para eso necesito saber dónde está cada ladrillo para más adelante poder detectar si la pelota está colisionando con ellos o no lo que voy a hacer ahora esto ya no es dibujo un rectángulo sino dibujo todos los rectángulos es lo siguiente voy a crear un rectángulo dibujo el rectángulo del jugador más adelante cambiaremos rectángulos por imágenes más bonitas para que no siempre juguemos con rectángulos y la cosa sea visualmente más agradable y voy a hacer simplemente un copia pega de este código el color ya no va a ser Black va a ser de momento White Hasta que estemos esto y voy a decir que el jugador va a estar en 10 coma 750 por ejemplo y va a tener una anchura de por ejemplo 80 píxeles y una altura de 20 vamos a verlo tiene esta pinta veis lo que he hecho con ese rectángulo le digo que dibujo un rectángulo blanco y luego le digo que el rectángulo está en 10 750 que está aquí abajo 80 20 muy bien pues lo que haré ahora básicamente es usar un mouse move para O sí para especificar A dónde se va a mover ese rectángulo vamos a verlo voy a decir bar x es igual a Canvas Y cuando vamos a verlo cuando x voy a ejecutar una función permitidme porque voy a meter la función ahí dentro voy a decir que la posición en horizontal en lugar de ser 10 p aquí function event client x si ahora lo pruebo probablemente no pasará nada p simplemente Mira veis va desapareciendo qué está pasando aquí lo que estoy haciendo es mover esa barra con el cursor a ver un momentín Mirad muevo la barra con el cursor pero es que hay un problema y es que la muevo pero no me elimina la anterior lo veis bueno lo que voy a hacer simplemente es decirle que toda esta función set Time out la función de inicio se ejecuta se vuelve a ejecutar cada 100 milisegundos vamos a verlo y así veis Así es como puedo mover este elemento por la pantalla porque qué estoy haciendo Si la función de inicio se ejecuta cada 10 milisegundos lo que estoy haciendo es que aunque el programa intenta redibujar el cuadro blanco me redibuje también el me redua también el cuadrado de color blanco Perdón me ribu también el fondo negro por tanto el fondo negro acaba tapando al cuadro blanco anterior lo veis le puedo decir que por ejemplo sean 10 milisegundos para que sea más rápido sabéis que pasa es que siempre que muevo el ratón se me redibuje el fondo negro prevalece Bueno lo que puedo hacer es algo tan sencillo como decirle vamos a verlo bar temporal x y ahora Digo vamos a verlo temporal x es igual a event client x y ahora al final o incluso al principio pongo esto pongo temporal x para que En definitiva siempre me dibuje vaya no tendría que ponerlo vamos a ver antes de inicio Qué curioso no me está funcionando no me está funcionando esta línea está haciendo que se detenga la ejecución algo hecho aquí temporal x al principio tiene que tener un valor No todavía no temporal x algo he puesto mal bar temporal x es igual a 0 temporal x event client x no me está funcionando esta línea ahora veremos Por qué la voy a comentar de momento simplemente para que veáis que así funciona y de la otra manera no voy a hacer lo siguiente voy a probarlo guardo recargo Ahora sí vale Ahora sí ahí no hacía falta declarar eso cada vez que muevo el ratón lo que estoy haciendo es mover la barra y así el ratón podrá hacer clic en la bola y por tanto hacer que rebote lo que voy a hacer para que se entienda Qué hace cada línea de código porque vosotros podéis decir bueno y por esto aquí realmente un rectángulo y aquí estoy dibujando realmente otro rectángulo en cada momento en cada repetición del videojuego estoy dibujando dos rectángulos a la vez pues sabéis que os digo que no vamos a dibujar dos rectángulos a la vez voy a quitar este rectángulo y lo que voy a hacer es que Mouse mo simplemente me actualice el valor del client x lo voy a hacer de todas formas es dejar esto carpeta número no me acuerdo cuál era la número dos y voy a copiar La número dos La voy a convertir en carpeta número tres y voy a cargar ese número tres tanto en el editor como en el navegador ya si tenéis una copia de cada uno de los elementos Bueno pues lo que voy a hacer ahora Mirad es decirle vamos a ver Ah y ojo el arcano 3 vale lo que voy a hacer es decirle que voy a eliminar esa línea que tenía ahí un problema temporal x bien Vamos a ver Ahí está aparece y temporal x es igual a even cliente x claro cuidado aquí esto fuera vale aquí falla bien ahí lo tengo fijaos entonces lo que voy a hacer es lo siguiente voy a comentar el código aquí ya no dibujo una barra aquí lo que hago es que actualizo el actualizo la posición en x de la barra solo si el ratón se mueve y aquí abajo por último lo que hago es dibujo el rectángulo se haya actualizado o no lo que hago ahí por tanto es decir se mueva o no se mueva el ratón dibuja el rectángulo dibújalo con la última posición conocida de temporal x y cuando el ratón se empieza a mover ves cambiando ves actualizando el valor de temporal x con el nuevo valor y veis ahora realmente el efecto es prácticamente el mismo lo único que pasa es que en lugar de estar dibujando dos rectángulos porque realmente en el fondo para qué quería yo dibujar dos rectángulos pues se dibuja solo con uno se dibuja un rectángulo la primera mitad del código se encarga de definir Cuál es la posición en x del rectángulo en base a la posición x del Ratón mientras que la segunda parte del código lo que hace es ese valor temporal x y dibujar un rectángulo empezando dentro de ese valor insisto una vez más que temporal x lo he creado para poder sacar de la función el valor de event Cent x porque si no lo puedo sacar y ahora lo que voy a hacer antes de empezar a crear una pelota y que la pelota se mueva y que la pelota rebote y todo el resto del videojuego lo que voy a hacer es entrar dentro de Google imágenes Mirad voy a empezar a poner voy a sacar algunas de internet voy a crear otras en base a gimp o al programa que sea así que voy a poner space si ang Saca los angri space y voy a sacar la arcano space Mirad voy a usar esta imagen a ver qué tal pero necesito usar una grande Oh esa me ha gustado mucho y es grande os gusta esa imagen me da igual que os guste o no Porque a mí me gusta Así que la voy a evidentemente es una imagen de 3000 y pico por es muy grande Me la voy a guardar a la carpeta escritorio Master web eh actual arcano versión 4 y me la voy a guardar como fondo.jpg y ahora abro un programa de edición de imágenes ya hablaremos más adelante de esto con detalle de programas de edición gráfica voy a abrir el Kim como podría ser el Photoshop me da igual cualquier programa que trabaje con imágenes porque tengo un Canvas de 1280 por 800 Pero tengo una imagen de 3000 por 2000 Así que tengo que meterla dentro de las dimensiones momento que está abriéndose el kim y Dentro de este programa El gimp lo que voy a hacer es Pues básicamente la imagen de momento más adelante lo que haré es crear una imagen nueva pero ahora de momento lo que voy a hacer es esa imagen y bajarla de resolución momento porque está tardando bastante no debería pasar pero también es posible Mientras tanto si acaso Mira mientras se arranca el gim voy a arrancar Ink escape que es el programa que me va a permitir dibujar los tanto mi jugador como las bolas que tengo que romper a continuación voy a abrir el gimp voy a abrir el archivo escritorio Master web actual arcano versión 4 y voy a imagen y Mirad escalar imagen voy a escalarla hasta 10000 creo que era por 800 Quiero recordar que era esta la dimensión del Canvas que estaba usando recordamos que era 1280 por 800 Así que 1280 escalo y ahora guardo la imagen tengo una imagen al tamaño Real del Canvas para no usar demasiado y ahora voy a hacer lo siguiente Mirad ahora dentro del código voy a escribir que en lugar de poner un rectángulo de color negro voy a decir lo siguiente mira bar img creo una variable llamada imagen par imagen que es igual al New image recordad lo que está en castellano me lo estoy inventando yo lo que está en inglés son cosas que son propias del lenguaje de programación y ahora digo bar imagen onload cuando la imagen se cargue ejecuto una función es un poco más complejo Cargar imágenes por eso veréis que me lo he dejado para el final ejecuto una función donde digo contexto punto draw image pero no os preocupéis porque a partir de Aquí vamos a copiar y pegar y copio la imagen en 0,0 diréis esto es muy bonito pero tú realmente dónde has puesto aquí el cómo se llama la imagen dónde has puesto el nombre de la imagen Bueno pues el nombre de la imagen lo voy a poner imagen onload por cierto lleva punto y coma y ahora pongo imagen.src es igual a fondo. jpg voy a quitar el fondo negro y lo he dejado así básicamente imagen es igual a una nueva copia de una imagen y digo básicamente que dentro del contexto dibujo la imagen empezando En cer cuál es la imagen fondo.jpg vamos a ver si ha funcionado correctamente Y si todo ha ido bien que aunque tengo la imagen de fondo de todo Ahí está la imagen se está superponiendo por encima de todo lo demás bien pero aú así yo creo que os fijaré como se empieza a ver Aunque muy ap parpadeo que la imagen digamos está combinada está coordinada con el resto de elementos enp sería el cargar la imagen de fondo voy a comentar el código y vamos a ver por qué nos serviría cargo la imagen y ahora por aquí Mirad digo un Body esa solución es buena en realidad pero tiene un problema digo di ID igual ID ig fondo y ahora digo lo que es fondo tiene un wid de 1280 píxeles un High de 800 píxeles un background de URL fondo punto jpg de momento no va a funcionar porque me lo va a poner a continuación momentín qué ha pasado aquí fondo voy a poner aquí un punto y ig fondo claro por favor es que no he puesto la almohadilla bien ahí tenemos por una parte el fondo ahí tenemos por otra parte el Canvas bien No pasa nada porque ahora además le digo Pos absolute Y de esa manera en principio se ha quedado o se debería haber quedado por detrás si no se ha quedado por detrás le digo que Z Index es igual a 000 para que me asegure que se ha quedado por detrás funcionado pero tengo un problema y es que si ahora recargo comprobaré como la barra no está refrescando porque el fondo negro me servía para quitar lo que tenía antes Y redibujar encima del Canvas veis y por tanto mirando la barra de bajo la barra de abajo se está no se está refrescando No estoy borrando la anterior y poniendo la nueva voy a probar a la imagen de fondo y ponérsela de fondo al Canvas a ver qué pasa se la pongo sí que la pilla vale perfecto pues entonces casi que me ahorro el fondo muy bien me ahorro el fondo con css incluso sin jquery sino que lo he puesto directamente como fondo eso está sigo teniendo el problema dibujándolo aquí de que fijaos en la barra Blanca debajo se sigue estirando por tanto vamos a probar la solución que consiste en la función inicio antes de hacer nada más pongo el fondo con jquery y le digo selecciono permitidme hacerlo abreviado selecciono el Canvas y le pongo el método css donde en background le pongo esta imagen URL fondo.jpg Aquí está vamos a probarlo ahora bien No pasa nada dobles comillas pero evito el problema poniendo comillas sencillas recargo Y de esa manera parece que no porque vamos a verlo aunque lo borre bajo Fíjate que lo borro bajo de aquí aunque lo borre bajo de alguna manera sigo teniendo el mismo problema Claro porque estoy maquetando el fondo y el fondo siempre está en el fondo pero el fondo nunca borra la parte de delante es mucho más sencillo Mirad muy sencillo voy a quitarlo de aquí voy a quitar esto que realmente no hace falta y os voy a decir que existe pero lo tengo que ver en mi servidor una función un momento que estoy buscando la función que permite al principio del documento Borrar el documento es decir el documento que hubiera antes y borrarlo momento que estoy viendo un código que había hecho un proyecto anterior bien y lo que voy a hacer es lo siguiente Mirad atención voy a poner un comentario borro el fondo y en borro el fondo voy a poner lo siguiente contexto punto Clear red no es F re es Clear no es un rectángulo relleno es un rectángulo borrador Clear es de aclarar en castellano se traduciría como borrar y dibujo lo siguiente un rectángulo es como un rectángulo que empiece en 00 y acabe en 120,800 vamos a probarlo ahora recargo y ahora sí tengo el fondo y Clear r lo que está haciendo es cada vez que arranco el programa lo que estaba haciendo es borrar lo que había antes pero no borrarlo poniendo un rectángulo negro que me causa problema para esto sino borrarlo borrás ambas cuando lo borr es transparente por tanto si es transparente me deja ver la imagen que he puesto de fondo que en este caso es pues la imagen que bajado de internet aún así no me queda muy claro que esa imagen está en la proporción correcta Pero bueno y esto lo hace cada milisegundos voy a hacer ahora la pelota y para esto lo que voy a hacer es en primer lugar una nueva versión de vamos a ver una nueva versión del proyecto que es Master web actual arcano y hago la versión 5 vamos a trabajar ahora con la pelota cargo atención esa versión tanto dentro del editor ya sabéis siempre igual siempre lo mismo como dentro del navegador no sé por qué me he abierto firefox pero realmente me da igual cuál me abra lo bueno de Canvas atención Es que en principio es independiente de navegador no hay modificadores de compatibilidad porque es Canvas o canvas no hay otra cosa lo cual está bien porque así sabes que si se ve bien en uno se ve bien en otro y en móviles y en tabletas Y en donde sea bueno voy a crear ahora ya sabéis como el otro día a partir de aquí el proceso os va a resultar bastante familiar voy a crear ahora una variable llamada posición o pelota Pos x para hacerlo igual que el otro día pelota post x bar pelota Pos y bar pelota Bell x velocidad en x de la pelota bar pelota Bell y es decir posición y x de la pelota velocidad y x de la pelota si queréis es que incluso ya que estamos les podéis dar un valor el valor inicial por ejemplo que te diré yo será 400 en x 400 en y la velocidad inicial será 1 la velocidad inicial en y será 1 Hacia dónde se mueve una pelota que se mueve en x1 y1 hacia abajo a la derecha vale porque equivale evidentemente como ya sabéis a sumar valores aquí lo cual equivale a hacer un vector de dirección así bien Vamos a comprobarlo voy por tanto a dibujar una pelota dibujo el rectángulo Bueno pues por último os lo comento dibujo la pelota y casi que ya que estamos voy a abrir voy a copiar directamente el dibujo del otro día de Pon la versión me cuesta un poco de abrirse porque metí jquery pero básicamente cojo la pelota y digo dónde estás pelota la pelota copio pego y no tiene mucho misterio básicamente es voy a dibujar de color blanco empiezo un trazo dibujo una pelota en pelota post x pelota post I con 10 de radio cer ma p y false vamos a verlo guardamos recargamos Y si todo ha ido bien tengo ahí la pelota Por qué está ahí y no está en cualquier parte porque recordamos que le he dado una posición inicial de 400 y ese punto de ahí ocurre que es 400 en x y 400 en y bien hasta ahora voy a hacer igual que el otro día voy a la pelota y aquí arriba luego lo agregaré pero aquí arriba voy a decer pelota Pos x es igual a pelota Pos x má pelota Bel x coge la posición sumaré la velocidad y tienes la nueva posición pelota Pos y copio y pego pelota Pos y es igual a pelota Pos y má pelota Bel y guardo recargo Cuál es el resultado en pantalla Es que la pelota quiere caer yo la quiero pero sin embargo cuando recargo la pelota se va para allá y aunque yo la intente la pelota me atraviesa no la puedo lo veis voy a recargar no la puedo atención Mirad la intento recoger pero no puedo cogerla de momento lo que estoy haciendo Por qué la pelota se mueve voy a repetirlo del otro día Por qué la pelota se mueve porque cada vez que paso por aquí tener siempre en cuenta que esto es un bucle infinito cada vez que paso por aquí a la posición x le sumo la velocidad Cuál era la velocidad uno y uno por eso cada vez dice erá Perdón erá 400 pero cuando paso por aquí 400 es ig a 400 + 1 401 402 403 y así la pelota se va moviendo Bueno voy ahora a hacer que se detecte la de posición que colisione con el jugador lo escribo aquí colisión con el jugador y ahora es cuando empieza la diversión ahora es cuando empiezan los ifs me decis antes un If Pues ahora vamos a hacer ifs digo sí s que a ver realmente yo os voy a decir una cosa ten en cuenta que todo esto es lógica no es más que lógica hace falta que yo pregunte por la colisión cuando la pelota está aquí arriba no O sea cuando la pelota está ahí arriba es imposible que haya colisionado con el jugador por tanto voy a decir solo cuando la pelota Pos y es mayor que 700 es decir solo cuando la pelota esté aquí en el tramo final solo entonces pregúntate si está colisionando con el jugador Porque para qué voy a gastar recursos del programa preguntando la pelota si aquí arriba aquí donde estoy marcando ha colisionado con el jugador la pelota me dirá Pero cómo voy a colisionar si estoy muy lejos todavía vale Así que ahorro cálculo haciendo que no se lo pregunte Ahora si la posición de la pelota en y es mayor que 700 es de ya está cerca Entonces pregunto digo sí posición Perdón pelota post x la x de la pelota es igual no porque sería muy difícil acordaos que para ser igual tendría que ser que el ratón estuviese justo en el mismo píxel que la pelota no lo que hacíamos es si la pelota Pos x Es mayor que el qué pues que la posición del jugad Y dónde está la posición del jugador es temporal x recordáis que temporal x es la posición del jugador and dos ampers y voy a ponerte Otra condición y si pelota Cos x es menor que temporal x más 80 es lo que tenía de ancho mi jugador solo en ese caso solo en ese caso y no en cualquier otro caso Haz que la velocidad un momentín que no sé dónde estoy aquí solo en ese caso Haz que la pelota Bel y sea igual a menos pelota Bel y es decir solo en ese caso lo que hago es que la velocidad se invierta Mirad aquí pongo dos condiciones voy a ponerlo un poco más lejano la condición Es que la pelota sea mayor que temporal x que es la esquina izquierda y que la pelota sea menor que temporal x + 8 que es la esquina derecha es decir estoy haciendo un Rango de píxeles en ese caso por tanto pelota Bel y será igual a menos pelota Bel Y en lugar de sumar dos restará dos vamos a ver si funciona tengo yo nervios por ver si funciona esto guardo recargo bien Algún error ahy porque no se dibuja nada y si no se dibuja nada quiere decir que aquí dentro de estas líneas Hay algún error lo veis diréis no lo veo Yo tampoco vamos a verlo una manera de comprobar que esto es así es que si ahora comento ese código si ahora desactivo ese código el juego funciona luego ahí en ese código que he escrito Hay algún error vamos a ver primer error que la variable no exista pelota Pos Y sí que existe Así que parece que ese no es el error pelota B I es igual a menos pelota B I vamos a ver si es esto Aunque en principio no debería serlo si pelota Pos x es igual o mayor no ahí está el error guardo vamos a ver tenía un error ahí en el igual mayor problema es que el igual estaba separado puede que tenga otro error vamos a ver guardo recargo y parece que ahora sí Y a ver si tengo suerte si por lo que sea muevo la pelota al jugador pum ha rebotado demasiado pronto no pasa nada voy a volver a repetir si no pongo esto por aquí la pelota se cuela pum la pelota se cuela pero si pongo esto por aquí veréis como pum rebota Por qué ha rebotado antes pues por la sencilla razón a ver pum por la sencilla razón de que le he dicho cuando la pelota sea 700 tenía ahí eh margen ahí mogollón voy a p 750 para hacer que la pelota rebote justo contra la barra ahí lo tengo Pam se ha metido un poquito dentro de la barra lo habéis visto bueno pongo 740 pongo Ahí lo que sea En definitiva para detectar cuando la pelota rebota contra la barra Tengo un problema Uy justo lo habéis visto y es que rebota contra la barra bien pero es que no rebota ni contra la pared ni contra el techo ni contra Nada más por eso en el vídeo siguiente lo que voy a hacer es recordar como hice el otro día y lo voy a volver a hacer para que la pelota rebote también contra las dos paredes y contra el techo voy a calcular ahora la colisión con las paredes por tanto Mirad voy a dibujar código colisión con las paredes y digo otra vez If atención eh si pelota post x es menor que cer voy a decir menor que 10 va no menor que 10 sí o pelota post x Es mayor que voy a dejar 10 píxeles de margen atención eh es o uno u otro si te has pegado contra una pared o te has pegado contra la pared no pongáis and porque and es imposible de cumplir si te has pegado contra una pared y además te has pegado contra la otra quiere decir o que la pelota va a la velocidad de la luz o que es una pelota gigante vale por tanto voy a decir o por eso estoy poniendo o y digo pelota B x es igual a menos pelota Bel x y ahora digo colisión solución No colisión con el techo que estamos en un arceno y digo Pues mira es que realmente me lo puedo copiar de ahí copio y pego si pelota Pos y es menor que 10 pelota y es igual a menos pelota p y Hala vamos a ver si funciona voy a poner esto pantalla completa guardo recargo la pelota cae Mirad le voy a dar le voy a dar que le doy y ahora va a ignorar completamente los bloques pero si pega contra la pared rebota en el techo y me vuelve a llegar me vuelve a llegar me vuelve a llegar va un poco lenta ahora lo pondré más rápida y rebota veis ya tengo un arcano de momento no tengo el rebote con los bloques pero ya se está moviendo lo que voy a hacer ahora es que todo este refresco en lugar de producirse en 10 milisegundos se produzca en 0 milisegundos con lo cual lo que les estoy diciendo es ves todo lo rápido que puedas ves todo lo rápido que el ordenador te deje recargo Mirad va más rápido pero aún así va un poco lento para un arcano Bueno también es un arcano más adelante Ah otra cosa que puedo hacer ya sabéis que el arcano va a aumentar ando la velocidad con el tiempo verdad Y bueno pues lo que voy a hacer es lo siguiente atención voy a hacerlo muy bestia creo una nueva variable bar contador tiempo es igual a cer cada vez que pase por el bucle le digo contador tiempo más ahora qué hace contador tiempo no hace nada contador tiempo básicamente lo que hace simplemente es contar el tiempo pero yo le puedo poner un If que le diga mira acelero y le digo sí espera un segundito si contador tiempo Es mayor que un millón No sé 1 millón 1000 100000 lo que digáis voy a poner 100 pelota Bel x es igual a pelota Bel x por 1 punto No por dos voy a aumentar la velocidad por dos para que se note para que veáis el cambio y pelota b y es igual a pelota Y por 2 vamos a ejecutarlo y ahora resolvemos dudas recargo Mirad va a una velocidad a ver si notáis cuando empieza a ir al doble velocidad le he dicho que en 100000 o sea cuando he hecho 100000 pasos 100 100000 bucles la velocidad irá justo al doble voy a ponerle 1000 porque con 100000 parece que no se ve que tarda voy a poner 1000 guardo recargo a ver ahora pelota Ay vale lo habéis visto bien No pasa nada Qué ha pasado ahí por qué de repente ha entrado en el hiperespacio bien os lo digo yo es muy sencillo yo le he dicho que si el contador de tiempo es mayor que 1000 la posición Perdón la velocidad está por dos El problema es que si la velocidad era dos en contador 1000 se vuelve 4 pero en Contador 1001 se vuelve 8 en contador 1002 vale por tanto qué hago aquí simplemente decirle que contador Cómo es contador tiempo es igual a cer es decir Pon el cronómetro a cero vuelve a contar 1000 comprobamos ahora Mirad madre mía Esto va a ser muy difícil empiezo por ahí y ahora de repente veréis que la velocidad se vuelve se multiplica por dos lo habéis visto por dos bien vale pero yo sigo jugando y ahora de repente veréis que cuando le dé volverá a contar 1000 y la velocidad se ha vuelto a multiplicar por dos madre mía qué dificultad y ahora la velocidad es por dos y ahora ya no lo Pillo casi Bueno evidentemente he hecho una multiplicación por dos para que se note el efecto no sería tan salvaje MP multiplicaría la velocidad por 1.2 yo que sé En definitiva cada uno con su juego que ponga la dificultad que quiera lo que voy a hacer ahora es medir el rendimiento de esta aplicación para saber el número de milisegundos Exacto que tarda en generar cada bucle en generar cada repetición por eso dentro del escenario o mejor dicho fuera voy a hacer un d con el ID rendimiento y dentro el rendimiento sin mayúscula si es posible y dentro del rendimiento y dentro de javascript voy a escribir lo siguiente atención dónde lo escribo donde quiera porque esto como no depende del Canvas realmente lo voy a escribir por ejemplo ahí Mirad voy a poner cculo milisegundos desde utc el tiempo utc que es lo de el 1 de enero de 1970 y ahora como no me acuerdo de memoria lo que hago es sacar la schols saco javascript saco el objeto date y saco el complete date object reference Mira ya que estamos New date vale Aquí voy a copiar esto New newe Es que no quiero date quiero Vamos allá vale aquí B es igual a New date y ahora digo el número de milisegundos get time since Midnight January vale get Time y digo vamos a ver bar n de hecho lo podría copiar directamente no es vas es d y ahora digo ahora lo simplifico y ahora digo de aquel elemento que tiene el ID rendimiento le quiero poner en html el valor de n a ver un segund Inn recargo y aparece eso en pantalla es la cantidad de milisegundos que han pasado desde el día 1 de enero de 1970 qué he hecho aquí pues lo que he hecho aquí es primero crear una nueva fecha y luego decir que en la variable n de la fecha veis de la fecha cojo el método get Time sabéis Qué pasa que directamente en lugar de poner n Uy qué portazo podría haber puesto directamente aquí get Time y me hubiera ahorrado lo mismo veis Pongo aquí de date le cojo get Time y el resultado en pantalla es exactamente el mismo ahora a continuación lo que haremos es averiguar la diferencia entre dos tiempos para sacar los milisegundos que pasan en cada bucle ahora lo que voy a hacer para averiguar el rendimiento Mirad voy a hacer que la variable tiempo anterior es igual a d. get Time esto lo pongo aquí por cierto esto lo pongo aquí tiempo anterior es igual a b punto get time por tanto ahora digo bar tiempo actual es igual a get Time menos tiempo anterior y aquí pongo tiempo actual vamos a ver si funciona y ahora veremos el Por qué y ahora si recargo vale pone nota number de momento nota number tiempo anterior es de get Time claro es que tiempo anterior claro efectivamente Por eso tengo que declarar tiempo anterior bar tiempo anterior es igual cer aquí arriba pa tiempo anterior es igual a cero vamos a verlo ahora a ver si ahora lo coge bien fijaos ese número es el que me está dando y ese número que hay ahí abajo es la cantidad de milisegundos que están pasando entre un fotograma y otro hay veces que son Pues en torno a 67 Me está pareciendo bien en la pantalla 6 78 hay veces que llega hasta 15 16 milisegundos depende de lo que rinda Insisto que si ejecuto esto en un ordenador antiguo pondrá más milisegundos si lo ejecuto en un ordenador más potente pondrá menos milisegundos la cuestión es cómo lo he calculado cómo lo he calculado fijaos os puede parecer un poco raro pero Pongo aquí lo siguiente Mira atención tiempo actual es el tiempo de ahora y le digo el tiempo get Time es el tiempo actual menos tiempo anterior cuánto era tiempo anterior antes cero Así que tiempo actual menos 0 es igual a tiempo actual cierto ahora digo tiempo actual y digo tiempo anterior igual a d punto get Time Así que el tiempo anterior es igual a Ahora son las 1334 a las 133:35 le vuelvo a preguntar esto y digo tiempo actual es igual a get Time las 133:35 menos tiempo anterior 133:35 - 34 Cuánto ha pasado un minuto dime tiempo actual en html ese es el truco de al final del bucle porque esto Aquí acaba aquí tiempo anterior es igual a de Time es como diciendo coge el tiempo y recuérdalo para la siguiente vez que te pregunte y la siguiente vez te digo cuánto tiempo ha pasado desde la última vez que pregunté y ese es el valor vale ese es el rendimiento que nos está dando en milisegundos con respecto a veis ahí sabéis Qué pasa os voy a decer una cosita un pequeño truquet bien Yo tengo í un problema tengo muchos pero tengo uno grande y es que esto va tan rápido que si me dice Cuál es el rendimiento de tu aplicación yo diría no sé es Matrix Sabes porque corren tan rápido que parece Matrix Así que yo lo que puedo decir es Mira no me esto 1 veces cada segundo Esto me lo calculas Solo cuando a ver Solo cuando aceleres Por qué he metido esto dentro de ese bucle Porque si os fijáis Solo ejecuto este bucle una vez de cada 1 veces así que digo una vez de cada 1000 veces ejecútese velocidad ejecútalo fijaos que ahí me da Ah no me lo dice tengo que esperar 1000 y ahora dentro de 1000 qué pues 1000 unidades de tiempo Espera que se me ha perdido la bola veréis que en el mismo momento en el que vaya más rápido aquí abajo aparecerá el rendimiento la pelota veis ya parece algo Ah sí vale No pasa nada el primero es tiempo menos cer que es igual a tiempo el siguiente me dará el rendimiento no cuidado Claro tengo ahí un problema y es que solo me lo pregunta cada 1000 milisegundos o sea cada 1000 tal Bueno realmente es eso partido 1000 La respuesta es eso partido 1000 por tanto cada 8,5 milisegundos o 8,5 milisegundos es lo que tarda en refrescar cada vez la pantalla 8.5 ahora veréis que lo vuelve a calcular casi que mejor que me lo calcule cada 1000 8,6 así me hace un promedio porque habéis visto antes que a veces me decía 8 a veces me decía 14 Qué es 8 14 pu si lo pregunto cada 1000 seguro que me está haciendo un promedio veis Cómo va más rápido cada vez multiplicaba por 1.2 lo veis Pam lle un momento que ya va a ir muy deprisa es lo queene Uy se me lado y ahí permitidme y ya para acabar la sesión de hoy permitidme decirle ya que estamos Oye tú de dónde has salido no sé la pelota suicidado como acabáis de ver no sé por qué Y tú de dónde sales no se bueno rebota de alguna manera en ese punto bueno si le voy a decir ahora antes de dibujo la pelota voy decir pierdo el juego quiere decir que si pelota Pos y es mayor que 800 quiere decir que reinicio los valores y digo pelota Pos x es igual a 0 pelota Pos y es igual a 0 contador de tiempo es igual a 0 tiempo anterior esa he cortado no quería cortar quería copiar Aquí vamos a comprobarlo y esto quiere decir que si pierdo el juego si la pelota cae bien Algún error he cometido cuál error qué error he cometido el otro día cometí el mismo error no puedo volver a declarar una variable que ya existe puedo asignarle valor pero no volverla declarar guardo recargo vamos a comprobar que el juego funciona Mirad si atención si la pelota se cae vuelve a empezar lo veis si la pelota se cae vuelve a empezar si evidentemente le doy colisión pues e qué ha pasado ahí de alguna manera pelota Pos x de alguna manera no sabe que a vamos a verlo si pelota Pos x no es y qué fallo es la posición y de la pelota ha sido casualidad que funcionara a ver ahora pelota Pos y pasa de 800 se muere pelota Pos y no pasa de 800 sigue jugando dentro de la carpeta de javascript lo que voy a hacer es crearme un archivo nuevo un documento de texto llamado jquery ui es decir jquery ui html donde jquery ui la ui quiere decir user interface interfaz de usuario jquery ui es un framework que se basa en jquery que a su vez se basa en javascript para automatizar creación de elementos de interfaz de usuario de tal forma que yo cuando hago un botón ahora haremos una pequeña demo cuando hago un botón yo no tenga que decirle un botón ancho alto radio sombrita y todo eso sino que yo jqu ui le diga Quiero un botón y jqu ui me diga pues mira qué botón más bonito te he hecho para eso sirve básicamente para ser más productivos a la hora de programar interfaces de usuario Pero eso sí usar jqu ui quiere que descarguemos jquery ui diréis Pero si ya tengo jquery muy bien Vas muy bien chavalote pero necesitas también el jquery ui quiere decir que tengo que quitar jquery no jquery es el motor y jquery ui es la presencia por tanto necesitas las dos librerías De dónde saco jquery ui pues Mirad dos alternativas o bien entráis directamente en la web jquery.com RG perdón jquery.org y en el selector elegís aquí abajo en lugar de jquery Core elegís jquery ui estoy en jquery.org jquery o bien entráis directamente en la página web que es jqueryui.com yo prefiero entrar en jquery.org y luego desde ahí ya hacer clic donde toca veréis que el primer enlace es el enlace de descarga yo puedo o bien Descargar directamente el jqu ui o bien crearme una descarga personalizada realmente los dos iban al mismo sitio voy a hacer clic aquí arriba hago clic en descarga y atención un momentín porque ahora vamos a jugar se me preguntan dos cosas estoy en botón descarga en jquery.org he hecho clic en jquery y he hecho clic en Descargar se me dicen qué quieres que tenga a lo cual vosotros diréis y yo que sé Bueno claro efectivamente si no sabemos lo que debe tener se lo ponemos todo básicamente tenemos el núcleo tenemos los widgets tenemos los comportamientos de ratón tenemos comportamientos de posición y luego tenemos cosas como por ejemplo interacciones que sea drag que sea droppable que sea resizable widget efectos cada cosa de estas va a pesar por tanto al principio eh yo me lo bajaré todo Pero conforme pase el tiempo llegar un momento que diré bueno Yo es que para mis proyectos me he dado cuenta de que uso draga pero ni uso Drop ni uso resizable ni uso selectable ni uso nada de esto para qué me lo Quiero bajar y que ocupe memoria Pues para eso no lo descargo lo podría quitar y sobre todo lo que más eh divertido me parece es tema qué tema quieres usar por defecto se te propone el tema ui lightness el tema de interfaz de usuario Clara puedes trabajar con lightness con darkness con smoothness con Star redmond que es como Windows que es en fin un montón de temas de momento más adelante veréis que se pueden personalizar los temas de momento lo que vamos a hacer simplemente Es pulsar sobre Download Descargar atención Ah os dice Qué quieres la 1.8 o la 1.7 que es la antigua buen ya que estamos aprendiendo Vamos a aprender con la nueva la estable a día de hoy la 1.8.21 la semana que viene igual es la 22 el dentro de 3 meses igual es la 1.9 vale pero descargamos la última que haya hoy pincho Download Mirad se empieza a descargar y me lo bajo en la carpeta actual javascript está en zip y tiene que estar en zip Por qué Mirad atención guardo me voy a la carpeta y lo que voy a hacer es descargarlo en la carpeta no extraer aquí no eh extraer el jquery ui 1.8 custom ahí y atención porque así como cuando te descargas jquery se te descarga únicamente el archivo cuando te descargas jquery ui se te descarga el archivo y el javascript necesario y el css que necesita y se te descargan también ejemplos de desarrollo Así que mantenerlo todo ahí Es decir descargar esa carpeta javascrip descargar esa carpeta descomprimirla y dejar la carpeta descomprimida no saquéis nada de esa carpeta lo que voy a hacer ahora es demostrar el funcionamiento básico con una pequeña mini demostración de jquery ui y por eso voy a meter jquery ui dentro del editor está vacío yo creo que lo podréis comprobar y lo voy a abrir dentro de una dentro de un navegador Mirad lo veis pequeña comprobación si pongo aquí Hola ahí aparece Hola luego tengo lo mismo en los dos sitios bueno crear un archivo de ejemplo crear un archivo de referencia para jqu ui es prácticamente como cualquier proyecto que hayamos hecho hasta ahora porque creo un archivo html creo un archivo G creo un archivo Body y en el Head Si antes importaba dos scripts ahora importo uno Perdón al revés Si antes importaba eh un Script ahora importo dos miradme todos en la pantalla ahora voy a decir que entro dentro de la carpeta esta de aquí barra que entro dentro de javascript barra y que selecciono ese archivo lo habéis visto por qué Pues porque tengo este archivo Aquí jqu ui tengo que decirle entra dentro de esta carpeta entra dentro de la carpeta js coge ese archivo sí o no bien repito copio pego y ahora le digo que dent dentro de la carpeta jquery-ui 1.8.21 la veis aquí la tenéis lo que hecho es copiar y pegar dentro de la carpeta js y cojo el archivo jquery ui 1.8.21 en fin que no me complico que copio y pego y ya está y me hace falta una cosita más me hace falta una cosita más y es el link momentín a ver htmls link momentín y hao link ahora rel es igual a Style sheet porque voy a cargar un css externo y digo hrf lo que sea type text bar css y ya está dónde está ese css pues está en esta carpeta barra css barra ui lightness madre mía qué rollo ui lightness barra el nombre del archivo que estoy importando es decir qué tengo que hacer En definitiva pu lo que tengo que hacer En definitiva es Llamar a los tres archivos mínimos que me hacen falta para trabajar con jqu ui el primero es jquery que es la librería que lo mueve todo sin jquery no hay jquery ui el segundo es jquery ui ya tienes jquery pues ahora los elementos visuales y el tercero jquery ui no lo sabéis todavía pero yo os lo digo vosotros confiáis en mí y os lo demostraré que jquery ui necesita css pero no que se lo digáis vosotros ya lo trae él así que llamas al css que trae tu jquery ui de dónde lo sacado estaba el archivo zip lo que voy a hacer ahora es que la pelota reconozca la posición con respecto a cada uno de los ladrillos Mirad entonces en la función de inicio el problema de este juego Mirad atención el problema de este juego es que eh necesita una refactorización o una reestructuración porque eh tengo una función de inicio esta función de inicio lo contiene todo el juego y yo con los ladrillos Tengo un problema Y es que eh yo necesito que los ladrillos se declaren al principio pero no se vuelvan a declarar cada vez qué quiero decir con esto fijaos que cuando digo dibujo todos los rectángulos Yo realmente realizo dos operaciones que son primero dibujar los rectángulos y luego meter sus valores en una matriz mi problema en este caso que es un problema que veréis que es relativamente fácil de solucionar es que cada vez que se repite la función de inicio la visibilidad de los ladrillos se pone a uno luego ahí tengo un problema asegurado Y es que por mucho que yo realmente llegue a destruir un ladrillo cuando se vuelva a repetir la función de inicio su visibilidad volverá a ser uno así que lo que necesito es realmente subordinar esto lo que necesito es decirle al programa que ejecute una vez y una sola vez la propiedad de posición x y z Perdón x y visibilidad y luego que ejecute periódicamente la comprobación de si los ladrillos se rompen o no esto básicamente consiste en separar esta función de inicio en dos funciones una de inicio y otra de juego lo cual va a ser más sencillo de lo que os podéis pensar Mirad la pantalla tengo aquí la función de inicio de hecho si queréis incluso la voy a separar la voy a poner con sangría para que veáis exactamente cuánto ocupa Mirad la tenéis ahí en azul y ahora a continuación de la función de inicio lo que voy a hacer es una función una function llamada como queráis por ejemplo juego inicio son las condiciones iniciales y juego es el juego propiamente Así que paréntesis llaves Mirad tengo ahí una función vacía lo que he hecho es crear Aquí esta función llamada función juego Qué hace de momento esa función de momento esa función no hace nada por eso si ahora guardo voy a hacer una cosa voy a cerrar esto y lo que voy a hacer en este caso es crear la versión 6 de este juego y así no sobre escribimos la versión 5 y así veis el cambio que se hizo en esta versión seis cargo la versión 6is y Mirad lo que voy a hacer ahora atención Es simplemente esto os va a parecer raro Vaciar la función de inicio lo cual quiere decir cortar todo Su contenido veis inicio y juego y pegar todo Su contenido en juego y decirle que cuando se repita no se repita inicio sino que se repita juego es decir Mirad la función de inicio en lugar de bucle ella sola lo que va a hacer es hacer que bucle juego La que va a hacer un bucle es juego el problema principal ahora es que pero es un problema que ve es muy fácil de solucionar es que si yo ahora guardo y recargo sabéis qué pasa en la pantalla pues no pasa nada Y por qué no pasa nada aparte de que ha puesto el fondo Pero eso recordad que es css no es Por qué pasa nada Por qué no pasa nada miremos el código cuando el documento esté preparado arranca la función de inicio y la función de inicio Vale dice vale aquí estoy Qué pasa Qué quieres no le estamos diciendo nada a la función de inicio Es cierto que hemos creado a continuación una función llamada juego pero recordad que definir una función no quiere decir usarla quiere decir que la definimos y ahí se queda en la memoria ya sabemos se una función Cómo se llama una función Llamar una función es algo muy sencillo De hecho lo estamos haciendo constantemente Mirad si he creado una función juego lo que hago simplemente es decir juego paréntesis con esto le digo a inicio Oye ejecuta la función juego y javascript dirá Ah a ver quién es la función juego Mira tú eres la función juego pues vamos a ejecutar lo que haces vamos a verlo guardamos recargamos y veis como ahora el juego vuelve a funcionar básicamente yo qué he hecho lo que he hecho es decir cuando el documento esté preparado ejecuta la función de inicio y ejecuta la función de inicio y la función de inicio Qué dice ejecuta la función juego luego inicio salta hacia juego y luego juego si os fijáis aquí abajo recordáis lo he cambiado para decirle que en el set Time out ejecute juego y no inicio si hubieras llegado a juego queda en juego sigue repitiendo juego ahora lo que voy a hacer es porque recordemos que yo he creado esta función de inicio con la sencilla razón de e realizar dos declaraciones primero una Declaración inicial de cada ladrillo qué posición x qué posición y qué posición de visibilidad tiene y luego dibujar los ladrillos Así que Mirad voy a copiar esto Mirad de hecho me lo voy a cortar todo este dibujo los rectángulos atención lo voy a cortar y lo voy a pegar aquí en la función de inicio Qué hace esto Bueno pues esto lo que está haciendo básicamente es decirle primero Mira a ver cuántos ladrillos hay mételos en memoria recordáis que por eso hicimos una matriz para meterlos en memoria y luego si acaso cuando empiece el juego ya los dibujarás luego teniendo en cuenta esto no hace falta Mirad Poner este F Style voy a hacer una cosa atención dibujo todos los rectángulos voy a hacer esto he puesto Mirad tenéis que mirar el código de dibujo los rectángulos en el juego y el código de defino los rectángulos en la función de inicio es decir aquí dibujo los ladrillos desde el punto de vista de la memoria hasta aquí No he dibujado ningún ladrillo en pantalla sino que lo que hecho es crear una matriz que los mete en memoria y aquí abajo por fin los dibujo me falta un poco de código por supuesto lo que voy a hacer ahora es meter esto en un for y decir for u bar u es igual a 1 siempre que u sea menor que yo que sé que es 150 vamos a probar u más es decir voy a repetir esto 150 veces y le digo que Esto va a ser ladrillo post en x de u ladrillo Pos y de u Esto es lo que probablemente entenderéis menos pero ahora os lo voy a explicar primero vamos a comprobar que funciona guardo recargo y funciona y ahora voy a explicar qué he hecho aquí y por qué lo he hecho en este doble bucle for lo que hago es meter meto los ladrillos en la memoria como matrices os acordáis del ejercicio de la agenda pues lo que estoy haciendo es lo mismo de la agenda pero para los ladrillos ladrillo con el índice un equivale a una posición x ladrillo con el índice 2 equivale a otra posición x pero de momento aquí no los estoy dibujando simplemente los estoy metiendo en la memoria por qué Porque necesito meterlos en la memoria para que luego pueda colisionar para que el programa sepa dónde he dibujado cada ladrillo así que hasta ahora los he metido en la memoria como matrices y aquí abajo lo que hago es dibujar todos los rectángulos la cuestión es que Mirad si aquí lo que he hecho es crear eh una doble matriz y he dado un contador abajo ya no vuelve una doble matriz no un doble bucle for abajo ya no hace falta que vuelva a dibujar doble bucle for porque básicamente cada ladrillo ya tiene un contador Así que uso ese contador donde aquí pone contador aquí pone u para decir llama al ladrillo que tiene el índice uno como decir llama a la agenda a la primera entrada de la agenda y me das de la primera entrada de la agenda su posición en x y su posición y que es como decirle de la primera entrada de la agenda me dices el nombre y el teléfono ahora esto es un bcle for continuamos por el número dos de la segunda entrada de la agenda me dices el nombre y el teléfono de la tercera entrada de la agenda me dices el nombre y el teléfono y ahora cambiar agenda nombre y teléfono por ladrillo posición x posición y es decir tengo como una especie de agenda telefónica de ladrillos y cada ladrillo tiene tres propiedades de las cuales de momento estoy usando dos que es la posición en x y la posición y por eso lo que he hecho aquí Mirad por tanto es definir este dble doble bucle for que mete los ladrillos en memoria no los dibuja sino que el programa los tiene como digamos en la cabeza los tiene como en una agenda telefónica y aquí abajo digo Mira pues ahora te vas a repasar la agenda telefónica una a una me vas a sacar la posición de los ladrillos y los vas a dibujar en la pantalla y vosotros diréis y todo esto por qué lo hemos hecho pues lo hemos hecho por la sencilla razón de que lo que necesito es que el programa tenga en la memoria los ladrillos para que cuando la pelota se esté moviendo por la pantalla en cualquier momento le pueda preguntar a la pelota estás colisionando con la posición del ladrillo uno no estás colisionando con la posición del ladrillo dos no estás posicionando colisionado con la posición de ladrillo tres igual de vez en cuando me dice que sí Ahora veremos qué hace cuando me diga que sí pero En definitiva es que antes lo que había hecho únicamente era dibujar los ladrillos Entonces el problema de dibujar los ladrillos es que están dibujados y el programa se olvida de ellos y si se olvida de ellos no puedo preguntarle por la colisión Así que necesito que no se olvide de ellos necesito no solo dibujarlos sino que los tenga en memoria para poder preguntarle cuando la las coordenadas de la pelota son iguales que las coordenadas de un ladrillo técnicamente Aunque la declaración de las variables se puede hacer antes de la función de inicio alguna vez me ha dado problemas también te lo digo pero técnicamente la manera correcta sería declarar las variables declaro las variables eh No creo que no funcionará y ya sé por qué Mirad lo recargo vamos a verlo guardo y no funciona por una razón muy sencilla eh veréis Cuando yo declaro variables es que encima he metido el X debajo del todo y por eso para empezar es imposible que funcionara pero aún así no funciona bien lo que voy a hacer es lo siguiente los voy a declarar fuera por la siguiente razón cuando yo declaro una variable fuera de todas las funciones esa variable se llama una variable global y es visible en todas partes del programa cuando cu yo declaro una variable dentro de una función esa variable solo es visible dentro de una función en este caso tenemos una situación un poco rara Y es que tenemos una función que Llama a otra función Así que podríamos pensar que aunque esté en inicio está llamando a juego pero es que inicio es una función y juego es otra función por tanto En definitiva lo pongo fuera para que esas variables se conviertan en variables globales y no en variables locales de una función y puedan estar disponible da igual las veces que yo entre y salga de una función a otra ahora que ya tengo las variables y ahora que ya tengo los ladrillos en la memoria y ahora que ya he dibujado los ladrillos es cuando llego a no llego a la parte final pero empiezo a llegar a la parte final que es donde hago que la bola detecte la colisión con los ladrillos fijaos ahora mismo que la bola atraviesa y ahora digo lo siguiente atención Mirad me voy por aquí me Busco un hueco dibujo rectángulos Pues mira aquí a continuación voy a decir compruebo si la pelota colisiona con ladrillos y ahora vuelvo a decir Mirad for para cada uno de los ladrillos for bar F es igual a 1 siempre que F sea menor que 150 f+ más por qué F porque me ha dado por ahí es una variable que Acabo de crear lo que dice esta línea Es para cada uno de los ladrillos digo si voy a decir si la posición de la pelota es igual a la posición del ladrillo rebota vale Esto es lo que voy a decir cómo lo digo esto es lo difícil Mirad si post pelota x No creo que era pelota post x vamos a verlo vamos a ver la variable era pelota Pos x muy bien Hay que escribir las variables correctamente y ahora Espera que no me encuentro aquí pelota Pos x Es mayor que Cómo se llama el ladrillo post x pero no cualquier ladrillo sino el ladrillo F el ladrillo que esté mirando en estos momentos el ladrillo uno el ladrillo 2s todos los ladrillos si la posición es en x es mayor que la posición del ladrillo y pelota Pos x voy a hacer un poco de hueco es menor que ladrillo post x de f- 50 por qué Pero qué es esto que yo he escrito aquí ahora os lo voy a decir ahora os lo marco en la pantalla y además Es cierto que pelota Pos y es mayor que ladrillo Pos y de F y además Es cierto que pelota Pos y es menor que ladrillo Pos y de F - 20 Perdón + 20 es + 20 vamos a asegurarnos que aquí ponía no lo ponía siempre comento este error + 50 y además porque si esto no os hubiera parecido suficiente le digo que Y además que también sea cierto que ladrillo visibilidad de F sea igual a uno si todo eso es cierto recordáis los ifs con múltiples certezas ahora veis para qué sirven si todo eso es cierto quiere decir que la pelota ha rebotado contra el ladrillo y vosotros diréis En qué universo pone ahí que la pelota ha rebotado contra el ladrillo Pues yo os lo voy a decir Mirad la pantalla voy a dibujar y voy a hacer un ladrillo veis el ladrillo y ahora voy a hacer una pelota la pelota ha colisionado contra el ladrillo sí o no la pelota está dentro del ladrillo recordad que la pelota es el centro de la pelota y el ladrillo es esta posición os acordáis que el rectángulo crece desde la esquina bien yo le digo que si la posición recordad que esto es x y esto es y Epa lo he dibujado al revés y donde esto es cero y crece hacia abajo y hacia la derecha cierto yo os pregunto vamos a hacerle preguntas la posición del ladrillo Perdón la posición de la pelota es mayor que la posición del ladrillo es cierto parece que sí O sea Perdón la posición en x de la pelota es mayor que la posición en x del ladrillo parece que sí vamos a verlo porque esta es la proyección en x Esta es la proyección en x la proyección de la pelota es mayor Sí muy bien sigamos la posición de la pelota es menor que la posición del ladrillo más 50 vamos a verlo Esta es la proyección del ladrillo más 50 Esta es la posición de la pelota es cierto que es menor sí sigamos la posición la proyección n y del ladrillo Perdón la proyección NY de la pelota es mayor que la proyección y del ladrillo Sí veis este número es mayor que este sí o no y ahora la proyección de la pelota es menor que la proyección del ladrillo más 20 esto es 20 y esto es 50 luego fijaos que desde el punto de vista geométrico cuando es cierto todo eso quiere decir que la pelota está colisionando yo s que vosotros me diréis no pero es que lo has preparado claro lo has preparado para que de cierto vamos a volverlo a hacer mira tengo el ladrillo y ahora la pelota no está colisionando si queréis que esté por bajo me da igual que esté por abajo a la derecha arriba lejos cerca me da igual veis que no está colisionando vamos a preguntarle cosas al programa recordad que el ladrillo es esto y la pelota es esto la proyección en x si queréis os ahorramos la x porque la x está claro que da cierto la proyección en y del ladrillo es esta la proyección y del la pelota es esta es cierto que la pelota es mayor que la posición del ladrillo sí es cierto veis Esta coordenada es mayor que esta coordenada de aquí sí o no ahora bien el problema Está Es cierto que la pelota es menor que la posición del ladrillo más 20 No es cierto esta posición Es mayor que esa proyección luego quiere decir que si alguna de esas verdades no se cumplen la pelota no está tocando el ladrillo podéis comprobarlo hacer este gráfico en un papel haceros todas las posibilidades y Es que solo cuando la pelota está dentro del ladrillo es cuando todos todas las cosas que he puesto dan ciertas si la pelota está fuera del ladrillo al menos una de las cosas es falsa y recordad que poniendo and con que una de las cosas sea falsa todo el chorizo ya es falso y luego evidentemente lo que hecho es poner y que la visibilidad sea igual a uno para que cuando rompa un ladrillo la visibilidad ya no sea igual a un y desaparezca verdad bien Si eso es si la pelota está dentro del ladrillo lo que voy a hacer es decirle en el If dos cosas una pelota b y es igual a menos pelota Bel y lo que en castellano quiere decir vete por donde has venido es decir rebota y dos lo que voy a hacer es la No sí ladrillo visibilidad de F es igual a cer es decir ha tocado en el ladrillo pues la visibilidad del ladrillo ya no es uno ahora es cer0 que valale a decir que ya no es visible vamos a probar este código a ver qué pasa guardo recargo a ver si todo ha salido bien recargo bien algo escrito mal probablemente alguna frase se me ha ido pelota post x ladrillo post x pelota post x ladrillo post x DF F bar F = 1 vale pelota post x es menor que ladrillo post x de F + 50 pelota post y es mayor que ladrillo Pos y pelota Pos y es igual a ladril y que siempre cometo el mismo tipo de errores ladrillo Pos y ladrillo visibilidad es igual a 1 guardamos recargamos y vemos que ahora el juego funciona bien rebota la pelota y ahora veréis que cuando la pelota llega a un ladrillo se suerte placa rebota veis esto como rebota Claro rebota pero no desaparece la pelota lo veis O sea no desaparece perdón el ladrillo bien es muy sencillo básicamente internamente en la memoria del programa los ladrillos ya no tienen visibilidad pero fijaos que si voy a dibujar los ladrillos dibujo todos los rectángulos Yo no le he preguntado al ladrillo si es visible o no Yo le he dicho dibújalo Sí o sí tú dibújalo pues ahora digo vamos a ver aquí dentro si y Pongo aquí un código si ladrillo visibilidad de u es igual a un es decir si su visibilidad es un entonces dibuja el ladrillo si su visibilidad es cer porque la pelota lo ha tocado y la visibilidad es cero Entonces no lo dibujes guardamos recargamos vamos a comprobar Mirad atención Tico pego voy a pegar y Pam ladrillo desaparece Por qué Porque en la memoria del ordenador le he dicho que ese ladrillo visibilidad es igual a cero veis por tanto como ya tengo en funcionamiento un mínimo alcano ha sido importante ha sido difícil de programar Eso sí comparativamente con todo lo que hemos hecho Hasta ahora ha sido más difícil de programar que otras muchas cosas pero vemos En definitiva que lo que hemos hecho es que el programa recuerde en todo momento Cuál es la posición de cada ladrillo y si está activado o está desactivado es decir si la visibilidad es verdadera o es falsa y en base a eso calculamos la colisión y la visualización de cada uno de los ladrillos en este caso yo lo que he hecho es recurrir a una buena costumbre de programador que es que siempre que algo sea verdadero o falso uno equivale a verdadero y cero equivale a falso pero esa es una convención que yo he usado porque yo he querido la cuestión está en que la convención puede ser la que vosotros queráis Por ejemplo yo voy a decir que cada vez que cree una un ladrillo visibilidad en lugar de ser igual a un es igual a visible y pone esa palabra en el lenguaje que quieras Pon la palabra que quieras una palabra que tú eliges lo que hecho es que cada vez que define un ladrillo el ladrillo visibilidad tiene la propiedad visible evidentemente si ejecuto el programa no va funcionar los ladrillos por qué porque abajo dice cero o sea aquí dice visible y abajo dice uno y dice no sé qué es esto Vale ahora digo que si ladrillo visibilidad es igual a uno es igual a visible en ese caso vuelven a funcionar y ahora el problema es que si hago clic ahí veréis como no lo hace invisible lo veis de hecho ni siquiera rebota vale Por qué Porque ahora le digo si la pelota colisiona Eso quiere decir que el ladrillo visibilidad es igual a visible entonces rebotará y si no es que al ladrillo le he dado cer0 Dónde está cero ladrillo visibilidad es igual a invisible recargo y fijaos como ahora el arcano vuelve a funcionar pero he cambiado 0 y un por visible e invisible cámbialo cmbia visible e invisible por longaniza y chorizo por lo que quieras solo cuando un ladrillo sea longaniza Entonces que se vea y cuando sea chorizo que no se vea la cuestión es que el nombre de las variables lo decides tú Yo te recomiendo poner uno y cer porque uno y cer todos los programadores entienden que uno es verdadero y cer es falso pero que En definitiva esa parte específica no es más que una convención puedes poner lo que quieras otra voy a hacer otra versión de este proyecto es la versión la última era la 6 por tanto 6 7 y ahora Mirad me aseguro de haber cargado el siete tanto en el editor como en el navegador no sea que esté trabajando realmente con la versión se Bueno mira ahora lo que hago es en compruebo si la pelota colisiona con los ladrillos digo s la pelota post y es menor que los ladrillos estaban dibujados hasta 200 os acordáis donde y sea menor que 200 si la posición de la pelota en y es menor que 200 solo en ese caso Ponte a hacer preguntas voy a poner 220 si queréis para darle un poquito más de margen pero si la pelota la posición de la pelota es mayor lo que quiere decir si la pelota está desde aquí hasta aquí No te pongas a hacer preguntas guardo recargo y ahora si todo va bien veréis como la pelota ralentizará menos todavía ralentizará porque hay todavía demasiadas preguntas pero veréis que conforme va avanzando el juego no se quedará tan enganchado como se quedaba hasta ahora Bien voy a hacer otra pequeña refactorización veréis me pasa lo mismo si os fijáis a ver el juego tiene dos zonas sensibles tiene la zona de los ladrillos y la zona del jugador Así que lo que hago es lo siguiente Dónde está la colisión con el jugador pierdo el juego dibujo la pelota dibujo el rectángulo momento que voy a dibujar al jugador colisión con el jugador Ahí está mira ahí sí que estaba hecho si la posición de la pelota en y es mayor que 740 entonces Mira a ver si estás colisionando lo veis ahí o sea no te pongas a mirar si estás colisionando con el jugador si la pelota está arriba del todo es imposible que estés colisionando con el jugador vale si todo va bien Ahora el juego deberá ir no ni más rápido ni más lento sino regular es decir deberá ir igual siempre de rápido que de lento pero todavía no irá más regular pero todavía no porque hay alguna cosa que todavía podemos arreglar en este juego Vamos a darle un poco de aleatoriedad a este juego y para eso voy a hacer la versión 8 el juego copio pego hago versión 8 y esa versión 8 la meto tanto en el editor como en el navegador lo primero que voy a hacer Mirad atención Es que la bola siempre rebota porque es que en este juego no he puesto trigonometría la bola siempre rebota con el mismo ángulo siempre es má un o men1 bueno una manera de ponerlo aleatorio es lo siguiente mira cuando la bola rebota en el jugador compruebo la posición del jugador colisión con el jugador Mirad Cuál es la ventaja Clara de ir comentando el código Así luego sabes qué hace cada trozo si la posición de la pelota en y es mayor a 740 Y si la posición Es mayor que temporal x y menor que temporal x + 80 le digo la velocidad de la pelota es menos la velocidad de la pelota más ma punto Random por lo que queráis realmente por ejemplo voy a poner -0.5 a ver qué pasa vamos a verlo esto lo comprimo guardo recargo y probamos y ahora veréis que poniendo eso cada vez que la pelota rebota veis como Ahora tiene un ángulo diferente Ahora es más horizontal e Perdón pero yo no quería hacer esto he cambiado veis la posición y pero no yo lo que quería realmente era decirle que la posición y se quede como estaba que era menos velocidad y ahora pelota Bel x es igual a pelota B x más Ahora sí má punto Random por no 0.5 para que vaya Perdón -0.5 no -1 men1 no 0.5 para que vaya de -0.5 a más 0.5 vamos a verlo a ver si llego ahí veis un ángulo diferente Parece que va más deprisa vaya vamos a verlo creo que le ha dado el mismo ángulo venga a ver otra vez un momentín venga veis Cómo ha rebotado con ángulo diferente se ha visto ahora vamos a verlo otra vez ahora no ha cambiado mucho el ángulo Pero a medida que vayáis jugando veis como ahora está más inclinado a medida que vayáis jugando lo que va a hacer es ir variando poco a poco el ángulo otra cosa aleatoria que se puede hacer es ahora está un poco más girado otra cosa aleatoria que se puede hacer es que cuando pierdo el juego pelota post x la posición de la pelota sea 400 más ma pun Random -0.5 y todo esto multiplicado por 100 por ejemplo por 200 si lo probamos comprobaremos como al perder el juego vo perder el juego cada vez va a aparecer en un sitio veis ahora ha aparecido más hacia la izquierda vaya Es que no sé por qué le he dado tenía que dar sido la costumbre ha sido el instinto vamos a verlo ahora veis que cada vez aparece en un sitio le he puesto qué le he puesto no me acuerdo qué le he puesto 200 le puedo poner 600 para que se note más el efecto me dejo esto aquí y Mirad ahora como la variación va a ser mayor vamos a verlo veis ahora incluso le puedo decir que en lugar de salir hacia la derecha salga hacia la izquierda vamos a ver voy a crear una variable en todo lo que sea juegos la aleatoriedad se usa por donde queráis bar dirección inicial Que de momento no le voy a dar ningún valor veis bar dirección inicial y digo vamos a ver aquí está pierdo el juego exención aquí pelota Bel x Sí ahora voy si ma round punto de ma Random es decir realizo un número aleatorio y lo redondeo recordad que el redondeo del número aleatorio podía ir a uno o a cero es igual a uno entonces velocidad de la pelota es igual a un si no els en ese caso velocidad de la pelota en x será igual a -1 lo cual teóricamente hará que en el 50% de los casos la pelota salga a la derecha y el otro 50 que salga hacia la izquierda comprobamos voy a dejar que caiga veis ahí Bueno voy a dejar que caiga izquierda luego saldrá derecha vaya ahora ha de rebotar igual ha sido inconsciente que he dejado ahí el bloque y ahora Pam se cae vamos a ver dónde sale ahora izquierda voy a eliminarlo izquierda derecha iba a decir este es el momento en el que bajo a la calle y juego al número cero en la lotería porque como no era uno era cero evidentemente por solía hacer la izquierda Así que En definitiva todo lo que sea azar en juegos siempre suele Añadir emoción al juego voy a hacer una nueva versión del juego y en este caso va ser la versión nu en este caso voy a digamos diseñar una pantalla y para diseñar una pantalla de arcano voy a hacer lo siguiente Mirad voy a ayudarme voy a tener una pequeña ayudita de un programa de diseño de imágenes lo que voy a hacer es el proceso arcaico de eh crear pantallas personalizadas más adelante os enseñaré el proceso nuevo que es tratando directamente con la imagen pero ese proceso todavía no lo podemos ver voy a meter esto aquí bien supongamos que yo en lugar de dibujar un empedrado Quiero dibujar digamos un corazón vale quiero hacer que los ladrillos dibujen un corazón así qué hago vamos a ver voy a hacer una nueva imagen de no sé 400 por 400 y hago un corazón casi que me tendría que buscar un corazón lo tengo por aquí voy a abrir in escape un segundo que me dibujo un corazón en la pantalla y empiezo contar cuadros creo que aquí había un corazón dibujado formas Ah no era aquí era en scribus bien No pasa nada Mira aquí voy a hacer así hago así y tengo un corazón y Ahora quiero dibujar ese arcano ese corazon en arcano lo pinto de color rojo me lo limito en cuanto a página contenido y lo exporto mapa de bits lo exporto muy bajo 20 exporto lo voy a examinar en escritorio en Master web actual arcano versión 9 y corazón exporto y Mirad atención me lo abro en el gim se ha abierto por ahí abajo aunque no parezca esto fuera en alguna parte debe estar escritorio Master actual aroid 9 corazón vale Es que le había dado a cancelar parece y tengo aquí un corazón en píxeles voy a crear una capa nueva esto son cosas que estaremos viendo más adelante que retoque fotográfico hago así la capa de fondo la subo no me deja subirla Así que la duplico tampoco me deja subirla Así que a las bravas combino hacia abajo y ahora con color brillo contr para generar ahí al final como veis un corazón A partir de ahí lo que voy a hacer es usar esta parrilla que me dibuja un corazón para averiguar dónde tengo que poner cada uno de los ladrillos bien me voy a dejar el momento ese corazón a un lado y voy a retocar el código evidentemente ya no tengo una ya no tengo una parrilla de ladrillos Así que voy a hacer lo siguiente voy a eliminar el doble bucle for y voy a crear variables variable ladrillo anchura es igual a 50 creo recordar y bar ladrillo altura es igual a 50 Perdón a 20 la altura del ladrillo creo recordar quea de 20 no bien pues lo que voy a hacer a continuación es lo siguiente ladrillo visibilidad meto los ladrillos como matrices realmente no hace falta Sí vale vamos a ver ladrillo Pos x1 será Igual yo podría decirle el primer ladillo por ejemplo dónde aparecerá damos 1 dos 3 cu sí o no así que veis ahí cuatro en cuatro píxeles aparece pues le digo por ladrillo anchura el I es igual a 1 por ladrillo altura sigo es el primer ladrillo el segundo ladrillo cuento Este es un proceso manual Insisto que más adelante se puede automatizar pero no os he enseñado todavía las herramientas para automatizarlo más adelante veréis que con php puedo una imagen detectar los píxeles que tiene esa imagen Y decirle automáticamente tienes píxel ladrillo no tienes píxel no ladrillo vale pero de momento manual un dos 3 4 cco pues Hala cinco cco por altura otra vez seis por altura y esto lo que ha hecho si todo ha ido bien y ahora ejecuto el juego estamos la versión nu creo recordar es que Mirad tengo un ladrillo raro Ah claro es que le he dicho por favor le he dicho índice uno todo el rato índice dos índice tres vamos a verlo Mirad ya tenemos ahí los tres de un ladrillo ojo que eran 60 y 30 porque había que dejar un poco de margen veis he convertido vamos a ver dónde está la imagen Aquí está he convertido los tres primeros píxeles en ladrillos sigamos insisto este proceso manual Más adelante se puede automatizar esto es la posición 3 4 5 6 7 y 8 creo Así que copio tres en dos esto es cuatro esto incluso Sí podría hacer un bucle for creo que es lo que vais a decir a ver un segundo bien efectivamente ahí he borrado un corchete y digo estos tres esto es cuatro y así con cada uno de los ladrillos esto sería cinco un de estos cinco y cinco seis se es seis y va hasta ocho creo recordar 7 y va hasta ocho cuerdo recargo Y si ahora vemos en la pantalla bien algo tengo mal dos por ladrillo altura algo me he comido Aquí también me he comido ese corchete guardo recargo e se me ha ido veis lo tengo casi era ocho vamos a verlo Ah parece que los primeros no han funcionado 1 2 3 4 cuatro empezaba en tres este debería haber aparecido tres Ah claro es que este es cuatro bien 5 6 y cco 6 7 8 nu y nu guardamos recargamos y ahora sí veis esa esas dos hileras de píxeles esta y esta de aquí son las que acabo de dibujar creando una matriz de manera manual la manera antigua de hecho la manera la que está programada el Mario Bros y todos los juegos de los 80 es esta es creando una matriz donde un diseñador gráfico le pasa la plantilla a un programador y el programador empezaba a crear una matriz des podía tirar dos meses poniendo números la manera moderna pero que todavía noos ha enseñado el código suficiente como para hacerla es hacer un mapa en una imagen megapixel donde por ejemplo verde equivale a suelo azul equivale a cielo amarillo equivale a dibuja y un malo naranja equivale ahí dibuj una tubería y Cojo un programa que procese la imagen píxel a píxel y que píxel a píxel diciendo es verde suelo es azul no pongo nada porque es el cielo es naranja dibujo una tubería es amarillo pongo un malo es decir hacer esto mismo pero de manera porque en cuanto me veáis tocando imagen me diréis no hay una manera automatizada de que un programa coja Pixel a Pixel le pregunte el y lo ponga Sí pero todavía no lo hemos visto