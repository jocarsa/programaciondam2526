vale ahora a continuación tengo que reutilizar el código vamos a verlo tengo que reutilizar el código de los ultrasonidos entonces le digo long duración y long distancia ahora comento el código dijo que el pin mode ya no puede ser el 7 porque lo estoy utilizando con lo cual va a ser el 8 y el 9 y ahora a continuación dentro del loop voy a aplicar el loop que construimos para la señal entonces copio este código y lo pegó aquí era a continuación lo comentaré para que recordemos qué es lo que hacía y ahora viene lo más interesante y es lo siguiente por cierto que el serial hay que arrancarlo ahora aquí yo lo que tengo es una distancia si tengo una distancia lo que voy a hacer es tomar decisiones en base a esa distancia es decir si la distancia por ejemplo es d menos de 10 centímetros quiere decir que el robot va a colisionar y si el robot va a colisionar lo que debo hacer es que pare antes de colisionar vamos a comentar el código vamos a hacer que todo quede claro cargo una librería de servos creó una instancia del cero una variable para la duración del sonido ahora creo una variable para almacenar la distancia calculada hacia el objeto objetivo colisionador específico para los ultrasonidos específico que el puerto 1 va a ser de salida para los ultrasonidos especificó que el puerto 2 va a ser de entrada lo cual me lleva a que voy a hacer una variable que es pin ultra salida que es igual a hemos dicho antes qué el 7 y el 8 y el 9 in pink ultra entrada que es igual al 9 defino cuál va a ser el pin de salida para los ultrasonidos y lo mismo voy a hacer aquí el pin de entrada entonces este es salida este es entrada voy a los comentarios los voy a lanzar un poquito más para allá y de esa forma mientras vamos desarrollando el código va quedando perfectamente claro qué es lo que hacemos con cada línea luego acuérdate qué podemos hacer negar comentarios para decir primero cargo librerías algo así luego declaró variables globales y así un poco queda claro que es lo que estamos haciendo en cada parte del programa ahora ejecutó lo que se inicia una sola vez y luego aquí abajo ahora entro en el bucle de esa forma no es solo el código sino que tenemos como un manual de instrucciones que línea a línea nos va diciendo qué es lo que queremos hacer en cada una de las líneas esto me sobra y ahora el motor derecho lo asocio al puerto 6 el motor izquierdo lo asocio al puerto siempre ahora para empezar pongo a funcionar esto creo que era y 90 era parada pongo el motor en parada esto es lo mismo y abro la comunicación con el puerto serie para sacar los ultrasonidos por lo menos para la fase inicial ahora esto fuera bueno esto realmente esto es el comentario de esta línea esto fuera espera 2 microsegundos emite una señal este comentario realmente pertenece a esta línea esto es igual a 0 1 apagó la señal cuando vamos poniendo los comentarios que dejamos preparados pero los ponemos en horizontal ahora analizamos el pulso de entrada porque si emite una señal lo que hacemos es luego recibir la señal el número 8 es el pin ultra salida y el pin ultra entrada es el que aquí aparece como 7 que realmente es el 9 ahora acudo alinear los comentarios es importante para luego entenderlos correctamente calculó la distancia según la velocidad del sonido el tono esto fuera esto no vale para nada esto nada esto es un ejercicio anterior imprimo la distancia por el puerto serie y me espero 50 mil 150 50 milisegundos antes de antes del siguiente bucle vale con esto como podemos ver tenemos ya el programa de hecho fíjate que ni siquiera me hace falta hacer scroll sino que el programa está todo incluido aquí dentro y podemos entender perfecta y correctamente voy a empezar ferraro podemos entender perfectamente qué es lo que hace cada línea del programa como en arduino es normal que los proyectos que hacemos los robots que hacemos o lo que sea que hacemos se compliquen es importante que comentemos que documentamos correctamente el código para que en un momento quede limpio es decir sin necesidad de saber mucho de programar yo creo que abrimos cualquier otro código y luego abrimos este y este es un código como que nos da la bienvenida es un código como que lo vemos y decimos mira no sé programar pero sólo con que lea lo que hay aquí a la derecha voy a saber qué es lo que está haciendo este programa mientras que otros programas que los abres ibex directamente esto de la izquierda y dices pues yo que sé que hará esto vale pues es importante que cuando hagas algo pues lo intentes documentar lo máximo posible bien dicho esto guardo