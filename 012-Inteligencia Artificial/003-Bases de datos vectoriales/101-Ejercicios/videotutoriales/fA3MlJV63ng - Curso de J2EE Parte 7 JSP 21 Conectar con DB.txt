voy a copiar y pegar un trozo de código en la pantalla que no va a funcionar porque me hace falta instalar el conector de jdbc es decir lleva data veis conector pero de momento vamos a ir copiando y pegando el código a falta de ese conector que ahora veréis que se descarga de una manera muy sencilla desde mysql y el código dice lo siguiente vamos a ver me voy a jsp creo que lo tenía por aquí y el código es este de aquí vamos a ver en primer lugar aquí arriba me voy a copiar un par de importaciones al igual que ocurre en java puedo realizar importaciones cuando voy a necesitar las librerías correspondientes mucho cuidado que estas etiquetas no se abren exactamente igual que las que hemos visto hasta ahora además de poner menor qué porcentaje se pone menor qué porcentaje arroba a continuación se pone page indicando que lo que estáis creando ahí es una directiva no es realmente código jsp es una directiva para especificar cómo se va a comportar el resto del código jsp y a partir de ahí pones una importación exactamente igual que la ponéis en java es decir import aquí ponéis un igual en hama no hace falta y aquello que queréis importar así que en este caso quiero importar java punto sql punto todo punto asterisco y quiero importar también java punto in and out punto asterisco sólo quiere importar todo de la librería sql y lo quiero importar todo el de la librería i esto que estoy haciendo ahora es seguro pero no es demasiado eficiente es decir aunque solo vaya a hacer una conexión y solo voy a hacer una petición estoy importando todo lo del dow de la librería sql lo cual conlleva a que voy a gastar memoria cuanta no mucha vale por tanto ahora para ciertas primeras pruebas vamos a importarlo todo y en el momento en el que ya tengamos un nivel avanzado y sepamos perfectamente trabajar con conexiones a bases de datos desde jsp pues ya elegiremos que no lo quiero todo quiero solo aquello que voy a usar pero de momento es más seguro que lo importamos todo lo mismo ocurre con in and out como al final yo quiero trabajar con la librería para meter contenido y sacar contenido por pantalla necesito también esta librería y a continuación el código que voy a copiar y pegar hace lo siguiente el código es este de aquí así de repente lo voy a pegar dentro del body lo voy a sangrar para que lo veáis bien y a continuación lo voy a comentar así que ya podéis empezar a copiar dejadme que quité unos cuantos espacios en blanco y vamos a visualizar un poco que hace exactamente este código lo primero que podemos ver por supuesto no se os olvide la etiqueta de apertura y la etiqueta de cierre lo primero que vemos que vamos a ver es que la petición a la base de datos se realiza a través de una estructura try catch es decir no podemos realizar una petición directamente sino que tenemos que meter la petición dentro de un try y en un momento dado se hace falta capturar una excepción es decir capturar un error lo primero que hacemos es declarar una variable de tipo string llamada conexión url como se llame es lo de menos ya continuación ponemos la fórmula de conexión la fórmula de conexión tiene las siguientes partes en primer lugar jdbc donde jdbc es java data veis conexión a la base de datos conexión a la base de datos a que base de datos pues nos estamos conectando a mysql no os olvidéis de los dos puntos que hay después de jdbc y después de mysql a continuación y ponemos la siguiente fórmula en primer lugar localhost o localhost es el servidor a continuación el puerto no es obligatorio pero es muy recomendable así que el puerto por defecto para mysql es el 33 06 y por último después de una barra ponemos el nombre de la base de datos en este caso prueba pero evidentemente nosotros estamos trabajando con la base de datos agenda no prueba a continuación específico una variable llamada conexión del tipo de datos conexión y la inicial hizo a vacío es decir la creo pero digo de momento no tienes nada aquí tenemos una línea donde nos va a dar un error nos dice de la clase que tiene el nombre como punto mysql punto jdbc punto driver quiero hacer una nueva instancia quiero instancia esa clase esta es la línea que va a fallar porque no he importado todavía el conector de mysql para java pero tranquilos porque ahora luego lo importaremos y ahora digo realizó una conexión y digo como una conexión con la conexión url el usuario y la contraseña así que usuario agenda y password agenda en definitiva lo que sea que haya dispuesto como usuario y como contraseña de la base de datos creo otra variable llamada conexión con es una variable de conexión pongo una variable de statement de tipo statement es decir le digo algo a la base de datos primero me conecto a la base de datos luego le digo algo a la base de datos y luego la base de datos me devuelve un resultado estas tres líneas son un poco raras pero es que son así establezco una conexión preparo una petición y preparo una devolución prepara una devolución y quiere decir que si yo le pido algo a la base de datos espero que me devuelva algo pues lo que le voy a pedir se lo voy a decir en el statement lo que me va a devolver me lo va a devolver en el race el set y todo ello está enmarcado dentro de la conexión dentro del proceso de conexión así que ahora le digo statement es igual a connection create statement y ahora en executive le digo select all from que una petición muy sencilla pues si antes tenía la tabla de contactos pues voy a decir selecto all from contactos