Vale ahora a continuación eh Me voy a venir por aquí me voy a abrir Sandy Brown después de sadel Brown Sandy Brown Vale y dentro de la base de datos voy a crear aquí Perdón aquí vale voy a crear una nueva base de datos a la que voy a llamar Sandy Brown voy a hacerlo ahora con comandos directamente vale Ya que en este caso pues ya hemos visto antes el tema de comandos a Palo Seco Vale ahora lo puedo hacer directamente así bien he creado base de datos Sandy Brown con usuario Sandy Brown contraseña Sandy Brown un momentín que me dan por teléfono a ver Hola Sí hola me oyes a ver un momento a ver momentín Hola Serena te he oído o sea yo a ti sí que te oigo con lo cual Pues ahora luego al final de la tarde cuando acabe las clases bajo y cuando podáis porfa Mirad a ver si podéis llamar alguien que le pegue un vistazo a ese teléfono porque debe tener algún cable medio suelto que a veces funciona y a veces no vale Pero a ver si alguien puede reparar este terminal Vale entonces vamos a ver eh una de las cosas que os quiero enseñar en este ejercicio es la existencia de motores de base de datos Así que para ello voy a hacer lo siguiente voy a crear una tabla nueva y la voy a llamar npcs c son personajes no jugadores vale a continuación número de columnas voy a decir que 4 Pues venga va crear cuatro bien identificador entero 255 autoincremental vale Y voy a poner X e Y debo deciros que de hecho si os fijáis por aquí abajo hay para parámetros de almacenar punto o se almacenar geometría almacenar punto en dos dimensiones almacenar interpolación entre puntos polígonos multipuntos vale de momento lo voy a hacer manualmente voy a hacer de hecho int no voy a hacer float vale float queé requiere vamos a ver bueno 255 y float 255 a ver qué me dice vale Y el no sé el nombre bien es un parchar y 255 vamos a ver si no me da error el tema del decimal guardar eh columna erróneo Okay coma 10 y coma 10 vale le doy a guardar Okay ahora así O sea 255 posiciones enteras y 10 decimales Que de momento ya está bastante bien e no pero Espera espera no pero no quería hacer esto no quería hacer esto no quería hacer esto porque en motor de la tabla aquí el motor por defecto es himno de B que está bien por no decir fenomenal para la inmensa mayoría de cosas pero hay un motor muy curioso que se llama Memory que lo que hace es que guarda la información en lugar de en el disco duro la guarda en la memoria Así que yo vengo por aquí le doy a continuar y esto quiere decir que todo aquello que yo guarde en el servidor se va a guardar en la memoria RAM por lo tanto Mientras que el servidor esté encendido si el servidor se apaga o se reinicia toda la memoria que haya en la tabla npc se perderá por supuesto puedo utilizar un evento como los que hemos visto antes para periódica una vez cada minuto o una vez cada hora pues eh hacer una copia de seguridad vale por ejemplo ahora a continuación quiero hacer una aplicación que guarde la información dentro de la tabla npcs vamos a ver vamos a ver cómo lo podemos hacer porque tengo algunos proyectos por ejemplo el proyecto que hice este fin de semana pues tiene que ver con npcs pero tampoco quiero de repente meter mis líneas de código y que digáis eso De dónde ha salido sino que lo que quiero es que se entienda el resultado en pantalla no vamos a ver a la vez A ver qué estoy pensando vamos a ver claro De hecho otra cosa que os voy a decir es que en la columna npcs tengo la x y la y me gustaría tamb también tener la dirección sería un float de 10,10 vale Y luego también me gustaría tener la velocidad entonces velocidad que es un float de también 10,10 okay Vale vamos a hacer lo siguiente ahora estructura exportar personalizado solo la estructura exportar no lo quiero ver dónde Pon ver salida de texto ahí vale quiero Esto me vengo por aquí arranco uno nuevo y digo from this eh Table structure do create a python + Open ostia python + opencv app voy a quitar el touchpad vale to create npcs on Memory Give them initial information create a set and then move them around based on their Location rotation Speed etc vale hay que tener en cuenta una cosa y es que la tabla en este caso está pensada en Memory y cuando digo que está pensada en Memory lo que quiero decir es que vamos a hacer un montón de consultas a la base de datos pero esas consultas se van a ejecutar contra la memoria RAM no contra el disco duro lo cual quiere decir que no es que mysql se convierta en un no Djs pero casi porque el problema de php mysql era que estaba en disco Pero podemos hacer que mysql esté en memoria de hecho ahora luego crearé un evento como os digo para que previendo una caída de la luz que eso con no dejs también pasaría pues vaya guardando copias de seguridad de la tabla de npcs bien me voy aquí ahí del me voy a crear un nuevo archivo me lo voy a guardar en el archivo Sandy Brown vale Sandy Brown python ejecuto vamos a echarle un vistazo OK Pero dónde está la conexión con la base de datos Okay a ver vale pero Yes Okay B Place all that information real Time on a database Sandy Brown user Sandy Brown password Sandy Brown on mysql database Y entonces el objetivo que el objetivo de este ejercicio es que veáis que no solo mysql tiene herramientas gu para realizar aplicaciones de tipo empresarial sino que vamos a ver sino que también tiene herramientas que nos pueden servir para otros contextos vamos a ver vale npc Ya lo tengo vale el conector ya lo debo tener y ahora me conecto a la base de datos Okay ejecuto Vale qué pasa vale voy a hacer una cosa como me propone este código que yo creo que es el que tengo pero vale voy a eliminar espérate que si se ha quedado frito es que sí que estaba creando algo okay out of Range Val Ah okay ostras vamos a ver Mira voy a ir poniendo esto Okay vale vamos a ver sql Sandy Brown sql algo pasa vamos a ver eh sudo Service restart mysql server Hola my sql no sud service mysql server restart fantástico vamos a ver ahora sí Okay Sandy Brown Mira directamente Sandy Brown Vale npc ahora venga se había quedado frito Eliminar Vale ahora sí Ahora a ver vamos a ver create table npc vale dato de python Okay Vale ahora nos dice esto sql ya se ha quedado ofto de nuevo Sandy Brown npc sql vale vamos a ejecutar Ahora sí bien y si ahora entro aquí dentro Pues nos fijaremos que recargar no sé si lo veis pero todos y cada uno de los npcs pues tienen su propia vale su propia posición y esto sigue funcionando en tiempo real veremos que el uso del sistema no estará muy disparado por la sencilla razón de que pues eh estamos trabajando todo el rato en la memoria RAM vale una vez que trabajamos esto a partir de aquí lo que voy a hacer Es que voy a hacer algo ambicioso vale Cuando digo que voy a hacer algo ambicioso eh lo que voy a hacer Es que voy a recuperar un proyecto que hice el verano pasado os lo voy a enseñar vamos a parar aquí y vamos a meterle bases de datos el proyecto es el siguiente en primer lugar os lo enseño en instagram vamos a ver vale Y No mi cuenta vale el verano pasado hice un proyecto a ver este vale hice un proyecto que tenía que ver con la simulación de eh de multitudes digamos vale como una especie de pequeño mattrix donde la gente pues va a dormir va a trabajar va a descansar y todo eso dime por favor que lo tengo en github espero que sí vale Entonces vamos a ver Esto es claro hace 31 semanas el 22 de agosto dime por favor que lo metí en github si no lo haremos mañana pero bueno Me gustaría hacerlo hoy vamos a ver next claro Ahora aquí hay un huevín Serena Dime No mucho no no Alejandro de pila ha suspendido las cinco asignaturas mías de segundo con lo cual no puedo hacer las prácticas en este periodo si a prueba en junio las hará el siguiente no está controlado dicho creo que pasaba algo sí sí correcto vale n que pasaba lo que pasa es que luego lo quité que luego me dijiste que no lo quitara porque antes hay que avisar a la gestoría por el tema de seguros y todo eso pero nada está controlado vale vamos a ver octubre septiembre python vida artificial Yo creo que es esto traducción no El caso es que sí pero Class comida Class hogar no A ver no 1 de agosto no python simulación Esto sí que es lo correcto vale vamos a por ello os lo voy a enseñar está abierto el repositorio Eh quiero decir que lo podéis Descargar cuando queráis es público como casi todo lo que tengo bien python simulación vale vamos a abrirlo en primer lugar a ver emails no Esto está abriéndose a ver que habrá otro idle y vale python simulación html y python simulación vale Y ahora la cuestión es porque hay un B servidor cliente dibujo no polígono habitaciones A ver no me suen buen que fuera esto vamos a ver 56 un momentín Ok vale Ahí está subiendo okay pero ahora vale Okay perfecto estadísticas de agentes el reloj Vale y los agentes un poco pequeños Pero bueno vale Y ahí no lo veréis pero los agentes Pues están empezando a mover a ver más más ya pero más y no dentro de esa bueno se han ido todos a dormir Creo vale están cada uno en sus camas y son las 2 de la mañana de un domingo Así que ahora cuando lleguen las 8 de la mañana pues se despertarán Esta es una aplicación que ahora mismo no está guardando nada no está guardando datos y por tanto es una aplicación interactiva pero que en un momento dado pues se puede beneficiar enormemente de un Guardado de datos bueno son las cerca de las 4 de la mañana y ahora veréis que en cuanto llegue las 8 de la mañana pues se despertarán y se irán a tomar el desayuno y luego se irán a trabajar vamos a ver momento Mientras tanto vale Line numbers Ok no lleva mucho guardar okay estoy asegurándome agent positions vale Esto sí que guarda a ver un momento que lleguen las 8 de la mañana y ahí lo tenemos vale Y ahora no sé si lo veis pero se despiertan y se van a la cocina a desayunar y cuando acaban de desayunar pues tienen una hora para hacerlo mucho tiempo pero bueno y asearse y todo eso pues ahora en cuanto lleguen las 9 pues se van a trabajar vale están todos en sus casas y tal vale Y ahora cuando llegan las 9 pues se van del edificio y se van a trabajar ahora lo veréis y las 9 vale a trabajar buscan todo su trabajo y se van esas lías naranjas que veis Ah no se van al parque por qué se van al parque no sé por qué se Ah Porque es domingo el domingo es festivo vale Ok vamos a ver un momentín voy a parar vale vamos a 007 habitaciones no a ver servidor cliente no servidor y cliente no hace falta en este caso sprit try except no ciudad no esto era otra cosa ciudad es otra cosa completamente diferente vale Okay ascensores guardar path finding cambio de planta plantas 3D no vale vamos a partir de este Ciudad fuera esto técnicamente fuera esto momento fuera e Me he quedado sin nada esto fuera a ver voy a hacer una cosa Esto también fuera voy a cerrar todos los pythons que tengo Y empezamos de cero Okay venga aquí por cierto en python simulación vamos a verlo Hola Dónde estás Está abriendo cierro un momento por aquí cierro por aquí esto luego ahora vale en python simulación debe haber aquí un archivo el dibujo a ver No aquí está casas no Ah pues mira casas sí casas planta un Ok edificio condonado nada esto es edificio by Chart Okay perfecto vale lo que quiero ahora es editar ese archivo y quiero hacer lo siguiente A ver primero Ok o un this Script creates a virtual Little Town with virtual people Town map currently each person occupies a Pixel Wi and height so Take loaded png map and for simul Times higher Pixel Now Will corespond to a 3 por TR Pixel grid update all calculations including a Star and show it on a big screen it seems that it is displaying bueno no no con 3 por 3 será suficiente vale Vamos allá y esto voy a guardar Pues bueno con el prefijo de modificación vamos a ponerlo en marcha y ahora le añadimos base de datos Porque como ya os digo todo esto está muy Guay todo esto es muy interesante pero no se está guardando nada cuando la simulación para pues no queda registro de nada vamos a ver Okay el algoritmo asterisco vale a Star es un algoritmo conocido y cuando digo conocido quiero decir Que obviamente no me lo he inventado yo que sirve para en lo que en videojuegos o simulaciones 3D se llama el path finding es decir encontrar el camino más corto entre el punto a y el punto B teniendo en cuenta que puede haber obstáculos por el medio vale lo digo porque si buscáis el algoritmo a Star que se escribe en la pantalla como a asterisco veréis que no es un algoritmo inventado por mí obviamente sino que es un mecanismo Pues que es clásico en videojuegos encuentra como os digo el camino más corto en una regia rectangular entre el punto a y el punto b y con un algoritmo de búsqueda que es computacionalmente barato relativamente Vale pues eh vamos a ver aquí Cómo estamos Line numbers Uy te quedan cinco respuestas de o1 no me extraña vale 351 399 Vale ahora me Pasaré al modelo light y f5 vamos a verlo vale simulación en tiempo real okay Y esto es distribución de agentes reloj digital estadísticas vamos a esperar un poco no pasa nada a que arranque en este caso pues al hacer la rejilla de 3 por3 pues automáticamente la imagen está pasando a ser nueve veces más grande con lo cual pues me empieza a valer vamos a ver eh Cómo estamos de rendimiento Pues bueno pues ahí estamos a ver si me he pasado ah eh vamos a ver vamos a hacer una cosa como en este caso python hay que decirlo es un poco lento Ah no voy a el anterior y con el mini Translate this application to html + js + Canvas y como es una aplicación que computacionalmente puede ser un poco intensiva pues vamos a pasarla a javascript vamos a parar la ejecución vale le he quitado de momento el 3 por TR porque el 3 por3 sospecho que lo está dejando frito porque claro son más cálculos de recorrido que debe hacer y como os digo la intención voy a hacar por aquí python eh Sí la escalamos No quiero escalarla a ver espera un segundo y vale simulation tú html + js + Canvas vale Okay bien qué me das Esto vale entonces heit me voy a Sandy Brown ya que estaba en Sandy Brown me voy a Index html vale me cojo Esto me lo pego aquí Esto me coge las casas así que me voy a casas me voy a Sandy Brown Vale y vamos a probarlo entonces local Host jocars Sandy Brown Ok y no quiero móvil vale Y esto de momento Está frito vale un error relacionado con Okay y la función asar nos vamos a la función a Star ahora luego la sacamos a otro archivo probamos elar vale for code please ok Ay y dale at update mira ahora Vale pues vamos a probar ch gpt Okay está pensando ahora okay de momento Okay Vale veo que va muy petado más que nada por el tema de los path findings entonces tengo que invertir un poco de tiempo en hacer que vaya más rápido una forma de hacerlo de esto que os voy a hablar ahora pues osé más profundamente en segundo curso son los workers es una forma en javascript de trabajar el multinúcleo ahora mismo los 20 agentes que hay 20 de creo que debe haber más están trabajando sobre el un solo procesador vale Lo cual quiere decir que habrá un procesador que irá petado puedo hacer lo siguiente a ver guardar más fuera todo guardado Vale ahora aquí hay un parámetro que será el número de elementos número de ges 1000 voy a poner 100 recargo Ok Vale ahora veréis que va más rápido ahora también lo que voy a hacer es pues editar un poquito vale simulation Canvas with 353 H 177 por qué me pones esto Canvas container tiene un Flex simulation Canvas tío Ah porque está en un Flex placa Ahora sí vale Y ahora hacemos así y ahí lo veréis mejor vale recordad que aquí qué hora es vale Están todos durmiendo voy a hacer que la simulación ocurra lo más rápido posible esto que estáis viendo Es que de vez en cuando se le va tamear es literal no es de broma con lo cual van al servicio mean y vuelven creo que tenían 5 minutos para mear y os prometo que no me estoy quedando con vosotros quiero decir luego veréis el código y podéis ver que lo que os estoy diciendo es real Vale ahora se levantan a trabajar no se levantan a desayunar perdón y ahora con continuación como os decía es domingo se van al parque Ahí es donde se queda frito en el path finding vale vamos a ver cosas vamos a ver vale casas png Okay Now uno remove Flex on container do rearrange ui to give importance to map on browser full with tres use workers so that each npc uses es for processing esto no va a ser tan fácil pero vamos a probarlo y asar for example y ya está vamos a probarlo bueno y podría haber dicho que me actualice con 100 agentes Pero vale como os digo todo esto nos plantea un problema muy interesante y es que ya os digo que o sea toda esta vida artificial A qué casa pertenece cada individuo en qué momento del día está Qué ha hecho todo se pierde cuando el programa se reinicia es una pena vale mira ahora esto que es que están pasando por el parque no que se al parque mm hay una cosa que no me está cuadrando están un poco fritos no esto no me está cuadrando las no Ah mira Okay vale espera Qué día es Sunday Y por qué están yendo a trabajar Ah no O Esto no es trabajo no esto es trabajo vamos a ver si no en todo caso no os preocupéis porque tampoco tengo 100% seguro que este sea el archivo correcto con lo cual si no lo preparo y lo traigo en la clase de mañana y así pues en la clase de mañana nos metemos directamente con este archivo Vamos a darle un par de oportunidades más vamos a ver vale ejecutamos Quiero quiero 100 ejecutamos errores nada invalid syntax sí os Digo vamos a hacer eso voy a prepararlo para mañana Y entonces lo que haré es eso lo que haré es traer el código un poco más limpio y preparado para guardar en base de datos y por tanto estaremos desarrollando este ejercicio que tendrá que ver pues con uso de base de datos pero no específicamente para aplicaciones relacionadas con aplicaciones empresariales sino con otro tipo de aplicaciones pues más multimedia Vale pues nada lo dejamos aquí por hoy continuamos con este ejercicio mañana por la tarde y nada y haremos eso vale lo que haremos es aplicar bases de datos pero para guardar información de carácter más multimedia Vale pues no