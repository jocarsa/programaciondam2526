en la clase de hoy en bases de datos a ver yo creo que la clase os va a gustar desde el punto de vista de que el ritmo va a ser suave no vamos a hacer una clase tan tecnológica sino una clase más teórica y sobre todo vamos a empezar a Ah espera un momentín vale Sí Espera que este código no está bien vamos a empezar a hacer algo similar a lo que haremos en el examen de final de primer trimestre de bases de datos bien así que os voy a decir que a mí pues no me gusta especialmente el fútbol vale pero editor de texto pero yo os voy a decir lo siguiente supongamos que yo quiero hacer una aplicación informática que Andrés tenga que ver con el tema de fichajes de jugadores de pu de fútbol Entonces yo lo primero que tengo que hacer es pensar en cuál es el modelo de datos que yo quiero para esa aplicación es decir Qué entidades intervienen dentro de ese modelo de aplicación yo no sé mucho de fútbol pero yo digo Mira se me ocurre que hay una primera entidad llamada jugadores y se me ocurre que hay una segunda entidad llamada equipos lo que pasa es que claro Cómo se enlaza un jugador es una persona física vale con un equipo pues mediante un contrato que se llama el fichaje Vale entonces Yo vengo por aquí y digo parece que eh debería haber una entidad intermedia que incluso no solo me diga a qué equipo pertenece ese jugador sino desde qué fecha Hasta qué fecha ese jugador pertenece a ese equipo vale bien con lo cual una vez que yo de momento ahora veremos si metemos más entidades vale yo de momento tengo esas tres entidades en pantalla y Insisto que Esto va a ser muy similar al tipo de examen que os vais a encontrar a final de trimestre voy a empezar a desarrollar un poco lo que sería el modelo de datos es decir qué guardaría en esos datos Qué necesito yo guardar si estamos hablando de una persona física Pues el nombre y los apellidos como hay muchos jugadores internacionales no voy a poner apellido uno y apellido dos porque hay jugadores que solo tienen uno hay jugadores que tienen cinco apellidos vale pongo apellidos y ya está siguiente qué me interesa de un jugador es decir tú por ejemplo sabes el correo electrónico de un jugador No pues no parece que vaya a ser relevante para una aplicación de fichajes de fútbol pero dentro de lo poco que sé creo recordar que la fecha de nacimiento de un jugador es importante es decir la edad no vas a guardar la edad porque si tú guardas la edad hoy la edad puede cambiar mañana pero si tú guardas la fecha de nacimiento eso no va a cambiar vale Yo pregunto eh Porque es que no entiendo de fútbol Okay Vale fecha de nacimiento Yo vengo por aquí y digo Bueno esto tiene pinta de que va a ser un barar eso tiene pinta de que va a ser otro varchar y eso tiene pinta de que va a ser un date no digo nada pero lo digo todo en cuanto a que siempre vamos a tener un ID vale un ID que va a ser clave primaria entera autto incremental Lo de siempre vale Yo pregunto para hacer una aplicación que gestiona jugadores de fútbol se necesita algo más en el jugador Qué es el dorsal no verás el número de espalda si acaso Será algo que lo pondremos en el fichaje pero digo en jugadores datos personales altura peso eso importa o quiero decir cuando tú entras en la aplicación te sale o no O tiene algún uso o el país vale venga muy bien entonces digo país de nacimiento claro país bien eso es muy interesante vale porque lo de país es un caso que se da en muchas ocasiones en bases de datos donde técnicamente eh Cuando por ejemplo los nombres pueden ser prácticamente ilimitados porque tú creías que se V todos los nombres de personas y de repente aparecen nuevos nombres vale pero los países son los que son con lo cual yo puedo crear una tabla de países que tendrá un ID y tendrá como mínimo el nombre de país con lo cual qué ocurre Pues que país de nacimiento empiezo a ver que va a ser una foreign key a la tabla países es decir empezamos a crear entidades Y empezamos a previsualizar cuáles van a ser sus relaciones continuación vamos a ir desarrollando a continuación tengo el concepto de fichaje voy a desarrollar primero equipo porque no tiene sentido que desarrolle fichaje si antes no desarrollado un equipo Porque entonces a qué ficho el jugador vale equipo Qué información guardaría yo en equipo Espera que espera Dónde está el chat aquí ahí y por qué el chat lo tengo flotante Ah ostias porque estoy en pero qu Y ahora cómo ahora sí vale perfecto equipos qué guardo del equipo hbre Sí pero vamos a ver el nombre del equipo vale en la liga en la que juega pero claro eso quiere decir que hay un número x de ligas quio decir cuántas hay Ah sí Ah yo creía que había dos o tres vale Ah okay Vale pues entonces Yo vengo por aquí y creo una entidad llamada ligas que tiene un ID y tiene el nombre de la liga qué más puede tener una liga no no porque el equipo tiene la liga por tanto sacando la relación vale eh el número de equipos dice Agustín pero creo que esto es el mismo que estáis comentando que es o sea cuántos equipos forman parte de esa liga vale Okay perfecto eh una pregunta A mí me suena algo de divisiones eso tiene que ver con la liga o no vale Cuántas hay Ah vale Okay bien entonces yo vendría por aquí y diría división sí escucha vale en España vamos a hacer empezar en España Ah cómo no pero Ah vale Bueno vamos a hacer un programa para España Entonces no hay concepto de Liga vale pero sí que hay concepto de división Oye y no me sua lo de segunda B segunda c no sé pregunto no lo digo por hacer un modelo de datos que luego recoja toda la información posible por qué dices ahí ya porque hay muchas muchos subdivisiones o qué Cuántas sí Ah vale Okay pues vamos a ver un momentín Pero esto es liga o división vale entonces me cargo esto división el nombre de la división y ya está vale Okay con lo cual la división A qué afecta es decir un equipo juega en una división pregunto no juega en dos divisiones vale Okay entonces en el equipo tengo división que es una foreign key a División vale a divisiones digamos Okay divisiones a divisiones vale Okay y ahora bueno en el equipo Perdón algo más importante que guardar aparte del nombre del equipo no Nada igual no sé pregunto la ciudad a la que pertenece el equipo no sé o no sé vale Okay bien y ahora el fichaje digo yo que el fichaje tendrá por una parte el jugador que será un foreign key a jugadores en el fichaje se asocia jugador con equipo vale con lo cual será equipo fk a equipos y pregunto un fichaje tiene una fecha de inicio y una fecha de final es un contrato correcto Vale entonces fecha de inicio y fecha de final Okay Vale eh bien pues vamos a empezar a poner por aquí cositas nombre del país será umbar charar de hecho ahora os contaré que se pueden sacar listas de países de internet evidentemente no vamos a reinventar la rueda se pueden importar en mysql y ya está vale Y si no se le puede pedir a chat gpt también sí Ah muy bien vale Sí sí O sea si un fichaje tiene una cantidad de dinero sí por tanto dinero o coste cómo se llama eso cuantía no sé vale ya vale hombre algún nombre debe tener Pero bueno yo que sé ya pero eso debe tener un nombre quiero decir cuando alguien le paga 5 millones eso tiene que tener un nombre seguro sabes y más a nivel legal y todo eso Pero bueno pongo dinero y ya está Vale esto que acabas de hacer tú es lo que va a pasar durante toda la clase de hoy Y es que diseñamos un modelo de datos pero Cuanto más lo vayamos pensando diremos ostia Espera que también hace falta el campo no sé qué vale Pero ahora lo vamos a ir viendo eh nombre de país vale esto es un marchar equipos esto es un marchar todo lo que sea fk va a ser un entero por eso no lo estoy poniendo dinero pues bueno técnicamente sería un decimal vale sería un entero si no lleva céntimos de euro y sería un decimal si lleva céntimos vale jugador es un entero fk equipo es un entero porque es un fk fecha de inicio es un date y fecha de final es un date vale e Ah valor del el fichaje es dice Agustín vale perfecto valor del fichaje voy a poner valor y ya está Vale perfecto Uy nosotros tenemos aquí ahora mismo un modelo de datos escrito en un bloc de notas como podría estar apuntado a boli en un papel Así es como empieza cualquier base de datos vale empieza hablando dialogando de qué necesito o qué no necesito el segundo paso Cuando tenemos esto es implementarlo en una base de datos y el tercer paso es empezar a introducir datos para comprobar si esto funciona para comprobar si el modelo de datos funciona y si no funciona se arregla y si no funciona se añade o se quita lo que sea necesario vale tened claro siempre que mi objetivo nunca va a ser que diseñé una base de datos bien a la primera sino que la diseñé y la toquéis y la retoques todo lo que sea necesario para que al final funcione bien Así que voy a guardarme esto dentro de aquí dentro de dam dentro de primero dentro de bases de datos dentro de bases de datos relacionales a ver vamos a ver consultas voy a poner aquí no tratamiento de datos va a ser que no aquí ni de coña vale voy a hacer una nueva carpeta llamada preparación examen y aquí voy a poner una nueva carpeta llamada ejercicio 1 fútbol vale Y aquí voy a poner 001 modelo dedatos txt bien una cosa que podría hacer vale no lo hagáis es meterlo esto a chat gpt y decirle Hazme los sqls para meterlo Vale pero no lo hagáis porque Mirad yo me vengo por aquí y digo países vale vamos a ver venimos aquí no esto es tame Sí vale a me voy a local Host voy a hacer una base de datos nueva entonces me voy a ir en vuestro caso evidentemente entraría en php My admin y con vuestro php my admin ahí arriba tendríais un botón de hacer nueva base de datos vale en mi caso no tengo Ese botón lo voy a hacer manualmente desde aquí sudo mysql Root vale Y voy a decir que create database Cómo llamamos a esto fútbol fichajes liga torneo ya Espérate claro a todo esto claro espérate o sea hemos tenido en cuenta los jugadores y los equipos pero no los partidos madre de Dios cómo hacemos una aplicación si no hay partidos qu aburrido Vale ahora ampliamos el modelo de datos bien entonces voy a decirle create database voy a llamarlo fúbol y ya está Vale create database fúbol Voy a apuntarlo por aquí editor no t y crear tabla pun sql vale create Table fúbol vale a ver un momentín Esto está rascando a ver aquí qué ha pasado Le faltan Ah 5000 segundos esto ya es otra cosa Vale Okay venga 5000 segundos aún así es tiempo pero vale Okay Ok venga vamos a probar vale una vez que le digo create fútbol OK ahora a continuación para esto sí que habéis visto alguna vez que uso chat gpt es mysql create user football with password footb and Grant all privileges to football database Vale entonces ahora 003 crear usuario sql okay Y entonces creo usuario fútbol le doy permisos a la base de datos fútbol y flush vale Así que creo usuario fútbol le doy permisos todos a la base de datos fútbol y flush privileges eso quiere decir que teóricamente en php My admin puedo ya entrar con fútbol y fútbol vale Y ya tengo esto por aquí bien una vez que ya tengo esto por aquí ahora a continuación lo que voy a hacer Es que voy a empezar a crear tablas según el modelo de datos Así que para empezar vamos a empezar creando vamos a ver 004 crear tabla sql Perdón crear tabla de países punto sql y digo eh nombre de tabla países quiero identificador entero 255 clave primaria autoincremental y el nombre del país marchar previsualiza pongo el código vale Y ya está esto luego lo bajaré Okay vale guardo y ahora a continuación lo que quiero hacer es insertar eh datos dentro de esta base de datos claro yo ahora a continuación lo que voy a hacer Mirad es que eh voy a preguntar lista de países del Mundo anexo países Okay no lo quiero en una lista de copiar y pegar no O sea Esto está Guay pero no listado de países y esto no lo puedo copiar y pegar no está en folios eh Cuántos países hay en el mundo lista bueno Esto es otra cosa fantástico entonces Mirad atención yo hago así me voy a libre Office estoy arrancando libre Office le doy a pegar Ok pego una lista de países y atención miradme si yo vengo por aquí identificador nombre y me voy a guardar esto os dais cuenta de que la hoja de cálculo tiene la misma estructura que la tabla como la clave primaria es numérica autoincremental la dejo vacía pero la tengo que poner en el documento y ahora me guardo esto en el escritorio como países pun csv tiene que ser csv me la guardo y ahora en php My admin me voy a importar importante que solo puedo importar un documento si tiene la misma estructura que la tabla donde lo estoy importando si no dar a error me voy a seleccionar me voy a escritorio me voy a dónde está me voy a países cruzo los dedos redoble de tambor Y si todo ha ido bien no ha ido bien vale Eh incorrect integer value ya pero le he puesto autoincremental Ah claro a ver importo y a ver si me deja indicar países indicar debería dejarme indicar que la primera fila vale la primera fila contiene los nombres de campo como no me deja voy a eliminar la primera fila pero mantengo la columna guardo vuelvo a insertar países vale vuelvo a insertar Afganistán identificador Row ya pero escúchame Mira sabes que te digo me cargo el campo identificador me cargo la columna lo importo veis que acabo de importar 195 países en mysql y ahora a continuación vuelvo a crear la columna identificador 255 clave primaria autoincremental y ya está y ahora tengo no sé cuántos países con su clave primaria autoincremental pues ya está bien siguiente Vamos a continuar en el modelo de datos vamos a ver tenemos jugadores así que me voy a crear una nueva tabla se llama jugadores y tiene identificador clave primaria autoincremental nombre es un marchar apellidos es un marchar fecha de nacimiento es un date y país de nacimiento es una clave por tanto es int 255 guardo no prev visualizo sql y ahora vengo por aquí 005 crear tabla de jugadores qué es lo que hicimos el otro día a ver quién se acuerda para crear relaciones reales entre las tablas esto debe llamarse de hecho países gu bajo nombre pero bueno qué es lo que hicimos el otro día para crear relaciones entre las tablas alguien se acuerda Vale pues lo que hicimos Es que en la estructura os acordáis de los cordel itos vale cuerde citas de colores Pues en la estructura vamos a decirle que queremos agregar relaciones entonces relación países a jugadores la columna países nombre se enlaza con la tabla países columna identificador Y esto es 006 restricción de países a jugadores atención ejecuto y ahora en jugador Mirad atención yo voy a insertar un nuevo jugador y digo nombre a quillas o sea nombre no O sea Ah eso Iker apellido Casillas fecha de nacimiento metela aquí me da 2004 como poco chicos 2003 es joven el casillas vale joven es joven acaba de nacer ahora así que le doy a mostrar valores foráneos y le digo de qué país A qué país pertenece De qué país ha nacido España Vale y hago clic España 59 le doy a continuar he insertado un jugador Mirad y a continuación si me pongo si pongo el ratón encima de la casilla países nombre veo que sale España con lo cual digo esto empieza a funcionar muy poquito a poquito pero empieza a funcionar si queréis si os hace ilusión a mí no me hace mucha pero Vale Nos vamos a fútbol nos vamos a diseñador y observamos que jugadores tienen una relación con países Vale y visualmente digo Ok esto empieza a estar enlazado bien Vamos a continuar y en el modelo de datos a continuación tenemos las divisiones vale Así que voy a crear una nueva tabla la llamo divisiones identificador entero longitud clave primaria autoincremental Vale y el nombre de la división y previsualizar sql Vale y 007 eh divisiones vale Okay ahora decidme qué divisiones hay vamos a insertar contadme divisiones no sé primera Ah vale primera momento espera vale 008 insertar divisiones vale eh primera Ok segunda qué más Ah vale primera federación Okay y segunda federación vale Okay muy bien entonces me cojo estos tres inserts ejecuto y ya tenemos ahí en divisiones las divisiones vale Vamos a continuar tenemos equipos vale con lo cual nueva tabla equipos identificador entero 255 clave primaria autoincremental vale nombre es un marchar y eh divisiones punto nombre gu bajo nombre es un entero va a ser una clave primaria entonces la clave foránea Perdona entonces 009 crear tabla equipos vale Y claro eh debo crear una relación entonces divisiones a equipos divisiones identificador 010 relación de divisiones a equipos Okay Vale eh bien Vamos a ver cómo van las relaciones no esto Okay tengo divisiones que tienen relación con equipos tengo jugadores que tienen relación con países pero ahora mismo no están vinculados entre sí vale con lo cual Algo vamos a tener que hacer para que se vinculen vamos a ver el qué vamos a ver ahora seguimos implantando el modelo de datos tenemos divisiones tenemos equipos vale Y tenemos fichajes Okay aquí parece que es donde se va a resolver el tema así que me vengo aquí nueva tabla fichajes identificador clave entera primaria autoincremental Vale y e vamos a ver Ah valor es un campo decimal tiene eh Pues 10,2 o sea 10 dígitos enteros un jugador puede cobrar hasta 99 millones de euros no voy a poner más 15 dígitos enteros y dos decimales vale eh equipo gu bajo nombre es una clave foránea jugador Perdona esto es jugador punto nombre equipo gu baj nombre es una clave foránea y fecha inicio es un date y fecha final es un date vale esto es 011 crear tabla fichajes y ahora veis que Mirad atención si yo me voy a fútbol y me voy a diseñador pues veo que fichajes está por ahí volando en la nada y no hay una relación real con el resto de Campos hay una relación sugerida pero no real pero yo ahora me voy a fichajes me voy a estructura me voy a vista de relaciones y digo eh Espera que te lo digo aquí y fichaje o jugador a fichaje columna jugador nombre tabla jugadores identificador eh cuidado es jugadores un momento jugador es y equos Vale pues jugador es y equipos Vale ahora sí estructura vista de relaciones Ok jugadores a fichaje columna jugadores identificador 012 relación entre jugadores y fichajes Vale y eh equipos a fichajes equipos identificador previsualiza 013 relación entre equipos y fichajes vale cierro y guardo si ahora me voy de nuevo al diseñador pues ahora sí esto ya empieza a cobrar mucho sentido en cuanto a que aquí en cuanto a que un fichaje tiene equipos y equipos tienen divisiones y un fichaje tiene jugadores y jugadores tienen país de nacimiento vale me guardo esta página como distribución un vale Y así siempre que quiera venir pues el programa me va a recordar la distribución que me había dejado bien vale pues vamos a poner esto a prueba a ver si funciona en jugadores esto de Iker Casillas no me ha molado vamos a poner un jugador eh Oye identificador Esto no es clave primaria qué ha pasado aquí Ah sí que lo es Qué susto vale eh inventados el nombre de un Nano alguien desconocido nuevo jugador de fútbol eso no es un actor a ver Marcos Pereira Es que yo ese nombre lo he oído No lo sé Espera que te lo digo no actor bailarín pero ya pero no lo conozco El caso es que me suena ahora que este tío lo he visto en alguna parte bueno en fin lo que sea vale Marcus Pereira muy bien Ahora a continuación yo os digo ya tenemos divisiones vale Ya os digo cread un equipo que sea rollo de barrio sabes O sea no hace falta sea Real Madrid un equipo más de pueblo Bueno pero es existe no un equipo nuevo de pueblo de dónde sois de mislata Vale pues en mislata hay dos equipos pues crear un tercero Supongo creo que no mislata pero es que mislata c suena que hay a y b o sea es que no hay a y b hay dos está la unión y está no sé qué algo que tenga más caché que mislata c o sea es que eso ya existe creo eh chicos mislata eh Ya está club de fútbol ya está Vale A qué división pertenece Mirad vale Ahí ya empiezan a aparecer las divisiones Qué hay Qué me contáis qué segunda división de sin federación confederación sin vale Okay continúo y vale inserto equipo 014 inserto equipo Okay muy bien y ahora a continuación vamos a hacer un fichaje porque tenemos un equipo que tiene una división Y tenemos un jugador que tiene un país de nacimiento Pero en ningún momento está enlazado que este jugador jueg en mislata Así que vamos a hacer un fichaje inserto un fichaje Por cuánto ficha este jugador 10 millones Ay perdón tic tic tic vale Quién es Marcos dónde ficha en el mislata cuándo ficha hoy hasta el año que viene Sí así te lo digo o sea mislata Ahí estamos vale continúo me guardo esto 015 inserto un fichaje y tengo correctamente un fichaje insertado es decir comprobamos y cómo lo hemos comprobado pues lo hemos comprobado en cuanto a que al insertar me aparecen todos los campos correctos de Dime el jugador y Dime el nombre y dime la fecha vale esta aplicación empieza a funcionar ya tendríamos la primera parte de la aplicación desarrollada pero es una aplicación un poco aburrida vale porque los jugadores han fichado por los equipos y ahora qué hacemos con esto Vale pues Ahora tal y como hemos comentado antes en principio pensamos que habrían partidos jornadas hay diferencia entre partido y jornada Ok vale o sea una jornada rollo un sábado y en un sábado vale o sea pregunto no se puede jugar cualquier día o sea hay una serie de jornadas marcadas o qué vale Ok entonces la liene por lo que entiendo vale es el mismo calendario para primera para segunda para no vale Ok Muy bien entonces hay jornadas que tiene un ID y qué y tiene una fecha que es un date y tiene la jornada A qué pertenece a División Vale entonces división que es un foreign key vale que es una clave for tened en cuenta que esto que estoy haciendo yo ahora mismo es lo que vosotros haréis en el futuro cuando le tengáis que diseñar una base de datos a un cliente del cual no entendáis cómo funciona su negocio es decir le tenéis que ir preguntando cosas para con sus respuestas ir diseñando el modelo de datos vale Y entonces luego He venido a entender que eh dentro de jornadas hay partidos Vale entonces partidos entiendo que hay un equipo uno y un equipo dos porque según he hablado y nunca he llegado a entender con mi hija resulta que no es lo mismo 30 que 03 se ve que hay un equipo uno y un equipo dos eso ahí estamos Vale pues vamos a ponerlo así visitante y local eh claro aquí ahí No sí Pero por eso precisamente estamos haciendo estros ejercicios sabes para empezar a hacer ejemplos vale visitante es un foreing key a equipos y local es también un foreign key a equipos Esto va a ser curioso bien okay venga perfecto ahora qué ahora Ah Perdona la jornada es un fori a jornadas Claro entiendo que en un partido también habría que guardar la hora de inicio del partido vale dime Ah sí Ah ya me estás dando dos alternativas luego entonces no pueden iniciar a cualquier hora solo hay 2 horas de inicio o qué o no pero Ah vale es que si vosotros me decís que hay dos horas fijadas eso es una tabla externa de horas de inicio pero si vosotros me decís que puede ser técnicamente a cualquier hora pues es un campo Time vale por eso os pregunto Vale pues hora de inicio y es un campo Time vale recordar que el date es fecha el Time es hora y luego está el daytime que es el completo Vale pero no va a hacer falta en este caso Ok vale muy bien pues vamos a por ello Así que ahora me voy a crear una nueva tabla Y a esta tabla la llamo jornadas tiene un identificador clave primaria autoincremental es una fecha de Perdona si de campo date y tiene un divisiones gu bajo nombre vale que es un entero Ok previsualiza 016 creo tabla jornadas vale Ok guardo muy bien y ahora creo una tabla calma relaciones esto es divisiones a jornadas columna divisiones previsualiza 017 restricciones división a jornadas vale Y ahora implemento partidos espérate vale vamos a ver identificador 255 índice primario autoincremental vamos a ver y yo ahora te digo visitante local es entero jornada es entero porque es una restricción foránea pero Mirad cuidado mirada continuar atención hora de inicio es un Time fecha hay un Time vale pero ojo goles visitante goles local es decir al final hay que registrar esto y como en un partido local o visitante solo pueden marcar un número concreto de goles no hace falta crear una tabla externa lo puedo meter aquí o sea puedo crear una tabla externa Pero sería una pérdida de tiempo vale con lo cual goles visitante y goles local Y esto es un número entero vale 2 5 255 Okay previsualiza 018 tabla de partidos Okay y vista de relaciones aquí hay que hacer un huevo de relaciones entonces eh visitante a partido visitante tabla equipos y guardar y restricciones partidos vale Okay Eh local a Espera sí local a partido y local y equipos Okay Esta es un poco arriesgada porque son dos restricciones a la misma tabla en la misma tabla Pero bueno lo que hay Okay siempre que May no Yo tampoco peto ahora jornada eh jornada a partido Así que jornada jor jornadas equipo vale Okay Pero bueno vale va chico ya está para dentro guardar vale ya hemos hecho las restricciones vamos a ver qué aspecto tiene esto vamos a ver qué aspecto tiene esto nos vamos al diseñador en el diseñador Aquí empieza a ver telita hay jornadas hay equipos ahí dónde estás hay partidos ahí vale voy a poner esto aquí y esto aquí Así se ve mejor las líneas no se cruzan y este es el aspecto que tiene una base de datos Que de momento está razonablemente bien diseñada voy a guardar la vista ya os digo que no me hace mucha ilusión trabajar con esta vista porque al final es más gráfico que otra cosa pero bueno al principio pues quieras que no cuando estás aprendiendo pues probablemente anima a verlo así no vale para mí lo que realmente vale es meter datos y comprobar que los datos funcionan así es donde tú realmente porque tú Aquí dices Bueno pero las cuerdas están bien puestas o no hasta que no metes datos no lo sabes Así que voy a meter una jornada inserto una jornada la fecha es de el sábado y a qué división pertenece como va a jugar el mislata vamos Pon segunda vale segunda y continúo vale 020 inserto una jornada okay ahora inserto un partido y entonces digo y Aquí empieza el bacalado Oh Solo tengo un equipo voy a meter otro equipo eh metemos otro equipo para tener un competidor Así que contadme algo otro pueblo rival manises club de fútbol eh juega en segunda porque tiene que jugar con nosotros Vale entonces inserto un segundo equipo Okay Vale ahora me voy a partidos me voy a insertar me voy a visitante quién es visitante manises por tanto local es mislata vale jornada 1 a qué hora iniciamos tiempo 99 horas a las 921 a las 9 en punto No vale perfecto pues Okay goles que marca el manises uno goles que marca el mislata tres algo así me imaginaba bien le doy a continuar Vale y veo que esto tiene muy buena pinta 022 inserto un e un partido Ok Vale y Espera que se me ha apagado el monitor bien eh A ver por cierto a ver esto Cómo va tiempo restante Bueno aquí va picando el tiempo vale Bueno qué se va a hacer vale eh claro yo ahora veo que veo Uy Espera que no me veis que veo esta tabla y no me entero de nada pero sin embargo Mirad aunque parece que no me entero de nada Yo vengo por aquí a visitante pongo el ratón encima y ponen manises pongo el ratón encima y me dice mislata y pongo el ratón encima y me dice hola claro es que jornada Bueno pero si pincho me llevará vale a la jornada correspondiente y en divisiones tal esto que acabo de hacer es diseñar una base de datos vale que como veis tiene tres fases voy a poner 00 fases del diseño donde las fases del diseño son uno escuchar los requerimientos del cliente dos crear un modelo de datos donde en el modelo de datos se supone que intentamos plasmar en la medida de lo posible los requerimientos del cliente tanto a cuánta información hace falta y las relaciones entre los bloques de información segundo crear las tablas en la base de datos o sea segundo tercero cuarto crear las relaciones como restricciones quinto insertar datos Y aquí ya vemos si el modelo va funcionando o no y sexto que es lo que vamos a hacer ahora realizar peticiones para acabar las comprobaciones Yo también os digo una cosa y es que en el momento en el que saco el diseñador y veo que realmente todo está Unido con cuerdas Yo sé que voy a poder llegar a la información Mirad por ejemplo a partir de el partido Quiero saber qué jugador ha jugado en ese partido Qué jugadores han jugado en ese partido e incluso Quiero saber de qué país es cada jugador pero ojo a partir de partidos la petición que voy a hacer ahora es una petición muy compleja de hecho Vais a ver que va a ser una petición exageradamente compleja pero esta petición tiene como objetivo demostrar que este modelo funciona o sea la idea de que sea compleja es que si una petición es muy compleja y aún así funciona Es que la base de datos Está bien diseñada en el momento en el que yo le pidiera algo a la base de datos la base de datos me dijera que a ese dato no llego es que no estaría bien diseñada vale la petición compleja recordad mi objetivo es que desde partidos quiero llegar a jugadores O sea quiero hacer Tac vale es importante que veáis este esquema para que veáis a quién voy a enlazar es decir partidos enlaza con equipos enlaza con fichajes enlaza con jugadores Vale pues le digo from partidos pero claro si yo hago esto pues me dice toma qué pasa y entonces claro yo digo ya pero yo aquí no entiendo nada vale qué es lo que quiero cambiar visitante por equipo local por equipo y jornada por jornada así que 023 petición simple Así que ahora a continuación digo Select all from partidos left join equipos on eh on qué on partidos punto visitante es igual a espera no quieto no equipos no equipos no Ah sí sí equipo Sí vale equipos venga es igual a equipos pun identificador vale Ahora quiero que me des vamos a ver vale Y eh vamos a ver equipos pun nombre coma qué tengo en este campo eh la jornada Ah sí vale Okay pues goles visitante coma goles local Ok es local vale continuar y me dice Muy bien pues en esta jornada el mislata club de fútbol voy a decir goles local solo goles local Okay ha marcado tres goles bien Pero por qué lo he conseguido Pues porque he juntado dos Campos left join ahora junto con el equipo OK ahora junto con la jornada left join jornadas on partidos punto jornada es igual a jornadas identificador Y entonces digo jorn punto fecha vamos a verlo continúo y tengo que en esta fecha en este nombre de equipo ha marcado tres goles Por cierto la hora Sí también quiero la hora jornadas fecha partidos hora eh hora de inicio vale Okay continúo y vale en esta fecha en esta hora de inicio el mislata ha marcado tres goles fantástico copio 025 y eh junto con la tabla de Eh jornadas vale ahora me vengo aquí claro y en los equipos Mirad y ahora a continuación Quiero saber en este equipo Qué jugadores hay pero yo no puedo llegar directamente de equipos a jugadores porque no hay una relación entre equipos y jugadores hay una relación entre equipos y fichajes veis lo que os digo vale de cara hacer un left join yo no puedo intentar hacer un left join de aquí con esto pero yo digo left join fichajes on partidos no perdona partidos no on equipos punto no perdona on fichajes punto equipos es igual a equipos punto identificador vamos a verlo e equipos nombre H vale No pero esto no fichajes punto jugadores nombre vale mira fecha de inicio Hala fecha de inicio y fichajes punto fecha final Okay y tengo que en este partido que se celebró el día 18 del 10 del 24 a las 9 de la tarde el equipo era el mislata marcó tres goles había un jugador que no sabemos todavía Quién es cuyo cuya fecha de inicio de fichaje era esta y cuya fecha de final era esta vale que por cierto jugó el partido dos días después de su fichaje Pero bueno mejor para él o para ella para qui fuera así que copio Y esto es 026 ahora uno con Los fichajes ahora a continuación digo vale Pero ahora quiero saber que jugador era para eso tengo que unir los fichajes con los jugadores Así que left join jugadores on fichajes jugadores nombre es igual a jugadores identificador y aquí pongo left join Qué pasa Ah punto y coma vale Y ahora Digo e coma jugadores punto nombre coma jugadores punto apellidos Claro pero ahora quiero averiguar De qué país es ese jugador vamos a y José Vicente podíamos haber hecho otra relación entre sin pasar por fichaje porque realmente fichaje cuando lo fichas y es importante pero luego irrelevante entre jugadores y equipos una otra relación es que lo que los vinculas contrato entonces si yo eh tuviera una base de datos en la cual eh yo te dijera por ejemplo metemos a qué equipo pertenece ese jugador y lo metemos en la tabla de jugador Por qué Pues porque cuando un equipo cambia de o sea cuando un jugador cambia de equipo cogemos el dato lo quitamos metemos el nuevo equipo y ya está en ese caso sí que podríamos hacer una relación directa entre equipos y jugadores pero claro si yo por ejemplo en la aplicación en un momento dado dentro de 5 años quiero decir quiero sacar un histórico de este jugador a Qué equipos ha pertenecido entonces necesito esa tabla de intermedia de fichajes Vale entonces Depende cuál fuera la lógica de negocio de la aplicación Vale entonces eh vamos a ver ahora que me he liado aquí esto lo he guardado ya no lo sé esto es Vale ahora 027 ahora cruzo con los fichajes con los jugadores Vale y plan pero sigue funcionando porque vemos Que Marcos Pereira que tiene este fichaje su equipo no él su equipo marcó Oh acabo de detectar un error en la aplicación y es que generalmente vale el árbitro apunta quién marca los goles para luego saber y hacer estadísticas y movidas vale eh Y T también Vale entonces a medida que vamos hablando vamos viendo que bien la aplicación funciona hasta el momento pero hay cosas que no tiene que habría que implementar vale perfecto fenomenal y por último lo que voy a hacer es unir con países entonces digo left join países on jugadores punto países nombre es igual a países punto identificador y aquí vengo y digo coma países punto nombre y Digo 020 e quieto no esto no quiero eh 028 unimos con países ejecuto y me dice ahora sí mezclando la información Oye pero puedo mezclar más porque esto a qué división pertenece pues Mirad me he ido por este lado de aquí me he ido por esta cuerda de aquí tengo jornada vale Pero tengo divisiones ahora divisiones con quién lo puedo unir o con jornadas o con equipos vale pero lo tengo que unir con uno de los dos vale entonces Ok vamos a poner en marcha esto y ahora por último y ahora por último momentín Vale ahora left join divisiones on equipos punto divisiones es igual a divisiones punto identificador y equipos divisiones punto nombre y 029 cruzo con divisiones continuar y el día 18 del 10 a las 9 de la noche el equipo mislata de segunda división metió tres goles y jugaba un jugador Marcos Pereira con este fichaje y este fichaje de aquí vale la petición ha sido brutalmente difícil pero sin embargo es una petición también te digo que tiene bloques si os fijáis es difícil pero tampoco tanto no porque tiene la parte de Select la parte de qué te pido la parte de Cuál es la tabla base a partir de la cual tiramos del hilo es decir la tabla base ha sido la tabla de partidos Y a partir de ahí hemos ido tirando del hilo Y a partir de ahí los cruces que he hecho con otras tablas vecinas esto como ya os digo eh igual no tan difícil vale porque lo hemos hecho con siete tablas el examen está previsto que tenga tres Cuatro Tablas vale con lo cual la dificultad sería aproximadamente la mitad pero por una parte esto es el examen de bases de datos de primer trimestre Y esto es lo que vamos a estar practicando hasta la tercera semana de noviembre y luego por otra parte esto aparte de del punto de vista académico vale de esto es de lo que os voy a evaluar aparte de deciros que esto es diseñar una base de datos luego evidentemente por supuesto a partir del segundo trimestre veremos como os decía antes no veremos más herramientas que nos permitirán profundizar en nuestro Conocimiento es decir trabajaremos con transacciones trabajaremos con bloqueos y concurrencias haremos subconsultas trabajaremos con lenguaje de programación vale Bueno también trabajaremos con no sql es decir con mongodb aquí en phm admin veremos rutinas veremos disparadores veremos eventos es decir eh este proceso que os acabo de enseñar es el proceso mediante el cual se diseña en el mundo real una base de datos Y luego evidentemente en siguientes semestres os iré enseñando más herramientas que os dará más potencia para diseñar mejores bases de datos todavía vale luego también en el segundo tercer trimestre veremos que hay por aquí una unidad que es interpretación de diagramas de entidad relación los diagramas de entidad relación Son básicamente esto pero así como hoy lo que hacemos Es que espera eh modelo de datos ahora se me ha perdido momento dam primero bases de datos Y dónde estamos relacionales no consultas no tenía aquí ejercicios Hola Dónde estoy d Ah primero preparación examen no no espera preparación examen no Esto va dentro de bases de datos nada Ahora lo pongo bien vale esto que hemos hecho aquí es eh un modelo de datos pero claro como son líneas de texto no nos permite ver bien las relaciones entre vale entre las entidades esto de aquí es un diagrama entidad relación pero el problema que tiene este diagrama es que est dentro directamente ya del programa informático Así que cuando lleguemos a segundo tercer trimestre diagramas entidad relación pues cogeremos probablemente Aquí está probablemente un papel literalmente un papel y haremos esto es decir tenemos Esto es lo mismo que hemos hecho ahora pero con libros una librería un autor que tiene código y nombre un libro que páginas y código y título y sbn qué relación existe entre cada uno de estos elementos Qué relación existe para o sea de uno a n de uno a uno de muchos a muchos de n a muchos de lo que sea Claro si os fijáis No quiero empezar el curso con estos diagramas porque yo siempre he pensado que es mejor empezar picando código y empiezas ya a crear cosas y poco a poco este diagrama empieza a aparecer en tu mente como diciendo Vale o este diagrama empieza a aparecer en tu mente y llegará un momento en el que os enseñe a trabajar con esos diagramas Y entonces diréis Ah vale gracias a esos diagramas me puedo organizar mejor la información y luego yo ya sé que cada diagrama se convertirá en una tabla de sql y luego yo ya sé que cada una de estas flechitas se convertirá en una relación de entre tabla y tabla que será una restricción foránea vale un poco para que tengáis eh a la vista queé es lo que haremos en próximos trimestres vale Y ya está por hoy en bases de datos vale Así que pues que sepáis que en próximos días vamos a hacer exactamente lo mismo en próximas semanas vamos a hacer exactamente lo mismo eh pero con otros ejemplos hoy ha sido fútbol el próximo día será igual pues una librería como acabamos de ver ese ejemplo o un colegio o una empresa de transportes o lo que sea vale para prepararos para ante cualquier reto poder generar la base de datos correspondiente bien y vamos a empezar Aunque es pronto pero vamos a empezar con una duda que tengo queda claro de Big Data vale Y yo quiero porque no quiero pasar de equipos a fichajes porque es un dato que a m no me relevante Pero al final ahora si quiero sacar algo de jugadores to que pasar sí o sí por fichaje podría hacer de equipos a jugadores directamente teniendo lo que tenemos sinar nada haciendo otra cosa para jugadores de equipos a jugadores no ahora mismo según lo que tenemos no porque fíjate que no hay una relación entre equipos y jugadores ya pero creando una hora sin que tenemos de fichajes Ah creando una Sí lo que pasa es que si yo ahora por ejemplo en jugadores creo una relación por aquí abajo con equipos tendría una relación circular es decir May sql me diría hombre si tien una relación de aquí a aquí para qué tienes una relación de aquí a aquí Claro pero encima así el de Big Data Sí o sí si quiere sacar de jugadores aunque no le interese nada de fichajes tendría que pasar por ahí y ya está y no hay más que hacer Sí ya te digo O sea tú la podrías hacer pero no Además de esta sino que tendrías que Eliminar esta porque vale No se puede hacer todo es lo que yo quería decir vale Sí s Sí vale un momento que estoy bebiendo vale y vamos a ver vale un momento Okay quito el gas vale voy a guardar esto voy a parar por aquí y aquí