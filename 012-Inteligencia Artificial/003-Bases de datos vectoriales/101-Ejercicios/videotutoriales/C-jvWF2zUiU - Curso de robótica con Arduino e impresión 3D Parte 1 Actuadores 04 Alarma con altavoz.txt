continuamos por tanto trabajando con nuestros sketch en este caso además tengamos en cuenta que no está guardado por tanto yo lo que haría evidentemente es guardarlo así que vamos a guardar esto dentro de documentos dentro de la carpeta de en arduino en jose vicente aquí dentro en documentos será posible donde esta documentos allí en proyectos arduino y lo voy a guardar como altavoz bien seguimos experimentando vamos a llevarnos esto me voy a llevar esta línea a la función de setup es decir a esta función de configuración que se ejecuta una única vez recordamos cuál es la función vamos a verlo bien ahí lo tenemos un tono de 440 hercios que se ejecuta durante un segundo ahora experimentemos un poco el tono es indica la altura del sonido que estamos emitiendo entendiendo la altura como si un sonido es agudo o es grave entonces si por ejemplo duplicó el valor de 440 pasos 880 pues tendré una misma nota la pero una octava más alta digamos la nota más aguda así que recargo y comprobamos vemos que es una nota la misma pero más aguda sí ahora en cambio pasó a 220 es decir hago una nota mucho más grave el resultado es este tengo un tono pero más grande si quieres obtener un listado de cuáles son las frecuencias para cada una de las notas musicales por ejemplo para hacer pues un poquito de música usando arduino no te las voy a decir yo porque las puedes encontrar en miles de páginas web dentro de internet así que me voy a google chrome y bueno vamos a verlo y dentro de google chrome no quiero restaurar de momento y voy a decir por ejemplo musical notes frequentis hay muchas maneras de encontrar esta información así que se encuentra aparte de que tengo también en imágenes muchas tablas con cada una de las notas en cada una de las octavas esta estaría bastante bien fíjate aquí que la nota la en la octava número cuatro equivale a la internacional y a partir de aquí pues por ejemplo la nota sol que serían 392 hercios la nota fa sería en 349 con 23 la nota me serían dos toques aquí esa notación sajona por tanto esto es do re mi fa sol la isi y así en cada una de las octavas bueno pero no vamos a hablar de música en este ejercicio simplemente es para que sepas que este cuentan 240 nuestro medio inventado yo sino que lo puedes encontrar en muchas páginas web en muchas tablas a lo largo de internet pues lo que quiero hacer es referencia un poco más divertido en donde podamos así que voy a empezar trabajando con estructuras de control donde las estructuras de control son muy importantes para manejar el flujo de información dentro de un programa en este caso voy a usar una estructura de control llamada form la estructura de control ford lo que hace es repetir algo múltiples veces durante la ejecución de un programa así que en este caso la estructura de control for me va a permitir repetir muchas notas musicales vamos a ver un segundo también segundo que me haga un acceso más cómodo al teclado que tengo el teclado un poco enterrado entre cables ahora si bien y por ahí se me aparece el cable incluso de hecho vamos a sacarlo de la cámara y vamos a empezar a trabajar entonces y ahora digo for y vivo por pink se suele usar la variable y reiterado aunque puedes usar cualquier otra letra o cualquier otra palabra de igual forma in y es igual a 0 y es menor que 10 y voy a decir y más bien qué quiere decir todo esto es una teoría explicado y lo que voy a hacer ahora vamos a ver es que pongo este tono lo pongo aquí dentro y también voy a poner este delay fíjate que de momento estamos trabajando siempre dentro de esta función se está estoy dejando la función bucle de momento vacía bien lo que va a ocurrir dejadme que pase esto a 100 milisegundos lo que va a ocurrir con el bucle four es que voy a repetir un código en este caso esas instrucciones una serie de veces y esto por qué pues porque le digo mira desde que y empiece siendo igual a cero hasta que sea menor que diez cada vez que pase por ahí quiero que le añadas un valor a iu y más quiere decir añadirle un valor a y por tanto la primera vez que paso por aquí esto es igual a cero así que ejecutaré esto cero es menor que bien es cierto pues ejecuta me esto a continuación la siguiente vez que pasó por aquí y ya no vale cero porque le ha añadido un valor pero sigue siendo cierto que es menor que 10 así que sí que sigo ejecutando el código esto se ejecuta tantas veces hasta que esta instrucción hasta que esta condición perdón sea falsa vamos a comprobarlo pulso sobre cargar para lo que tengo como puedes ver es una serie de 10 u 11 tonos son 10 en este caso 10 u 11 tonos porque simplemente lo que he dicho es que quiero ejecutar esta instrucción pues una serie así que ahora además lo que quiero hacer es que le digo mira quiero ejecutar ese tono y que ese tono digamos dependa de esta instrucción de y por 50 cuánto será el tono la primera vez que pase por aquí pues 0 por 50 de hecho será 0 voy a hacer que esto empiece siendo 1 y esto sea menor o igual que jets la primera vez será 50 porque uno por 50 es igual a 50 la segunda vez que pase por aquí y es igual a dos así que 2 por 50 es igual a 100 y recordamos que cuanto más alto sea este número más agudo es el tono por tanto si ahora pulso sobre recargar comprobaremos cómo bien lo que hemos comprobado por tanto es cómo teníamos digamos cada vez un tono más alto he hecho diez tonos si quieres puedo hacer 20 no tengo por qué parar en 10 y tengo una secuencia de tonos donde cada vez que ejecutado el tono era más alto el tono era más agudo el ritmo por supuesto puede ir pues un poco trabajado a partir de estas duraciones voy a decir que en lugar de 100 y 200 milisegundos quiero 10 y 20 milisegundos a la era mucho más rápido vamos a verlo diez veces más rápido ahí lo tenemos en este caso ha ido bastante más rápido otra cosa es que además de poner aquí 50 el delay no tiene por qué de nada en particular puedo quitar el delay y simplemente el delay lo que me estaba haciendo es permitirme esperar / nota y nota mientras que esta línea me permite lanzar una nota lo que tengo de este modo es que si quito el delay ya no hay pausa entre notas vamos a ver así claro necesito un poco de delay y lo que hago por tanto es que el delay sea igual a 50 vamos a verlo ahí lo tenemos lo que tenemos en este caso lo que ha ocurrido en este caso vamos a poner ahora a 100 pero vamos a verlo de lo que ha ocurrido es que las notas se enlazan entre sí ya que en este caso el delay es exactamente igual que el tono bueno muy bien pues ya tenemos por aquí una pequeña subida déjame experimentar un poquito más con los tonos para hacer algo un poquito más práctico lo que vamos a hacer es una pequeña alarma es una pequeña sirena y esto viene un poco a explicarte cuál es cuál va a ser la utilidad de este altavoz piezoeléctrico ya que al final tú estarás pensando si bueno esto está muy bien pero realmente para qué me sirve a mí un altavoz dentro de mis proyectos bueno pues realmente al final para muchas cosas digamos pero ninguna concreta es decir sobre todo un altavoz te va a venir muy bien para hacer de booking en circuitos al igual que los leds pues por ejemplo para que cuando pase algo concreto el sistema te devuelva una señal sonora un pitido haciendo una alarma casera pues por ejemplo el altavoz piel es el piso eléctrico es la propia alarma es lo que lanza lo que detecta el sonido lo que lanza el sonido vale por tanto estamos empezando a jugar con el tártago también porque es una de las piezas más sencillas que podemos aprender en arduino pero todo esto tiene evidentemente un sentido todo esto tiene una razón de ser y finalmente es que no podemos dar más adelante en nuestros proyectos bien pues vamos a hacer lo siguiente vamos a hacer lo siguiente y lo que voy a hacer en este caso vamos a verlo lo que voy a hacer es trabajar con una onda senoidal es decir voy a crear una sirena a partir de una onda senoidal vamos a ver si busco por aquí onda senoidal encontraremos que tiene esta forma de aquí es una forma completamente repetitiva y digamos y estoy viendo esta imagen y yo al verla ya casi la estoy viendo en sonido accesible me imagino que es cuando sube el sonido aquí es cuando baja el sonido aquí es cuando sube aquí es cuando baja y esto un poco se puede repetir hasta el final así que yo estoy haciendo aquí esta curva y estoy yendo ya prácticamente la sirena en mi mente por tanto lo que quiero es que digamos este es el tiempo y este es el tono te acuerdas en nuestro programa que teníamos hace un momento vamos a verlo por aquí a guardar lo que tenemos teníamos por aquí el tono y el tono sería esto que estás viendo aquí y tenemos el tiempo y el tiempo digamos que sería el tiempo que va hacia la derecha así que voy a hacer lo siguiente voy a decir en ángulo ya que el seno como recuerdas es el seno de un ángulo concreto puede usar el seno puedo usar el coche no que de hecho tiene la misma gráfica con la diferencia de que la gráfica del seno en cero tengo aquí el encuentro con cero ejecutó la del coche no déjame que no era muy bien la rueda del ratón ronda del coseno por ejemplo pues verás que es la misma la diferencia es que el encuentro no es en 0 sino que es en 1 pero básicamente al final es la misma bien pues dejarme está tu letra por aquí arriba y tenemos aquí nuestra placa valet el riego en ángulo es igual a cero de hecho puede ser cero como podría ser cualquier otro y ahora voy a hacer lo siguiente como esta alarma quiero que se ejecute x veces digamos hemos lo que voy a hacer en este caso quiero que se ejecute en el momento infinitamente la voy a meter dentro del loop así que ahora empieza haciendo lo siguiente ángulo es igual a ángulo + 0.01 vamos a verlo así lo que estoy diciendo es que cada vez que pasas por aquí el ángulo tiene que variar y ahora digo no quiero un tono en el altavoz en el pin número 7 altavoz como ya no viene un poco lo complejo vamos a pegar el tono quiero que vaya sobre 440 digamos que quiero que dé la vuelta sobre 440 en lugar de sobre 0 y quiero que sea más sin el seno del ángulo por ahora no sé por 50 vamos a probarlo probablemente me hará falta un poquito más bien entonces ahora lo que digo es que además quiero que sea 50 por tanto de light ahora de venecia esto será gracioso así que una vez que tengo esto voy a lanzar vamos a capturar por aquí bien voy a lanzar este sketch vamos a ver con atención vale bien parece que el ángulo tiene que crecer con mayor se molesta el si te molesta el ruido siempre sabes que poner el dedo encima del altavoz por lo menos lo acaba un poco vale pues en este caso voy a hacer que el ángulo aumente con mayor velocidad vamos a verlo ahora vale vamos a hacer lo que aumente con mayor velocidad era lo que voy a hacer también ahora sí lo que voy a hacer es que el delay de 50 milisegundos para que no haya micro pausas ahora sí vamos a devolverlo al 0.1 bien es demasiado rápido en este caso vamos a 150 hasta que al final vale hasta aquí al final como ahora verás tendremos una sirena bien vamos a ver 440 más el seno del ángulo por 50 vamos a poner otra cosa que te digo es que voy a quitar un momento el delay quitamos el ángulo vamos a poner por ella el ángulo bien ahora evidentemente demasiado rápido pero finalmente por tanto lo que quiero que veas es cómo podemos controlar el tono que emite aquí está vamos a dejarlo un 0,1 ahora ángulos igual ángulo déjame que lo pare ay bien ángulo es igual a ángulo en este caso más 0.1 bueno lo que queremos en este caso es conseguir a pues que el ángulo vaya aumentando poco a poco bien lo que voy a hacer por tanto en este caso finalmente es simplemente aumentar y afinar estos parámetros para conseguir ese efecto de alarma voy a trabajar estos parámetros y ahora en un momento vuelvo con esta última parte del vídeo en el que demostraré los parámetros ya preparados para hacer de sirena