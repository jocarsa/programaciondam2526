grabo la siguiente sesión dentro de bases de datos Y así hablamos de datos pero claro cada vez que yo guardo por ejemplo Algo vamos a ver yo guardo por ejemplo bloques productos pues este texto el Alice Blue si tiene x caracteres pues literalmente me está ocupando pues unos 8 por 10 pues unos 80 bytes pero la imagen me ocupa 810 kil bytes es decir 800.000 partido 80 bytes y si os fijáis vale en lo que tenemos que pensar a continuación es que en un mismo registro la el recurso de imagen me está ocupando 10.000 veces más que el texto y eso es lo que hace que sea un poco Guardar imágenes dentro de una base de datos se puede hemos demostrado que se puede ahora se debe pues es el problema Vale entonces a continuación lo que vamos a hacer es considerar tanto desde el Front como desde el Back ahora veremos cómo se comporta en cada caso la posibilidad de guardar la información no en claro dónde guardarla vale No en el código porque la carpeta de código únicamente debería albergar código no en la base de datos Porque en la base de datos hemos visto que las imágenes pueden llegar a molestar sino en otra carpeta vamos a copiar el proyecto copio pego 135 en otra carpeta llamada carpeta pública de fotos o de lo que sea porque ojo puede ser una foto o puede ser que quiera guardar un PDF para que la gente se pueda descargar un PDF con información del producto o puede ser lo que sea vale Así que a continuación en carpeta pública de fotos voy a crear una nueva carpeta llamada de momento static Vale y dentro de la carpeta static meteré las fotos es decir mi objetivo En definitiva es por supuesto no voy a meter las fotos en el Front porque en el Front solo debe ir código tampoco las voy a meter en el Back por motivos obvios y tampoco las voy a meter en la base de datos Necesito una carpeta aparte me voy a ir un momento a la página me voy a ir a 135 me voy a ir a Front vale me voy a descargar las pocas imágenes que tengo a ver Esto es un aquí y save image as me lo guardo espera a ver en escritorio imágenes vale Y esto es eh héroe Okay esto es Open New Tab No sí Hola Esto es héroe 2 vale esto es héroe 3 y eh Aquí tengo Vale pues tengo Alice Blue Hola tengo alis Blue no no a ver un momentín que haya llamado a esa carpeta static no quiere decir que dejen de ser dinámicas las imágenes tienen que ser dinámicas Sí o sí la diferencia es como las vamos a tratar es decir hasta el momento cuando creamos una imagen la imagen se metía dentro de la base de datos dentro de es de sql Vale ahora las imágenes van a seguir siendo estáticas van a seguir siendo dinámicas Perdona pero en lugar de guardarlas dentro de la base de datos las vamos a colocar en una carpeta concreta dentro del espacio de trabajo de tal forma que en la base de datos las imágenes seguirán siendo dinámicas pero en lugar de haber un blog lo que habrá es un vínculo a la imagen original de esta forma vamos a ver dónde tengo aquí imágenes a ver en Blue eh estructura fondo vale imagen y fondo los voy a cambiar va a ser un bar charar 255 Ok y fondo va a ser un barch Okay error de consulta incorrecta String value okay No pasa nada Mira me lo voy a cargar eliminar y voy a crear una nueva carpeta llamada fondo porque acabo antes así okay Ya está bien bloques productos vale Y ahora imagen fondo no tiene nada Lo cual quiere decir que si ahora me voy a programación y producto Pues ahora mismo de momento no tengo nada vale ahora mismo no hay nada me voy a héroe me voy a héroe me voy a imagen vale Voy a cargarme la imagen y voy a crear una nueva columna llamada imagen estoy haciendo un cambiazo vale estoy eliminando y creando lo mismo pero en cambiazo y destacados imagen borro la imagen y creo la imagen okay Por cierto que una vez que he hecho esto eh aparte de que haya que hacer algún tipo de vaciado vale un momentín y vamos a ver optimizar la tabla Ok un momentín momentín un momentín ahora vamos a ello ahora vamos a ello y bueno me siguen apareciendo 2 con4 megas vale Lo cual quiere decir que tengo que vamos a ver reparar no revisar vamos a ver tengo como ya os digo tengo que hacer alguna operación para que el programa se dé cuenta de que esto ya no pesa 2 megas vale de que eso ya no está ahí bien De momento voy a restaurar lo que había y lo que había es lo siguiente momentín vale carpeta pública de fotos me voy a escritorio me voy a dónde estás aquí imágenes copia me voy a dam me voy a Primero me voy a No entornos no me voy a lenguajes me voy a tres me voy a proyectos me voy al proyecto old l me voy a carpeta pública de fotos y aquí en static pego las imágenes Vale ahora a continuación me voy a mysql y en Los Héroes esto es hroe 1.png hroe 2.png y hroe 3.png claro ahora en Los Héroes ahora carpeta pública Sí vale ahora en Los Héroes Vale tengo que cambiar el código de Los Héroes para decir no me lo interpretes como un base 64 como hicimos anteriormente módulos Héroes Ok js Aquí está background es igual a URL dato imagen y ya está hago así Ah perdón no no quio quito quio URL es igual a dos pun barra static dato imagen vamos a verlo así Ahora sí vale hemos recuperado Los Héroes hemos recuperado Los Héroes Lo único es que ahora esa imagen está cargando de una URL es decir son imágenes que están guardadas en una carpeta concreta en lugar de estar metidas a capón dentro de la base de datos vale esto es el Front insisto ahora hablaremos del Back bien por aquí eh Ahora nos vamos a los destacados en los destacados modifico esto Me quito el bas recargo y vemos como ahora Epa Alice Blue Ah Sí perdón es que tengo que ir aquí tengo que ir a destacados y aquí en imagen tengo que decirle Alice blue.png y Alice blue.png con lo cual recargo momento con lo cual recargo Hola A ver static vamos a ver dónde estás alis Blue Ah Sí perdón y dos punos barra static alis blue.png vale Y ahora recupero los estáticos y esto quiere decir y esto quiere decir que en un momento dado ahora Mirad en programación en Alice Blue Claro si pongo las imágenes estáticas Pues yo ahora a continuación ahora quitaremos esto yo ahora a continuación aquí en la base de datos en la base de datos a bloques productos en el bloque del pasa fotos esto es tipo de bloque es bloque pasa fotos en título le digo hacer esto más grande siempre que se pueda le digo imagen es igual a voy a poner Alice Blue png porque no he subido imágenes imagen Alice Blue imagen Alice Blue imagen bl vale Ok bien una vez que he hecho eso ahora en los bloques y las imágenes son texto me puedo ir al bloque me puedo ir al bloque dónde estás de bloque diapositivas pasa fotos vale Y entonces en article le puedo decir background perdon Style es igual a background URL dos puntos barra espera Ok contra barra esto dos puntos barra static contra barra esto y ahora aquí digo eh valor imagen recargo vamos a verlo recargo Y si os fijáis aparte de que esto haya que tocarlo muchísimo más de estilo y hacerlo bonito y todo eso vale pero recargo y ahora fijaos que cada uno cada diapositiva puede tener su propia imagen vale insisto y lo voy a insistir y lo voy a repetir 1 millones de veces más con esto no estoy diciendo que no habría que no hay que poner imágenes en el en la base de datos sino que las imágenes tengan que ir en una carpeta lo único que estoy diciendo vale es que en un momento dado tener imágenes en la base de datos tiene ventajas y desventajas y tener imágenes en una carpeta estática tiene ventajas y desventajas vale Eso es todo lo que en un momento dado quiero decir ahora desde el punto de vista del administrador qué ocurre vamos a verlo desde el punto de vista del administrador un momento tengo alguna pestaña que me está gastando mogollón vale desde el punto de vista del administrador entro en el administrador me voy a No lo sé dónde me voy a Héroes vale Y en Héroes si os fijáis en la imagen pone héroe 1. png cuando yo inserto un nuevo elemento momento espera vale tabla Héroes imagen Héroes todo esto Vale cuando yo inserto un nuevo héroe en la imagen me dice seleccionar archivo Por qué pues la verdad es que ahora estoy flipando vale porque no debería ocurrir esto y cuando digo que no debería ocurrir esto quiero decir que esto en principio era mediante el blog o parece que no se ve que no lo hice así de casualidad va a funcionar voy a tener esa suerte me voy a escritorio me voy a crear un nuevo formulario momento que le he dado click Ahora me voy a Inc formulario me voy a Campos formulario mira Qué curioso Vale y casualmente Mira tú por dónde casualmente ya puse por accidente os juro que esto es puro accidente que si el campo contenía imagen pues Muéstrame un tipo file claro qué ocurre Pues que en este caso esta parte de casualidad nos es polivalente nos sirve la misma parte Pero qué ocurre cuando procesamos la imagen Bueno cuando procesamos la imagen voy a hacer nueva versión del proyecto 136 procesar formulario de imagen lo que hacíamos en aquel momento al procesar formulario de imagen nos vamos al admin nos vamos al Inc nos vamos al formulario y nos vamos a acción crud insertar bien pues lo que hacíamos aquí lo que hacíamos aquí vale era insertar contenido escapado insertar la petición en la base de datos vale o sea metíamos el contenido como base 64 qué es lo que quiero Ahora pues lo que quiero ahora simplemente es modificar este Script para decirle input type date sí que saca el calendario pero yo no sé si teníamos alguno de estos yo creo que no a ver momentín blog fecha vale Y no fecha no sale calendario pero te digo una cosa Fran Y es que tal y como lo tenemos me voy a formulario Campos Hola Campos formulario y digo Oye Else If Perdón vale Else If fila Field contains fecha pues type es igual a date y recargo y ahora la fecha e quieto Ah Sí perdón no A ver typ es igual date fecha en qu Ah espera Espera aquí que paso la siguiente parte vale admin inicio blog añado un nuevo elemento de bl y ahora sí me saca un calendario vale con lo cual no lo hacía automáticamente pero si yo lo pongo Pues sí que puede aparecer Vale entonces insisto que esto es lo que os comenté hace unos cuantos días que es una forma bastante primitiva de hacerlo vale lo ideal no es decir si el campo contiene fecha sino lo ideal es mirar el tipo de dato y poner el campo según el tipo de dato vale Pero el eso es lo que os dije hace unos días por WhatsApp que eso es una doble petición y por eso no lo quiero hacer de momento para no complicar la vida vale esto es mucho más sencillo de momento es menos robusto es menos sólido es menos escalable pero es más sencillo de momento bien os decía que en insertar ahora a continuación voy a hacer lo siguiente aquí me voy a apoyar de chat gpt y voy a decirle vamos a ver instead of putting image Data inside mysql save image to a static named folder and then save into mysql file name only vale con lo cual con eso modificamos el controlador para asegurarnos que lo que aparece o sea que al subir una imagen se pega dentro de may sql el nombre de la imagen y la imagen se lleva a la carpeta correcta es decir Fran te digo Fran tú porque estás puesto en ese mundo rollo wordpress vale rollo wordpress cuando tú subes una imagen en la base de datos se guarda el nombre de la imagen y la imagen se va a la carpeta wordpress content vale que ya sabéis que pues no es que yo ponga siempre y para todo como ejemplo a wordpress pero sí que hay que reconocer Pues que es una referencia vale hago así eh Dónde está la carpeta static aquí vale el upload dir es dos puntos barra Pues yo creo que no yo creo que es dos puntos barra creo que es dos puntos barra y ahí static vale eh vale Si no existe pero es que sí que debe existir Ok que haya suerte Vamos allá bien me voy a Héroes tengo imagen vale me voy a crear un nuevo héroe y digo título héroe 4 texto héroe 4 enlace da igual selecciono archivo me voy a una imagen pues web no est muy grande eh banner Mira esta misma Ok Vale y la subo vamos a ver si no da error enviar Ok error muy bien falta el error eh column count doesn't match value vale Okay aquí insert into Héroes me dice 1 2 3 4 y 5 y efectivamente Héroes tendrá seis proyecto Apple herroes y tendrá 1 2 3 4 5 6 es decir no me está metiendo aquí Ah error al mover el archivo de destino vale Okay Ah okay Vale simplemente es que ha dado error al mover el archivo Oye a ver si es que es así No lo sé a ver Ah pues sí inserción realizada con éxito vale Eso quiere decir que ahora me voy a Héroes veo que está un héroe 4 banner png vale me voy a la página frontal me voy a la página frontal y en la página frontal a ver si hay un héroe vale a ver qué ha pasado se supone que está URL static banner png sin embargo en la carpeta static no parece que esteé banner png no está vale Si no está yo intuyo que es por un problema de permisos entonces abro terminal y en terminal le digo sudo ch mod 777 - r 007 Okay y vamos a volver a probar me voy al panel de control y en el panel de control me voy al héroe elimino el Héroe Hola Héroes elimino el Héroe me voy a Héroes añado uno nuevo título héroe 4 texto enlace comprar banner png envío Ok vale todo aquí parece correcto me voy a la carpeta proyecto old l me voy a static no dónde estoy 136 y aquí estoy en 136 vale Y aquí estoy en 136 no está guardando la carpeta donde debe y además Supongo que igual me está creando una carpeta por ahí en alguna parte a ver static míralo Ahí está en admin Vale entonces sí que efectivamente tengo que bajar dos sí que tengo que bajar dos vale me voy a admin me voy a Héroes me voy a borrar me voy a Héroes añado uno nuevo e se me ha apagado el monitor momento vale héroe héroe cargo una imagen envío Ok si antes no debía ser por tema de permisos con lo cual ahora me voy al Front y ahora sí tengo el Héroe 4 junto al resto de Héroes vale Y sobre todo me gustaría Eh pues quitar de aquí esta memoria vamos a ver porque a residuo depurar optimizar vale Okay sí pero proyecto Apple Ah mira ahora sí venga bloques productos eh dónde estás aquí optimizar ahora sí Ahora sí vale una vez que hemos depurado los residuos después de que vale hubiéramos borrado todo Ahora sí Mirad me voy a exportar me voy a exportar me voy a exportar proyecto Apple 2 y donde antes exacto no Qué 200k Espérate que 200k ni de coña Espérate que te lo voy a demostrar Es que donde antes me ocupaba 8,5 megas ahora me ocupa 15 con 8k y aún me parece mucho 15,8k pero Vale entonces por eso os digo y ojo que mi problema no son 8.5 megas porque 8,5 megas no va a ninguna parte mi problema es 8,5 megas habiendo hecho una chumin en este proyecto o sea que total he metido cuatro imágenes y una imagen por aquí y ya está o sea daos cuenta que hay que meter imágenes Hay que crear todos los productos cada uno con sus imágenes sus historias Vale y al final eso quieras que no puede ocupar ojo cientos de megas cuando no gigas vale por eso pues al principio mi objetivo era deciros Y demostraros si tenéis versiones que están así hechas deciros Oye si lo queréis se pueden meter imágenes dentro de la base de datos Y para ciertos escenarios de uso puede estar bien pero claro efectivamente o sea es que daos cuenta que antes hace un rato solo exportar una base de datos con cuatro imágenes a 8 megas y ya la exportación de may sql se ha quedado frita y en cambio ahora le digo expósitos acordáis que no sé si fue la semana pasada o la anterior que estuvimos haciendo un Script de copia de seguridad incremental Bueno pues ya está pues simplemente a ese Script de copia de seguridad incremental aunque creo que ya lo tenía en cuenta Pero simplemente hay que decirle que tenga en cuenta la carpeta static para que se lleve a la copia de seguridad las imágenes que hayan en un momento dado y ya está Vale y asunto solucionado otra cosa que os digo vale Y me voy a apartar ahora un momentín del proyecto original ahora mismo las imágenes vale me ocupan por ejemplo esta de aquí me ocupa 3.5 megas por me ocupa imagen 3.5 megas Bueno pues me la voy a abrir con el gimp Me la voy a abrir con el gimp y resulta espera Ah Sí perdón que no la puedo abrir que está en una carpeta protegida vale Pues resulta que esa imagen eh cómo te diría yo 3.5 megas tiene un tamaño tiene una espera y no me da Ah propiedades venga y son 920 por 102 o sea 1 22 píxeles vale 1202 claro yo en un momento dado podría decir Oye me voy a las imágenes y me las voy a pasar todas a lo que sea Qué quiere decir lo que sea pues mira me voy aquí a útil os acordáis de que tengo analíticas y tengo Main Vale pues me voy a hacer una aplicación yo siempre intento recordaros 1337 eh python tratamiento de imágenes intento recordaros que python es nuestro amigo vale Así que creo por aquí una carpeta que se llama analíticas y voy a crear otra carpeta llamada tratamiento imágenes entonces en tratamiento imágenes a continuación me voy a abrir un Script de python que voy a hacer a mano pero que o sea voy a ejecutar a mano Perdón quería decir pero que podríamos ejecutar de forma automatizada con Chon me voy a dam me voy a Primero me voy a lenguajes me voy a tres me voy a proyectos me voy a old l me voy a tratamiento de imágenes me voy a útil me voy a tratamiento y digo bajar resolución pun python y entonces digo por ejemplo por aquí y entonces digo python pill and os get all images in a folder and then downscale them is 400 píxeles height should be o should respect proportions y ya está esto de hecho Fran por ejemplo cuando tú subes algo a un wordpress pues wordpress automáticamente sabes que tiene un Script que coge imagen y te la pasa a cuatro tamaños diferentes cosa que en principio está muy bien es muy buena idea Pero claro luego Eso hace que en la carpeta de imágenes de un wordpress hay mil de millones de imágenes vale Pero bueno o sea como todo en la vida pues son ventajas y desventajas son pros y contras O sea no digo que wordpress lo haga mal en absoluto vale Así que vengo por aquí y digo path to your folder es Espera que te lo diga es vamos a ver escritorio No aquí no esto fuera vale esto es útil salgo una carpeta Ah no se ve idel vale se habrá quedado frito como pasa de vez en cuando Ok vuelvo a compartir confirmadas Se ve vale he reiniciado como siempre un momento que el chat vale Okay bien entonces eh subo una carpeta ahora me meto en static y ya está Vale ha sido más fácil de lo que esperaba y ahora esto aquí Okay entonces ejecuto vale f5 No vale un momentín útil static No no no vale Ah Sí perdón dos puntos barra dos puntos barra este static lo no este se queda este util static se va Vale y ejecutamos atención que eh No sé por ejemplo banner son 3,5 megas vale No sé 5 error has no attribute antialias bueno antialias Dónde estás No me apliques antialias vale f5 Ok daos cuenta que ahora banner png ocupa 162k me ha bajado la resolución claro evidentemente fijos qué de resolución vale Y ahora cargo la web y ahora la web en alguna parte estarás aquí ahora cargo la web me voy a python tratamiento de imágenes y ahora tengo las imágenes de hecho igual en el zoom no lo veis pero las imágenes me las Ha eh Me las Ha bajado de calidad vale se ve como la imagen está pixelada y se ve como la imagen está pixelada evidentemente en este caso esa imagen está muy pixelada vale evidentemente en este caso e he hecho un down sample pues lo que podría hacer por ejemplo es en lugar de bajarlas tana a lo bestia Vale pues decirles Pues mira quiero máximo 1920 pero pásamelas a jpg para que ocupen menos vale para que pesen menos Claro que vosotros me podríais decir pero cuidado porque si las pasas a jpg la imagen estará en jpg pero la base de datos seguirá apuntando al png pero yo os digo no pasa nada porque de la misma forma que python te toca imágenes python también se puede conectar a mysql y se puede ir a mysql para decirle Oye Busca donde encuentres esta imagen y donde la encuentres reemplázalas como siempre os digo pues python es nuestro amigo vale Y hay cosas que en un momento dado nos puede interesar por supuesto esto que acabo de hacer yo lo acabo de ejecutar manualmente pero en un momento dado se podría ejecutar de forma automatizada mediante un cron es decir cada 24 horas Métete en la carpeta Y si ves imágenes que pesan demasiado bájalas el peso vale para que pues de alguna forma como hemos comentado anteriormente el sistema se cuide automáticamente y realice operaciones de forma pues periódica vale bien como siempre se como siempre que nos tiramos ahí con php pues parece que hayamos dejado a python de lado pues quiero dejaros Claro que no vale O sea quiero dejaros Claro que igual probablemente ya no estamos utilizando python como utilizábamos el primer trimestre con flask vale o sea cierto en el primer trimestre utilizamos flask que estuvo Guay ahora estamos con php Pero eso no quiere decir que python se haya quedado olvidado sino que python para cualquier cosa donde nos metamos en un marrón python nos va a sacar de ese marrón vale bien siguientes vamos a hacer más cosas que tenemos pendientes de hacer Vamos a ver por ejemplo Qué pasa en el panel de control copio pego 138 imágenes en el panel de control vale esto qué quiere decir voto quiere decir que si yo me voy al panel de control si yo me voy al panel de control veo que si me meto en Héroes por ejemplo pues en la imagen me aparece el archivo de imagen vale lo mismo que hemos comentado antes Fran en cuanto a que se puede cambiar el date se puede cambiar la imagen se puede cambiar lo que se quiera pues puedo detectar que cuando el campo se llame imagen no me pongas esto de aquí sino cárgame la imagen vale Así que para ello Así que para me voy al código me voy a 138 me voy a admin me voy a include me voy a tabla Hola tabla no contenido me voy a contenido vale aquí y en el contenido Mira te acuerdas lo del String valor de 300 vale lo que hablábamos el fin de semana Vale pues ya no quiero esto lo voy a Desactivar o no mira mejor si la clave tiene String contains un momento que te lo digo Aquí If String contains de la clave y tiene la palabra imagen Perdón al revés si no String contains la clave imagen ya sabéis que el operador de admiración es la negación es lo contrario pues en ese caso img src dos pun barra static ahora veremos cómo se comporta esto y el valor no quiero el 64 con lo cual ahora recargo y ahí tenemos de vuelta la imagen quiero decir con esto que hecho de que hayamos derivado las imágenes a una carpeta no quiere decir necesariamente que hayamos renunciado a las imágenes sino que en un momento dado las podemos guardar bien Fran digo Fran porque pues es digamos una persona es un alumno que del cual conozco el perfil y conozco que tiene experiencia con gestión de wordpress a nivel mantenimiento a nivel programación a nivel extensión instalación lo que sea en muchas ocasiones yo eh parece que cuando me refiero a wordpress me refiero a wordpress de una forma despectiva y no es así vale eh yo empecé a programar en un momento años 80 90 como ya os he contado alguna ocasión donde no existía algo como wordpress y donde la única forma de tener una página web era programático wordpress lo cual fue una muy buena noticia porque a los usuarios que no sabían programar les permitía instalar una página web con poco esfuerzo y a los usuarios que Aunque wordpress muchas veces me he quejado pues tiene una arquitectura muy pasada de moda vale muy de 20 años atrás pero sin embargo a la vez wordpress es un sistema probado durante 20 años y eso quiere decir que ha sido sometido a mucha presión y ha funcionado y cuando no ha funcionado han mejorado wordpress vale Lo cual quiere decir que en muchas ocasiones mirar la arquitectura de wordpress Pues nos puede ser de mucha utilidad Por ejemplo si yo me descargo wordpress eh Me voy a wordpress.org vale me voy a descargar un wordpress vacío get wordpress y me lo descargo y me lo descomprimas que están Guay y cosas que no están tan Guay de wordpress vale Y por tanto pues vamos a ver cosas de las cuales podemos ideas para meterlas en nuestro proyecto y cosas que debido a la arquitectura antigua de wordpress pues no queremos como ideas vale Estoy descargando un archivo que para empezar atención para empezar ocupa 27 megas yo de entrada digo qué tiene esto que un wordpress vacío ocupa meg pues vamos a verlo para que os hagáis la idea nuestro proyecto ahora mismo el Front por ejemplo son Oh 57 meg espérate Por qué hay que verlo porque no sé cuál es el motivo por el cual nos pesa 57 megas pero no debería pesar 57 megas debe haber algún archivo suelto por ahí vale si estoy en Linux está esta utilidad que Mola mogollón que yo vengo aquí y si Pillo una carpeta me permite saber y a ver a ver sí correcto eh Para empezar efectivamente tal y como acabas de decir desgraciadamente para mí eso no es una un contra vale porque como ya sabéis yo soy anti haacker desde el punto de vista en que no soy no lo comprendo vale pero para mí no ese no es el problema desde el punto de O sea no Debería ser el problema sí que lo es al final porque eso no es culpa de wordpress sino es culpa de la gentuza que se dedica a intentar reventar wordpress Pero al final acaba siendo un problema evidentemente y tienes que estar actualizándolo todo y teniendo cuidado Vale O sea que sí bien me voy a ir a bar me voy a ir a w html me voy a ir a dam me voy a ir a Primero me voy a ir a lenguajes me voy a ir al tres me voy a ir a proyectos me voy a ir a all L y me voy a ir a la 136 vale Y en el Front a el log Ah el geolocation ahí está el motivo vale por el cual me ocupa 50 y pico megas vale Okay pues venga pero si no fuera por eso pues igual me ocupa kilobytes vale menos mal ya está localizado El problema bien Entonces vamos a ver os Decía ya me he descargado wordpress 27 horribles megas estará por aquí abajo lo extraigo y al extraerlo botón derecho propiedades y son correct o sea vacío y sin temas no pero es que ojo 28 descomprimido pero o sea Perdona comprimido pero descomprimidos son 75 y son 3500 archivos que digo Qué hay aquí para que haya 3500 archivos vale En mi opinión pesa un huevo en mi opinión un wordpress recién instalado pesa demasiadísimo sin embargo wordpress tiene un wordpress admin nosotros tenemos una Beta admin no es que obviamente no es que wordpress haya copiado de mí es que yo me he copiado de wordpress Vale cuando he decidido crear una carpeta admin wordpress tiene wordpress content donde dentro de content están por aquí no está ahora mismo porque no he creado ninguna todavía pero aparecerá wordpress uploads que es las subidas por eso he creado una carpeta llamada static Es lo mismo que como el wordpress content vale luego el wordpress content se puede se pueden subir temas diferentes eso yo no lo he implementado vale eso hablaremos más adelante y tengo el wordpress includes Pero hay un archivo muy interesante que es el wordpress config De hecho no está en este caso Vale tengo el wordpress config sample en el wordpress config veréis que hay datos como por ejemplo la definición mediante constante php del nombre de la base de datos del usuario de la base de datos del password de la base de datos del Host de la base de datos del charset hay una serie de constantes que están definidas lo cual quiere decir que wordpress me da la idea de crear un archivo de configuración en la raíz y de esta forma Mirad la aplicación que yo estoy haciendo desde ciertos puntos de vista no está muy bien porque voy a crear siguiente versión del proyecto copio pego 139 y archivo de configuración cuando yo vaya a migrar el wordpress me daré cuenta de que en el login mira tengo un config para el admin menos mal vamos escritorio vamos a includes vamos a cabeceras en el admin tengo un config menos mal pero en el Front pero en el Front por ejemplo en los bloques módulos bloques Perdón aquí no en producto tengo conexión mysql Connect y eso me va a resultar en un problema vale el problema que voy a tener es que pues cuando migre Si cambio la configuración en el admin no habré cambiado la configuración en el Front lo que voy a hacer por tanto es al igual que en wordpress dentro del Front voy a crear un nuevo archivo llamado config php en el config.php voy a crear un archivo php donde voy a decir que vamos a ver conexión es igual a mysql i Connect de local Host proyecto Apple si yo vengo aquí ahora a continuación le digo include config php eso quiere decir que si yo ahora me voy al producto debería seguir funcionando correctamente y si no lo hace así es que algo mal he hecho claro Así que vengo por aquí archivo de configuración me voy al Front me voy a productos y Hola Ah aquí me falló una imagen perdón sí vale Ok Pero eso no es por eso sino que es por otra cosa muy bien tengo aquí el include config y me tengo que ir por ejemplo en este cas a módulos categoría y en categoría tengo otra vez ahí eso sea tengo que ir repasando Mirad una cosa que puedo hacer por ejemplo es carrelo vale Cuando digo cargá Melo quiero decir que vosotros me habéis dicho que el nuevo proyecto se llama el nuevo nombre del proyecto se llama Old l me voy a la base de datos simulo una migración y entonces en operaciones cambio el nombre a old l copio ahora creo quiero en privilegios crear una cuenta de usuario llamado old l continúo y ahora a continuación lo que voy a hacer Es que voy a arrancar el proyecto me aseguro de que estoy en la última versión me voy a Front y pum vale Y ya está ya petado por qué petado pues vamos a ver por qué probablemente en la página frontal tengo una serie de módulos vamos a la frontal index cabecera artilugio funciones Ah espérate en el Back y en el Back la conexión bd es old l vale recargamos Ok el Front funciona bien Vamos a ver espera configuración old l me voy a bueno categoría no hay nada realmente todavía me voy a producto y producto funciona correctamente me voy a admin me voy a admin pongo el usuario acceder no error vale proyecto Apple pues me voy a admin me voy a login y login no está cogiendo Sí config sí Perdón claro config old l ahora recargo accedo vale pero error vamos a ver proyecto Apple uh ahí tenemos un problema en el menú claro Show tables in proyecto Apple Vale pues en este caso lo que puedo hacer es poner por aquí en el config base de datos vale Y entonces en el menú Show tables in base para que se actualice y eso me pasará también aquí Show tables in base y Show tables in base a ver qué pasa recargo vale de momento ha vuelto pero ahora hay que probarlo blog parece que sí imagen Ah no imagen ha fallado Pero no pasa nada vale eh bloes categorías bloques productos vale Okay bien Esto De hecho tenía esta función vale añado uno nuevo Héroes creo que irá bien Bueno mira elimino plch Héroes vale añado uno nuevo Ah Ah banner png lo envío y no vale static banner png no también te digo que eso es por esto eso es porque tengo que hacer un ch mod de vez en cuando vale probamos Okay ahora sí vamos a volver Héroes correcto con la imagen correcta Vale y vamos probando poco a poco y en cada momento pues cada uno de los cambios que estamos haciendo muy bien Vale pues Ahora a continuación vamos a por un cambio fuerte vamos a por un cambio fuerte que es el siguiente Mirad si yo me voy a bloques productos por ejemplo yo voy a ver que Eh me aparece 7 7 y me aparece 1 4 5 6 2 esto qué quiere decir esto de aquí como sabéis son claves foráneas y al ser claves foráneas lo que quiere decir es que si yo voy de hecho a bloques productos realmente son claves foráneas porque como hemos visto en el primer trimestre lo que se almacena es una referencia a la tabla original pero lo que ocurre en este caso vale es que si yo estoy en mysql Pues bueno pues Vale pues tengo la opción de poner el ratón encima y me dice Quién es el producto final Pero si yo estoy en mi menú no con lo cual yo vengo aquí y me encuentro que esa tabla pues no es muy útil porque no puedo saber ese S A quién pertenece vale en este caso he utilizado una nomenclatura y se recomienda utilizar no solo por mí sino por cualquier persona que es eh poner base de datos gu bajo columna con lo cual Eso quiere decir que ahora voy a cruzar datos este esta ampliación va a ser muy dura pero muy necesaria que es cruzar datos eh claves foráneas bien Así que cruzo datos claves foráneas cierro por aquí archivos cruzo datos claves foráneas me voy a admin me voy a Inc me voy a tabla me voy a contenido vale Y entonces digo Okay Ok Okay vale Okay If String contains la clave contiene un gui bajo en ese caso pasa una cosa si no pasa otra si la clave contiene un guion bajo un momento correcto Ahí vamos a tener que hacer un left join vale al final es un left join pero de hecho si lo has hecho con left join lo has hecho técnicamente de la forma correcta yo voy a hacer algo más sencillo Pero insisto que al final el concepto es un left joint O sea que es correcto quiero decir Vale entonces vengo por aquí TD eh voy a poner aquí campo externo recargo cruzamos datos e no admin info bloques productos vale Y fijaos que ya puedo detectar si hay un guion bajo y poner campo externo campo externo Vale pues Ahora Fran lo que voy a hacer aquí por cierto hay imagen pero no parece que sea nada eh lo que voy a hacer es en campo externo voy a llamar a una petición a la base de datos de lo siguiente veréis yo digo explotado es igual a explode utilizando el carácter gu bajo de la clave y entonces digo tabla es igual a explotado de Cero y columna es igual a explotado de un con lo cual ahora digo de la tabla voy a la columna demostramos si es cierto recargamos y dice de la tabla productos voy a la columna título de la tabla tipo bloque voy a la columna tipo vale Y además Fran donde el identificador sea un momento que voy a bajar aquí cosas de la tabla voy a la columna donde identificador sea TD Qué es el identificador Pues el identificador lo tengo aquí arriba donde el identificador sea siete donde el identificador sea ocho donde el identificador sea nueve si te fijas tengo aquí la información necesaria para ahora hacer una petición sql porque atención voy a decir petición dos es Select columna from tabla Where identificador es igual a identificador voy a pasarlo bajo punto y coma y ya ejecuto resultado 2 es igual a petición 2 y While fila 2 es igual a resultado 2s eco fila dos de columna Perdón eco tb TD Vale y recargo y ahora el contenido es Alice Blue blanch almond Blue Violet cadet Blue Vale y En definitiva ahí me aparece uno y uno eso tenemos que verlo vale Por cierto espérate Alice Blue no no no espérate no we identificador no no un momentín este identificador no es correcto Casi pero no identificador clave imagen Ah no we identificador perdón es igual a valor Ahora sí vale alis Blue tiene un bloque completo tiene un bloque YouTube tiene un bloque dos columnas tiene un bloque pasa fotos y tal y lo mejor de esto es que funciona en todas partes quiero decir que si tengo por ejemplo categorías blog y tengo categoría general Ahora me voy a blog y en categoría Donde antes ponía 1 ahora p general vale Lo cual quiere decir que ahora representa la información de forma correcta En definitiva Fran vale insisto si lo has hecho con left join lo has hecho de forma correcta lo que pasa es que la forma de hacerlo con left join la reservo para segundo de tal forma que si te metes en mi repositorio y te metes en el proyecto de segundo y te metes en el proyecto crimson verás que a los de segundo les enseño a hacerlo con left joint vale o sea que si lo has hecho así lo has hecho de forma correcta a los de primero para entender mejor lo que estamos haciendo prefiero que hagáis una subconsulta sql Vale entonces hacemos una subconsulta y así entendéis que es una consulta metida dentro de otra consulta vale Aquí tengo la consulta y aquí dentro tengo una subconsulta que como os digo es una forma muy primitiva de operar la forma más profesional es realizando un left joint pero es que estáis en primero vale Por eso digo que tampoco quiero agobiar más de lo debido Pero insisto Fran que si te metes en el proyecto de segundo verás que a los de segundo les enseño a resolver este problema con left joint que es lo correcto vale bien y ahora a continuación vamos a ver otro problema ya hemos solucionado el problema de vamos a ver orías bloques productos el problema de Que aparezca en el listado Pero qué ocurre cuando aparece cuando pincho ahí y quiero poner un productos título porquees claro aquí en productos título Qué pongo Alice blue o pongo el número uno pero yo como sé Tendría que ir a productos Y averiguar que Alice Blue no es el número uno sino que es el número siete es decir cuando yo me voy aquí y voy a Añadir un nuevo producto el programa debería reconocer que este campo está asociado con otro campo anterior vamos a hacer eso así que cierro por aquí me voy a copiar pegar me voy a 141 Select en insertar admin y voy a hacer lo mismo es decir en Campos formulario en admin include Campos formulario yo digo vamos a ver While fila eco input no If str contains de la fila Field contiene esto iba aquí espera contiene No aquí contiene un guion bajo si es cierto pasa una cosa si no es cierto pasa otra placeholder hasta aquí si no es cierto pasa otra cosa y si es cierto Select Eso quiere decir que si ahora me voy al admin si ahora me voy al admin me voy a acceder me voy a bloques productos me voy a crear una nuevo y si os fijáis allí arriba aparecen dos selects vacíos por supuesto vale pero aparecen dos selects por cierto que vemos que no están muy bien estilizados Eso es porque en el estilo del panel de control Tendremos que aquí donde pone input form input coma form Select recargamos vale Y ahora tenemos ahí los campos Select pero están vacíos vale Así que si están vacíos no hay ningún problema porque los vamos a rellenar eco y digo vamos a ver otra vez Fran petición sub petición dos vale Select all from filafil from filfil no vamos a ver explotado es igual a explode del guion bajo de la fila Field tabla es igual a explotado de cer columna es igual a explotado de un entonces Select columna Select identificador coma columna from tabla OK ahora resultado dos resultado 2s es igual a petición 2s While fila 2 es igual al resultado 2 y eco option Val es igual a fila dos identificador y el texto es fila dos columna si todo ha ido bien Vamos a ver si es cierto si todo ha ido bien vemos como ahora aparecen en el desplegable de Alice Blue aparecen los productos en el desplegable del tipo de caja aparecen los tipos de caja y si me voy al blog e inserto un nuevo elemento de Blog Pues en categorías me aparecen las categorías vale o sea que de esta forma con subconsultas Por cierto Fran que una cosa eh Te he dicho antes lo de que en primero en principio está previsto que lo arregle con subconsultas Pero si por lo que sea tú ya lo tienes solucionado con left joint déjalo con left joint O sea que en ningún momento En ningún caso te estoy diciendo que ahora lo rehagas y lo hagas como yo digo vale Simplemente no quiero haceros pasar por la complejidad mental de tener que pensar los left join dinámicos por eso lo sé lo sé por eso te digo de si ya lo tienes hecho si ya lo tienes acabado Y si ya lo has sacado déjalo y ya lo tienes adelantado para segund sego Y si en el caso de que después de 3 horas pues aún así siguiera sin sacarlo pues yo en ese caso te diría escúchate no te preocupes resuélvelo con una subconsulta y ya cuando llegues a segundo pues ya lo harás con left join dinámicos vale o sea que pero que en ningún caso estoy diciendo de rehacer trabajo vale eso que conste entonces aquí lo que voy a hacer Es que voy a otra vez hacer decir que voy a hacer una subconsulta de hecho es que insisto si le preguntas a alguien que sea purista de bases de datos te dirá a ver Esto no es correcto esto no Mola no es una buena práctica lo bueno es hacer un left join cosa que será verdad Pero la respuesta en ese caso es sí pero estáis en primero O sea vamos a ser un poco lógicos vale lo digo porque también eh Cuando muchas veces estáis viendo que pongo cosas en chat gpt pues chat gpt me da una respuesta Pro pero veis que yo me quedo con algunas líneas concretas que es como vale Sí pero este código es para alumnos de primero no es para gente Pro vale Por eso ahora en primero pues suelo tirar a las soluciones que sean sencillas y fáciles de entender y evidentemente cuando lleguemos a segundo pues ya no nos valdrán las soluciones sencillas sino que querremos las soluciones pro es decir querremos las soluciones buenas cueste lo que cueste vale Por eso digo que ahora mismo Pues un y join Dinámico puede ser difícil de entender y creo que será más fácil de abarcar para vosotros una subconsulta por ahí en el medio y ya está Vale bien pues vamos a ver con esto tenemos Esto vale hemos arreglado ahora esto que voy a hacer sí que puede ser difícil creo que esto Me lo voy a saltar porque eh si yo me voy a bloques productos y yo quiero cambiar a L Blue yo estoy cambiando un String vale eso no debe ser bueno yo lo que suelo hacer en ese caso es que en modificar cuando hago doble click en un elemento sale un desplegable vale Pero eso casi que para hoy todavía no porque es un poco heavy entonces vale esto por aquí la imagen se ve que no puse ninguna imagen Bueno si no pongo ninguna imagen eh lo que puedo hacer en un momento dado es poner un placeholder es decir eh aquí fijaos que este tipo de cosas quedan feas Vale entonces voy a esto que voy a hacer ahora entrar en la categoría de detallitos eh 142 no es por eso no es por eso placeholder imágenes es que no tenía directamente imágenes creo recordar vamos a comprobarlo igual sí que tenía No creo me voy a blog Y fíjate que en imagen tenía nul Por cierto imagen Qué es imagen es un medium blog no mal pues cambiar lo cambio a marchar pero da igual porque no tengo nada En definitiva vale es decir recargo y sigo igual vale porque no había puesto imágenes en el blog entonces Simplemente deciros que me voy a bajar de internet un image Place holder me lo podría hacer yo vale image placeholder algo como eso de hecho literalmente es está bastante Guay guardo imagen me voy a d no permiso denegado vale venga Place holder entonces Place holder aquí Place holder me lo muevo a esta carpeta placeholder teóricamente no es de los datos placeholder es del de la programación en img me lo guardo en img vale Y entonces en la siguiente versión placeholder imágenes en admin en Inc en tabla no contenido en contenido yo digo img vale yo digo If valor si valor es igual a nada en ese caso va a pasar una cosa els va a pasar otra si esto es cierto cargo esto okay Ahora hablamos de esto y si no es cierto cargo de img cargo placeholder punto jpg creo que era vale recargo Uh dónde estoy aquí recargo placeholder admin entro eh blog Vale y tengo placeholder pero si voy a otra parte si voy a Héroes por ejemplo pues me aparecen las imágenes correctas vale e Alguien ha abierto micro Alguien necesita algo a ver andrey has abierto micro se oí algo por ahí vale Ok Bueno no pasa nada voy a continuar bien entonces eh vamos a ver cosas un momento un momento porque iba a hacer algo concreto y se me acaba de ir la pinza o sea andrey ha conseguido que se la pinza a ver un momentín bloques estábamos con imágenes hay muchas cosas que podemos hacer también estilo de botones mira aquí empezo a tener un problema vale vamos a implementar una paginación veis que cuando la tabla empieza a ser demasiado grande eh empiezo a no ver correctamente vale empiezo a cuando hay por ejemplo más de 10 pues necesitaría tener página un página dos página 3 y así Eso es lo que se llama en un panel de control un paginador Vale pues vamos a implementar un paginador vamos a ver y copio pego f2 143 y paginador en admin bien para ello vengo por aquí y digo cuando arranco una sesión curiosamente yo puedo guardarme cosas hemos visto como podemos guardar cosas tanto en php como en javascript en php con sesiones y en javascript con local storage así que yo puedo decir eh session página es igual a cero me creo una variable de sesión como me puedo crear las variables que me dé la gana y en este caso la llamo página como siempre si algo está en español es que la puedo llamar como quiera Cuando yo llamo por aquí al escritorio y cuando llamo a la tabla Inc tabla y en el contenido aquí en el contenido hago un Select all from tabla pero yo aquí a continuación puedo decir Select all from tabla Y entonces le digo limit 10 offset sesión página multiplicado por 10 por cierto página debe empezar siendo cero correcto vale bien recargo me voy a la siguiente versión del panel de control me voy a admin entro me voy a blog e unexpected Double quoted momentín que error cometido tu Pues no sé qué error he cometido a ver okay No unex en la línea 13 línea 13 Pues no sé qué error Ah voy a decir esto y esto Vale ahora sí bien y tengo 10 elementos vale No tengo más tengo 10 elementos claro yo ahora en la parte de abajo necesito crear un paginador para crear un paginador Pues yo aquí en Inc me puedo crear un archivo nuevo llamado paginador php y luego en el contenido un momentín que te lo diga en la tabla aquí por ejemplo me puedo decir eh php include Ink paginador php bien en el paginador de momento voy a poner Hola soy un paginador para que cuando recargue me diga hola soy un paginador y al poner Hola soy un paginador vamos a ver un momentín Ok tabla correcto vale al poner Hola soy un paginador yo ahora a continuación voy a decir buton anterior Eh así Ah mira no es más emoji Arrow flecha vale eh Arrow uhu vale Sí este copio buton este buton quiero incluso Oh vaya Mira eh end Back pues flecha Back vamos a ver vale uno que sea Back o sea rollo s y ahora quiero otra flecha que sea hacia delante Okay vamos a probar recargo Vale ahora soy un paginador muy bien y aquí pues quieras que no tampoco está mal div ide paginador e incluso en plan componente pues Style Vale y paginador Button voy a decirle que background es known Border es known font size es 24 píxeles Okay vale una cosa así bien Ahora en cada uno de ellos yo digo a href y tabla es igual a eco get tabla and página es igual a cer y a Esto me lo copio y página es igual a siguiente Esto me lo copio Perdona siguiente no anterior Esto me lo copio Okay bien si hacemos esto veremos que vamos a ver que tengo página siguiente página anterior y página vale cero esto quiere decir que yo ahora a continuación puedo atrapar ese página y puedo tratarlo en el paginador yo digo vamos a ver arriba del todo eh A ver un momentín espera escritorio Okay If iset página entonces If página es igual a 0 en ese caso sesión página es igual a c si get página es igual a siguiente en ese caso página más y si get página es igual a anterior en ese caso sesión página menos Entonces si esto es cierto recargo eh blog vale recargo me voy a la siguiente página y me carga el 11 el 12 y el 13 me voy a la página anterior y me carga del 1 al 10 y da igual dónde esté porque siempre Back me lleva a la página inicial de esta forma hemos implementado Aunque un paginador de forma muy sencilla dentro del programa y ahora a continuación Pues voy a todo esto y lo voy a meter en calculapan php Me cojo todo esto me lo llevo a calculapan php y aquí en el escritorio le digo include Inc calcul página php Y así pues se me queda más limpio vale sigue funcionando todo bien vale pues ya lo tenemos bien Vamos a hacer un descanso ya que ahora sería la entrada en la clase de entornos de desarrollo y ahora a continuación Pues en la siguiente hora en la última hora pues intentamos avanzar el proyecto Entre hoy y mañana lo más posible para que de estas Navidades pues tengáis material para trabajar vale okay Vale pues para grabación