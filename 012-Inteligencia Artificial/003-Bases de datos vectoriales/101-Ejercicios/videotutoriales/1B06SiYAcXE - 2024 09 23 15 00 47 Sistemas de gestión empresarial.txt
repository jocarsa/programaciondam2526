vale Por una parte eh deciros que por cierto de analizador creo que voy bien Sí vale eh deciros que en los últimos días he estado haciendo esto en los módulos de todos realmente en los módulos técnicos evidentemente Pues he estado al final del temario añadiendo una serie de qué más sí Cuidado con la voz ahí con respecto a cosas que hemos estado viendo en las clases Vale entonces cada fin de semana pues veréis aparecer pues la clase del día tal Y pues un esquema de qué es lo que se ha comentado en esa clase en todas las asignaturas bien eh empezando con sistemas de gestión empresarial recordamos que el otro día aquí Hicimos lo siguiente nos vamos a dam nos vamos a segundo nos vamos a eh sistemas de gestión empresarial nos vamos a proyecto y el otro día hicimos hasta aquí hasta la parte de javascript en la cual pues vamos a hacer localhost bar dam barso bien y sistemas de gestión empresarial proyecto javascript e hicimos esto vale metimos un usuario metimos una contraseña hicimos un login y lo que hicimos fue que se emitiera eh un Jason claro se emitiera un Jason contra qué Pues claro en el momento en el que hablamos de una aplicación que inherentemente no va a ser eh No va a ser monousuario sino que va a ser multiusuario pues se supone que esa aplicación eh trabaja contra un servidor y lo que tiene ese servidor en una gran mayoría de los casos pues es Generalmente detrás una base de datos esto qué quiere decir pues que si yo aquí estoy introduciendo un usuario y una contraseña y yo le doy a loguear Pues evidentemente eso al final tiene que ir contra una base de datos que tenga un registro de usuarios Y compruebe si ese usuario tiene permiso para acceder o no lo cual quiere decir lo cual quiere decir que en esta siguiente parte me voy a ir a local Host me voy a ir a php my admin y en php My admin voy a Iniciar sesión y vamos a empezar a eh crear Vale entonces vamos a lo voy a apuntar todo en un editor porque esto sería un poco como la versión 4 a ver creo uno nuevo esto sería en dam de segundo en sistemas de gestión en proyecto y es eh nueva carpeta no hay y nueva carpeta increíble Vale pues Aha pues vamos a ver la nueva carpeta y proyecto y 004 eh base de datos con usuarios lo cual quiere decir que como os digo aquí dentro Pues voy a hacer un comandos punto bueno a ver crear based datos.sql y yo ahora mismo Estoy en modo desarrollo pero en el temario hay un punto de Cómo se instala una un crm erp lo cual quiere decir que yo ahora mismo estoy creando una Configura configuración inicial configuración de la cual más adelante Tendremos que derivar un paquete instalable Vale pero evidentemente no voy a instalar algo que no tengo todavía tengo que tenerlo para luego poder instalarlo vale Así que create database qué Pues vamos a ponerle un nombre de Algún color curioso porque es como nombro yo los proyectos de software entonces eh No sé decidme Algún color curioso a ver eh css3 color names uno que nos guste vamos a ver Uy espera eh color names pero los grandes aquí vale Blue anti White Aqua no porque Aqua Es un término que se asocia mucho a apple escarlata vale lo de escarlata me ha gustado eh Esmeralda también Perdón por supuesto Siempre poniéndolos en inglés más que nada es que escarlata es crimson en inglés vale con lo cual que es un nombre que suena un poco extraño en español Esmeralda es emerald vale voy a quedarme con crimson Sí con lo cual lo que voy a hacer es database crimson Vale y a continuación use database use crimson creo que es vale con lo cual voy a copiar me voy a mysql para que comprobéis que el comando es el correcto ok Ya tengo por aquí crimson bien use crimson esto no tiene mucho misterio porque es entra dentro de la base de datos estos comandos sql son importantes porque que luego los tendremos que utilizar en el instalador es decir cuando eje cuos el instalador tendrá que e en primer lugar crear una base de datos y todo eso vale a continuación voy a hacer lo siguiente chat gpt y mysql create user José Vicente no create user crimson with password crimson for and Grand all privileges to database crimson lo podría hacer con php my admin vale pero es que lo que quiero Precisamente es hacerlo mediante código con lo cual 002 crear usuario para la base de datos y pego Esto vale create user me voy a sql create user identified by crimson Ok a continuación al usuario crimson le doy todos los privilegios en la base de datos crimson acceso denegado para José Vicente OK Vamos a ver tu crimson local Host voy a entrar aquí voy a entrar aquí voy a entrar aquí no acceso negado toma para la base de datos crimson Bueno pues voy a privilegios y ya está y le digo que agrego cuenta eh información de la cuenta Claro porque si me voy ahora a usuarios local Host más Hola cuentas de usuario tengo ahí crimson vale Y entonces privilegios globales Ok Pues sí que existe no sé por qué no me deja vale eh privilegios José Vicente Ok agregar cuenta de usuario y quiero claro es que si le digo crimson me dirá que ya existe vale con lo cual vamos a hacer esto aquí cuentas claro y no me dejas eliminarla qué cabrón Vale pues nada vamos a hacer crimson dos así que privilegios cuenta de usuario crimson 2 en servidor local crimson 2 son dos estoy aquí estoy creando ya está acceso negado para el usuario José Vicente vale bien vale No pasa nada me voy a conectar como José Vicente y ya está Y qué Us Y qué contraseña tiene José Vicente Pues no lo sé Claro la cuestión está en que para ello tendría que vale No no ar en la terminal y decirle que sudo mysql u Root le pongo mi contraseña OK Y entonces aquí es cuando igual ahí sí que me deja sí Añadir todos los privilegios Ok vale Y ahora flux privileges porque como ahí en la en el terminal estoy entrando como Root Pues no hay ningún problema que vosotros en Windows No vais a tener ningún problema porque como con el shamp automáticamente Entras como Root te va a dar permiso a todo vale Yo porque estoy aquí bien ok FL privileges lo cual quiere decir lo cual quiere decir que ahora puedo salir puedo entrar como crimson vale Y ya está solo tengo acceso a crimson pero es que es lo que quiero vale con lo cual me da igual No ver el resto de tablas Ok y a continuación esto qué quiere decir pues que si tenía un formulario de login y quiero hacer un login me hará falta una tabla de usuarios para hacer login Vale ahora en este caso hay que tener en cuenta lo siguiente Y es que vamos a crear en este sistema de gestión empresarial una inmensa barbaridad de tablas vale por tanto yo lo que voy a hacer en este caso es intentar diferenciar ahora veremos Cómo no falta una tabla alternativa qué tablas forman parte del núcleo de la aplicación y qué tablas forman parte de los núcleos Perdona de los módulos de la aplicación acordaos el otro día cuando comentábamos lo que es un rp lo que es un crm lo que es un todo eso que estuvimos comentando que en principio una rp tiene módulos vale pero los usuarios no es un módulo los usuarios forma parte del núcleo del sistema Vale entonces voy a crear una nueva tabla usuarios eh que va a tener una serie de columnas vale va a tener pues eh vamos a hacer o como lo llamado crimson Ah Sigue sin dejar clonar el jeub eh Pero por qué quiero decir cuál es el motivo por el cual no os deja clonar porque claro el único feedback que tengo es el de Blanca que en principio Blanca parece que se ha quedado se había ha quedado sola con el tema de los 256 por los títulos Vale entonces tú ahora estás confirmando aquí que a ti también te pasa lo digo porque el otro día en el grupo de WhatsApp pregunté Oye pero alguien más me le pasa y creo que sonó un grillo por ahí y pasó una bola del desierto en el grupo de WhatsApp vale con lo cual pues Vale pues bueno saberlo ahora si os da error y pregunto un apaño descargándolo en cip vale si os da error y pregunto en ese error tenéis las rutas concretas que dan error pues si me podéis pasar copiar y pegar el reporte concreto de qué rutas dan error así no me tiro yo otra vez un buen rato repasando rutas si igual lo apañamos con dos o tres rutas vale con lo cual cuando os dé error copiad y padme el mensaje y vamos directamente al grano lo digo porque el otro día pues ya AC corté unas cuantas rutas y es que si acorto más al final Pues no lo sé vale bien Sí Descargar sí no con Descargar están comentando que sin problema pero al parecer el clonar sí sí vale bien pues sí pero más que foto por WhatsApp dragos yo creo que el mensaje de error te dejará copiar y pegar te lo digo porque si quieres copiar y pegar y lo pones por el grupo y así lo tengo como texto que creo que iremos más rápido pero bueno sí de vez en cuando da parp la luz si no te preocupes vale entonces me voy a usuarios me voy a crear Y bueno ya sabéis lo típico lo de siempre y lo acostumbrado Y es que vamos a crear un identificador Vamos a darle 10 de longitud ya sabéis que es una clave primaria autoincremental y ahora a continuación ya sabéis que igual que el otro día pues vamos a intentar em mantener el mínimo número de Campos posibles por tanto digo usuario contrasena y ahora digo nombre apellidos y ya está Vale y ahora luego veremos qué nivel tiene este usuario Pero eso no será aquí eso será en otra tabla por tanto como os digo quiero mantener una tabla con lo mínimo posible marchar de 100 y marchar de 100 Vale y con eso ya lo tenemos de momento Así que vamos a ver previsualiza me lo pego en el editor quieto no quita me lo pego en el editor 003 crear tabla de usuarios y pego Vale y ahora insertar un usuario cuo vale insertar un usuario Así que inserto el usuario H con contraseña jarsa nombre José Vicente apellidos carratalá sách bien Y le doy a continuar tras lo cual aquí arriba ver El Comando insert entonces me voy a 004 insertar usuario vale Y eso quiere decir que ya estamos en disposición de empezar a hacer una petición con la base a ver un momentín dragos segund que así le echo un vistazo y aquí vale perfecto vamos a verlo segundo desarrollo de interfaces Vale pues perfecto pues así voy directamente Qué raro invalid p no me cuadra que cuadra qué no me cuadra que esa ruta tenga más de 200 Ah pero tiene un espacio después de interfaz de usuario tiene un espacio Yo creo que es por eso Bueno pero bueno ahora miraremos vale Okay venga Entonces vamos a ver una vez que tengo esto ahora es cuando tengo que ejecutar ese esquema de cliente y servidor donde me voy a javascript me voy a renombrar Y esto es 005 eh conexión con la base de datos Y eso quiere decir que ahora a partir de este momento este proyecto me lo divido en cliente y servidor vale por tanto todo esto va al cliente y ahora veremos qué es lo que va a servidor vale por tanto eh aquí en cliente lo que voy a hacer como os digo es este Index Lo abro con el editor de código este Index Lo abro con el editor de código nos vamos a login js que recordamos que tiene cuanto menos código mejor y usuario es igual a esto y contraseña es igual a esto Qué quiere decir pues que ahora a continuación lo que voy a hacer es envío ahora comento un poco todo esto envío el contenido Vale entonces vamos a ver por aquí eh Por aquí y javascript fetch URL and Send js Data Oh no no para para que no quiero esto Uf Qué susto vale Ahí vale Y pues ya está muy bien entonces hago así madre de Dios Cuánta cosa hago así lo pego Aquí sí No te asustes vale porque todo esto tiene un montón de cosas que no me hacen falta para empezar vamos a ver URL es esta de aquí pues no fetch y el fetch es dos puntos barra servidor y usuario o login usuario php vale con lo cual vamos que por aquí con lo cual de entrada la URL va fuera esto ahora Lo pondré comentarios con Data Pues claro con Data es env con lo cual el con Data también va fuera vamos a ver method post heers J son y Body stringify envío vale Ok y ya está en este caso queremos post muy bien then response Ok esto fuera no queremos todas las estructuras de control y el punto Catch lo voy a dejar fuera asumiendo que no de error más que nada para simplificar todo al máximo posible Okay Muy bien pues vamos allá vamos a ver eh Por una parte en este caso lo que estoy haciendo es ir a eh login usuario vale Por eso ahora voy a crear un nuevo archivo y no quieto aquí fuera Vale y lo voy a guardar aquí conexión con la base de datos como servidor como login usuario.php vale login usuario una mosca Ah no es una mosca fantástico es una araña que sepáis que se me acaba de subir una araña a la barba y estaba jugando con mi barba la araña la cabrona sí tiene donde agarrarse s eso sí que es cierto Vale entonces vamos a ver yo aquí lo que quiero es Ah cuidado aquí Me falta una comilla vale me conecto a un microservicio y le envío la información js en Post claro aquí ahora quiero que el servidor me devuelva un Jason y ahora de momento voy a poner ese Jason en la consola simplemente para ver que la comunicación es Okay entonces qué ocurre con esto Bueno pues que ahora el login usuario de momento lo que voy a hacer de momento porque vamos a ir pasito a pasito y cuando digo que vamos a ir pasito a pasito lo que quiero decir es que vosotros también debéis ir pasito a pasito eso es lo que realmente quiero decir vale yo hago un eco y creo un Jason y digo resultado dos puntos ok Ya está ese es el Jason vale yo le pido algún microservicio todavía el microservicio no está recogiendo nada pero lo que quiero es que es ver si me devuelve Ok ver si estoy llegando correctamente vale si esto es cierto si esto es cierto vamos a ver ahora vengo por aquí vengo t por aquí me voy a conexión que todavía va a ser que no pero bueno me voy a cliente y envío tiki ti le doy a login y me dice success resultado Ok y cuando digo resultado Ok quiero decir OK Pero Ok de verdad de la buena Vale entonces ahora recargo envío y me dice ok pero de verdad de la buena vale para que veáis que es cierto que vamos a ver me voy a in escape vamos a intentar recuperar stack vale porque lo que está ocurriendo Es que tengo este pack de css html y js Y esto es el cliente es lo que está en el cliente y de aquí realiza una petición a php de momento ahora mismo no se está conectando mysql Vale ahora haremos conecte pero php de momento me está devolviendo un Ok vale soy php y te digo que me has llamado vale si todo eso va bien Ahora sí nos vamos a conectar a my sql y ahora vamos a pasarle a my sql para que nos diga si el usuario que está enviando es correcto o no lo cual quiere decir lo cual quiere decir que yo ahora vengo por aquí cierro todo esto me voy a la carpeta me voy a copiar pegar me voy a 6 006 compruebo el usuario vale compruebo el usuario quiere decir que me voy a servidor login usuario me voy a eh php mysqli Select While O sea me voy a la documentación de php para sa para sacar el clásico bloque de código de php voy a procedural ahora luego hablaremos de si objetos o no objetos o qué me pego esto aquí esto fuera esto ya vale Y entonces digo mysqli es local Host es crimson usuario crimson password crimson y base de datos crimson ya sabéis del año pasado que yo de momento estoy poniendo esto aquí a Palo Seco pero dentro de nada haré un include a un archivo de configuración y cargaré de ahí vale Pero vamos poquito a poquito ahora a continuación digo vamos a ver cuál es el query es Select all from usuarios Where usuario es igual a algo and contrasena es igual a algo vale Esa es la petición Qué es ese algo bueno pues si yo estoy enviando datos mediante post y los datos se llaman usuario y contrasena pues entonces esto es post usuario y esto es post cont Qué pasa aquí Ah no sí po contrasena vale estoy comprobando que todo esté bien todo parece estar bien vale resultado Devuélveme una raya asociativo vale Y mira sabes qué vamos a hacerlo Mejor vamos a ver my sqli Select all from usuarios Where usuarios igual a estoas igual a esto Y sabes qué pasa a mí realmente el Bueno sí va Te voy a decir el nombre me da igual pero va venga vamos a poner el nombre también y ahora vengo por aquí este eco ya no vale Y ahora vengo por aquí y voy a decir que hay por aquí una opción de eh return Row as js hay un comando bastante Guay bastante sencillo de php que sirve para una rray y convertirlo una Ray asociativo y convertirlo en un jas Vale entonces madre de Dios no vale estoy con ch gt40 aquí me propone hacer un binding de parámetros vale No quiero esto de momento pero es un buen consejo por parte de chat gpt por seguridad pero hoy no quiero seguridad porque si estamos con login y de repente empiezo a hablar de seguridad al final no vamos a liar con un montón de cosas vale por tanto Reconozco que la propuesta de tat gpt es muy buena Vale pero no hoy todavía lo que quiero es esto vale jasen code Row Así que vengo por aquí Así que vengo por aquí y ya está Y esto es lo que quería bien si todo va bien e Au cuidado si todo va bien lo que va a ocurrir es que el sistema me va a devolver si todo va bien otra cosa que puedo hacer es If Row Else Entonces en ese caso eco error o algo así vale eco eh no al revés esto y resultado y error vale vamos a por ello vamos a probarlo eh dónde estás aquí okay vamos a compro el usuario vamos a cliente pongo le doy a login vale expected Ah Sí perdón no usuario contraseña ostias Ah s no esto es correcto vale expected after property name J position no sé qué vale o sea está pillando mal el jas no sé qué If els Vale ahora voy a poner jarsa no vale eso es que está devolviendo un jas incorrecto Mira If Row Tac atrás a ver un segundo y eco resultado error Ah Espérate Espérate Es que además ahí no es una coma son dos puntos vale triqui trii triqui resultado error y ahora si pongo aquí jarsa no resultado error Oh Qué curioso no vamos a verlo jarsa resultado error Por qué resultado de error Select all from usuarios we usuario and contrasena me voy a la base de datos usuario contrasena jarsa y jarsa vale pues vamos a ver Select all from usuarios Where usuario es igual a esto and contrasena es igual a esto Vale entonces lo que voy a hacer Es que aquí pongo sql dos puntos query Entonces vamos a ver qué está lanzando en la query vale tiki tiki Okay unaspected token perdón esto lleva unas comillas Vale ahora sí login Ah vale Y escapar hay un carácter No válido eh A ver php escape characters otra cosa que os digo otra cosa que os digo es que yo siempre intento de buguear todo en pantalla pero técnicamente hay una fórmula php write file y que tampoco está mal que nos empecemos a acostumbrar que es escribir un log de errores Vale entonces Yo vengo por aquí vamos a ver aquí yo vengo por aquí y entonces en el caso de error digo fopen log.txt en modo append en modo Añadir el texto es igual a el query punto n fw my file y eco Esto me lo puedo cargar ya vale si yo hago esto Si yo hago esto y ahora digo jarsa me dice error unable token u No estamos unable token ected token dime dónde Ah perdón unable to Open file vale Open file es que yo tengo que venir aquí y decirle que el proyecto y decirle que el proyecto esto es un problema solo de Linux y decirle que el proyecto tiene crear y eliminar vale Ok Ok vale venga vamos a verlo ahora sí resultado error pero a cambio me habrá creado en el se en el servidor un log txt y ese log txt dice Select all from usuarios Where usuario igual a flunking en contraseña es igual a flunking qué está pasando pues que no está pasando el post usuario y el post contraseña por qué no lo está pasando No lo sé vamos a verlo No lo sé vamos a verlo quiere decir que me conecto al código vale eh Where usuario es igual a post usuario vale en principio es correcto and contrasena es igual a post contrasena en principio es correcto vamos a ver el login lo estaba enviando como post con lo cual lo que voy a hacer es en aquí txt es igual a bardom post o sea Sácame todo lo que viene por post hago así unexpected token a muy bien espera esto no aquí esto aquí ok array No es un Jason válido php to String bueno stringify array stringify bueno j array stringify este y aquí vale muy bien Vamos a ver el log descartar sigue igual no me está poniendo ahí esto vale otra cosa otra cuestión vamos a ver si yo vengo por aquí y me voy a login envío es igual a este jas y lo que envío es envío lo envío J son stringify envío Okay se resiste es que hay otra cosa que puedo hacer pero bueno no quiero hacerla pero me va a tocar hacerla que es quito todo esto y digo esto lo quito y digo usuario es igual a usuario and contrasena es igual a contrasena y así de esta forma vamos con get y no nos quedamos atrapados en el error del post vamos al get se lo estoy pasando por get y por tanto ahora esto fuera y digo Ah es error Ay venga a ver aquí por qué me Ah Ah unexpected token imposible resultado error está enviando un doc type vale vamos a suponer que no sabemos Dónde está el error login usuario resultado error servidor login usuario esto es el error vale resultado error OK ahora aquí introducimos Ok y ahora sí si pongo a y a me dice resultado error pero si pongo joc carsa y joc carsa lo que ocurre es que me dices Access y por tanto lo que quiere decir es que ha entrado correctamente vale además como podemos ver me está devolviendo todos los datos del usuario hoy como digo no quiero centrarme en seguridad vale porque vosotros me podéis decir hombre esto de que el identificador de la base de datos no Mola nada porque el identificador de la base de datos se tendría que quedar siempre en la base de datos entonces incluso podríais decirme bueno es que únicamente quiero el usuario no hace falta que venga la contraseña Aunque la contraseña se la he enviado yo eso realmente en este punto se arregla con algo tan sencillo como en lugar de decirme todos los datos pues Select usuario from usuarios Y entonces si ahora envío nos fijamos como nos devuelve el usuario vale otra cosa que podemos devolver otra cosa que podemos devolver es que al Row le podemos devolver un resultado entonces Row vamos a ver Row de resultado es igual a Ok eso qué quiere decir Perdón ok y resultado es igual a Ko que yo necesito saber si esto vuelve correctamente o no vuelve correctamente vale por tanto recargo a a a ver venga eh punto y coma vale a es resultado Ko pero si pongo jok carsa y jok carsa me dice usuario jok carsa resultado Okay con esto Ahora sí por fin podemos ya volver a el archivo Y entonces vamos a ver este código Ya lo tenemos más o menos por aquí vamos a más o menos comentado vale No tiene mucho misterio ahora vamos a comentar este código y es establezco el nivel de retorno de errores de php me conecto a la base de datos realizo una petición compruebo si el usuario enviado existe en la base de datos entonces en el caso de que exista bueno perdón en la línea de arriba ejecuto la petición contra la base de datos en el caso de que exista le añado una propiedad resultado y le digo que Es OK le añado además todo lo que viene de la base de datos y en caso contrario en caso de que no exista en ese caso devuelvo al cliente un coo vale Por qué Pues porque ahora a continuación tenemos que ver qué va a hacer el cliente y entonces digo 007 el cliente maneja la situación Vale y por lo tanto el cliente maneja la situación no aquí esto quiere decir que success pun Data digo si Data punto resultado es decir si Data contiene una propiedad llamada resultado y es igual a Ok en ese caso console.log entras correctamente els console pun log error al entrar si yo lo atrapo en un fels como podéis imaginar ya podemos hacer lo que queramos AAA a login error al entrar jarsa joc carsa login entras correctamente ahora qué podemos hacer para entrar Bueno pues en el caso de que el login sea es caray satisfactorio vale entras correctamente a ver a continuación ahora necesito un mecanismo para que el cliente recuerde quién soy en caso contrario Bueno pues o bien puedo poner un alert que es un poco molesto la verdad o bien lo que puedo hacer es que aquí en el Index por ejemplo aquí en el form login voy a hacer un div ID e Mira Sí el di ID Pues no sé feedback Y entonces por ejemplo puedo decir que document get Element by bueno query selector sabes query selector que es feedback punto innerhtml es igual a usuario incorrecto redirigiendo en 5 segundos y ahora por ejemplo puedo decir set Time out eh function en 5000 milisegundos y Windows pun location es igual a Windows esto qué quiere decir Bueno aparte de que pues puedo poner un poquito de login Vale y digo feedback es sabes no me voy a complicar mucho color red ya está tampoco nos liemos Así que vengo por aquí 007 cliente y digo Taca taca le doy a login y me dice not properties of null mom A ver por qué query selector feedback Pues sí que existe feedback no vamos a infeccionar Body form login Ah muy bien dónde he editado yo el código o sea este feedback dónde lo he puesto yo 007 el cliente maneja la situación he puesto algo mal div ID divid feedback Ah ahora vale que tengo que pulsar control mayúsculas r para recargar cambios a login usuario incorrecto redirigiendo en 5 segundos vale si queréis voy a hacer un poquito más grande el estilo login form login H 380 vale a login y usuario correcto rigiendo en 5 segundos si todo va bien en 5 segundos no sé si habéis visto cargado la página Vale ahora qué ocurre cuando sí que entro correctamente bien eh tenemos un método de almacenar en el cliente información bueno Perdona Tenemos muchos métodos lo primero que evidentemente a todos nos viene a la cabeza Pues debería ser cookies pero las cookies pues son un método de guardar información un poco anticuado está ahí vale pero trabajar con cookies en javascript nunca ha sido especialmente fácil con lo cual os voy a decir que si yo me voy a application dentro de application yo voy a ver que muchas veces no nos damos cuenta pero cualquier navegador tiene a día de hoy un montón de herramientas vale para guardar y para recuperar información hace un tiempo existía el mecanismo llamado web sql que era una base de datos sqlite metida dentro del navegador lo quitaron nunca he sabido por porque a mí me encantaba pero a día de hoy el método más seguro de meter información dentro de un navegador es Index de B vale es una pequeña base de datos que básicamente trabaja con parejas de clave valor entonces de esta forma yo a continuación voy a venir por aquí y voy a decir javascript Index db insert value y hay un trocito de código vale Sí paso a paso pero no me hace falta paso a paso Vamos a ver aquí vale Ok madre de Dios Qué barbaridad todo esto no hace falta No es esto no Mikey Store Espera a ver que es un poco bestia a ver si utilizamos otra cosa como el local storage vale vamos a local storage vamos a ver javascript local storage e insert value se quiero esto se quiero algo que sea lo más sencillo posible vale o sea si lo podemos hacer en un One Liner mejor que sea sencillo y que sea compatible evidentemente puede ser que hace dos años lo hiciéramos con local storage sí Beatriz puede ser completamente vale lo digo porque el local storage hace años que y yo creo Beatriz que hace 2s años probablemente os hablaría y quizás os puse algún ejemplo de web sql vale ya no lo pongo porque es que desgraciadamente lo van poniendo como deprecated desfasado pero me gustaba muchísimo pero en fin Pero local storage sigue vigente Vale entonces yo quiero venir por aquí y decir eh En el caso de Ok Vale pues local storage eh Ke es usuario voy a poner bueno usuario Cri Mira crimson os acordáis de lo que os dije de espacio de nombres Ah no os lo dije a vosotros lo dije en primero ya os lo contaré de espacio de nombres crimson usuario y value es Data usuario vale vamos a ver si esto es cierto vamos a ver si esto es cierto Yo vengo por aquí recargo Vale y digo Taca ta no es válido en 5 segundos te voy a redirigir Pero vale pero si pongo jok carsa Y jok carsa le doy a login y aquí en console me dice entras correctamente y en application me voy aquí y por aquí abajo en crimson usuario no sé si veis cómo me recuerda jok carsa Es más yo puedo venir por aquí cierro esta pestaña puedo cerrar si queréis el navegador entero puedo cerrar el ordenador entero y hago así y me daré cuenta como aquí sigue Recordando el crimson usuario por tanto es información persistente ahora si yo acabo de hacer esto vosotros evidentemente lo primero que me vais a decir es que esto es una barbaridad porque estoy guardando un usuario a las bravas a las claras en un navegador con lo cual este mecanismo de autorización es muy manipulable puede venir alguien puede insertar una clave porque yo puedo venir aquí y puedo decirle Perdón puedo venir aquí caray aquí y puedo decirle a Ah con lo cual alguien puede crear manualmente la clave crimson usuario y Puede crear el usuario que quiera y entra Vale entonces con esto lo que os quiero decir es que en esta asignatura estamos en sistemas de gestión empresarial y Nuestro objetivo es hacer que la aplicación funcione acordaos que en acceso a datos hay un capítulo específico llamado cript y seguridad donde Nuestro objetivo es codificar las comunicaciones para que no cualquier persona las pueda atrapar vale Por eso yo ahora a continuación voy a continuar hacia adelante pero que nadie se escandalice porque me digáis ya está este es el mecanismo de guardar datos Porque más adelante donde ahí pondrá jarsa pues pondrá una clave que solo el sistema podrá conocer y como no le metas una clave correcta pues no podrás entrar Vale bien Ahora una vez que hemos hecho esto Una vez que hemos hecho esto ahora a continuación me voy a 008 y escritorio y por tanto en escritorio vamos a ver en escritorio Pues en cliente Voy a crear un nuevo archivo voy a crear un nuevo archivo lo voy a guardar en escritorio en cliente como escritorio punto para hacer una separación pura voy a hacer html vale luego Igual me toca cambiarlo a php de momento vamos a cambiarlo a html y digo Si estás viendo esto es que estás en el escritorio con lo cual en el js si entras correctamente le voy a decir document query selector acceso redirigiendo en 5 segundos y window pun location set Time out de 5 segundos el esto es escritorio pun html lo del Time out no es balad porque lo que se intenta hacer es que si el usuario falla tenga que esperar 5 segundos para que si alguien mete alguna heri matizada no puede hacer x intentos cada segundo sino que solo puede hacer un intento cada 5 segundos vale Ya os digo no es el objetivo ahora mismo hablar de seguridad informática Pero bueno poco por tenerla en cuenta vale entonces escritorio cliente y yo digo a Ah Ah Es incorrecto te redirija en 5 segundos pero si pongo jok carsa me lo seguirá poniendo de color rojo lo podríamos pintar de color verde Pero bueno vale con lo cual hoc carsa le digo login acceso correcto redirigiendo en 5 segundos y en 5 segundos me dice si estás viendo esto es que estás en el escritorio vale otra cosa que voy a hacer momentín vamos a tocar un poquito el css Aquí vamos a ver para empezar el feedback c y ahora en javascript voy a decir document query selector feedback punto Style punto color es igual a red es decir manejo el estilo Pero lo manejo con javascript no es por regla general muy recomendable pero en este caso está Eh justificado vale porque eh pongo el mensaje de color rojo y escribo mensaje de error y en 5 segundos vuelvo al mismo sitio entonces con esto pongo el mensaje de color verde escribo un mensaje de Ok y por tanto eh Hola ah no no perdona No esto es Green esto es red claro este es el mensaje de error Este es el mensaje de Ok verde rojo vuelvo al mismo sitio y me voy al escritorio vamos a probarlo Taca taca eh error error mensaje línea 28 hay una barra ahí que no toca correcto Ah Ah aquí login usuario incorrecto te redirija ahora okay ahora pongo jok carsa login acceso correcto de color verde redijo en 5 segundos y nos vamos al escritorio vale con lo cual ya hemos implementado correctamente Ahora sí todo este stack basado en microservicios mediante el cual Pues en este caso en el caso de que sea correcto ahora me voy a otra página o sea valido con el retorno y ahora Ah en otra página voy a hacer otra petición a microservicios vale voy a hacer esto bien a continuación ahora vamos a la página de microsof O sea la página de escritorio y lo vamos a formatear mejor así que 009 formato de escritorio Vale qué tiene un escritorio pues recordamos que el otro día os indiqué que un escritorio en un rpcm pues tiene una serie de accesos Más que nada porque tener en cuenta que es un sistema de gestión empresarial con lo cual a ese sistema teóricamente van a acceder por ejemplo ventas no quiere ver contabilidad ventas quiere ver lo de ventas tenemos que separar efectivamente van a acceder recursos humanos no quiere ver contabilidad quiere ver únicamente recursos humanos entonces la idea ahí es tener un panel de control inicial os acordáis que eh odo Eh bueno control panel a ver Entonces teníamos una cosa así teníamos modules module selector aquí vale lo que quiero hacer es literalmente esto no te digo que me lo quiero copiar pero sí que me lo quiero copiar vale Sí así te lo digo Entonces yo a continuación lo que voy a hacer es una página como esta en la cual pues tendré arriba una barra de notificaciones tendré un usuario quién soy yo tendré una serie de módulos Y si os fijáis Y si os fijáis eh esta serie de módulos están bastante bien Por ejemplo para hacerlos con el framework grid de html y css de hecho yo por ejemplo ahora mismo mi página la tengo hecha con grid que es esa idea no esa ese rollo de una rajilla Vale entonces para esto Una vez que tengo este diseño en mente vale Yo ahora a continuación me vengo por aquí formato de escritorio me voy a escritorio me voy a crear un documento también llamado estilo escritorio A ver aquí cierro bueno y en escritorio básicamente como os podéis imaginar voy a hacer un doc type html voy a hacer un html por aquí voy a hacer un html por allá voy a intentar mantener el escritorio como si todo en este desarrollo en este asignatura lo más sencillo posible porque insisto ya se complicar Vale entonces html lang es igual a s html title titel crimson ti crimson vamos a ver crimson rp vale y meta charset es igual a utf8 bien ahora creo un Body Y en este Body si os fijáis en la maquetación de odo Pues básicamente aparte de este mensajito que no voy a usar para nada pero tengo una barra arriba tengo un footer Perdona tengo un header y tengo un Main con lo cual bueno y tengo módulos por aquí vale Eso quiere decir que por aquí voy a tener un header y el header va a tener info de el usuario info de la empresa y un Main vale a continuación voy a meter un link rel es igual a Styles sheet href es igual a estilo qué pues estilo escritorio punto css aquí es donde tenemos que empezar a pensar en frameworks tales como por ejemplo angular o react donde hay una carpeta y cada carpeta lleva su html y su css vale de momento no lo voy a hacer Pero más adelante me voy a inspirar en estos frameworks para organizar mejor la información porque vosotros diréis otras que este empiezas a tener login pero ahora vas a tener escritorio Vale pues Ahora lo trabajaremos Mira otra cosa que puedo hacer si quieres para ir haciéndolo ya no cuesta mucho es escritorio dentro de escritorio este archivo lo voy a llamar Index Jer va Index así Ok ahí y ahora Index venga va eso qué quiere decir pues que ahora crearé un archivo llamado aquí cliente escritorio y estilo.css y crearé otro archivo llamado eh comportamiento js Con lo cual si cada carpeta tiene un Index estilo y comportamiento pues cada carpeta será predecible Vale y lo tengo todo agrupado poco para que veáis el rollo de lo que podemos hacer vale Así que aquí le digo que quiero ir a escritorio quiero ir al módulo escritorio esto insisto cuando más adelante eh veamos algo de angular o algo de react en alguna de las asignaturas no sé ahora mismo en cuál pero en alguna lo veremos veréis que esto de crear una carpeta y Llamar Index estilo y comportamiento y que a partir de ahora todas las carpetas tendrán esa estructura diréis Oye José ficiente queé ordenado que es no me estoy copiando de lo que he visto en un framework que te da buenas prácticas y te da buenas ideas y tal vale bien entonces ahora me voy al escritorio en el escritorio me cargo estilo.css y aquí arriba me cargo Script src comportamiento js por tanto esta plantilla es aplicable a prácticamente cualquier módulo vale eh a lo largo de del curso ya os diré que yo soy bastante antif frameworks yo creo que en el curso anterior alguna vez os lo he dicho vale Pero que sea antif frameworks tiene muchos matices no quiere decir que no me gusten los frameworks porque recono Reconozco que de muchos de los frameworks se pueden aprender muchas cosas que luego puedes utilizar en tus propios programas soy anti a convertirnos ahora en talibanes de los frameworks a trabajar solo con framework solo con angular como mucha gente vale Ya os iré contando esto a lo largo de los meses y ya veréis Qué cosas me gustan Y qué cosas no tanto bien Ahora yo lo que quiero es entrar en mi web vale una vez que tengo esto vamos a asegurarnos de que todo funciona correctamente y no me fastidiado nada eh dónde estás aquí bien 008 escritorio formato de escritorio cliente jarsa verde esperamos 3 segundos y entonces ahí entramos en escritorio pues no Ah okay Vale Perdón Ya decía yo escritorio barra no no porque a ver bueno no tengo pero es una buena costumbre ponerlo también te lo digo a ver te cuento vale info Eh sí que es bueno sí que es buena costumbre poner Index eh En este caso ocurre que el servidor Apache cuando yo indico una eh una carpeta tiene una cosa que se llama los archivos y las extensiones por defecto si yo no indico nada Busca un Index html un índex php un índex asp un Index jsp pero eso es Apache Y si el día de mañana no uso Apache Pues de repente esa parte dejará de funcionar vale por eso Si os lo indico a mano mejor costumbre tened en cuenta que luego más adelante la migración a otras plataformas de este software es importante O sea que se pueda migrar otras plataformas Y que siga funcionando vale Bien voy a de mi página voy a de mi página algo de código como veréis mi página es lo anti programación que te puedas imaginar vale css html javascript todo junto en el mismo archivo todo seguido vale Pero por qué Pues porque yo soy así entonces vamos a ver de aquí Me quiero esto a ver quiero este grid container y quiero este grid item y ya está muy bien vale entonces me voy a ir a estilo eh Hola ha cargado no cliente escritorio estilo Eh no carga Por qué estilo ostras qué ocurre Index Ah muy bien Se ha quedado frito vale va abrir con editor de texto Vale y abrir con sí no eso es lo que menos me preocupa No sé no lo he probado estoy funcionando sí lo he visto pero en fin Vale entonces vengo por aquí y digo Main es display grid Vale ahora grid item vale en Index en el Main voy a poner div Class icono Vale o Deep Class aplicación Y div entonces vengo por aquí y digo div Class aplicación y voy a poner por ejemplo eh clientes vale Ya está dip Class dip di di di Vale y pongo unas cuantas de momento de forma estática ya sabéis que ahora luego vamos a cargarlas con base de datos obviamente bien en estilo esto es Class aplicación y bien Esto me gusta ahora cambiaré por aquí unas cuantas cositas vale pero de momento me gusta Así que ahora me vengo por aquí me voy a cierro cosas aquí crimson rp hago así bien y tengo esto Mirad y tengo como veis una interfaz basada en un grid lo cual quiere decir que yo ahora a continuación vamos a ver Ah font size align vale cero pixels Okay pues de momento esto la verdad es que más o menos me gusta bastante bien y Quiero una imagen lo cual quiere decir que aquí me voy a crear una carpeta nueva voy a buscar un icono de un cliente client icon o people icon o algo así ser muy feo madre mía qué feo eh crm icon madre mía cosa más fea El caso es que se lo puedo pedir al ch gbt vale Pero vamos a este va abro imagen me guardo la imagen en escritorio y eh u el gim no lo tengo Ah sí voy a abrir el gimp y voy a tocar un icono en el gimp una vez más recordáis lo que os dije el otro día de que en desarrollo de interfaces tenemos una parte de la asignatura que se llama usabilidad vale por tanto ahí hablaremos de iconos de colores de tipografías pero no ahora eso será en desarrollo de interfaces entonces m vamos a ver un momentín aquí me lo hago cuadrado me lo hago cuadrado le digo que colores no capa transparencia color Alfa esto son 100 y pico píxeles o sea una barbaridad Así que escalo la imagen y 64 por 64 y Esto me lo guardo como vamos a ver eh No sistema de archivos bar Ah qué rollo vale Sí escritorio icono png Okay vale Lo cual quiere decir que yo me paso icono png a segundo a sistemas a proyecto a formato de escritorio cliente escritorio imagen y ahora esto quiere decir que en el código aquí pongo img src img icono.png alt es igual a icono y eso quiere decir que ahora ya sabéis Que de momento lo estoy haciendo estático bien Ahora cuando hago así recargo y tengo ahí pues clientes lo que sea vale esto aparte de que ya más adelante lo tocaremos un momento porque estoy viendo que Tengo un margen por aquí que no tengo por aquí vale por tanto en estilo css voy a decirle que html com body es padding cer píxeles margin 0 píxeles el Main es padding 20 píxeles vale todavía no El caso es que ya debería aplicarlo vamos a ver estoy en formato de escritorio inspeccionar vale body Main vale el body Ah perdón sí no html Body ostras Por qué vale vamos a ver padding 40 píxeles Okay y padding 50 píxeles okay y Box sizing Border boox eso ya es otra cosa Vale ahora tenemos aquí la aplicación ahora formatear el header pero es que tampoco me apetece mucho ahora formatear el header lo que me apetece es comprobar que desde el login que teníamos antes vale desde el login que teníamos antes le doy a login acceso correcto y redirigiendo en 5 segundos y llegamos al escritorio donde entraremos en clientes facturas o comercial facturación eh recursos humanos producción lo que sea vale Bueno ya sabéis que esto ahora mismo es obviamente eh estático porque a continuación qué es lo que tengo que hacer pues lo tengo que hacer Dinámico cómo lo hago Dinámico Pues en este caso lo más normal bueno es hay una de dos o bien hacerlo mediante base de datos o bien hacerlo mediante sistema de archivos lo más correcto lo más purista es hacerlo mediante base de datos Y eso quiere decir a ver un momento porque Ah vale porque se supone que tiene que venir mi hijo dentro de un rato vale entonces eh vamos a ver ahora una vez que tengo esto con el for qué quieres decir con el for si no literalmente va a ser un bucle for evidentemente técnicamente va a ser un bucle While lo que pasa es que una vez más estamos en las mismas Y es que yo lo que tengo que hacer es ir a la base de datos pedirle un Jason y una vez que le pido un Jason a partir de ahí es cuando Beatriz tengo que iterar dentro de ese jas y tengo que pintar tantas aplicaciones como me de el Jason vale Lo cual quiere decir que yo ahora vengo por aquí y me voy a proyecto y me voy a crear el 010 crear tabla de aplicaciones con lo cual cierro por aquí creo uno nuevo proyecto crear tabla de aplicaciones 001 nuev tabla sql y lo que voy a hacer es entrar aquí en php My admin y aquí en crimson voy a crear una nueva tabla que se va a llamar aplicaciones va a tener Por una parte identificador que va a ser un entero de 10 elementos de longitud índice primario y autoincremental y luego por otra parte vamos a poner lo siguiente nombre de la aplicación y activa es decir si está activa o no Bien dentro de nombre de aplicación voy a poner un marchar voy a hacer una cosa voy a poner aquí 100 voy a poner aquí descripción Es más voy a poner aquí icono por si acaso voy a poner ruta y aquí a continuación voy a decir activa nombre es un marchar descripción es un text y eh podría meterlo como icono metido en la base de datos no estaría mal voy a hacerlo vale Ya sabéis que eh Por ejemplo si yo tengo imágenes de clientes imágenes de usuarios imágenes de productos eso no se mete en la base de datos pero claro un icono que va a ser un png que va a ocupar tresk sí que lo puedo meter y tampoco va a pasar mucho vale también os digo que eso luego le resta libertad al equipo creativo para la carpeta de iconos y empezar a cambiar iconos o hacer temas vale No lo sé va venga Lo voy a meter como un marchar para luego poder pivotar bien ruta va a ser un marchar y activa técnicamente para hacerlo bien Debería ser o un tipo de datos bit o bien un tipo de datos boolean que es true o false así que voy a boolean y le digo descripción es un text Esto va a ser un 255 Esto va a ser un 255 y volear no hace falta que le diga nada porque es uno o cer le doy a sql vale esto es crear tabla bien y me voy a guardar Okay y tengo una activa que si os fijáis de hecho es un Tiny int de un y C ahora continuación voy a insertar y digo qué módulos va a tener mi aplicación pues por ejemplo crm Vale y digo un crm es un sistema de gestión de la relación con el cliente con este sistema vas a poder realizar un seguimiento de tus clientes y de sus pedidos vale icono pues clientes.png o r m.png tampoco vamos a ser muy originales y ruta de momento nada vale de momento eh ruta no lo voy a poner no lo voy a poner porque crm voy a poner aquí crm va crm y activo uno o sea así continúo y me copio esto y me lo pego aquí eh 002 insertar crms ql y Ok bien Voy a insertar otro de los objetivos si miráis el temario es Eh Yo estoy creando una serie de módulos de base pero es que este crm sea ampliable con nuevos módulos que de hecho va a ser uno de Los criterios de evaluación de la asignatura vale por tanto tengo que hacer una estructura tal que luego lo podáis ampliar bien nombre claro no te digo erp porque todo esto es un erp cms vale cms entonces eh un cms o content management System es un sistema de gestión de contenidos donde varias personas de la empresa pueden introducir contenidos en texto vale icono eh crm Perdona cms png ruta cms continúo qué ha pasado Ah perdón perdón y uno activo Ay no Espera ahí correcto muy bien perfecto cojo y pego con esto ya tengo dos aplicaciones declaradas en la est fuera dos aplicaciones declaradas en la base de datos y ahora a continuación es cuando vamos al tema de lo que decía Beatriz o sea el tema de aplicaciones bien en este caso vamos a verlo vamos a volver a ejecutar este esquema y este esquema en el escritorio lo que tiene que hacer es irse a php le dice a mysql Dame las aplicaciones y php devuelve al js las aplicaciones lo cual quiere decir lo cual quiere decir vamos a ver que ahora me voy a copiar el proyecto eh obtener aplicaciones y vamos a intentar hacerlo lo más bonito posible en el sentido de que esto de aquí realmente recibe el nombre de plantilla y en html una cosa que vosotros todavía no sabéis Pero yo ahora os voy a enseñar existe ese concepto de html template la forma bonita de hacerlo es esta que os voy a enseñar chat gpt vale html template example vale Ya s venga mucho rollo vale si no en mi github tengo Pero bueno en serio No no no me he entendido vamos a ver no example with template tag in html and javascript Ahora sí Esto sí vale aquí Esto es lo que quiero bien voy a esto y esto lo pongo aquí fuera del Main y utilizo una etiqueta que no me he inventado yo que se llama template ID plantilla aplicación quito todo esto y pongo uno de estos corto pego voy a ponerlo Bien voy a ponerlo sangrado esto técnicamente Debería ser un p para hacerlo bien para trabajar bien y ahora veréis también tiene una ventaja más p vale es p Class aplicación plantilla aplicación y ahora quito todas estas plantillas de aquí una cosa muy divertida es que si yo ahora refresco esto en el navegador si yo ahora refresco esto en el navegador obtener aplicaciones me voy a cliente entro voy a entrar con morro tengo que poner algún método para vale claro efectivamente bien pero si os fijáis el template no existe el template no está en la pantalla no se ve el template en la pantalla vale Por qué Pues porque el template existe como un elemento eh digamos en la memoria pero hasta que yo no lo instancie como una clase digamos hasta que no lo instancie no aparece realmente en la pantalla y lo que tengo por cierto es plantilla.png plantilla o sea voy a ver plantilla para tener claro que luego pondré lo que toca vale luego pondré el valor correcto bien ahora ya sabéis en el comportamiento aquí en el comportamiento voy a hacer un fetch en No aquí en comportamiento Ah que no aquí en comportamiento voy a hacer un fetch window punto unload es igual a fun vale Y voy a decir lo siguiente vamos a ver Me cojo un fetch de aquí por ejemplo Bueno me lo podía de allí También de aquí me hago un fch y me hago un punto den eso quiere decir que esto por aquí y esto por aquí vale en el servidor no voy a llamar a login usuario sino a aplicaciones php O si quieres a lista aplicaciones php para que tengamos claro lo que va a salir de ahí y response jas es decir llamo a un microservicio que me da la lista de aplicaciones el servidor me devuelve un Jason console.log eh Data y punto vale de momento vomito el jas en pantalla qué va a ocurrir Pues que tengo que definir Qué es lista aplicaciones php servidor lista aplicaciones php va a tener algo parecido a login usuario copio y pego ahora luego metemos esto en un include vale y digo Select all de momento from aplicaciones Where activa es igual a uno o sea solo Dame las aplicaciones que estén activas result es esto de aquí y While lo que decía antes Beatriz un for es un While en este caso Vale entonces vamos a ver yo le digo eh aplicaciones es igual a esto una Ray vacío aplicaciones de esto es igual a Row y ahora eco jas encode de aplicaciones cuidado porque aplicaciones va con dólar pero como vengo de est un rato programando con python pues en mi mente ya no existe el dólar Así que js en code vale lo que estoy haciendo es Dame todas las aplicaciones pónmelo en una Ray creo una Ray vacío creo una Ray vacío en el caso de que exista añado nueva aplicación a la Ray eso ya no existe veis que intento mantener el microservicio lo más limpio y sencillito y entendible posible con lo cual si todo va bien si todo va bien Ahora aquí recargo estoy en el 11 sí recargo vale Okay no pasa nada vamos a verlo bien Qué es lo que no se ha encontrado pues no se ha encontrado Ah cliente servidor Perdón no espera vale no se ha encontrado la ruta no era correcta lista aplicaciones vale proyecto tener aplicaciones cliente Ah escritorio vale y ahora tengo que bajar dos puntos barras eso vale recargo Ok y me dice que hay dos aplicaciones Ah Espera que se me ha apagado el monitor y me dice que hay dos aplicaciones identificador un activa un descripción icono nombre ruta una vez más que me dé este identificador pues no Mola mucho vale con lo cual puedo volver al código y puedo decir Select no me acuerdo Select nombre icono y descripción Vale pues nombre coma descripción coma icono y de momento ya está simplemente para comprobar que me da nombre icono y descripción vale Y si hago esta formulación de meterlo en una array y sacarlo como J son daos cuenta que yo simplemente proyecto los campos en sql y no tengo que hacer nada más en php Y si sql pide Esto php me da eso y al final lo envía vale como siempre para tener o sea para evitar repetir código vale Así que claro otra cosa que me diréis Es que ostras esto es parecido a esto al final hacen lo mismo y cuando algo hace lo mismo Pues probablemente se puede resumir en un programa genérico vale de momento hoy no pero quedémonos con la idea de que si hay varias cosas que hacen lo mismo que se puede resumir a uno solo Vale ahora si ya tengo un jas es cuando ahora Beatriz Ahora puedo recorrer el Jason Vale entonces al recorrer el Jason voy a crear una nueva versión del proyecto obtener aplicaciones recorrer J son vale recorro J son escritorio comportamiento Y entonces digo vamos a ver Bueno voy a hacer un voy a hacer un for each para hacer todo el código más limpio posible javascript for each iba a hacer un for pero el for es más bonito Vale entonces Perdona el for each es más bonito y últimamente for each Quiero recordar que es de 2019 2015 en javascript Pues bueno se recomienda poner for each en lugar de for Entonces esto fuera Vale y elemento y console punto log elemento Data for each elemento console punto log elemento si os fijáis la sintaxis es muy limpia vale es para cada uno de los elementos que hay en Data pues dámelo pues devuélvemelo entonces vengo por aquí no un día de estos nos pararemos a diseñar un iconito guapo pero ahora mismo No ahora vamos a picar código y otro día que estemos un poco más cansados pues ya la parte de diseño recorre cliente vale me voy al escritorio OK Y entonces tengo primero el vomitado y ahora elemento un y elemento dos veis lo fácil que es hacer un for each en javascript Vale pues Ahora a continuación lo que quiero es la plantilla y para cada elemento del for each pegar la plantilla vale vengo por aquí local storage no Dónde estaba a ver yo antes he pedido lo de aquí esto y es no no aquí vale un momentín porque esto lo quiero más sencillo no esto sí vale Okay Esto sí Entonces ahora vengo por aquí y digo plantilla ahora comento ahora pongo comentarios digo plantilla es igual a del documento Cógeme el elemento que tiene para que tardas tanto hostias Ah y de plantilla aplicación vale y de plantilla aplicación okay siguiente clon si queréis para utilizar una terminología con la que estéis familiarizados voy a poner instancia para que entendáis Cuál es el concepto es plantilla content Clon node TR evidentemente Vale ahora okay y aquí ahora el nombre es igual a de la instancia el query selector p Por qué p Pues porque como habéis visto antes en la plantilla el p es el que tiene el nombre del módulo vale esto era icono creo de momento vale Y por último esto ahora pondremos vale un momento Ah vale Sí y pun text content y ahora nombre punto bueno Inner html es igual a y ahora viene la cuestión No aquí Ah Espérate Espérate vale vamos a ver Esto va aquí ahora nombre in el html es igual a elemento punto qué punto nombre vale Y por último esto ya está vale Y por último en query selector Main appen Child instancia comprobamos que funciona Y ahora os comento el código vamos a ver eh clic por aquí clic por allá recargo y ya está Vale ahora cambiamos icono si queréis pero si os fijáis si aquí pone crm y aquí pone cms es porque en la base de datos aquí pone crm y aquí pone cms ahora Cómo ha funcionado esto porque vosotros diréis madre de Dios Qué complejidad que aquí hemos tenido que crear un template y aquí hemos tenido que hacer poco menos que magia negra para instanciar es template vale vamos a verlo vamos a ver cómo ha funcionado esto Esta es la forma de recomendada de trabajar más que nada porque de esta forma si os fijáis se está separando completamente lo que es el diseño visual de la de lo que es el comportamiento de la plantilla que luego uséis template o no ya es otra cosa pero es mi misión enseñaros que existe el template vale Y entonces digo eh vamos a ver cargo el template html como una plantilla en memoria ahora para cada uno de los elementos que vienen en el js de la base de datos primero pongo el elemento en pantalla simplemente para comprobar que funciona o sea que sale ahora esto es una clase es decir digamos que es como un Class y ahora creo una nueva instancia de la clase como un instance vale No es exactamente lo mismo porque esto no es programación orientada de objetos pero para intentar que podáis aplicar conceptos que ya conocéis a esto que es nuevo ahora dentro de la plantilla dentro de la plantilla selecciono a uno de los elementos y le pongo el contenido que saco del Jason Y por último todo esto ha ocurrido en la memoria por último realmente pongo la instancia en el árbol html hasta este momento ha ocurrido en la memoria del navegador Cuando digo appen Child es cuando le digo cógete la etiqueta Main y añádele un hijo una etiqueta hija que es la instancia vale como ya os digo con respecto a métodos mucho más manuales y mucho más directos que os he enseñado en el curso pasado este método os parecerá mucho más complejo Honestamente lo es porque el año pasado con php hacíamos un php While eco y a muerte y ahí lo tienes vale esto es pegar un rodeo que te cagas pero sin embargo dentro de lo que se considera buenas prácticas y dentro de lo que se considera estrategias de programación segura Esto es lo que a día de hoy se recomienda vale no lo que yo recomiendo yo que soy de la vieja escuela a mí me sigue gustando más el php que te hace un eco y a muerto lo tienes pero no quiero enseñaros el phm a muerte y luego enviaros a prácticas a una empresa y que te digan Pero eso Qué es si esto Hay que hacerlo con Jason para arriba y para abajo y con fetch y con coge propiedades y con plantillas y esto de El php eco este todo te hace 20 años pues Vale Aunque yo sigo usando php eco y hasta que alguien me lo prohíba lo voy a seguir utilizando pero bueno entonces con todo esto claro evidentemente ahora a continuación pues tendríamos que cargar los iconos por ejemplo también quiero decir con esto que esta plantilla se puede extender para decir que vamos a ver para decir qu const imagen es igual a instancia pun query selector img vale la etiqueta img entonces digo imagen set attribute de src te digo te digo qué pues te digo img ahora veremos te digo img barra más Data punto Perdona elemento punto icono que no existe vale Pero vamos a verlo entonces hago así recargo icono crm e icono cms no existe pero si os fijáis me intenta cargar img barc m.png y me intenta cargar img.com png luego está intentando cargarlo correcto V Lo que pasa que no está la imagen bien una vez que tengo esto eh poco más por hoy porque acabo de ver que son vale con lo cual ahora ya el siguiente paso que es lo que haremos la semana que viene va a consistir en crear lo voy haciendo Ya lo voy haciendo ya para que vayáis pensando queé vamos a hacer esta semana que viene y me voy al 013 carpeta de aplicaciones y entonces en carpeta de aplicaciones eh Ah sí en carpeta de aplicaciones aquí en carpeta nueva voy a crear una carpeta llamada aplicaciones y dentro de aplicaciones habrá un crm habrá un cms habrá un recursos humanos habrá un tienda online habrá una serie de módulos donde cada módulo tendrá su propia identidad de tal forma que cuando yo haga clic aquí me iré a cada una de las carpetas si hago clic aquí me iré a la carpeta RM Exacto vale Y luego ahí tendremos muchas cosas que discutir porque Claro si cada carpeta es diferente Pero y si Usan el mismo superc controlador pero entonces lo tendría que duplicar Pues no porque poder tener una carpeta de aplicaciones y otra carpeta common es decir común donde lo de comon se puede instanciar en cada una de las aplicaciones vale algo que quiero dejar muy claro ahora al acabar a ver si y okay Y tal e algo que quiero dejar muy claro es que Ah vale es que eh Yo en ningún momento estoy defendiendo que esto que estoy mostrando sea la única y verdadera forma de programar un rp vale Yo estoy tomando una serie de decisiones y vosotros cuando hagáis vuestro proyecto y vuestro proyecto final de asignatura Y probablemente vuestro tfg porque una gran cantidad de tfg al final son rp son sistemas de gestión de empresa Vais a tener que tomar vuestras propias decisiones por tanto cuando yo tomo mis decisiones yo lo que hago es intentar explicaros el por qué estoy tomando esa decisión para que vosotros sepáis el ese Por qué Y cuando vosotros tengáis que hacerlo igual toméis una decisión diferente a la que yo he tomado pero aún así siga siendo correcta si el porqué de esa decisión es correcta vale con esto lo que os quiero decir es que qué es lo que yo espero de vosotros pues espero que programs un rp Espero que tengáis un login Espero que tengáis un escritorio y espero que ese escritorio DEA acceso a diferentes tipos de aplicaciones ahora Cómo hacer el login yo os he enseñado una forma de hacer un login vosotros lo podéis hacer de otra forma diferente o podéis hacer la misma que yo os he enseñado a hacer un escritorio de hecho no he acabado estamos en ello Tenemos también que darle más css eh iconos pues hacerlo más bonito y en de momento me estoy preocupando porque funciona más adelante me preocuparé porque sea bonito vale vosotros podéis hacer es que yo he utilizado el grid igual vosotros decir es que a m el grid no me gusta pues yo prefiero utilizar no sé qué otra o igual los módulos en lugar de verlos como una rejilla de iconos los quiero ver como una lista vertical no es que haya que hacerlo como iconos porque yo lo he dicho sino que yo enseño una forma aprovecho vale aprovecho y en esta asignatura os intento enseñar tendencias actuales de rollo Aunque muchas de ellas no me gusten vale Pero qué se utiliza cliente servidor con microservicio j son para arriba J son para abajo os enseño microservicios con jas para arriba jas para abajo qué se utiliza un template y se clona el template Pues yo utilizo template para que sepáis que existe el template En html5 qué se utiliza el framework grid cuando quieres maquetar muchos elementos seguidos Pues yo os enseño un ejemplo de grid ahora si entráis en mi página web sí que veréis que hay grid Porque me hizo gracia pero ni hay separación ni hay módulos ni hay angular ni hay leches o sea es una sola página que tiene css que tiene html a muerte y que tiene javascript por aquí vale o sea que una cosa es como yo programo para mí que sé que si lo hago mal pues yo ya asumo las consecuencias y otra cosa es como programo para vosotros donde intento programar de la forma más limpia y más estándar y más moderna posible dentro de lo que cabe vale de la misma forma que yo para mí no uso frameworks en la vida pero para vosotros en alguna asignatura diré Oye vamos a ver angular y vamos a ver react y vamos a ver qué podemos aprender para que vosotros como alumnos y también yo como habéis visto pues aprendamos lo mejor posible de las nuevas tendencias vale bien Voy a parar por aquí voy a parar la grabación Vale y la clase de hoy 5 minutos de descanso y vamos a la siguiente clase esto por aquí