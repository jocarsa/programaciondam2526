bien entonces una pequeña introducción antes de empezar a ver blog de notas Vale entonces en los años 90 una empresa llamada Adobe que todos conocemos evidentemente tuvo la idea En aquel momento ya Fabric antes de Photoshop y Eh bueno Photoshop fue una aplicación brutal en los 90 porque eh permitió hacer un montón de cosas que hasta ese momento no se podían de una forma razonablemente sencilla eh Adobe empezó a crecer muy fuerte y se empezó a digamos a popularizar en el sector de las imprentas y Adobe en los 90 lanzó un formato que todavía a día de hoy y sigue existiendo que es el formato postscript insisto en una época en los segunda mitad de los 80 y los 90 donde en esa época donde se crearon los formatos informáticos que hoy conocéis vale eh el formato postscript era un formato pensado para imprentas que aunaba en un mismo formato de imagen tanto datos vectoriales por ejemplo para imprentas viene muy bien para representar contenido vectorial logos tipografías vale como también imágenes por ejemplo en una publicación pues colocar una fotografía una imagen un concepto que hoy damos por hecho porque estamos en 2025 pero en 1995 pues esto era una novedad inmensa y una empresa como Adobe pues tuvo esa buena idea de eh de crear ese formato pero La en una cosa porque eh impuso el formato de pago tanto para crear como para leer Ese fue el error vale Y es que una imprenta tenga que pagar por poder construir formatos postscript Pues bueno Vale es tiene su lógica vale luego hay que ver la cuantía de la licencia pero el propio concepto pues es normal ahora que un usuario final tenga que pagar para poder leer un archivo post Script pues eso es lo que muchos usuarios finales dijeron no O sea no quiero pagar por leer algo que otra persona ha hecho con lo cual eh el formato postscript En aquel momento tuvo su repercusión en el mundo profesional en la imprenta sobre todo pero casó en el usuario doméstico vale tened en cuenta que segunda mitad de los 90 es cuando pues no solo se extendió el uso doméstico de la informática sino además gracias a sistemas operativos como Windows 95 pues además el usuario tenía capacidades multimedia razonablemente avanzadas en su equipo de sobremesa que Insisto que eran capacidades que ya estaban en los Max a partir del año 85 aproximadamente y que en PC tardaron más pero a partir de porque en los 90 Mac tenía una cuota bastante minoritaria con lo cual era un ordenador bastante avanzado pero la cuota era minoritaria porque el precio era elevado vale Mientras tanto la gran mayoría de los usuarios pues teníamos PCS compatibles con IBM y por tanto con ms2 hasta que en 19 Bueno a ver si existía Windows 3.1 pero aquello pues no tenía las capacidades multimedia que luego encontramos a partir de Windows 95 vale bien con lo cual Adobe aprendió de su error esta parte es muy importante porque a la gente que Aprende de los errores le suele ir bastante bien Y es que eh en la segunda mitad de la segunda década Perdona la segunda mitad de la segunda mitad de la década de los 90 Adobe lanzó el formato pd y el formato pdf no es más que postscript enmascarado porque claro la gente ya había cogido Manía postscript ya tenía una mala reputación la mala reputación de adobe nos quiere hacer pagar por esto con lo cual Adobe básicamente hizo lo mismo lo mejoró evidentemente pero el Core era el mismo y básicamente lo lanzó con licencia comercial para crear PDF pero visor gratuito para visualizar PDF y ahí triunfó es decir aprendió del error que había cometido corrigió el error y triunfó vale me parece una historia muy inspiradora en el sentido de que la moraleja es muy grande adobe con el PDF además consiguió estandarizar el documento por varias razones el PDF es un formato no estructurado no tiene ningún tipo de estructura previsible el contenido puede estar donde sea que esté en la pantalla se puede parsear pero no tiene una estructura tan predecible por ejemplo como un archivo de Excel que al final tiene que es un libro que tiene páginas que tiene columnas que tiene celdas ya está en un Excel sabes que te vas a encontrar eso en un PDF nunca sabes lo que te puedes encontrar vale Pero porque no es un documento para guardar hojas de cálculo es un documento para guardar Pues eso documentos vale bien el formato pdf es un formato cerrado No es un formato abierto porque no tiene por qué serlo es decir yo podría ser una empresa como Adobe Y si yo hago un producto no tengo por qué abrir el producto como software libre como estándar para que todo el mundo quien quiera lo use ya que lo he creado yo pues quien quiera usar lo que me pague ahí no hay ningún problema vale es un formato cerrado propietario propiedad de adobe como todos sabemos es una empresa estadounidense a finales de los 90 principios de los 2000 cuando el PDF junto con otros formatos como el Word propiedad de otra empresa estadounidense se convirtió en un formato completamente prevalente en un formato totalmente extendido es cuando la Unión Europea empezó a expresar sus preocupaciones acerca de que los formatos cerrados propietarios de una empresa o de empresas que no son europeas se convirtieran en formatos estándar para mover documentación dentro de Europa porque en aquel momento lo que está ocurriendo ahora parecía impensable pero lo que parecía impensable pues ha acabado ocurriendo entonces En aquel momento pues la Unión Europea empezó a primar formatos abiertos vale Y por ejemplo la Unión Europea obligó a eh a Microsoft a trabajar con el formato open document cl open document que es el formato odt para Open document para documento de texto open document spreadsheet para hojas de cálculo Open document presentation para presentaciones tipo Powerpoint vale al final los formatos Open document no son más que un xml vale un xml con cositas y guardado dentro de un zip pero es un xml Al fin y al cabo bien pero el formato pdf Pues a día de hoy todavía 2025 sigue siendo un formato que tiene una importancia muy grande de hecho sin ir más lejos las eh las esto las prácticas vuestras de ciclo formativo se firman en PDF y estamos obligados a ello y es como pero vamos a ver son las prácticas de un estado español Cómo Pero mira las cosas son así no Entonces qué lenguajes tenemos Bueno pues fundamentalmente tenemos python que tiene un soporte para pdfs brutalmente grande o sea el soporte de python para PDF es genial pero eh php siempre ha tenido un soporte para PDF por supuesto a través de librerías bastante peor voy a obviar directamente la librería fpdf o sea me voy a molestar con ella y Vamos a intentarlo con otras librerías tales como por ejemplo la librería Don PDF la librería Don PDF Pues bueno tiene la lo malo de que la instalación es bastante más difícil entonces Don PDF pero claro tiene lo bueno evidentemente de que e de que si tienes una maquetación hecha con html y css igual Don PDF No soporta lo último del css vale Pero si lo tienes hecho pues lo tienes correctamente luego hay otra librería que tiene un approach un poco diferente que es selenium dentro de python que es lo que hace a ver un momento Hola Bueno a ver Yi el qué a ver yo ahora mismo Estoy en clase te comenté que te lo paso en la segunda mitad de la tarde ya pero es que no puedo parar la clase para Okay vale vale ahora Vale entonces vamos a ver eh La idea es que bueno con selenium lo que os decía hay un truco mediante el cual si tú o sea si lo que quieres pasar a PDF está en una web puedes pasar la web a jpg vale selenium es bastante Guay para eso y luego vale plasmarlo en un PDF pero vamos a la solución PDF Entonces vamos a ver eh vamos a ver por aquí vamos a ver por aquí vamos a ver por aquí vale Aquí bien eh Don PDF es una solución eh que cumple con el estándar 2.1 de css cuidado Vale propiedades 2.1 y algunas propiedades css3 por tanto no os rayé mucho ni con flexbox ni con grid ni nada similar vale mira es más Vamos a ver vamos aar gpt php tu PDF supporting mostly html5 css3 a ver qué pasa Vale y eh vamos a ver Don PDF vale buen soporte para css2 Ok el soporte limitado nada de flexbox ni de grid Pero bueno vale podemos sobrevivir sin flexbox ni grid molaría tenerlo Pero bueno Eh puede ser Slow eso me da igual Vale y mpdf vale Okay más opciones de configuración no hay flexbox ni grid Okay Vale Eh snapi snappi vale Okay Bueno requiere que el servidor tenga eh wk html to PDF install bueno El caso es que si tenemos un local Host o tenemos un vps podemos hacerlo Vale y vamos a ver un momentín y vale aquí y momentín no requiere no de itier va a ser que no vale vamos a snapi y Ok Ok vale Voy a decirle Let's go sn Step by Step instructions on local Host pleas vale Mientras tanto me voy a crear una librería me crear un repositorio llamad php PDF Y así pues tenéis el código que haga hoy me voy a php PDF vamos a ver ahora aparecerá Okay php PDF Vale qué me cuentas Ok Vale pues sí estoy en Linux pegar instalo Okay Vale en Windows Esto vale Ok snapy via composer qué rollo vamos a ver entonces eh qué te iba a decir yo php PDF me voy a CD bar vw html e php PDF entonces eh Y desde aquí vamos a hacer un require vale para dentro pues no eh sudo app install composer a ver sudo app install composer Okay Vale y vamos allá y Okay perfecto Vale ahora a continuación vamos a hacer una archivo básico eh No hace falta esto no hace falta Esto vale vamos a verlo me voy a edit me voy a php PDF index php vale Tenemos aquí dentro de vendor tenemos el madre mía synfony no quiero aquí tenemos Ho snapi Vale y vamos a ver user Bin Trac TR Vale pues me vengo por aquí me voy a localhost bar php PDF vale Y ya está bueno ya está Vale y ahí lo tenemos bien pero ahora a continuación quiero más vale ahora a continuación esto hasta el momento ha sido fácil es que tengo un h1 y tengo un texto y Esto me lo ha generado como PDF y ya está Vale quiero algo un poco más complejo de hecho me voy a ir a mi propia página web y dentro de mi página web pues me voy a ir a directamente vale el contenido así que para ello vamos a ver Mira no es más espera Espera Porque en mi web Ah no está en mi web no está en mi web está aquí está en local Host barra barra jocars old l barra base de datos Aquí está Vale y tengo esto que es un documento con captura Se supone vale donde tengo como una especie de catálogo es decir eso lo imprimo pues es como un catálogo de productos pensado para es un montón de cosas aquí dentro con lo cual es una prueba fuerte vale vamos a probarlo Así que vengo por aquí y le digo vamos a ver okay but loading content from esto vamos a ver vale cuenta que obviamente pues ha tenido que o sea no hay soporte nativo vale vamos a ver cómo se porta porque vamos a ver porque insisto est tiene algo de grid me parece esta web Vale entonces hago así o mira voy a ir a Index 2 y así no pierdo vale la URL es esta y get output URL Vale pues vamos allá así que index2.php tardará un poquito No pasa nada normal que menos vale Y vamos a verlo y Okay bien no está nada mal me ha perdido alguna cosita me ha perdido el header y el footer Pero bueno no está nada mal tampoco vale con lo cual aparte de que las imágenes que no estén pues no están pero eso ya no es culpa de la librería eso es culpa mía vale Y aquí tenemos un PDF vale con lo cual La idea es un poco esta Y es que con la librería fpdf ni se os ocurra porque ya lo hice yo en su momento y es para morirse Pero bueno hay otras librerías con las cuales pues sí que es algo más fácil poder sacar pues este tipo de contenido Vale ahora hacemos una pequeña demostración vale de Para qué nos puede servir esta librería por ejemplo eh Por el típico calendario es decir contenido que pueda estar en un PDF una demostración es esto que acabáis de ver vale que es pues un catálogo de productos que en un momento dado haces así y lo metes en tu página web y puede ser Dinámico y la gente se lo puede descargar directamente en PDF previamente cuando hablamos de tu web evidentemente estamos hablando de que tengáis instalada esta librería en tu servidor vale una pequeña demostración de lo típico que la gente Se imprime y se envía que son calendarios Pues sería la siguiente vamos a ver voy a decir otes mini php create a calendar using date library from years Eh pues yo que sé 2025 tu 2050 sabes a la bestia o sea 25 años de calendarios y ahora a continuación eh with nice and awesome css y a ver qué pasa tampoco es muy difícil la petición y mientras tanto aquí en hedit me voy creando una librería que es calendario.php Ay perdón eso no vamos a ver y pues La idea es eso es ver cómo ya os digo si vais a sacar eh PDF al igual que cuando formateamos correos electrónicos como vimos en aquel momento con las landing pages y con el email marketing no abusé de tecnologías demasiado modernas de css3 que no están soportadas vale con PDF pasa igual pero bueno utilizando pues no lo último de lo último sino justo lo anterior Pues sí que podemos obtener buenos resultados Vale entonces vengo por aquí me voy a no eh No sé dónde estoy jarsa php PDF y calendario.php Okay vale Ok pero no Okay entonces hao y creo que no me gustar porque ha hecho un calendario muy parano va ser que no estará bien en cuanto a meses y todo eso vale Ok perfect prepare A4 tal and please all texts in spanish Así que ahora se lo alimentaré a esto a snapi o en este caso la librería y ya está con esto empezamos a eh También a hablar un poco del tema de eh del tema de impresión en tickets y todo eso vale vamos a ver os voy a contar que os voy a contar que como todos sabréis la tinta es más cara que la sangre de unicornio con lo cual Pues los comercios las industrias el punto de atención al cliente Pues siempre tiene que buscar soluciones que sean más baratas digamos que la típica impresora de tinta Más que nada porque como os digo pues un comercio que está constantemente imprimiendo recibos pues la forma de imprimir no puede ser la misma que la impresora que tenemos todos en casa como os digo pues la tinta vale una salvajada vamos a ver eh Hola No me has hecho ni puñetero caso no pero no sé O es que le he dado yo mal a ver espera Okay print y a ver si me ha hecho caso porque bu si no solo alimento directamente al fpdf pero o al snapi pero igual Es que en el print m Bueno pues yo creo que está pasando bastante de mí pero bueno da igual El caso es que yo lo que quiero realmente es aquí en el Index 2 pues meterle esto y sacarlo Index 2 Insisto que se va a tirar mira lo ha hecho bastante rápido pues mira vale un PDF con 84 páginas y insisto el css está bastante bien respetado únicamente pues es cuestión mía el hacer un css que esté más a pantalla completa y que no me parto un mes por la mitad y todo eso pero eso ya no es tan culpa de la librería eso es más cuestión de tocar el css correctamente y ya está vale Así que ya os digo las soluciones es o bien tecnologías como snapi o Don PDF si no usáis css3 o bien python vale pero no os peguis de leches con librerías tales como esto bien volvemos al tema por tanto de las impresoras en comercios entonces en las impresoras en comercios momento impresora tpv son estas impresoras de aquí vale eh vamos a ver impresora de tickets a ver impresora de tickets Vale y eh A ver impres de tickets Mira qu bien aquí vale No sé vamos a una me da igual cuál veis impresora térmica vale impresora térmica vamos a ver vamos a esta no sé impresora de tickets Vale y vamos a ver un momentín sí pero a ver vamos a verson a ver Ok reducción automática ancho de alimentación código de barras fiable vale fíjate 15 millones de líneas o sea se mide en líneas Vale y vamos a ver tamaño de buffer 45k Ah alámbrico que eso te iba a decir vale USB 2.0 Puerto serie lo cual esto también tiene que ver con lo que Estuvimos viendo la semana pasada de c+ má que en este caso no pasa nada porque evidentemente todo este tipo de impresor suele venir con drivers vale Pero aún así es bueno saber que con más podríamos acceder directamente al Hardware insisto cosa que al final no va a hacer falta porque cada dispositivo estos viene con sus drivers Pero bueno vamos a ver control de energía dirección del papel Vale y tecnología de impresión térmico vale eh resolución máxima 203 vale densidad de caracteres 22,6 caracteres por pulgada en este sentido pues no mide en píxel por pulgada sino que se mide en los caracteres que caben dentro de cada pulgada como las antiguas impresoras matriciales impresora matricial vale las impresoras matriciales de hecho Mirad por ejemplo también para aquí para imprimir tickets un momentín Ok acepto vale son otra de las de los tipos de impresoras comunes que encontramos para ticket cómo funciona una impresora matricial Bueno pues voy a buscar imágenes cabezal Vale pues una impresora matricial momentín es una impresora que tiene un montón de agujitas y lo que hacen esas agujitas aquí esto es vale lo que hacen esas agujitas básicamente es que van escribiendo van pintando van marcando el papel Insisto que si cogéis cualquier ticket Mira del mercadona tengo yo por aquí Uno Vale cualquier ticket del mercadona y os acercáis o lo veis con una lupa o algo así veréis que se pueden ver los puntitos estén hechos con matriz o estén hechos con láser vale Pero puedes ver los puntitos también otra cosa muy divertida es que si os fijáis tengo aquí una adelante pues los car son prácticamente monoespaciado lo cual quiere decir que en cada uno de estos bloques pues tenéis eh un carácter vale cada uno de estos huecos tenéis un carácter eso qué quiere decir pues esto quiere decir a ver fundamentalmente dos cosas primero las impresoras matriciales o las impresoras En definitiva eh están conectadas mayormente al equipo lo cual quiere decir que aplicación web que se conecte a una impresora matricial difícil en principio difícil no imposible porque yo lo he hecho con una impresora parecida de tarjetas vale de tarjetas de identificación pero difícil ahora python mucho mejor c+ má sin problema vale la idea es un poco esta La idea es que podemos formatear y evidentemente de Cara a formatear debemos tener en cuenta que trabajamos en monoespaciado y cuando digo que trabajamos en monoespaciado quiero decir lo siguiente vamos a ver monoespaciado son los caracteres por ejemplo que encontramos aquí en este tipo de archivo Entonces yo por ejemplo mira me voy al editor vale esto que estáis viendo es monoespaciado en el sentido de que yo dibujo yo pinto I pinto a y os Y si os fijáis justo debajo de cada i hay una a cómo es posible Incluso si pinto una m mayúsculas justo debajo de cada I hay una m mayúsculas vale Por qué Porque en la mayoría de editores de texto plano el tipo de tipografía es monoespaciada en cualquier otro tipo de procesador de textos por ejemplo Yo abro libre Office Perdón esto no esto y la fuente No es monoespaciada la mejor forma de simular Cómo va a caer la información en un ticket es utilizando un software que trabaje con tipografía monoespaciada es decir en este caso estoy usando liberation serif si yo pinto una I I y ahora pinto una a a daos cuenta como pinto Espera que te lo digo 1 2 3 4 5 6 7 1 2 3 4 5 6 7 y evidentemente el tamaño no es el mismo vale porque una fuente de tipo liberation no está no es monoespaciada sin embargo si yo cojo esto y lo cambio a monospace vamos a ver Mira nimbus mono space ahora fijaos como por cada I le toca Una a vale noto mono todo lo todas las fuentes que sean mono quiere decir mono space y por tanto esas sí que cumplen con esa característica Así que si yo por ejemplo ahora a continuación Eh quiero lanzar un ticket por ejemplo lo primero que tendría que hacer es preguntarme Cuántos caracteres de anchura tiene esa máquina de tickets vale vamos a ver vamos a un modelo vamos a simular un modelo y Eh Pues no sé sabes a ver esta Mira esta vale Okay Vale y eh papel térmico estándar vale compatible vale Sí OK Pero voy a preguntar a gpt un modelo estándar Cuántos caracteres de ancho puede soportar una impresora de tickets vale Ok vamos a 58 vamos a entre 32 y 40 es decir no superes 40 Vale pues yo ahora vengo por aquí y digo Vale pues me voy por ejemplo vamos a ver aquí me voy a New me voy a imprimir tickets vale o recibos lo que sea es que ticket suena a ticket de concierto algo así vale Ok no quiero composer quiero ignorar la carpeta vendor vale porque eso nos aporta nada más que nada vale Y imprimir tickets me voy a ghub me clono imprimir tickets un segundo Vale ahora a continuación si queréis incluso hasta podemos trabajar con el concepto de plantilla porque vamos a ver me voy aquí a imprimir tickets me voy a crear un archivo nuevo llamado plantilla punto html mismo ahora veréis por qué que realmente da igual Sabes queé no voy a hacer un txt porque es que no va a ser un html ni de coña no va a tener nada de html vale vamos a hacer esto más grande o sea quiero decir que ni se os ocurra meter ni dog type ni nada similar vamos vale Y aquí Digo vamos a que tengo 40 caracteres un 2 3 4 5 6 7 8 9 y 10 1 2s 3 y 4 y ya está y yo sé que de ahí no me puedo pasar vale Así que ahora a continuación claro tengo que como diría yo alinear a mano vale entonces jarsa pero fij que estoy trabajando con una fuente monoespaciada recibo de producto o recibo de compra y ahora pues como os digo con las antig como en las antiguas aplicaciones de ms2 pues alinear a mano vendedor pues José Vicente carrat laal Vicente 46014 Valencia España comprador y ahora viene el bacalao eh nombre del comprador nombre apellidos vale eh dirección vale población y código postal vale Y con esto tenemos como os digo en txt una plantilla ahora a continuación pues vengo por aquí y digo productos vengo por aquí Bueno sabes que voy a hacer esto hago así vale quito esto pongo un carácter más y ahora por ejemplo en este caso vale aquí por ejemplo pondría totales total y precio no IVA vale IVA y total final vale total final y aquí por ejemplo Ok aquí es donde estaría un poco el bacalao y el meollo del asunto bueno así que en este caso vamos a por ello y claro ahora necesito por ejemplo Bueno vamos a ver ah un separador O sea necesito un bucle por ejemplo producto nombre precio unidades y subtotal lo puedo poner ahí lo puedo poner aquí por ejemplo precio ahí y nombre lo voy a poner aquí abajo y ahora en el subtotal voy a poner Esto vale una vez que tengo esta plantilla ahora igual que hicimos hace un par de semanas con el template que estaba pensado para eh para esto para páginas web en html podemos hacer algo parecido insisto vale por ejemplo para un software en python podría estar en php porque probablemente el Driver también me coge impresión desde la web vale No lo sé lo podemos hacer como queramos Vale entonces voy a hacer lo siguiente voy a esta plantilla y me vengo por aquí me vengo por aquí me vengo por aquí y digo I have this template.txt plantilla txt I need to create a voy a hacerlo sencillo a php Ah vamos a ver a php + sqlite Project css single file css on another file create a control panel with 1 with crs uno customers dos products tres orders and then order can have many products inside then When an order is created Let program print a reed using provided template vamos a por ello vo voy a crear un archivo Index html como es kulite pues vamos ya poniendo los permisos de la carpeta eh sudo ch mod 777 por ahora y Esto va a ser imprimir tickets vale como estoy en local como estoy en desarrollo hago un 777 bien Y en este caso tenemos aquí el create Table If not exits Vale ahora hacemos un pequeño crud como hemos hecho 1 veces la diferencia es que en este caso el print lo que va a hacer es lanzar un archivo que tendrá fuente monoespaciada y que está pensado y está diseñado para imprimirse correctamente en una impresora de tickets vamos a verlo vamos a por ello vale aquí uh Ah vale dice por demostración OK Sí pero Ah vale Parece que la plantilla está aquí vale Y vamos a ver porque se supone que Ah aquí está muy bien product Lines produ Ah míralo ahí está el product Lines muy bien fantástico vamos a por ello pues index.php tiene buena pinta vamos a estilos el estilos pun css es muy sencillito styles.css lo cual en este caso pues casi que me da igual bien y vamos allá así que local Host barra imprimir tickets Vale y vamos a ver customers New customer New José Vicente carratala dirección población y código postal y añado customer añado producto y vamos a ver y producto un precio 43 yo que sé vale producto 2 y leches editar precio 45 y ya está Vale y ord aquí viene el tema create New order José Vicente cartal va a comprar el producto un el producto dos y compra dos y tres unidades create order Y entonces podemos hacer un print reip Así que hacemos un print reip Y entonces vemos Esto vale hay problema hay un problema Ok O sea es casi perfecto lo único que pasa es que pues esto supera los 44 caracteres Vale entonces voy a hacer un control p vale por ahí empezaría a salir pero esto no va del todo bien casi vale Así que vamos a hacer lo siguiente vamos a pedir algo más lo que sí que desde luego acertado es que aquí nos pone por ejemplo letra Arial pero aquí nos pone una letra monoespaciada Okay perfecto entonces en este caso supongamos que tenemos ya la impresora conectada al sistema vale que al final es una impresora como cualquiera instala en la lista de impresoras por aquí y básicamente aquí lo que voy a hacer Es OK perfect please a ver un maxter with of re printer evidentemente luego ajusta esto a tu impresora real Tex monospace text formatting render correctly into this limit dos PR re please AC please launch the printing with javascript and Don't show page header only receipt vamos a verlo de hecho igual con la impresora normal de PDF del sistema puedo simular una impresora de tickets Pero bueno vamos a verlo vale vamos a ver vale vamos a por vale De hecho parece que incluso me está retocando la plantilla según sus criterios de equilibrio visual vale me vale seguro que son correctos vale Crea una función print recip en javascript para imprimir el recibo fantástico y vamos a por ello Okay venga está pensando bueno Supongo que ya sabéis la que se ha liado esta última semana con el tema de Studio gibl vale De hecho se nota que está afectando al rendimiento de Open porque todo el mundo está generando imágenes de Studio gibl Yo también es decir yo el primer día que lo oí la semana pasada dije gu madre mía Cómo mala esto y me hizo una imagen y la puse en Facebook o sea que y de hecho también la puse en WhatsApp y nada y yo creo que la gente en internet es idiota porque están repitiendo una y mil veces unas declaraciones de del dío este que no me acuerdo cómo se llama de iba a decir muro oshi pero no ese es el compositor de banda sonora de Akira eh del tío este que se me ha olvidado el nombre vale del de Studio gibl y esas declaraciones tienen como 7 años de antigüedad y no se refieren al tema de Open eye sino se refieren a unas animaciones que en su momento le presentaron que eran animaciones procedurales vale pero la gente las está repitiendo por internet y ya está y lo segundo es que o sea el 99% de la gente de no de este país de este mundo no sabía que era Studio ghibli hasta hace una semana y ahora Prácticamente todo el mundo Ha oído hablar de Studio gibl lo cual me parece una noticia Perfecta de cara al Anime Es decir de Cara a que todo el mundo conozca Pues que es estudio gibli porque probablemente quizás pues haya gente que diga Oye y qué películas ha hecho el estudio gibli este con lo cual Pues a mí como o sea todo lo que la gente está hayando en Facebook y en linkedin a mí como maniobra de marketing de Studio gibl me parece una jugada maestra que no lo habrán querido ellos quiero decir que es algo que ha hecho Open Ey pero que desde luego le ha hecho a Studio gibli más marketing del que Studio G pudiera haber pagado en toda su vida pero bueno en fin y claro la gente gateando yo pensando pero no os dais cuenta que Cuanto más hayáis más publicidad le estáis dando a Studio gibli Pero oye mejor quiero decir así la gente Pues que conozca anime y todo esto Vale pues eh vamos a ver por aquí y aquí vale Y el estilo Parece que ya bueno Okay pues no parece que haya habido mucho cambio no vale pues vamos a por ello Así que recargamos vale customers products orders vale print reip Oh qué bonito bien Lo único que pasa es el texto vale Pero bueno no pasa nada lo demás razonablemente bien Vamos a ver si vamos a ver en ajustes tamaño del papel claro a5 es lo mínimo que puedo no me deja menos una pena escala no pero est da igual Perdón al revés vale hago así pero bueno simulando como si esto fuera una impresora de papel vale Y ahora pues sería atrapar algún caso como este y decir vale pero si se esc de esto si se escapa de 40 caracteres Pues pásalo a la fila siguiente vale o algo así vamos a decirlo vamos a ver quiero más vale ahora digo Now One uno check for Lines exceeding 4 characters for example in customer Data dos If Line exit 4 characters break by Word es decir por espacio en blanco and use New l vale más cosas okay vale tres Let all prices Let all price txs have two decimals Euro Sign and let them be align to right as in currency y cu Let All the application be in spanish y ya casi está Yo creo que con esto ya más o menos ya lo tendremos Así que vamos a por ello vamos a ver vale luego otra cosa que os digo Y es que yo generé un una imagen la mía de estudio gi la semana pasada no me acuerdo Cuándo no sé si sería pues el no sé el jueves o el viernes sé que el fin de semana ya la tenía Porque mi hijo me lo dijo di mi hijo me dijo Oye te has puesto una imagen de japonés y tal o sea con lo cual seguro que ahí ya la tenía pero luego resulta que se ve que para que la gente no se enganche tanto pues han cómo te diría yo han disminuido como la calidad vale la aproximación te lo digo porque yo generé una en ya te digo no sé jueves viernes pasado no me acuerdo y me acuerdo que dije eso está clavado o sea eso está muy aproximado y luego generado otras durante el fin de semana no mía sino de otras personas y he dicho esto está aproximado cuando menos vale y en otras ocasiones le he metido igual una imagen con cuatro o cinco personas y te saca tres personas y es como Perdona y las otras dos personas Qué han pasado con ellas O sea que y todo esto ya te digo luego he ido leyendo por las redes que parece que a todo el mundo nos está pasando y es que pues se ve que Open Ey ha ido tuneando un poco esa característica y para ajustarla digamos para quitarle precisión no sé si por temas de no sé si por temas de propiedad intelectual Aunque el estilo anime tampoco es de Studio gibli quiero decir que estudio gibli tampoco ha inventado el anime Pero bueno otra cosa es que obviamente pues es un estudio que tiene mucha repercusión y creo recordar que el viaje de chijiro es la película con más facturación de anime de la historia del anime O sea que obviamente pues estudio gibli tiene una un peso muy importante en el mundo del anime pero a ver pero ellos no han inventado el estilo Pero bueno da igual vamos a ver esto yo diría que se ha quedado un poco frito en fin Cómo se llama el tío miaki acordaba vale que Insisto que es que además lo de la reacción de miasaki al tema de la Inteligencia artificial para animar personajes es que ya te digo que en su momento un alumno que tenía hace 7 años en su momento me dijo Oye qué te parecen las declaraciones de miyasaki con respecto a lo del tema de la inteligencia Y le dije no sé de qué me estás hablando y entonces él me dijo sí Mira busca un vídeo de YouTube en lo cual Pues hay una empresa que le ha presentado a miasaki animaciones hechas con encia artificial eran un poco aberrantes te lo tengo que decir yasaki digamos reaccionaba desde el punto de vista as eso sería aplicable a Studio gibl en un futuro vale momentín Voy a parar esto porque esto se ha quedado frits imo Pero frito eso Ah no se pueden cargar los proyectos ha quedado frits imo doble Vale pues nada Ahora reintentar aquí Vale ahora sí Okay Eh Esto está correcto sí momento voy a asegurarme de que la última petición ha quedado recordada vale Okay Vale perfecto Vale entonces eh Ya os digo la reacción Uy algo va mal se ve que están teniendo problemas pero bueno vamos a dejarlo ahí y ya está y si no pues luego más adelante podemos retomar este proyecto Mira a ver ya sí pero Uy madre mía vale Bueno lo está haciendo en plan funciones vale formato de precios es como que creo que acaba de acaban de implementar como algún nuevo submodelo porque si os fijáis el formato de La respuesta es diferente del de antes vale ahora le diré full code como siempre uh uh Ah sí s vale digo esto Qué es h2 pero no Claro Esto es evidentemente para esto para vale eso eh Sí por favor código completo y ya os digo yo en su momento y de Esto hace 7 años vi las declaraciones de mi aquí y dije a ver no estoy de acuerdo insisto No ya hablando de lo de ahora sino En aquel momento yo pensé No estoy de acuerdo porque es cierto que las aberraciones que le presentaron eran bastante aberrantes Qué dices a ver la persona que se lo había presentado podía haber afinado un poquito más las animaciones Pero bueno pero hay potencial ahí o sea evidentemente esa animación no la vas a usar pero el concepto de que una Inteligencia artificial genere animaciones pues ya En aquel momento a m parecía interesante también te digo que pues yo soy una persona entre comillas razonablemente más o menos joven y abierta a tecnología y pues miaki es un señor muy mayor que pues evidentemente basa su trabajo en hacer las cosas a mano aunque también os digo que en estudio gbl desde hace un montón de años hay un montón de cosas hechas por ordenador O sea que yos también aprovechan la tecnología evidentemente Pero bueno no lo sé y ya os digo es que cuando est todo el fin de semana estoy viendo que siak no sé qué que siaki es como tío no estáis viendo que es declaraciones Son de hace 7 años y no tienen nada que ver con esto pero bueno no lo sé pero bueno mientras Sigan hablando de anime y la gente sepa lo que es pues Oye pues tampoco está mal sabes bien esto como os digo yo creo que está un poco frito vale con lo cual voy a probar con le chat voy a probar con lechat y voy a hacer lo siguiente en esta aplicación tres herramientas Qué herramientas fuera vale e on this application y ahora me vengo aquí y ahora me vengo aquí no está frito se ve que algo está pasando y ya está vamos a otra ía y sin problema Mira de hecho me está generando como un pequeñito dock String vale Okay copiamos pegamos Vale y vamos a probar recargamos pedidos imprimir recibo Ahora sí esto ya es otra cosa Vale y ahora vamos a comprobar como el recibo de compra en ningún caso exce de los 40 caracteres y vemos Que bueno el texto no está muy bien alineado en línea de producto pero vamos da igual quiero decir eso es ya hacerle un par de peticiones más Aquí vemos que en el subtotal sí que está correctamente alineado y ya está vale Así que ya os digo el tema de los tickets pues es un poco como el tema de los correos electrónicos vale que simplemente pues en lugar de estar a la última de la última del css pues hay que ir un poco a lo contrario vale hay que ir a la informática un poco retro digo retro en cuanto a que antiguamente pues las impresoras matriciales eran como esto que estáis viendo eran eh de tipo mono espaciadas con caracteres estáticos vale Y ya está y se formatea Pues de esta forma que estáis viendo que es contando caracteres y asegurando que los textos se quedarán centrados en la pantalla vale no tiene mucho más misterio así que bueno y parte imprimir tickets pues no es moco de pavo en el sentido de que pues es algo relativamente frecuente digamos en los comercios de a pie de calle con contacto directo con clientes bien y en la siguiente parte de la clase el objetivo es introducir pues eh cosas que vamos a estar viendo también mañana y pasado con respecto a acciones avanzadas en base de datos Entonces por ejemplo hay una cosa Que os quiero enseñar y es la siguiente me voy a ir a local Host me voy a ir a mysql php my admin me voy a root bien me voy a no sé vale una base de datos mi empresa por ejemplo No mi empresa tiene clientes reales Ah no tiene clientes perfecto bien y resulta que por aquí hay un par de cosas que podemos hacer una de ellas es por ejemplo disparadores Oye no tengo eventos Por qué no tengo eventos e No lo sé pero debería tener eventos Ah eventos Aquí está Qué susto Vale entonces eh Por una parte tenemos disparadores por otra parte tenemos rutinas vale Y por otra parte tenemos eventos entonces eh si yo me voy a eventos por defecto eventos está encendido se puede Apagar y eh yo puedo a partir de aquí crear nuevos eventos anteriormente en eh cómo te diría yo en Linux hemos visto que existe un concepto que es el cron la idea de cron consiste en ejecutar tareas periódicas bien pues una parte muy desconocida de mysql consiste en saber que existen eventos que es un cron únicamente dentro de mysql Así que yo me voy a ir a crear un nuevo evento y digo nombre del evento pues copia de seguridad copia de clientes por ejemplo estado en tipo de evento recurring y si le digo recurring le digo ejecutar cada One minute vale quiero ejecutar cada minuto inicio desde hoy final hoy Perdona desde las 00 Ok Time zone Ok vale enter ha pasado de mi culo Pues nada 00 Vale enter hasta Pues yo que sé sabes hasta dentro de TR semanas enter enter enter Qué te pasa 24 a ver ahora vale bien Ahora definición Vale qué es lo que hace esta este artículo digamos Vale pues lo que va a hacer un momentín admin me voy aquí a chat o a Bueno aquí a chat ostia Qué pasa aquí my sql create sql for event delete tables del Table clientes copia andate a copy of Table clientes into clientes copia y ya está vamos a verlo Ok y Ok delimitador vale create event Ok y vamos a por ello hago así vale Drop table vale No quiero definidor continuo vamos a ver create event momen do Vale pues voy a esto Ah claro vale Sí Ok me quedo con esto continuar no tío Qué te pasa No pues no sé qué te pasa pero Every One minute voy a hacer una cosa me voy a sql me voy a esto directamente One minute clientes copia continuar y ya está Vale bien Ahora me voy a eventos en eventos veo que tengo un copiar clientes y ahora dado que el planificador está encendido me voy a tablas y veo que tengo clientes copia bien tiene 24 filas pero yo ahora me voy a clientes y voy a insertar una nueva fila Así que nombre Juanito apellidos Juanito email Juanito dirección Juanito país Juanito código postal Juanito continuar ahora clientes tiene 25 clientes copia tiene 24 con lo cual yo me voy a abrir un poco de bebida voy a esperar un minuto vamos a ver y ahora recargo y veo que clientes copia tiene 25 y es más me voy a cargar clientes copia ya no tengo clientes copia pero espero un minuto y dentro de un minuto dentro de un minuto vuelvo a cargar tablas recargo momento espera esperamos un minuto que parece que no ha pasado un minuto vamos a ver tablas espera recargamos mi empresa Bueno ahora vendrá a ver el definidor en eventos enable editar begin vale Drop Table Ok Vale pues debe ya estar Ah mira ah Ahí está y clientes copia 25 Esto es lo que os decía este fin de semana de que May sql y las bases de datos En definitiva tienen herramientas que están un poco escondidas y que podemos considerar un poco avanzadas pero avanzadas no quiere decir que sean herramientas pensadas para fastidiar al estudiante de dam sino quiere decir que son herramientas que igual no se usan todos los días pero de vez en cuando viene bien saber que está ahí para decir e Mola que tengas un planificador de eventos y que cada x tiempo el que tú quieras puedas hacer algo vale cuidado con los eventos en este caso acabo de hacer uno que es de cada minuto vale lo voy a apagar más que nada pues eso para bueno set global espera no lo que voy a hacer Si acaso es editarlo y tipo disabled vale Y ya está y así pues simplemente lo deshabilitamos y no nos está machacando la base de datos cada minuto pero imaginaos en un momento dado pues hacer una copia de seguridad de toda la base de datos desde mysql y no desde cron y copiar la otra base de datos y tenerla ahí preparada para lo que sea vale es una de las herramientas que estaremos viendo estos días otra herramienta interesante es la de los disparadores es algo aproximado a la estructura de control condicional If Pero dentro de sql mediante la estructura de control condicional If nosotros tenemos acceso a decir si Ocurre algo en este caso haz esto otro vale lo que en informática se llama If this then that es decir si esto Entonces lo otro los disparadores como digo es una de esas herramientas que nos permite hacer lo siguiente vamos a ver Me voy a ir a disparadores y vamos a crear un nuevo disparador y en el disparador lo que quiero en este caso es ejecutar una instrucción condicional mediante la cual Por ejemplo si inserto un cliente vamos a ver me voy a estructura me voy aquí comentarios y vengo por aquí y digo in my sql create a Trigger with this Table so for example If eh ostras No estáa población será verdad Bueno pues If CP code starts with 46 then on coms put Valencia y ya está vale Así que eh okay le doy a Play y vamos a crear vale coms Espero que me coja comentarios Ok correcto bien entonces en este caso lo que hacemos Es crear un Trigger que cada vez que en la tabla insert on tabla espérate porque esto no está pero vamos a hacerlo nosotros sql vale tabla clientes If empieza con 46 en ese caso comentarios es igual a Valencia vamos a verlo continúo base de datos no seleccionada Ah espérate Perdón mi empresa Dónde está mi empresa aquí mi empresa sql aquí continuar vale con esto Acabo de crear un disparador me voy a disparadores y tengo Valencia comand Así que yo ahora continuación me voy a clientes me voy a insertar y voy a insertar a Juan Lopez marínez email juanz comom dirección la calle de Juan y el país es España pero su código postal es 4 me lo acabo de inventar bien y comentarios nada Así que le doy a continuar y veo que en examinar no hay ningún comentario vale veo que mín dónde estás Ah siguiente página vale Juan López Martínez tacata tata pero yo ahora a continuación me voy a insertar y nombre José Vicente apellidos carratala email info @josé viicente carratala me voy a Calle de José Vicente pero ahora en código postal pongo 46014 y no pongo nada en comentarios yo no pongo nada en comentarios y entonces me voy a continuar y me voy a examinar y veo que en la siguiente página automáticamente en comentarios el sistema ha puesto Valencia con lo cual como podemos observar morfológicamente no es Exactamente igual que una partícula If Else pero conceptualmente sí que tiene mucho que ver en el sentido de que es una ejecución condicional en el sentido de que Eh pues es algo que solo ocurre cuando ha ocurrido otra cosa Vale entonces esto como os digo Son ejemplos de cosas que estaremos viendo en las clases de mañana y de pasado y que no son difíciles si os diis ha sido crear un Trigger ha sido crear un evento y lo importante está en que si esto por ejemplo os lo explico el primer día de sql diríais Yo qué sé para qué quiero yo esto pero para aquellos de vosotros que ya estéis empezando a crear aplicaciones y ya estéis empezando a sufrir ciertas cosas que todo el mundo tiene que sufrir cuando Crea una aplicación Pues claro De repente el decirte Oye sabes que tienes un chome dentro de mysql Pues bueno igual lo usas o igual no Pero puedes decir Oye como mínimo está bien saberlo para cuando me haga falta y pues ya os digo no todos los días Vais a hacer triggers pero de vez en cuando decir Oye sabes que en mysql existe una fórmula mediante la cual cuando haces una cosa automáticamente si se cumplen ciertas condiciones ocurre otra cosa diferente Pues tampoco está mal que sepáis que eso existe y que lo tenéis como os digo a vuestra disposición y como habéis visto básicamente es hacer un par de peticiones sql y se queda todo correctamente realizado vale bien pues poco más por hoy porque no quiero empezar un ejercicio que en media hora me voy a tener que dejar a mitad con lo cual hasta aquí llegamos en las clases de hoy y en las clases de mañana y de pasado como os digo pues estaremos trabajando hasta agotar los conceptos que nos queden por ver de mysql pero ya os digo eh Cuando digo hasta agotar los conceptos quiero deciros que el objetivo no es agotar a vosotros vale el objetivo no es meteros un montón de traya de My sql que digáis estoy hasta el culo de My sql No quiero más May sql sino el objetivo es precisamente enseñaros que si estas herramientas existen es porque alguna vez algún desarrollador dijo Mira voy a meter esto porque a la gente le va a gustar vale o voy a meter esto porque a la gente le va a ser útil según En qué tipo de escenarios y yo como os digo pues la intención que tengo para mañana es vale No ver El kungfu Místico de mysql sino enseñaros cosas que insisto se consideran avanzadas pero que En definitiva son herramientas de productividad que van a hacer que vosotros al final trabajéis mejor vale bien pues dicho esto teniendo en cuenta que las clases de mañana y pasado pues mirarán mucho en torno a base de datos voltear mucho en torno a base de datos continuamos mañana a las 3 y nada y le metemos caña al tema vale venga chicos Pues mañana nos vemos