bueno para empezar la clase empiezo comentando que las notas estarán mañana en algún momento es decir al final de la mañana seguro y si me da tiempo a comunicaros lasas por correo electrónico a cada uno en principio sí que debería Pues mañana a mediodía las tendréis en la bandeja de entrada eh Y si no pues mañana por la noche vamos pero mañana estarán las notas e deciros que como siempre repito todos los años recordad que una cosa son notas y otra cosa son boletines vale lo que tendréis mañana eh son las notas Luego esas notas las tengo que comunicar a secretaria y luego secretaria a partir de esas notas genera los boletines vale que esto es algo que generalmente todos los años da igual pero justo los alumnos del año pasado Pues sí que veían una diferencia muy grande entre las notas y los boletines que yo decía Bueno pero es que las notas son lo mismo que los boletines pero los boletines arriba ponen logo pero la nota es la misma pero en fin pero por si acaso os da esta curiosidad Vale pues que sepáis que las notas no los boletines las tendréis mañana Ay Espérate que no estoy sacando no estoy viendo el chat vale ahora bien siguiente cuestión eh empezando con sistemas de gestión empresarial De hecho si queréis incluso antes de meternos en arina con sistemas de gestión empresarial vamos a echarle un vistazo global a los temarios entonces simplemente deciros para ver un poco dónde estamos y qué es lo que nos queda que en acceso a datos pues hemos visto orm estábamos con el tema de bases de datos objetos relacionales y documentales sobre todo vale Y luego tenemos programación de componentes vale en diseño de interfaces estábamos en creación de interfaces desde aquí hasta final creación de informes Perdón desde aquí hasta navidad y luego viene la parte de documentación distribución y pruebas en multimedia estamos con cotlin vale estamos con Android ahí no hay mucha duda en programación de servicios y procesos estamos con servicios en red y luego también hemos empezado a trabajar con técnica de programación segura y básicamente Pues en sistemas de gestión empresarial estamos a saco trabajando Con crimson qué os quiero decir con todo esto Pues que ahora ya es cuesta bajo Vale ahora ya es cuesta bajo pero no en el sentido porque la expresión cuesta bajo puede tener diferentes acepciones vale hay una acepción negativa que es cuesta bajo y sin frenos no eso no vale y hay otra acepción más positiva que es cuesta abajo en el sentido de que lo que es cuesta arriba te cuesta y lo que es cuesta abajo ya te cuesta menos vale A eso me refiero con cuesta abajo quiero decir que yo creo que lo más duro del curso ya ha pasado y ahora ya lo que queda yo creo que a nivel de dificultad es menor que lo que ya hemos pasado vale luego Aparte ya os digo que pues Mirad desde fijaos desde septiembre hasta en Navidad Pues hay desde la casilla 7 hasta la casilla 21 hay 14 semanas Pero a la vuelta de Navidad hay vamos a verlo un dos 3 4 5 6 7 semanas vale para que veáis que pues prácticamente en cuando volvemos de Navidad es pim Pam pum y se ha acabado el tema así que bueno ánimo vale que ya queda poco y luego ya las prácticas Vale pues estaba diciendo que bueno Espera que José Manuel se acaba de unir vale estaba comentando resumen de lo que he comentado en primer lugar que notas mañana Y en segundo maana anes y luego en segundo lugar estaba comentando pues un poco lo que queda desde aquí a final de curso para que veáis que lo que queda es prácticamente primero que es muy poco y segundo que es pienso creo más fácil de lo que hemos visto hasta ahora vale bien una vez hecho esta este pequeño resumen y esta puesta en situación ahora vamos con eh con sistemas de gestión empresarial vamos con crimson y os voy a contar Sí tranquilo Jos No pasa nada luego por otra parte también te digo José Manuel que evidentemente como siempre pues estoy grabando desde el minuto uno con lo cual pues lo que he comentado que tampoco ha sido de mucha profundidad pues lo puedes ver luego en la grabación no entonces eh os voy a contar os voy a contar antes de ponerme a programar pues una serie de cosas y ocurre lo siguiente eh Por una parte Cuando hacemos un sistema de gestión empresarial eh vamos al isberg de segundo Pues claro tenemos una aplicación que tal y como hemos empezado a ver eh el otro día a través de la Api eh el lunes pasado a través de una aplicación Móvil El hoy en clase quiero hablar de formularios y al final todo esto son accesos al sistema de gestión empresarial que es el que está debajo del iberg Y si está debajo del iberg es por algo si está debajo del iceberg es porque nadie que no tenga permiso debe Acceder al sistema eso qué quiere decir Bueno pues que acordaos que cuando lleguemos a la parte final de la asignatura tenemos que hacer la parte de deploy donde en el deploy nos tenemos que preocupar especialmente de la seguridad es decir qué técnicas vamos a utilizar qué medidas de seguridad vamos a utilizar para balancear dos cosas vale Y aquí Viene un poco el pensamiento en voz alta de la clase de hoy y es lo siguiente la aplicación Debería ser fácilmente accesible para las personas que estén autorizadas algo que parece una obviedad evidentemente sin embargo al mismo tiempo aquí viene la dificultad la aplicación Debería ser totalmente inaccesible a personas que no estén autorizadas balancear estas dos afirmaciones y que las dos afirmaciones sean verdad al mismo tiempo es lo que nos va a costar al final la aplicación la estamos construyendo en un ic verg pero la estamos construyendo con tecnologías web para que la aplicación sea accesible desde cualquier parte Cuando digo desde cualquier parte lo que quiero decir es que en una infraestructura de intranet aún en una infraestructura de intranet una aplicación con tecnología web sigue teniendo sus ventajas pero en una intranet un momento y blanco vale en una intranet empresarial un momento que ponga color y quite el trazo vale en una intranet empresarial en un momento dado podemos tener un servidor de hecho para que la aplicación funcionar deberíamos tener como mínimo un servidor y a ese servidor vamos a poner por aquí esto y a es servidor deberían poder conectarse una serie de X clientes lo cual quiere decir que yo ahora vengo por aquí yo ahora vengo por aquí yo ahora vengo por aquí esto es cliente y ahora vengo por aquí y la IP del servidor para que entendamos qué es lo que estamos haciendo de qué estamos hablando vale la IP del servidor incluso podría ser una IP completamente perteneciente a una red local 192 168 1x vale para una máscara de red de 255 25500 creo que era la máscara de red de esta IP vale Lo cual quiere decir como os digo que pues cada uno de los clientes se conecta de forma paralela de forma sincrónica a esta aplicación vale se con a este cliente y se conecta este cliente y se conecta otro cliente Hola dragos muy buenas y se conecta otro cliente y se conectan tantos clientes como haga falta este podría ser un escenario de implementación perfectamente posible ventajas la seguridad teniendo en cuenta que el servidor estaría físicamente dentro de la empresa y en principio el servidor podría estar incomunicado con el exterior lo que ganamos es seguridad vale siempre que ningún hacker se cuele dentro de la intranet de la empresa en principio esta intranet sería completamente invisible al exterior luego ya sabemos que pues en algún momento en alguna parte de la empresa Pues hay un router vale en alguna parte de la empresa Bueno hay un router modem que da acceso a internet Lo cual quiere decir que bueno técnicamente desde internet este visor no O sea este servidor no es visible Pero bueno al final hay una puerta abierta a internet vale Lo cual quiere decir que habría que adoptar una serie de medidas de Vigil que esto ya entra dentro del trabajo de los administradores de sistemas como es poner un cortafuegos Añadir monitorización de red impedir que se hagan una serie de acciones vale como que los empleados puedan pinchar su propio pendrive en los ordenadores para impedir que puedan inyectar virus por accidente etcétera Vale ahora Esto está muy bien De hecho este esquema le encanta a cualquier administrador de sistemas porque los administradores de sistemas de forma obvia son los primeros y os diría yo los últimos también responsables de la seguridad informática de la organización y si algo pasa pues las culpas digamos en primer lugar recaen sobre ellos pero qué ocurre Pues que estamos en 2024 y en 2024 eh especialmente después de la pandemia e incluso antes de la pandemia vale pero la pandemia ha acelerado este proceso Pues claro el teletrabajo y el poder acceder remotamente a la aplicación al sistema de gestión vale En definitiva pues es algo perfectamente común con lo cual qué ocurre qué podemos hacer Bueno pues lo que podemos hacer o sea lo que ocurre es que tenemos clientes de fuera Cuando digo cliente no quiero decir un cliente de la empresa quiero decir un ordenador cliente vale que debe tener permiso para conectarse desde fuera de la intranet y acceder En definitiva a la aplicación pero con permiso La pregunta es cuando tienes una cosa así cómo puedes discriminar los clientes que sí que tienen permiso para acceder de los clientes que no tienen permiso para acceder y por tanto a los cuales les tiene que denegar completamente el acceso bien Yo hoy os quiero hablar de una serie de medidas Pero quiero dejar Claro que de lo que voy a hablar hoy es de ejemplos vale Y que a partir de ahí cada uno de vosotros tiene que analizar Qué medidas pues implementaría cuáles va a desarrollar en su proyecto etcétera una medida que voy a poner como ejemplo una medida que voy a poner como ejemplo es la creación de una VPN mediante una VPN es decir una virtual private Network una red privada virtual los clientes de fuera los de la empresa se pueden Conectar a la red de la empresa de tal forma que es al conectarse Y esta es la cuestión Obviamente con credenciales vale al conectarse es como si estuvieran dentro de la empresa y por tanto pueden Acceder al servidor y cualquier persona que entre dentro o sea cuando yo me conecto a través de una VPN pues técnicamente es como si estuviera dentro de la empresa el programa cree que estoy dentro de la empresa vale es como que estoy ahí dentro y por tanto me puedo conectar a la aplicación de todo lo que os voy a comentar es correcto Ahí estamos vale muchas empresas tienen una VPN porque es una forma relativamente sencilla y poco costosa de permitir el acceso a usuarios ahora la pregunta es cuál podría ser un problema con respecto a la VPN Pues que el ordenador de los usuarios de destino tiene que estar correctamente configurado para conectarse con una VPN lo cual quiere decir que por una parte les tienes ahí correcto ahí justo ahí eso es de lo que quiero hablar ahora Beatriz de los problemas vale o sea la VPN cualquier administrador del sistema te dará te dirá vamos a meter una VPN pero claro los usuarios es como espérate Porque primero Cómo se conecta esto de la VPN vale un usuario de una empresa un administrativo un comercial un contable no va a saber darse de alta en la VPN sino que habrá que digamos tendrá que existir en la empresa personal técnico que en empresas pequeñas pues le acaba tocando al administrador de sistemas que vaya ordenador a ordenador de la empresa activando el conectando la VPN a continuación claro eh ahí Beatriz hay muchos escenarios de uso porque en principio cuando el portátiles de la empresa en principio el portátil debería estar permanentemente conectado a la VPN pero eh claro eso hace que desde el portátil de la empresa Pues hay veces que capan mucho las cosas no por amor al arte sino ya os digo que un administrador de sistemas suelen ser personas bastante poco empáticas y bastante cerradas Pero al final son personas que insisto sobre las cuales recae la responsabilidad si hay algún problema de seguridad informática por tanto ellos se cubren las espaldas y por defecto pegan tijerazo Y no dejan acceder a una serie de recursos si el ordenador cliente es un ordenador propio y privativo de la persona del empleado no es de la empresa Pues claro se puede hacer una conexión VPN de tal forma que tú puedas conectar y desconectar la VPN cuando quieras trabajar con cosas de la empresa te conectas a la VPN y te conectas al servidor y cuando no te desconectas de la VPN y ya navegas a tu rollo y navegas por donde quieras y haces entre comillas lo que quieras vale también hay que tener en cuenta también hay que tener en cuenta que si un ordenador cliente navegando sin VPN adquiere un virus y luego se conecta a la VPN ese virus puede pasar a la intranet de la empresa vale o sea que sí claro te cuento Beatriz efectivamente eh Ya sé que molesta mucho soy perfectamente consciente de que o sea de que molesta mucho y no parece una tontería o sea parece una tontería visto desde fuera vale eh claro qué ocurre que en esta asignatura que si os fijáis por esta asignatura es un poco como la pieza central del ciclo de lo que se trata es de que vosotros estáis diseñando estáis programando una un sistema de gestión empresarial con lo cual si por lo que sea el sistema que estáis programando acaba va implantado en una empresa llegado a ese punto Vosotros seréis los responsables de en parte de la seguridad del sistema informático o de la red porque habrá una parte de seguridad que dependa del administrador de la red pero también habrá otra parte de la seguridad que dependa de cómo está programada la aplicación Y entonces qué ocurre Pues aquí viene la cuestión ocurre que tendréis que buscar el equilibrio entre que la aplicación sea segura desde el punto de vista informático pero que a la vez la aplicación sea accesible para lo que tú has dicho vale para no molestar al usuario final otra vale otra otro ejemplo de medida que podríamos tomar insisto vale lo voy a repetir muchas veces son ejemplos otro ejemplo de una medida que podríamos tomar sería un wh list es decir si se da el caso de que tus usuarios tienen ips estáticas cada usuario que se conecte te tiene que dar la IP del router de su casa o de la IP que tenga contratada o donde sea para solo admitir conexiones desde esas ips vale Y como podéis imaginar una IP de whitelist es algo que podemos programar de una forma muy sencilla o bien las metemos en una tabla o bien las metemos en un archivo txt o lo que sea vale otra forma de filtrar bueno esta por ejemplo creo que os lo comento el otro día en capitola teníamos el filtro por país el filtro por país yo en un momento dado detecté que en capitolo nos estaban atacando o intentando al menos desde Rusia y desde China y dije Bueno vamos a ver tenemos algún empleado en Rusia o en China No pues de hecho tenemos algún empleado fuera de España no pues cortado o sea solo se admiten conexiones desde España no se admiten ni conexiones de o sea de ips desconocidas vale a través de VPN raras o a través de cebolla o a través de lo que sea solo se admiten ips que están en la piscina de España vale Y aún así eso no elimina todas las posibilidades de hackeo pero ya te corta de repente todas las ips de Rusia y todas las ips de China pues Vale son ejemplos de medidas por ejemplo otra medida si estamos hablando de que eh sabemos que podemos atrapar el navegador del usuario por ejemplo solo admitir un navegador concreto y no precisamente Chrome evidentemente es decir cogemos un navegador raro vale el más raro que podamos Pero que sea obviamente compatible con el estándar de html javascript y que sea compatible con nuestro sistema y comprobamos que nuestra aplicación funciona con ese navegador y bloqueamos nuestra aplicación para que solo se pueda acceder a través de ese navegador Y por supuesto aquí viene el problema vale aquí o sea yo digo esto y desde el punto de vista informático podemos decir vale Mola porque es como una llave de entrada el navegador es la llave Ahora tienes que todos los ordenadores de todos los clientes Cuando digo cliente quiero decir empleado de empresa e instalar ese navegador concreto con esa versión concreta lo cual quiere decir que es una medida que por una parte aumenta la seguridad pero por otra parte aumenta los costes de it porque pues ya tienes que bueno aumenta los costes de it más incidencias porque en el momento en el que un empleado y cuando digo empleado pensar el típico administrativo que no tiene por qué saber nada de informática vale intente entrar a la aplicación con Chrome y no pueda entrar pues ya tienes una llamada a it Oye que no puedo entrar y es que no tío es que tienes que entrar con el navegador este Ah vale Es que se me ha ido la pinza entrado no con Chrome no puedes vale o sea lo típico que claro cuando una organización Pues hay como cinco personas pues al final es de andar por casa y conoces a todo el mundo pero cuando en una organización hay decenas de personas pues pueden ser sabes como una cuarta parte de la jornada laboral solo para resolver las dudas técnicas que van saliendo por haber aumentado la seguridad vale Por eso digo que en esta parte estamos hablando de balance estamos hablando de intentar buscar y encontrar un equilibrio entre la seguridad y la facilidad para los usuarios os voy a poner otro ejemplo este ejemplo no lo voy a integrar yo aquí en la clase pero sería integrable Y es que podemos integrar interfaces naturales como medida de identificación sabemos que tenemos una librería a mano que nos cueste mucho programar que se llama media Pipe sabemos que con medi Pipe podemos detectar caras y sabemos que de la misma forma que detectamos la punta de la nariz pues podemos crear una serie de adores biométricos que midan por ejemplo la distancia entre los ojos la distancia de los ojos a la nariz y la boca y a partir de ahí podemos hacer una especie de perfiles biométricos a partir de la captura de la webcam eso qué quiere decir pues que aplicando interfaces naturales podríamos loguear el sistema pues como estos sistemas de retina pero no tan a la Ob bestia vale sino podemos loguear con la cara como se desbloquea el teléfono muchos teléfonos se quean con la cara quiero decir que tampoco estoy diciendo nada muy extraño pero claro pero eso Por una parte sería más coste de implementación Y por otra parte pues luego ya sabéis el típico usuario de Es que no tengo webcam Es que se me ha roto la webcam es que estoy en una habitación muy oscura y no me reconoce porque el teléfono móvil te reconoce aunque estés oscuras Supongo que lo sabéis porque tiene un pequeño una pequeña cámara de infrarrojos vale pero las webcam de ordenador no tienen una cámara de infrarrojos por tanto pues ese trabajo puede costar un poco más En definitiva como ya os digo pues al final de la asignatura tenemos que implementar esto en un servidor real pero claro ahora mismo vivimos un momento muy happy en el cual vamos desarrollando y solo nos preocupamos porque las cosas funcionen y ya está y claro cuando llegue el momento de la implementación Tendremos que pensar cómo lo hacemos Mira por ejemplo otra medida insisto vale Ahí se pueden haber como decenas de medidas de aumentar la seguridad una medida sería mín una medida sería cambiar el puerto de acceso vale si una aplicación web se sirve por el puerto 80 pues sirva por el puerto 80 81 svela Por el puerto 3000 sirver la por el puerto 5000 svela por yo que sé vale Insisto que solo un cambio de Puerto no te va a evitar todos los ataques pero un cambio de Puerto ya es una pequeña zancadilla y esta de aquí es otra zancadilla y esta de aquí es otra zancadilla y esa de ahí es otra zancadilla como veréis estas medidas que estoy comentando no son en absoluto bloqueantes en el sentido de que implementar una eem implementar una medida no quita para implementar el resto o sea son medidas completamente aditivas y completamente colaborativas que en un momento dado pues Insisto que cuantas más medidas metáis mejor luego obviamente también depende del escenario de uso en el que estemos trabajando es decir si es una aplicación la que Vais a implementar que tiene pues yo que sé sabes unos no sé unos clientes unas facturas y unos productos Pues bueno sabes puedes decir es que en el caso de que me roben tampoco me van a robar mucho ahora en el momento en el que hay contabilidad en el momento en el que hay cuentas bancarias o Imagínate que ese sistema de gestión empresarial fuera de un hospital que no es Ya solo que pudiera haber información económica sino que hubiera información de salud que según la agencia española de protección de datos es información especialmente protegida pues ya te digo que a esta lista de aquí ya le puedes ir sumando cuantas más medidas de seguridad mejor vale aparte hay una cosa muy divertida Y es que la lopd superc deida por la rgpd por el reglamento general de Proc de datos a nivel europeo dice una cosa muy divertida que es que los administradores de las aplicaciones de las redes tienen que aplicar el estado del arte de la seguridad informática Hala ahí te lo dejo y es como que es el estado del arte Vale pues el estado del arte es lo último de lo último O sea la ni la rgpd ni la opd te dicen Qué medidas tienes que adoptar Porque da igual Qué medidas te digan porque la los hackers la semana siguiente se habrán comido esas medidas o sea te dicen tienes que estar siempre a la última en seguridad informática Especialmente cuando tienes que tratar con datos especialmente protegidos que es un rollo que no veas vale por tanto en una empresa pequeña Pues igual esta lista se queda grande pero en una empresa que trate con datos especialmente protegidos igual esta lista son los primeros ítems de una lista mucho más larga vale tener en cuenta Eso bien y esta semana esto lo voy a guardar Por aquí como infraestructura a ver un segundo y HM no dam segundo sistemas voy a poner por aquí eh infraestructura svg vale Y una de las cosas de las cuales eh voy a hablar hoy y ahora ya pues para entrar un poquito en la parte de código es de los formularios Mediante los formularios de hecho la semana pasada empezamos ya a tocar un poquito de traer y sacar información a través de la aplicación móvil que estábamos haciendo estuvimos también hablando del tema de la Api vale los formularios son una herramienta bastante interesante desde el punto de vista de introducir información es decir pues si yo soy el departamento de ventas y yo tengo que introducir datos no de un cliente sino de 400 clientes pues Oye casi que acabo antes si publico un formulario donde ese formulario sea público en el sentido de que os deis cuenta de que está por encima de la línea del mar y por tanto es visible para que los usuarios metan aquí información y esa información entre dentro de mi sistema y me ahorre tener que escribir yo como empleado de la empresa esa información bien qué dos problemas diríais que aparecen en este momento cuando planteamos esto de los formularios qué me diréis alguien se le ocurre algo estos puntos además es que eh da igual que estén bueno verás no pero claro pero son las personas las que te meten el dato eh o sea que claro tener todos los datos de las personas es un problema teóricamente los datos te los meten ellos verás Te cuento el primer problema Está relacionado con eso vale que es lo que se llama la calidad del dato esto de calidad del dato no es un término que me haya inventado yo eh os lo pongo para que lo Google un día de estos cuando tengáis rato porque es un término muy complejo consiste en que cuando por ejemplo le das al usuario final vale al usuario al cliente que te ponga información pues tú puedes decir vale Dime nombre y apellidos y hay gente que te lo pone en mayúscula minúscula otros te lo ponen todo mayúsculas otros te lo ponen todo minúscula otros creedme cuando os lo digo se equivocan al escribir su propio nombre que es como Cómo te puedes equivocar al escribir tu propio nombre vale luego también tener en cuenta pues que hay personas de múltiples como os diría yo backgrounds culturales vale con múltiples niveles educativos y hay personas que es que no saben escribir pero cuando digo que no saben escribir quiero decir que no han tenido una educación o han tenido una educación muy básica y luego tienen un trabajo que no les obliga a tener que escribir con lo cual o sea te encuentras personas escribiendo que dices pero por favor pero cómo alguien puede escribir así vale pues en fin más cosas tú le pides a alguien la fecha de nacimiento y hay gente que te la escribe así hay gente que te la escribe Así es decir las posibilidades son infinitas luego aparte en el caso de que metas un control de tipo date el formato del control puede variar de navegador en navegador cosa que no tendría que ocurrir pero finalmente ocurre si tú pones un dni o un nif vale un nif por ejemplo pues hay gente que te pone número letra hay gente que te pone número espacio letra hay gente que pone número gu letra hay gente que te pone número que dices pero si te he pedido el nif también tienes dar la letra vale eso es calidad del dato es que lo haces para adelantar Pero al final te encuentras que cada persona te ha metido el dato de una forma diferente con lo cual Ese dato no tiene calidad con lo cual tiene que haber luego una persona que vaya repasando y vaya corrigiendo lo que quiere decir que lo que te has ahorrado Por una parte te lo acabas gastando por otra Cómo se puede solucionar eso bueno mediante Ahí estamos vale mediante validadores y una herramienta para poder implementar validadores es mediante el uso de patrones de validación lo que en Access se llaman máscaras que muchas veces nos llevan a el la implementación de expresiones regulares Vale ahora vamos a hablar de esto dragos efectivamente hay un tema por ahí en el medio de usabilidad vale Y es que hay ayuda al usuario Ponle un ejemplo de cómo tendría que ponerlo cuando le des un mensaje de error ayúdale a corregirlo aún así el usuario se va a pasar por el tu error porque aparte yo a lo largo de los años he detectado que en el momento en el que pintas el error de rojo el usuario ya no lo lee no sé por qué debe ser algo psicológico vale es por lo mismo que debe ser que pintan los carriles bicis de rojo para que la gente lo evite vale pero en el momento en el que pintas un mensaje de rojo te llama alguien que me da error y yo ya vale Pero qué dice el error no sé está en rojo yo ya sí sé que está en rojo porque lo puse yo en rojo pero dime que dice el error Vale pues no sé por qué pero en cuando pones algo en rojo la gente es como no no quiero leer por si me dice algo que no quiero leer vale Así que sí desde luego vale hay un tema dragos de usabilidad que debemos tener muy en cuenta porque fíjate No es como lo que haces para los usuarios de la empresa que oye a una mala pues les puedes hacer una acción form les dices cómo funciona el sistema o incluso les grabas una serie de vídeos y ya está y sabes que pues la gente de la empresa no va a cambiar cada día pero claro cuando abres un formulario al público final Pues que cada persona Mira de un padre o de una madre Vale entonces correcto efectivamente vale en por ejemplo en Capitol Pues nos pasaba con el moodle nos ha pasado durante años que los alumnos estaban obligados a cambiar la contraseña al primer acceso cosa que es por seguridad es por el bien del alumno entonces o sea todos los años teníamos en este caso lo tenía isain porque era la que se dedicaba a ello pero teníamos literalmente cientos de consultas Pero cientos eh de es que me da error y claro y decía pero qué dice el error no lo sé pone error y era H sea que no le decías no Léeme el error y entonces ponía tienes que cambiar la contraseña al primer acceso y el alumno Ah que tengo que cambiar la contraseña y es como o sea cuesta menos leer el mensaje de error que hacer una llamada y hablar con una persona para que total te diga que leas el mensaje de error pero es así vale pero es lo que hay sí dragos efectivamente es al final es la moraleja pero por supuesto que Cuanto más fácil mejor pero ya os digo recordad lo que os estoy diciendo que cuando hagáis esto en un entorno de producción os tiraré de los pelos porque por muy fácil que se lo pongáis y aún así siempre habrá gente que vale que no sabrá rellenarlo bien Además Esa es la primera cuestión vale la primera cuestión efectivamente tiene que ver con la calidad del dato con la usabilidad con máscaras y con Cómo ayudar al usuario a que sea capaz de hacer esto bien la segunda cuestión tiene que ver con la seguridad informática Claro en el momento en el que le abres un formulario a alguien sepas que va a ha a algún hacker zuelo va a ha algún Aprendiz de hacker que va a decir Oye y si intento meter una inyección Y si intento vale en el caso por ejemplo de Capitol digo Capitol porque es un ejemplo que conocéis y he llevado el sistema durante años de hecho muy a tiempo parcial lo sigo llevando eh Aunque parecía que no pero al final ha resultado que sí teníamos un sistema que consistía en lo siguiente como el sistema de allí lo diseñé en 2019 lo que hice es que cuando alguien rellenaba un formulario el formulario se guardaba en formato xml es decir el formulario no entraba directamente al sistema una persona en secretaría lo que hacía era revisar periódicamente esos xmls y en el caso de que el xml estuviera correcto esa persona lo importaba manualmente A ver cuando digo manualmente quiero decir que le hice yo un botón donde ponía importar si es todo correcto Vale pero no era algo no era un proceso automatizado sino que una persona tenía que revisar el xml comprobar que no había ningún problema y entonces pinchar el botón que yo le había preparado para que ese xml pasara a la base de datos Y ya obviamente ahí se integrará en mysql debo decir que eh nunca pasó nada o sea los xm los tengo todos guardados y nunca un xml en Capitol ha tenido ningún intento de inyección sql ningún intento de inyección xss nada vale Pero porque es un centro de formación vale o sea nadie va a robar una millonada de un centro de formación ahora si haces un sistema informático para una entidad empresarial que sí que tenga un capital mucho más fuerte y que alguien de fuera pueda pensar que puede robar algo pues sí que te pueden intentar inyectar algo sin permiso en la base de datos vale Y como siempre os digo Lamento muchísimo tener que deciros esto pero es que es lo que hay Es decir me gustaría vivir en un mundo donde no os tuviera que decir esto vale me gustaría vivir en un mundo donde yo os dijera Ah pues nada pues dejarle a la gente que meta el formulario y ya está porque nadie va a intentar nada si alguien le pide su nombre pues te va a dar te va a dar su nombre Ya está no pasa nada más pero no vale vivimos en un mundo en el que cuando tú pones eh un campo para que alguien te meta algo pues va a haber alguien que va a intentar meter un Drop database por qué lo que hemos comentado en alguna clase anterior No lo sé no sé el por qué pero solo sé que hay gente así vale entonces con esto lo que tenemos a continuación que hacer es diseñar un sistema de formularios sabiendo que ese sistema de formularios no será un módulo más dentro de nuestro sistema sino que tiene que ser una aplicación completamente apartada completamente separada pero que sin embargo obviamente tendrá relación tendrá un mapeo para con lo que es la aplicación vale eh No sé queé es eso ayudas mujer falta una a no pregunto a ver Okay a ver ayudas no sé qué es vale pero teatros lana.es yo he puesto ayudas mujer Qué quieres decir con el del gobierno a ver sí sí claro vamos a ver te cuento yo s claro vale correcto verás en primer lugar hay que tener en cuenta lo siguiente mira un momentín y te digo el dominio.org O sea ya que te envíen algo desde un dominio.org Ya huele mal por qué Porque El dominio org junto con el com el net etcétera son dominios de nivel superior son los primeros dominios que existieron lo cual quiere decir que cualquier persona incluido alguien de Rusia o alguien de China puede registrar perfectamente un dominio org y llamarlo ayudas mujer.org sin ningún problema Y a partir de ahí cogerte información siguiente cuestión eh teóricamente los dominios.es son más fiables que los dominios org porque teóricamente solo un ciudadano español o que haya acreditado de alguna forma el vivir en España Eh puede registrar un dominio.es y por tanto es alguien que puede ser en un momento dado perseguible vale En el caso de que alguien eso es algo más de confianza en el caso de que ese alguien eh Cometa fraude o Cometa algún acto fraudulento hace unos pocos años estaba dando un curso de wordpress y en el curso de wordpress Pues yo evidentemente animaba a los alumnos a que se registraran un dominio y se montaran en un wordpress Y así pues el ejercicio de clase ya era una web real y En aquel momento tenía una alumna que se llamaba parvin vale que es un nombre que yo no había oído en mi vida ni he vuelto a ir nunca más y le dije Oye qué nombre más curioso y tal y me dijo sí es que soy O sea de descendencia iraní lo cual quiere decir que sus padres eran son iraníes pero ella ya había nacido en España y tenía nacionalidad Española y todo eso y en el momento en el que fuimos a registrar su dominio en el momento en el que pusimos su nombre pum bloqueado y fue como Pero sabes pero rollo Llamando a en este caso era jonos el proveedor que estábamos utilizando Llamando a jonos de dame una explicación de Por qué has bloqueado esta Entonces qué ocurre Pues que eh simplemente le habían bloqueado porque habían detectado que un nombre iraní registrando un dominio pues es un patrón común frecuente de intento de fraude y yo llamando yo no soy decir mira es que estoy en un curso estoy en la calle tal Estoy en Valencia es un curso de wordpress tengo una alumna que se llama parvin O sea no es un intento de fraudes si es que esta chiquilla no sabe nada de informática Cómo va a intentar cometer un fraude si le estoy enseñando a montarse un warpes Pero y me costó Dios y ayuda y al final lo conseguí pero después de unas cuantas llamadas y cabrearme y tal y en fin Quiero decirte con esto que o sea hay intentos de aumentar la seguridad pero luego siempre hay gente que se cuela luego otra cosa que te voy a decir dominios gov.es Son los únicos dominios aceptados para cuestiones del gobierno de España es decir si una web eh dice que te va a dar una ayuda del estado y esa web tiene el dominio.gob te puedes fiar pero Claro si una web tiene te dice que te va a dar ayudas del estado y es una web o sea esa web se identifica vale como parte del Estado español y tiene un dominio.org yo no me fiaría en absoluto pero nada de nada con lo cual voy a decirte que la lssi que es la ley de servicios informáticos desde hace un montón de años obliga a que todos los españoles que den servicios en internet lo hagan con un dominio.es Por qué Pues porque es perseguible e Albert no te había visto Hola date cuenta de una cosa Blanca todos los bancos tienen dominio.es no hay ningún banco que tenga dominio.com y Si alguna vez te envían algo de un banco que te dicen que metas información tuya o te piden que metas tu contraseña y tiene un dominio.com o.org o un dominio que no sea puntoes no te fíes vale porque probablemente es una estafa en tu caso has comentado Mira eh un momentín y a ver si lo encuentro o igual lo tiré al spam No lo sé inspección Hacienda Espera que te lo digo eh No no pues ahora no lo voy a encontrar igual lo tiré el spam eh aquí Ah no esto es real esto es de mi gestor No pues ya te lo encontraré durante un tiempo yo recibía de vez en cuando algún correo que claro el primero que recibí se me pusieron los huevos de corbata vale porque ponía el logo de la agencia española de bueno de la eat vale de la agencia tributaria y ponía eh existe un error en su declaración de no sé qué eh Póngase en contacto para una inspección de Hacienda y yo bu claro lees inspección de Hacienda y se te ponen los huevos en el cuello porque es como ahora a ver qué quiere Hacienda entonces claro qué ocurre que ya te digo la primera vez que lo vi en el móvil y dije Y entonces llegué a casa y claro puse el ratón por encima de un icono de que ponía aquí para meter sus datos y era un dominio.org o un dominio.com no me acuerdo y yo cómo que la agencia tributaria española me está usando en dominio.org Para pedirme datos como contribuyente Espérate que va a ser que no vale Y luego estuve googleando un poco y pues vi que efectivamente era una estafa que estaban enviando en plan masivo O sea que En definitiva yo ya te digo lo primero que suelo hacer es cuando recibo un mensaje de ese tipo mensajes de los de Tienes un paquete para recibir creo que esos mensajes por SMS recibimos todos y pone Tienes un paquete de Fedex que de entrada digo vale No espero ningún paquete pero es que además la URL ni siquiera es de Fedex que dices pero vamos a ver tíos o sea disimular un poco vale o sea que ya te digo que sobre todo lo importante es fijarse en la URL y en la extensión de dominio una vez dicho esto una vez dicho esto mi dominio es. com además en mi caso hay una putada muy grande pero mira es lo que hay es lo que no tengo más remedio que hay una empresa que se llama jocars punes que hacen prefabricados de hormigón para obra pública con lo cual El dominio lo tienen pillado vale Fíjate que ha saltado a prefabricados hocar punes pero tienen pillado el hocar punes vale con lo cual pues no me puedo cambiar fácilmente aocsa o sea de joc carsa.com a jocars Pero bueno en mi caso Tampoco es que tenga yo una tienda online y nada similar Así que eso pero el tema de la seguridad ya os digo que es un tema para Pues eso para tomárselo muy en serio bien entonces de cara al diseño de formularios insisto una vez más vale que nada de lo que os voy a contar hoy es la verdad absoluta sino que lo que os voy a contar son estrategias ideas y luego evidente cada uno de vosotros pues puede lo que yo estoy diciendo y lo puede transformar y lo puede cambiar y le puede dar la vuelta vale Yo por ejemplo imaginemos que quiero meter formulario un formulario y quiero meterlo por ejemplo en ventas no sé si creo que la semana pasada empezamos a plantear esto y creo que al final no llegamos a hacer nada un momento me voy a html no me voy a dam me voy a segundo me voy a sistemas me voy a proyecto vale formularios Pero qué hice en formularios no recuerdo haber hecho nada Creo que no dice nada juraría end Point público Qué dice aquí en el Index Ah no esto es el público Esto es para la Api vale Ok fuera Vale pues bueno voy a crear una nueva versión del proyecto voy a hacer 122 formularios y como os decía tal y como os decía voy a crear aquí una carpeta llamada formularios Porque la idea es que esa carpeta luego forme una aplicación completamente vale completamente eh aparte siguiente cuestión la aplicación que hemos desarrollado el sistema de gestión con el que hemos trabajado hasta el momento ha sido un sistema de gestión y lo va a seguir siendo dentro de la pirámide ha sido un sistema de gestión con full stack Pero qué ocurre que con full stack yo llamo a un endpoint con lo cual revelo que existe un endpoint yo envío y recibo Jason con lo cual eh confirmo que estoy enviando y recibiendo quieras que no eso se presta vale a que alguien pueda decir Oye y si envío cosas a ese endpoint a ver qué pasa vale con formularios por un tema de seguridad voy a utilizar la metodología de php embebido a muerte vale Eso quiere decir que dentro de formularios voy a ir a hedit eh Dark aquí es un programa que estuve trabajando ayer Supongo que lo habis visto en mis redes vale me voy a dam me voy a segundo me voy a sistemas me voy a proyecto me voy a formularios me voy a formularios voy aar un archivo index.php directamente a continuación voy a hacer un mini archivo llamado Eh Pues formulario json un formulario de prueba voy a hacer la letra un poco más grande porque el fin de semana los fines de semana siempre me la pongo más pequeña para mí pero luego la hago grande para que vosotros la veáis mejor Vale entonces en este archivo jas formulario js voy a escribir lo siguiente vamos a ver Quiero quiero bueno Campos sí que me suena que empecé a escribir algo de esto pero en fin eh vamos a ver Esto es una Ray vale quiero declarar un modelo para a ver vale esto es ahora sí Nombre es eh nombre me suena haber hecho esto la semana pasada a ver pero me suena que no avancé mucho utilidades servidor end Point público cliente no aplicaciones El caso es que esto me sua haberlo hecho en algún momento pero en fin da igual vale proyecto vale apellidos eh Perdona no tipo texto vale eh Y ya de momento y ya de momento pero nombre apellidos coma tipo texto bien eh antes estabais comentando el tema de la validación yo en el momento en el que creo un jas pues puedo Aquí voy a poner text directamente puedo decir min es igual a cinco caracteres nadie me puede enviar algo que tenga mínimo de mínimo o sea menos de cinco caracteres Max eh 30 cuidado Max 30 vale con lo cual vengo por aquí me lo voy a inventar vale Y ya está bien Tengo un jas voy a validar Por cierto este Jason validator link y Ok y Okay vale Y parece correcto Muy bien Entonces ahora a continuación voy a hacer una demostración con este index vamos a ver y php load js sí pero un file get contents esto y J son de code Esto es lo que quiero vale Uy no en un objeto vamos una raya asociativo va vale me vengo por aquí no me hace falta que sea un objeto por tanto esto fuera pero bueno saber que se puede vale accedo nada afuera esto es demostración vale Así que el dato es formulario Jason Data voy a intentar gastar cuantas menos líneas de código mejor no creo que se haga muy grande pero vale Y ya está y ahora esto es archivo datos esto es datos y colección y ahora bardum colección Okay Vamos allá me voy a local Host me voy a dam me voy a proyecto me voy a todo vale Y me voy a formularios me voy a formularios Vale y tengo esto compruebo que aparece el array y dentro del array Pues tengo a su vez otro array fantástico una vez que hago esto Una vez que hago esto a continuación digo Vale pues colección Perdona no for each colección as clave valor lo que voy a hacer a continuar es decir eco pero el eco más marronero que nos podamos imaginar vale eco input type pues valor de esto lleva espérate Esto va así vengo de estar toda la mañana en un curso de python vale con lo cual ahora mismo tengo python en la cabeza con loal lo notaréis entonces valor tipo Por qué valor tipo Pues porque he creado vale una propiedad llamada tipo en el jas bien name es igual a valor nombre por qué nombre Pues porque he creado una propiedad vamos a probarlo vamos a verlo si todo va bien recargo y tengo literalmente esto y atención y esta es la cuestión si yo pulso control u literalmente lo que se le ha enviado al cliente es esto ni html con javascript ni fetch ni endpoint ni json que te envío ni json que recibo nada vale lo que te envío es un formulario html puro y duro antiguo Sí pero las probabilidades de o las oportunidades de intentar hackearlo son menores que si estoy revelando end al usuario digamos la calle y luego por supuesto lo vamos a estilizar quiero decir que ahora a continuación voy a decir voy a bajarlo vale para que sea más entendible y ahora digo Pues mira Place holder es igual a nombre Vale y digo min voy a copiarme esto min es igual a min y Max es igual a Max creo que era min length y Max length creo recordar html input min length min leng eso es de memoria me suena que no estaba min length y Max length vale con lo cual ahora vengo por aquí recargo Vale y tengo nombre y apellidos Y si nos fijamos Vale tengo type text name Nombre placeholder nombre min leng Max length Vale y lo tengo todo puesto ahí más cosas claro vosotros diréis bueno Esto del min leng alguien puede venir aquí en el inspector y lo puede cambiar a cero y yo diré Sí se puede pero de la misma forma que tengo un J son para definir el formulario puedo luego utilizar ese mismo js para validar el formulario lo cual quiere decir lo cual quiere decir que alguien me envía el formulario el J son construye el formulario pero cuando alguien envía el formulario yo puedo utilizar ese mismo J son el mismo vale es el mismo ni siquiera es un duplicado que parece aquí vale el mismo para comprobar si los datos que me están enviando realmente corresponden a los datos que se han definido en el jas como os digo todo son zancadillas vale nada es completamente infalible anti hackers Pero oye pues cuantas más zancadillas pongamos y cuantas más medidas de seguridad pongamos pues mejor que mejor Vale entonces eh vengo por aquí y ahora pues bueno voy a poner un form e method es igual a post method es igual a post em qué te diría yo action es igual a envía php vale de momento envía no existe ahora haremos que exista y aquí en el form pongo un input type submit vale así Ok otra cosa que puedo hacer por cierto me vengo por aquí y digo input type token Perdona hidden name es igual a token y value es igual a php eco y digo base 64 en code vale vamos a probar esto y date u qué es lo que recibe el cliente final pues lo que recibe el cliente final es esto un form que tiene un input hidden con un name token con un value y al ser php embebido el usuario final el que rellena el formulario no tiene forma de saber eh De dónde sale ese token vale no es como el cuando el token te lo da un fetch que teóricamente pueden decir u Mira el token sale de esta de este endpoint pues voy a lanzar cosas contra ese endpoint a ver qué sale a ver si Suena la campana vale aquí no porque php te ha transformado ese endpoint vale bien otra cosa que puedo hacer otra cosa que puedo hacer es crear formularios dinámicos vale con esto lo que quiero decir es que me creo por aquí Espera que ten se me ha escapado aquí en formularios me creo una carpeta nueva llamada forms y en forms meto de momento este formulario al que voy a llamar clientes vale clientes lo meto en forms creo que ha pasado de mí vale un segundo clientes Aquí y ahora aquí en forms digo productos. jas vale con lo cual en productos nombre título del producto vale nombre precio tipo number min máximo bueno min 1 máximo pues cu yo que sé vale esto qué quiere decir pues esto quiere decir que puedo hacer el archivo Dinámico y puedo decirle que está en forms barra y enaden con la variable F es una variable de URL es una variable get Y eso quiere decir que recargo y no ocurre nada pero digo F es igual a clientes y me carga el formulario de clientes F es igual a productos y me carga el formulario de productos donde esto si os fijáis es un number vale es una estrategia obviamente una estrategia de muchas que se pueden implementar para tener una serie de jases y que la herramienta de formularios al final sea una herramienta polivalente vale que sea una herramienta que me sirva para prácticamente cualquier cosa de la misma forma voy a hacer esto bien doct type html Head Body y ahora en el body vale hago así y lo formateo para que se quede Pues lo más mejor posible vale lo más bonito posible formulario pues por ejemplo Aquí voy a meter un h1 donde voy a meter php eco dónde estás get F vale esto qué hace pues Esto hace que me mete el h1 si cojo productos pues productos si cojo clientes pues clientes vale o que ponga formulario de lo que sea esto es muy feo vale esto es muy feo No pasa nada pero yo ahora a continuación con un poquito de css voy a hacer que sea más bonito Así que eh vamos a ver control u eh Me voy a chat gpt vale eh create visual Style as professional as possible using color crimson as Main color put it On A variable vale solo quiero el css la funcionalidad Ya la estoy haciendo yo pero para no entre comillas perder mucho tiempo con el css pues le digo Oye házmelo tú vale Hazme un css que quede Guay y ya está también podría haberle pasado el css de la aplicación principal para decirle Mira Hazme un css en este rollo vale Pero bueno da igual luego aparte como el usuario de los formularios no tiene por qué ser el mismo usuario que la aplicación empresarial Pues tampoco tiene por qué haber una correspondencia uno a uno en el estilo que si la hay pues mejor pero que si no tampoco pasa nada vale entonces cojo esto de aquí lo meto en el Style vamos a ver qué aspecto tiene ahora externalizar para que el código se quede limpio Vale y simplemente lo que quiero Ahí Vale pues es esto no es darle Pues un aspecto un poco limpio vale un aspecto un poquito tal vamos a eh temas con respecto a lo que comentaba vale el tema de la usabilidad el tema de la ayuda acordaos que tengo eh tengo la librería de jv tooltip que desarrollamos hace unas semanas la podría meter Aquí también vale Pero vamos a continuar vamos a hacer una versión nueva del proyecto Así que f2 123 usabilidad en formularios Vale entonces me voy aquí a hedit eh No esto lo voy a cerrar que si no tengo un montón de ventanas que no sé queé están haciendo Y eso también y así nos quedamos con las ventanas que necesitamos Vale entonces bueno en formularios Pues podría crear un archivo de estilo.css el estilo lo tiro al estilo Y así pues como siempre intentamos separar la estructura de la lógica link rel es igual a Style sheit href es igual a estilo.css Vale y Ok y en la en el modelo de datos Espérate ya no sé dónde estoy guardando guardo Sí pero dónde Ok vale esto es correcto clientes J son ya no existe vale Y ahora clientes J son Pues yo por ejemplo puedo poner valor ejemplo Vale entonces en valor ejemplo pongo por ejemplo lo que comentaba creo que era José Manuel no me acuerdo pero bueno da igual por ejemplo Juan y aquí a continuación pongo valor ejemplo eh Por ejemplo García López con lo cual cojo el valor ejemplo lo pongo en valor ejemplo recalo el formulario momento que me vo al 123 recargo el formulario me voy al formularios F es igual a clientes e Dónde estoy editando yo nombre y apellido placeholder valor ejemplo ostias a ver que recargue Hola placeholder nombre estoy editando el 123 estoy editando ah el 122 vaya por Dios vale venga Lo cual quiere decir que he editado el que no toca vale venga Ok venga a ver formularios forms clientes vale copio y pego ahora en index.php valor ejemplo lo pongo en hostias en valor ejemplo vale Eso quiere decir que aquí no había hecho el estilo.css con lo cual cojo el estilo.css lo paso a estilo.css y me cojo la etiqueta link y la paso aquí a ver vale Ahora sí cierro todo me aseguro de que abro solo el que toca vale Okay y vamos allá claro de esta forma también o sea tengo el ejemplo pero no sé bien qué es lo que se me está pidiendo Bueno pues le puedo dar tantas propiedades como quiera tantas propiedades como necesite por ejemplo leyenda o título eh introduce el nombre del cliente coma descripción a continuación introduce el nombre propio del cliente esto mismo esto es aquí título introduce los apellidos o mira aquí voy a poner nombre apellidos introduce los apellidos del cliente recargo Ah No espérate recargo no me voy a Index y le tengo que dar sentido a esto qué sentido le doy pues strong qui dice strong dice h3 vale Yo que sé lo que queráis y digo valor no me acuerdo cómo lo he llamado título y p y valor descripción vale con lo cual nombre introduce el nombre propio del cliente apellidos a continuación introduc los apellidos vale con lo cual veis que tenemos un sistema totalmente escalable por ejemplo Yo vengo por aquí me voy a la jas y digo vale Ahora quiero pedir el correo ú del cliente pues nombre email tipo email mínimo 5 máximo 30 me lo quedó así por ejemplo info @hara3131 pero yo recargo y tengo ahí el email vale el css al parecer no estaba preparado para el email no pasa nada porque editamos un momentín el css y ya está aquí en estilo input type text Vale pues vamos a ver input type text pues input type email input type text Focus coma input type email Focus y creo que ya recargamos vale Ahí lo tenemos luego a mí particularmente pues me da un poquito de rabia que el texto esté centrado vale no me gusta especialmente mucho entonces Yo vengo por aquí y le digo p strong p es texaline left Okay aquí qué pasa no Bueno pues vamos a poner aquí un p con strong vale Y ahí a mí me gusta un poquito más que esté así Otra cosa que se puede hacer es ponerlo a un lateral quiero decir que ya lo hicimos de hecho en el en crimson es decir a la izquierda lo que se pide y a la derecha el campo vale eso lo podemos hacer con una tabla lo podemos hacer con eh con flexbox vale lo podemos hacer como queramos es decir vamos a ver voy a hacerlo con flexbox un momento y así trabajamos un momento un poquito el estilo entonces digo esto es article Okay dentro de article esto de aquí es de class texto Y esto es div Entonces lo marcamos y luego ya esto es input vale lo marcamos parece que no ha ocurrido nada parece que no ha habido ningún cambio Pero dónde estás flexbox help quiero dos quiero vamos a ver quiero space between y los quiero Center vale con lo cual vengo por aquí me voy a article no esto hago así me voy a article Okay vamos a verlo ahí vale Y ahora obviamente pues voy a separar es decir Perdón ampliar eh Dónde está Root Body forma eh Border radius with 100% No por qué quién es el que es pequeño el body vale el form with 100% del Body a vereno voy a decirle 500 píxeles no al form Ah aquí Max with Ahí está form Max with eso es 800 píxeles vale Así la cosa puede empezar a estar y en el texto y en el texto le digo que eh with de 200 píxeles vale con lo cual se me quedan 200 píxeles para el texto y 100 o sea 600 es para el contenido vale o igual 300 No lo sé quiero decir que eso ya es irlo gestionando otra cosa que digo es que vamos a ver momento en el texto a ver p es font size 10 píxeles y strong es font size no sé 18 píxeles no sé vale eso ya es un poco ponerle estilo ahora la pregunta es ya vamos teniendo un formulario el formulario está completamente eh metido con php embebido me da Vale me da html puro ahora a continuación lo que tengo que hacer es pensar qué ocurre cuando envía el formulario Cuando alguien envía el formulario por defecto lo está enviando a de momento vale a envía php Así que vamos a por ello Así que 124 y eh recoger datos del formulario y ahora a continuación voy a realizar una validación muy sencilla me vengo a aquí me voy al 124 me voy a formularios me voy a Index envía php pues vamos a crear envía php archivo nuevo envía php ha pasado de mí envía php y envía php de momento lo que va a hacer es decir que bardom post es decir dame todo lo que va por posto así que me voy al 124 me voy al 124 me voy a formularios digo If es igual a clientes Vale y digo José Vicente carratala info @josé viicente carat.com le doy a enviar vale y aparece por una parte token Y que ahora luego podemos validar token para asegurar que el formulario viene de dónde tiene que venir y a continuación los datos bien qué es lo que voy a hacer a continuación Bueno Este es el post y luego por otra parte recuperando datos de aquí esto es datos enviados es igual a post ahora colección la colección original es esta de aquí vale ahora colección seleccionada claro colección seleccionada tendría que ver vamos a ver aquí en el archivo de colección una colección que tenga un nombre concreto vale Y este sería un array HM bueno Ah no no no clientes espérate clientes Sí vale Eso quiere decir que voy a meter un div oculto aquí cuyo nombre es formulario y cuyo value es get F vale muy bien y esto es post F Vale pues una vez que tengo la colección vamos a ver ahora sí vamos a hacer un bomp de los datos enviados vamos a hacer un eco br y vamos a hacer un bardom de la colección recargo José Vicente caral info Jos Vicente Vale y tengo Hola nul Oye por qué nul A ver Ah formulario perdón es que esto no es F sino form vale vuelvo José Vicente carratalá info nul otra vez a ver formulario Ah ninguno hostias formulario es igual a nada get F Ah eco qué rabia lo pasa esto vale venga José Vicente carratalá info envío vale entonces tengo el nombre y a continuación tengo el nombre el momentín Espera que te lo digo F clientes nombre José Vicente Vale y nombre a aquí vale título nombre qué es lo que voy a hacer Pues voy a demostraros una sencilla demostración por ejemplo el valor mínimo y el valor máximo Entonces vamos a ver ahora digo for each colección as clave valor Digo vamos a ver y ahora digo If el mínimo vale If datos enviados de no sé porque no sé que estoy aquí eco valor dos puntos br ahí continuar array fantástico valor de min Ok 5 y 5 Vale ahora eco strlen de claro post post vale Sí no for each collec as clave vale eco post de clave pun br y eco hr para separar visualmente Opa no pasa nada no aparece nada vale post de clave Oh tampoco post de clave a ver vale si le digo ec clave me va a decir que es una Ray me va a decir que es una 01 2 0 1 2 01 correcto vale voy a pedir ayuda a gpt a ver si me entiende que igual no eh get String sent from post on for each ahí bueno no entiendo no quedo O sea no me queda muy claro que me haya entendido pero vamos a verlo no eso no es esto post clave teóricamente sí que es post clave no vamos a quitarle esto in for each I want to Get value sent In php post corresponding to colección value creo que no me va a entender Creo que no va a entender porque no me estoy explicando correctamente vamos a verlo esto kito special charge o sea viene bien por seguridad pero no me va a hacer falta datos enviados clave datos enviados eco datos enviados clave br Ay leches pues va a ser que no a ver bardum datos enviados Vale y formulario pero eco clave vale eco colección de clave Okay Vamos allá array vale eco colección de clave de no a ver bardom car Aquí vamos a ver nombre tipo Claro esto es de la colección con lo cual datos enviados no espera sí nombre apellidos vale datos enviados de colección clave de min no de caray de nombre no lo tengo muy claro No todavía no un segundo Bom a ver si lo consigo sacar ya vale esto okay a Yo quiero nombre vale Y ahora quiero nombre Okay Vale entonces si todo va bien Ah esto es igual nombre con minúscula Okay venga por fin ya está Vale entonces yo estoy obteniendo por aquí el límite en el J son voy a ponerlo por aquí para que lo veáis claro voy a ser muy verboso límite mínimo en el J son es este de aquí dato enviado desde el formulario es este de aquí V el límite mínimo es este de aquí dato enviado es este de aquí qué va a ocurrir ahora pues que yo ahora voy a hacer If strlen de datos enviado clave nombre es mayor que valor min en ese caso eco Es okay els No es OK intento de ataque br vamos a verlo vamos a probarlo recargo José Vicente carratalá info envío Es OK vale voy a poner el hr al final del todo ahora bien si alguien en el formulario inicial mira este es Host carratala info le doy a enviar y me dice no lo puedes enviar hasta que no aumentes la longitud vale Si alguien me lo intenta trucar yo inspeccion min length es igual a 1 con lo cual a partir de ese momento lo puedo enviar pero no es Okay intento de ataque vale con esto lo que quiero deciros es la implementación no del iberg la implementación de esto que os acabo de comentar de que el js Define el formulario pero cuando vamos a procesar el formulario podemos utilizar ese mismo jas para comprobar que nadie nos ha editado la información con lo cual como la validación se hace en el servidor Alguien me puede tocar el formulario lo puede trucar con html pero luego no pueden trucar la validación que hay en el lado del servidor y ahora obviamente vale si pasa todas las pruebas aquí en el els no es OK es un intento de ataque Die intento de ataque Eh detectado quiero deciros con esto que de la misma forma que he hecho una detección de caracteres mínimos puedo hacer de caracteres mínimos de caracteres máximos de tipo de dato de que no haya una un intento de ataque vale de lo que sea de todo lo que yo quiera La idea es que puedo interceptar y validar los datos en el lado del servidor bien y si esto ha ido bien si esto ha ido bien eh Pues vamos a guardar un jas vamos a ver eh php save post tu jas voy a guardar una carpeta nueva llamada no sé documentos doc vale luego lo estoy haciendo todo en la misma carpeta luego se tendría que guardar en una carpeta que no estuviera accesible públicamente obviamente Vale entonces vamos a ver okay esto todo no Esto es lo que quiero Vale y de todo esto quiero esto a ver Data Ah sí asegurarse que sea una Ray vale Okay bien entonces aquí al final Jason file es doc barra y voy a poner punto date u punto j son vale más que nada para que me ponga para que me utilice la fecha como nombre de archivo por supuesto quiero J son preprint Vale y get current Data es post a ver si aquí en el código de chat gpt está guay porque está haciendo una comprobación de que realmente ha llegado post hace una comprobación de que el dato realmente es una Ray o sea está Guay vale pero yo voy directamente al grano yo asumo que los datos están bien y directamente los tiro a un Jason entonces y ahora vengo por aquí y ahora vengo por aquí voy a cerrar páginas por aquí esto fuera esto fuera y esto ya no sé dónde estoy local Host proyecto recoger formularios no que no and F es igual a clientes vale estoy en el 124 sí bien entonces José Vicente cartal info vale Ya sabéis que tengo un Die lo cual quiere decir que si truco el dato 3 2 vale pongo Jos pongo Jo pongo Jos vale le doy a enviar y dice intento de ataque detectado y ya está Vale y ahí para cuando digo ahí para quiero decir literalmente Die vale quiero decir literalmente muere no ejecutes nada más en el Script ahora si Jose Vicente carratalá info le doy a enviar todo es Okay todo ha validado Okay con lo cual lo que quiere decir esto es que si me voy a la carpeta de docs Oh está vacío vale Por qué pues no sé bueno ap parte de que aquí no he puesto un punto y coma pero no creo que sea eso a ver no me ha dado ningún error tampoco vale estoy en el 124 sí Okay vamos a refrescar no vamos a ver eh file contents Bueno voy a asegurarme de que tenemos permisos de a ver espera proyecto abrir una terminal sudo ch mod 777 men r proyecto vale volvemos a ejecutar hecho igual si recargo Ah mira ahora sí vale era problema de permiso y entonces ahora recargo el Jason y tengo Pues un Jason con token con formulario con nombre con apellidos y con email y tengo un digamos un formulario donde en este caso por ejemplo he elegido que pues el este o sea la forma de estructurarlo sea directamente crear ahí un Jason podría crear subcarpeta por formulario podría utilizar quizás el nombre y apellidos para el nombre del archivo No lo sé vale eso ya es un poco lo que o sea lo que queráis quiero decir al diseñar vuestro sistema en la decisión de diseño que queráis adoptar bien pues vamos a ver una vez que tenemos esto claro ahora si os fijáis aquí en este caso lo que estoy haciendo es guardarlo como J son no fundir Este paso de aquí con este paso de aquí es decir este paso de aquí es utilizo un jas para validar y este paso de aquí es utilizo el formato jas para guardarme la información vale Quién dice Jason podría ser xml me da igual y ahora obviamente nos hace falta algún pequeño panel de control que nos permita evaluar que la información que hay en este Jason es correcta y si es correcta Entonces nos permitirá meterlo dentro de la base de datos cómo nos va a permitir meterlo dentro de la base de datos esto igual ya no me da tiempo hoy pero por lo menos Pues esbozamos un poco el proyecto para el próximo día pues una forma que tengo de hacerlo evidentemente vamos a verlo Es que aquí en el jas en clientes puedo decirle el nombre en mi base de datos a quién corresponde pues tabla eh No me acuerdo clientes Vale y campo columna a nombre tengo eso no me acuerdo digo yo que sí local Host php admin hago root vale Y en crimson en clientes tengo un nombre vale Ok aquí a continuación copio pego en la tabla clientes quiero apellidos y en la tabla clientes Quiero el campo email Eso quiere decir que cuando yo reciba esta información y la valide y tenga que importarla pues el sistema no solo sabrá los campos que le han importado para el formulario sino que también sabrá cada uno de esos Campos Cuál es el mapeo es decir a qué columna de qué tabla realmente corresponde vamos a empezar a hacer este pequeño panel de control vale lo que nos dé tiempo en la clase de hoy y vamos allá entonces vamos a ver No aquí vale Así que sistemas proyecto eh panel de control vale pequeño luego ya veremos si lo emos dentro de la aplicación que muy probablemente Sí vale Y en panel de control en formularios voy a hacer un archivo llamado panel.php una prueba conceptual y pues aquí php get all files in folder and for each file create bueno php create table for each file create Table Row file name with two Buttons one for viewing the file content and other to call another Script and Send file name as a parameter css as professional as possible qué te iba a decir yo y use crimson as corporate color vamos a ver sí uh Ah sí vale bueno vale me vale de momento el view php de momento no existe Pero bueno me da un poco igual es lo de menos porque hacer un archivo php que muestre el contenido de archivo Pues tampoco va a ninguna parte eso no tiene ningún misterio de hecho es lo que hemos hecho antes es un file get contents vamos a ver vale este fin de semana el chat gpt ha ido que volaba y ahora va meal lento Pero en fin se ve que según la carga que tiene Mira el view php me lo está poniendo vale Va pues Hala pego por aquí la carpeta es un momentín que te lo digo la carpeta es doc vale con lo cual aquí me voy al 125 me voy al 125 me voy a formularios me voy a panel php en panel.php Pues tengo ese archivo vale Y si le doy A View no existe todavía pues me mostrará el archivo y si le doy a action Pues en action evidentemente ahí haría un Script php para mysql que tome los datos del Jason de ese Jason documento coge la plantilla js de esta plantilla de aquí y mete los datos del jas en la tabla correspondiente de la base de datos vale eso no lo hago ahora pero vale os imagináis que no costará mucho a ver un momento porque vengo por aquí voy a el view el action claro es que el action no voy a hacer nada porque no hay nada que hacer el view me cuesta poco vale el view entonces voy a hacer un View php Esto es una prueba conceptual vale pero vamos a ver pero yo ahora me vengo por aquí y digo Oye de este jas que es el único que hay le doy A View file not Found vale Sí porque esto es folder esto es docs vale hago así View vale Y el contenido es este ahora es correcto Vale pues si es correcto puedes volver atrás y le puedes dar al action y el action ya sería meterlo en la base de datos pero previo repaso por parte de una persona humana para comprobar que no hay nada extraño en el archivo Jason y se puede meter todo correcto vale Bueno pues vamos a dejarlo aquí por parte de sistemas de gestión empresarial vamos a hacer un descanso de 10 minutos ahora entramos en programación multimedia y ahora continuamos programando vale programando cosas tamb 10 minutos de paso voy a encender la luz porque he empezado hoy sin luz y nada me dejo esto abierto y