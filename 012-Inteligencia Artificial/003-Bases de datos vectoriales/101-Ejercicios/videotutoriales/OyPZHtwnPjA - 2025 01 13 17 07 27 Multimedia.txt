pues entramos en la parte de programación multimedia entonces en la parte de programación multimedia eh lo que quiero hacer hoy es lo siguiente Mirad como habéis visto en la asignatura anterior hemos estado implantando en el servidor vps el software Aquí está el software crimson jocar.com.mx todavía hay cosillas que arreglar Vale ahora luego en interfaces continuaremos y Dentro de este mismo servidor si os habéis fijado antes sobre todo pues en el ftp o en el o en la consola veréis que hay diferentes aplicaciones que voy poniendo y cada una en su propio subdominio una aplicación que estoy desarrollando es la aplicación de hok carsa Forest Green que de hecho no sé si está el código abierto en github y si no os Lo abro vale o si no eh quien queráis me decís vuestro usuario de github y os Comparto el repositorio y es Forest Green la aplicación Forest Green hace lo siguiente forestgreen jocars comom aquí está es una aplicación que básicamente es un WhatsApp pero hecho en un servidor propio Ya está no tiene más misterio Así que entro con el usuario jarsa le doy a Iniciar sesión selecciono un usuario y puedo hablar Hola vale como veis Este es mi hijo con el cual estos fines de semana he estado probando la aplicación y ya está es más aquí en cambiar foto pues se puede subir una foto un momento escritorio y Eh rebajado vale hago así subo la foto vale Y a partir de aquí pues se puede agregar contactos estoy trabajando en los grupos no funcionan del todo todavía los grupos vale pero funcionarán bien qué ocurre que si os dais cuenta con respecto a lo que sería el WhatsApp web vale con respecto a lo que sería WhatsApp esto que estáis viendo es el WhatsApp web Pero qué es lo que quiero ahora lo que quiero ahora es tener la aplicación de Android vale lo que quiero es convertir esto o hacer esto en aplicación de Android de hecho esta aplicación voy a cerrar sesión esta aplicación si le doy a inspeccionar y entro en el modo móvil veréis que esta aplicación en responsive ya está preparada para ser móvil así que me voy a Iniciar sesión inicio sesión veis que tengo por aquí una lista de contactos pincho en la lista de contactos y digo Hola le doy a enter y aparece Hola vale se podría optimizar un poco más pero ya digamos empieza a estar optimizada para teléfono móvil y luego pincho este botón y aparece esto es un fallo que me da vale Y me vuelve a la lista de contactos vale No pasa nada porque cuando quieto cuando cierro sesión y entro momento responsive vale espera cuándo cierro sesión momen Va pues al principio funciona y luego no ya os digo que estoy trabajando en esta aplicación bien inicio sesión vale en este punto funciona luego cuando vuelvo es cuando deja de funcionar qué es lo que quiero a continuación pues lo que quiero a continuación es que si yo hago así vamos a analizar un poquito esto es eh implementación forex Green programación multimedia punto svg vale lo que ocurre en este caso lo que esto lo voy a quitar esto será Forest Green es que yo tengo una parte vista desde lo que sería la propia aplicación pero yo además voy a quitar esta parte de github ya hemos visto lo de github en la asignatura anterior pero yo además lo que quiero por aquí es tener una aplicación móvil quiero tener una aplicación móvil cuyo Back será el mismo Back que tiene la aplicación web si le echamos un vistazo a la aplicación web vamos a echarle un vistazo esto eh esto es local no esto es en caliente pero no quiero editar en caliente quiero editar momentín esto sigue siendo en caliente Aquí esto cierro archivos me voy no pues Cuántos estoy en local o sea En cuántos estoy en producción a ver dam no me voy a Forest Green y tengo un archivo Index html que tiene el cliente vale tiene como veis bueno estos son los emojis vale Ya que se pueden meter emojis dentro de la aplicación un momento que lo un momento que lo sangre con lo cual creo que ya okay con lo cual tengo por una parte por aquí el código html Por otra parte por aquí abajo tengo todo el código javascript vale el javascript que gestiona la aplicación y luego por otra parte tengo el server.php el server.php que guarda Dónde está la base de datos créame las tablas si es que no existen crea un router y un router igual que hicimos nosotros y las funciones para cada una de las opciones el router vale las funciones que manejan todo lo que se hace en la aplicación cómo vamos a convertir esto en una aplicación móvil Bueno pues lo primero que necesito es que la aplicación de verdad Esta aplicación de por aquí no me gestione la el funcionamiento con llamadas relativas me voy a ir a server.php y en server HP me doy cuenta de que todas las peticiones asincrónicas que se hacen desde el cliente hasta el servidor se hacen a un archivo local relativo llamado server.php pero claro si yo ahora quiero implementar esto desde una aplicación que va a ser externa las llamadas tienen que ser absolutas por tanto Cuántos server php hay pues está este vale Y está estos de aquí qué es lo que tengo que hacer pues lo que tengo que hacer es reemplazar todos y cada uno de los servers aquí todos y cada uno de los servers a lo que yo quiera lo que voy a hacer por tanto Es que voy a buscar y reemplazar y cuando me encuentre server tengo que reemplazarlo por https do bar forestgreen jocars comom porque es cierto que estoy en esa ruta es decir porque previamente he hecho un deploy en esa ruta de la misma forma que acabo de hacer el deploy en la asignatura de sistemas de gestión empresarial y digo esto así que Rem calma Ah sí Qué susto reemplazo todo me voy a local Host Forest Green es que creía que estaba editando en caliente Forest Green inicio sesión estoy en local pero estoy llamando vale pero estoy llamando a la vale cierro sesión inicio sesión vale estoy llamando al servidor me estoy conectando directamente al servidor remoto una vez que he hecho esto este proyecto como os digo está publicado con las con los mismos parámetros que acabáis de ver que acabo de publicar crimson o sea está publicado a través de github en el servidor así que me voy a Forest screen subo los parámetros vale esto es actualizo rutas ias en el vps commit to Main me voy al servidor me voy de crimson entro en jocars gu Forest Green hago un Pull implemento las novedades únicamente he modificado Index html y en principio Estoy preparado para hacer una implementación en eh en Android vale cuestiones vamos a hacer primero una implementación utilizando tecnologías web y luego vamos a hacer una implementación utilizando tecnologías nativas es decir con xml con estilos xml y con cotlin lo que hemos hecho en semanas anteriores una cosa muy importante es que yo la primera parte de esta implementación la voy a poder hacer porque en este caso he separado completamente el Front del Back es decir el Front tiene todo javascript con llamadas asincrónicas al Back y el Back no renderiza nada el Back únicamente acepta y devuelve mensajes solo si lo he programado de esta forma es cuando en Android puedo realizar una implementación utilizando webview si lo hubiera hecho renderizando en php es decir ph en bebido no podría hacer Esto vale Así que a continuación Así que a continuación me voy a Android acordaos que la semana pasada comentamos que hoy también quiero hablaros del tema de firmas de aplicaciones para poder publicar la aplicación en Google Play así que me vengo por aquí le digo New quiero hacer un New project bien New project vamos a ver empty views activity le doy a next no sé si oís como empieza a hiperventilar mi ordenador vale esto se llama Forest Green y ya voy a llamarlo así el package name será com. jarsa forestgreen y más cuando va a ser una aplicación medio real y cuando os digo medio real ahora os contaré una cosa de Google Play Pero bueno no me hace mucha ilusión Google Play pero ahora os contaré Por qué bien lo quiero compatible para desde Android 7 aproximadamente 97 con4 dispositivos vale o sea por cento quería decir bien Así que cierro por aquí cierro esta aplicación terminate vale aquí en el momentín en gradel espera que está compilando una vez más lo vuelvo a repetir no sé si oís vale el procesador el ventilador como está hiperventilando Hola a ver okay Vale perfecto vale eso sí no creo pero no lo sé si no estoy por aquí Vale pues vamos a ver momentín sigue en rojo por cierto ha venido momento Salvador a decirme que van a activar lo de lo del tema de meeting questions lo del tema de Inteligencia artificial para zoom Así que si todo va bien Pues no lo sé A partir de la siguiente sesión lo tendréis ya activado lo digo porque si lo activan ahora no creo que se active ahora a mitad de sesión Pero bueno no lo sé bien y vamos a ver bueno esto sigue por ahí rodando Vale pues un segund Inn que esto sigue rojo porque está con el gradel build Okay venga Vale pues en resources aquí B gradel aquí el proyecto Vamos a ponerle 30 era 35 sí 35 vale Así que cierro exit Así que Android un momento Este no es este es el anterior espera escritorio A ver Android estudio es este Bin es este de aquí las diferencias yo creo que son prácticamente ningunas pero quiero Ur que abro la que es el que tengo que abrir vale abro é no está vamos a ver abro Forest Oye Ahora aquí Forest Green quiero Trust project quiero ind this window vale está importando mi ventilador ya se ha vuelto loco del todo increíble tú fíjate o sea 10 GB de ram solo para abrir un proyecto Pero en fin Ok venga Vale pues vamos a ver a r vamos a layout vamos a activity Main upgrade vale bueno es que lo quiero luego Ok quito el Hello World vale a continuación lo que voy a hacer es Ah aquí en widget voy a meter un webview el webview lo ponemos a un píxel o a cero píxeles de todos los márgenes vale voy a ponerlo a cero de todos los márgenes bien y ahora a continuación lo que queremos hacer es crear dentro de la carpeta de resources Pues el archivo correspondiente a vamos a ver un momentín vale Y me voy a ir a esta carpeta me voy a ir a la carpeta de carpeta personal me voy a ir vamos a ver Ok aquí me voy a ir al activity Forest Green Main activity en cotlin y hago lo siguiente a ver los imports Quiero activar compatibilidad con webview vale está gris porque no lo he usado todavía pero no pasa nada agrego librería webview Ok y vamos a ver el webview el ID se va a llamar mi vista web Hola mi vista web en cotlin me vengo por aquí y digo y find View by ID Vale y digo vamos a ver por aquí private late init bar y digo mi vista web es de tipo webview lo cual quiere decir ahora si esta importación ya está siendo utilizada lo cual quiere decir que mi vista web va a contener un webview ahora mi vista web es igual a find View by ID y el ID es r.id m vista web vale esto equivale como ya sabéis a hacer un Select by lo que sea un momentín porque eh No un Warning pero el Warning qué me dice pues no me dice de momento nada vale Okay esto Perdón debe estar en el Sí en el on create está donde toca vale Vamos a continuar ahora digo mi vista web punto webview client es igual a web viw client bien y una vez que he hecho esto digo Val es decir eh una estática pues vamos a ver bar parámetros web que es de tipo web settings es igual a web no es igual a mi vista web punto settings vale son los parámetros con los cuales voy a operar qué parámetros son estos Espérate que ponga por aquí unos cuantos comentarios selecciono el elemento por su ID arranco un cliente web ahora creo un contenedor de parámetros solo comento las líneas que estoy poniendo yo vale Y ahora digo parámetros web punto javascript enabled es igual a true es decir mi proyecto usa javascript y ahora a continuación digo mi vista web loadurl y de momento voy a cargar https do bar Forest Green jocar.com.mx okay Así que Okay Vale y de momento ya pero mi aplicación todavía no tiene permisos para realmente conectarse a internet así que para ello me voy al manifiesto dónde estás manifest manifiesto me voy al Android manifest y por aquí en permisos lo que voy a hacer es permitir momentín a ver momentín aquí permitir a la aplicación que se conecte a internet si todo va bien si todo va bien A continuación le voy a dar a Play arrancando la máquina virtual el ventilador vuelve a morirse Vale qué ha pasado Oh Ah Uh madre mía este esto Qué hace aquí ala fuera vale momentín porque ahora dará fallo dará error vale le doy a Play a ver cómo va el procesador es que es increíble o sea son 16 núcleos está casi todo al 100% brutal por lo menos es multinúcleo menos mal vamos a verlo a ver si carga correctamente vale con lo cual en principio lo que ha ocurrido es que si yo ahora aquí entro con mi ap o sea entro con mi usuario le he dado vale entro con mi usuario espera si todo va bien pincho digo Hola qué tal le doy a enter o le doy a enviar y en principio funciona vale en principio una vez que tengo esto si os fijáis lo que estoy haciendo es cargar directamente una Ur en el web viw Y eso tiene ventajas y desventajas Antes de hablar de ello vamos a sacar una APK para sacar una APK lo que voy a hacer es que me voy a ir Perdón aquí vale Y me voy a no dónde estás Uh No espera No aquí arriba Ah Ahí estás vale me voy a ir a build y lo que voy a hacer en este caso es generar una APK podría generar un bundle pero los bundles únicamente son para el caso de que la aplicación el apk supere los 50 límite o sea los 50 megas de límite de Google Play de Google App Store vale con lo cual le digo build apk bien build apk complete Quiero locate el APK y eh Bueno locate pero no me ha aparecido la carpeta vale aquí está y tengo un app de bug apk que ocupa 5,8 megas ahora luego hablaremos del tema de los logos y todo eso bien De momento lo que puedo hacer es que os puedo pasar esto para que me digáis si funciona o no por cierto voy a probar a registrarme porque no he probado a registrarme espera y aquí cierro es más cierro cierro Uy madre mía esto era de cuando dibujamos con el Canvas cierro Bueno yo creo que ya vale le doy a Play bien Quiero registrarme Ok perfecto y quiero jarsa 3 con contraseña jarsa 3 de momento no hay mucha seguridad implementada le doy a registrarse y ahora quiero jarsa 3 con contraseña jocars 3 inicio sesión Ok perfecto y ahora buscaremos contactos bien una vez que tenemos claro que el registro funciona correctamente ahora a continuación me voy a ir me voy a ir a w transfer voy a subir esta aplicación W transfer locate No aquí hoy a las la suelto utilizo enlace os copio la URL os la envío y aquellos de vosotros que tengáis Android lo que quiero es que os regist y eh Y esto y me agregué vale quién soy yo momentín que no se ve el botón de cerrar sesión eso es un tema que hay que arreglar vale también os digo que yo puedo trabajar con la interfaz web quién soy yo pues yo soy jarsa vale con lo cual simplemente cuando entréis lo que quiero es que agregué a un usuario llamado jarsa y si lo hacéis bien avisadme cuando lo hagáis Pues yo os veré aquí en esta lista de tal forma que vamos a poder comprobar incluso que como te diría yo que vosotros podéis interactuar con el móvil y yo a la vez lo puedo ver en el cliente web y por tanto hacemos montamos una pequeña infraestructura mediante la cual a un Back común se conecta un Front en web y otro Front en móvil y funciona perfectamente así que probadlo avisadme en cuanto lo hayáis hecho y así pues miro si vais apareciendo por aquí vale hay optimizaciones que hacer hay cosas que no serán especialmente cómodas pero ya me diréis y mientras tanto voy abriendo el Google Play mientras lo vais haciendo Google Play developer console vale ya existe una cuenta ir a Play conso sí okay Vale tu perfil de desarrollador y todas tus aplicaciones se han retirado de Google Play Por qué Porque no las he verificado desde hace un montón de tiempo me han avisado quiero decir me han ido avisando con el tiempo de que lo iban a hacer vale la última La publiqué el 18 de abril de 2024 O sea que quiero decir que está previsto vale aquí por ejemplo en este caso veis las aplicaciones que he ido publicando la última en abril la primera 2012 no será de antes la primera no yo juraría que tenía alguna en 2011 Pero bueno igual la retiré o me la retiraron Pero vale bien en fin no sé vale Albert instalando Ah no Búscala s que debería aparecer Qué raro a ver un momentín voy en principio por aquí abajo de debería aparecerte mira en el listado completo de aplicaciones No lo sé y con buscador tampoco ostras qu cosas Forest Green Okay Beatriz dice que haya tampoco Vale pues no lo sé es raro e Bueno pues no lo sé porque además ahora mismo tampoco tengo un móvil Android aquí con lo cual lo único que tengo es el emulador vale a ver alguien más que la pruebe por si acaso es raro porque es que ya os digo que incluso aquí aparece lo que es un emulador y claro el emulador Pues nos podemos fiar Hasta cierto punto pero se ha completado el proceso de ostras pero Incluso si la buscáis quiero decir que ay leches no se cierra Sí de hecho Eso es correcto pero vale Voy a hacer una cosa voy hacer una cosa un momentín vamos a ver Esto me Uy vale me lo quiero desinstalar para abrir no sale vale un segundo Oh las cookis y ya pero no es que es por defecto No es que es por defecto eso tiene que ocurrir por defecto es lo que no veo el por qué A ver claro no puedo aquí desinstalar no sé por qué a vosotros no y a mí sí voy a hacer una cosa voy a hacer una cosa voy a hacer una aplicación firmada os paso la aplicación firmada y a ver si así sí que os funciona vale vamos a probar y así de paso os explico el tema de firmar el tema de firmar o sea esta aplicación que yo he sacado es una aplicación de prueba es una aplicación de Test lo que os ha dicho de com. hocar forestgreen Test es cierto firmar una aplicación de Android es un absoluto cachondeo y cuando digo absoluto cachondeo que quiere decir que nosotros nos vamos a firmar nuestra propia APK para ello me voy a build y le voy a decir que en lugar de sacar un apk de prueba voy a sacar un apk firmado pincho y quiero sacar en este caso una APK vamos a ver Mira Claro en App stor smaller Download size pero es que la mía ocupa 5 megas vale con lo cual no fuera apk next Store pa dónde está tu clave voy a crear una nueva clave el key Store path va a estar en José Vicente en escritorio voy a crear una nueva carpeta la voy a llamar claves Android y va a estar mis claves Android aquí Ok bien el password pongo un password confirmo vale el password es este confirmo vale el certificado vale para 25 años no está mal first and Last name José Vicente carratalá Sánchez organización unidad ce organización Valencia y country code es Okay le pongo el password K alias Y le doy a next y me acabo de hacer un certificado y me lo he firmado yo solito así que le doy a next Quiero un lanzamiento de Release Quiero un lanzamiento de verdad le doy a create lo está generando y a continuación eh Me está generando una APK que ahora por una parte os voy a poder pasar y luego por otra parte me lo podría subir ahora lo voy a hacer a la página de Google Play para publicarlo en Google Play es decir si os fijáis el certificado de Android meme Obama price el certificado de Android es esto vale es yo me pongo a mí mismo una medalla yo me genero un certificado y yo me digo a mí mismo que soy yo para publicar aplicaciones de Apple esto no pasa vale para publicar aplicaciones de Apple tienes que hacer un certificado subís a apple comprueba que los datos que has puesto en el certificado coinciden con los datos con los que con los cuales te has registrado como desarrollador y solo si coinciden te da el certificado vale Y esto que os digo no es para hablar especialmente a favor de Apple porque publicar una aplicación para Apple eso tienes que sudar tinta china Pero bueno bien me vengo por aquí y tengo el app lo tenía antes en modo vale en modo debug V lo voy tenía por aquí y ahora lo tengo en modo Release hoy a las vale Así que esto teóricamente de debería funcionar para ver si funciona o no vamos a ver para ver si funciona o no me voy a Wi transfer me pongo el archivo lo subo os lo pego en el chat Hola uy venga se ha quedado frito se ha quedado frito ahora Ah Creo que ya sí vale os lo pego en el chat probad con eso debe funcionar pero bueno mientras lo probáis os voy a contar una cosa que me pasó hace un montón de años e e se ha dejado de compartir Okay share Vale vuelve a compartir se había dejado de compartir vale bien hay una aplicación por aquí igual la que Sí hay una aplicación que tenía publicada hace un montón de años que se llamaba What chat vale era una aplicación de Android y una cosa muy divertida es que bueno era una aplicación de chat como literalmente la que estamos haciendo hoy pero hecha Como hace 10 años la publico en Google Play la publico ojo en el contexto de un curso vale o sea de clase y yo la puse para todos los públicos y recibo un correo de Android y me dicen bueno hemos retirado tu aplicación o sea desactivado tu aplicación porque la has puesto incorrectamente para todos los públicos tu aplicación tiene que ser para mayores de edad y yo dije qué O sea cómo y claro envié un correo de vuelta que además En aquellos momentos me respondieron a ese correo que ahora ya ni se molestan en responder pero en aquel momento como eran los primeros años respondían y dije mira es que eh No entiendo el Por qué vale o sea no me niego a ponerla para mayores de 18 años pero no entiendo el Por qué Porque es una aplicación que no tiene contenido es una aplicación de mensajería o sea Nadie puede o sea la aplicación no tiene ni desnudos ni palabrotas ni con lo cual no entiendo por qué la tengo que poner para mayores de 18 años y la respuesta que me dio Google que Insisto que entonces respondían ahora ya no la respuesta que me dieron es porque la gente en el chat podría poner contenido para adultos yo Claro En aquel momento dije O sea ya pero y si no quiero decir me estáis poniendo una aplicación para mayores de 18 años por lo que la gente podría poner vale En aquel momento esa decisión no me pareció justa por supuesto lo hice vale Y luego una semana después yo creo que quitaría la aplicación Más que nada porque Insisto que era una aplicación para un curso o sea no iba yo a hacer el siguiente WhatsApp pero en aquel momento eh yo no tenía hijos mayores Eh mi hija vale la única que tenía en aquel momento ahora tengo dos eh mi hija tenía 2 años con lo cual ni siquiera utilizaba el móvil yo En aquel momento no comprendí el por qué de esa decisión sin embargo más adelante cuando he tenido un hijo más y han ido creciendo y han ido empezando a utilizar móvil sí que he empezado a entender el porqué de las aplicaciones para 18 años para que ent dentro del control parental y que por lo tanto sea el padre el que pueda bloquear ciertos tipos de aplicaciones para chat con personas desconocidas vale con lo cual la decisión de Google En aquel momento pues me pareció injusta cosa que me dio igual porque era un ejercicio de un curso pero luego con los años he dicho vale Insisto que era una aplicación para un curso eso Google no tenía por qué saberlo y luego entendí Un poco el Por qué también os digo que a veces con Google Play pagan justos por pecadores Pero bueno bien eh aquí como ya os digo o sea tengo esta cuenta desactivada porque vale tengo que meterme a Pues a completar verificaciones de hecho Mira le doy a ver detalles y me dirán pues qué es lo que tengo que hacer vale Mientras tanto Supongo que estáis probando la aplicación estáis comprobando si os aparece no os aparece o funciona o qué más que nada pues para ver si vale si os funciona y podemos hacer una primera prueba así que contadme bueno y mientras la probáis mientras lo descargá vale Perfecto mientras lo probáis os voy a contar otra batallita bien tengo por aquí una aplicación tengo por aquí una aplicación dónde estás esta vale si os fijáis Todas están retiradas por Google insisto están retiradas por Google porque Google a lo largo del tiempo me ha ido enviando mensajes de activa la verificación cumple este requisito no sé qu no sé cuántos y como son aplicaciones para cursos pues no he hecho nada con lo cual pues me han bloqueado la cuenta O sea que no es que me queje vale esta sin embargo está suspendida por Google pide credenciales o sea pide bueno espera qué credenciales un momentín Dime algo más concreto para porque credenciales debe pedir el o sea administrador y todo eso pero a ver momentín sí correcto no sí con minúscula Exacto e Ok perfecto eso momento aquí un momento que creo que el ordenador se me está yendo la porra momento un momento Ah venga espera un segund creo que se me va a ir a la porra creo que sí