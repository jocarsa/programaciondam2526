pero bien pues a continuación lo que voy a hacer ahora es decirle al sistema vamos a ver voy a decirle al sistema que por cierto voy a decirle al sistema que quiero crear una función que básicamente lo que haga es fijarse en los píxeles de finos entonces esta es la función que recorre píxel a píxel voy a borrar esto si quieres lo voy a guardar como index 7 y así no perdemos ningún ejercicio elimino esto se ha quedado guardado en index 6 ahora mismo estoy en index 7 y píxel a píxel lo que voy a hacer es generar un cuadrado vamos a decir lo siguiente bar anchura y esto lo que va a hacer es pues mirar digamos cuánto aquí realmente lo que voy a hacer calce pensando pierre anchura es igual a por ejemplo 4 y esto es una variable esta variable va a almacenar la anchura del cuadrado de comparación entonces eso quiere decir que yo ahora voy a otro sub cuadrado entonces ahora vengo y digo lo siguiente bar su cuadrado es igual a contexto punto que image data y necesito averiguar cuál es el pixel es digamos así que bueno para este caso lo que puedo hacer vamos a verlo lo que puedo hacer es lo siguiente pero por para x es igual a 0 x es menor a 2048 x + + y ahora digo lo mismo para allí y pues ahora lo que quiero esto es la y ahora lo que quiero es dar su cuadrado es igual a contexto get emails dato desde x menos anchura y menos anchura hasta anchura por 2 lo que va a hacer es un cuadradito de la imagen esta variable ya no me interesa ahora mismo al menos y entonces ahora lo que quiero hacer es comparar cada uno de los valores cada uno de los valores quiero ver si los píxeles son iguales o son diferentes o como son para ello ahora sí tengo que por bar es igual a cero y es menor que su cuadrado punto data punto links y más y ahora como digo lo que voy a hacer es editar voy a empezar a trabajar con la información de cada uno de los píxeles y lo que tengo que hacer básicamente es mirar cuál es la información del centro con respecto a la información de los bordes esto qué quiere decir bueno pues esto lo que quiere decir es que si yo vengo por aquí voy a decir bar centro es igual al contexto gate y mislata dx y 1 y entonces le digo bar centro rojo es igual a centro tercero bar centro el verde es igual al centro de 1 y bar centro azul es igual al centro ahora como digo lo que voy a tener que hacer es comparar ese píxel con el resto de píxeles que tenemos en la contornada y entonces voy a decir lo siguiente bar borde es igual a folks voy a decir que no hay ningún borde y entonces digo qué centro r voy a hacerlo por rojos en este caso si centro r si el valor absoluto perdón si el valor absoluto del centro r - menos un cuadrado es el rojo es menor o es mayor que 50 en ese caso voy a decir que borde no volver sino borde es igual a otro y por tanto lo que haré en este caso es decirle al sistema que quiero pintar digamos un borde quiero indicar que existen un borde para eso voy a crear otro lienzo será bueno que cree otro lienzo destino voy a el contexto del cielo del lienzo destino contexto destino y en su destino y entonces voy a por aquí bar datos destino es igual contexto destino punto getty image dato de 0,0 a 2048 y entonces hago lo siguiente si borde es igual a false va a pasar una cosa si no va a pasar otra y lo que va a pasar es lo siguiente lo que va a pasar es que contexto destino punto vamos a ver punto dónde estás punto no datos destino perdón datos destino punto gata haber un segundo claro no porque tengo que pintar ok contexto destino punto field style es igual a black phil rect voy a pintar un cuadrado en x y como 11 y entonces en caso contrario voy a poner esto de color white y datos destino contexto destino fiel recto si todo ha ido bien ahora comento este código evidentemente pero si todo ha ido bien lo que va a ocurrir en la pantalla aparte de que voy a bajar esto por el tema de los comentarios lo que va a ocurrir en la pantalla es que el sistema baa buscar bordes vamos a por ello recargo si no hay ningún error ahora voy a poner dos lienzos en tim vemos como el programa tarda más y es normal vamos a sacar ahora sí la ventana del historial de la cpu bueno voy a sacarlo y estamos viendo como pues bueno lo que hace el sistema como podemos ver ahora es que está tardando bastante más en realizar el cálculo y ahora es cuando realmente nos empezamos a plantear que necesitamos pues mejorar este cálculo esto que está ocurriendo es que el sistema pues está tardando una barbaridad en calcular otra cosa que puedo hacer es un poco ahora para el principio hacer que el cálculo sea un poco menos invasivo o que sea menos fuerte porque pues le he puesto antes una anchura he puesto una anchura de 4 pues igual con ponerle una anchura de 1 ya es suficiente ahora tengo que parar este cálculo voy a arrancarlo de nuevo ahora está el otro cálculo también voy a pararlo aunque el cálculo en workers a veces es difícil de parar pero bueno vamos a dejarlo un momento vamos a dejarlo quieto a que acabe de calcular y ahora veremos a ver qué nos da y vamos a decirle bueno en este caso salir de la página aquí para ver si me deja cerrar ahora recargamos vale y vamos a ver si habrá sí