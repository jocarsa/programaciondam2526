bueno pues ahora mismo todos y cada uno de estos personajes digamos que viven en su propio mundo en el sentido de que ninguno de ellos reconoce al otro si yo por ejemplo me empiezo a mover entre ellos pues de entrada lo primero que veo es que ellos no me reconocen a mí o sea yo puedo pasar entre ellos no es ya por la conexión que también sino que simplemente cuando digamos paso por encima de ellos pues no me persiguen ni me hacen nada realmente hacer esto un poquito más pequeño mal entonces una de las primeras cosas que quiero es que los personajes me digamos me reconozcan para ello por ejemplo pues lo que voy a hacer es que él el personaje digamos tiene este método mueve y el personaje digamos tiene el método mueve con respecto a la ejecución que se hace dentro de bucle vamos a verlo aquí lo tenemos y luego lo que voy a hacer en este caso también es que el personaje en un momento dado me persiga para ello lo primero que quiero hacer es indicarle al personaje que sea capaz de detectar cuando está cerca de mí para ello hay una fórmula es muy sencilla que es por ejemplo javascript distance between two points entonces es esta fórmula de cuadrados qué es esta de aquí e incluso la tienes en javascript entonces a partir de aquí yo por ejemplo lo que puedo hacer es que de paso que en el bucle esto y digamos trabajando con todos y cada uno de los personajes de los npcs de paso que le estoy diciendo mueve al personaje lo que voy a hacer es decirle primero vamos a detectar si yo estoy cerca del personaje o no y si estoy cerca del personaje o no en ese caso me voy a mover entonces lo que voy a hacer ahora es lo siguiente vamos a verlo lo que voy a hacer ahora es voy a copiar esta fórmula y digo bar a es x 1 x 2 que es x 1 - x 2 por ejemplo x 1 podría ser mi x la x del personaje mío que vamos a verlo por aquí inicio condiciones iniciales sports x entonces por equis menos a raíz personajes punto x y luego esto es post y array personajes insisto que esto se está ejecutando personaje a personaje con lo cual lo que está haciendo es medir la distancia de cada uno de los personajes conmigo y entonces ahora la distancia es estas tres distancia y entonces ahora es cuando puedo y decirle al sistema sí distancia es menor que no se ha aprobado en ese caso pasa algo y en caso contrario pasará a otra cosa entonces fíjate que lo que voy a hacer en este caso es decirle al sistema que si la distancia es mayor que 40 el personaje se mueve y si no se mueve así es que voy a decirle también en el programa en condiciones iniciales que me x vamos a ponerla 800.000 y me y va a ser pues los tiempos ahora lo que quiero es que no quiero aparecer en una esquina sino que quiero aparecer directamente en medio del tablero recargamos a tope y aparezco yo no sé si ves que este personaje se ha quedado quieto y entonces los personajes cuando se acercan a mí se quedan quietos osos lovers vamos a aumentar un poquito el radio hasta 40 pues voy a decirle 120 no sé si veis que los personajes de hecho si me voy moviendo los voy congelando es como que los que están cerca de venir se quedan congelados desde alguna forma eso es lo estás viendo pero ya tengo una forma de que ellos detecten cuando están cerca de mí en el es claro en cualquier videojuego digamos lo que debe ocurrir no es que cuando los personajes están cerca de mí se quedan congelados sino que debe ocurrir al contrario que cuando los personajes tan cerca de mí vienen a por mí y cuando los personajes tan lejos de mí pues como que no saben que estoy voy a aumentar un poquito más el radio por ejemplo si me voy moviendo fíjate cómo se han bloqueado evidentemente lo que voy a hacer ahora como te podés imaginar quieto de aquí lo que voy a hacer ahora como te puedes imaginar es decir qué si el personaje está lejos de mí se mueve pero si el personaje está cerca de mí me persigue claro persigue evidentemente todavía no existe vale todavía no existe esa función me voy a ir a personaje y voy a decir persigue y por tanto ahora lo que voy a hacer es que cuando el personaje esté cerca de mí pues va a intentar evidentemente perseguirme vale pues ahora lo que vamos a hacer dentro de persigue ahora veremos que al ejecutar este código se va a quedar igual a un error algún error pues no escurrió a usarlo dale mi vida que persigue esa defunción voy a recargar todo para que ahora pues muy bien entonces ahora persigue lo que va a hacer es lo siguiente vamos a ver voy a definir bar distancia x es igual al absoluto más absolutos al valor absoluto sin negativo en positivo o sea siempre positivo digamos entre post x com - perdón dis punto x y ahora distancia y es más punto a bs / post y display esto lo que va a hacer es definir qué es lo que va a ser más grande si la equis sola y es decir es un personaje está así o está aquí debe ir así debe en este eje o debe ir en este eje pues ahora lo que voy a hacer en el siguiente sí no vamos a verlo sí distancia x es menor qué distancia y vamos a hacer algo y sí no otra cosa entonces ahora yo lo que quiero es decirle que en este caso digamos vamos a ver voy a decirle dirección de dirección mis direcciones o métricas es igual a esto dis dirección su métrica ahora veremos a que es igual y vamos allá a los obreros a ver qué pasa y luego mueve y ya 2.9 esto no está bien hecho ahora lo acabamos de completar vamos a comprobarlo ah vale al agua no deberían ir todos en una dirección vamos a putear un momento esto ok vale vamos a ver con el 10.9 o claro es que esto yo creo que debería ir aquí esto debería ir después de haber controlado las posiciones vamos a verlo vale ahora quito el 2.9 cada uno se sigue moviendo hacia donde quiere abertis direcciones geométrica más a bs es una función matemática que calcula el valor absoluto de en este caso una expresión lo que hace es decir que yo hago una resta pero me da igual ser arrestada positiva o negativa porque más a bs siempre la va a convertir en positiva es decir lo que quiero averiguar es la distancia entre los números quiero averiguar si la distancia es mayor entre esta xy esta x o si la distancia es mayor entre ésta y griega y está y pero no importa el signo entonces más a bs el valor absoluto lo que hace siempre convertirlo a positivo entonces el objetivo de esto es saber si me tiene que perseguir o si me tiene que perseguir en horizontal o en vertical entonces aparte es que se están escapando en este sentido se están dejando de colisionar incluso por mucho que me aleje dejan de colisionar vamos a verlo por qué a ver si es que me he quedado con todos los que van para allá si estoy viendo un poco cuál es la lógica que siguen y porque digamos no estoy consiguiendo afectarles con este código de aquí de hecho de hecho voy a poner con solo punto lo menor hace rato que no uso el control de puntos más que nada para ver si está ocurriendo algo pasa con inspeccionar me voy a consolar refresco mayor menor pero sin embargo no parece que tenga ningún efecto en ellos this punto direcciones o métrica es igual a 2 3 pierde energía entonces quiero ver hoy quiero ver por qué no me están haciendo caso vamos a probar con eso vamos a decirle qué bis estás despuntó pierde energía pero mucho y aquí es exactamente igual solo aquí un poco menos vale ok así que sí que estaban perdiendo energía y los vemos como las barras se les van vale lo que voy a hacer es que en lugar de llamar a todo el pack de mover lo voy a mover yo voy a decir qué por ejemplo 10 direcciones igual a 0 y voy a mover y luego manualmente la xl griega tendré que mover también el estado de animación y vamos a verlo yo diría que ahora sí debería que ahora si todos aquellos que están cerca de mí pues se acaban yendo digamos en aquella dirección ok con lo cual ahora es ya esto loquito de aquí lo pongo fuera del ife lse y ahora es cuando voy a establecer los cuatro casos si distancia es menor que y digo if els a distancia pero en fin x menos distancia y es menor que 0 y lo mismo aquí vale y ahora aquí hay una dirección aquí hay otro aquí hay otra y aquí hay otra cuál es la buena en este caso pues no lo sabemos vamos a sangrar esto correctamente y eliminar los espacios vale y ahora voy a poner direcciones aunque realmente no vale para nada y más y 1.5 pero qué curiosos pero ostras es como que me persiguen qué bueno qué interesante de hecho ahí con el círculo podemos ver bueno vale vamos a verlo vale ahora ahí vale ahora lo que tenemos que hacer pues es averiguar no es como casi que están más huyendo que otra cosa yo diría que los ángulos para ser un poco los contrarios más que nada porque parece que lo estoy haciendo huir y en cambio cuando existe para hacer crecer los contrarios pues ya te digo no sé por probar algo dicho mal muy bien partido que es el que queda porque no no es cero así que ahí parece que algo estamos interactuando y parece que quiera venir a por mí en unas ciertas condiciones no sé parece que estemos bailando una comparsa pero bueno ya es un poco o sea dar con la función correcta es por ejemplo ahí cuando se acercan demasiado es como que se alejan y aparte hay que ver qué es lo que pasa con la dirección y el giro porque mayormente o vienen hacia mí o me evitan pero el giro no coincide con su dirección correcta vale entonces tenemos que ver cuál es la bueno claro la dirección isométrica realmente entonces direcciones o métrica vamos a ver en base a que se calculaba el giro ahí está a la dirección en la dirección y la dirección sol la dirección es o métrica entonces como te digo tenemos que esto lo ponemos aquí y entonces aquí pondremos las direcciones isométricas fíjate se ha quedado en modo esquina y ahora luego vamos haciendo pruebas y acabamos de cuadrar esto bien en un momento dado si ya ahora en el momento empezaremos a tener personajes digamos pues persiguiéndonos lo que sea es cuando podríamos empezar a darle forma al juego en el sentido de que debería tener algún tipo de pantalla de inicio y de algún tipo de instrucciones y algún tipo de controles y algún tipo de créditos y algún tipo de lo que sea entonces para hacer esto vamos a hacer la continuación porque realmente es mucho más sencillo de lo que parece para ello vamos a ir a la pantalla inicial y fíjate que teníamos el inicio del juego mediante un script así que yo por ejemplo lo que puedo hacer es lo siguiente dib es igual pantalla inicial en la pantalla inicial voy a poner por ejemplo un 1 que va a ser el título del juego h 2 subtítulo del juego y ahora por ejemplo pues un menú vale entonces voy a poner por aquí un h 3 jugar una noche tres créditos un h 3 instrucciones con esto voy a parar un momento la ejecución de inicio global fíjate que simplemente el juego todavía no empieza la pantalla inicial se habrá quedado por bajo no pasa nada voy a decirle en el estilo vamos a ver dónde está el estilo voy a decirle que pantalla inicial un gris del 100% un high del 100% un posición absoluta un top 0 píxeles un led 0 píxeles y un text align frente a él vengo por aquí y ya tengo el título del juego ahora de hecho lo que puedo hacer incluso es pues como te diría yo poner alguna fuente personalizada para eso puedo ir a algún voy a poner font-size 2 m para aumentar para multiplicar el tamaño de los títulos puedo decirle un padding top a 200 píxeles quizás para que el texto esté un poquito más centrado y ahora una cosa que pienso que te va a gustar bastante es que no si sabrás que existe una web llamada la font donde puedes encontrar un montón de fuentes entonces voy a ver si existe algo como una fuente isométrica sabes vamos a ver bueno no sé algo así igual es un poco excesivo pero no sé voy a probar esto dad que a ver isométrica dólar mira que esta fuente va a ser transparente entonces me la acabo de descargar voy a poner aquí en css los dos archivos que me descargado voy a quitar espacios porque para cargarlas en programación los espacios no son buenos vale y ahora en css las voy a llamar entonces ps3 font voy a el trocito de código que quiero es este de aquí entonces vengo aquí y lo más arriba posible lo llamo hizo 11 o hizo y cargo la fuente y cargo la fuente fría isométrica y luego voy a decirle que hizo bold y quiero isométrica voy y entonces ahora vengo aquí y le digo font-size y soltó como zhang sheriff esto quiere decir que va a intentar cargar la fuente y sólo bolt y si no puede en este caso son seres así que a continuación vamos a verlo aquí falta una rodaja correcta eso es no voy a mentir ah no falta esto me faltaba una línea entera ahora sí cuando definimos cualquier regla arroba quiere decir que es una meta regla lo cual quiere decir que se aplica sobre cualquier otra parte del código lo que aquí estoy diciendo es voy a definir una fuente y entonces aquí digo la fuente se llamará iso y voy a cargar este archivo del disco duro pero lo más importante que debes entender es que todo este bloque porque el fondo familia este no deja de estar dentro del fondo face es voy a definir una fuente y una vez que definido una fuente estoy aquí es voy a usar una fuente para entonces esto es le doy nombre a una fuente y esto es uso la fuente del milco digo y esto evidentemente tiene que coincidir quiero decir que si aquí he puesto y sóftbol es porque aquí he puesto y sólo si no puedo poner digamos longanizas y en ninguna otra parte del código de definido que es longaniza pues la idea es que aquí estoy llamando a iso bold y aquí estoy definiendo qué es lo que entendemos por el soft golf entonces ahora vengo aquí y recargo y si todo va bien vamos a ver un momento he puesto en la misma carpeta con lo cual logré ya fallar voy a isométrica df voy a probar a cargar otro grabando y soul font-size no son familia es piso gol ahora sí tenemos ya pues electro de juego su título del juego jugar créditos instrucciones no me gusta mucho no es que me guste mucho al like con acento no me la ha reconocido pero bueno por lo menos tenemos suficiente para probarlo y que luego ya pues cada uno se le puede modificar como quiera y ahora lo que quiero eso sí es que funcione vale entonces me vengo aquí al index y le digo h 3 y ver botón jugar aunque realmente no es un botón pero va a actuar como si fueran botón un botón créditos y botón instrucciones así que a partir de aquí vamos directamente con el botón jugar una vez más tengamos en cuenta que estamos hablando de un evento cuando hago clic en el botón jugar va a ocurrir algo entonces los eventos los vamos a capturar con jquery entonces lo que voy a hacer es que cuando seleccionó el botón jugar vale la sb que seleccionó que es lo que seleccionó el botón jugar y cuál es el evento que le asoció clic cuando sobre el botón jugar haga click en ese caso ejecutó una función anónima se llama al inicio no es lo que va a ocurrir ahora es que así como el inicio antes se ejecutaba solo ahora solo se va a ejecutar en inicio cuando al botón de inicio por cierto otra cosa que voy a hacer es decirle que quito el menú por tanto cojo pantalla inicial y le aplicó uno de los eventos que a mí me gusta mucho que es field out con el parámetro slow le puedes definir el número de milisegundos también le puedes decir que directamente quieres que sea lento y lo que hace es que oculta la pantalla así que una de las cosas por las cuales me gusta jquery es porque es por esto porque así quiere que desaparezca desaparece y ya está es bueno ponerle punto de coma porque al final es javascript tenemos en cuenta que javascript termina cada instrucción o en el salto de línea o en el punto y coma pero aún así es bueno porque el resto de lenguajes no funcionan así que nos acostumbremos a poner punto y coma después de cada una de las instrucciones y después de cada una de las líneas entonces recargo le doy a jugar y entonces desaparece eso y entonces ya aparece el juego y puedo empezar a jugar con normalidad vale entonces la idea es esta y una vez que por ejemplo digamos llegue a la condición de muerte la condición de muerte podría ser que el personaje pues eso pierda toda su energía grabaremos la energía del personaje pues a partir de aquí digamos volvería a saltar a la pantalla de juego pararía el bucle y podría volver a empezar vamos a hacer eso por cierto a ver yo quiero invocar al menú en varias ocasiones pero evidentemente dentro de un juego por un tema de usabilidad es decir yo podría decir el menú solo vuelve a salir cuando has perdido el juego pero como te digo por un tema de usabilidad siempre tiene que haber una forma de digamos de escapar del juego vale entonces una de ellas podría ser la clásica tecla de escape entonces yo para ello voy a hacer lo siguiente en primer lugar jquery keith brown escape y vamos a verlo y de la misma forma que aquí en inicio tengo el punto que pues voy a hacer esto ahí estamos allí vale cuidado esto lo que hace es windows punto close to me cerraría la pantalla primero quiero esto yo lo que quiero es lo siguiente volver principal quiero volver al menú y quiero pausar el juego entonces para pausar el juego voy a hacer lo siguiente me voy a condiciones iniciales y una variable llamada pausa que es igual a fox el momento es falsa en el bucle lo que voy a hacer en este caso vamos a ver es bueno es para del buque y voy a decir lo siguiente pausa es igual a falls en ese caso ejecutan el bucle y entonces lo que voy a hacer es que cuando en inicio en las teclas pulse la tecla escape pausa es igual a otro vamos a comprobar que esto lo que va a hacer es que juego y cuando pulso escape todo queda parado entonces lo que voy a hacer a continuación es que pausa es igual a true y me voy a más que método menú puedo decirle directamente esto puedo decirle lo contrario qué de lo anterior que es facebook nos falta realmente un método para esto así que hago así el juego empieza pulso escape y el título vuelve a aparecer si ahora la voy a jugar claro el problema es que vuelva al inicio pero el inicio ahí hace algo bastante extraño en el sentido de que digamos que lo que está haciendo es como diría yo e iniciar el juego pero este juego no hace falta que se ha reiniciado lo único que quiero es que continúe a partir de donde había quedado vale entonces ahí en este caso vamos a verlo voy a hacer una cosa en index.html voy a crear una pantalla inicial me dio que va a tener un estilo display none esto no va a ser jugar va a ser continuar vale y entonces lo que voy a hacer es pantalla inicial medio fail vamos a verlo a jugar pulsamos escape y espera siempre momento que ha pasado es lo de menos eso no me preocupa nada pero si bien vamos a verlo claro a ver te cuento también te digo realmente digo que aquí en el estilo pantalla inicial y pantalla inicial medio y así pues también hereda ese estilo le voy a jugar la vía de escape vale ahí lo tenemos para pulsar continuar pues no hace nada vale ahora por tanto es cuando lo que podemos hacer es decirle al sistema que el inicio sí pero un segundo de media expulsado un momento esto es lo que les estaba pulsando esto ahora un botón jugar botón continuar y entonces le vivo pantalla inicial medio faire out inició esto es lo que ya no quiero ejecutar y ahora quiero pausa es igual a false y tengo que ejecutar manualmente el bucle porque si no ya no entro vamos a verlos y no me hará falta el temporizador pero bueno vamos a verlo jugar porque el pulso escape debería continuar ok correcto vale una fenomenal muy bien luego debo decirte que pss cómo vas a ver a continuación tiene herramientas muy chulas para conseguir hacer efectos muy divertidos esto ya es un poco a gusto del consumidor yo ahora mismo tengo el problema tengo el pequeño un problema de que cuando le doy a jugar cuando le doy por ejemplo el escape no veo nada bien o sanz no veo líquido el texto no puedo distinguir el texto entonces por ejemplo yo sí no yo vengo por aquí y creó un estilo llamado desenfocada hay muchas cosas que se pueden hacer no sólo que se puede hacer esto y es más que una excusa para enseñarte efectos css y entonces vengo por aquí y digo ps3 filters o filter blood por todo cuenta correcta pero es muy árida y digo filter esto no me ha cogido hola filter blur y no sé 20 pensiones vale entonces yo lo que voy a hacer es lo siguiente cuando sobre un patrón jugar hago clic vale hacia aquí y ahora canvas punto haz clase le añado una clase estos jquery ya sabes que es difuminado y entonces cuando él restauró botón continuar canvas remus class difuminado tiempo de jugar debería escape un momento que ha pasado mal vamos a verlo hemos aplicado el filtro a ambas claras difuminado y claras difuminado es la clase desenfocado dijo y recargamos jugamos cuidado no se ha reconstruido pongamos escape muy bien fantástico y la idea es que solo me está difuminando los personajes no me está difuminando el fondo pero no pasa nada porque lo que podemos hacer lo que podemos hacer en el segundo es al canvas no sino que se lo podemos aplicar al contenedor y en el inicio se le aplicamos al contenedor y esto lo que va a hacer es que le voy a jugar en su escape y lo que hace es que me difuminar todo y cuando lo vea continuar ya lo tengo hay otra cosa que puedo hacer por cierto es aplicarle una transición a todo las transiciones yo creo que es con el difuminado va a funcionar bien las transiciones por un segundo lo que hacen es que en lugar de aplicar algo a lo bestia lo aplica poco a poco le voy a jugar y si el pulso escape no sé si has visto cómo lo ha difuminado poquito a poquito y ahora lo voy a continuar y me lo aclara en plan a lo bestia de ver 25 segundos para que se vea bien le voy a jugar esto ok y ahora pulso escape no se sirve es como vale y ahora le voy a continuar y todo vuelve a ponerse en marcha no le pondría cinco segundos de posición con segundo simplemente para lo que para que lo veas pero exacto si algo es una cuestión de afinar lo vale con lo cual una vez que tenemos el menú ahora vamos a por el tema de la energía de nuestro personaje bueno pues ahora como te digo dentro de condiciones iniciales aquí tenemos propiedades protagonista no tenemos una propiedad energía es igual a 100 por ejemplo para empezar y ahora pues lo que voy a hacer es decirle al sistema que vamos a ver aquí en el bucle de la misma forma que le dibujamos la barra de energía a cada uno de los personajes antagonistas digamos pues justo a continuación voy a dibujar la barra de energía en este caso va a ser dos x y esto va a ser x jose griega y ahora esto es post x y 2x los y esto es energía vale tengo por aquí a un error pero da igual muy bien y entonces ahora vamos a verlo y algún error para efe me he saltado algo parece que sí bien esto y eso pero esto parece que le falte algo y aquí parece como que les falta una forma la tengo después vale ok a verano vale vamos a ver energía 90 porque la tengo un poco hacia el otro lado la barra verde ya no un momento porque esto es la barra verde en la barra verde no la he puesto correctamente esto 2x porsche y 2x pos y energía y vamos a por ello ahora sí y ahora yo lo que quiero por ejemplo es decirle al personaje que cuando vamos a verlo cuando un personaje esté cerca en el bucle cuando un personaje esté cerca voy a decírselo así directamente o mira sí a distancia es menor que 100 en ese caso energía menos es decir si un personaje está más o menos cerca de mí quiero que me persiga pero siempre es una genia está muy cerca de mí directamente me quita energía así que vengo por aquí le voy a jugar y falseado rápido voy a poner menos 10 personajes de muy cerca de mí vale y por ejemplo está muy cerca de mí mi barra se va agotando vale vamos a poner un término medio ah y bueno de hecho ahora lo que quiero es programar la condición de morir que va a ser sencilla en este caso ya tengo por ejemplo la barra en negativos entonces antes de que eso ocurra quiero decirle al programa qué es lo que tiene que suceder y lo que tiene que suceder es que va a ser un simple voy a hacerlo de forma sencilla a recargar posición recargar posiciones a recargar ubicación en este caso recargar el juego y por tanto es volver a empezar real realmente vamos a ver verás ahora mismo y un pequeño problema es decir el pequeño problema que se puede corregir recargar la pantalla recargar la página es un truco sucio pero sencillo para que todos los parámetros se vuelvan a recargar hay otra forma de trabajar lo que es simplemente todas las condiciones iniciales y volverlas a arrancar entonces en este caso por ejemplo en la función de inicio aquí lo tenemos aquí para lo que tendríamos que hacer es digamos reiniciar todas las posiciones y volver a comenzar entonces yo por ejemplo lo que puedo hacer es lo siguiente para implantarlo en plan limpio voy a hacer esto voy a hacer function reiniciar y entonces en la función reiniciar tengo que jugar todas las condiciones iniciales estas no está así por supuesto el escrito el bar porque ya no las estoy declarando sino que las estoy re eso es vamos a ver y ahora bueno a raíz personajes es iván ibarra yo esto espero que me haya dejado machacar el array y en inicio el inicio aquí si he declarado qué es un niño array le vuelvo a dar en la raíz de objetos entonces ahora ahí lo que voy a hacer es lo siguiente en el caso en el bucle es que energía sea y energía es menor que cero en ese caso pausa es igual a otro que muestre el menú y el menú en este caso va a ser el d el inicial es decir pantalla inicial punto slow y le digo al sistema que ejecuto reiniciar y eso es lo que realmente hace que todo empieza de nuevo entonces vengo por aquí a jugar a probarlo vamos a hacer que me quedé sin vida y si todo va bien ahí lo tenemos no me he cogido así la pausa porque claro lo he dicho pero el reiniciar creo que le he hecho fotos de nuevo vamos a verlo aún así creo que ha pintado algo ay vale bueno aunque menos haya pintado también lo que puedo hacer es reiniciar y luego contexto punto clear rect para borrarlo todo de 0 anchura a entrañar como altura pantalla y así se aseguró que lo borra valen poquito más bien no lo ha borrado es ancho la pantalla altura pantalla la anchura navegador altura navegador me extraña igualado de error con esos parámetros pero bueno igual ha dicho no sé qué parámetros son estos vamos a perder vida ya podemos volver a jugar vamos a verlo claro y cuando le doy a inicio es importante decirle pausa es igual a falls porque no habíamos tenido en cuenta este parámetro anteriormente como ya sabes en cualquier juego quieras que no luego está en el proceso de testing vale muy bien con lo cual ahora sin hacer el truco sucio de recargar la página ya tenemos una condición de muerte vale ya tenemos la condición de perder el juego con lo cual a continuación nos haría falta la condición de ganar el juego y ganar el juego por ejemplo y así de paso implementamos un sistema de niveles puede ser que por ejemplo al principio vamos a verlo al principio en condiciones iniciales número de personajes es igual a 5 entonces empezamos el juego con 5 personajes yo tengo que cumplir una misión y si cumple esa misión con 5 personajes en ese caso aparecen por ejemplo 10 personajes y si la cumplo con 10 personajes entonces aparecen 20 personajes es decir la idea es que se vaya digamos aumentando de dificultad al entiendes lo que digo vamos a por ello a ver te cuento voy a algo y cuando digo algo pues no lo sé sabes podría ser algún objeto de hecho he visto esta mañana que tenía aquí en un disco duro justo lo que estoy buscando dame un segundo mira qué guay pues verás no te lo vas a creer pero esta mañana buscando en un disco duro he encontrado un archivo de 2012 y no es que te lo diga sino que lo estás viendo ahí y es justo lo que quiero esto es lo que quiero mira tú qué guay que es un logo que dice para un proyecto que tenía hace años y el otro tiende por está inactivo y es justo lo que quiero vale con lo cual eso me lo voy a copiar y esclavista mañana había dicho mira esto me vendría bien para este proyecto y lo pongo ahí lo cambio del logo como tocar pues lo pongo como logo perdón premio a 19 años también si correcto en fin entonces ahora y esto tiene un fondo no no tiene fondo menos mal vale entonces ahora yo lo que voy a hacer es meter digamos este premio en alguna parte vale voy a decir lo siguiente voy a decir que me voy a inicio no voy a condiciones iniciales me voy a donde se cargan las imágenes y digo imagen premio new image imagen premium es premio punto prg vale ahora bar premio x es igual de momento voy a poner 800 bar premio y es igual a ver la y va a ser la gente vale y ahora lo que voy a hacer es que en cada bucle voy a pintar contexto punto drogba image premio en imagen premium graves un premio x premio y vamos a por ello jugar no me gusta premio y están al menos 200 600 de haber 400 vale ok entonces yo lo que voy a hacer es que el personaje digamos tiene que ir a por el premio ya hablaremos de lo de que esté delante y detrás todo eso pero de momento tiene que ir a por el premio endesa ahora lo que voy a hacer es que cuando el personaje está acerca del premio vamos a verlo voy a inspeccionar me voy al bucle vale y diego la distancia aquí y aquí esto es post x menos premio x esto es posibilidad menos premio y ahora digo si distancia menor qué si vamos por 20 por ejemplo voy a ver de momento un con solo punto el premio simplemente para verlo para comprobar que lo hace me voy al consola me voy a buscar este premio y si le va bien vamos a verlo por aquí dónde está no no vamos a poner 200 pues x premio x para la veremos vamos a ver lo premió x premio y posee equipos y a distancia voy a recargar completo por si acaso es que se ha quedado frito ok nada vale aquí estoy re declarando variables como técnicamente no debería porque ya han sido declaradas arriba aunque eso jamás le da igual pero bueno vamos a ver claro que sí como se me ocurre como se me ocurre hacer esto es que esto no es premio x premio y esto es hizo x y eso y esa posición que estaba viendo era falsa cuando estaba viendo entonces esto es premio x premio y premio x premio dinero vamos a ver dónde aparece ahora no lo sé aquí ahora sí y ahora me vengo aquí premium claro ahora premio es mogollón jugar y ahora sin principio ahora voy a ponerle fin cuando me acerco premio para luego le pondré 50 o algo así y tal entonces de la misma forma que tengo una función en la misma forma que tengo una función donde estás aquí de reiniciar tiene una función de subir de nivel reiniciar es como vuelves a empezar de cero pero subir de nivel es como vamos más allá vamos más arriba para ello crea una función subir nivel la función d la función de subir nivel va a ser un poco como la de reiniciar número de personajes bien esto de hecho cuanto lo teníamos originalmente ahora mismo a 5 vale pues aquí es 5 pero aquí es por igual dos son los que tenías antes pues multiplica por dos esto lo reiniciamos esto lo voy a dejar así he estado animación ok ángulo que el terreno ok vale y ahora en las condiciones iniciales voy a decir qué premio x o sea cada vez va a cambiar de sitio y va a ser vamos a ver más puntos round no más puntos por terreno x2 menos terreno x1 es lo que va a hacer es que aparezca en alguna parte del terreno y esto es lo mismo pero con la y vale y entonces ahora bueno la verdad es que nivel más y tú dirás que es nivel más pues tengo que crear una variable llamada nivel que por cierto cuando reinició ser a niveles igual a 1 de momento el nivel no lo vamos a ver pero ahora luego pues cuando perdamos por ejemplo nos podrías decir que has perdido pero te has quedado el nivel no sé qué para que digamos cuando juegues contra otros jugadores pues puedes decir bueno pero yo me queda el nivel no sé cuántos vale entonces vamos a verlo vale ahora fíjate ah por cierto no le he dicho no le he dicho dentro del núcleo subir nivel era subir niveles hubiera de nivel era subir nivel súper nivel entonces recargamos jugamos para el 5 personajes yo vengo por aquí y por ahora hay 10 personajes y el cacharro que está por aquí ahora hay 20 personajes fíjate que ya me pueden empezar a quitar vida y cuanto más madrid y esto ya era un momento que ya de hecho fíjate no se si ves hoy así que ha perdido no iba a hacer una prueba de carga para ver cuánto iba a poner el procesador trabajamos no hace falta entonces bueno yo ahí lo que puedo hacer por ejemplo esto ya es cuestión de tocarlo al este ya es un poco luego como cada uno se personaliza el juego pero lo que puedo hacer es decir bueno esto es más igual así más ya con la fin como un ejemplo y así pues quieras que no tienes para jugar bastantes niveles antes de que reviente la máquina vale entonces ahí por ejemplo algo así ahora tengo días y luego tendré fíjate que en todo caso estamos jugando con un terreno que ahora mismo de momento siempre es el mismo terreno otra condición que le podemos dar al juego ya he llegado es que el terreno ahora le pondré menos tamaño para que tengan que acercarse más bueno 30 otra condición que puedo hacer es que el terreno en lugar de ser una imagen de fondo pues sea un terreno real y cambiante y que por tanto pues vamos a verlo no sé por qué hay que aproximar con la cabeza parece bueno para luego ajustamos no sé por qué hay y si es posible que la imagen no esté coincidiendo sí si no nuestra consiguiéndolo otra cosa que puedo hacer otra cosa que puedo hacer es decirle al sistema que digamos quiero como te diré yo quiero parar un momento para que me diga hoy estás en el nivel tal y entonces empiezo el nivel vamos a hacer eso vale entonces vamos a ver me voy a las funciones vamos a verlo por aquí vale ahora voy a decirle aquí pausa es igual a true vale a ver el segundo voy a por el cacharrito este no me ha hecho mucho caso claro clase 4 y luego los pobres waffles de momento no vale ok y ahora lo que quiero es decirle al sistema que me saque en la pantalla una pantallita de nivel entonces pantalla a nivel vale estás en el nivel y aquí voy a decir di mi nivel esto es pantalla nivel en el css pantalla a nivel vale y ahí lo que voy a hacer es lo siguiente cuando subo de nivel lo que hago es pausas igual a true esto de momento aquí le digo al primero a nivel más le digo aquí dime a nivel punto html por ejemplo nivel ahora pantalla a nivel punto fighting solo y ahora 7a función una función anónima como cinco segundos y le digo pantalla a nivel federal flow esto quiere decir que esa pantalla va a estar en la pantalla cinco segundos y luego se va a desaparecer vamos a verlo venimos aquí cuál es el nivel 2 y ahora desaparece no sé por qué no sé por qué no sé por qué lo ha hecho de repente pero necesitas dado cuenta que el lugar hacia el fin de siglo wilfried auto slow yo diría que ha pasado de mí pero bueno allí estás en el nivel 2 com si no pasa nada vale contexto punto clear recta me voy a copiar del bucle contexto punto clear recta aquí ah no perdona textual ballet nivel 2 y ahora le digo pausa es igual a falls y ejecuta el bucle porque ya puedes volver a empezar jugamos nivel 2 allí vaya un poco fuera nivel 3 y así la ley por tanto aparte de que nos falte por afinar la condición ahora vamos a ello de que los personajes realmente me persigan pero por lo menos tenemos ya tanto la condición de muerte como la condición de éxito digamos dentro de que fíjate que estamos en el nivel 4 y empezar a ver personajes nivel 5 de que llega un momento en que sea difícil digamos pasarse el juego por la sombra por la búsqueda papá porque los personajes nos busquen y así en la siguiente clase hablaremos de terrenos profesionales es decir de que el terreno digamos también en el primer nivel sea sencillo 'the y a medida que se va complicando pues que se vaya haciendo más extenso a ver vamos por los personajes donde toda la miga está aquí en persigue esto lo voy a cambiar de momento a ciegas qué números estamos así aquí directamente no sé si estoy percibiendo un cambio en el personaje que yo creo que no entonces no lo sabemos vamos a ver hay un truco que puedo utilizar que es el siguiente voy a borrar un momento esto y es this punto x es más igual habéis x menos post x y todo esto partido 10 esto es el problema que me va a dar es que va a dar diagonales y en este juego no quiero diagonales pero sí por lo menos pues vamos analizando el movimiento vale vamos a por ello jugar hola algún error así que separado aquí el más igual ay ay entonces lo has visto pues sí de momento tengo lo contrario lo estoy alejando lo estoy apartando de mí vale entonces puedo hacer lo contrario y un partido 100 porque has visto que los alejaba muy a la bestia entonces ahí no sé si ves como vienen hacia mí y esto me está empezando agobiar voy a esto rápido vale entonces de momento lo voy a dejar así en diagonal pero fíjate como ya exacto oigo aparte se mueven rápido entonces los ves pero están como emocionados otra cosa que como ya has visto lo voy a dejar allí hasta que me maten como ya has visto simplemente modificando este 100 pues puedo cambiar eso vale fíjate cómo vino hacia mí esto cuanto más es más viejo están más corren última de paseo y ahora ya voy a por la costas bueno y bueno como ya ves bien cosas que quedaría por afinar pues por ejemplo el terreno para ya que tenemos personajes persiguiendo nos vamos a ir a condiciones iniciales primero fíjate cómo bien entonces otro mí voy a decir número de personajes 100 y más que nada lo que quiero afinar ahora quiero muchos personajes a espérate quiero que vayan libres a milán se acaba el juego vale un sobrero ahora en el bucle no quiero de momento pero si ahora reactivamos persigue pero esa posición vamos a ver de x yo creo que están más o menos bien y es donde no condiciones iniciales y 400 800 vamos a verlo pero 400 en casa en los 300 los 700 300 o 500 y lo que quiero en definitiva es cuadrar los en el terreno más o menos por lo menos que se queden y otra cosa es que tal y como comentábamos antes por una parte han dejado de colisionar por otra parte yo creo que han dejado de cambiar de dirección cada equis tiempo entonces vamos a ver eso porque puede ser vamos al personaje cambia dirección cambio de dirección cuando se está ejecutando ese es el problema mueve y cambia de dirección evidentemente no porque esto lo que va a hacer es cambiar de dirección en siempre entonces me if y que esto ya lo hicimos si diste en conocimiento partido 100 por ejemplo es igual a cero es decir cada 100 segundos del personaje cambia de dirección yo me suena haber hecho eso ahí ves por ejemplo al cambio de dirección ahora sí vamos a ver porque tampoco están coleccionando colisión this colección y dice que ese es mayor que tal y dice que es menor que tal dirección este es el problema porque esto lo está machacando entonces esto vengo por aquí y diego if this punto dirección isométrica es igual a 1 en este caso de punto dirección isométrica es igual a 3 creo lo mismo para 3 aquí para uno y lo mi hijo no está en el 6 y lo mismo era 0 y 2 cree y rossi pero vamos a verlo si ahora yo juraría aparte de cambiar de dirección que están rebotando correcto vale entonces ahora es cuando puedo activar de nuevo el persigue puedo rebajar el número de personajes y un poco ya sabiendo que para tener un comportamiento más predecible no es para caer por el abismo ni todo esto en el 2 una cosa muy interesante por ejemplo que yo juraría que ahora mismo si voy perdiendo vida no se me reinicia en cada nivel entonces algo que podríamos analizar en el 3 lograría con el tocado no he llegado a tocar el cacharrito pero vale es lo que tú dices del pasado con el punto de anclaje que debe estar para mejorarlo pues bueno ya tenemos eso por ahí