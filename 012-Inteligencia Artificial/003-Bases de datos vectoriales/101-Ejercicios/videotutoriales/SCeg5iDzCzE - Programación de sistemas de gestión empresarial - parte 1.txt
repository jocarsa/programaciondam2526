Bueno pues a continuación vamos a desarrollar un software y para desarrollar un software lo primero que vamos a hacer es analizar Qué es exactamente un software Qué es exactamente un programa informático porque esto nos va a ayudar a identificar mejor qué es lo que queremos desarrollar y En definitiva pues aumentar nuestras probabilidades de éxito a día de hoy estando prácticamente Ya pues en la tercera década del siglo XXI Lo cierto es que eh trabajamos mediante trabajamos utilizando dispositivos multipropósito un dispositivo multipropósito A diferencia de los primeros ordenadores es un dispositivo en el cual podemos eh ejecutar múltiples tipos de programas informáticos a día de hoy pues prácticamente tenemos ordenadores prácticamente tenemos dispositivos móviles tabletas y teléfonos y todos ellos no dejan de ser dispositivos que tienen una unidad central de proceso es decir un una computadora genérica y luego además tienen una serie de componentes y periféric esto quiere decir que pues podemos eh introducir imagen podemos sacar imagen podemos introducir sonido podemos sacar sonido podemos introducir y extraer diferentes partes de información Así que en definitiva es una buena época digamos para el mundo de la computación desde el punto de vista mediante el cual Pues los dispositivos de los que disponemos tienen una serie de capacidades muy grandes con las cuales podemos operar a partir de aquí una vez aclarado que los ordenadores desde punto de vista de la potencia pues tienen bastante bastantes posibilidades diríamos que el software el desarrollo de programas informáticos debe responder a la solución de necesidades humanas es decir el software básicamente Es una herramienta Cuando hacemos software lo que estamos haciendo es crear herramientas para solucionar problemas para automatizar tareas Así que probablemente lo primero que nos tenemos que preguntar es qué necesitan las personas es decir qué podemos hacer que realmente solucione algún tipo de problema Bueno pues vamos a hacer un repaso de las los principales programas informáticos que tenemos los más conocidos por ejemplo pues hay programas hay sistemas informáticos de ofimática básicamente que son documentos son hojas de cálculo y son incluso presentaciones sobre todo en el caso de los documentos Pues el ser humano necesita hacer documentos no Ahora solo en la era de la informática sino que el ser humano lleva necesitando hacer documentos desde hace décadas siglos prácticamente milenios Así que un programa de ofimática no ha inventado la rueda un programa de ofimática lo que hace es permitir al usuario crear documentos Pero ahora utilizando medios informáticos es decir utilizando digamos en este caso ordenadores Qué otros programas informáticos tenemos Bueno pues por ejemplo tenemos un programa informático llamado Autocad entonces Autocad es un programa informático que nos permite realizar delineación 3D entonces la delineación no la ha inventado la informática hace décadas la delineación se realizaba en tinta sobre papel Qué es Autocad Qué hace Autocad mediante una serie de algoritmos informáticos nos permite realizar eso mismo pero dentro de un ordenador Entonces qué es lo que qué es lo que podemos hacer o por ejemplo hay un programa llamado Photoshop nos permite hacer edición de fotografía la edición fotográfica la composición fotográfica el retoque fotográfico ya existía décadas antes de existir Photoshop pero Photoshop nos permite hacerlo utilizando un ordenador en todos estos casos por ejemplo en el caso de la ofimática en el caso de Autocad en el caso de Photoshop pues la informática lo que hace es que Reproduce soluciones que existían previamente en el mundo físico pero las Reproduce en el mundo digital es decir tenemos programas informáticos que nos permiten hacer lo mismo que antes hacíamos sin programas informáticos y claro lo que suele ocurrir es que los programas informáticos nos permiten hacerlo mejor de lo que lo hacíamos antes porque evidentemente si un programa informático no nos permite trabajar mejor de lo que trabajábamos antes pues probablemente ese programa informático no va a triunfar lo que haría la gente es seguir trabajando como trabajaba antes así que la idea es que eh el software debe proporcionar una solución a una necesidad humana y en el caso de que esa solución ya existir anteriormente el software debe ser mejor que la solución que existía anteriormente porque si no por una simple cuestión de adaptación al medio pues las la peor solución desaparecerá y la mejor solución prevalecerá esto en la historia del desarrollo del software y en últimas décadas no siempre ha sido así no siempre la mejor solución es la que prevalece Pero bueno digamos que en la teoría Debería ser así que por una parte tenemos una serie de programas informáticos que nos permiten realizar a través de un dispositivo de computación algo que se podía hacer anteriormente sin un dispositivo de computación luego Tenemos también programas informáticos que nos permiten realizar tareas que no ían antes de La era de la informática por ejemplo los navegadores web nos permiten Navegar a través de internet claro no existía internet antes de La era de la informática Así que En definitiva Por ejemplo yo como programa informático podría programar un navegador web y no estoy tomando una solución que antes existía en el mundo físico y esto estoy haciendo la versión digital sino que estoy creando una solución de software de la nada Es decir a partir de una necesidad que surge eh junto con La era de la informática Así que cuando desarrollamos aplicaciones ya digo que lo primero que podemos preguntarnos es qué necesita el ser humano qué necesitan las personas para las cuales vamos a desarrollar un software hay básicamente varias formas de desarrollar programas informáticos vamos a comentarlo a continuación en cuanto al desarrollo de programas informáticos podríamos decir que cuando desarrollamos un programa informático tenemos por una parte los desarrollos a medida podemos decir que es tambén el software por encargo o tenemos los desarrollos como producto o como servicio podemos utilizar un modelo de implantación del Software que es software as a service software como servicio mediante el cual desarrollamos un programa informático y ese programa informático digamos que lo vendemos lo licenci dejamos que otras personas accedan a ese programa luego también hay empresas que desarrollan un producto de software y se lo venden a una multinacional para que esa multinacional lo explote es decir hay diferentes modalidades de desarrollo de software pero digamos que estas dos modalidades pues son las más eh digamos las más extendidas la modalidad de arriba Es realmente sencilla es decir tú eres un desarrollador y simplemente lo que haces es que pues tienes una reunión con un cliente ese cliente tiene una necesidad y ese cliente te comunica la necesidad Así que el cliente te comunica su necesidad eh entre los dos le dais forma a la necesidad y a partir de ahí se crea una solución de software eh adaptada para solucionar esa necesidad es posible que esa solución de software sea única y específicamente para esa necesidad y luego también es posible que luego esa solución de software se pueda adaptar a muchos otros casos pueden ocurrir muchas cosas todo es posible luego hay otro tipo de desarrollo que es el desarrollo como producto mediante el cual Este es el desarrollo más bonito pero también es el más arriesgado un desarrollador o un equipo de desarrollo planifica un producto desarrolla el producto y vende el producto o el servicio en todo caso siempre que digo producto me puedo estar yendo a un servicio es decir se puede vender luego el software como producto o se puede ofrecer su uso como un servicio vale a partir de aquí eh La idea es la siguiente Y es que claro Cuando hacemos un desarrollo a medida no tenemos ningún grado prácticamente de libertad el cliente nos dice qué es lo que necesita y nosotros lo que tenemos que hacer es un software que solucione el problema del cliente tiene sus pros y tiene sus contras lo el Pro que tiene es que sabemos que vamos a hacerlo bien sabemos que vamos a cubrir una necesidad por qué Porque el cliente nos está diciendo la necesidad antes de empezar el software con lo cual si cuando desarrollamos el software nos preocupamos y evidentemente será así de que lo que estamos desarrollando cumpla con las expectativas que se nos ha encargado pues sabemos que eh el Software que estamos desarrollando va a tener una finalidad que bueno Yo diría que es lo mejor que puede ocurrir cuando desarrollamos un software quiero decir que cada persona digamos desarrolla con un expectativas en mente pero yo por ejemplo cuando hago un software mi principal finalidad es que la gente use mi software porque eso quiere decir que lo que he hecho sirve para algo que lo que he hecho no ha sido una pérdida de tiempo si yo hago un programa y la gente lo utiliza yo estoy contento porque lo he hecho para eso lo he hecho para que le sirva a la gente si yo hago un programa y nadie lo usa entonces he perdido el tiempo podríamos decir a menos que fuera un programa con el cual he aprendido algo al hacerlo Vale que eso también siempre ocurre pero más allá de aprender que evidentemente también está bien pero cuando haces una herramienta lo que quieres es que la gente use la herramienta cuando desarrollas un producto desde cero este tipo de desarrollos son más bonitos desde el punto de vista en el que tú planteas el producto y desarrollas el producto con cierta libertad o con un aparente Espejismo de libertad pero claro Hay que tener en cuenta que lo que desarrollas como acabo de decir pues al final en cierta medida Debería ser utilizado por las personas entonces si lo que desarrollas realmente no coincide con lo que la gente quiere o con lo que la gente necesita Pues cuando llegues a la fase de venta de producto Te darás cuenta Quizás te darás cuenta de que nadie Realmente está interesado en comprar el producto que has desarrollado luego entonces todo esto que habrás hecho aquí te haya costado el tiempo que te haya costado y te haya costado el dinero que te haya costado Pues habrá sido tiempo tirado a la basura Así que En definitiva como digo Pues dentro de estos dos tipos de desarrollo Pues claro Cuando hacemos un desarrollo a medida Eh Esto es fácil acertar porque el cliente es el que eh nos dice lo que quiere que hagamos además Generalmente el proyecto no empieza si no hay un presupuesto aceptado de por medio con lo cual Pues hay una gran certeza de que vamos a cobrar el trabajo que vamos a hacer el desarrollo como producto pues o el desarrollo como empresa digamos pues es una apuesta tú te arriesgas tomas un riesgo supones que te va a salir bien puede ser así Pero puede no ser así que si optamos por esta segunda vía Si en lugar de digamos dar servicio a clientes concretos lo que hacemos Es desarrollar un producto propio pues evidentemente lo que tenemos que hacer siempre es realizar un estudio de Mercado e intentar afinar intentar asegurarnos de que el desarrollo que vamos a hacer pues va a tener digamos un público objetivo al final interesado en poder aplicar en poder utilizar ese desarrollo en cuanto al Software que desarrollamos pues eh En cuanto a la temática del Software eh yo aquí evidentemente lo que recomiendo es Eh pues desarrollar un software en el cual tengamos experiencia previa he oído muchas veces a lo largo de mi vida y a lo largo de mi carrera profesional lo de no puedes hacer cualquier cosa yo no suelo estar muy de acuerdo con eso en el sentido de que eh yo por ejemplo que no tengo A ver cuidado por aquí yo por ejemplo que no tengo ni idea de Medicina Pues yo si fuera yo ahora mismo hacer un software relacionado con el mundo de la medicina en cuanto de un par de pasos me daré cuenta de que tengo el conocimiento del desarrollo de software pero no tengo el conocimiento del mundo médico Entonces qué va a ocurrir pues probablemente voy a cometer errores bastante graves que no cometería si contara en mi equipo con alguien que tenga esa experiencia concreta Así que En definitiva cuando desarrollamos un software me refiero en este caso al desarrollo como producto no con el desarrollo a medida porque cuando desarrollo a medida algo se supone que el cliente que me Está realizando el encargo aportará su knowhow y lo que yo no sepa lo sabrá el cliente supuestamente a veces tampoco ocurre así pero bueno pero cuando realizo un desarrollo como producto es bueno que yo tenga experiencia previa dentro de ese sector porque eso como digo me permitirá no cometer ciertos errores hay diferentes eh diferentes paradigmas y diferentes premisas para desarrollar o no un software Entonces por ejemplo tenemos la opción de desarrollar un software generalista Qué es un software generalista por ejemplo es un software de tipo ofimática recordamos que ofimática son para entendernos documentos entonces Claro yo sé por ejemplo que a una gran cantidad de usuarios les va a interesar el trabajar con un software generalista porque todo el mundo trabaja con documentos pero claro por otra parte o sea es digamos mayor público objetivo pero también voy a tener mayor competencia hay muchos grandes jugadores Microsoft Apple Google que ya tienen programas informáticos de ofimática y que están muy implantados voy a ganar yo en una pelea contra Microsoft o contra Google nunca prácticamente nunca las probabilidades que tengo de ganar en una confrontación frontal son mínimas o tienden directamente a cero si yo me meto en el desarrollo de un software generalista yo tengo que ofrecer algo que no estén ofreciendo los demás tengo que diferenci arme positivamente Cómo puedo yo ofrecer algo que Google no esté ofreciendo es decir cómo puedo tener más potencia que Google Bueno pues ofreciendo algo que Google no pueda ofrecer por ejemplo a adaptación personalización al público minorista vale En definitiva hay que buscar los huecos si los buscamos siempre los hay luego También tenemos el eh software minoritario entonces con el software minoritario hablamos de programas muy específicos programas para segmentos muy específicos que por ejemplo estén desatendidos digamos Alguna algún segmento no s edición de vídeo Aunque hay muchos programas edición de audio es decir segmentos mucho más concretos y mucho más cerrados que algo tan extenso como la ofimática donde ahí La idea es que el público objetivo es menor pero también hay menos competencia Y eso también es importante y la competencia que hay no es tan grande como los gigantes que hay en el software generalista con lo cual podemos competir más de tú a tú hay otra estrategia que son las nuevas tendencias que consiste en hacer software para algo que todavía no existe Pero sabemos que Existirá en un plazo de 5 a 10 años Es decir consiste en dedicarnos a ir donde nadie más está ahora mismo pero claro eh Para ello tenemos que conocer bastante bien el mercado y tenemos que saber Hacia dónde va el mercado Entonces por una parte podemos estar ahí antes que los demás Pero por otra parte también hay que tener en cuenta que asumimos un riesgo vale Ya que nadie ve el futuro realmente Entonces prediciendo el futuro nos podemos equivocar si predecimos el futuro lo que puede ocurrir es que digamos el futuro no vaya a por donde nosotros queremos y eh Y por tanto perdamos el tiempo vale como vemos no hay un modelo único infalible de decantarse por un tipo de software y acertar sino que elijamos lo que elijamos al final nos podemos equivocar y las probabilidades de equivocarnos que tenemos pues pueden llegar a ser bastante grandes vale la idea es que al final pues hay que tomar una decisión se puede también tomar una mezcla de estas tres vertientes podemos hacer un software generalista pero hacer una versión adaptada para minorías y ese Software que podemos desarrollar pues puede incorporar elementos de nuevas tendencias que no tengan nuestros competidores ahora mismo es decir no hay por qué elegir uno de estos tres caminos sino que En definitiva podemos mezclarlos vale Pero sea como sea en cualquiera de los tres de las tres modalidades al final desarrollar un software es algo eh Pues bueno bastante arriesgado desde el punto de vista en el cual tenemos que saber tenemos que ser capaces de definir digamos que el desarrollo que vayamos a hacer finalmente vaya a tener utilidad dentro del Software generalista hay eh dos tipos de software muy concretos que me interesa comentar que son los siguientes dos que voy a poner en pantalla eh Cuando desarrollamos software lo primero que debemos tener en cuenta es bueno Quién está dispuesto a pagar por ese software quién está dispuesto a utilizar ese software Entonces nos damos cuenta de que el mundo empresarial es un filón bastante grande desde el punto de vista en que amente cualquier literalmente cualquier empresa moderna necesita usar software y además nos encontramos con que prácticamente cada empresa es un mundo hay procesos de empresa que son similares pero luego también es cierto que cada empresa tiene sus propios procesos que muchas veces son procesos completamente únicos que no existen en ninguna otra empresa no es mi objetivo al menos ahora mismo ponerme a discutir si debería haber una estandarización tal que pues por lo menos todas las empresas de un mismo sector eh usen unos mismos procesos porque no es mi trabajo Es decir mi trabajo es desarrollar software Si yo fuera un gobierno No lo sé o un sindicato o una patronal o un colegio profesional No lo sé pues igual me preocuparía me movería para analizar si Sería posible o incluso conveniente que todas las empresas de un mismo sector para una misma zona geográfica tuvieran estandarizados y normalizados unos mismos procesos informáticos pero no estoy en esa posición y además Igual hasta no me convendría porque probablemente si estandarizar usarían un mismo Software que sería que seguro que no sería mío sino que sería de una gran corporación Así que a los desarrolladores pequeños Pues a las empresas pequeñas de desarrollo nos conviene que eh cada empresa sea un mundo porque eso nos da pues una cantidad de oportunidades de trabajo muy grande como decía hay dos tipos de software y voy a poner a continuación en la pantalla dos acrónimos no me gusta ponerlos pero eh Cuando uno lleva trabajando muchos años en esto entiende que no hay dos tipos de software hay infinitos tipos de software y no pasa nada y está bien Es decir cuando llevas muchos años trabajando en esto entiendes que cuando tú vas a una empresa tú vas a escuchar cuáles son sus problemas y después de haber escuchado cuáles son sus problemas tú vas a construir soluciones para solucionar sus problemas y tú aceptas como bueno Y como correcto y como cierto y como conveniente que y como Inevitable que cada empresa tenga unos problemas diferentes pero cuando estás empezando a programar y cuando te planteas bueno Cuántos tipos de programa hay el que te digan infinitos Pues no te anima mucho aunque sea una realidad entonces lo que voy a hacer es poner dos acrónimos en la pantalla para englobar para agrupar de forma bastante artificial lo voy a decir una gran cantidad de soluciones de software diferentes entendiendo que lo que voy a hacer por tanto ahora mismo es poner una simplificación para que desde un punto de vista didáctico el estudiante de programación pueda entender mejor o pueda tener una perspectiva mejor de esa complejidad infinita de los programas informáticos a nivel de empresa existe un concepto que es el crm que a su vez es un subconjunto de un conjunto mayor que es un programa un sistema informático llamado erp Entonces el crm quiere decir customer relationship management o lo que en castellano es la gestión de la relación con el cliente o para que nos entendamos hablando en español muy de base es un software para comerciales o un software para la gestión comercial ahora a continuación vamos a hablar de lo que hace realmente un crm un rp es un Enterprise resource planning y es un sistema de gestión de recursos de la empresa y este concepto es muy amplio así como al final el crm lo podemos simplificar mucho diciendo software para comerciales o software para Acción comercial y prácticamente cada empresa tiene una un departamento comercial evidentemente Pues el rp es algo mucho más bestia el rp es todos los procesos de la empresa metidos en un programa informático puede ser todos los procesos de la empresa pueden ser solo unos cuantos hay veces que unos procesos de la empresa están en un sistema informático y otros procesos de la empresa están en otro programa informático y esto hay veces que está bien o hay otras veces en las que la empresa quiere que todo esté dentro del mismo sistema informático En definitiva La idea es que estos dos acrónimos encierran digamos estos dos grandes conceptos vamos a hablar primero de crm yora a continuación hablamos de erp entonces con crm lo que hacemos en primer lugar es tratar digamos trabajar la gestión de los clientes luego dentro de un crm hay clientes y también dentro de un crm hay productos entonces lo que hacemos Es que guardamos los productos que han comprado los clientes y de esa forma dentro de un crm gestionamos la relación con el cliente en un momento dado desde un punto de vista informático podemos saber qué cliente ha comprado Qué producto y cuándo lo ha comprado y podemos luego evidentemente sacar informes vale una parte muy importante de los programas informáticos son los informes vamos a voy a abrir una nueva ventana por aquí al lado para ir apuntando una serie de conceptos básicos de conceptos nucleares Entonces vamos a ver tenemos por aquí que estamos hablando de que un programa guarda información Esto es lo primero que suele hacer un programa de empresa guarda información pues ahora veremos Cómo la guarda vale la guarda en bases de datos documentos vale como sea ahora hablaremos de ello pero de momento lo que está claro es que un programa de empresa guarda información bien a continuación hemos hablado de que los programas generan informes entonces un programa informático ofrece al usuario final informes vale Y luego evidentemente cómo es posible que un programa guarde información Bueno pues Generalmente un programa inform ación un programa guarda información metiéndola a través de formularios digamos que los informes son la salida que nos da un programa y los formularios son la entrada de información para meter información dentro del sistema luego también Muchas veces tenemos otro componente que es el acceso a la información cómo se presenta la información en la pantalla es decir yo pido un informe pero un informe de qué pues yo pido un informe de una información que previamente he filtrado una información que previamente he seleccionado Vale entonces aquí a la derecha estoy poniendo Digamos como una serie de ingredientes que debe tener nuestra aplicación sea cuál sea nuestra aplicación vale vamos a dejarlo esto aquí a la derecha bueno estábamos trabajando con el concepto de crm así que tenemos clientes tenemos productos tenemos o sea tenemos pedidos realmente estos son los pedidos a partir de ahí podemos sacar informes Claro si yo tengo el cliente y yo tengo el producto y tengo el pedido Pues claro puedo sacar la factura no lo cierto es que no lo cierto Es que no porque en el momento en el que yo quiero sacar una factura pues entonces ya no tengo un crm tengo un software de facturación entonces o bien puedo digo Bueno si tengo la facturación o si tengo los pedidos que han hecho los clientes quiero sacar la contabilidad Tampoco porque un crm técnicamente es solo para gestionar la relación con el cliente no es para hacer facturación o para hacer contabilidad pero yo me imagino que yo te estuviera diciendo esto a ti y tú fueras un gerente Y si tú fueras el gerente de una empresa tú me dirías mira ahí me da igual que lo llames crm que lo llames erp o que lo llames ABC yo lo que quiero es un software que me gestione los clientes y que me saque la facturación Quiero decirte con esto que al final las letritas son lo de menos y que el crm englobe únicamente estos conceptos Pues es lo de menos al final lo que importa es que el cliente te diga lo que necesita y que tú le hagas al cliente un software que le solucione el problema y si tú a un cliente le dices Mira un crm y el cliente te dice Necesito sacar facturas tú nunca le vas a decir no imposible eso no lo puedo hacer porque con un crm está prohibido tú le vas a hacer al cliente Claro que sí te hago un módulo que haga facturas y ya está Aunque eso se deje de llamar crm porque eso técnica ente ya no será un crm por eso volviendo a lo que decía al principio del vídeo realmente las letras me dan igual las letras no importan las letras son un poco para englobar grandes partes grandes segmentos de software pero lo que importa al final es que tengas un cliente que tenga una necesidad y que tú hagas una aplicación informática que resuelva esa necesidad eso es lo único verdaderamente importante Vamos a continuar en el siguiente vídeo hablando de los erps el rp teóricamente vale luego se pueden desarrollar múltiples tipos de rp pero el rp teóricamente es como un crm pero a lo Ob bestia dentro de un rp yo puedo tener dentro un crm yo puedo tener un software de facturación y contabilidad conectado evidentemente porque la facturación que saque la sacaré a partir de los pedidos de aquí puedo también tener un módulo de recursos humanos para saber cuántas personas hay la empresa y las vacaciones de Cada trabajador y el horario y cuántos están de baja por enfermedad y yo qu sé y puedo digamos cuando entra a un pedido puedo saber cuántos empleados tengo para atender a ese pedido y eso evidentemente es útil puedo tener un software de producción gestión de la producción entonces En definitiva cuando entra un pedido puedo decir Bueno vamos a ver cuántas personas tengo ahora mismo en plantilla trabajando Cuántos recursos de producción tengo ahora mismo activos Cuántas materias primas tengo dentro de la empresa y En definitiva mi sistema informático me confirma que digamos todo cuadra lo que hace el sistema informático En definitiva es asegurar que la comunicación entre los diferentes componentes pues es la correcta y por tanto hay los menos cuellos de botella posibles y al final un software informático sirve para hacer que las cosas vayan bien un software informático sirve para hacer que las cosas vayan fluidas que vayan rápido y que vayan bien En definitiva Vale entonces por eso es por lo que eh Como yo suelo decir las letras importan poco las letras son En definitiva para entender pues qué es lo que hacen los grandes grupos de programa Pero al final lo único que importa es que dado un cliente concreto tú le digas al cliente dímelo que necesitas Dímelo lo más claramente posible evidentemente y yo voy a hacer un programa informático que te solucione ese problema que me estás diciendo que tienes y ya está Vale eso es lo que al final importa y si alguien por ejemplo te encarga un rp y te dice no es que Eh pues al final solo quiero con facturación y recursos humanos tú no le vas a decir Oye no es que un rp también tiene crm y gestión la producción porque el cliente va a decir qué me estás contando o sea yo tengo este problema hazme una solución informática o implameq solucioné mi problema a continuación por tanto vamos a ver una vez que hemos presentado estos programas informáticos qué soluciones tenemos actualmente en el mercado en cuanto a crm y en cuanto a erp si yo me meto en Google y vamos a ver y dentro de Google Busco por ejemplo crm no crm vale veo que Eh Pues tengo un programa que se llama zendesk tengo sales Force todo esto son crms que se presentan como software como servicio es decir son empresas que han hecho un crm y eh Y te lo ofrecen para que tú evidentemente puedes probarlo y puedes contratarlo y vamos a ver cendes para ventas por ejemplo vamos a verlo y pues me dice Mira por usuario y mes 20 50 100 vale Esto es lo que se llama un software como servicio luego también tengo vamos a ver Download crm tengo paquetes de crm disponibles para descargar Entonces vamos a ver crm gratuito vale Sí pero está en formato online o sea que En definitiva ir al cm gratuito vale Pero esto es básicamente pero úsalo en nuestro servidor también existe Eh pues por ejemplo este Software que te puedes descargar y que puedes empezar a utilizar lo mismo ocurre con el con los paquetes de rp Hay un montón de paquetes de rp que tú puedes ejecutar cada vez hay menos programas informáticos que tú te descargas a tu ordenador si hacemos una pequeña investigación la Wikipedia no realmente en este caso Bueno luego está SAP evidentemente que es uno de los grandes y Oracle es uno de los grandes proveedores de software de rp crm a día de hoy entonces veremos que la gran mayoría de ellos son en formato web si estuviéramos hablando de la década de los 90 si habláramos hace 20 años o de la década de los 80 pues En aquel momento lo que prevalecía era el software de escritorio pero a día de hoy para un software de tipo crm o erp Pues no hay ninguna razón para hacerlo en escritorio o Hay pocas razones para hacerlo un escritorio y todo el mundo lo está haciendo en formato web ahí podemos como digo realizar una investigación para ver qué alternativas hay y para ver digamos precios evidentemente y para ver pues eh Cómo podemos digamos entrar Cómo podemos penetrar dentro de Este mercado la idea Por tanto al final es que tenemos dos tipos de aproximación voy a cerrar un momento esta ventana voy a hacer otra Yo quiero hacer Bueno me falta hablar de otro tipo de Software que es el cms ahora hablo de ese tipo de software vamos a ver pero aquí a continuación voy a decir que cuando por ejemplo me dedico a desarrollar un software para una empresa yo puedo hacer dos cosas puedo una vez más yo no voy a decir lo que es mejor o lo que es peor yo voy a decir qué alternativas tenemos y cada uno evidentemente pues puede debe tomar su camino Vale entonces la idea es esa La idea es que yo puedo por ejemplo implementar un crm rp lo que queramos existente y luego y esto que voy a decir es muy importante y luego ofrecer al cliente la adaptación a sus necesidades Entonces esto qué quiere decir esto lo que quiere decir es que como he comentado anteriormente Esta es una de las grandes verdades de la del desarrollo informático Y fíjate que yo siempre soy de decir que no existen muchas verdades universales pero una de ellas es que cuando implantas un software informático en una empresa nunca el software informático va a satisfacer las necesidades de esa empresa tal cual está instalado nunca la empresa siempre va a necesitar modificarlo adaptarlo a sus necesidades Entonces el concepto de me descargo un rp o utilizo un rp y se lo inserto al cliente y lo cobro es eso no existe eso no es cierto eso es falso es una expectativa falsa siempre vamos a tener que ofrecer al cliente después de la instalación una adaptación a sus necesidades siempre luego entonces lo difícil no es la implementación del crm o del rp en el caso de que ya exista lo difícil es la adaptación a sus necesidades por una razón muy sencilla por ejemplo por poner un ejemplo Insisto Hay un software llamado odo que es un crm y es un rp que podemos Descargar y que podemos instalar y que está hecho ha hecho en python el lenguaje python Entonces es ahora a día de hoy es una alternativa muy buena es un software muy bueno pero ocurre lo siguiente aquí tenemos digamos una comparativa entre diferentes programas informáticos Así que la idea es la siguiente Y es que si yo tengo que adaptar el software informático a las necesidades del cliente yo tengo que conocer Cuáles son las o sea tengo que conocer Cuál es el funcionamiento de ese software Y eso qué quiere decir pues lo que quiere decir es que yo tengo que saber cómo está hecho ese software yo tengo que estudiar cómo está programado ese software para que cuando el cliente me pida modificar ese software Pues yo pueda yo sepa Cómo modificarlo esto que acabo de decir es muy sencillo de decir pero es muy complejo de hacer eh aprenderse aprender Cómo funciona un software como odo un software como SAP un software como sales Force un software como Microsoft dynamics eh lleva meses de trabajo por ejemplo Yo vengo por aquí y pongo Master SAP y veo que hay Masters de SAP vale veo que hay programas formativos que son Masters de por ejemplo en la upv vamos a verlo hay un Master de SAP que dura pues 8 meses 9 meses lo que dure es un máster un año entero para aprender SAP es decir no son programas sencillos no son programas pequeños son programas gigantescos y luego cuando lo hemos aprendido pues ya podemos empezar a trabajar ya podemos dedicarnos a ofrecer ese servicio a las empresas y empezar a modificar sistemas de gestión de la información empresarial no hay ningún problema por esto que acabo de decir realmente es una apuesta tú haces un máster de un año como hay otros tantos más que no dejan de ser apuestas de futuro y eh tú luego lo que haces es amortizar esa apuesta no hay ningún problema Por ello pero no es cierto Sí que tengo un problema con ello el problema que tengo es que yo no sé esta gente de odo Quiénes son es decir odo es una empresa SAP es otra empresa una empresa alemana que ahora mismo es líder en rps Microsoft dynamics quien está detrás de Microsoft dynamics es Microsoft es una empresa muy grande pero yo no sé Yo no tengo ninguna garantía de esos programas cuánto van a vivir Yo no sé si voy a hacer un máster de un año de SAP y dentro de 3 años SAP va a decir Oye mira que cierro la empresa porque no me interesa competir contra Microsoft y qué hago con mi Máster de un año es decir igual no ocurre igual SAP se convierte en los próximos 40 años en el líder de rps y por tanto me vale la pena hacer ese seño de Master o igual no el tema es que no lo sé es mi problema O sea no puedo decir ni que s ni que sí ni que no lo único que puedo decir es que no lo sé y por tanto me parece una apuesta arriesgada luego hay otra alternativa que es desarrollar un rp desde cero entonces claro desarrollar un rp desde cero es una barbaridad es una cantidad de trabajo inmensa es una cantidad de trabajo ingente Es decir cuando instalamos un SAP cuando instalamos dynamics o cuando instalamos odo Estamos instalando un software informático que han hecho otras personas y que ahí dentro de ese desarrollo hay centenares hay miles hay decenas de miles de horas de trabajo que nos estamos ahorrando y que alguien ya ha hecho por nosotros Entonces implementar un rp existente es fácil al principio pero es difícil Cuando tenemos que adaptarlo porque tenemos que aprender un código que además no es nuestro desarrollar una rp desde cero es al principio una cantidad de trabajo ingente pero luego las modificaciones son mucho más fáciles porque conocemos el código incluso hay veces que si el crm lo desarrollamos a medida para un cliente lo que ocurre es que lo desarrollamos ya pensando en las necesidades del cliente con lo cual no hay realmente un proceso de implementación Y luego una adaptación sino que lo estamos desarrollando y lo estamos desarrollando directamente ya en base a lo que el cliente necesita la idea es un poco esa La idea es que una vez más yo no te digo Haz a o haz B yo te digo mira puedes hacer a y que sepas que tiene estas ventajas y estas desventajas y puedes hacer B y que sepas que tiene estas ventajas y estas desventajas Y a partir de ahí ya cada uno decide yo en años anteriores me he dedicado a hacer esto Me he dedicado a implementar crms y rps existentes pero claro el problema es que el mercado cambia y yo me aprendo un rp y un crm y luego de repente ese fabricante desaparece y todo lo que yo sabía lo tengo que tirar la basura y tengo que reaprender los crms y los erps que hay en el mercado en ese momento pues bueno lo he hecho durante una serie de años ahora estoy más en la fase de desarrollar una rp desde cero que cuesta más pero luego el control que se tiene de sfrm y de srp pues es un poco eh digamos más extremo Así que a continuación en el siguiente vídeo Mejor dicho te voy a dar te voy a ofrecer un criterio para tomar la que yo creo que es la mejor decisión en este caso y bueno Y tú ya a partir de ahí pues te quedas o no te quedas ese criterio bien el criterio que voy a indicar es el siguiente vamos a ver yo suelo contar en este caso el chiste del caniche y el doberman Entonces el chiste es un poco cruel vale pero eh El chiste dice que eh un propietario de un perro se compra un doberman entrenado para matar Y entonces se lo compra y se va a un parque un poco para que para enfrentar a su perro contra otros perros digamos o sea para lucir el doberman vale Ya que lo ha comprado para matar pues vamos a liarla Vale entonces se va a un parque Y dice Bueno vamos a empezar poco a poco Entonces ve a otro dueño de perros que tiene un caniche vale y lanza el doberman contra el caniche Así que el doberman vale para que nos entendamos un poco el doberman es este perro vale es este perro de aquí es un perro Pues que todos entendemos que es un perro grande en cuanto a Constitución y el caniche es este perro de aquí para que nos entendamos Vale entonces el dueño del doberman lanza al Doberman contra el caniche Entonces se ponen a pelear y contra todo pronóstico el caniche acaba matando al Doberman Así que el dueño del doberman en shock va hacia el dueño del y dice cómo es posible que tu caniche haya matado a mi doberman tú sabes el dinero que me he gastado en el doberman y el dueño del caniche dice y tú sabes el dinero que yo me he gastado en la cirugía estética del cocodrilo es decir realmente no era un caniche sino que era un cocodrilo con cirugía estética es un caso evidentemente es un chiste por supuesto pero imagínate la cirugía estética que habría que hacerle a un cocodrilo para que acabara pareciendo un caniche Bueno pues este chiste lo que quiere decir es que cuando un cliente pide un desarrollo lo primero que hay que hacer es ver si ya hay un crm o ya hay un rp existente que cubra las necesidades de ese cliente Cómo diríamos out of the Box out of the Box no en este caso no quiere decir pensar fuera de la caja think out of the Box es otro significado out of the Box quiere decir que tú instales el crm y haga lo que el cliente quiere con pocas personalizaciones si tú tienes un crm que hace básicamente lo que el cliente quiere no le programes uno desde cero porque le puedes instalar uno que ya exista y va a ser más rápido y más barato y todo el mundo va a estar contento y todo el mundo va a ser feliz Pero si llega un cliente y te plantea una serie de necesidades muy particulares y te das cuenta de que realmente no hay en el mercado una alternativa de software existente que cubra esas necesidades instalar un software previamente existente y empezar a modificarlo para que cubra es necesidades puede ser un poco como hacer la cirugía estética A Un Cocodrilo para que acabe siendo un caniche es decir igual acabas antes comprándote un caniche es decir igual acabas antes desarrollando un software a medida para las necesidades de ese cliente Entonces esto que acabo de decir por tanto es el criterio de decisión que suelo utilizar yo Y a partir de ahí pues tú úsalo o no evidentemente pero es el criterio de decisión que yo suelo tomar para eh saber si me conviene más desarrollar un software a medida o si me conviene más desarrollar eh un software a partir de la instalación de algo previamente existente y por tanto a continuación Esto me lleva a hablarte del cms como otro de los paquetes de Software que en un momento dado podemos llegar a utilizar Bueno pues hay otro software hay otro tipo de Software que es el cms de hecho técnicamente el cms puede estar incluido dentro del erp es decir el erp es una ensalada que puede incluir ahí de todo cms quiere decir en fin a momento vale cms quiere decir content management System o lo que es lo mismo sistema de gestión del contenido Qué es contenido Bueno pues hay muchas cosas que pueden ser contenido es decir las facturas de una empresa son contenido los documentos de una empresa las cartas de una empresa los correos electrónicos de una empresa pueden ser contenido entonces un cms básicamente al final es un sistema de gestión documental es un sistema informático que se encarga de gestionar de una forma unificada en un mismo lugar informáticamente los documentos de una empresa Pero también técnicamente una página web Por ejemplo si entramos en mi página web no al panel de control No si entramos a la parte principal de la página pues veremos que la página pues tiene páginas a su vez y tiene un blog y en el bl blog hay artículos Y eso también es contenido al final no son documentos de una empresa Pero son contenidos Entonces los cms aparte de ser sistemas de gestión documental para empresa Pues también se utilizan para hacer sitios web un software muy conocido para hacer sitios web para implementar cms pues es este que estoy viendo aquí es el que yo tengo instalado que es wordpress Entonces wordpress es un software es un sistema de gestión de contenido se puede utilizar para muchas cosas se puede utilizar para crear sitios web pero por ejemplo también se puede utilizar para crear sistemas de inteligencia empresarial o lo que viene siendo la gestión documental de una empresa se puede utilizar es decir No solo para páginas externas públicas sino también para páginas internas de información de una empresa entonces La idea es que nos permite gestionar el contenido si un cliente viene y me dice oye Yo quiero hacer una web yo lo primero que le voy a preguntar es dime cómo es la web que quieres crear Y si el cliente me dice Mira Quiero que tenga páginas y quiero que tenga un blog y quiero que tenga un formulario de contacto y una página de inicio yo no le voy a hacer una página desde cero porque me costará un montón y sé que existe wordpress fíjate que mi propia página está hecha en wordpress o sea mi propia página no la he programado desde cero porque ya existe algo llamado wordpress que es más sencillo Y es más rápido y hace exactamente lo que necesito Entonces aplicando el chiste del caniche básicamente si un cliente necesita algo que hace un programa que ya existe en ese caso no se lo voy a hacer desde cero le voy a implantar un programa que ya existe pero si un cliente dice no es que quiero una web pero mi web tiene una tienda pero la tienda no funciona normal sino que la tienda está conectada con no sé qué Y además quiero que cuando alguien compre aquí realmente luego se refleje allá y quiero que cuando alguien compre algo se me gener un archivo que a su vez se envía a esta persona que yo digo esto no es un wordpress esta persona me está indicando una serie de necesidades que son perfectamente válidas desde el punto de vista de esa persona pueden no ser muy estándares pero si a esa persona le funcionan quién soy yo para discutir esos procesos con lo cual no le voy a implementar algo que no solucione sus problemas porque luego modificando Este wordpress voy a gastar mucho tiempo sino que probablemente lo que voy a hacer es realizar un desarrollo desde cero y ese desarrollo desde cero lo que va a hacer es cubrir directamente las necesidades de ese cliente Así que En definitiva hay diferentes criterios que podemos utilizar a la hora de desarrollar un software para saber cuándo nos conviene más hacer una cosa y cuándo nos conviene más hacer otra luego otra cosa que voy a decir y es que eh si yo voy a hacer un cms yo Probablemente lo primero que voy a hacer es que me voy a meter dentro de wordpress y voy a ver qué es lo que hace wordpress Por qué Pues porque wordpress ya tiene un montón de código desarrollado ya ha cometido muchos errores ya tiene muchas acciones y ya tiene muchas soluciones previamente desarrolladas si yo digo Oye cómo es el panel de un control Cómo es el panel de control de un cms Pues yo entro al panel de control de wordpress y yo digo Oye fíjate que qué bien pensado que está todo Fíjate que hay un menú a la izquierda hay una serie de submenús hay unas cajitas yo veo ya una serie de soluciones hechas cuando yo haga mi propio crm yo voy a tener la libertad para hacerlo como quiera pero probablemente conocer como otros han hecho crms me va a venir bien para no cometer errores o para basarme en soluciones que otros ya hayan investigado y por tanto ahorrarme tiempo tropezando en Piedras que otros ya han tropezado de la misma forma cuando haga un rp eh Aunque No utilice odo pero voy a instalarme odo aunque sea en modo prueba y lo que voy a hacer Es que voy a decir mira odo tiene una ventanita aquí con la selección de cada módulo Oye pues queda bonito esto Pues yo podría hacer que mi software tuviera como diríamos vale tuviera ese tipo de ventanitas o esto es el panel de control de un do Oye pues fíjate qué bien queda el menú a la izquierda y luego unas gráficas y luego unos diagramas de árbol cuando yo haga mi propio rp Pues me va a convenir conocer a la competencia no para copiar vilmente a la competencia pero sí desde luego para contar con una serie de soluciones y digamos poder elegir Cuándo me baso en esas soluciones o cuando hago algo completamente diferente vale pero sí que es necesario que pues realicemos un proceso de investigación previa para pues poder analizar qué soluciones tenemos disponibles en el mercado Bueno pues voy a plantear por tanto el desarrollo de un programa informático y lo voy a desarrollar un poco basándome en todo lo que he explicado anteriormente voy a abrir un documento de texto y voy a poner unas cuantas premisas voy a desarrollar un software generalista que ahora mismo está un poco indeterminado es decir voy a empezar el desarrollo teniendo una idea más o menos Clara de lo que quiero desarrollar Pero la idea que tengo no está cerrada del todo todavía y la iremos adaptando un poco a medida que lo vaya desarrollando quiero hacer un software generalista que sea algo así como eh documentos online qué lo hago pues porque eh pienso que es un software que es una apuesta segura dentro de un orden digamos en el sentido de que pues la gente siempre va a necesitar trabajar con documentos por mucho que pase el tiempo y por mucho que cambien las modas Pues un documento es un documento y una hoja de cálculo es una hoja de cálculo y una presentación Es una presentación evidentemente Eh Pues claro en este caso estoy compitiendo con otros programas informáticos de documentos tanto offline como online que de hecho los hay Pero bueno ahora durante el desarrollo veremos Pues cómo trabajar con esto eh hago esto también porque este software me permite en este momento estoy pensando ahora mismo en esto que voy a decir a continuación en la parte didáctica del ejercicio y no en la parte empresarial del ejercicio digamos que el ejercicio tiene una parte empresarial que consiste en Mostrar el desarrollo lo más real posible de una aplicación informática y luego hay un objetivo didáctico que es que el proceso de desarrollo resulte lo más eh completo desde el punto de vista de enseñar a utilizar tecnologías entonces trabajar con este tipo de software pues me permite trabajar por ejemplo con bases de datos de tipo sql por ejemplo para guardar usuarios y guardar productos y guardar pedidos y a la vez me permite trabajar con la metodología no sql para guardar los propios documentos Entonces como decía desde un punto de vista didáctico Pues pienso que puede ser un buen ejercicio para mostrar la implementación Y la integración de estos dos tipos de tecnologías desde el punto de vista de la base de datos Insisto que estoy tomando esta decisión desde un punto de vista didáctico si esto no fuera un curso y fuera un desarrollo que estuviera haciendo yo pues probablemente las decisiones tecnológicas serían lo menos importante pero no es este el caso bien a partir de Aquí vamos un poco a definir qué es lo que hará este software digamos que el software admitirá usuarios los usuarios podrán hacer documentos Entonces eso decir que aquí tenemos ya una serie de cosas digamos que podemos ir marcando vamos a ver vamos a hacer un poco el diseño voy a abrir un navegador voy a abrir Google Drive y voy a crear un nuevo documento de hoja de cálculo para un poco esbozar el modelo de datos de el modelo de datos de la aplicación Así que digamos que por ejemplo pues tendré una tabla llamada usuarios dentro del modelo de datos voy a hacer como una especie de pequeño esquema uml y voy a dibujar por aquí por ejemplo vamos a pintarlo de gris esto lo voy a pintar de negro con el color blanco y esto lo voy a pintar con Pues aquí vale bien como digo es como una especie de pequeño esquema uml Vale pues la información de usuarios Bueno pues los usuarios tendrá el nombre de usuario voy llamarlo usuario la contraseña voy a poner contrasena tendrá el nombre tendrá el apellido y dentro de apellido puede haber apellidos vale tendrá el correo electrónico y Bueno luego pues tendríamos que ver qué datos más introducimos tales como por ejemplo el teléfono la dirección o similares yo lo que me pregunto ahora mismo es teléfono voy a llamar por teléfono a los usuarios pues no con lo cual pues para qué quiero guardar un teléfono dirección postal voy a enviarle una carta postal a mis usuarios No pues para qué quiero guardar la dirección postal vale Así que en este caso digamos voy a empezar con estos Campos y luego más adelante ya veremos si los extiendo Así que voy a copiar esta esquita por aquí y vamos a ver qué más podemos crear bien entonces aquí Bueno me sobran estos dos ahora lo veremos vale luego tenemos eh una vez que tenemos los usuarios tenemos los documentos Vale entonces documentos Bueno realmente aquí me falta Perdón me falta el identificador que es la clave primaria eh aquí Tenemos también el identificador vale Así que en identificador aquí tendría el ID usuario al que pertenece el documento y luego pues bueno estoy pensando que podría a continuación tener digamos el tipo de documento quizás vale Así que en este caso sería el ID del tipo de documento y esto quieras que no pues me está comprometiendo a crear un nuevo elemento dentro del modelo de datos que es tipo de documento que tiene un identificador que tiene un tipo voy a decir tipo y ya está y aquí nada más vale con lo cual Pues bueno vamos a marcar inserto uno a la izquierda vamos a poner esa tabla así no quiero márgenes pero ahora quiero márgenes Así que esto es una clave primaria un primary key esto es una columnita por aquí quito los bordes pongo bordes esto es una clave primaria esto es una clave foránea y esto es una clave foránea inserto a la izquierda vale quito esto de aquí esto es una clave primaria Y esto es un tipo el nombre de un tipo así que por aquí por ejemplo tendríamos tres tablas para poder trabajar vamos a ver en principio dentro de lo que es el modelo de datos de la aplicación de momento seguro que luego salen miles de tablas más pero de momento parece que esto sea lo principal que necesite para trabajar luego habrá que hablar de los tipos de documento que voy a crear en principio parece que los tres tipos de documento que se admitirán oficialmente eh serán pues documentos de texto hojas de cálculo y presentaciones la cuestión es e estos documentos de texto las plantillas por ejemplo Ya que en principio un punto fuerte de esta aplicación las plantillas estarán dentro de la base de datos me hace falta un modelo de datos para eso pues igual no dado que estoy planteando hacer que los documentos sean No sql pues igual las plantillas serán los propios documentos no sql es decir por una parte el trabajo que haga cada usuario se guardará en documentos Pero luego por otra parte pues quizás puedo hacer que las plantillas en sí misma en sí mismas también sean documentos Eso quiere decir que Pues por aquí tendría un tipo de documento pero no realmente los elementos del documento vale Así que yo de momento en cuanto al modelo de datos más adelante seguro que reviso este esquema vale Pero en cuanto al tipo de datos en principio pues no voy a completar nada más bien voy a ponerle un nombre a este proyecto se va a llamar docs por ejemplo y aquí voy a poner doc modelo de datos doc no es un nombre final sino que se me acaba de ocurrir literalmente Pero bueno pienso que es un nombre claro con lo cual quiero decir que no es un nombre final desde el punto de vista en que más adelante desde el punto de vista del marketing ya me preocuparé del naming de este proyecto Y si de quizás puedo buscar un nombre mejor o este nombre colisiona con otro desarrollador o vete a saber qué pero de momento lo voy a usar como nombre temporal para poder empezar a desarrollar Vale ahora a continuación eh dentro de que tengo usuarios dentro de que este software se plantea como un software de organización digamos que habrá un usuario por encima de todos ellos cada usuario tendrá su panel de control y cada usuario podrá crear una serie de eh documentos y luego ya veremos si los documentos son privados solo los puede ver el usuario los puede compartir con otros usuarios ya veremos cómo lo podemos hacer En este caso por ejemplo en el documento tengo un identificador tengo un ID de usuario tengo un ID de tipo de documento puedo eh establecer más parámetros puedo establecer más datos para el modelo de datos Vale entonces eh Por ejemplo voy a introducir un campo que es fecha de creación el usuario no hace falta porque está claro que es este usuario y a continuación voy a eh especificar Por ejemplo con quién está compartido o si es público vale por ejemplo este podría ser un campo buleo que fuera sí o no ahora luego veremos si lo metemos como clave foránea o lo dejamos como un buano un sencillo sí o no y ya está bien y luego puedo especificar con qué usuarios está compartido este documento si este documento puede ser visto desde los paneles de control de otros usuarios Entonces yo a continuación puedo decir lo siguiente puedo decir que compartido pero claro compartido en el momento en el que comparto un documento con múltiples usuarios podríamos decir que esta es una relación de un a n y si es una relación de uno a n porque un documento puede estar compartido con n usuarios podríamos decir que no debería estar desde el punto de vista de la normalización de las bases de datos no debería estar dentro de la tabla de documentos y este modelo de datos ahora luego se acaba convirtiendo en una tabla de una base de datos sino que debería estar en otra tabla aparte sin embargo si lo pongo en una tabla aparte eh luego realmente va a crecer de forma difícil es decir en compartido yo lo que puedo hacer es serializar aquí dentro una serie de datos es decir quiero compartirlo con el usuario uno coma con el usuario dos coma con el usuario 3 coma y así es decir puedo introducir una serie de elementos Dentro de este mismo modelo de datos o bien claro si lo hago así luego hacer un left joint puede ser peor vale o bien lo que puedo hacer es una tabla externa En definitiva un poco la idea es ver que exploremos diferentes tipos de posibilidades Cuál es la mejor no lo sabemos ahora mismo no lo sabemos porque hasta que no lo pongamos en práctica y en marcha no lo podemos saber Así que esto es compartido esto es identificador y ahora lo que voy a hacer es lo siguiente que es ID documento y ID usuario Y entonces esto es una clave foránea y esto es una clave foránea y por tanto de esta forma en compartido ya lo podemos quitar evidentemente bueno podríamos poner compartido sí o no vale En cuanto a la tipificación de datos Pues bueno ahora podríamos venir por aquí y empezar un poco a especificar Cuáles son los datos pues usuario sería un marchar de cuánto Pues no sé igual admitimos 16 caracteres como máximo en la contraseña ponemos un marchar de no sé 30 caracteres por ejemplo en el nombre pondríamos un barar de no sé 50 caracteres como máximo en el apellido otro marchar de 50 caracteres y en el email otro marchar de 50 caracteres en este caso Bueno estamos poniendo números generosos en el sentido de que no harán que la base de datos vaya muy lenta y tampoco van a hacer que lleguemos al límite en el caso de usar mysql en el límite de datos por tabla vale Así que de momento Esto está bien y el ador Pues sería un entero de Pues no lo sé vamos a poner 10 o 15 caracteres Eso quiere decir que con 15 caracteres podríamos estar acogiendo 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 a este número de usuarios Ojalá mi aplicación tuviera ese número de usuarios bien y 15 para todo el mundo vale Y ahora y de usuario por definición un in 15 porque si en usuario en identificador he puesto un int 15 Pues en la clave foránea tengo que poner lo mismo y de tipo de documento claro Cuántos tipos de documento hay Pues es que realmente no hace falta que sea ID 15 vo a poner 4 con cu Podría tener 9999 tipos de documentos diferentes O sea que con un cu pues ya está bien entonces in 4 fecha de creación Pues bueno podría poner un campo date para tenerlo normalizado un campo público pues int 1 es c o un vale o un booleano se me lo admite la base de datos con la que est trabajando todavía tengo que definirlo el compartido pues int 1 o buleo si está disponible en esa plataforma ahora tipo Bueno pues Esto va a ser un marchar de vamos a ver pues no sé de 20 caracteres para el nombre del documento y luego compartido int 15 vale bien y de documento esto es un int 15 y de usuario esto es un int 15 Así que como podemos ver en este caso pues poco a poco vamos completando el modelo de datos y vamos dándole un poquito más de forma a la aplicación lo que estamos haciendo un poco es que antes de ponernos a desarrollar estamos un poco Cuál es la el aspecto de la aplicación y cuál es el aspecto del modelo de datos que luego se convertirá en la base de datos entonces eh desarrollar un proyecto de esta forma desarrollar un proyecto de una forma tan abstracta en cuanto al modelo de datos Y ahora luego hablaremos de los procesos desde el punto de vista del principiante pues puede ser demasiado abstracto puede ser demasiado farragoso ser poco intuitivo Generalmente El principiante suele decir No entiendo qué estás haciendo vamos a picar ya código que tengo prisa por picar código porque en cuanto empiece a picar código veré un poco las cosas pero cuando has hecho ya unos cuantos proyectos antes dices Bueno vamos a ver antes de meternos a picar código y hacer cosas que realmente luego acaben no sirviendo vamos a planificar pero claro planificar puedes planificar cuando ya has hecho aplicaciones antes quiero decir que cuando has hecho aplicaciones antes tú puedes hacer ese tipo de esquemas porque en tu cabeza estás viendo cómo va a quedar la aplicación pero cuando no has hecho aplicaciones antes pues lo que quieres es empezar a programar realmente la aplicación lo antes posible Entonces desde el punto de vista No ya de la creación de Pequeños programas sino de la planificación y el desarrollo y la implementación de un programa un poco más profesional Pues muchas veces vale la pena empezar de una forma abstracta empezar de una forma como vemos pues trabajando con tarjetas con esquemas uml con diagramas de flujo con diagramas de entidad relación pues para ver antes de empezar a picar el código definir un poco Cuál es cuál va a ser la arquitectura de toda la solución luego vemos aquí que Eh bueno tenemos la parte de compartir documentos también por cierto eh los usuarios podrán compartir documentos los usuarios podrán hacer públicos los documentos o podrán mantenerlos privados vale todo esto son requerimientos que en un momento dado pues Tendremos que implementar luego a partir de ahí digamos que habrá un superadministrador que gestione todos los documentos y todas las cuentas de usuario es decir habrá un panel de control para administrador pero luego habrá un panel para cada uno de los usuarios aparte habrá una parte frontal que permita ver a los usuarios externos los documentos compartidos y luego habrá una pantalla de login y Sign In una pantalla que pues nos deje a los usuarios que ya tengan un usuario y contraseña entrar al sistema y a los usuarios que no tengan todavía usuario y contraseña Pues que les permita registrarse Entonces qué ocurrirá Bueno pues lo que ocurrirá básicamente es que eh vamos a verlo Aquí voy a hacer en otra hoja de cálculo un pequeño diagrama de flujo eh podría hacerlo en un documento nuevo realmente da igual o en una en un gráfico dibujos de Google aquí o sea realmente la herramienta es lo de menos O sea lo que me importa es verlo visualizarlo como si lo haces en un folio como si lo haces con boli me da igual pero el tema es verlo la herramienta con la que se hagan los esquemas es un poquito como digo lo de menos bien Entonces vamos a ver formas Eh no voy a seguir la nomenclatura del rombo y el cuadrado y el círculo y todo eso vale Voy a dibujar cuadrados entonces eh yo tengo por aquí que tengo en la pantalla de inicio el login vale dónde estás alineación Aquí tengo el login entonces alguien que hace login dónde va Bueno pues alguien que hace login va al escritorio y dentro del escritorio puede hacer nuevos documentos o puede abrir documentos anteriores Vale entonces pongo por aquí copio y pego vale pongo por ejemplo documento hoja de cálculo y presentación vale un usuario que no tiene usuario todavía no hace el login hace el Sign In para hacer el Sign In primero pasa por un formulario de registro y luego ya entra al escritorio vale donde puede hacer todo esto de Aquí vemos que el software en sí mismo Tampoco busca tener un esquema de flujo demasiado complejo más bien lo contrario de hecho entonces voy a dibujar unas cuantas flechas Okay Y ahora desde aquí vale Así que el esquema de funcionamiento de mi aplicación Pues sería prácticamente este luego realmente cada documento en sí mismo es una pequeña subaplicación vale pero de momento al menos de momento el flujo de navegación dentro de la aplicación es esta que estamos viendo aquí vemos por tanto que pues tenemos por una parte el tenemos por una parte el modelo de datos que estamos empezando a esbozar teníamos por aquí vemos por otra parte el flujo el diagrama de flujo de la aplicación Y a partir de aquí una vez que estamos empezando ya a tener Clara nuestra aplicación es cuando ya podemos empezar a darle forma vamos a ver vamos a por ello y bueno vamos al menos a esbozar lo que sería la parte principal de la aplicación luego también hay que tener en cuenta que si es una aplicación que en un primer momento se va a vender a los usuarios Pues claro la aplicación también tendrá un pequeño cms o por lo menos una pequeña página web en la parte de arriba para vender la aplicación voy a intentar hacerla lo más sencilla posible porque hay que tener en cuenta que este es un proyecto didáctico y tampoco quiero que se convierta en un megaproyecto inabordable es decir tiene que ser un proyecto que finalicemos dentro de esta acción didáctica y que se quede correctamente finalizado y que se quede cerrado Por tanto pues hay que ser ambiciosos pero también hay que ser realistas que muchas veces esto es una de las cosas que más cuesta en el desarrollo de software vale el balance entre ser realista pero a la vez Ser ambicioso pero ni pasarse de realista ni pasarse de ambicioso Vale entonces Esto es algo que vamos a intentar durante el desarrollo de eh este software a continuación vamos a hablar un poco de las tecnologías que vamos a utilizar dentro de este proyecto Así que la idea es la siguiente existen vamos a crear un documento nuevo vamos a verlo por aquí existen varias metodologías de software una es hacerla como software de escritorio es decir hacer eh esta aplicación como un software de escritorio que tenga por ejemplo por aquí abajo un programa y se abra en este caso este desarrollo no se plantea como software de escritorio sobre todo porque tengo por aquí lo habíamos visto antes una función de compartir entonces Eh bueno no es que sea imposible compartir documentos entre usuarios eh con software de escritorio pero evidentemente cuando Quiero compartir ya estoy poniendo un servidor de por medio si no fuera por la función de compartir este software se podría convertir en un software de escritorio y no pasaría nada pero bueno no es lo que quiero y más cuando estamos hablando de un software para una organización queremos que múltiples personas accedan a este software el software de escritorio no parece que sea la mejor opción luego tenemos el software móvil Pero esta aplicación en principio no está pensada no se excluye vale pero no está pensada para que sea una aplicación para dispositivo móvil no es un juego para móvil no es una red social para móvil es una aplicación de productividad es una aplicación empresarial es una aplicación pensada para utilizarse aunque no exclusivamente pero el target principal es la pantalla de un ordenador habría que hacer un estudio de mercado para saber cuál es la vida digamos que le quedan a los ordenadores de sobremesa o a los dispositivos móviles no quiero hacer tampoco un software que se quede desfasado en unos pocos años verdad pero en principio el software móvil no es creo pienso mi target de plataforma de desarrollo y luego tenemos el software en la nube es decir Eh bueno si nos fijamos en cuanto a software de generación de documentos es la tendencia o sea Google Drive ha hecho directamente su software en la nube Microsoft está migrando poco a poco de Office en escritorio A Office 365 en la nube vale Así que en principio sobre todo si quiero un punto de vista colaborativo en los documentos en principio para este proyecto voy a elegir el paradigma de desarrollo en la nube ahora una vez que he elegido el software en la nube pues es cuando puedo analizar qué alternativas tengo es decir si fuera software para escritorio Pues podría hacerlo con c sería un poco duro pero bueno podría hacerlo con c+ má sería también duro podría hacerlo con Java sería algo mejor podría hacerlo con python Java Y python serían buenas alternativas sobre todo teniendo en cuenta la compatibilidad con diferentes plataformas sabemos que cuando hablamos de software de escritorio hablamos de Pues que nuestros usuarios pueden tener Windows pueden tener Mac o pueden tener Linux y en principio nuestro software tendría Debería ser compatible con las tres plataformas en ese caso yo me iría a algo como Java o algo como python para asegurarme que tuviera compatibilidad en el caso de software móvil estamos hablando a día de hoy de Android o de iOS con lo cual me iría a Java o cotlin para Android y luego me iría Pues a Swift para trabajar con iOS en el caso de la nube estamos hablando de que siempre la parte vista estará programada con el Front end digamos estará programado con html más css más javascript y luego en la parte del servidor en la parte del backend podríamos trabajar con php o con Java eh Java Enterprise y o podríamos trabajar con python en el servidor y con algún tipo de servidor de bases de datos en este caso voy a elegir mysql como servidor entonces trabajando como software en la nube Pues en este caso no puedo escaparme prácticamente de la combinación de html más css más javascript ya que si el software va a estar en la nube y Por tanto se va a presentar en un navegador web como una pestaña de navegador web pues para las tecnologías de la capa de presentación estas tres Son las tecnologías que tengo que elegir puedo tener un poco más de elección para la capa de desarrollo en la nube y como base de datos para la parte que sea sql pues bueno en este caso voy a elegir May sql por varias opciones por portabilidad porque es gratuito porque para la potencia que se requiere para este proyecto pienso que la base de datos mysql cumple perfectamente Yo también soy muy fan de python de o sea de python quería decir que también soy fan de python de sqlite pero como la seguridad es un requisito importante voy a ir más a mysql que a sqlite siempre que digo mysql llega a alguien y diga y dice Oye por qué no coges postgresql y yo siempre digo pues no tengo ningún motivo para no posg sql simplemente es que estoy confortable con May sql y nunca he visto la necesidad Aunque en el pasado en algunos proyectos he tenido que trabajar con postgre sql Porque esos proyectos estaban hechos con postgre sql y realmente Siempre me he sentido como en casa es decir siempre he sentido que si venía de May sql metía por sql Y decía Bueno pues ya estoy como en casa o sea no tengo ninguna razón lo digo porque siempre me pregunta la gente no tengo ninguna razón para no elegir por sql simplemente es que bueno pues bueno para lo que quiero hacer pienso que lo que quiero lo tengo en My sql y ya está luego desde el punto de vista de los frameworks pues entiendo que acabaré utilizando algún framework como jquery pero voy a intentar utilizar cuantos menos frameworks mejor para tener el control sobre el proyecto y para no hacer el proyecto con un framework que el año que viene quede desfasado y que mi proyecto automáticamente quede desfasado también quien me conoce sabe que tengo un Pues bueno una Cómo diría yo una bueno bastante predilección por digamos frameworks de los que me permiten trabajar con Eh Pues bueno con plantillas diseñadas para html css y javascript hay varios de ellos pero bueno el de momentín vamos a ver momentín vale como todo el mundo sabe Soy bastante fan de bootstrap y sobre todo Soy bastante fan de vamos a verlo por aquí de los examples bueno de los temas y de los bootstrap examples oficiales de hecho o sea los oficiales los de la propia casa o sea descargo código fuente me lo voy a bajar aquí al escritorio voy a descomprimir y todo el mundo sabe que soy muy fan de vamos a ver dónde están Sí pero no bueno Vamos allá Aquí vale tendría que ejecutarlo en un servidor y por ejemplo de estos Pues tengo esto para hacer una vista de álbum fantástico tengo esto para hacer una vista de pricing lo necesitaré en mi producto perfecto puedo utilizar esto para hacer un checkout En definitiva soy terriblemente fan de las plantillas de bootstrap pero fijémonos en este caso que Eh Pues hay una nueva versión o sea actualmente tenemos la versión 51 que ha salido como digo no quiero Descargarme no quiero basar mi proyecto en la versión 5 de un framework y que dentro de un año esté la versión 6 y cuando veas este vídeo digas ostras pero si esto ya está desfasado vale prefiero reducir la carga de frameworks aunque ya te digo que muchos de ellos me enamoran por la cantidad de trabajo que te permiten automatizar y el tiempo que te puedes ahorrar y las funciones que aportan y lo bonita que pueda quedar tu página web lo sé perfectamente pero prefiero dar un poco más pero asegurarme que mi proyecto si queda desfasado sea por cosas que tengan que ver conmigo no por motivos digamos ajenos a mí así que En definitiva vemos Que nuestro proyecto ya está un poquito más esbozado y vemos Que Eh pues tenemos un principio Ya irá creciendo pero un principio de modelo de datos tenemos un principio de diagrama de flujo aunque nos falta por aquí el tema del Sign In el checkout y todo esto tenemos el la elección de tecnologías que vamos a usar en el proyecto con lo cual tenemos ya información suficiente para ponernos a picar código para ponernos a programar pero no ir a ciegas sino tener una idea Clara de qué es lo que queremos hacer y cómo lo queremos hacer Y por qué lo queremos hacer antes de empezar a desarrollar y con el objetivo de eh de poder trabajar digamos voy a hacer otro iba a hacer un gráfico con in escape Pero bueno lo puedo hacer con Google Drive voy a hacer otro gráfico que representa la parte frontal y el panel de control de una aplicación Entonces como decía voy a hacer un dibujo de Google y generalmente en una aplicación informática Muchas veces tenemos la parte vista y luego tenemos la parte oculta Así que voy a hacer finalmente se hace un triángulo vale se puede hacer el gráfico que se quiera evidentemente pero en principio tenemos un triángulo y a continuación voy a dibujar una línea entonces todo lo que hay por encima de la línea es lo que ve el usuario cuidado aquí un momentín es lo que ve el usuario final digamos Esto es lo que es visible en la parte de fuera y luego tenemos digamos la parte de dentro vale tenemos la parte de eh en los paneles de control los gestores entonces a partir de aquí en esta primera parte de arriba voy a tirar esta Lía un poquito más abajo digamos que podríamos tener por ejemplo pues Por una parte el cms es decir esto de aquí podría ser el cms que es el sistema de gestión de contenido es el sistema que nos permite digamos pues gestionar qué es lo que marca la web y luego por otra parte voy a duplicar luego por otra ap parte podríamos tener los propios documentos cuando se hagan públicos Así que esto es lo que la gente va a ver pero claro para poder controlar esto pues tiene que haber una serie de paneles de control Entonces digamos que en este caso pues por ejemplo habrían dos tipos de panel de control a este nivel que es que por una parte estaría el panel de control del cms pero luego por otra parte estaría el panel de control de eh cada uno de los autores de documentos y luego en la parte de bajo del todo habría un super panel de control es decir vamos a definir un poco los roles que tendría esta aplicación probablemente al escribir un poco esto en un texto vamos a entender mejor cómo vamos a enfocar el desarrollo de esta aplicación Entonces tenemos por una parte los usuarios de los documentos y los vamos a poner en otro rol diferente usuarios de la web son usuarios que ven la web o son usuarios que ven los documentos que otras personas han compartido estas personas no tienen acceso a ningún panel de control pero sí que tienen acceso a esta parte de aquí arriba digamos que están por encima de esta línea de flotación los usuarios de la web Pues ven la web y los contenidos y eventualmente se pueden convertir en usuarios vale Así que esos son dos tipos de usuarios de la web un poco superficiales pero bueno usuarios Al fin y al cabo luego tenemos el administrador de la web como cms entonces publica noticias en el blog crea contenido en páginas se asegura que todo de que todo lo que sea que todo esté en orden y al día es un usuario que gestiona digamos un cms y como gestor del cms tiene su panel de control Así que aquí estamos hablando de un usuario aquí estamos hablando de otro aquí estamos hablando de otro luego tenemos el usuario de la web el usuario que se ha creado un usuario en la web dispone de un panel de control desde el cual gestiona sus documentos y únicamente sus documentos y luego tenemos el usuario superadministrador que gestiona realmente toda la web realmente gestiona todas las cuentas de usuario vale Así que vemos por tanto que al final aunque los usuarios vayan a estar eh digamos todos dentro de la misma web pero Eh Al final cada uno va a tener su acceso diferente eso nos va a ayudar a definir la base de datos y nos va a ayudar a definir la programación y nos va a ayudar a definir los accesos Entonces vamos a ver por aquí vamos a recientes vamos a esto el modelo de datos Y aquí en el modelo de datos pues puedo actualizar el modelo de datos vamos a verlo un momentín puedo actualizar el modelo de datos para decir que en la misma base de datos aquí ya sería discutible si es conveniente o no es conveniente hacerlo en la misma base de datos es algo que en un momento dado podemos hablar pero eh tengo por aquí el cms no tengo un identificador Esto no es foreign key no es una clave foránea y voy a decir pues eh elemento y contenido y ahora veremos si esto es suficiente para el para lo que queremos y luego eventualmente si queremos incluso podemos hacer idioma vale el idioma que nos va a servir para identificar pues cada contenido digamos en qué idioma está bien tengo por aquí el cms y luego pues voy a tener otra tabla vamos a verla que es el blog Así que el blog pues fecha título contenido y yo creo que más o menos pues ya es un blog muy sencillo es un bl mu billete pero por lo menos pues nos sirve para empezar a trabajar así que de alguna forma conforme vamos definiendo más la aplicación pues vamos viendo que la estructura del modelo de datos va creciendo vamos viendo que tenemos una serie de tablas que son la parte vista de la web tenemos por una parte pues los usuarios los documentos el tipo de documento esto de aquí es lo que verá el gestor del cms el superadministrador probablemente verá tanto los usuarios como la gestión del cms o quizás habrá un administrador de usuarios y luego habrá un administrador de cms o quizás Vete a saber vale En definitiva Ahí es donde podemos ver un poco pues qué es lo que qué es lo que vamos a ir haciendo luego también eh podemos ir haciendo Aunque realmente los usuarios se pueden registrar solos pero algo así como una gestión digamos de tienda online que haya un plan inicial gratuito y que luego la gente pueda comprar eh un plan superior con más documentos con lo cual aquí en usuarios Pues aparecería un parámetro que es tipo de plan no lo voy a introducir ahora ese parámetro pero lo puedo introducir más adelante Generalmente en diseño de base de datos pretendemos intentamos al menos eh previsualizar todas las necesidades que vamos a tener para no ir modificando el modelo de datos una vez que el programa está en marcha Pero bueno si es necesario Modificar el modelo de datos mientras el desarrollo está en marcha Pues bueno pues se hace que tampoco hay realmente ningún problema Por ello vale Así que ya tenemos Pues un poco más una idea de cómo queremos hacer la aplicación y eso quiere decir que ahora cuando nos pongamos a escribir código pues tendremos más claro exactamente qué es lo que queremos hacer y cómo lo queremos hacer ahora por tanto con toda esta información que hemos ido recogiendo en los vídeos anteriores lo que vamos a hacer es lo siguiente me voy a ir a abrir un nuevo proyecto me voy a ir aquí a ht docs voy a crear un nuevo proyecto que se va a llamar Doc de momento va a heredar este nombre y ahora voy a hacer lo siguiente dentro de doc voy a crear una serie de archivos los voy a crear con brackets los puedo crear con brackets los puedo crear con aptana da igual Es decir lo puedo hacer con cualquier tipo de software voy a crearlo con aptana y con aptana básicamente aptana es un entorno de desarrollo es un ID por tanto al final me permite trabajar igual que cualquier otro software podemos hacerlo como queramos Lo único es que aptana pues una de las ventajas que tiene vamos a ver por aquí vamos a ver y dentro del local file System es que nos permite crear digamos un nuevo proyecto por ejemplo aquí proyecto php vale esto se va a llamar doc y va a estar aquí vamos a ver va a estar en eh ht doc Aquí bien va a ser para en este caso esta versión de aptana no tiene todavía las versiones 7 y 8 de php tampoco es un problema muy grande Tampoco voy a empezar a usar directamente todas las novedades de php7 php8 lo cual voy a dejarlo en php 54 y eh le digo Finish Vale entonces aquí tengo pues veo que tengo eh un proyecto doc Vale y aquí lo que puedo hacer es crear un file voy a crear un file que es el archivo index.php eh puedo hacerlo con este y voy a comprobar que efectivamente ahí dentro de doc ha aparecido un archivo index.php puedo hacerlo con aptana puedo hacerlo con eclipse puedo hacerlo con netbeans puedo hacerlo con eh visualstudio.net o con la versión de web de visual Studio code puedo hacerlo con brackets me da igual Es decir para lo que es el desarrollo del ejercicio el entorno de desarrollo en el cual estemos utilizando para mí no importa prácticamente nada importa un 0,1 por. Porque todos me van a dejar hacer lo mismo todos me van a dejar hacer archivos hacer carpetas entonces por eso digo que yo estoy usando aptana Y eso no quiere decir que tú tengas que usar aptana me da igual al final el ID que uses porque al final no es más que un editor de código en este caso lo que estoy haciendo es usar aptana porque cuando cree un proyecto me va a dejar ver correctamente las carpetas y las subcarpetas que voy a ir creando V es la única razón por la cual he trabajado con estoy trabajando con aptana bien pues ahora dentro de doc voy a hacer una subcarpeta voy a hacer un folder llamado pues por ejemplo cms Sí vale entonces Index va a llamar a elementos del cms y dentro de cms Pues voy a crear elementos tales como por ejemplo el header.php lo podría poner en castellano lo podría poner en inglés eso me da un poquito igual ahora voy a crear un footer.php y ahora pues por ejemplo voy a ir preparando las páginas de Eh pues inicio.php y Eh pues productos php y contacto.php o sea algo sencillito contacto.php ya está y ahí tengo una serie de páginas iniciales para lo que es el cms que luego igual hacemos más No lo sé pero de momento lo que quiero que quede claro es que a partir de un archivo Index principal pues tenemos una subcarpeta que digamos tiene todo aquello que contiene el sistema de gestión de contenidos al menos desde el punto de vista de eh digamos có diría yo de la parte vista vale de la parte frontal de la web y luego voy a crear otra carpeta que voy a llamar por ejemplo No lo sé intranet Esta es la carpeta a la cual accederán los usuarios que vayan a hacer documentos dentro de la web y luego voy a crear otra carpeta y luego voy a crear otra carpeta llamada eh vamos a verla por aquí admin no es un nombre muy original de hecho más adelante por seguridad informática lo cambiaré pero ahora mismo por Claridad lo voy a dejar con el nombre de admin para que se entienda un poco qué es lo que hace y qué es lo que tiene Entonces de hecho incluso todo esto estos archivos los podría poner en una carpeta vamos a renombrar esta carpeta rename la voy a llamar Inc de includes y voy a hacer una carpeta vacía cms y así Dentro de la carpeta cms tendré aquí en intranet tendré el panel de control de cada usuario con sus documentos aquí en cms igual lo que haré es tener el panel de control del cms y dentro de admin tendré el panel de control de toda la aplicación completa vale vamos a empezar a meter contenido vamos a empezar a meter contenido y vamos allá vale me voy al archivo principal y voy a empezar a escribir vamos a empezar ya el proyecto doc type html voy a hacer esto un poquito más grande para que se vea mejor y html no Esto está mal vale html Head Body Vale y digo eh h1 Bueno voy a hacer vamos a ver voy a hacer un heer voy a hacer un Main y voy a hacer un footer voy a intentar mantener la estructura de la web lo más sencilla posible dentro del header voy a hacer un h1 doc y ahora voy a abrir el mamp como estamos trabajando con un proyecto de php pues tenemos que abrir un servidor local está arrancando vale Y si todo va bien pues entramos en local Host docs y veo ahí que pone docs vale ya tengo mi carpeta correctamente arrancada ya tengo mi carpeta correctamente iniciada Ahora aquí pues es donde meteré la información principal la página de la web no lo parece ahora mismo pero esto realmente ahora veremos que se va a convertir en una web lo puedo ver fácilmente si pongo pues link rel es igual a Styles sheet y href es igual a entro dentro de la carpeta Inc y cargo el archivo estilo.css Entonces ahora dentro de la carpeta Inc pues creo un archivo que se llama estilo.css y el estilo.css pues va a hacer algo como header va a tener un estilo Mine va a tener un estilo y eh footer va a tener un estilo y de hecho Body va a tener un estilo entonces background rgb whis 400 píxeles background White eh margin auto y H 100 píxeles por ejemplo Así que comprobamos como ya tengo por ahí pues un fondo y tengo por aquí el docs y ahora voy a hacer esto mismo voy a copiar esto dentro de main la altura de 400 y lo copio también en el footer vale con lo cual tengo una página con un poquito de estilo con un poquito de estilo vamos a poner aquí un padding de 20 píxeles lo ponemos también para el resto de elementos vale Y aquí Pues dentro de Index en el Main vamos a decir que aquí va el contenido principal y esto es copyright 2021 José Vicente carrat así que aquí va el contenido y el pie de página tenemos ya digamos la estructura principal de la página vista vale tenemos la estructura principal de eh la página digamos que sirve de eh inicio de visualización luego crearé un menú y una serie de cosas pero ahora de momento no ahora de momento lo que me interesa es empezar a dotar de contenido al resto de eh inicios de sesión ahora La idea es que podemos hacer eh Pues digamos inicios de sesión Así que para gestionar el cms tendríamos un Index php voy a crear un pequeño documento html y voy a hacer un inicio de sesión entonces eh voy a hacer un Head voy a hacer un Body y aquí voy a hacer un pequeño formulario donde el action sería un login.php de momento el method sería un post y dentro del form tendría un input type text name usuario tendría un input type password name contrasena no quiero enviar eñes en este caso y un input type submit Vale entonces luego evidentemente a esto le tengo que poner estilo Por supuesto que sí vale Pero sobre todo lo importante es que si yo estoy aquí y digo vale Ya no quiero la parte vista de la web Ahora quiero entrar en el panel de control pues me voy a cms y tengo aquí el inicio de sesión evidentemente esto parece un formulario muy cutre porque lo tenemos aquí arriba está en fin Pero si yo ahora vengo por aquí y le pongo un poquito de estilo ahora luego lo externalizar ahora luego sacaré el estilo fuera y digo Body eh tiene un background de rgb 240 com 24,240 y el formulario tiene un wid de pues 400 píxeles y un High de 400 píxeles y un padding de 20 píxeles y un margin auto y un background White este margin va Aquí voy a hacer el texto un poquito más pequeño Vale pues ya tengo eso ahí vamos a hacerlo de 300 por 300 vale Y ahora vengo por aquí y digo Bueno pues el input va a tener un Wi del 100% y un margin top de 10 píxeles y un margin bottom de 10 píxeles vamos a verlo Qué pinta tiene esto ahora Ok esto ya tiene Otro aspecto y ahora el input por ejemplo le voy a decir que Border es cer pixels yading top no cco píxeles y padding bottom de 5co píxeles vamos a verlo vale vemos ahí como Pues poco a poco va cambiando el aspecto Vale entonces un poco la idea es esa Tampoco voy a profundizar mucho más voy a hacer una cosita solo un detallito en el form voy a decir que va a tener un Box Shadow de cer píxeles 10 píxeles 20 píxeles rgba 0,0 com. 3 y voy a decirle que tenga un borde radius de 10 píxeles entonces pues bueno para que veamos que la idea es que con el mínimo número de líneas posibles pues quiero hacer algo lo más chulo posible entonces dicho esto si yo sé que por ejemplo si yo me voy a bootstrap examples y localizo uno que es el formulario de contacto es un formulario chulísimo por ejemplo este mismo es un checkout pero bueno entonces yo me voy a ver el código fuente de la página y yo veo que aquí hay una cantidad de código como podemos ver bastante respetable bastante grande eso es el solo el código html y ten un tiene un Deep Class y tiene un h6 y tiene un small y tiene un de todo vale Y luego Aquí tengo el css y esto ya es el css de bootstrap entonces Eh muchas veces cuando arrancamos un proyecto y cuando digamos estamos creando nuestros primeros proyectos queremos ver código queremos trabajar con mucho código y parece que Cuanto más código tiene un programa mejores Vale entonces Muchas veces cuando yo hago esto en clase cuando yo hago esto en las clases y intento hacer eh un programa intento hacer algo con la menor cantidad de código posible hay veces que la gente se ve un poco eh Cómo diría yo decepcionada porque dice Oye es que yo suponía que hacer un login iba a ser mucho más código y es como que lo veo tan sencillo que me decepciona y yo siempre digo no lo puedo hacer mucho más complejo lo puedo hacer infinitamente más complejo Y probablemente eso te haría estar más cómodo pero estoy cansado de crear proyectos que al final son innecesariamente complejos Entonces al final no digo que este login lo haya acabado ya vale queda muchas cosas por hacer pero al final yo intento hacer lo máximo posible con el mínimo posible entonces verás que eh Por ejemplo donde otros gastan centenares de líneas para hacer un formulario de inicio yo voy a gastar si puedo cinco y ni una más y cuantas más pueda recortar mejor y cuantas menos propiedades cs se ponga mejor porque no es este login y el la intranet y el del admin y el de Y luego el Index y luego y todo lo que hay que hacer si para Cada tontería si para cada archivo tengo que hacer un montón de líneas de código al final me voy a cansar vale por eso es por lo que pues hay otros docentes que lo que hacen un poco para impresionar a sus alumnos es crear muchas líneas de código y así el alumno dice Wow muchas líneas de código Este programa tiene que ser bueno yo no sigo Esa filosofía no sigo esa metodología conmigo vas a ver que yo voy a intentar hacerlo todo lo más sencillo posible y que funcione evidentemente una vez que tenemos esto Una vez que tenemos el Index php dentro del cms puedo copiarlo y puedo pegarlo dentro de la Administración Así que voy a crear un index.php dentro de admin y a continuación voy a crear otro index.php dentro de la intranet Así que si estamos por aquí pues a continuación por tanto ya tenemos los tres paneles de control y una vez que tenemos los tres paneles de control vamos a cerrar esto por aquí vale vamos a ver bien una vez que tenemos los tres paneles de control pues ya podemos ir por una parte a la parte principal página principal ya sabemos que teníamos el cms luego tenemos el panel de administración y luego tenemos la intranet Así que a partir de aquí pues cada uno de los logins cada uno de los paneles de control nos llevará cada uno de los formularios de acceso nos llevará a la parte correspondiente voy a uno de ellos y lo que voy a hacer es pues darlo de alta en el sentido de que pues esté lo más completo posible para poder empezar a trabajar vamos a empezar con lo más sencillo que es el cms Así que a continuación probablemente es un buen momento para empezar a implementar el modelo de datos dentro de la base de datos entonces me voy a ir a php my admin vamos a cargar un php by admin Bien voy a crear una nueva base de datos que se va a llamar doc que va a estar en español bien y este doc en privilegios va a tener voy a agregar una cuenta de usuario con usuario doc en local Host contraseña doc esto evidentemente lo hago para desarrollar Y por supuesto Pues en un momento dado cuando implementos esta aplicación en un entorno real pues pondremos un usuario y una contraseña más fiables digamos más difíciles de averiguar por un pirata informático Así que vamos a el modelo de datos y vamos a convertirlo en este caso en Tablas de una base de datos nos vamos a Doc y voy a crear una tabla llamada usuarios que va a tener un dos 3 cu Tengo seis columnas y las columnas van a ser el identificador entero de 15 es un índice primario y autoincremental el usuario es un parchar de 16 caracteres la contrasena es un barar voy a ponerlo de c caracteres porque luego he estado pensando que la contraseña realmente irá codificada irá protegida Así que no serían 30 caracteres luego tendemos un nombre que es un marchar de 50 caracteres tenemos unos un apellido unos apellidos marchar de 50 caracteres Y tenemos un email que es un marchar de 50 caracteres continuamos creando una nueva tabla que es la tabla de documentos el nombre es aquí identificador es una clave primaria de 15 elementos clave primaria y autoincremental a continuación voy a poner fk usuarios nombre Esto será fk tipo documento bien Esto es fecha de creación bueno lo de antes era un entero de 15 esto es un entero de 15 fecha de creación es un date vamos a Añadir unos cuantos Campos más y decir que tenemos público vamos a ver por aquí pues bueno tenemos un bullan vale Y tenemos compartido que es un bullan vamos a ver si todo ha ido bien que yo creo que sí le damos a guardar vale ya tenemos por aquí todos estos elementos ahora tipo vamos a ver tipo documento vamos a crear una nueva tabla tipo documento identificador entero de 4 clave primaria autoincremental Y esto es tipo es un barar de guardamos nueva tabla compartido tiene un identificador entero 15 de longitud es una clave primaria autoincremental tengo un fk documentos por ejemplo título es una clave primaria de 15 y fk usuarios nombre que es una clave de 15 vamos con la parte de cms vamos con la parte de cms Así que cms identificador entero 15 índice primario autoincremental Y esto es elemento es un barchart de 15 no de 100 es un contenido es un text puede ser un texto grande y idioma código de idioma que es un barch Bueno voy a poner cinco hasta cinco caracteres Vale ahora por último el blog tiene un identificador clave primaria autoincremental es un campo entero con 15 de longitud fecha es un date título es un text y contenido es un texto Así que con esto como podemos ver pues ya tenemos nuestro modelo de datos implementado y por tanto ya podemos empezar a introducir elementos así que por ejemplo voy a empezar a introducir elementos dentro de la base de datos vamos a empezar por algo sencillo Empezando por el cms vamos a continuación vamos al cms y voy a insertar algo de contenido por ejemplo pues el elemento va a ser el título contenido docs idioma español continuo inserto subtítulo crea tus documentos en la nube es y continúo y inserto Eh pues pongo copyright 2021 José Vicente carratalá Y esto es en español así que una vez que tengo estos elementos ya metidos dentro de la base de datos Ahora puedo eh llamarlos digamos puedo eh consultarlos desde Pues el archivo php voy a ocultar de momento esto ya que de momento el modelo de datos ya ha sido convertido a una base de datos Y ahora voy a cerrar un momento todo esto y me voy al Index php y pues bueno voy a llamar digamos a unas ciertas cosas así que vengo por aquí me voy a conectar a la base de datos una forma de hacerlo y eh digo lo siguiente vamos a ver php mysql Select vamos a uno de estos el más sencillo posible este no y este sí vamos a ver no vamos a un While este me vale Así que yo Me conecto a local Host con el usuario doc con la contraseña doc a la base de datos doc a continuación realizo una consulta y digo Select all selecciono todo from cms y ahora voy a realizar un While Así que vamos a ver resultado es igual utar la consulta y ahora pongo este While Así que ahora a continuación voy a decir lo siguiente vamos a ver cms de fila eh contenido creo que es vamos a verlo no me acuerdo de fila elemento Perdón es igual a contenido Ahora sí esto qué quiere decir pues esto quiere decir que acabo de meter todo el contenido de la tabla cms en una matriz php no es una tabla muy grande no va a ser muye no se espera que sea muy grande por eso puedo hacer esto que es meterla toda en una matriz y ahora en el h1 voy a poner pues php eco cms y título y ahora puedo venir aquí y decir h2 php eco cms esto es subtítulo y ahora puedo venir aquí y puedo pegar y esto es copyright si esto ha ido bien Y en principio debería haber ido bien si me voy ahora a la página principal me voy a la página principal ahora habrá que poner doc crea tus documentos en la nube y José Vicente cala es decir lo que ocurre en este momento es que el contenido de la página en este caso principal está saliendo directamente de la base de datos lo estoy sacando de la base de datos luego más adelante si yo cambio el eslogan de la página web pues Únicamente lo tengo que cambiar en un sitio y se cambiará en todas las páginas lo cambiaré en la base de datos y se cambiará dinámicamente en el resto de páginas no nos hace falta por supuesto hacer el panel de control para acceder a ese cms Pero eso lo vamos a ir desarrollando a medida que vayamos desarrollando esta aplicación por supuesto bien Ahora vamos a ir creando diferentes elementos cuando hago un Main pues Generalmente al menos en la página principal puedo venir por aquí y decir que Inc Pues voy a ir a inicio Entonces por ejemplo voy a hacer php include Inc inicio.php Y eso quiere decir que a continuación me voy a ir a inicio voy a poner Hola Y si ahora recargo Pues aquí aparece Hola lo cual quiere decir que cuando llega a esta parte principal en lugar de cargar aquí el propio documento voy a cargar de momento lo que ponga aquí dentro de inicio así que dentro de inicio voy a crear un section que es un banner y una vez que tengo el section voy a crear tres article creo un artículo de hecho voy a un poco de texto msum un poco de lipsum.com igual no tanto Vale pues ya tengo esto tengo tres artículos vamos a verlos bien y aquí empezamos a tener nuestra página web Entonces ahora vamos a empezar a modificarla un poco bien 800 píxeles de ancho vamos a ver aquí bien Ahora banner with 100% height 200 píxeles y de momento un background rgb de 20022 simplemente lo que estoy haciendo es hacer un poco de hueco para un banner y más adelante pondremos ahí el contenido del banner ahora en cada uno de los tres artículos voy a hacer lo siguiente voy a poner una etiqueta p es más correcto Así que pego vale Y ahora es cuando puedo decir lo siguiente article with 33 por float left que flote en al izquierda vale ya vemos ahí comoo están flotando Y ahora por tanto puedo decir article p padding de 10 píxeles y text Aline de justify y ahora tengo ahí pues los tres textos digamos que contendrán pues los tres argumentos principales de la página principal lo típico de Pues esta aplicación es la mejor con esta aplicación vas a poder hacer un montón de cosas y pues apúntate ya a esta aplicación vale de momento estoy desarrollando una plantilla de una página principal Pues lo más sencilla posible digamos para que con el menor número de líneas de código posible pues podamos tener una página lo más bonita y lo más limpia y lo más aparente y lo más efectiva posible bien tengo Ya esta página por aquí Entonces ahora Bueno voy a poner un momento el aquí en inicio esto es h3 mensaje del banner Y esto es p eh descripción del banner Entonces ahora recargamos mensaje del banner vale No pasa nada hasta ahí y ahora pues digo lo siguiente digo banner h3 es spading 20 píxeles No lo sé vamos a verlo okay Vale parece que sí y e banner p es igual a padding 20 píxeles No lo sé tenemos eso ahí de momento más adelante ya lo juntaremos y todo esto pero de momento tenemos esto de aquí vamos a poner también algunos separadores dentro de css estilos generales vale estos son los generales y ahora voy a poner por aquí estilos página de inicio y así un poco empezamos a marcar diferentes secciones en el css Y empezamos también evidentemente mientras vamos escribiendo a hacer que nuestro código sea Pues lo más legible posible y que tenga un poco siempre eso una sencillez no Traducir del latín siempre una un equilibrio entre sencillez y resultado bien con esto Qué vamos a hacer ahora Bueno pues poco a poco vamos convirtiendo esto en Eh bueno en una página estática Vale entonces perdón una página dinámica quería decir entonces vengo por aquí y digo esto es banner título Este es el título del banner en idioma de momento español estoy preparando esto para que más adelante esté en diferentes idiomas eh banner eh texto Este es el texto que encontramos dentro del banner en español continuamos insertamos y ahora esto es e inicio caja un Este es un bloque de texto que vamos a encontrar en la primera caja del inicio por ejemplo idioma español y voy a duplicar este registro copiar inicio caja dos y copio y inicio caja tres Ok contin continuo Ya tengo todo esto en la base de datos de momento lo tengo en español más adelante ya lo cambiaré a otro idioma pero de momento lo que voy a hacer es ahora convertir esto en Dinámico para que toda la web sea dinámica realmente Así que copio esto por aquí me voy a inicio y digo esto es banner título esto es banner texto y esto de aquí a ver y esto de aquí es no me acuerdo es inicio caja un Así que copio esto de aquí inicio caja dos inicio caja 3 y si todo ido bien Ahora me vengo aquí a la página principal recargo y ya lo tenemos es decir tenemos lo mismo de antes pero ahora el contenido está saliendo de la base de datos en lugar de ser un contenido estático por tanto estamos empezando a crear una web dinámica que en este caso evidentemente nos sirve para crear la web del proyecto Pero más adelante evidentemente nos puede servir para cualquier otra finalidad a continuación vamos a hacer el resto de páginas para este sitio web recordamos que tenemos la página de inicio la página de productos y la página de contacto como mínimo Así que voy a hacer lo siguiente aquí donde pone inicio voy a hacer un concentrador un poquito más elaborado insisto tampoco mucho lo justo y necesario entonces voy a decir si existe si está declarada si set la variable de navegador llamada página p por ejemplo o como queramos realmente el nombre es lo de menos en ese caso pasará algo en otro caso pasará otra cosa entonces en caso contrario lo que va a hacer es que me va a ir a inicio php y si está declarada en ese caso va a ir a va a ir a getp ahora luego hablaremos de bueno de Hasta qué punto esto puede ser seguro desde el punto de vista de la seguridad informática pero aunque nunca se me olvida la seguridad informática ahora mismo no la tengo en mente ahora mismo para desarrollar más adelante para adaptar el desarrollo sí que la tendré en mente Entonces esto quiere decir que yo ahora lo que voy a hacer es que dentro del header por ejemplo voy a crear un menú de navegación que va a ser una lista no ordenada y dentro de la lista voy a poner el enlace a inicio voy a poner el enlace a inici será una hrf a nada Es decir irá directamente sin parámetros Y entonces voy a decir que a p es igual a contacto productos es igual a productos y contacto es igual a contacto si esto va bien Ahora me voy a la página recargo veo que tengo ahí un menú basado en una lista ahora con css lo ordenamos un poco pero sobre todo lo que me importa ahora mismo es que si me voy a contacto digo Hola Soy la página de contacto y si me voy a digo Hola Soy la página de los productos así que vengo por aquí y digo esta es la página de inicio Esta es la página de productos Esta es la página de contacto vale esto es inicio Estos son productos y esto es la página de contacto luego ya tenemos un concentrador en el cual estamos reutilizando por supuesto porque es la idea el pie de página que tenemos aquí abajo y la cabecera y se carga dinámicamente el contenido de cada una de las páginas ahora tengo un menú de navegación un poco feo pero esto es lo de menos esto es css de momento lo primero y lo principal que me importa es que las cosas funcionen y luego pues también Es evidente que también tiene cierta importancia que las cosas Pues además de funcionar sean bonitas entonces me voy a estilo css y voy a decir que h1 padding es de cer píxeles margin es de 0 píxeles con el h2 voy a decir lo mismo vale Y ahora lo que voy a hacer Es que aquí en el menú de navegación voy a decir nab ul quiero list Style type the known eh padding 0 píxeles margin 0 píxeles Vale ahora voy a decir que nab que flote a la izquierda Vale Voy a decirle que tenga un pading de 5 píxeles y un margin de un píxel y ahora voy a decir que na voy a decir que voy decir que Tex decoration n y color heredado así que vengo por aquí y ahora esto de aquí son enlaces aunque no lo parezca pero realmente lo son y ahora podemos estilizar un poquito más puedo decir que background Black pero el color es White vale Ahí tenemos unos botones puedo decir que el Wi de 100 píxeles igual es demasiado bueno tampoco está mal Bien voy a decir que el texaline es Center y ahora voy a decir también que el text transform es apper casase a ver creo que no me ha hecho caso es curioso que no me haya hecho caso a text transform pues ahí porque punto y coma Ahora sí y ahora pues puedo decir que aquí en el body voy a decir font family sans shif para que la letra sea de tipo serifa Aquí voy a decir que font size es igual a 10 píxeles Vale y poco a poco Un poco vamos Dando forma a esta web Bueno sí más o menos voy a decir que naul dos punos First Child es Border radius tres píxeles 0 píxeles 3 píxeles y navul Last Child es cero píxeles tres píxeles 3es píxeles cer píxeles con lo cual me hará un redondeados aunque no se note mucho pero un redondeados en el primer y en el último botón ahora ya pues puedo empezar a crecer vale todo aquello que me haga falta esto quiere decir que yo puedo ir ahora a Index y decir mira pues ya que estamos quiero también poner por aquí un blog esto se va a llamar blog y siempre que aquí dentro cree un blog. php Hola Yo soy el blog Pues aquí hago clic en blog y me dice Hola Yo soy el blog lo cual quiere decir que eh puedo empezar puedo extender esta web sin ningún tipo de problema y sin ningún tipo de Límite hasta pues poder crear todas las partes que sean necesarias evidentemente en un momento dado pues haremos el panel de control para poder gestionar todos estos elementos desde aquí empezamos a trabajar un poco con el blog por lo menos que se quede marcado por lo menos que se quede esbozado y vamos a por ello en este caso trabajamos con el blog voy a insertar entonces para trabajar con el título Este es el título del primer artículo aquí dentro voy a poner el texto que corresponde al primer artículo del Blog que estoy creando para esta aplicación punto voy a crear algo de contenido y voy a crear algo de texto Dentro de este artículo más que nada para que lo veamos aparecer correctamente dentro de la web Así que le doy por aquí a continuar y me dice que Ah me dice que fecha Vale pues fecha OK Vamos en fecha a decir que a ver es fecha hoy Vale pues le damos a continuar Ahora sí vamos a insertar otro artículo fecha voy a poner mañana y digo título del segundo artículo de la web a continuación voy a redactar otro artículo de la web que va a ser el segundo simplemente para demostrar cóm los artículos que a continuación voy a poblar dentro de la página web realmente van a salir de la base de datos Así que ahora a continuación si todo va bien le doy a continuar y tengo ya dentro del Blog Eh pues estos dos artículos así que una vez que tengo estos artículos Pues ahora a continuación puedo copiar ciertas cosas es decir puedo copiarme esto de aquí que me servía para cargar el cms y ahora puedo utilizarlo para el blog y digo vamos a ver esto Bueno realmente no es necesario porque Select all from blog y entonces yo puedo hacer lo siguiente puedo decir eco article es un artículo del Blog vamos a bajar todo esto article vale Y aquí en el artículo voy a poner h4 título de nivel 4 con el título y luego voy poner un texto de parágrafo con el contenido creo que se llamaba contenido Sí así que si todo va bien me voy a la web me voy al blog bien parece que no está cogiendo nada vale vamos a verlo Select from blog voy a poner Ah sí hay un error aquí vale falta un punto y coma vamos a verlo Ahora me voy a bl y ahora sí Este es el primer artículo del Blog este el segundo artículo del Blog cada uno de esos artículos está cogiendo un tercio Más que nada porque es lo que le hemos dicho que ocupe cada uno de los elementos de article Vale entonces voy a decir esto va a ser un div de class artículo blog y esto cierra el di y entonces ahora por tanto ya no tienen que ocupar Exactamente eso puedo crear una Side contenido adicional del Blog Vale entonces e cuidado entonces lo que voy a hacer ahora es empezar a estilizar voy a decir que vamos a ver div ID contiene artículos Vale entonces ahora en el estilo lo que hago es decir estilos del Blog y digo contiene artículos tiene un with del 70 por y flota a la izquierda mientras que aside tiene un with del 30% y flota a la derecha si todo ha ido bien Vamos a verlo a ver contiene artículos se llama contiene artículos Sí con tiene artículos Ahora sí entonces vemos que estos artículos ocupan el 70 por y esto ahora luego lo veremos ocupa el 30% voy a hacer una cosa voy a decirle al sistema que esto ocupe el 65 y voy a decirle que text align que sea un justify en toda la página A menos que alguien diga lo contrario así el texto está justificado y a mí por lo menos me da más Paz visual Así que como vemos una vez más pues tenemos por aquí que el inicio sale de la base de que el blog sale de la base de datos ya hablaremos de los productos ya hablaremos de contacto pero En definitiva lo importante en este caso es ver cómo aunque no tenemos todavía un panel de control pero de momento lo que sí que está claro que tenemos es pues una conexión con el contenido Dinámico de la base de datos por tanto ahora dentro de la base de datos vamos a poder ir poniendo contenido y el contenido que pongamos os aparecerá de forma dinámica dentro de la propia página web bien Vamos a arrancar lo que en un videojuego se conocería como algo así como un Side Quest es decir una misión paralela que al final digamos nos lleva a la misión principal entonces antes de seguir trabajando vamos a programar lo que en otras formaciones anteriores hemos conocido como un superc controlador el superc controlador lo que hace es que básicamente es un controlador reutilizable Tantas veces como sea necesario lo programamos una vez y lo reutilizamos Tantas veces como queramos de esta forma no es un controlador en el cual para cada gestión de una base de datos por ejemplo en el caso de base de datos tengamos que programar otro diferente sino que es un controlador adaptativo el problema que tiene la informática es que todo aquello que es adaptativo todo aquello que es abstracto cuesta más de programar que todo aquello que es concreto es una regla bastante Universal de la programación pero todo aquello que es abstracto luego es más fácilmente reutilizable que todo aquello que es concreto porque lo que es concreto sirve para una situación concreta y lo que es abstracto luego se puede concretar en cada aplicación concreta además lo difícil es que generalmente lo que es concreto luego es difícil de abstraer pero lo que es abstracto luego es fácil de concretar parece que estoy haciendo un juego de palabras pero realmente no es así realmente tengo como diría yo ejemplos bastante concretos en mente anteriormente por tanto como digo hicimos un superc controlador pero que tenía algunas carencias y es que por ejemplo hablando del modelo de datos lo que hicimos básicamente es que todo aquel campo que entraba digamos se acababa convirtiendo en un campo marchar y por tanto al final digamos todo en base de datos para facilitar la gestión era barchart hablando de barcha hablando de campos de tipo x sql mysql en aquel caso y todo en formulario era text era un campo de tipo text era una asociación fácil porque sabemos que un campo text se va a poder escribir como un marchar en la base de datos y sabemos que un campo marchar luego se va a poder devolver en un campo text y no va a haber problema pero es un poco de trampa es un poco de trampa porque realmente luego en una base datos Pues hay campos de tipo date hay Campos numéricos hay campos de todo tipo y si todo lo convertimos a barchat pues ocurre que estamos perdiendo un poco las ventajas que nos da trabajar con esa base de datos digamos que a cambio de hacer un superc controlador Pues estamos limitando un poco el uso de la base de datos Así que el objetivo a continuación en este pequeño Side Quest es desarrollar un super hiper mega controlador vale el objetivo es el superc controlador que hemos conocido anteriormente y extenderlo vamos a hacerlo desde cero pero extenderlo eh mediante pues la incorporación de nuevas funciones Entonces qué es lo que queremos bueno el controlador es lo que se encuentra en el medio de el modelo de datos representado y fijado en la base de datos y las vistas que en este caso podríamos decir que son los formularios así que tenemos la base de datos tenemos técnicamente una doble flecha tenemos los controladores Y tenemos los formularios Cuando alguien mete información rellena el formulario el controlador atrapa el formulario y mete la información en la base de datos Y cuando Queremos saber qué hay en la base de datos pues Alguien hace una petición Y entonces el controlador se va a la base de datos extrae la información y la muestra en pantalla en forma de formulario en forma de tabla o en forma de una vista En definitiva sea cual sea la forma que tenga esta vista Pero la idea es que no solo debe tener una un funcionamiento mínimo sino que debe respetar cosas por ejemplo qué tiene una base de datos pues tiene tipos de datos Entonces yo lo que quiero es establecer una correspondencia entre la base de datos entre los tipos de la base de datos y los tipos de datos de los formularios sea cuál sea el entorno de desarrollo en el que estamos trabajando y sea cuál sea el lenguaje de programación y sea cual sea lo que sea eh voy a indicar voy a empezar ejemplificando voy a arrancar el mamp vamos a ver vale lo arranco por aquí vale Voy a ir a local Host my php lo tenía por ahí vale Y voy a no había ido aquí vale No sé qué contraseña tenía creo que era Root vacío No pues Root y sí bien entonces si yo hago por ejemplo si yo hago por ejemplo digamos vamos a ver mensajes No pues no sé este si yo me vengo por aquí y le doy a estructura o voy a crear una nueva tabla por ejemplo pues yo veo que en mysql tengo una gran cantidad de Campos tengo entero tengo marchar tengo text tengo date tengo diferentes tipos de números entonces la lo primero que tengo que hacer es establecer una correspondencia entre los tipos de datos digo vale supongamos que tengo mysql qué datos tengo en la base de datos Y qué datos tengo en los formularios Bueno pues por un por ejemplo en un formulario html pues no voy a tener campos de tipo bit entonces voy a intentar establecer una correspondencia para todo aquello que cumple y voy a intentar realizar adaptaciones desarrollar componentes individuales para todos aquellos Campos que no estarían correctamente mapeados vamos a hablar por tanto de un mapeo y este mapeo nos llevará Mateo No ese es otro mapeo este mapeo nos llevará pues probablemente al uso de un pequeño archivo de tipo No sql ya hablaremos de ello bien a continuación Qué tengo que hacer Bueno pues hay otro campo que es longitud valores el campo de longitud valores variable para cada uno de los campos nos permite elegir en mysql por ejemplo el límite de caracteres de un campo puedo venir apachar y decir un nombre que tiene máximo 20 caracteres pero claro esto no lo estábamos llevando al formulario con lo cual qué ocurría si luego en el formulario alguien metía un nombre de más de 20 caracteres pues eh que eso no se metía digamos que se metían los 20 primeros caracteres y el resto se trunca y nadie avisaba De nada vale entonces La idea es la siguiente La idea es que debo respetar no solo la longitud de los caracteres sino algo incluso llamado máscaras Esto es algo que curiosamente otras bases de datos como por ejemplo Access que podríamos pensar que es bueno Microsoft Access de hecho que podríamos pensar que es una base de datos pequeña pero sin embargo tiene esta función de las máscaras que nos permite mediante una fórmula pues establecer digamos Cuál es el formato que se admite para ese campo y otras bases de datos más grandes como May sql pues no tienen tan implementado eso en la estructura por eso conviene por eso es interesante conocer Cuantos más motores de bases de datos mejor porque luego nos podemos inspirar en o nos podemos basar en funciones que tienen para implementarlas nosotros Cuando hacemos algo vale qué otras cosas puedo saber Bueno pues por ejemplo parámetros como por si es por ejemplo índice el tipo de índice o si es autoincremental Pues yo lo que voy a hacer por ejemplo con el superc controlador que teníamos anteriormente teníamos que detectar si un campo se llamaba identificador para decir si el campo es identificador no lo metas en el superc controlador O sea no lo va a gestionar el usuario lo va a gestionar automáticamente la base de datos pero no quiero hacer eso manualmente quiero que el super hiperme controlador detecte si un campo es índice autoincremental o si es un campo índice primario autoincremental y que diga Bueno independientemente de cómo se llame independientemente de que se llame identificador cómo se llame si es un índice primario y autoincremental no lo va a gestionar el usuario con el formulario Entonces lo voy a bloquear porque lo va a gestionar automáticamente la base de datos eso es un poco la idea del superc controlador que vamos a utilizar por ejemplo Tenemos también el campo nulo Vale entonces el campo nulo de la base de datos nos dice Oye este campo no puede estar nulo Entonces quiero detectar si un campo está nulo y si un campo está nulo Pues en el formulario no voy a dejar que alguien lo envíe digamos Vale entonces o igual eh lo que aquí es nulo pues o sea not nul realmente Pues cómo diría yo pues lo voy a meter como un campo requerido La idea es como digo que la información venga lo mejor posible que la información venga lo mejor posible desde el campo y luego Además nos va a venir muy bien También los comentarios para dar información ya estábamos dando título ya estamos dando digamos el nombre del campo pero muchas veces en una aplicación empresarial alguien ve el campo y dice aquí qué tengo que rellenar Bueno pues dónde está esa información pues bueno tenemos un campo llamado comentarios dentro de may sql Por qué no llevarnos lo de vuelta al formulario Por qué no decir nombre pues Oye mira en este campo tienes que rellenar el nombre del usuario y tiene que tener tantos caracteres y no sé qué no sé cuántos vale lo metemos en la base de datos Y luego queremos Que aparezca en nuestra aplicación de esa forma por tanto el superc controlador va a ser lo más abstracto posible porque lo que va a hacer es información que ya está en la base de datos vale Y no tengo que tener por ejemplo una tabla con nombres de usuario y luego otra tabla que diga comentarios por tabla porque es un rollo vale porque eso dificulta el desarrollo Así que como vemos realmente la filosofía es la misma vale la filosofía básicamente consiste en crear un superc controlador pero eh digamos llevarlo más allá como ya entendemos Para qué sirve el superc controlador pues llevarlo más allá y hacer que haga cosas que no hacía hasta ahora y que probablemente durante el desarrollo del superc controlador habíamos dicho Oye molaría que el superc controlador hiciera Esto vale pues vamos a hacerlo bueno pues a continuación vamos a ver voy a crear un nuevo proyecto voy a crear un nuevo proyecto aquí vale este proyecto se va a llamar Pues no sé super controlador por ejemplo o super hiper mega O super crud suelo llamar yo a este tipo de proyectos Así que a continuación voy a abrir aptana o voy a abrir cualquier otro tipo de entorno de desarrollo vamos a ver y ahora dentro de aptana vamos a ver vale me vengo por aquí me voy a vale voy a hacer un nuevo proyecto entonces file New php project voy a llamarlo en este caso super crud php 54 de momento vale Y esta ubicación está aquí está en htdoc está en superc Así que le doy a Finish y tengo ya por aquí el proyecto he empezado a crear me voy a New me voy a crear un nuevo file y voy vo a llamarlo controlador.php lo creo en super crud vamos a finalizar Vale y vamos a por ello entonces empezamos con este archivo voy a decir eco controlador vamos a hacerlo más grande me vengo por aquí me voy a aquí crud controlador.php ahí lo tengo se llama controlador bien y ahora lo que voy a hacer en este caso es Eh Pues bueno pues meter digamos información para ello me voy a local Host voy a crear una nueva base de datos momento está gigante vale voy a crear una nueva base de datos si que quiero abandonar se va a llamar vamos a ver de momento super crud es un nombre de muestra evidentemente lo pongo en español y en super crud voy a crear un usuario agrego cuenta de usuario llamado superc servidor local con contraseña super crud más que nada para Pues bueno para tenerlo fácil para conectarme Eh quiero guardar contraseña Pues bueno sí vale Por qué no bien Ahora lo que voy a hacer es conectarme de hecho no vamos a super crud Vale y en superc lo que voy a hacer es Pues no sé poner e a ver entregas eh seis columnas de momento ya veremos luego Bien voy a llamar la primera identificador es una columna de tipo entero caracteres es un campo primario Ok es un campo auto incremental vale a continuación voy a poner usuario vale voy a poner Bueno voy a poner usuario vamos a ver usuario realmente nooner voy a poner URL y voy a poner en este caso Qué pongo No lo sé vamos a ver Quiero nif quiero URL quiero práctica y luego me gustaría poner también la fecha realmente me gustaría en cada campo voy a poner utc Voy a poner la fecha voy a poner como apoc vale por unix y apoc ahora veremos Vale pues el campo de tipo nif eh teóricamente es un campo de tipo barcha vale que en este caso va a tener nueve caracteres tiene que tener los ocho caracteres y la letra Así que nueve caracteres la URL va a ser un campo de tipo marchar que va a tener Eh pues vamos a ver va a tener 30 caracteres la práctica va a ser también un campo de tipo varchar de momento eh de 20 caracteres y el campo apoc va a ser un campo de Bueno voy a poner 30 caracteres no sé ahora mismo eh unix apoc converter no sé ahora mismo de memoria Cuántos caracteres tiene Pues un 2 3 4 5 6 7 8 9 y 10 caracteres hemos tardado Pues no sé prácticamente 50 años en llegar a al número uno digamos Pues bueno Parece que tardaremos unos pocos siglos más en agotar este número pero por si acaso por si el Software que desarrollo ocurre que dura unos cuantos siglos cosa que duro bastante pero voy a poner aquí ya hemos hecho 10 voy a poner 12 y ya está bien así también un poco estamos optimizando el campo Vale ahora a partir de aquí voy a poner lo siguiente en identificador no voy a poner nada pero en nif voy a poner un comentario Como por ejemplo este campo contiene el nif del usuario eso estaba claro también vale Este campo voy a hacer esto más pequeño vamos a verlo ahora un momentín un segundo a ver era la URL en este campo debes introducir la URL que has copiado y has pegado de YouTube a continuación debes indicar la práctica que estás entregando y luego en este campo aparecerá la marca de tiempo bien ya tengo comentarios y luego a continuación vamos a ver qué más parámetros le podemos poner de momento a los campos de esta base de datos vale por último vamos a identificar qué Campos por ejemplo en esta tabla deberían ser no nulos es decir vamos a utilizar la columna de nulo más adelante lo podemos modificar y voy a decir Bueno nada de esto puede estar vacío Así que voy a indicar que todo esto debe rellenarse si ya lo tenemos Si de momento ya tenemos nuestros Campos lo que voy a hacer a continuación es darle a guardar vamos a verlo le doy a guardar vale Y con esto por tanto lo que tenemos es con bueno predeterminado nul siempre puedo cambiar digamos siempre puedo establecer Cuáles son los límites de esa tabla o siempre puedo establecer o puedo cambiar la estructura con sql vale puedo venir a sql y digo eh my sql convertir un campo a not nul Y entonces tendré que hacer un alter Vale entonces tendré que hacer una modificación donde diré vamos a ver aquí not nul Entonces vamos a ver vale Y digo vamos allá vamos Aquí vamos a sql y digo alter Table entregas modify Qué modify nif vale Y en este caso voy a decir marchar a ver un momentín marchar eh cuánto era no me acuerdo vamos a verlo nueve y pongo not nul Entonces vamos a ver vamos por ahí not nul vale Okay tengo esto por aquí voy a copiarlo configuro vale Y si ahora me voy a entregas y me voy a estructura Pues bueno veré que vamos a ver preterminado en nif aparece ninguna pero si intento insertar un elemento y en URL pongo algo vale Y le doy a continuar vamos a ver ha dejado insertar algo que es nada vale Okay Bueno pues de momento a ver cambiar Bueno de momento me ha dejado a ver vale Y lo que haremos es modificar esa columna evidentemente para que nos permita especificar que no puede ser nul vamos de momento a continuar trabajando el superc controlador vale Pero modificaremos como digo esa columna para que nos permita introducir la información que queremos y que nos obligue a meter información Bueno pues a continuación vamos a empezar a conectarnos a este campo Así que mysqli Select While y my sq bien my sqli in While vamos a ver vamos a uno de estos uno des de la documentación oficial de hecho si puede ser y cogemos uno de estos lo pegamos aquí vale Y nos conectamos a local Host nos conectamos con superc la contraseña superc la base de datos de superc verificamos la conexión Vale y ahora vamos a hacer lo siguiente seleccionamos todo from entregas Vale y el resultado es correcto en ese caso para cada una de las entregas pues vamos a poner la fila nif y la fila No lo sé ahora veremos entonces me voy Aquí voy a examinar vamos a eliminar un par de elementos eliminamos borramos vale si que deseo borrar voy a insertar y digo tengo el nif 2 3 4 5 6 7 8 a tengo esta URL y tengo esta práctica y el EPOC de momento lo dejo vacío bueno va voy a poner aquí un EPOC va continúo bien entonces ahora me vengo por aquí y yo lo que quiero ahora es ejecutar el superc controlador así que me dice Bueno pues tengo aquí el a y tengo por aquí esto que es directamente el country code no es nada Así que ahora vengo por aquí y digo la URL Vale y ahí lo tengo bien en este caso me está diciendo que lo estoy formateando con un String y todo lo que queramos vale estamos usando printf en lugar de String Pues bueno es perfectamente válido vamos a meter otro identificador Quiero el 87 6 5 4 3 2 1 B Quiero una URL Quiero una práctica y el ap lo dejo sin poner así que ahora vengo por aquí vale Y tengo otro elemento podría poner en el superc controlador Bueno un contra barra n de hecho lo tengo contra barra n no lo ha cogido está más pensado para printf no pasa nada puedo poner un br y ya está Vale y así s que lo tengo formateado correctamente y baja de línea ahora la idea de esto es que yo quiero saber exactamente qué es lo que viene digamos de la petición a la base de datos Así que voy a hacerlo siguiente voy a hacer bar dump bomp resultado No quiero que me digas el contenido de las columnas Quiero que me digas todo lo que tengas ahí dentro entonces hago así y me dice Pues mira aquí tengo eh un curren Fil tengo un Field count hay cinco vale cinco Campos vale Quiero que me digas Cuáles son vamos a ver las longitudes vale son nul el número de rows son dos y el tipo en principio de momento son cero vale Así que yo ahora a continuación pues quiero saber más cosas vamos a ver resultado es igual a mysqli consulta Entonces yo ahora vengo por aquí y digo Bueno pues dime bardum dime la fila o sea Sácame todo lo que tenga la fila voy a hacer un eco PR bien y vemos que pues tenemos el nombre de la fila identificador tenemos su valor tenemos el nif tenemos por aquí tenemos un poco De momento todo vale tenemos la matriz que nos devuelve cada uno de los elementos que hay en este proyecto Vale pues Ahora a continuación Dentro de este controlador lo primero que quiero hacer es decir Bueno antes que nada Devuélveme la estructura de la tabla de datos o sea Devuélveme la estructura de esa tabla entonces voy a empezar a hacer las cosas abstractas vengo por aquí voy a empezar parametrizar y digo tabla igual de momento a entregas ya veremos más adelante Así que Select all from tabla esto ya de momento va a hacer que este Select Más adelante se puede adaptar a lo que nosotros queramos a la tabla que nosotros queramos guardamos comprobamos que se sigue comportando igual y yo de momento voy a decir primero Quiero ver la estructura Así que vamos a ver vamos a usar un comando sql vale muy bien y vamos allán Vale y vengo por aquí y ahora digo consulta es igual a eh describe y quiero describir eh vamos a ver quiero describir entregas Bueno quiero que me digas todo aquello que venga de entregas Así que a continuación vamos a ver vale a continuación quiero ejecutar esto vale el resultado es mysqli consulta debería ponerlo dentro de un If para comprobar que sea cierto vale Pero bueno Más adelante lo haremos y ahora digo bardum resultado voy a de momento aquí esto fuera y hasta aquí Vale pues vamos a verlo esto lo voy a empezar a poner aquí esto lo voy a empezar a poner aquí para utilizarlo mejor vale recargamos vale algo ha fallado bardum no es bardum vale y bueno vamos a ver nos dice en este caso que asegurarnos de que solo tenemos lo que quiero tener Vale Nos dice que tenemos seis Campos vale vamos a ver y nos dice que el número de rows es cco y el tipo es cer0 Vale pues Ahora lo que quiero es que para cada una de las columnas pues me diga todo lo que tiene vamos a decirle a continuación vamos a hacer otra petición Por cierto que ahí deberíamos poner punto tabla vamos a verlo y ahora voy a usar otro Comando Primero quiero ver luego Quiero ver las tablas no perd las columnas ya hablaremos de ello Así que con esto le voy a decir show columns from vale vamos a verlo vale en este caso me vuelve a decir esto mismo Ok Vale y ahora vamos a hablar de los fields porque lo que quiero digamos es un informe más grande dice my squ result Okay y vamos a por ello ahora Pongo aquí la fila Mira de hecho voy a hacer esto Pongo aquí la fila esto de momento fuera vale Y aquí si nos fijamos en este caso pues nos está diciendo ya el nombre del campo vamos a matar un momento Esto vale Y ahí tenemos digamos que el nombre es identificador vamos a ver Ah vale esto es cada uno de los campos vale la clave primaria es incremental y extra auto increment vale el ni es un capo de tipo String con 10 caracteres marchar de nu ok nul No clave no vemos Que En definitiva digamos podemos empezar a ver podemos empezar a ver de qué tipo es este campo es de tipo marchar es des de tipo int empezamos a tener por aquí la información que queremos así que por tanto lo que ahora podemos hacer digamos es eh marcar para cada uno de los campos Qué tipo de formulario debe tener o qué tipo de formulario no debe tener debemos tener en cuenta que vamos a formatear esto vamos a empezar a formatear esto pero como digo debemos tener en cuenta que por ejemplo donde pongo type pone marchar 30 tengo que detectar ahí si es un campo marchar o de qué tipo es Pero no pasa nada pero esto es perfectamente correcto Y esto es perfectamente conveniente vamos a escribirlo un poquito más digamos en castellano vale Y así veremos que tenemos control sobre lo que ocurre en la pantalla entonces vengo por aquí y ahora digo lo siguiente bardum ya no me hace falta y digo eco la fila o la columna perdon la columna se llama punto fila array Field recibe este nombre con comillas con lo cual yo ya sé que tengo esa información voy a pegar esto aquí y digo la columna se llama identificador la columna se llama nif la columna se llama URL la columna se llama práctica la columna se llama lo que sea bien pues sigo y digo identificador el tipo pues vamos allá el tipo de columna es Y entonces digo type y el tipo de columna es pues int marchar lo que sea claro cómo voy a convertir esto luego en un campo Pues ahora veremos está es la gracia del superc controlador no vamos a tardar mucho en verlo ya así que vengo por aquí y continuo voy a continuar De momento todo esto luego lo mutear pero de momento es didáctico en el sentido de que podemos ver devolver en pantalla que está ocurriendo entonces Yo vengo por aquí y digo vamos a ver dónde estás vale Ke pues es clave primaria Vale entonces yo digo vamos a ver si la columna es una clave Así que file Ke Y entonces vengo por aquí recargo y me dice vamos a ver si la columna es una clave sí es primaria vamos a ver si la columna es una clave no y no OK ahora comentario de la columna esto que estoy haciendo parece una chorrada pero ahora veremos que no lo es comentario de la columna Pues el comentario de la columna es Espérate que te lo diga ah Uh Wow vale no está en esta tabla correcto vale venga bueno tenemos por aquí el autoincrement pero vamos a hablar de esto vamos a hablar de esto Bueno de hecho tengo por aquí el A ver nul es igual a no vale ahora hablamos de esto es nul vale la columna es nu leable fila nul Así que vengo por aquí y leable no la columna es no leable no la columna Yes vale Ahí he conseguido cambiar ese parámetro pues vamos a verlo y ahora a continuación y ahora a continuación vamos a trabajar con los comentarios son otro rollo porque están dentro de otra sub tabla dentro de mysql técnicamente los comentarios están aquí en information skema Y entonces esquema había por aquí un comen o algo así ya te digo estaba por aquí pero no estaba exactamente dentro de la misma columna No pasa nada porque en un momento dado podemos hacer una sub petición y podemos devolver los comentarios de la columna vamos a por ello vale hay otra solución que podría probar que es la siguiente vamos a ver hay otra solución exe voy a mutear de momento esto aquí vale Perdón no quería mutear que es show full colums vamos a verlo y Entonces ahora sí muteo esto y digo bardum fila vale guardo recargo aquí entonces aquí en comentario aparece nada vamos a ver aquí y en comentario aquí aparece el comentario Vale entonces aparecen también privilegios vale que bueno también es interesante en un momento dado para saber qué puedo hacer o que no pero lo que voy a hacer en este caso es ahora voy a machacar el bardum y voy a decir comentario de la columna puedo ponerlo aquí eco comentario de la columna es la fila coment Así que recargamos aquí vale Y comentario de la columna en este campo debes introducir la URL que has copiado y has pegado de YouTube vemos por que ahora sí ya tenemos un poco esa información que queremos vale de momento estoy haciendo un programa diríamos muy verbo reico es decir un programa muy digamos muy verboso que dice muchas cosas en pantalla que parece que no nos sirven para nada pero a continuación vamos a ver como sí que nos sirven entonces para ello voy a hacer en esta parte del ejercicio voy un mtin a matar esto ahora luego el resultado free no vale esto lo borro Ok bien y ahora voy a hacer lo siguiente por ejemplo Esto va a ser una demostración voy a hacer creo un formulario vamos a verlo formulario el action soy yo mismo y el method es post estoy creando un formulario html y ahora por tanto atención porque ahora viene lo bueno vamos a ver y ahora vengo por aquí mato de momento esto pero lo tengo aquí realmente lo tengo para copiar y pegar y ahora voy a intentar hacer un formulario html lo más correctamente maquetado desde el punto de vista de la estructura de vale pongo html por Label y Label Group vamos a verlo Label vamos a intentar hacerlo bien vale Y html Okay bueno vale input type text y de static mail Vale pues vamos a por ello bien Ahora eco voy a crear un div Class campo ahora a continuación y ahora viene un poco lo bueno digamos vamos a ver en qué se convierten cada uno de los campos bueno de momento voy a decir que Label for y ahora viene la cuestión Label for Field lavel for fila Field es esto vale es fila Fil de hecho y Label es la etiqueta del campo digamos ahora a continuación Pues voy a poner un pequeño texto de párrafo para poner el comentario Así que vengo por aquí y pongo el comentario vamos a verlo de momento recargamos por aquí vale identificador nif URL en este campo debes introducir vale Okay ahora formateamos un poquito esto porque vemos un poquito de css porque tiene una serie de márgenes Vale entonces ahora como digo voy a meter un Chiqui riquiti poquito de css un poquito para estilizar para que no lo veamos todo mezclado y veamos un poco más claro qué es lo que estamos haciendo Así que vengo por aquí y digo campo campo es margin bottom 20 píxeles Border bottom Pues un Pixel solid Grey y con esto qué vamos a tener pues así de entrada vamos a tener un poco los separadores de los campos visualmente no es muy bonito de ver pero por lo menos queda claro por lo menos tenemos ya un poquito más claro qué es lo que tenemos en la pantalla y ahora por ejemplo pues puedo venir aquí y decir eh campo Label pues Esto va a tener un font size de Pues no lo sé 2 em un padding de cer Pixel un margin de cer pixels Y entonces en campo p voy a decirle font size de un em pading de cero píxeles margin de cero píxeles porque de esta forma pues veremos un poquito mejor quién depende de quién parece gigantesco estamos con zoom Aunque sigue siendo gigantesco la verdad se ha dicha vale voy a poner otro pequeño estilito en el body que es font family sans serif vale con lo cual Pues bueno de momento tenemos cada uno de los campos de un formulario y ahora vamos a continuar Vale entonces Bueno ahora nos estamos ya acercando bastante a lo que queremos evidentemente parece que no pero ahora veremos que sí Así que ahora a continuación vengo y digo ahora viene la parte fuerte ahora digo Bueno ahora Quiero un input de tipo de momento texto con el name de momento fila Field vamos a verlo aquí con el ID que este ID no es muy bueno que sea un ID repetitivo Pero vale fila Field vamos a verlo vale Ahí aparece ahí empieza a aparecer vale Y por ejemplo pues ahora voy a hacer lo siguiente vengo por aquí bajo un poquito salgo del eco saco el eco y entonces digo si el file type el tipo de columna no sé por qué estado dos veces pero bueno el dónde estás si la fila es nul fila nul es igual a no me acuerdo era esto era yes o no lo sé Vale entonces si le digo Yes en ese caso eco required y punto vamos a verlo no parece que haya pasado nada pero si yo ahora vengo por aquí a inspeccionar vamos a verlo veo que nif veo que por ejemplo YouTube required vale está al revés De hecho no si nul es no en ese caso es requerido Entonces ahora veremos que aquí es required vale he convertido el campo nul en un campo requir estoy mapeando los parámetros de una parte a otra esto ya en principio empieza a tener buena pinta Bueno luego evidentemente tenemos que poner por aquí al final del todo Un input type submit vale para Que aparezca el botón Pero lo importante es que hemos convertido el campo not nul de la base de datos en un campo de obligatorio vale esto ya de entrada empieza a darle sentido lo que a lo que estamos haciendo yo creo que veremos que si yo ahora por ejemplo campo cambio entregas por cualquier otro campo veremos que automáticamente se va a actualizar el superc controlador Esta es la gracia Esta es la idea estoy haciendo un superc controlador que nos va a servir para cualquier caso bien pero sigamos en type text el text Por qué es text lo estoy forzando todo a texto cuando realmente el identificador es un número Así que vengo por aquí paro esto eco y entonces ahora digo a ver un poco de qué tipo es cada campo Pues no lo sé pues digo sí qué tenía este campo pues tenía type vale si fila type voy a elegir php con pero es novedad de php7 Así que Stream contains mejor Stream contains no perdón de php8 no estoy trabajando con php8 Así que vamos a poner a usar strp Así que vamos a ver si str Pos de fila type es el hashtag needle Aquí está lo que estamos buscando my String Find me vale en entonces si en fila type Quiero buscar bar charar es igual Bueno si esto es cierto realmente conque lo ponga así ya vale en ese caso eco text pero elc If si est repos aquí me falta por cierto cerrar un paréntesis si str post fila es int en ese caso vamos a verlo en ese caso Yo vengo por aquí vamos a ver si me ha cogido vamos a ver Esto es input type no pone nada Okay no ha cogido nada str Pos muy bien php If strp vamos a ver cuál es la validación debe ser not nul o algo así vale No fue encontrada pues no es igual a false y no es igual a false vamos a verlo ahora type de momento nada es marchar creo recordar momento voy a ponerlo voy a devolverlo es int es bar charar Vale pues sí que es bar charar Así que vamos a verlo okay vale Okay php check strp y vamos a ver no es igual a false marchar fila type a eco int econ number Perdón Así que vengo por aquí vale Y aquí está el identificador es un entero vamos a verlo pero es un number pero el nif es un text y la URL es un text Vale y En definitiva Pues bueno ahí vemos como estamos ya trabajando mapeando los datos de la base de datos en un formulario pero no hemos acabado vale a continuación hay otro parámetro vamos a verlo en el siguiente vídeo que es la longitud del campo Así que vamos a ver a continuación có eh html Bueno voy a poner min Max vale min voy a poner Max input Max vale Y entonces vamos a ver Max es esto de aquí entonces yo ahora lo que voy a hacer es decirle al campo es decirle al campo que Max es igual a algo y ese algo va a ser ese algo va a ser la longitud vamos a ver ahí está ese algo va a ser lo que está dentro del paréntesis dentro del tipo de datos entonces para este caso voy a usar HP get content from curly braces from brackets o from parentesis Vale entonces vamos a verlo y esto es lo que quiero from paréntesis Vale entonces Okay pues digo text match Vale pues prak match esto es el text es el file fila tipe file type y voy a decir eco match de uno en principio Debería ser de cero Pero vale vamos a probar de uno vamos a recargar vamos a ver y dice Max 20 vale porque comprobamos si es cierto que es que sí que teníamos en la estructura 20 comprobamos si es cierto que el campo nif tiene una longitud de nueve vale Y esto quiere decir que si yo ahora intento poner aquí esto no me va a dejar no me debería intento poner esto Pues me va a decir que debe ser inferior o igual a 20 Así que estamos mapeando tanto el tipo de datos como la longitud del dato como un montón más de información es decir al final pues como podemos ver estamos mapeando todo lo que podemos de momento evidentemente pues aquello que nos conviene otra cosa que puedo hacer es trabajar con la clave Primaria con la clave primaria en este caso lo que vamos a hacer es que si el campo es clave primaria pues entonces vamos a poner por ejemplo un disabled Vale o nada o no lo vamos a poner entonces para ello yo voy a decir lo siguiente si todo esto lo meto en si es una clave eh voy a poner not nul o no es igual a nul no perdona si es igual a nul en ese caso voy a poner todo lo demás Por qué Pues porque lo que quiero hacer es quitar el identificador ya que cuando un usuario rellene este campo pues evidentemente no debe haber ningún tipo de identificador vale porque el identificador lo va a gestionar internamente de la base de datos Así que si tengo esto ya tengo Pues bueno una pequeña parte del superc controlador que lo que hace básicamente es Eh bueno crear un formulario vale Y ahora vamos a hablar del formulario con respecto a cómo vamos a articular nuestra aplicación vamos a ver como nuestra aplicación pues En definitiva va a gestionar los datos Y como forma automática pues va a trabajar a partir de la base de datos Vale pues una vez que tenemos el controlador Eh bueno el controlador tenemos el generador de formularios por lo menos a continuación vamos a analizar un poco a nivel filosófico qué es lo que debe tener nuestra aplicación es decir vamos a ver qué es lo que va a pasar cuando alguien haga clic digga en la en el botón de enviar vamos a ver qué va a ocurrir a partir de ese momento un segundo y vamos a cor ello Vale entonces voy a crear uno nuevo voy a abrir por aquí voy a abrir por aquí vale Y entonces voy a hacer lo siguiente una aplicación técnicamente eh ocurre por debajo de la línea de flotación esto quiere decir que yo vengo por aquí digamos y eh de la línea hacia arriba es lo que ve el usuario de la línea hacia abajo es una intranet digamos una aplicación de gestión un panel de control que solo ven unas cuantas personas selectas digamos Así que voy a dibujar por aquí Un rectángulo digamos y este rectángulo es nuestra aplicación este rectángulo representa voy a pintarlo de un color el que sea vale Este rectángulo representa nuestra aplicación y una vez que representa nuestra aplicación pues al final ese rectángulo se va a conectar a una base de datos No creo que tenga por aquí a ver No creo que tenga por aquí restaurar formas predeterminadas Ok vale animales salvajes no que tenga por aquí vamos a ver importar formas y nada custom shave Estoy buscando a ver si hay algún símbolo de base de datos pero bueno como no lo hay pues voy a utilizar algo Como por ejemplo un polígono voy a hacer un hexágono voy a decir Bueno este hexágono es la base de datos aquí Así que tengo una base de datos y mi aplicación pues se conecta inevitablemente a la base de datos para recuperar información entonces pues vamos a ver como por aquí en bueno por aquí en formas predeterminadas debería aparecer no sé por qué aparecen barcos y animales salvajes y tal porque aquí deberían aparecer eh formas predeterminadas como digo voy a ir por lo menos a Google Drive y quizás al hacer un gráfico Pues yo creo que lo veremos mejor así que vamos a hacer un dibujo vale Y como digo a partir de aquí digamos desde aquí hacia arriba es lo que sería accesible desde fuera desde la línea hacia abajo es lo que solo podemos ver aquellas personas que tenemos acceso a la aplicación y ahora pues como digo voy a dibujar ahora sí una un icono de una base de datos entonces nuestra aplicación vamos a dibujar flechas vamos a ver o tengo tambén por aquí flechas bidireccionales nuestra aplicación Pues toma y escribe datos de la base de datos hasta ahí pues evidentemente no solo ningún problema sino que es exactamente lo que queremos ahora bien esta aplicación trabaja con unos datos que están en la base de datos Pero cómo se meten esos datos de dentro de la aplicación Bueno pues esos datos los pueden meter los usuarios de la aplicación o bien pueden trabajarse a partir de documentos externos es decir yo a partir de aquí pues voy a trabajar por ejemplo con un documento externo con un formulario y yo lo que quiero es que ese formulario sea capaz este formulario fijémonos eh es un elemento que está por encima de esta línea Es decir cualquier persona eh fuera de la aplicación cualquier persona desde fuera lo puede rellenar y cualquier persona desde fuera lo puede enviar Entonces vamos a hacer por ejemplo por aquí una flecha y esta flecha digamos meterá y sacará información de la base de datos antes de que el formulario realmente llegue a la base de datos pues evidentemente tiene que pasar por la propia aplicación tengamos en cuenta que esto es peligroso desde el sentido desde el punto de vista en el que a través de este formulario técnicamente vamos a dar acceso en principio solo para escribir pero quién sabe eh Solo para escribir a la gente para que meta información dentro de la aplicación esto quiere decir que así como los usuarios que trabajan aquí dentro son conocidos los usuarios que rellenan este formulario en principio son desconocidos cualquier persona entre comillas que tenga el enlace del formulario lo puede hacer entonces debemos tener mucho cuidado de exactamente Pues los campos que dejamos disponibles sanear los campos antes de meter la información en la aplicación validar los campos intentar que no nos metan ningún Script malicioso ningún ataque de inyección sql ningún ataque de inyección xss Y así vale pero un poco filosóficamente no es lo mismo hacer un panel de control con leer escribir actualizar y borrar dentro de la aplicación que también lo haremos sino que lo que estamos haciendo ahora es más parecido de momento ahora luego haremos esta parte interna pero es más parecido de momento a un formulario externo gracias al cual las personas externas a la aplicación podrán meter información dentro de la aplicación información que al final irá a la base de datos pero para que vaya a la base de datos primero tiene que vale pedir Aquí bien Entonces vamos a seguir programando voy a hacer un vídeo siguiente vale lo primero que voy a hacer por aquí es que cuando me conecto eh Como Probablemente esta aplicación va a acabar constituida a partir de varios archivos cuantos menos Mejor evidentemente vamos a hacer algo bastante común que consiste en hacer un archivo llamado config.php este archivo config.php pues tendrá eh la información de la base de datos por ejemplo my db user es una variable que me estoy inventando y voy a decir superc de momento y my div password de momento va a ser super crud esto de meter un password directamente en texto en un archivo No es que sea la práctica más segura pero bueno ya hablaremos de esto y eh voy a poner pues otra variable llamada myd directamente que es superc también entonces desde el controlador ahora realmente lo llamaré formulario vale pero luego lo haremos desde el controlador voy a hacer include config php este archivo config estará compartido por varios archivos Por cierto esto es mydb server es igual a local Host Y entonces vengo aquí y ahora digo Bueno pues esto es mydb server esto es my div user esto es mydb password Y esto es mydb y ya está si todo ha ido bien Ahora vuelvo a recargar local Host super crud controlador vale Y aquí tenemos de vuelta lo que teníamos básicamente lo que debe ocurrir es nada Es decir lo que debe ocurrir es que lo que tengamos tiene que ser lo mismo que lo que teníamos bien entonces ahora como digo eh La idea es que única ve una vez que estemos trabajando en este formulario digamos ahora lo que quiero es que cuando le de a enviar pues se envíe realmente Así que ahora lo que quiero es decirle bueno que cuando relleno Por cierto así el ni son letras el ap es un campo le doy a enviar debe ser eh inferior o igual a 12 a ver un momento a ver un momento solo me deja 12 claro Max 12 no Ah Ah claro no 5 Max 12 claro es que Ah el Max no es Max Porque si pongo Max es como el valor máximo No es Max es html5 input Max length no es Max es Max length Max es valor máximo y eh Y Pongo aquí pongo un número envío vale Y de momento se envía evidentemente a ninguna parte bien entonces yo ahora lo que voy a hacer es lo siguiente este controlador lo que quiero es que se encargue de Eh bueno de hacer varias cosas vale quiero que se encargue de ponerme el formulario quiero que se encargue de recoger el formulario Vale entonces con esto yo ahora voy a hacer un nuevo archivo llamado formulario.php de momento y este formulario va a hacer lo siguiente vale vengo por aquí le digo include config.php y voy a empezar a limpiar voy a empezar a limpiar por lo siguiente vamos a ver vale Esto me lo llevo aquí de hecho voy a hacer un archivo bien doc type html archivo html cabeza cuerpo dentro de la cabeza voy a poner el estilo o sea vamos a hacerlo bien vale Y entonces ahora dentro del controlador yo lo que quiero es decirle al sistema que comoo diríamos si quiero un formulario imprímeme el formulario pero si quiero procesar el formulario es otra acción diferente y no quiero que sea otro archivo diferente porque para esto estoy programando el super hiper mega controlador para la gracia es esto que esté en uno solo así que de esta forma este código que hasta ahora he desarrollado digamos de forma completamente como diría procedural vale con código estructurado lo quiero derivar lo quiero articular como una programación por clases quiero hacer una clase y que la clase se llame pues superc controlador por ejemplo y que esa clase pues tenga diferentes métodos y eventualmente tenga propiedades y todo esto así que voy a venir por aquí digo php Class Y entonces clases y objetos dentro de php Vale y vengo por aquí y digo Pues mira vamos a ver quiero hacer una clase vamos a Bueno este form ahora veremos dónde lo pongo vale esto de aquí ahora lo quitaremos Ah ahora veremos Así que Class Fu no class superc controlador voy a ponerlo con primera letra mayúsculas podría poner super controlador la c con mayúsculas Pero bueno vale Ahora vengo por aquí y hago así vale y le digo que aquí se acaba la clase Okay Vale hay un sintax error Más que nada porque tengo que decirle si es público si es privado si es lo que sea de hecho esto es público porque es una variable que va a estar compartida por varios elementos vale vamos a verlo y esto irá dentro venga Vale entonces voy a crear por aquí function formulario en minúscula porque es una función voy a hacer la letra un poco más pequeña para tener claro dónde acaba cada cosa vamos a ver vale ahora public my sqli Bueno ahora veremos es igual esto aquí dentro Ah no estaba allá dentro vale Ah no Claro ya no es public ya no es public porque está dentro de una de un método así que vamos a ver Esto me lo voy a saltar la tabla es entregas ahora veremos si la tabla es entregas o qué esto lo voy a poner aquí esto ya no hace falta porque ya lo tenemos claro Así voy simplificando el código todo lo que pueda Okay Y entonces ahora si llamo a la función formulario en este caso quiero hacer un eco por aquí y este eco va a tener esto y quiero hacer otro eco por aquí eco y el eco va a tener esto Entonces si todo va bien me voy a formulario aquí en el body voy en el body voy a incluir el config y voy a hacer lo siguiente include controlador.php y no va a ocurrir nada formulario php vale Y no ocurre nada no funciona un error vale controlador.php Por qué Porque aquí me falta un punto y coma Okay ya está recargamos Vale no tengo nada y la razón por la que no tengo nada es porque he incluido el controlador pero no he instanciado el controlador es decir he incluido el archivo que declara una clase Pero en ningún momento he creado una instancia de esta clase Así que ahora a continuación vamos a crear una instancia de la clase así que por tanto vamos al superc controlador Y entonces hago lo siguiente vamos a ver un momento vale superc controlador me vengo aquí al formulario y digo y así un poco vamos viendo como evidentemente esto que estamos haciendo lo vamos a poder reutilizar pero una barbaridad vamos a Perdón no vamos a decir formulario es igual a un New superc controlador vale mí php classes instancing y the basics y okay No sí no Ah vale Sí correcto esto es vale Y ahora digo formulario y quiero llamar al método formulario vale que hay en controlador un poco desafortunado que se llamen igual vale porque podría llevar a confusión entonces Eh pues yo que sé voy a llamar voy a decir mi formulario y aquí mi formulario para que tengamos Claro que este es el nombre de mi variable y este es el método que hay dentro de configuración de controlador quería decir Vale pues vamos allá vengo por aquí esto ya luego lo usaré si hace falta recargo Vale tengo un error pero ese error no creo que sí hay un error en formulario.php vamos No aquí en formio pun php pues s que hay un error Sí vamos a ver incluyo controlador vale Voy a mutear esto más que nada para confirmar Dónde está el error vale Ahí no hay error vamos a ver ahí no hay error pero al hacer esto sí que hay un error Entonces vamos a ver formulario sí Bueno creo que está claro que esto va a dar error si no incluyo config.php voy a incluirlo de momento aquí lo voy a quitar de aquí y hablaremos de esto Vale entonces lo que tengo es que si incluyo controlador.php fijémonos qué limpio queda ahora el código la verdad es que parece que me lo flipe conmigo mismo pero y de hecho es así no tey no te lo voy a negar pero lo cierto es que veremos cómo vamos a verlo momento a ver un segundo pero veremos como En definitiva Pues el código evidentemente queda mucho más limpio a ver un segundo vale un momento y vale un segundo que se me ha ido la pantalla secundaria yo que me lo estaba flipando a ver ahora vale venga bien Y decía por tanto que pues bueno fijémonos que en el archivo de formulario nos daremos cuenta como Pues el código se ha quedado superlimpio Yo quiero un formulario ahora veremos esto no hemos acabado evidentemente y aquí en el controlador pues todo se ha convertido en una clase que tiene una función vale luego esto como digo de cara reutilizarlo ahora veremos pues tiene bastante gracia además ocurre que ahora mismo Cómo diría yo esto es Eh Esto funciona Únicamente con una tabla la tabla en este caso es entregas Así que yo lo que voy a hacer ahora es decir no esto realmente es una variable que yo meto aquí entonces Yo vengo por aquí recargo la pantalla y me dice que hay un error interno hay un error interno evidentemente porque yo estoy diciendo que ahora el método formulario lleva un parámetro que es tabla pero en formulario no estoy pasando ninguna tabla Así que yo vengo por aquí y digo sí te voy a pasar una tabla que es entregas y por tanto este método ya se encarga ir a la base de datos se encarga de pasar la tabla de entregas y la tabla de entregas pues se encarga de automáticamente campo a campo rellenar Pues todo aquello que sea necesario vale Así que ahora ya tenemos una clase que además tiene un método y el método tiene parámetros y todo genial bien Ahora que tenemos una clase Ahora que estamos ya trabajando con objetos lo cual es un poco el camino natural es decir hemos empezado trabajando con código estructurado Y a partir de código estructurado Pues cuando lo necesitamos cuando vemos la necesidad Pues saltamos a programación orientada a objetos que es un poco no digo es la única forma de programar no digo tampoco que sea la mejor pero digo es muy natural vale utilizar objetos cuando realmente sentimos la necesidad de ello Entonces ahora yo voy a crear otro método vengo por aquí y claro tengo el formulario pero quiero el procesa formulario vale Así que voy a hacer lo siguiente voy a decir function procesa formulario y pues tengo otro método y voy a poner de momento eco si estás viendo esto es que vamos a procesar el formulario Y entonces voy a hacer lo siguiente eco me falta un punto y coma V este Eco De momento nunca se ejecuta y yo aquí en el form lo que voy hacer Es que voy a meter un campo oculto donde voy a decir input type hidden campo oculto eh name m llave clave o algo así por ejemplo clave y voy a decir value es igual a procesa formulario le estoy diciendo al programa Oye estate pendiente vale Si no hay una clave procesa formulario Enséñame el formulario pero si la hay en ese caso pasa a procesar el formulario vale vamos a por ello Así que yo vengo por aquí recargo vale envío en apoc vale envío y ahora mismo nada está ocurriendo Pero por qué pues por una razón muy sencilla y es la siguiente incluyo controlador vale Y entonces digo si es cierto si iset si existe si Se está enviando un campo por post llamado clave y además es cierto además se da la circunstancia del que el campo clave es igual a procesa formulario vamos a ver en caso contrario E eso ahí no En caso contrario Vale entonces voy hacer si es cierto Dame el formulario y si no es cierto procesa formulario vamos a verlo ahí estoy un parámetro pasando un parámetro que no se ha pedido ahora veremos Vale entonces recargo y dice si estás viendo esto es que vamos a procesar el formulario es decir yo recargo la página y me saca el formulario Y si yo la recargo Tantas veces como haga falta pues vuelve a salir el formulario pero si relleno los datos Y le doy a enviar en ese caso dice si estás viendo esto es que vamos a procesar el formulario Vale entonces a partir de aquí por tanto es cuando puedo recoger el formulario y puedo empezar a hacer cosas vamos a empezar a recoger los datos Y como vemos insisto fijémonos en la limpieza del código final porque toda la caña está dentro del controlador Pues dentro de esa limpieza pues evidentemente Vale bien Ahora lo que voy a hacer por cierto estaría bien que creara otro campo de tipo hidden ahora veremos lo vamos a necesitar llamado tabla cuyo valor es la fila no perdona cuyo valor es la tabla ahora veremos que lo vamos a necesitar Vale entonces okay Ahí no aparece nada Entonces ahora lo que voy a hacer es recoger los datos y decir Bueno pues al recoger los datos voy a meter dato a dato dentro de la tabla lo bueno es cómo voy a saber que los datos de la tabla coinciden Pues porque los datos han venido de la tabla es decir tiene que coincidir Sí o sea cómo voy a un formulario a ciegas y meterlo en una base de datos Pues porque el formulario ha sido creado desde la base de datos con lo cual tenemos de esta forma cierta garantía grande de que los campos pues van a coincidir Entonces vamos a por ello y entonces yo ahora lo que hago es que bueno incluyo config Vale ahora luego veremos si quizás nos podríamos ahorrar Este paso puede ser y entonces digo mysqli lo que sea ahora luego veremos si podemos meter esto como propiedades públicas de la clase y así no tenemos que definirlo dentro de cada método vale pero de momento ahora mismo me preocupa más el funcionamiento que el purismo en la programación orientada objetos es de a tiempo de refactorizar siempre estamos evidentemente Entonces vamos a ver consulta y resultado y bueno y While si realmente no Pero vale vamos a verlo yo digo consulta insert into qué pues vamos a verlo insert into esto Me gustaría que fuera con comillas sencillas no mejor con comillas dobles vale insert into post tabla valius voy a poner identificador le digo identificador vales nul bien Qué va a hacer esto Bueno pues esto lo que va a hacer esto lo que va a hacer es meter un registro vacío vamos a verlo si todo va bien metemos aquí cosas le doy a enviar vale hay un internal server error Entonces el internal es porque esto está mal aquí falta una comilla y yo creo que ya vale recargamos Okay y ahora vamos a la base de datos vamos a la base de datos Vamos a entrar en el administrador vamos a super crud vamos a entregas vale en principio de momento no vale vamos a hacer una cosa ec consulta Okay insert into entreg Entonces yo lo que suelo hacer cuando alguien cuando algo no funciona es copiar la consulta y pegarla a Palo Seco y un poco pues php my admin no quiero aquí nada php my admin me dice si tengo algún error Vale tengo algún error eh Ah sí claro cuidado no puedo no puedo enviar ni sin default value eso es muy interesante vale vale vale Lo cierto es que es cierto entonces bueno Vale pues no pasa nada lo que voy a hacer es todos los datos vale voy a todos los elementos de la base de datos y vamos a procesarlos uno a uno Ok vale Perfecto no pasa nada Entonces esto lo pospongo esto pongo y ahora voy a decir para cada uno de los elementos de formulario que atrapo php for each post Entonces el bucle que estoy buscando este de aquí vale for each post Y entonces digo eco recibo el campo nombre campo me falta un punto con el valor y un br para finalizar vamos a verlo campo tabla con el valor entregas recibo el campo ni con este valor recibo el campo URL con lo que sea recibo vale el campo que haga falta bien pues entonces a partir de aquí lo que voy a hacer Es que voy a procesar cada uno de estos Campos pero exceptuando el valor de tabla Vale entonces vengo por aquí y digo lado columnas es igual a nada y digo listado valores es igual a nada Y entonces ahora para cada uno de ellos digo si nombre campo no es igual a tabla porque tabla es la tabla evidentemente en ese caso listado columnas punto igual coma punto nombre campo y ahora listado valores punto igual a valor voy a poner aquí una comilla sencilla aquí una comilla sencilla y aquí lo mismo Para qué sirve esto Bueno pues esto sirve para que yo ahora venga aquí y le diga consulta no la ejecuto evidentemente insert into post tabla listado columnas y values voy a poner Aquí voy a poner identificador Ok y listado valores vamos a verlo si todo ha ido bien si todo ha ido bien lo que hago es recoger todos los valores de del post lo que hago es meterlos en una cadena y lo que hago es lanzarlos en una consulta me hace falta una cosita al final ahora veremos No de hecho esto va aquí al final a ver comilla punto y coma Esto va así y valor si todo va bien Ahora recargo y me dice insert into entregas identificador clave nif URL práctica apoc aquí no va comillas me acabo de acordar porque no son valores son nombres de columna vale los valius Tac t bien Esto está casi bien pero hay un error y es que hay una coma aquí al final o la hay al final o la hay al principio o sea el error lo habría tarde temprano entonces ahí La idea es básicamente pues eliminar el carácter del final estoy viendo si quizás momentín si quizás como lo tendría antes me podía ahorrar quebraderos de cabeza a ver coma punto recargo claro y ahora elimino la coma de aquí y elimino la coma de aquí y me quedo con esto más limpio Vale pues Ahora sí Y si ahora ejecuto esto Bueno voy a ejecutarlo directamente va ejecuto Esto me voy a la base de datos me voy a entregas vale de momento no pues si de momento no voy a esto y vo a ver si me da algún error ahí sí los las comillas estas sobraban hemos dicho recargo sigue dando error vamos a ver el error copio me voy a sql pego vale vamos a ver a identificador madre mía es identificador venga vale va recargamos vale sigue sin funcionar copio el código lo pego en sql y php admin me dice si hay un error o no vale la columna clave en Field list es desconocida correcto la clave tampoco debo cogerla pues vamos a ver Esto es si nombre de campo es eh No es igual a tabla y también Es cierto que nombre de campo no es igual a clave ya muchas palabras reservadas pero vale recargo de nuevo vale recargo de nuevo y ahora sí ya tengo por fin el registro metido dentro de la base de datos vemos por tanto como he hecho el ciclo completo de un pequeño controlador para formularios no es todavía un control para base de datos completa para panel de control pero ya tengo un controlador para enviar formularios por supuesto ahora hace falta pues como diría yo limpiarlo un poquito vale el si estás viendo esto no hace falta recibo el campo insert into todo esto son mensajes de depuración para nosotros para saber cómo va la aplicación Pero por supuesto Pues ahora tendríamos que enviar eh alguna notificación al usuario de tu registro ha sido enviado correctamente eh redirigiendo a la página principal dentro de no sé cuántos segundos Vale entonces ahora pues voy a hacer lo siguiente eco si estás viendo esto eco consulta eco recibo el campo todo esto ya no hace falta y ahora html redirect entonces voy a copiar pues este aquí Vale y digo eco pego ese campo dentro de 5 segundos quiero volver atrás y voy a hacer un eco div Class notice por ejemplo noticia o notificación p o h1 no lo sé eh registro guardado correctamente y a mensajito que sea amigable para el usuario final que diga eh tu registro Se ha guardado correctamente en la aplicación redirigiendo en cco segundos vale Así que vamos a comprobarlo vamos a ver el ciclo completo ahora estilizar un poco también evidentemente ahora quitaré el campo apoc porque el campo apoc tiene su aquel vale tiene o sea algo que tenemos que ver es si el usuario puede o debe o no ponerlo Vale entonces vamos a ver primero nif 1 2 3 4 5 vale URL Pues mira esta URL de YouTube práctica pues primera práctica y apoc pues voy a meter un número Así que le doy enviar registro guardado correctamente tu registro se redirige en 5 segundos y en 5 segundos vuelve a aparecer esa página y si yo ahora me voy a localhost pues veo como aparece el registro correctamente insertado ahora una vez que aparece el registro correctamente insertado Bueno déjame Modificar un poquito el apoc porque bueno el apoc lo quiero pero no quiero Que aparezca es un problema con el apoc bien lo puedo sacar por ejemplo del listado original y puedo indicarle al sistema que siempre que se encuentre un campo apoc pues le introduzca digamos el valor del tiempo no lo sé otra cosa que puedo hacer es decirle al sistema que si se encuentra un campo apoc pues me lo ponga como número y me lo ponga como vale No lo sé había tendría que verlo una cosa que podemos hacer por ejemplo es esto veamos vamos a aquí teníamos un el shift Vale entonces si el tipo es marchar pues vamos a ver Tenemos aquí Vale pues mira voy a hacer una cosa ec number okay Aquí voy a decir si fila Field es igual a ipoc en ese caso voy a poner disabled vale voy a poner disabled recargo y vemos como el apoc el usuario no puede tocar es decir el apoc es un campo eh oculto o sea un campo deshabilitado y entonces yo le puedo decir que e vamos a ver Vale pues mira si el If si el campo Dónde estás Bueno espera Sí vale el shift Mira este mismo si fila Field es apoc pues en ese caso haré que desaparezca vale pues en este caso si fila Field es igual la apoc vamos a verlo Cuántos paréntesis por aquí pues en ese caso voy a decir hiden a ver un segundo el If es igual a apoc Quito este paréntesis vale vamos a verlo entonces hago así vale principio eco hidden eco number vamos a ver name ep type number claro bien aquí en el int Es que de hecho es number con lo cual ejecuta Este vale voy a decir el If esto puedo poner esto Prim técnicamente un poco por orden de precedencia vale Y luego claro realmente quiero que desaparezca todo digamos vale vamos a ver voy a decir lo siguiente digo si Fil aquí es igual a nul and fila aquí no es igual a ipoc Entonces quito de aquí entonces hago así vale Y ahora el problema está en que meto un nif meto una URL meto una práctica envío vamos a verlo y 5 segundos y aquí está inicio sesión me voy a entregas vale Aquí lo tengo el apoc es nul Vale entonces en este caso yo lo que haría básicamente es decirle al sistema que bueno lo que puedo hacer es ver si tengo forma de decirle que el default value esto iría estructura el default value de apoc el default value de apoc en predeterminado es timestamp vamos a volver a probar Así que meto un nif meto una URL meto una práctica registro guardado vale Y ahora entonces lo que va a ocurrir Es que vengo por aquí y si todo ha ido bien vale en este caso lo está guardando como nul Bueno pues a ver tendríamos que ver vamos a ver cambiamos predeterminado no tengo muy claro que lo haya guardado vamos a verlo no lo está guardando de hecho así que aquí predeterminado curre en Time stamp guardamos vale no me está no me lo está cogiendo con lo cual lo puedo meter mediante el controlador entonces bueno en el caso de que exista un apoc en el caso de que exista un apoc se lo puedo meter pero vamos a ver si lo puedo gestionar mediante mysql vamos a verlo vale Y en este caso voy a probar mediante un comando sql de tipo alter es de Es decir de tipo ddl no de tipo crud sino de tipo ddl entonces voy a decir que entregas quiero cambiar vamos a ver la columna quiero cambiar apoc vamos a ver vale volvemos a repetir apoc Time stamp not null default current Time stamp vamos a verlo copio la consulta por si acaso bien Vamos a ver incorrect en este caso vale cuidado porque me dice que si lo pongo en este caso pues el valor que ya había introducido es incorrecto bien pues vamos a seleccionarlo todo vamos a borrarlo porque entonces lo que tenía anteriormente no valía lo vuelvo a pegar Vale ahora me voy a entregas apoc ha desaparecido el comentario cosa que tampoco me importa demasiado pero bueno Y tenemos el current Time stamp eso así que ahora vamos a probarlo vamos a meter registro guardado vamos a ver si es cierto Entonces nos venimos por aquí nos vamos a entregas Vale y vemos como ahora sí tenemos un apoc y dentro del apoc pues tenemos el current Time stamp Es decir de esta forma pues podemos averiguar Eh Pues bueno digamos en este caso pues En qué momento se ha metido ese registro Y así pues podemos saber correctamente digamos en qué momento estamos trabajando vale muy bien Bueno pues vamos allá entonces ahora continuación lo que quiero es simplemente pues estilizar un poquito esto más que nada para que se quede pues mínimamente correcto y para que se quede mínimamente decente podría introducir esto digamos con algo como bootstrap alguno de los formularios de bootstrap pero el caso es que bueno La idea es que quiero hacerlo lo más independientemente posible Así que voy a poner por ejemplo Beauty form más que nada para ideas visuales beautyform html Vale y pues podemos ideas visuales de cómo hacerlo bonito de Cómo formatear lo bonito Vale entonces Bueno pues tengo por ahí una primera idea he cogido lo primero que ha salido es decir La idea es un poco pues que cojas aquello que más te guste y ahora pues dentro de un orden lo que vamos a hacer es intentar que esto feísimo que tengo a la derecha pues se parezca lo más posible a esto que tengo a la izquierda Así que a continuación pues vamos a ver nos vamos a formulario venimos aquí al Body y vamos a hacer lo siguiente vamos a ver no tengo título de la tabla vale bien pues div y de formulario Así que h1 introduce los datos en este formulario ahora incluimos el controlador y vamos a empezar a poner un poquito de estilo background gre de momento Ok y ahora vamos a ver formulario es with 50% background vale quiero que margin auto quiero que pading 20 píxeles vamos a verlo poco a poco bien quiero que Box Shadow cer píxeles 10 píxeles 20 píxeles Black y Border radius pues píxeles vale tenemos un formulario un poco por encima de todo lo demás a ver el zoom vamos a poner el zoom al 100% bien pues vamos a ver ahora formulario h1 y voy a decir que color rgb 200 no 100 y font size de 20 píxeles y además voy a decir que padding es cer píxeles y margin es 0 píxeles Vale ahora empezamos a introducir cada uno de los apartados vamos a volver a inspirarnos Vale pues el nombre del campo vamos a ver dónde ponemos el comentario Quizás El a ver your name pues por ejemplo vamos a ver có podríamos ponerlo quizás en lugar del lavel podría ponerlo como Place holder Vale entonces vamos a ver pues en este caso voy a hacer lo siguiente en el controlador donde formateo quito el Label en este caso esto lo corto de aquí y aquí voy a poner Place holder es igual a esto punto barra punto vamos a verlo Ahora parece que sí vale muy bien Vamos a ver ahora para cada uno de los campos ahora digo campo input voy a decir que el p es font size 0.6 em cuidado ahí campo input es padding 5 píxeles background pues rgb 20022 y vamos a ver okay Border es kown Okay margin es 4 píxeles y el borde pues lo voy a quitar el borde del campo Okay Entonces ahora tengo el nif tengo esto de aquí un poquito más claro vamos a ver la inspiración visual Vale pues un poquito más claro vamos a verlo 23 muy bien Ahora vamos a vale vamos a ver bien en el nif voy a ir a columnas voy a ir a nif a ver estructura vale Y en nif voy a cambiar y voy a decir en comentarios introduce t nif letras no números primero los números y luego la letra sin espacios y ya está entonces refresco por aquí Vale y ahora vamos a ver cómo hacemos esto no sé si que ocupe el 100% por ejemplo vengo aquí y le digo campo input with 100% vale con lo cual ocupa todo y ahora voy a decirle 95 por para que esté un poquito más centrado bien Por ejemplo ahí en la sombra voy a poner rgb a 0,04 el fondo rgb 220220 220 un poquito más clarito vale Y ahí esto ya empieza a parecer un poquito más vale vamos a decirle margin bottom de 20 píxeles y bueno poco a poco esto se empieza a aparecer bastante vamos a poner vamos a estilizar un poquito más el botón de enviar Por qué se queda así Por qué se queda Así vamos a verlo es un input Ah No claro muy bien pues formulario input de type ig submit Y entonces formulario voy a decirle que Border es igual a padding es igual a 4 píxeles Wi es igual a 200 píxeles no tengo muy claro si el padding lo ha hecho yo juraría que no Ah padding sí 4 píxeles pues 10 píxeles ahy mejor margin auto para intentar centrarlo en la pantalla vale bueno Okay y vamos a ver margin auto Claro si yo le digo al formulario text Aline Center Entonces se me centra pero este elemento no se centra Así que formulario creo que no lo no claro el texaline va en el formulario no en el formulario h1 ahí lo tenemos vale Y entonces puedo poner que formulario p en ese caso texaline left con lo cual ahí lo tenemos vale Y bueno pues a partir de aquí podemos continuar un poco estilizando tanto como queramos pero démonos cuenta que por menos el proyecto se ha quedado en los mínimos archivos posibles al menos en este momento y bueno sería cuestión de pues quizás estilizar un poquito más darle un poquito más de contenido al formulario voy a poner aquí un p en este formulario puedes introducir tus datos simplemente rellenando aquellos Campos que se te piden bien Vamos a ver tengo aquí el p entonces formulario p font size 10 píxeles ahí lo tenemos y de momento ya está podríamos meter algún logo vamos a ver com barfon punico Vale pues voy a meter ese luego es un capricho realmente es simplemente por meter aquí a ver si me permite meterlo ya que es una un origen seguro Vale pues por ejemplo introduce los datos en este formulario simplemente puedes introducir los datos Y tal eh otra cosa que me faltaría es poner pues aquellos Campos que sean requeridos voy a hacer una cosa voy a poner datos como por ejemplo qué Campos son requeridos cuál es el mínimo Cuál es el máximo y así vale tampoco quiero dar Demasiada información por aquello de la seguridad informática Pero bueno vamos a poner por lo menos unos datos de inicio Así que la idea es que vamos a este formulario vamos a verlo bien y Dentro de este formulario Dentro de este formulario vamos a verlo vamos a poner aquellos datos que se han requeridos aparte de required os voy a poner por aquí cosas así que fila comentario y digo si fila nul es igual a no a ver pim salimos eco entramos Vale y digo Si fila es nul eco p este campo es requerido y vemos ahí como por ejemplo pues en introducer t niif primero los números y luego letras sin espacios pues este campo es requerido vamos a alterar la estructura de la tabla y nos daremos cuenta cómo pues se mantiene para todo lo demás Así que nos venimos aquí estructura me voy a la URL nif predeterminado ninguna así que voy a cambiar URL a editar URL por aquí nulo es igual a no edito práctica nulo es igual a no Y entonces si ahora recargo esto por aquí pues este campo es requerido si yo relleno nif y eh relleno esto no relleno Esto me dirá No tienes que completar este campo si yo no relleno ninguno de los dos completa este campo vale Hasta que no introduzca los datos no me va a dejar pasar no me va a dejar enviar ningún formulario Así que vale pues bueno en principio aquí lo tenemos vamos a verlo estoy pensando por ejemplo cambiar el nif por ejemplo un correo electrónico lo bueno que hemos hecho lo bueno que tenemos es que eh cómo te diría yo podemos En definitiva eh cambiar todos estos datos yo ahora por ejemplo vengo aquí y digo ahora nif lo quiero cambiar claro tendría que ajustar un poquito el controlador evidentemente nif Vale ahora se va a llamar email va a ser de tipo bar charar bien vale No te digo que no porque no hay un tipo que sea email dentro de sql no hay ningún problema eh email voy a pasarlo a 30 caracteres 30 40 ya veremos vale vemos que actualizo y ahora se llama email tengo que actualizar también el comentario y entonces digo introduce tu correo electrónico le doy a guardar introduce tu correo electrónico y ahora voy a aprovechar esta excusa en el controlador para decir lo siguiente para decir si el input type es marchar en ese caso ecotex pero vamos a ver le voy a decir si a ver claro esto lo voy a convertir en un Else If Sí el fila name el fila Field es igual a email en ese caso eco email vamos a comprobarlo vamos a inspeccionar para confirmar si es cierto que es de tipo email y por tanto hago así y al enviar me dice Esto no es un correo electrónico Así que info @ lo que sea Wow vale vamos a ver pues esto no debería haber ocurrido info traca vale incluye un signo Pues se ve que con que incluya un signo el validador de correo electrónico de html5 ya lo pasa pues bueno pues Vale entonces le voy a enviar se han introducido los datos y ahora nos vamos a local Host nos vamos a entregas vale Y aquí están los correos que aquí están En definitiva todo aquello que vamos viendo bien muy bien esto por aquí vale Y sobre todo al finalizar esta parte del ejercicio lo que tenemos que hacer es asegurarnos de que el digamos el controlador se queda lo más abstracto posible el controlador se queda lo más reutilizable posible y la digamos el formulario se queda lo más concreto posible Y de esa forma el formulario lo utilizo para este uso y luego digamos que el controlador lo voy a poder reutilizar Tantas veces como quiera ahora Bueno lo que haremos es un poco pues reestructurar estos datos para que formulario solo sea visible desde fuera y no sea visible desde dentro y para proteger digamos el sistema Pero ya tenemos según lo que dibujaba aquí ya tenemos esta parte ya tenemos una vista generada a partir del controlador que tenemos aquí dentro el superc controlador ese superc controlador se conecta con la base de datos digamos que de momento lo que tenemos es esto que ya está bien ya es un principio lo que tenemos es esto tenemos una parte del controlador esto lo quiero hacia adelante una parte del controlador que se lleva bien con la base de datos Esto es lo que hemos creado a continuación o sea lo que hemos creado hasta ahora y por supuesto ahora a continuación crearemos todo lo que hay aquí dentro Todo lo que hay dentro de la aplicación para gestionar lo que está dentro de la aplicación Bueno pues a continuación voy a introducir una mejora en el Software que realmente me va a llevar a hablar de una cuestión bastante filosófica dentro de la programación filosófica pero a la vez bastante concreta por supuesto Así que voy a venir por aquí y voy a entrar dentro de la base de datos voy a ir esto fuera voy a ir aquí a superc voy a ir a entregas voy a editar la estructura y voy a cambiar por ejemplo la estructura de el email digamos bien en este campo yo ahora vengo por aquí y veo que Eh Pues claro Hay un campo de comentarios donde he puesto un comentario pero a mí ahora realmente me gustaría que hubiera más cosas es decir necesito comentarios pero necesito también necesito que haya por ejemplo un Pues he puesto email Necesito un nombre de campo un título de campo En este caso estoy cogiendo el nombre del campo pero claro una cosa puede ser el nombre y otra cosa o sea el nombre del campo en la base de datos y otra el título del campo aquí dentro evidentemente luego por ejemplo pues igual necesito un Place holder es decir pues por ejemplo pon tu email o alguien @ lo que sea algo pues no tengo aquí ni título no tengo el placeholder quiero también crear una máscara que me permita validar ciertas cosas pero no tengo una no tengo Campos para máscaras tengamos en cuenta que esto que estoy tocando no son los las columnas de una tabla esto que estoy tocando es la estructura de una columna de una base de datos Y esto quiere decir que los campos que hay aquí pues son los que hay y no puedo inventarme Campos no puedo para meter aquí a la derecha un campo llamado José Vicente 1 porque no puedo porque es la estructura de un campo entonces este es uno de esos casos donde yo digo Bueno ahora qué hago ahora una de las soluciones podría ser por ejemplo especialmente si a un campo le pertenecen múltiples parámetros digamos múltiples propiedades Pues evidentemente en el momento en el que hablamos de relaciones 1 a n estaríamos hablando de crear otra tabla que fuera propiedades Campos o algo así y funcionaría perfectamente pero me da mucha pereza hacer esa tabla y cuando digo que me da mucha pereza Yo sé que tú estarás pensando bueno la pereza en principio no Debería ser un criterio para elegir Cómo programar una aplicación curiosamente a veces sí cuando tenemos pereza siempre buscamos la solución más sencilla y a veces la solución más sencilla suele ser la más efectiva luego por una parte o por otra parte Cuando digo que me da pereza no quiero decir que me dé vagancia o que esté cansado de la vida que a veces un poco también sino que lo que quiero decir es que una aplicación como esta ya por sí misma ya se va a volver muy compleja como para que yo encima la complique más todavía es por eso que no estoy realmente buscando la solución más vaga sino que estoy realmente buscando la solución que luego digamos complique menos la aplicación Vale entonces una situación cuando tengo una situación de relaciones de 1 a n pero no quiero crear una tabla extra tengo aquí dentro n elementos pues una solución es serializar cómo pues por ejemplo pongo parámetro 1 es igual a algo y parámetro dos es igual a otro algo vale Y a partir de aquí establezco una serialización una lo que yo llamo una longaniza Para luego empezar a cortar la longaniza y así es como puedo resolver ese problema tengo que estandarizar en cierta manera los nombres de los parámetros que voy a utilizar evidentemente entonces dentro de que puedo serializar como quiera pues eh Bueno puedo crear mi propio estándar de serialización o puedo adherirme a un estándar existente tal y como por ejemplo Jason yo con esta cuestión concreta he de reconocer que a lo largo del tiempo a lo largo de los años he ido cambiando alternativamente de opinión es decir hay temporadas que me apetece más crearme mi propio estándar y luego crear los serializados y des serializados hay otras épocas en las que prefiero utilizar Jason y así digamos utilizo algo más estándar pues cada cosa tiene ventajas y desventajas evidentemente ahora estoy un poco en época jas Igual me pillas dentro de 6 meses y estoy en época de crear una propio en fin entonces voy a crear un Bueno voy a buscar un jas example entonces Bueno uno más sencillito evidentemente Aunque yo creo que aquí ya pillamos la cuestión pero a ver J son simple precisamente la gracia que tiene Jason otra cosa que voy a decir es que no solo es un estándar sino que es un estándar a varios niveles puede almacenar varios niveles de información y yo con un estándar propio también puedo hacer eso pero eso es más complejo todavía Vale entonces bueno si Cojo un elemento que ya tiene ese estándar pues mejor que mejor entonces en este caso voy a este ejemplo y ahora voy a venir por aquí a la base de datos voy a poner esto por aquí y voy a decir pues mira hay un parámetro que es el título sin acento y el título es introduce tu nombre luego hay otro para que es el comentario o descripción interesante que lo que elijamos lo elijamos ya y Esto va a ser introduce tu nombre No es tu nombre es tu email introduce el email que sueles utilizar Por ejemplo yo s y voy separando parámetros Vale Voy separando parámetros en una cadena que realmente es un J son estandarizado por ejemplo placeholder lo pongo en inglés porque no sé exactamente Cuál es la traducción de placeholder un placeholder es algo así como que el que te guarda el sitio pero no voy a poner el que te guarda el sitio para eso pongo placeholder igual tiene una palabra digamos de traducción en castellano más sencilla pero no la conozco de hecho Translate voy a buscar a ver si existe esa palabra placeholder y es ador de posición pues no placeholder se queda y placeholder voy a poner alguien ar o persona o por ejemplo persona @ dominio.com vale algo así bien y ya tengo por aquí unos cuantos parámetros unos tres parámetros luego por ejemplo puedo crear otro llamado máscara para más adelante máscara es igual a algo ya hablaremos de la máscara pero de momento dejo ahí algo voy a copiarlo para otros Campos y ahora lo que voy a hacer es guardar entonces vemos como Pues los comentarios del email ahora eh tienen digamos una serie de cosas Vale entonces voy a hacer esto mismo con el resto de Campos vamos a ver Bueno pues cambio hago esto grande le pego la jas esto es introduce la url de tu entrega descripción en este campo debes introducir la URL que has copiado y pegado al realizar tu entrega de vídeo esto es URL del vídeo algo más sencillo placeholder por ejemplo pues https do bar youtube.com y v es igual a Pues a b c d e yo que sé bien ya tengo por aquí esto y ahora pues en práctica pongo algo Como número de la práctica y así vemos como podemos distinguir el título del nombre del campo descripción introduce el número de práctica que vas a subir en esta entrega y persona @ pues esto es introduce un número bien y ya está así que guardo Claro si ahora ejecuto el super crw este superc de momento lo que voy a hacer es ponerme directamente todo el Jason evidentemente Esto no es lo que quiero pero ahora lo que voy a hacer es quedarme solo con lo que quiera del Jason vale quedarme solo con lo que quiera de esta cadena que ahora digamos Lo bueno que voy a tener Es que voy a poder utilizar las funciones predeterminadas en php para trabajar con json bien pues ahora me voy a php parse js decode Vale y vamos a verlo vamos a ver un ejempl ito Sí vale Okay Vale pues Yo vengo por aquí ahora abro aptana y vamos a ver y vamos a ver momento estoy abriendo a tana bien y voy a hacer lo siguiente un momento estoy arrancando vale me voy al formulario me voy al controlador y en el controlador vamos a verlo aquí arriba donde pone el campo Pues voy a poner por ejemplo un título h3 y dentro del título h3 voy a poner jas de code fila comentario esto no hace falta que se escape y dentro de aquí voy a poner el índice del J son Bueno creo que es el índice cero ahora veremos pero es el título Porque creo recordar me lo sé de memoria que he puesto el título vale Okay correcto y ahora vengo por aquí cojo este escapado pego por aquí y esto es comentario o descripción o tampoco me acuerdo descripción vamos a ver si lo tenemos Si yo ahora vengo por aquí recargo vale Hay algún tipo de error Ok J son decode file comand Vale Voy a eliminar esto un momento voy a dejármelo por aquí un poco fuera vale J son de code o vale Sí esto es la parte de abajo estamos viendo como en principio parece que hay algún tipo de error vale un 500 internal server error y eso quiere decir y eso quiere decir que esto de aquí ha fallado no sé por qué puede haber fallado vamos a verlo vale internal server error y en principio el Jason de code coge un Jason Esto es lo que me está un poco extrañando voy a poner fila comand para asegurarme vale Ahí está pero cuando pongo J son decode es cuando está fallando vamos a hacer un bomp bar dump del J son de code fila comment bien y vamos a verlo es un objeto Ah vale Sí correcto es un objeto y por tanto no es una matriz y eso quiere decir que puedo llamar al título Vale ahora sí Entonces como es un objeto como es un objeto puedo decirle que de aquí Quiero llamar a vamos a verlo a momento el título vamos a verlo Ahora sí introduce tu mail tu URL del vídeo y el nombre de la práctica vale con lo cual es un objeto no es una Ray con lo cual si estoy en php esto varía en cada lenguaje pero si estoy en php pues tengo que usar la flecha para llamar a una propiedad o a una a un método de un objeto Así que esto es descripción no descripción Vale ahora le diré en este caso que el h3 esto es formulario h3 es text align left vale introduce luego también quiero decirle que margin cero píxeles pading cer píxeles bien entonces tengo el campo por aquí claro Ahora puedo meter tantas propiedades Como quiera por ejemplo puedo decir que ahora Quiero un número mínimo un número máximo el número máximo lo tenía técnicamente ya aquí bien vale pero puedo ahora meter un número mínimo que hasta ahora no podía y lo puedo hacer perfectamente por ejemplo aquí donde pone email en el page holder pues ya no voy a poner vamos a volver al controlador ya no voy a poner en el placeholder El Fil Field sino que voy a poner el placeholder que parado en el campo Entonces le digo placeholder Y entonces vengo aquí y digo tengo el título tengo la descripción tengo persona @ dominio tengo por ejemplo vale Aunque Por cierto el número de la práctica el número de la práctica es un campo que finalmente es de tipo numérico entonces en número de práctica vamos a entregas y en tipo vamos a estructura y en práctica el barchart lo voy a cambiar por un entero guardo Y así vamos a ver có automáticamente en el formulario puede ser este campo debería haberse cambiado si no me ha dado error a práctica es un marchar vale esto es porque ya tengo datos Y no los puedo bien vale pues voy a eliminar los datos borro estructura práctica es un entero guardo a ver si no da error Vale ahora es un entero y por tanto al recargar pues veremos que aunque ese campo tiene un placeholder pero realmente es un entero otra cosa que puedo hacer que no es tanto de programación sino de usabilidad de ayudarle al usuario es Eh pues indicar digamos Qué es cada uno de los campos qué se espera del usuario que meta en cada uno de los campos Pues bueno podría meter una ayudita visual para decirle que esto es un campo de email que esto es un campo de URL que esto es un campo de número Vale ahora luego lo haré Pero bueno En definitiva es todo información para el usuario Vamos a continuar ayudando al usuario a que sepa pues qué es lo que tiene que rellenar vemos que yo ahora puedo ampliar estos comentarios todo lo que quiera entonces voy a venir por aquí y simplemente editando el jas Pues voy a decirle coma mínimo dos puntos y voy a meter un vamos a ver esto qué es esto es el email pues mínimo no sé 10 caracteres bueno puede haber alguien que tenga un correo cinco caracteres por ejemplo tengo el mínimo Y qué más yo creo que de momento ya así que voy actualizando la estructura voy pegando ese nuevo parámetro en el jas de los comentarios que estoy utilizando en la práctica como parámetros pero no hay ningún problema Por ello vemos Que sql no se queja May sql dice ya sabrás tú lo que metes en comentarios Así que yo ahora vengo por aquí y le doy más ayuda al usuario y le digo ap parte de que este campo requerido vale le digo esto porque así el eco y digo mínimo número de caracter pues quiero min y ahora máximo número de caracteres Y entonces le digo Y entonces le digo dónde estás Max leng Aquí vamos a ver pues bueno vuelvo a decir esto aquí arriba y es 1 vale eh cuidado aquí porque en la base de datos técnicamente la URL mínimo 5 aquí puedo poner mínimo 10 pero práctica importante mínimo uno porque las primeras prácticas tienen un carácter eso quiere decir que yo ahora vengo por aquí recargo y digo mínimo número de caracteres cinco máximo número de caracteres 30 mínimo 10 máximo 30 mínimo uno máximo 20 vale estamos viendo cóm pues le doy más instrucciones al usuario para que sepa Cómo eh Cómo rellenar o por ejemplo aquí donde pone mínimo y aquí donde pone máx a ver pongo por ejemplo valores admitidos o caracteres mínimo cinco dónde estás mínimo está aquí mínimo cco máximo el match y el match Entonces esto fuera y el match tiene que ir antes evidentemente vale entonces caracteres mínimo cco máximo 30 pues mínimo 10 máximo 30 vale Así para cada uno de ellos y ahora lo que voy a hacer es que de la misma forma que he puesto aquí Max leng Pues voy a poner aquí min leng html5 form min leng ahí entonces min leng es min y ahora vengo por aquí recargo y digo vale a @ ec URL del vídeo número de la práctica Ah perdón un número vale le doy a enviar y me dice aumenta la longitud a vale Ahí lo tenemos Pues bien claro caracteres mínimo cinco claro este ya cumple voy a poner Esto vale envío me dice no mínimo cinco Vale entonces La idea es que vemos como todos y cada uno de los parámetros que estamos metiendo en los comentarios que hemos realizado con jas pues se convierten realmente en parámetros vale se convierten realmente en parámetros Esto entonces claro otras cosas que podemos hacer porque realmente a partir de aquí las posibilidades Son infinitas es decir eh yo puedo venir por aquí y decir Bueno yo introduje en el superc controlador una condición vamos a ver y es que la condición dónde estás aquí la condición no fuera apoc y la el campo no fuera clave Pero y si un día tengo un campo clave que me interesa Que aparezca Vale pues puedo hacer lo siguiente puedo hacer lo siguiente Y es que esto lo voy a abrir creo que es ahí es un While y es un If aquí el While y el If yo juraría que es ahí Vale entonces yora hago así y tengo el identificador y tengo el apoc aunque esté deshabilitado cierto pero por cierto porque está deshabilitado ahora que estoy pensando Ah claro mira aquí Vale entonces el apoc encima estaba deshabilitado todo esto son excepciones que no me gusta poner excepciones Pero mira justo pues Espérate Vale entonces voy a hacer así Ahora este campo está habilitado entonces yo puedo meter tantas cosas como quiera dentro de este campo de comentarios yo voy a venir y voy a entrar en comentarios y voy a decir y voy a decir pues deshabilitado con comillas es posible deshabilitado es dos puntos true por ejemplo vale técnicamente Este es false y le voy a decir coma eh visible o activo vale visible es false bien Me cojo estos dos parámetros guardo los voy pegando hacer esto más pequeño Vale y vamos a ver Bueno Este es visible true Por cierto que antes lo he puesto mal este campo es visible true este campo de aquí es visible true y este campo de aquí lo voy a hacer de momento Aunque no me interesa que esté pero solo para hacer la prueba voy a hacer deshabilitado true Y entonces ahora Yo vengo por aquí vamos a comprobar que después de hacer esto Pues bueno número de la práctica evidentemente No es número de la práctica pero yo ahora vengo por aquí y digo si la propiedad deshabilitada si la propiedad deshabilitado es true en ese caso disable entonces vengo por aquí a ver un momentín fila comand placeholder no eh deshabilitado guardo y vemos como el campo está lo veo pero no lo puedo tocar Vale entonces estoy digamos eliminando excepciones y las estoy poniendo en las propiedades J son de los comentarios y es una forma bastante más limpia y extensible de programar y ahora vengo aquí y digo si visible es igual a true Vale pues vamos a ver este identificador Esto va a ser visible false y esto de aquí va a ser visible false Así que guardo recargo y vuelvo a no tener el campo de identificador vuelvo a no tener el campo de apoc pero no los he eliminado mediante excepciones manuales sino que los he eliminado mediante propiedades específicas que he almacenado en el campo de comentarios porque es un campo bastante sufrido digamos es un campo bastante polivalente y En definitiva vale puedo hacer lo que quiera con ese campo ahora yo podría elegir no por la razón que sea Quiero ver el identificador en un formulario concreto o por la razón que sea Quiero ver el campo apoc y que la agente pues lo pueda tocar Pues bien puedo hacerlo vale puedo poner un calendario y puedo poner un poco lo que quiera vemos cómo trabajar de esta forma extender la aplicación de esta forma pues es altamente conveniente desde el punto de vista que pues bueno Esto me sirve para formulario yo ahora simplemente cambio la tabla y automáticamente me vale para cualquier formulario una cosa muy importante es que en formulario digamos podría estar cogiendo vamos a ver aquí podría estar cogiendo entregas como una variable de URL no me interesa hacer eso por un tema de seguridad por un tema de que cualquier persona podría atraparme digamos cualquier tabla Aunque Bueno eso es algo que en un momento dado podemos hablar podemos debatir que es mejor que es peor cómo lo podríamos hacer vale pero de momento lo estoy haciendo por este motivo concreto y ahora a continuación ahora que ya tenemos este controlador más todavía en funcionamiento ahora que le hemos metido más cosas Vamos a continuar vamos a ver si hacemos máscaras o vamos a si hacemos pues eh No lo sé vale a ver si hacemos un poco de estética hay varias cosas que tenemos que hacer bien un poquito de estética pero que no es estética por la estética sino estética por la usabilidad voy a poner un poco el tipo de campo que se le está pidiendo al usuario Incluso si es posible con algún tooltip ahora veremos así que bueno voy a hacer lo siguiente dentro del controlador Bueno voy a utilizar una librería llamada font aome que suelo usar bastante font awesome cdn Vale entonces vamos a ver get started vamos a ver quiero utilizar esta librería quiero vamos a ver quiero recibir el código V ya por dios Yo creo que todos los correos Ya los tengo cogidos Vale pues bueno cuandoo cuando vamos a ver Pam voy a abrir mi correo electrónico cuando recibimos esta este kit de font awesome que hay Tiene un plan gratuito que está bastante bien a ver Estoy buscando en mi correo electrónico Vale y vamos a ver Estoy buscando en mi correo electrónico donde puedo tener el font awesome pero lo que voy a hacer es cargarlo de aquí cargarlo de otra aplicación lo voy a poner aquí básicamente ahí tengo la clave digamos que en un momento dado me han dado Esto es lo que recibimos cuando usamos font awesome y lo que voy a hacer en este caso es decirle al sistema que vamos a buscar font awesome icons vale Ahí estoy un poco particularizando vamos a ver Esto me da un poco de miedo pero voy a intentar hacerlo para que más adelante lo pueda quitar entonces voy a buscar por ejemplo pues como diría yo text hay una html5 input URL a ver type URL este estaría bien que lo utilizara este estaría bien vale Bueno ahora lo veremos pero básicamente yo lo que quiero aquí es decir estoy pidiendo por una parte una un email pues vengo por aquí aparece voy a poner dirección de correo electrónico voy a poner esto hago clic aquí vale Y entonces hago lo siguiente Mira es más sabes qué voy a ponerlo como propiedad entonces vengo por aquí y digo email y voy a utilizar las propiedades y digo icono y en el icono voy a poner aquí fast faat Vale entonces guardo y ahora en cada uno de los campos aquí donde está el input voy a poner div Class contiene campo y aquí después donde acaba el input voy a poner un div de cierre y voy a poner un div Class tipo campo y voy a poner aquí esto y aquí voy a poner unicon No si esto ha ido bien No lo sé vamos a verlo si esto ha ido bien Ahora en el email Hay algún error Por aquí vale No pasa nada vamos a ver el email ha desaparecido vamos a ver campo hiden vamos a ver algo hecho mal Aquí vamos a ver el código fuente vale URL Qué raro ha desaparecido esto a ver si es que me he cargado algo sí sí que me he cargado algo sí vale hay que respetar la sintaxis de El J son Entonces esto es dos puntos no una coma vale vengo por aquí y en principio por aquí Class contiene campo aquí tipo campo Au no Claro he puesto placeholder es icono vale recargo y ahora aparece una aroba y esta ara vamos a ver es ara está Pues bueno ahí tipo campo ocupa todo bueno pu lo siguiente contiene campo input es float left y with 80% por ejemplo y luego contiene campo tipo campo es float right with 20% vamos a verlo vale vemos ahí como empieza a aparecer ahora le ponemos un poquito de contenido evidentemente pero yo creo que ya se empieza a ver tipo campo e tipo campo contiene campo y tipo campo no está cogiendo ese 20% Ah es que esto es OK ahora sí tipo campo vamos a poner aquí un 10% vale Y al final después de cada campo voy a poner un Clear para que deje de flotar otra cosa que puedo hacer es poner el truco Clear flix que es Clear do pun b y entonces lo que voy a hacer aquí en el controlador es decir que después de cada campo de class Clear fix Y eso lo que hace es Borrar todas las flotaciones valeo ah ahora veremos qué hacemos con esa arroba ahora la formateamos un poquito y en URL del vídeo vamos a ver el icono que ponemos entonces vengo por aquí en font awesome voy a buscar un icono que es URL Qué raro que no haya ningún icono URL no sé qué curioso YouTube voy a abrir YouTube por ejemplo Vale pues esto es fab fa YouTube me vengo aquí y digo icono es fab fa YouTube guardo recargo y ahí tenemos el icono de YouTube y ahora número de práctica Pues voy a buscar un icono que sea un número number vamos a ver Vale pues no sé este por ejemplo este fa short numeric app no me voy a acordar vamos a ver aquí en práctica cambio vengo por aquí coma icono dos puntos y quito todo esto quito toda esta paja porque eso lo estoy poniendo en aquí en el código e no quieto guardar vale Así que vengo por aquí recargo y ahí tengo el icono Ya tengo los iconos vale en cierta forma es como que me acabo de casar con font awesome luego podemos cambiar los iconos vale pero de momento ahí lo tenemos Así que ahora lo que voy a hacer es intentar vamos a ver tipo campo y vamos a intentar formatear Esto vale a ver tipo campo background rgb 200 Okay with Pues no lo sé no el ya lo tengo el H 10 píxeles vale vamos a ver el with está el problema Bien voy a hacer un 10% voy a hacer un Line de 30 píxeles en el input vale hago así y le digo vale margin right cer píxeles y que eso me permita crecer un poquito más 87 por vale padding claro ahí está el problema H 20 píxeles vamos a ver y cuidado Vale pues el tipo campo vamos a decirle margin top dos píxeles 3 píxeles de esta forma bueno esto ya queda un poquito más aseado Así que ahora voy a decir que Border radius c píxeles 5 píxeles C píxeles y al input voy a decirle Border radius 5 píxeles 0 píxeles 5 píxeles así queda digamos un poquito más unificado y así pues se sabe que es lo que estoy pidiendo en cada campo ahora vamos a por ello ahora contiene campo input en la línea 18 Pues voy a ponerle todo esto ahora sangramos un poco y en el tipo campo le ponemos todo esto que está en la línea 19 tipo campo ponemos todo esto sangramos y ahora al recargar Pues observamos como ya aparece correctamente con cuidado lo probamos con diferentes anchuras bien con más anchuras se va Lo cual esperable también bueno Vale necesita un mínimo de anchura para funcionar eso siempre luego lo podemos arreglar con css Pero vale por lo menos tenemos un poco esto en funcionamiento otra cosa que se puedo hacer es crear una tabla que eso en un momento dado siempre estamos a tiempo es decir puedo venir aquí al controlador no es una solución muy limpia Pero oye para eso están las tablas o sea tampoco estamos haciendo nada que sea ilegal en Entonces vamos a ver contiene campo voy a decir Table TR TD vale aquí hago cierro el TD abro un TD cierro el TR cierro el Table y ahora por tanto aquí en el TD le digo que un with de 80% estoy metiendo una propiedad digamos a Palo Seco en el TD Pero vale 20% con lo cual ahora fuerzo la tabla vale Table contiene campo Entonces ahora vengo por aquí y digo contiene campo table with 100% okay Y ahora digo el with contiene campo es el 100% tipo campo es el 100% vale Y ahora ahí pues ya no pueden digamos descuadrar tanto lo bueno que tiene trabajar con tabla es esto sigo veo ahí que se montan un poco vamos a ver por qué Así que una pequeña tabla tipo campo margin Vale pues margin top cer y yo creo que ya margin top 4 píxeles vamos a hacer así y ahí por tanto vemos como esto pues se formatea bastante mejor pero sobre todo No es un tema estético es que pues en todo momento usuario le estamos diciendo qué esperamos de él pues Oye introduce tu email introduce el email que sueles utilizar ejemplo persona @d dominio.com le estamos poniendo una ara es decir La idea es que en todo momento pues el usuario sepa qué es lo que qué es lo que le estamos pidiendo el input voy a decir input 2s punos Focus y outline known para que no aparezca el outline Pero lo que sí que puedo hacer es algo así como Pues no sé ponerlo de otro color pues por ejemplo vamos a verlo le digo input background White por ejemplo No lo sé es una prueba y le digo input transition all un segundo y además en el campo input quiero decirle que quiero un Box Shadow pequeñito de c píxeles 4 píxeles 8 píxeles rgba 0,0.3 inset es decir por dentro vale una pequeña sombrita Ahí demasiado 0.1 una sombrita que sea entonces hago así y vemos como cuando meto el campo encima como mento el ratón encima pues se vuelve se pone de color blanco Pues algo que sea suave algo que sea eh llamativo vale algo que En definitiva Pues de una pista al usuario de qué es lo que tiene que meter y con esto por tanto pues ya tendríamos el formulario bastante preparado para Pues que el usuario pueda introducir información y que el usuario En definitiva pueda empezar a rellenarlo cuidado aquí vale si el número se ve bueno a ver un segund Inn input está al 100% ahí no sé si poner a ver 97 por para que se vea bien el tipo Vale pues contiene campo input 97 por vamos a ver qué pasa vamos a ver cómo se comporta cuando los tiro Bueno ahí se ve un poquito pero vamos es tolerable vale Venga pues con eso En definitiva ya tengo como para bueno como para empezar digamos a plantear este formulario a los usuarios que En definitiva al final lo vayan a utilizar Bueno pues podemos hacer más cosas de hecho lo divertido es que hagamos más cosas evidentemente y si abrimos aptana nos daremos cuenta de que bueno el tipo de campo lo estoy detectando a partir de Bueno una mezcla realmente ahora mismo No es muy limpio lo estoy detectando a partir del tipo de campo de mysql cosa que en número por ejemplo no hay ningún problema pero en texto sí que lo hay Y es que pues claro email Pues me ha tocado poner una excepción para decirle que email me lo ponga como email pero URL qué ocurre que es otro campo de texto pero en html pues valida como un campo concreto que es email entonces me voy a controlador y vamos a verlo aquí está y marchar pero si fila es igual a email pero qué pasa si tengo email 1 e email 2 pues entonces es un rollo porque vale entonces no quiero esto no quiero tener que hacer excepciones vamos a verlo sino que lo que quiero De hecho no quiero hacer nada de esto O sea no quiero tener que empezar a atrapar con If Else If sino que va a ser mucho más cómodo va a ser mucho más cómodo my php ahora que tengo el sistema de parámetros en observaciones Pues que ponga vamos a ver super crud vamos a Aquí vamos a estructura Pues que ponga una un parámetro que sea pues tipo o tipo dato o algo así pero lo que elija tiene que quedarse para siempre pues con lo que quiera Vale entonces vengo por aquí le digo cambiar y le digo eh tipo dato y es eh este es int Aunque este justo es el identificador que no se va a ver pero bueno tipo dato int vamos a ver okay vale Sí pero no vamos a ver tipo dato voy a decirle number y así nos vamos directamente al tipo de dato de html5 del formulario En definitiva tipo dato number vale Okay tipo dat number Y entonces me vengo por aquí y digo esto es el email Entonces ahora le digo tipo dato email guardo y ahora viene lo interesante URL algunos navegadores modernos soportan el tipo de campo de formulario url Así que URL vale Este de aquí es práctica es un number Así que number Y por último este de aquí apoc aunque no se va a modificar pero es un tipo de datos de tipo text Así que guardo de hecho técnicamente es un Time stamp Pero bueno da igual no se va a tocar así que a partir de aquí me vengo al código quito los shifts de hecho puedo quitar esto y ahora vengo por aquí y le digo que el tipo de campo es jas de code tipo dato eso qué quiere decir pues eso quiere decir que ahora refresco por aquí y ahora este campo es de tipo email pero este campo es de tipo URL entonces pongo un email pongo algo que no es una URL pongo un número hecho lo ha cogido como int le doy a enviar y dice introduce una URL es decir lo que estás introduciendo no está en el formato correcto Vale pues bueno pues una vez más teníamos ahí el Place holder vale esto que estoy haciendo inevit emente me sirve también cómo te diría yo para hacer un poquito de filtrado de datos vale Ya que pues siempre que uno crea un formulario evidentemente lo primero que temes es que pues a ver cuánto va a tardar alguien en venir e intentar hacer una inyección sql Pues bueno el hecho por ejemplo es que en este caso ahora mismo aquí dentro de que al final Pues bueno hacer una inyección sql Pues no va a ser tan difícil vale Pero porque pueden cambiar el tipo de dato quiero decir que esto que ahora mismo es de tipo URL pues puedo venir aquí y puedo cambiar a tipo text y ya puedo enviar un texto o sea que tampoco hay que ser muy hacker para hacer eso pero o para saber eso pero bueno Luego también hay mecanismos mediante javascript Que si detectan algún cambio pues lo prohíben o algo así pero vamos En definitiva cuantas más digamos entre comillas zancadillas podamos pongamos mejor ya hemos puesto un poquito el enmascaramiento de cada campo Pero además tenemos que poner también Pues algún tipo de mecanismo para que todo aquello que vayamos a hacer pues esté protegido digamos que lo atrapemos entonces La idea es la siguiente La idea es que eh si nos vamos al superc controlador Y analizamos dónde está cualquier elemento que procese el formulario Eh pues lo primero que deberíamos hacer lo primero que deberíamos hacer es vamos a analizar qué es lo que viene antes de meterlo que es lo que viene por formulario y está el pues típico for each vale que hace esto for each y voy en lugar de poner post voy a poner request que lo que hace es que lo atrapa todo Y entonces voy a vamos a ver Bueno voy a voy a ver config No pues esto ahí no antes del config de hecho vale hago así lo bloqueo todo bien Y entonces ahora lo que voy a hacer es decir bueno eco el campo es punto nombre campo y el valor es punto valor okay Así que si ahora vengo aquí y bueno pongo un correo electrónico pongo una URL pongo un número de práctica le doy a enviar y el campo es clave proceso formulario el campo es tabla y el campo es entrega el campo es email el valor es info vale vemos cómo lo estamos atrapando todo Bueno pues yo ahora lo que quiero hacer es de alguna forma poner algún tipo de validación eh Por ejemplo con expresiones regulares para decirle al sistema que si detecta algo que se parezca un intento de ataque pues lo bloquee Vale entonces voy a decir lo siguiente si algo es cierto en ese caso Die en ese caso muere para la ejecución Y si algo es cierto en ese caso para la ejecución Vale entonces vengo aquí pongo php regex una forma vale sencilla y voy a poner sql injection Entonces vamos a ver un mecanismo vale vamos a ver aparte de este de aquí también se puede usar evidentemente pero e Sí pero dame una respuesta vamos a ver no no sí pero no vamos a ver aparte de esto que esto es otra cosa Vale esto un poco estoy buscando vale Bueno pues voy a utilizar esto If preg match voy a utilizar preg match nombre campo voy a poner por ejemplo Drop y poner Esto vale si yo ahora vengo por aquí y digo voy a eh https watch Drop voy a hacer como que ay a venga Qué pasa aquí Ah creo que máximo 30 va a ser demasiado Sí vale vengo aquí pongo Drop le voy a enviar vamos a ver sí OK Pero vale Die y ejecución detenida ese campo Por cierto lo voy a ampliar el campo de URL porque probablemente 30 caracteres son demasiados voy a poner 120 a ver Vale entonces hago así vamos a ver y el valor es un Ok paro esto ahí está ahí se ha acabado vale da Ok entonces recargo bien y si nos fijamos Y si nos fijamos si yo ahora desbloqueo cre Esto vale vamos a ver preg match nombre campo y preg match valor Esto es lo que se me ha olvidado vale un momentín Quiero el tal Quiero el Drop quiero el número le envío ejecución detenida vale ejecución detenida y aquí pondría algún mensajito como por ejemplo pues no se ha podido enviar no se ha podido procesar no se ha pedido no se ha podido lo que sea vale Y por supuesto se registraría el evento en algún tipo de log o en algún tipo de tabla de la base de datos o en algún tipo de lo que sea de hecho yo lo que haría en este caso probablemente es poner algún tipo de archivo de registro digamos intentando evitar Conectar a la base de datos y meter ahí el registro porque evidentemente eso es lo queer cualquier persona en esta situación Vale entonces lo que voy a hacer ahora lo que voy a hacer ahora es poner por aquí y decir Bueno si este es el caso vamos a ver pues voy a hacer algo como un bardom volcado es igual a de request Vale entonces ahora haría php write file es este Y entonces le diría aquí abrimos el archivo volcado en modo append y lo que voy a hacer es escribir F wr y quiero escribir en My file el volcado lo mismo Aquí vamos a ejecutarlo de nuevo okay vamos a ver watch Drop muy bien un segundo Sí pero no bardum vale Okay no es esto Exactamente Bueno no es esto exactamente o qué O no lo sé igual sí que lo es me voy a htdoc me voy a superc veo que hay un volcado ocupa cero cas vale ocupa cero cas Confirmamos que no tiene nada correcto Y entonces php arr to String implode vale bien me puede servir entonces separado por comas vale me vengo aquí y digo volcado es igual a implode de request Okay entonces me vengo aquí recargo ejecución detenida me vengo aquí y entonces proceso formulario entregas José Vicente carratala Drop 1 vale Y pues bueno podría ponerla por ahí algo como eso pondría por ejemplo también le añadiría la IP del equipo vamos a verlo momento par formulario entregas a ver momento Sí pero no Dónde está Okay vale pues bueno pues ahora pondría por ejemplo volcado es esto Perdón separado por comas no separado por comas no esto no hace falta y ahora aquí pues pondría coma php get IP o sea esto bueno Vale y pondría también php get os and browser get browser no este el user agent Así que lo meto aquí Lo pongo aquí recargo esta página voy al archivo de texto cuidado aquí también tengo que meter un contrabarra n para forzar El Salto de línea voy a borrar esto recargo vale Y aquí estoy capturando pues la IP que en este caso es local evidentemente y el navegador y así de alguna forma pues puedo tener un registro de Quién ha intentado atacar el equipo y puedo tener un registro de qué se ha intentado introducir y Cuál ha sido el motivo por el cual pues no se ha podido introducir entonces a partir de aquí puedo personalizar evidentemente el la ejecución vale Y pues Bueno ahí si lo analizamos desde el punto de vista de la seguridad informática Pues hay gente que dice Hay que sacar un mensaje y hay otras personas que desde el punto de vista de la segua informática dicen cuanta más información le des al que te está intentando atacar pues peor Entonces cuando le atrapas el intento de ataque Pues no hay que decir nada porque si le dices cómo lo has Atrapado intentará otra cosa diferente Vale entonces la idea es pues bueno ahora Drop barra delete barra pues una serie de cosas eh vamos a ver php regex multiple words vale Estoy comprobando esto paréntesis tengo paréntesis No pues vamos a ver vale voy a esto Así que esto es nombre campo Vale entonces voy a ver qué pasa aquí esto delete Drop truncate las clásicas palabras y entonces ahora esto es nombre campo esto es valor guardo recargo ejecución detenida y podemos probar también en lugar de poner Drop a poner delete le doy a enviar ejecución detenida pero si no pongo delete y pongo otra cosa en ese caso registro guardado correctamente y vemos por tanto como Pues estamos poniendo un mínimo un poquito de seguridad en el sistema para intentar evitar ataques an