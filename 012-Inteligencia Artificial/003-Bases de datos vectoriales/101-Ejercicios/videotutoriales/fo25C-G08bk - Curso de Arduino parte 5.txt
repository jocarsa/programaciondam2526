bueno voy a ir empezando hoy para empezar tengo por aquí un pequeño bloque pequeño componente vale qué es este robot que se llama show y que lo fabrica la marca pq fabrica una marca de desarrollo llamada bq y hoy voy a empezar hablando no ya de este robot ya hablaremos más adelante de él sino voy a hablar de en este caso la marca bq y de otros fabricantes que en un momento dado crean versiones alternativas de arduino voy a apartar momento este robot ya lo trabajaremos más adelante de momento lo que voy a hacer un momento lo que voy a hacer es poner encima de la mesa otro producto de la misma marca que es una placa base compatible con arduino llamada bq la marca es el modelo es zoom entonces vamos a ver vamos a empezar diciendo lo siguiente yo en principio evidentemente soy bastante partidario de los componentes originales quiero decir que crear un componente original realmente si nos fijamos al final consiste en estandarizar y estandarizar es algo que realmente es muy difícil y cuando digo que es muy difícil quiero decir que el hecho de lanzar una placa como arduino 1 y luego evidentemente pueden sacar otros modelos de placas y hacer que dure en el mercado una serie de años sin tocar y evidentemente que ese diseño valga para los diez o quince años siguientes es un reto muy importante es un trabajo muy importante para otra serie de marcas en este caso bq porque es una marca bastante respetada pero hay infinidad de otras placas en internet compatibles con arduino y que podemos encontrar a diferentes precios cuando digo compatibles con arduino quiero decir compatibles en toda la extensión de la palabra compatibles había empezado a hablar por tanto de la existencia de otras placas compatibles con arduino como en este caso es la placa de la marca bq y modelo phone entonces cualquier placa que sea una variación de arduino evidentemente siempre representa mejoras qué mejoras pues bueno ahora vamos a hablar de ello en este caso por ejemplo en el caso de esta placa tenemos evidentes mejoras como por ejemplo contamos por aquí visiblemente con toda una fila de mejor dicho tres filas de conexiones macho señal voltaje y masa si nos damos cuenta esto es lo que podemos hacer con el shell de conexiones que tenemos para arduino si nos fijamos esto que tenemos aquí cumple la misma función que esto que tenemos aquí pero claro cuál es la diferencia pues que mientras que en arduino nos hacen falta dos componentes en esta placa lo tenemos todo en una sola placa pero además encontramos otras ventajas como que por ejemplo el controlador de arduino original arduino 1 tiene un botón de reset aquí vale volvemos aquí en el controlador de arduino zoom lo tiene aquí pero al igual que ocurre en algunas variaciones de arduino pero además en el arduino zoom encontramos un botón de encendido y apagado qué es una tontería pero que sin embargo la placa original de arduino no tiene y de vez en cuando pues ser capaces de encender y apagar la placa sin tener que desconectar la corriente físicamente sino con un interruptor pues oye es una muy buena idea no sólo esto no contentos con esto sino que además ocurre que algo que pasa muy desapercibido es que esta placa tiene por aquí como una especie de dibujito entonces ese dibujito si yo cojo por ejemplo por aquí el sensor de bluetooth un sensor de bluetooth estándar para arduino me doy cuenta de que ese dibujito no es exactamente el mismo evidentemente pero viene a coincidir un poco con este dibujito de aquí es decir esta placa de arduino lleva integrado un receptor y un emisor de bluetooth qué bueno que vales que no pasa muy bien entonces como digo pues básicamente fijémonos que de entrada básicamente la placa de arduino bq zoom en este caso de entrada equivale a estos tres componentes equivale a una placa arduino a un arduino cell y a un pequeño controlador bluetooth del cual hoy hablaremos puedo obtener más información si voy a la propia página web vamos a ver y busco bq entonces vamos a ver no quiero el zoom que yo tengo el kit de hecho pero hoy de momento de lo que quiero hablar es desde el funk or el zoom core es evidentemente el núcleo vale que es únicamente la placa ahora hablaré también de el kit vale porque tengo por aquí componentes del kit entonces lo primero que vemos eso sí es que el precio es de 34 con 90 que arduino 1 si miramos el precio de arduino 1 en shopping veremos que una vez tampoco estos precios porque esos precios no son reales pero mira sabes que arduino uno en una tienda de estas de las cuales nos fiamos nos podemos fiar del precio entonces arduino pues mira por ejemplo entre en robots op esta placa está por 20 euros aproximadamente mientras que la placa bq zoom está por 34 euros pero también hay que decir evidentemente que como hemos visto realmente la placa de arduino corresponde a la placa de bq zoom quiero decir corresponde con otros tantos componentes vale dentro de que sobre todo quiero hablar de la placa de cv core pero también como digo es inevitable tener en cuenta que existen componentes que vienen con esta placa componentes como cual es bueno pues tengo toda la semana los componentes molestándome encima de la mesa y ahora que los estoy buscando ahora no los encuentro un momento que me giré vamos a ver pues mira por ejemplo momento voy a unos cuantos por ejemplo tengo aquí dos componentes uno es un sigue línea que de hecho es uno de los ejercicios que vamos a desarrollar en la clase de hoy otro es un led esto que estamos viendo aquí es parte del zoom kit es decir por una parte podemos comprar la placa suelta por otra parte podemos comprar un kit donde vienen pues es un kit de componentes y luego por otra parte podemos comprar los componentes sueltos en este caso el kit de componentes si nos fijamos traen un cable de conexión ya no tengo que conectarlo a mano sino que tampoco me hace falta realmente un bread board sino que vemos que tenemos un cable que tiene rojo perdón negro rojo y blanco y si nos fijamos las conexiones tengo negro rojo blanco entonces qué ocurre pues que si yo tengo por aquí un cable negro rojo blanco y lo conecto con negro rojo blanco o simplemente lo que tengo es que hacer así y se acabó pero que no se ha evitado esto pues esto nos ha evitado usar el bread board nos haya evitado usar cablecitos nos ha evitado tener que ver dónde lo conectamos entonces por eso vuelvo a repetir que yo le tengo un respeto grandísimo a la placa original de arduino porque parece que como que me haya dejado esto ahora mismo de lado como que esto ya no vale no en absoluto es decir yo el curso lo voy a basar en la placa arduino 1 y no me quiero enredar con placas compatibles desarrolladas por terceros quiero irme a la placa original pero sin embargo en ocasiones existen variaciones de esta placa que en un momento dado valen la pena por ciertos momento antes de seguir antes de empezar a trabajar con componentes si nos vamos a si nos vamos a si nos vamos a las características tenemos el pq core que es este que tengo aquí de hecho si miramos la revisión si miramos la revisión la tenía por aquí espera que no estás viendo el vídeo este esta placa es la revisión 7 617 entonces ese estaré aquí que para la entrada de 33 voltios tiene 50 miliamperios hablaremos de ello para la entrada de 5 voltios tienen 3 amperios que hablaremos de ello tiene el botón de encendido apagado tiene bluetooth no es 4.2 es 2.1 pero bueno de sobra el chip que tiene bluetooth el bit rate de bluetooth tiene 19.000 en lugar del 115 mil pero para lo que queremos hacer probablemente nos va a servir perfectamente bien el usb es micro ve no es de tipo b podemos ver aquí podemos ver que la conexión es la típica conexión de teléfono móvil no es la conexión de impresora vale es un poco lo de menos verdad 14 pines la última versión a 16 mega pines analógicos lleva el procesador compatible con arduino evidentemente tiene el botón de reinicio evidentemente y se puede reiniciar por bluetooth y evidentemente por usb perdona y evidentemente de herida de arduino uno está de aquí deriva de vamos a ver aquí el asterisco deriva de arduino uno cuidado porque ésta lleva la alte mega 328 pp y ahí es donde podemos tener problemas de compatibilidad allen entonces voy a hacer un par de ejercicios para demostrar el uso de esta placa y para demostrar que algo por ejemplo como pues trabajar con un led pues nos puede ser más fácil que por ejemplo en otras sesiones yo estaba jugando antes con un botón y esto parece broma pero no lo es será un botón uno de los ejercicios qué quiero hacer para la clase de hoy no voy a poner componentes encima de la mesa estos componentes que estás viendo son del kit de bbq por cierto que son componentes que son compatibles con arduino es decir yo puedo sin ningún problema estos componentes y conectarlos con la placa arduino porque al final no son más que componentes electrónicos ya que o bien puedo la placa de cv zoom y conectarle cualquier componente que yo quiera o bien puedo componentes de bq y conectarse los arduino y tampoco hay ningún problema por ello vale entonces no estamos hablando de exclusividad de hecho para como soy yo si estuviéramos hablando de exclusividad ni me hubiera molestado en enseñar esta placa porque para mí la compatibilidad es algo muy importante bueno el botón que estaba buscando es este vemos que es un botón que se puede pulsar que por otra parte no es exclusivo de esta plataforma ahora sacaré botones estándar de arduino pero fíjate que como componentes esto es parte del kit como ya te digo tengo el botón tengo el sensor de tiralíneas voy a verlos dejando a la derecha tengo un tengo dos de hecho tengo un sensor de luz pero fíjate ya viene atado a la placa y ya viene con los cables preparados vale de hecho el sensor de luz verás que tiene otro código de color mientras que hay componentes digitales que tienen el código de negro rojo y blanco el sensor de luz tiene negro rojo y azul pero es que si nos vamos a la placa veremos que los puertos analógicos tienen los colores rojo negro y azul es decir que no se está diciendo este componente no es tradición o bien no te equivoques no le pongas en los puertos digitales pon esto en los puertos analógicos entonces esto es genial porque incluso nos está diciendo dónde conectarlo tengo este es otro sensor de luz vale tengo este se le dará empezaremos con él este es el otro tiralíneas este es un potenciómetro te acuerdas el otro día que utilizamos uno no de bq sino uno estándar y esto es otro leer y esto es algo esto es un triple tiralíneas que era luego voy a hacer un ejercicio con ello entonces el momento déjame que saque todo esto de la mesa este cable evidentemente es un cable usb que no cabe en este conector entonces tenemos que usar otro tipo de cable es este de aquí el típico cable de teléfono móvil android por ejemplo que donde este extremo se conecta al ordenador y este extremo se conecta a la placa base entonces vengo por aquí con esto este conector vale ahí lo vemos y ahora a continuación lo que voy a hacer es conectarlo a la parte de atrás del ordenador un momento de levantar y voy a conectarlo bueno como estamos viendo en la pantalla al conectar el cable por usb aparece una luz verde de señal de power lo que te decía yo puedo este interruptor y por ejemplo decirle que lo quiero apagar vale entonces de esto de hecho es ahora mismo está en on pero lo que voy a hacer es apagarlo el power vamos a estar haciendo mucho caso luego aparte a ver lo bajaron este momento hay por aquí un led en fin bueno lo que sea voy a darle y ahora a continuación lo que voy a hacer es programar este letra vamos a ver básicamente voy a desconectar el led por supuesto voy a abrir arduino y d segundo estoy abriendo el la interfaz de programación es la misma hay un lenguaje de programación visual basado en scratch para programar esta placa pero es que no me gusta porque es muy para niños entonces pues para nosotros que somos más mayores pues claro nos queda un poco como ridículo realizando paquetes vale y vamos a hacer un bling es decir vamos a crear un proyecto de ejemplo un bling lo voy a guardar como lo voy a guardar en el curso de arduino como 016 bling bq voy a lanzarlo a ver entonces vengo por aquí vamos a ver el tema del puerto vale en este caso me dice que no puede abrir el device me voy a herramientas que había puerto me voy en este caso a usb serial y vamos allá vamos a activar esto voy a lanzar y ahora si ya lo tenemos ahí lanzando bien si nos fijamos en el programador no está en sincronía actualización para tarjetas y librerías le dado pero vale vamos a volver a lanzarlo ok y bueno en este caso lo que voy a hacer es ver si tengo que especificar otra placa vamos a ver si tengo que especificar otra placa o ver si tengo que especificar arduino veten o algún otro modelo de placa de aquí estas son las diferentes placas que tiene arduino y quizás lo que estaba ocurriendo es que esta es compatible con arduino vete un momento y vamos a verlo y hay que hacer en este caso es que en la placa vamos a decirle que la placa es arduino vete ballet con la atm 328 es decir vamos a asegurarnos que el procesador es atm 328 correcto porque además si nos fijamos esto es lo que nos decían vale que tengo el procesador 328 no el pp así que vamos a ver si ahora si me dejáis a lanzarlo el domingo este y ahora así que está recibiendo bien y si nos fijamos el led que es este que tenemos aquí está parpadeando cada segundo entonces por ejemplo en este caso lo que voy a hacer es que voy a reducir este tiempo a 100 milisegundos para comprobar que eso efectivamente da algún cambio y ahora a continuación se carga el nuevo sketch vamos a fijarnos ahí y si nos fijamos ahora evidentemente lo que hace es parpadear más rápido voy a devolverlo como estaba más que nada porque este efecto estroboscópico igual nos puede llegar a molestar la vista vale estoy lanzando allí muy bien y a partir de aquí lo que voy a hacer es cargar algún proyecto de led para que veamos lo compatible que es trabajar con el resto de cosas de que hemos trabajado hasta ahora y entonces vamos a ver en este caso voy a conectar este componente que como vemos es un led de color blanco vale y lo que voy a hacer es conectarlo por ejemplo al puerto 8 me aseguro que el color de los cables corresponde lo conecto al puerto 8 y ya está y ahora a continuación lo que hago vamos a ver espera que se me ha quedado al revés es venga lo que hago es recuperar el proyecto de leer por ejemplo cargo este proyecto de ley lo guardo como 17 jeff beck y mira justo el puerto 8 eso esté conectado menos mal vale pues ya está pues vamos a verlo lanzamos el sketch vamos a probarlo y si todo va bien ahí lo tenemos bueno machaca bastante la vista la leva de color azul si nos fijamos así y si nos fijamos así como el ejercicio del left pues bueno nos costó usar la placa bread port nos costó conectarlo o nos costó tirar unos cuantos cables bueno pues con esto no vale con esto lo podemos hacer así de fácil y así de sencillo vale vamos a ver más componentes vamos a ver qué más podemos hacer con esto vamos a ver a continuación quiero trabajar con un componente de hecho en el que viene en dos palabras por qué quiero trabajar con un componente qué es este de aquí este componente insisto y te lo vuelvo a repetir no es un componente ninguno de los que te voy a enseñar lo es por cierto no es un componente específico de bq ninguno lo es como te digo la prueba es que para luego vamos a trabajar con este otro componente que es el mismo componente el mismo tiralíneas multiplicado por 3 de hecho fíjate que incluso están físicamente separados los circuitos vale y tiene como veis aquí sus digamos su emisor y su receptor de infrarrojos entonces este lector lo que hace es lo siguiente lo que hace es comprobar cuando debajo de estos lectores esto se pone así de abajo hacia el suelo ahora lo verás al aire por un folio cuando hay una línea o sea cuando hay color negro o cuando hay color blanco la mejor manera de demostrarlo es ponerlo en práctica lo voy a conectar al puerto 7 esto quiere decir que pues me busco ahí el puerto 7 busco la correspondencia de colores de cable y lo conecto vale me dice que está encendido y un pequeño led pero es él simplemente es para dar fe de que está encendido y ahora a continuación era continuación vamos a ver vale voy a crear un nuevo proyecto esto lo puedo observar de momento voy a crear nuevo proyecto voy a minimizar estos proyectos en la continuación voy a guardar este proyecto como vamos a ver curso de arduino como 0 18 sigue líneas vale a continuación vamos a ver un segundo vamos a ver a continuación en este caso lo que voy a hacer es realizar algún tipo de lectura en este caso vamos a ver aunque este componente teóricamente es digital lo que voy a hacer es conectarlo al puerto a un puerto analógico lo voy a conectar al puerto 3 por ejemplo al puerto 3 back ahora en este caso en el setup pongo ya lo hemos puesto más de una vez sería el punto de yin es decir vamos a arrancar el puerto serie a 9.600 audios y en este caso voy a decir lector es igual ahora lo ocurrido y en este caso lo que voy a decir es que quiero leer en el puerto lo he conectado en el número 3 bien entonces ahora a continuación digo lo siguiente lector lo pongo también en el loop es decir que se ejecute tantas veces como pueda y ahora voy a decir lo siguiente serial punto print line y quiero que me muestre es el lector vamos a verlo a ver qué sale le doy a cargar el lector la a-66 perdon perdon me dice que hay un fallo porque parece que he definido lector aquí pero no es así int lector y de momento le voy a dar igual a 0 esto qué quiere decir porque le estoy diciendo que el lector es de tipo entero lo inicial hizo con un valor y luego más adelante ya sobre escribiremos el valor porque para eso es una variable así que recargo vamos a leer lo vamos a ejecutarlo y ahora voy a abrir el puerto serie voy a abrir el puerto serie vale lo tenemos fijamos nos está lanzando por ahí una salida hay una cosa muy divertida y es que si nos fijamos el propio componente mecánico tiene un separador casi no se ve pero ese separador sirve para que un emisor no caiga directamente en el reflector sino que únicamente caiga entonces nos fijamos si nos fijamos el sistema lo que hace vamos a debe algún folio por ejemplo por aquí tengo esto de las cuerdas que utilizamos otro día que al final nos utilizamos entonces si pasó esto por encima en blanco me da una lectura vamos a verlo y cuando hay algo delante me da una lectura y cuando hay otra cosa me da otra lectura por ejemplo vamos a ver negro 244 y cualquier cosa que no sea negro me da 79 42 44 7 94 vale eso qué quiere decir puesto lo que quiere decir es que yo ahora puedo un rotulador y puedo hacer lo siguiente voy un segundo a un folio en blanco y ahora vuelvo no te vayas que vengo en dos minutos tengo un folio en blanco voy bajar el tiempo de exposición ahí tampoco nos pasemos vale y yo a continuación lo que voy a hacer usando un rotulador negro y un rotulador negro voy a dibujar lo siguiente voy a dibujar una línea y luego la línea por ejemplo hacia así déjame marcar un poquito más la línea déjame hacerla gruesa una cosa así que yo ahora vengo por aquí coloco esto lo coloco contra el papel fíjate que lo estoy colocando así contra el papel no dejes de ver el puerto serie es más allá y si ahora lo paso por el color negro hola no es suficientemente negro para hacer no pasa nada vamos a ver momento vamos a probar esto es 29 37 95 estoy pasando por este color negro pero parece que este negro no es lo suficientemente negro tener que usar una cinta adhesiva negra también te digo que esto se puede calibrar s esto que estás viendo aquí se puede calibrar para especificar cuál es la sensibilidad del aparato un segundo ahí podríamos meter un destornillador como veis de tipo phillips yo lo que voy a hacer es un cuchillo porque ahora mismo no tengo un desarrollador pequeño a mano un segundo ahora vengo y una vez que he cogido un cuchillo lo que voy a hacer es editar este potenciómetro y girarlo a ver si nuestro al revés si no haber hecho al revés y vamos a verlo aquí ahí lo tenemos vale entonces ahora fíjate que al editar la sensibilidad quiero que me pasado porque ahora no reconoce nada es decir ahora reconoce ese color negro pero no reconoce nada a continuación vamos a calibrarlo a ver ahora y ese color negro sí que lo reconoce el color blanco lo reconoce pero el rotulador negro no por alguna razón bueno pues no lo sé voy a alguna otra cosa a ver qué puedo algún papel que tenga blanco y negro impreso por ejemplo tengo aquí un documento entonces este documento fíjate que si hago así perdón así tal y si le pongo encima reconoce que es negro realmente reconoce cualquier cosa menos línea negra vale bien pues esto para qué nos sirve exactamente para a continuación lo que voy a hacer es desarrollar el mismo ejercicio pero ya sin la placa bq sino que voy a volver a la placa arduino te voy a decir que bueno déjame momento y no voy a volver todavía la placa abdominal abras porque es más quiero hacer el ejercicio del botón vamos a hablar tengo por aquí otro componente exactamente igual tengo por aquí otro componente es decir el kit viene en dos la pregunta es por qué pues por una razón muy sencilla porque estos componentes se trabajan como mínimo en parejas y de hecho si te fijas en este componente que tengo aquí no de bq sino de arduino normal hay tres componentes a la vez porque pues por una razón muy sencilla que vas a ver en el ejercicio a continuación voy a continuación a conectar dos componentes los conectó en el puerto 3 y en el puerto 2 es decir tenía ya el 3 pues lo voy a conectar al 2 un poco de ello ok vale ya lo tengo ahí y ahora lo voy a programar evidentemente ahora a continuación vengo aquí lo guardo como lo voy a guardar como ejercicio 19 siguen líneas versión 2 y ahora lo que voy a hacer es vamos a decir una cosa lector izquierda es igual a cero y lector derecha es igual a cero entonces lector izquierda lee en el puerto analógico 3 y lector derecha lee en el puerto analógico hemos dicho que el 2 y ahora voy a hacer lo siguiente lector izquierda es léeme el 3 el lector derecha lm el 2 así que dime lector izquierda más guión más lector derecha qué es lo que hace eso lo que hace eso es ponerme los dos a la vez vamos a verlo igual tendré que calibrar el otro lector por cierto vale estamos lanzando a no ser que te rompa parece que tardar un poco seguramente lo ha conectado correctamente en un segundo por qué a 32 estoy asegurándome que todo esté conectado correctamente en principio así es yo creo que esto se ha quedado frito si se ha quedado frito voy a cerrarlo y voy a volverlo a abrir arduino los hierro no vuelvo a abrir porque parece que se había quedado un poco frito la verdad no sé por qué no se ha dibujado con rotulador negro pero en fin vale les recuerdo y no es nada de esto abrir reciente no abro el sigue líneas versión 2 lo lanzó a la placa vale cargo el monitor se bien l igual y esto no sé qué es pero evidentemente no es lo que yo quiero vale vamos a ver vamos a sacar solo el lector y parece como que se halla quedado frito y no sé por qué porque no debería vale ahora sí y parece que se ha quedado frito haciendo eso el lector y el lector ve si ahora engancho eso no pasaba porque lo puedo poner en dos líneas no quería poner en una sola línea efectivamente bueno no pasa nada voy a cerrar esto voy a decirle al sistema que izquierda el lector es más voy a lanzar esto no a seguir saliendo mal esa encadenación tierra no bueno no pasa nada lector d lan show monitor se ve bien ahora tendremos las dos lecturas ahí están bien tenemos las dos lecturas correctas y ahora vamos a ver qué es lo que pasa cuando pongo un objeto negro ahí no pasa nada y ahí sí qué pasa y ahí no pasa nada esto es porque este componente también tiene que ser calibrado entonces bueno lo que libramos dónde está el cuchillo loca libramos el puerto serie al revés 700 por ahí y los cientos por aquí voy a hacer una cosa va a ser un delay de 1000 porque si no veo los números correr y no veo nada pero le pongo en blanco ok 200 y 700 vale este ya está calibrado y ahora vengo por aquí hago lo mismo y 200 700 y 200 correcto eso ya está calibrado y eso quiere decir que si yo ahora los pongo a los dos con una superficie negra debajo quiere decir que ahora me dan 200 superficie blanca aumentar su perfil blanca son 700 superficie negra y superficie blanca son a ver 700 superficie negra 200 ok vale ya los tenemos correctamente calibrados ahora cómo funciona esto un robo tiralíneas y esto nos va a llevar a la siguiente parte de la clase un robo tiralíneas funciona de la siguiente línea como me ha fallado el rotulador no sé por qué voy a utilizar un cable como si fuera la línea que tiene que seguir el robot tú imagínate qué el robot en la parte de delante tiene estos dos cacharros y lo que hacen esos cacharros es detectar vamos a verlo ahí cuando estoy pasando por una línea negra mesa y ahí detecta la línea negra ahí detecta la línea negra y detecta la línea negra y ahí detecta la línea negra cuidado detectar qué es lo que ocurre pues que cuando el robot se vaya hacia la izquierda cuando se encienda este sensor en cuanto sea y se encienda el sensor live le debe decir cuidado te estás yendo hacia la izquierda la línea se está saliendo por la derecha luego tienes que girar a la izquierda si ocurre lo contrario si el robot se va hacia la derecha en este caso se enciende el otro sensor que básicamente lo que inicia el programa es cuidado te estás yendo hacia la derecha y por tanto tienes que girar hacia la izquierda vale entonces por eso estos dos componentes si te fijas son bastante divertidos porque funcionan bastante bien en el sentido de que pues tienen un funcionamiento bastante curioso pero a la vez bastante divertido bien a continuación ahora como te decía voy a quitar la placa de bq voy a hacer esto mismo con la placa de arduino muy bien en este caso tengo de vuelta conectado conectada a la placa ahora la placa base de arduino 1 a continuación voy a ejecutar el proyecto blink pero sobre todo lo voy a ejecutar con una razón muy sencilla voy a abrir el bling normal a ver archivo a abrir voy a abrir el bling normal simplemente para que te des cuenta simplemente para que te des cuenta de que necesito decirle al sistema que he vuelto a conectar una placa arduino que ya no es la placa de antes evidentemente a ver un poquito más de luz no al revés después vengo aquí no vengo aquí herramientas placas arduino vuelve a intentar cargar loba el puerto es fan vale intentó cargar el sketch y es posible que de error para fastidiar no dará error el programador no está respondiendo eso es porque lo que tengo que hacer es decirle que vuelvo a una placa arduino 1 ahora vuelvo a lanzar problemas subiendo la placa es una placa arduino 1 el puerto esa mirada hasta está no sé por qué ha dado de error porque al final sí que lo ha subido ok ahora voy a poner mil por aquí guardo recargo vamos a ver si la sube sí que la está subiendo y ahora blind que a un segundo global ha dado un aparente error pero no era un error realmente muy bien entonces ahora a continuación voy a localizar este componente que le gusta perder pero aún no puedo perder si es que estaba aquí alguien tengo este componente entonces este componente tiene tres puertos que si nos fijamos el enfoque si nos fijamos cada uno de ellos tiene un gran un voltaje y una señal lo cual prácticamente nos lo están dando resuelto en este caso voy a ver si puedo usar el break board digo a ver si puedo porque la separación no sé si es estándar sí que parece que es estándar vale lo que ha hecho es vamos a verlo podemos conectarlo ahí albret bordo y lo voy a conectar así vamos a conectarlo así y la verdad es que no si veo cuál así porque estoy dudando pues por una razón muy sencilla porque la señal necesita triplicar la vale entonces cojo cables en una posición muy delicada los cables al espejo cojo los cables tengo cables macho con lo cual vamos a por ello tres cables es que me da pena porque realmente necesito mini cables pero da igual podría usar la placa de arduino zoom pero da igual si quiero usar la sala bbq zoom ver si quiero usar la placa de arduino para que veas como ya he hecho media clase de hoy con la placa de bq para que veas que todo lo que vamos a hacer se puede hacer con la placa de arduino entonces a continuación lo que voy a hacer es lo siguiente localizo que tengo una serie de puertos signal perdonado serie de puertos voltaje que es el del medio el desconecto el del medio al carril del más momento al carril de más conecto el del medio voy a tener que dar la vuelta veremos conecto el del medio al carril del más conecto el del medio al carril del más ok y ahora lo que voy a hacer déjate ahora lo podrás ver mejor lo que nos ahorra la placa bq nos ahorra todo esto ahora cojo otro cable citó y el puerto más lo conecto a uno de los puertos de voltaje de 5 voltios de la placa vale ahora a continuación hago lo mismo con el ground para a continuación cojo tres cables más que tengo por aquí tres cables y conectó las partes ground que son las patillas de la izquierda la patilla de la izquierda al carril menos la patilla de la izquierda tú fíjate lo difícil que se empieza a hacer trabajar de esta forma a la patilla para que no se me escape a la patilla menos en la patilla de la izquierda salgan las conexiones el menos y ahora con otro cable lanzó desde el carril menos hasta el ground donde estas ground ahí está el ground y fíjate la maraña de cables que tengo y por eso apreciar lo fácil que es hacerlo con una placa de kusa que no es un capricho quiero decir que realmente la placa de cv tiene esta ventaja valera luego lo haré también con el sil de arduino y ahora a continuación en los puertos analógicos voy a usar el puerto 2 y el puerto 3 por lo cual esto lo conecto a cada uno de los puertos para esto es una salvajada mira voy a usar directamente el field porque de esa forma vamos a ahorrar una barbaridad de cables porque es que esto es un lío que no veas entonces muy usar el field voy a usar el field un segundo que se ha desconectado el monitor - dyn un segundo que se la desconectó al monitor como te decía voy a usar el sil lo conecto allí ahí tenemos los shield ahora evidentemente voy a utilizar una serie de cables hembra para ello uso los cables que te acuerdas que comenté que compre el otro día pues ya me han vuelto a desaparecer y aquí tenemos los cables y de esta forma con el field nos vamos a ahorrar una gran cantidad de cables en el verdor saco un paquete entero de cables voy a conectar voy a darme más luz disminuyó la sensibilidad de la cámara y ahora lo que voy a hacer para cada uno de estos puertos es conectar como veíamos antes el signal lo voy a conectar aquí ahí tienes los analógicos el signal lo conecto al puerto 1 el voltaje lo conecto al voltaje del puerto 1 la masa la conectó a la masa del puerto 1 y tengo que hacer lo mismo con dos puertos más es decir fíjate cómo tengo conectados los cables en el dispositivo y tengo conectados los tres cables en el puerto analógico uno del sil montado dentro de arduino ahora a continuación como te digo hago lo mismo para dos más tengo el signo signal tengo el voltaje tengo la masa y lo mismo para el tercer sensor fíjate que prácticamente me voy a poner una bolsita de cables hembra la señal y aun usando el field hay cables imagínate el voltaje y la toma de tierra en total 9 cables vale son nueve cables conectados a los puertos analógicos recuerda que estoy usando el 1 el 2 y el 3 y los 9 cables conectados a estos sensores vamos a poner un cable negro o algo negro en definitiva a ver si ya reconoce algo y fíjate que esto es parece que bueno casi están calibrados y porque fíjate que luz reconocen no luz no reconocen y sin embargo pongo un objeto negro y sí que reconocen correctamente o sea que la calibración en estos parece que sí que está correctamente realizada pero quiero leer quiero realizar una lectura para confirmar que algo está saliendo por el puerto serie entonces a continuación voy a recuperar el sketch del sigue líneas lo voy a guardar lo guardo con el nombre 20 proyecto 20 sigue líneas versión 3 vale por cierto a veces está seis líneas me reconoces y estas líneas y que parece ok pero no está tan bien configurado no está también configurado no está tan bien configurado porque básicamente cualquier cosa que le pase por encima ok ahora lo configurar con esto de aquí entonces como decía quiero leer el puerto entonces esto va a ser lector izquierdo lector derecho y hacemos crecer este ejercicio con una nueva variable llamada lector central vamos a ver ahora esto va a ser divertido el lector izquierdo es el puerto 1 el lector central es el puerto 2 y el lector derecho es el puerto 3 porque los he conectado en ese orden igual me equivocado con izquierda derecha vale pero la cuestión es que el central es el 2 segurísimo y ahora voy a hacer lo siguiente esto lo copió también en el loop voy a hacer una cosa a ver un segundo porque te acuerdas que me estaba dando error para nada izquierdo central derecho y voy a dejar una línea en blanco ok vamos a probarlo lanzó hay que tener en cuenta que son discos a componentes diferentes con lo cual es muy posible que los valores de lectura son los valores numéricos sean diferentes voy al monitor serie vale y ahí tenemos las triadas de parámetros entonces lo pongo a la luz y fíjate que cambia 20 prácticamente lo cambio la sombra y se va a casi a 800 vale ahora voy a un cable negro por ejemplo este que haga un poco como las veces de línea vamos a despejar cosas vale cojo un cable negro como te digo algo así y efectivamente no está bien calibrado porque no está reconociendo lo mismo entonces voy a hacer así voy a hacer así estoy viendo ok estoy yendo con la calibración los diferente al mínimo los 3 claras también masiado al mínimo pero no sé estoy calibrando vale entonces hay por ejemplo vale ahora ya están bien calibrados fíjate que si pongo el cable en el centro sólo el del centro de una lectura de 7 el pico si pongo en el de la izquierda sólo el de la izquierda me da una lectura de ese típico y parece que lo de la derecha ha hecho un falso lado positivo y si hago así sólo el de la derecha me da un falso positivo qué quiere decir esto pues que si el robot va siguiendo así la línea lo que quiere decir esto es que puedo detectar con este componente en un solo componente cuando me salgo de la línea vale entonces ahora lo que vamos a hacer es traducir estos parámetros a acciones que luego evidentemente serán instrucciones que emitiremos a uno o dos servomotores entonces a continuación voy a crear una cuarta versión de este proyecto 21 sigue líneas versión 4 vale lo que voy a hacer es lo siguiente voy a decirle al sistema lector es mayor que 400 en ese caso cuidado ya ves en ese caso sería el punto print te estás yendo hacia la izquierda gira a la derecha de esta forma si lector central es mayor que 400 más bien es decir el lector central está detectando correctamente la línea y si lector derecha es igual a 400 te estás yendo hacia la derecha gira a la izquierda vamos a probarlo ya no quiero lanzar los valores directamente en pantalla sino que lo que quiero es hacer esto y lanzó aquí cojo este cable que es la supuesta línea negra creo que el 8 al revés creo que es mayor perdón menor que no mayor que guardo recargo entonces ahora vuelco esto lo giro fijémonos que algo así vamos a verlo pero si te estás yendo hacia la izquierda gira hacia la derecha algo así lo voy pasando a ver si igualmente falta recalibrar o ponerlo por aquí te estás yendo hacia la izquierda gira a la derecha más bien aléjate que según lo que se va te digo que tengo que yo creo que tengo que recalibrar lo pero en definitiva según el que va reconociendo según el que va reconociendo me dice si tengo que girar hacia la derecha o si tengo que girar hacia la izquierda realmente en prácticamente cualquier kit podemos encontrar un número variable de estos sensores con esto lo que te quiero decir es que en este kit hay tres en el kit de bq has visto que venían dos tú podrías decir bueno para qué me sirve el del centro porque realmente si voy bien no tengo que hacer nada pues bueno sí muy bien tengo que seguir con los dos motores y si tengo que girar hacia la izquierda tengo que apagar un motor y tengo que dejar el otro motor vale así que sí que hay una acción si tiro en el del centro si por ejemplo miras por internet si buscas por el criterio robot tiralíneas arduino verás que hay montajes que llevan siete u ocho sensores de estos porque claro qué ocurre si yo hago así de repente me voy mucho pues si me voy el robot ya no lee ya no es capaz de ver nada más hace de fuera de esto con lo cual hay robots que tienen un montón de tiras de éstas para que cuando el robot se haya ido mucho se sea capaz de volver a encontrarse vale pero en definitiva el objetivo de todo esto es que o puedas comprobar lo puedas realizar en este caso con este pack de tres sensores para que puedas trabajar con la izquierda central y derecha pero en todo caso y ahora es donde viene la dificultad de este ejercicio y ahora es donde viene una cosa que vamos a empezar en la clase de hoy y continuaremos en la clase de el miércoles del jueves perdón pero el problema con el que nos encontramos ahora mismo es la alimentación de los servomotores es decir en todo momento estoy hablando de qué es lo que ocurre con lo de gira la izquierda sigue adelante o ves hacia la derecha gira a la izquierda ves adelante o ves hacia la derecha tiene que ver con ruedas entonces cuando hablamos de ruedas evidentemente hablamos de servomotores y yo me voy a encontrar un problema ahora voy a una rueda no se ve ahí la tengo un servomotor voy a la otra rueda la estoy buscando sigo buscando en un segundo puede levantar para buscarla aquí en la pantalla tengo aquí encima de la mesa voy a quitar este cable tengo 20 motores es decir dos ruedas estas ruedas son más bien que esto están impresas en tres de estas empresas como en persona 3d pero se puede poner cualquier otra rueda vale cualquier rueda que puedas comprar en cualquier tienda o de cualquier juguete me da igual es uno de menos y evidentemente este proyecto se puede volver como mucho más emocionante si yo ahora a continuación sí bueno vale a ver si cabe esto hola señora a continuación lo que hago es conectar estos motores a la placa y esto no va a funcionar pero ya no va a funcionar estuvieras porque no va a funcionar vamos a verlo esto está un poco al revés voy a un servomotor que tengo por aquí tengo sin abrir ah para acabar con los dientes esto está muy mal estoy viendo un servomotor nuevo que he comprado porque te acuerdas que otro día tenía uno que estaba estropeado le abro un servomotor no tiene mucho misterio es igual que nosotros vale y nada este es el motor lo que voy a hacer es tornar un momento esto estoy desarrollando la rueda no pero son no quiero salir ahora va a salir dejo la rueda por aquí y tengo como 20 motores gemelos de la marca para la chs cada uno con sus cablecitos menos mal que estoy usando el sil de arduino porque usar el sil de arduino pero verás mejor me permite en teoría insisto pero vuelvo a decir esto va a fallar palabras porque me permite conectarlos a por ejemplo el puerto 7 y el puerto 8 los conecto oye los conectó los conecto y los voy a intentar programar són servomotores continuos lo que quiere decir es que no son de los de tipo 180 son de los de tipo que giran hacia delante o giran hacia atrás vamos a por ello vamos a ver a continuación lo que voy a hacer es recuperar el código del ejercicio de los ser vos escritorio no curso arduino servo 360 copiamos y pegamos el código correspondiente cargo la librería de los ser vos esto va a ser una siguiente versión esto va a ser el ejercicio 22 sigue línea es versión 5 y así luego podrás comprobar cómo ha ido creciendo el ejercicio observó ahora servo motor izquierda y cervo motor derecha el motor el setup el motor izquierda lo asocio al puerto 7 y le digo motor izquierda raid por ejemplo 90 motor izquierda y ahora el motor derecha lo asocio al puerto 6 porque el 6 pues porque lo he estado realmente al puerto 6 y lo he puesto ahí en el 6 y motor derecha puntos raid 90 vale vamos a darle esto todavía no está moviendo los motores en un sentido o en otro lo que está haciendo es simplemente de momento ponerlos en marcha cargo sketch y ahora vamos a ver qué pasa lo que debería pasar es que no debe funcionar la rueda para el programador no está respondiendo de entrada entonces voy a hacer falta la placa de hecho igual se está calentando no todavía no voy a salir de aquí voy a cerrar arduino para asegurarme que no es un problema de cualquier tipo arduino lo cierro fuerzo salida luego porque debe fallar porque ya te estoy adelantando yo que va a fallar pero no hace nada y por lo menos cuando en este ejercicio falla lo que suele hacer es intentar hacer algo entonces al final de esta clase lo que voy a hacer es exponer el problema plantear una solución y evidentemente en la próxima clase nada más empezar lo que haremos es ejecutar la solución vamos a cargar sigue línea sube 4 no es el v 5 con su arduino sigue líneas versión 5 vale no voy a cargar de hacer una cosa observó para la chs que vive el color vale me dice que el programador no está respondiendo y aquí está sí ya pero black en el ground red en el 5 voltios y pin 9 recto lo tengo puesto de forma correcta vale muy bien pues esto vale el white el wide el 5 voltio en el rey y el black en el grado tengo correcto vale fijémonos nos dice que no esto fuera nos dice que no voy a desconectar los servos desconecto los serbios subo al principio ahora debe funcionar correctamente subiendo un programador nos responde vamos a ver por qué placard ovino 1 puerto usb no está en sincronía le vamos a reiniciar para el puerto este de aquí placa arduino uno lo lanzo ok vamos a ver el puerto serie hey puerto serie o la puerto serie en algo ya está haciendo algo vale entonces esto así funciona voy a conectar uno solo de los motores uno solo de los motores uno solo ahora mira por ejemplo por ahí vale vuelvo a lanzar voy a decirles que quiero ride 0 para que se ponga en marcha ahora se pone en marcha conectó el otro motor conecto el otro motor le doy aquí cero vale esté separado porque te paras cuando aquí se está diciendo un motor pero lo raro es que más allá para todo el sistema voy a decirle 50 motor ve en el 6 está atado al 6 vamos a verlo está subiendo pero se queda frito el caso es que se quitó este ahora vuelvo a lanzar vamos a verlo ahora es probable que éste se vaya venga lanzado porque se está lanzando qué motor derecha en el puerto 6 ok y esto es el nuevo techo de conectar este en el puerto 7 y vamos a ver en el puerto 6 también pues parece que me han dado un serbo defectuoso y que me hayan dado un servo defectuoso ok puede ser bueno no pasa nada os voy a dejar este puerto este que parece que está frito a ver si tengo otro por aquí vamos a ver tengo más por aquí en la cajita entonces y conectar este al puerto 6 puerto 7 otro que está frito pues sí que tengo suerte otro o varios como puedes ver esto ya me ha extrañado no tengo tantos fritos y yo creo que es el problema que estaba comentando entonces ahora para acabarla ahora no venga este si no se ve pero ahí está girando vale eso está girando era conecto aquí este y ahí lo tenemos los dos girando el problema es que si ahora a continuación quito esto y le conectó el bloque de las pilas dónde está el bloque de las pilas lo tenían aquí hace un momento dame un segundo porque estoy buscando el bloque de las pilas y yo tenía que hacer momento me voy a levantar y adelante cuanto a qué en cuanto a que si este es el ratón esto es el ratón no tenía aquí en fin pues conectó el bloque de pilas este bloque de pilas lo conecto aquí y es donde me puedo empezar a encontrar un problema de hecho me extraña que no me lo esté encontrando ya me extraña que no haya empezado a fallar esto ser vos igual es que debo conectar algún componente más que es el problema del amperaje entonces voy a parar la cámara un momento y a continuación voy a explicar cuál es este problema que resolveremos el próximo día vamos a explicar con captura de pantalla y voy a contar lo siguiente vamos a ver yo tengo por aquí una serie de pilas son las pilas de doble a entonces las pilas que tengo aquí una pila el r que quite cables la fila r el ere 6 las pilas slr 6 son pilas de 15 voltios evidentemente pero y la doble a pero aquí son pilares que tienen una capacidad de entre 2500 y 3000 miliamperios básicamente entre 2.5 y 3 amperios vale lo cual no es un gran problema es decir un bloque de cuatro pilas lo que hace es que suma los voltajes a llega hasta 6 voltios y reúne el amperaje es decir tiene en torno a vamos a decir 3 amperios pero la cuestión es cuánto gastan los componentes que yo estoy usando en un momento dado para un robot para un montaje demótico o para lo que sea pues vamos a sacar una momento aumento momento vamos a sacar una hoja de cálculo carpeta no el carpeta no quiero una hoja de cálculo quiero más hemos dicho que pilas 3 amperios al 3000 miliamperios son 3 amperios ahora bien cuanto cuánto consume observo parallax cuánto consume cada servo cuál es el amperaje de este caso un servo futaba o de los ser vos estos de aquí por ejemplo para la chs es este de aquí es el continuo de rotación continua el de alta velocidad no estoy en el normal talles aquí consume entre 15 y 200 miliamperios entonces observó uno vamos a poner vamos al peor de los casos a 200 miliamperios vamos a decir aquí pilares 3000 miliamperios para poner la misma unidad observó 2 200 miliamperios voy a un led arduino leve ampere amén ok entonces vamos a ver esto 300 miliamperios por ejemplo parece mucho a un medio por leer eso sí un miliamperios por led esto parece poco ahora quiero él el ultrasonidos arduino ultra sound amper y power of esto es la razón el sensor solo son 6 miliamperios eso me extraña bastante 15 miliamperios vale ultrasonidos son 15 miliamperios vamos a ver el sensor de luz arduino dominique minutos sensor ampere dice que menos de un pico amperio no este no es éste no es nuevos de hecho vale entonces lo que te quiero decir es que en el momento un poco para cerrar el concepto en el momento que empecemos a conectar muchos componentes en la lista de componentes conectados este número va a ser más que 3000 es decir ese número superará al amperaje que las pilas nos puedan dar que es lo que vamos a hacer en ese momento pues en ese momento necesitaremos dos bloques de pilas por eso el otro día enseñé que tengo por aquí dos bloques de pilas preparados porque en un momento dado igual conectaremos un bloque de pilas por ejemplo para servomotores y otro bloque de pilas para el resto de componentes vale gracias por esto que el próximo día el jueves vamos a programar yo voy a mantener esto que hemos hecho este pequeño robot hito sigue líneas y verás que en un momento dado será normal que el robot hito de repente se apague como que de repente no puede más con la vida bueno pues cuando ocurra esto simplemente lo que quiero decirte es que la solución será añadir otro bloque más de cuatro pilas y por tanto repartir la carga entre diferentes dispositivos vale por tanto hoy no hemos soldado pero sí que es posible que el próximo día tengamos que volver a soldar vale y nada y poco más por la sesión de hoy a una pregunta antes de cerrar alguna consulta ok vale pues ahora nos vemos