voy a hablar ahora de un concepto muy concreto que es la existencia y el uso de funciones voy a cerrar el puerto serie voy a con el monitor del puerto serie voy a arrancar un nuevo sketch lo voy a guardar y lo voy a guardar con 0 9 funciones la idea de las funciones es que son bastante extrañas entendiendo que si has programado alguna vez hayas programado algún programa mínimamente complejo pues entenderás perfectamente la utilidad de las funciones pero si no es programado nunca y esto que estás viendo en este momento este curso es tu primera toma de contacto práctica con un lenguaje de programación pues en este caso lo que te voy a explicar ahora te va a sonar bastante extraño sin embargo yo lo que quiero es que aprendas lo escuches y cuando se te dé este caso en un programa complejo pues que recuerdes para que te podrían servir las funciones bien vamos a la plantilla que tenía anteriormente así que en el sketch book pues voy a cualquiera de estas me copió el código de la anterior como plantilla y cierro por aquí así que por tanto así que por tanto voy a decir algo así como funciones declaración de importaciones en principio no declaración de variables que no y vamos a suponer que tengo por una parte la función de inicialización y la función de bucle así que yo vengo y digo pues mira la función de inicialización pongo serial espera que eliminado demasiado vamos a ver un segundo que ayer valen funciones así que digo serial punto print line y quiero decir hola mi nombre jose vicente y quiero poner por aquí sería el punto print y digo y estamos en el curso de arduino bien tengo por tanto aquí dos líneas pero ahora supongamos que por la razón que sea es lo que quiero hacer es copiar y pegar estas dos líneas también dentro de lo también dentro de la función del sistema loop bueno qué es lo que hace esto pues voy a guardar voy a lanzar esto a la placa vamos a verlo saco el puerto serie y dije hola mi nombre es jose vicente y estamos en el curso de arduino y esto en principio es correcto es decir el programa funciona no da ningún error pero el programa no es demasiado eficiente en el sentido noia incluso hablando del uso de memoria que también sino que en este caso lo que está ocurriendo es que estoy repitiendo en dos sitios diferentes en varios sitios diferentes en este caso estas dos líneas de código el hola mi nombre es jose vicente y estamos en el curso de arduino qué pasa si yo quisiera poner por ejemplo hola mi nombre es josé vicente carratalá pues que no tendría que modificarlo solo en un sitio sino que tendría que modificarlo en dos sitios ahora imagínate que fuera un caso más complejo que éste que esa repetición de código no estuviera en dos sitios sino que estuviera en 20 sitios diferentes entonces cada vez que yo quisiera hacer un cambio pues tendría que buscar en 22 diferentes y esto sería malo me haría perder el tiempo y también por la sencilla razón de que además de perder el tiempo correría el riesgo de cometer errores en definitiva por tanto esto que voy a explicar ahora la existencia de funciones es un método de encapsular porciones repetitivas de código y reutilizar mejor el código repetitivo y por tanto finalmente pues como te diría yo y hacer un mejor uso de la programación esto que voy a hacer ahora recibe el nombre de refactorización no es un nombre muy agradable de hoy suena raro pero en definitiva es un conjunto de técnicas que nos permiten protegernos y hacer que nuestro código sea lo más eficiente posible desde el punto de vista de que lo podamos mantener de que no haya repeticiones innecesarias y de que pues esas repeticiones mejor dicho esas no repeticiones minimicen la probabilidad de error bueno pues voy a explicarte en primer lugar cómo crear una función realmente tú aquí en esta plantilla que es la plantilla mínima para trabajar con el programa ya tienes dos funciones que es la función setup y es la función loop estas dos por tanto son las funciones obligatorias para trabajar con cualquier programa dentro de arduino pero más allá de estas dos funciones tú te puedes crear tantas funciones como quieras así que para crear una función lo que hacemos en primer lugar es devolver perdón a escribir el tipo de datos que en principio devuelve esa función así que bueno yo te diría que por defecto pondremos void ya que esta función en principio no tiene porqué devolver nada si supiéramos que la función devolviendo entero pues diríamos y si supiéramos que la función de huelva un string pues pondríamos strings pero si no función no tiene por qué devolver nada pues ponemos boyle a continuación le ponemos un nombre a la función los nombres de las funciones hasta ahora no los hemos podéis elegir porque la función setup se tiene que llamar setup y no se puede llamar de otra manera y la función look se tiene que llamar exactamente así función look pero a partir de ahí cualquier función que queramos declarar se puede llamar como queramos siempre que cumplamos unas cuantas condiciones la primera condición es que no empiece con un número la segunda condición es que no haya espacios y evidentemente tampoco deberían haber ni acentos ni en ese entonces yo digo que voy a crear por ejemplo la función salud a la función saluda fíjate que la prueba saluda está en negro y esto es correcto porque setup y loop aparece en amarillo porque son palabras reservadas de este lenguaje concreto de programación pero saluda no es una palabra reservada por tanto de hecho es bueno que aparezca en negro no es un error en este caso a continuación pongo unos paréntesis que de momento voy a dejar vacíos en el siguiente vídeo explicaré para qué sirven esos paréntesis y cómo podemos hacer para que estén llenos de contenido ahora lo que hago es crear un par de llaves y dentro de estas dos llaves voy a escribir el contenido de la función así que bueno en este caso en el contenido de la función claramente voy a cortar y voy a pegar estas dos líneas la función saluda en estas dos líneas que vemos en la pantalla y por tanto esto quiere decir que cada vez que yo invoqué a la función saluda pues aparecerán en esta estas dos líneas qué quiere decir bien eliminó también estas dos líneas y ahora si ejecutó el programa qué es lo que pasaba bueno pues guardó fíjate que el anterior ocupaba dos mil 128 bytes lo cargo de nuevo y el nuevo ocupa 1842 vice por tanto lo primero que hemos hecho al crear una función y al evitar repetir el código es ahorrar un poco de memoria esto ya de entrada es bueno bien ahora qué pasa si yo saco el monitor del puerto serie pues curiosamente no pasa nada es decir curiosamente comprobarás como no hay nada en el monitor serie porque es por una razón muy sencilla porque lo que yo he hecho aquí es declarar una función he creado una función es reservado una porción de memoria para introducir la función saluda pero en ningún momento estoy usando la función en ningún momento estoy invocando llamando a la función haré por tanto lo que muestra hasta ahora ha sido crear una función pero para invocar la es muy sencillo simplemente tengo que poner saluda paréntesis vacíos y un punto y coma tenemos en este caso que la invocación de la función se considera una instrucción y por tanto tiene punto y coma pero la declaración de la función es una declaración de función no es una instrucción y por tanto no llega al punto y coma no hay ahora punto y coma la mía así como tampoco llegaba a punto y coma loop así como tampoco llama punto y coma setup de hecho ahora lo que voy a hacer es copiar esta función saluda y voy a cargar el sketch dentro de la placa para comprobar que al cargar leds dentro de la placa vamos a ver si ahora ejecutó el monitor del puerto serie comprobaremos como el programa se sigue ejecutando con normalidad la cuestión está en que se abra por ejemplo digo quiero que en lugar de poner jose vicente catalá pues ponga josé vicente carratalá sanchis pues sólo he tenido que cambiar en un lugar y se habrá guardó y lo vuelvo a cargar en la placa vamos a poder comprobar ahora cuando saque el monitor del puerto serie vamos a poder comprobar cómo se aplican en ambos casos por tanto lo que he conseguido no es sólo ahorrar memoria que también ha ahorrado un poquito al ocasional creo que me gasto prácticamente lo mismo pero he conseguido ahorrar puntos de modificación he conseguido que se llamará en 20 lugares diferentes a esta función pues con que lo cambie con que cambie el comportamiento de la función de un solo lugar se me cambia en todos los lugares posibles