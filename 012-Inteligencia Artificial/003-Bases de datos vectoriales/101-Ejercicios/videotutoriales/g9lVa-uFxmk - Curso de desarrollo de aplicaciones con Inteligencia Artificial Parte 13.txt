y hacer otro desarrollo en pantalla en este caso voy a partir desde el ejercicio 11 así que voy a dejar 111 voy a crear el ejercicio 14 en este caso no voy a trabajar con workers no simplemente porque lo que voy a hacer es algo bastante independiente realmente and worker voy a ir ejercicio 14 donde parto desde el ejercicio 11 pero aquí de aquí voy a esto es el ejercicio 14 voy a partir del index 40 con brackets este ejercicio 14 index 4 logrado como invex 5 y una vez que lo he grabado como index 5 ahora a continuación lo que quiero es abrir por ejemplo un programa como el gym y que quiero detectar no ya un cuadrado sino un círculo quiero detectar múltiples círculos vamos a ver por aquí voy a crear mi imagen las imágenes que estoy trabajando de cuántos son en trozos por 512 rajasthan pues ahora con el gym voy a generar una imagen de 512 mil 512 está claro que no tengo problemas para reconocer que es un cuadrado que es un círculo pero quiero que el programa reconozca cuando hay varios cuadrados y cuando hay varios círculos en pantalla entonces voy a dibujar un primer círculo por aquí elíptica y el relleno dónde estás allí es mayúsculas fue y relleno de negro dibujo otra elipse lo relleno de negro y dibujo otra elipse lo relleno de negro me llenará tengo tres elipses voy a guardarlas escritorio tres elipses tres círculos bueno a mí con esto voy a hacer una cosa voy a abrir una nueva pestaña ya sé en el escritorio copiar archivo tres círculos y lo pego en el ejercicio ahora lo que quiero hacer es que el sistema detecte estos círculos por ejemplo yo tengo aquí y la imagen es tres círculos punto png así este ejecutó este es el index 5 y claro qué es lo que va a ocurrir en pantalla probablemente el sistema detectará lo mismo me dice lo que tienes en pantalla es un círculo pero esto es incorrecto ya que tengo en pantalla son tres círculos lo que ha hecho es detectar la proporción entre formas en base a la base de datos que tenía previamente guardada y ha generado este diagnóstico pero yo sé que realmente no tengo un círculo tengo tres círculos lo que quiero hacer es que el sistema operativamente vaya bloque a bloque de la pantalla y sea capaz de detectar y detectar varias formas iguales y que incluso me diga dónde están así que para esto lo que vamos a hacer a continuación es simplemente indicarle al sistema vamos a ver lo que no quiero vamos a ver esta función dibuja no quiero que lo que coge el sistema compara no quiero que lo que coge el sistema vaya en todo el absoluto así que a continuación vamos a hacer pasar dónde está la anchura de altura el sdo después bar anchura realmente es 512 para altura es igual a 512 pero bar baqueta y llevarlo es igual a voy a poner por ejemplo 128 vamos a verlo aquí bar paso es igual por ejemplo a 32 lo que quiero ahora es que el sistema sea capaz de detectar vamos a ver si es claro x es igual a cero y bar y es igual a cero ahora quiero que el sistema coja la equis y la llorera en el market y en el baquetón el género te quiero parte parker y entonces esto es x y barker market vamos a ver esto es un paquete realmente multiplicamos igualmente en este caso estamos multiplicando por la anchura del baqueta vamos a reemplazar cada una de las variables los parámetros de las variables que acabamos de crear así que a partir de ahí lo que queremos es con esta imagen obtener únicamente una zona concreta que va a ser el de sant domènec y ese es el cual acero y se igual a cero queremos dibujar un market de 128 x 128 en algún momento esto se dibuja vamos a buscar dónde está el dibujo vamos a buscar el primer estado y esto va a estar en x coma y aquí veo todavía en 1512 vamos a probarlo index 5 y estoy trabajando en este caso bien gettyimages trata el valor no es de tipo long en la línea de 54 parquet es igual a 128 x es igual a 0 en principio es correcto y me dice que el valor no es de tipo long 128 vamos a poner por ejemplo 00 128 y entonces nos dirán que es la línea de y uno y vamos a ver dónde puede estar el error y vamos a poner x se generó en los 20 como adentros pasar ese equipo 10 aquí pongo cero y en línea 55 de alguna forma externa no está cogiendo estos valores porque supongamos que los pongo aquí dentro para llegar al sistema sí que los está cogiendo pues vamos a ver por qué eso se llama market vamos a ver la continuación y ahí parece que está dibujando algo nos dice que lo que parece que tenga en la pantalla es un cuadrado que realmente no es así y por cierto porque todo esto de sobra y lo que voy a hacer a continuación vamos a hacer es eliminar la flora antes que nada lo primero que quiero ver es por ti no me está cogiendo estos valores cuando se ejecuta dibujar ahí está el problema y es porque esto debe ocurrir después de aquí creo las variables recargo pero un segundo vamos a decir 5 vale es interesante que no coja esas variables cuando está cogiendo todas las demás es interesante vamos a ver por qué profesor enferma cosa resuelve punto el ojo el bar que es más barato pero 5 segundos y dice el paquete es 128 x el río vamos a esperar un segundo no tenemos ni file aquí se crea y ahí es donde puede haber otro error porque si nos damos cuenta vamos a poner aquí 0 y entonces 57-58 es la equis el aire por mí x y mi ingeniero x y probablemente ahí está el problema aún así mi x vamos a ver notarán ver 1 me x es igual a 1 x y dice no te harán ver dar mi super x es igual a 1 ni super x y dice no tan hambre es que es curioso había una coma vale es correcto para mí x y x me x y línea del 61 entonces mi x y vale en el último estado y x y recargo eso está bien eso me dice que vaya lo que tengo no me dice si es un círculo o son cuadrados lo que tienes en la pantalla es algo con solé puntos aquí me ejecutó recargamos aquí me ejecuto en principio parece que no está encontrando nada lo cual quiere decir que vamos a ver seleccionadas de formas encuentro verticales es curioso no está encontrando nada pues no encontrará antes había dicho que era un cuadrado ahora no reconoce la forma lo cual realmente no me causa ningún problema porque realmente eso todavía no es un círculo lo que quiero ahora es ir tirando paso a lo largo del objeto si quiere a continuación lo que voy a hacer es lo siguiente cada vez que ejecuta esto vamos a ver la función esto es dibuja vamos a ver dónde acaba dibujado dibuja empezó aquí y acaba aquí y ahora vivo clear time out temporizador es igual hacer time out y ejecutó dibuja dentro de un segundo y entonces digo en x + igual o mi x es más igual paso sí me x es mayor en cintura en este caso mi x es igual a cero y mi y es más igual a paso el gasto y sí y es mayor es bueno realmente que 512 en ese caso ejecuto esto quiere decir que cuando acabe el dibujo pues para vamos allá recargo haré una versión nueva del proyecto tenemos ya un primer paso ahora está dibujando el segundo paso tercer paso vemos cómo poco a poco va reconociendo dentro de que le cuesta un poco voy a eliminar esto voy a ejecutarlo tan rápido como pueda vamos a ejecutarlo de nuevo hoy voy a ir afinando aparte de que quiero quitar el extremo vamos a ver cosas una vez que tenemos esto lo voy a guardar como index 6 aquí lo ejecutó como index 6 voy a tocar un poco esto el paso es de 128 el paquete es de 256 para el que pasó ejecutó el indec 6 me quiero librar de estas líneas bueno existen ahí tenemos un trozo ahí tenemos otro trozo ya estoy empezando a reconocer por aquí trozos de mar que está lo que quiero hacer es librarme de las líneas rojas vienen porque el sistema detecta incorrectamente los bordes de la derecha pero veo que por lo menos de hecho no se me llegaba a decir aquí tengo un círculo en alguna parte igual no consuele punto log no quiero esto con solo un tono esto de ello no quiero la petición conmigo que quiero que me diga y finalmente lo que tengo es un círculo son cuadrados o qué es y parece que no me lo está diciendo no pasa nada vamos a eliminar vamos a añadir el resto vamos a eliminar la parte donde coge digamos pues esto es x 4 esta serie es dato vale lo que quiero los píxeles 500 por algo estos días si esto es correcto pero no esto es parte contexto de team en estatal de 4 vamos a verlo claro ahí lo que estoy haciendo va dibujando pero ahí y ya está el problema está en que aquí no se lleva dibujando vamos a ver con arco esto es x como y con él es como el guerrero para el momento vale pues en este caso vamos a hacer que es igual a cero igual a mi x y es igual a mí y esto es x es menor a mi x + baquet y esto es igual a mí y más váter vamos a por ello bordes es igual a contexto vamos a verlo x como y ahora es correcto porque eso es local así vamos viendo cómo va detectando cada uno de los bloques de la imagen al final incluso me dices lo que tienes la pantalla son cuadrados ahora me dice se supone que es un círculo y está fallando evidentemente pero bueno y ahora lo que quiero es eliminarlo unos de algunas de las detecciones incorrectas que tengo en la pantalla vamos a guardar este proyecto como index vale y una vez que lo guardo como index 7 vamos a causar esto aquí existe y ahora lo que quiero es estas formas de aquí de color rojo esas formas de color rojo son las verticales así este en el caso del vertical tengo todos los datos porque es igual al contexto ok y bueno aquí básicamente lo que haciendo es cambiar el contador sí no es cierto que esté en el borde pues vamos a verlo el borde vertical se podría representar como porcentaje y por qué partido por 4 realmente no porque quieres averiguar se el pixel es el pixel del lado el pixel del costado entonces ese pixel se puede averiguar por 41 para que por cuatro ya esto el porcentaje de baquet por 4 es igual a 0 en este caso no es igual a 0 pero lo que va a hacer es con un sí correcto pero es esto vamos a verlo estoy en el index 7 recargamos en principio no hace nada se aferró esto estoy en index 7 pero ahora es quitar eso otra cosa que puedo hacer es comprobar si eso viene producido por estas líneas porque igual es más sencillo igual esto de aquí lo que está produciendo los datos x2 menor que rango y vamos a verlo voy a abrirlo en una nueva ventana dibujando eso fijémonos que hay en apariencia no dibuja líneas pero no error de disco voy a ejecutar otra vez parece que viene un error de disco ahora parece que sigue encontrando bordes y voy al final porque sé que en algún momento dice que lo que tengo en la pantalla es un círculo pero de vez en cuando dice que es un cuadrado entonces tengo que averiguar dónde está ese objeto cuando encuentra en la pantalla un círculo por cierto lo que puedo hacer es lo siguiente y voy a crear un nuevo canvas a continuación voy a crear un canvas esto de aquí está en horizontal y esto es el tiempo después dentro del lienzo para éstas efe contiene el hierro pongo por aquí lienzo detector el vivo qué contiene lienzo es posible otras latif contiene el lienzo canvas es mi posición absolute 20 píxeles leer 0 píxeles bien entonces ahora en el contexto 3 voy a crear contexto detector lienzo detector y entonces lo que voy a hacer es que cuando detecte un círculo cuando detecte un lo que sea voy a decir lienzo detector el contexto detector punto estruch recto lleva desde mi x como am y hasta market como baguette creo que tendré que hacer uno con texto detector punto deje en paz y creo que tendré que hacer un contexto detector punto austral y un contexto detector punto close paz así que si todo va bien se detecta algo el contexto detector punto esto es straw ahí estaba en la zona de efecto algo y de hecho con texto detector punto está él y telecinco con más a ver qué opciones me dan y vale es igual a red y contexto detector y punto por eso se llama razón a html5 canvas lewis luego 10 igual es un poco bestia pero vamos a probarlo ahí parece que empieza a despertar un círculo y parece que empieza a afectar bueno un cuadrado en este caso y un círculo ya está detectando y momento de momento incorrectamente pero al menos ya es algo con menos lo que están haciendo es empezar a detectar ya formas vale pues vamos a continuar y ahora lo que quiero lo que sigo queriendo es eliminar estas líneas rojas haciendo que no detecte lo que tiene en el borde del círculo cuidado bueno pues lo que he hecho en la pantalla es en este caso en el código vamos a ver esto lo he hecho en el código es decirle que quiero menos píxeles en x realmente con la detección de bordes podría ser algo parecido qué es vamos a ver en este caso estoy cogiendo los bordes pues voy a decir x es igual a menor rango menos 4 por ejemplo vamos a recargar el sistema lo que va haciendo es detectar cuidado en este caso porque recogieron el rango y bueno aquí recoge todos los píxeles vamos a refrescar lo vemos que en los bordes tiene tendencia a detectar extremos y vamos a hacer lo siguiente x es menor que hoy y es mayor que y bueno el bayern es por ejemplo voy a decir cuadrícula de 3 1 claro esto es cero y lo que necesito en este caso es averiguar o sea que digamos que empecé en x mayor y en la equis que no sea tan grande como el resto vamos allá otra cosa que quiero hacer es y poner colores diferentes si el nombre es un círculo o es un cuadrado entonces esto es igual a círculo pues en ese caso el contexto va a ser color rojo se copie pego en ese caso va a ser de color azul de esta forma voy a poder diferenciar entre cuando reconoce un círculo y cuando reconoce un cuadrado vamos a verlo aquí de momento está reconociendo círculos ahí en principio reconocido un cuadrado la razón que sea al menos puedo empezar a detectar cuando reconoce una cosa y cuando reconoce otra esto se me ha vuelto a poner aquí y ahora lo que voy a hacer es jugar voy a jugar con un paquete de unos 150 píxeles o 198 píxeles el paso lo voy a hacer de 32 y vamos a probar ahí está reconociendo diferentes círculos y me indica todo lo que en principio reconoce como un círculo de hecho es más voy a hacer otra imagen donde voy a poner algún cuadrado está reconociendo trozos de círculos realmente lo que quiero es que reconozca solo cuando vea lo que está reconociendo algo que se parece a un círculo en realidad lo que quiero es que reconozca cuando algo realmente es un círculo en principio no reconoce ningún cuadrado igual ahora empieza a reconocer alguno pero voy a editar la imagen para que realmente haya algún cuadrado vamos a alguien mucha hacer es hacer 3 a 0 y ahora elipse quiero una biopsia aquí qué va a ser de color negro quiero otra elipse por aquí que va a ser de color negro y quiero un rectángulo por aquí que va a ser de color negro ya que estamos pero otro rectángulo por aquí que va a ser de color negro exportó esto es bueno formas un tope de g me voy aquí en escritorio cojo formas los traigo a las 10 y 14 los reemplazó en el código esto podría servir el ejercicio y vamos allá ahora vamos por ejercicio 8 con algún círculo pero lo que quiero ver es si cuando llega a los debajo reconoce algún cuadrado y reconoce un trozo de círculo y ahí vamos a verlo hay que reconocer algún cuadrado por qué es un trozo de cuadrado realmente pero ahí está empezando a reconocer algo que se parece a un cuadrado bien ahora quiero un poquito más de precisión solo quiero recordar que reconozco un círculo cuando lo tenga muy claro pero por lo menos vemos que aparte de que hay abajo está dibujando un círculo igual donde no toca pero lo que quiero ahora es utilizar esto para reconocer círculos y cuadrados con mayor precisión bueno pues ahora lo que quiero hacer es enferma nueva versión index 9 quiero en este caso hacer una evaluación un poquito más estricta ya que lo que estoy haciendo es un redondeo donde en ambos casos estoy redondeando al siguiente número entero entonces voy a probar un redondeo con decimales cuidado porque tengo aquí un redondeo en sql y un re don diego en javascript así que quiero mysql round de finales muy bien roundup decimales vale parece que y saber decimales ok pero bueno a ver habrá que confiar en los decimales muy bien para text entonces round voy a poner un decimal esto lo que va a hacer es aumentar el requisito de aumentar la exigencia realmente verticales sale y ahora en javascript no es tan fácil el script decimales porque voy a tener que hacer una multiplicación y la división al entero más cercano y este es y eso es redondeo decimal stella lo que hay que hacer allí para un redondeo decimal para que lo que está haciendo es no quiero esto eso es un truco hay un truco bueno pues igual y una laca guantes con esto de verdad hacer este texto y lo que quiero hacer es eso ponerlo a prueba aquí en el máximo 22 me voy a aquí estoy en el ejercicio y vale y efectivamente vale si dice notaran ver de vez en cuando sólo un poco la verdad y tras ver creo que es cuando llega al final y ahora lo que voy a hacer es el tópix parece que me va a convenir bastante voy a poner un decimal porque en sql he puesto un decimal y bueno voy a hacer esto poquito esto quito y esto no copie lo pego con esto lo que ellos vuelven más exigente porque no redondeó a un solo decimal ya no redondeó al siguiente número entero quería decir sino que redondeó al siguiente decimal ahora solo cuando en principio no tenga clarísimo es cuando debería reconoce un círculo o un cuadrado bueno en este caso parece que estoy siendo demasiado exigente porque el sistema no me está detectando vale ahí parece que tiene un rectángulo el círculo le ha costado más el rectángulo parece que lo está cogiendo con un poquito más de alegría me ha cogido un círculo curiosamente vale así que ahora poco a poco vamos a continuar y voy a contar un poco en la pantalla lo que ha pasado porque al hacer la comparación para hacer la comparación ahora que ya tengo claro esto al redondear cuidado al redondear lo que estoy haciendo voy a lanzar mi sql preparar un poco esto donde round verticales es igual a 03 y rando horizontales es igual a 0,8 es decir lo que estoy haciendo en este caso es aumentar la exigencia indicándole al programa que bueno que tiene que haber una coincidencia en el decimal para que realmente la neurona salte claro ahora lo que ocurre ahí por ejemplo ha pillado un cuadrado bastante bien ahora lo que ocurre es que el sistema tiene que tener muy clara la coincidencia para que realmente dé un resultado mysql puedo seguir jugando por cierto con la detección entonces para ello bueno y vamos afinando para ello voy a hacer lo siguiente nos vamos a ver s bueno pues ahora lo que puedo hacer es decirle al sistema que cada vez que esto ocurra cada vez que mi y sea mayor cada vez que me y sea mayor 1512 en ese caso mi x es igual a 0 y es igual a 0 y entonces lo que voy a hacer es probar una combinación diferente de pasos por ejemplo vamos a ver para que te lo tengo a 128 paso lo tengo a 32 hacer lo siguiente paso 32 pues pasó paso igual a 0.75 paso lo voy a hacer grande y así vamos a empezar a probar y luego por otra parte quiero un poquito menos de precisión y en este caso cuando cálculo el súper bloqueo lo que puedo hacer es no necesariamente trabajar con tanto contador pero cuidado en este caso hay que tener en cuenta aquí por ejemplo x que es igual a más igual a 4 que si cambio la proporción o sea si cambio la precisión puede cambiar el resultado tengo hay un paquete muy grande hay un resultado muy grande de momento no reconoce círculos ahora parecen un cuadrado y bueno ahora lo que tendría que hacer lo que me gustaría hacer es preguntarle a mysql si hay algún tipo de dato ahora por cierto debe estar ahora lo que está haciendo es hacer el backend más pequeño pues quería preguntarle si hay algún tipo de dato que sea cercano a ver mysql y es mier vale ni eres valero el sol yo no quiero saber si es exactamente igual quiero saber vamos a ver quiero saber si un valor está cercano a otro vale aquí por ejemplo es un valor en la tolerancia esto le podría servir vamos a ver voy a copiar esto voy a mysql y dijo vamos a ver reponerlo por aquí esto es un comentario porque es un recorte y esto es mayor o igual que esto por o 0.9 and en el centro esto max lo sabe muy bien and verticales a ver si esto es que si no andan verticales para comprobar cómo lo está pasando correctamente porque es que si no creo que está fallando el color sí esto es mayor por 1.1 vale esto era menor esto es menor y ahora lo mismo por aquí voy a hacer esto más pequeño porque es cristiano no voy a ver lo que estoy haciendo verticales voy a hacer esto horizontales pues yo no sabía copiar y pegar porque no sea que lo rompa y podría ser vale ahora copio esto pero aquí esto allí efe esto aquí vale y entonces esto es horizontales este es en este es un h estés diagonales 3 diagonales 1 diagonal estos este es en el 1 este es n de uno este es n de 2 y éste será de 2 si todo va bien ya no estoy cogiendo un valor exacto sino que estoy cogiendo un valor parecido en qué versos me encuentro estoy en la nueve vamos a recargar es cuidarlo bien no encontrar ninguno buenos encontrando de todos mismos que antes creo hay cuatro círculos porque básicamente y he puesto por ejemplo un 10% entonces lo que voy a hacer es poner un porcentaje mayor guardo esto como index 10 bien y ahora aquí bueno voy a poner un bar tolerancia que es igual por ejemplo a 0.2 y esto es por una tolerancia y esto es uno más por en asia entonces por ejemplo si pongo un 0.2 ahora en principio podríamos ver esto ya es el ejercicio 10 podríamos pensar que será más tolerante al principio en principio de momento no y sigue encontrando sí correcto está aplicando el porcentaje de tolerancia y bueno ahora a ver qué va a encontrarlo es el bar que está un poco más grande el backup de 200 parece que encuentra círculos hay cuadrados y la idea es un poco eso la idea es e ir comprobando como el sistema ahora con un bueno estaba a 120 creo para aprobar con un 8 no encuentro pero probablemente en la siguiente pasada encuentra un poco más a los 16 de momento no allí parece que ha empezado a encontrarlo y parece que al menos al principio el círculo le ha convencido todavía el sistema es impreciso pero si nos damos cuenta porque nos tiene cierta tendencia de reconocer los círculos como círculos y los cuadrados como cuadrados a ver yo creo que ahora ya en la siguiente pasada debería reconocer bueno y reconocimiento por alguna razón los sql para los esperes pero hace falta no sé si era la tolerancia es también demasiado grande puede ser vamos a poner una tolerancia d 0.1 buenos que han hecho puedo gestionar la tolerancia lo que me hace falta evidentemente es que ahora el sistema sea más rápido lo cual puede lograrse evidentemente perdiendo profesión y a ver ahora por allá antes un círculo yo creo que ahora debería tenerlo ahora en la siguiente vuelta y ahora detecta algún círculo y sobre todo quiero llegar al final y comprobar que detecta al cuadrado vemos la siguiente fase tal vez se empiece a detectar al círculo bueno no debería vamos a verlo todavía pero espero que ahora en la siguiente vuelta detecte algún cuadrado ahora mismo está detectando círculos ella esperaba que cogiera un cuadrado y bueno otra canción es demasiado poco vamos a poner más pasos de oración 0.2 y el paso 32 mira había cogido un cuadrado vaya justo al final suele pasar he puesto nuestra canción allí he cogido el círculo y si todo va bien ahora continuación empezará a rectángulos y dentro de nada ahí tenemos a un rectángulo parece que detecta otro rectángulo aunque no lo hay pero por lo menos aunque el sistema está para afinar evidentemente pero al menos está claro en la parte superior está detectando círculos en la parte inferior está detectando rectángulos siempre puedo irme al aquí y por ejemplo dar la vuelta a la imagen para hacer algo sencillo imagen en ésta transformar voltear 180 grados formas 2 me voy al fin del seleccionó formas 2 los pasos ejercicio 14 actualizó el código me voy a chrome para conectar la batería de hecho está vale pues vamos a probar esta nueva imagen recargamos bien ahora tenemos los rectángulos en la parte de arriba vamos a ver si tenemos los rectángulos como digo en la parte de arriba y si todo va bien yo creo que si en un momento empezará a reconocer rectángulos en la parte de arriba rectángulos azules en la parte de arriba y círculos en la parte de abajo y llegamos a la parte de abajo aunque hay ayer conocido un rectángulo vamos a verlo ahora bueno empieza a reconocer diagonales y con esto como vemos lo que tenemos es un sistema que poco a poco haciendo cada vez más capaz de reconocer formas geométricas en pantalla insisto estamos trabajando con círculos y con cuadrados pero por supuesto podemos entrenar al sistema para que reconozca formas más complejas lo que estamos haciendo básicamente es conseguido un sistema que de momento reconoce formas sencillas a modo de entrenamiento y una vez que tenga estas formas sencillas pues llamamos a por formas más complejas