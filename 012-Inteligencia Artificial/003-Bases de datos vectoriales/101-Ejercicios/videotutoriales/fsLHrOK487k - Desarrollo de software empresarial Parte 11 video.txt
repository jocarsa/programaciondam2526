bueno pues una cosa que quiero grabar ahora es un buscador entonces vamos a por ello los buscadores siempre son complejos el sentido en el que una vez más tiene que ser un buscador que sea pues digamos que se adapte a cada una de las tablas en entregas vamos a ver si vamos a entregas vamos por aquí vale pues sí vamos a entregar esta vamos a ver qué vamos a ver qué bueno por ejemplo por aquí vamos a hacer esto un poco grande pues me ve al controlador y vamos a meter en la parte de arriba un controlador otra cosa que digo es que en el nombre del campo técnicamente ya no hace falta meter el nombre del campo puro porque no tengo por qué es decir puedo meter el campo de título que para eso está y va a quedar mucho mejor vamos a verlo en que estoy entrando y entonces me voy a entregas me voy a controlador y en el controlador vamos a verlo en el controlador donde pongo th pues donde pongo fila field técnicamente no hace falta que ponga fila fil sino que puedo poner vamos a verlo dónde estás southall columns vale aquí no tengo esto pues vamos al formulario aquí vengo por aquí y por ejemplo en leer aquí donde pone fila field pues puedo poner título porque luego en el nombre del campo ya voy a poner lo que realmente tocando que es algo así y pongo nombre de usuario contraseña del usuario nombre propio del usuario apellidos correo electrónico nivel de usuario dentro de la plataforma vemos como digamos aunque el nombre de la columna luego sea el correcto porque eso es lo que importa vamos a verlo al es contraseña pero aquí en el título pues ponemos contraseña pues que es mejor digamos el punto de vista de la usabilidad pues ahora lo que voy a hacer es que por aquí en el th vamos a poner podría poner otro th técnicamente podría poner por ejemplo por aquí otro thr vale vamos a ver vamos a volver a hacerlo consulta resultado el cual ya ha finalizado pero hacemos así ahí lo tenemos ahí lo hemos doble bueno pues ahora en lugar de hacer un eco ph esto vamos a ver esto nada esto ya lo tengo esto ya lo tengo pues lo que voy a hacer ahora es poner algo así como vamos a poner de momento wood texto y vamos a verlo y ahora lo que ocurre es que aparece pues pero tenemos le aparece y aparece un contador digamos una búsqueda un campo de búsqueda al lado de cada uno de los elementos y luego ahí donde pone operaciones pues ahí voy a poner buscar o mira voy a poner input type submit jim wood-smith por qué pues porque probablemente todo esto va a ser parte de un forma es decir va a ser un formulario de búsqueda entonces si esto es el tr pues esto es form action es igual a búsqueda y yo que se vale buscar algo así bueno voy a decir tabla es igual action es igual a tabla vamos a verlo busco me ha desaparecido identificador creo que ya sé por qué porque no tiene ahí en la descripción no pasó nada reenviar y ahí lo tengo la tabla vamos a recargar buscamos cómo es que busco envió bien no me a ninguna parte interesante imputa texto action es igual a tabla vale mejor es igual a post vamos a tirar para atrás a los usuarios envió vale tablas igual a usuarios ahora sí y lo que voy a hacer es decirle al sistema que bueno voy a poner un input de tipo hidden taipei ibn y bueno ahora veremos vamos a ver los que realmente el hitler me puede fastidiar a leer sí no lo voy a poner lo que sí que quiero es vamos a ver lo que sí que quiero es buscar atrapar el resultado de esto entonces como lo puedo hacer bueno porque puedo decir si hay algún post y sed post realmente en ese caso eco se ha enviado un formulario esto por aquí me da un error no veo en que así este punto y coma no va aquí dentro aquí fuera lo que asiste a cargo se ha enviado un formulario vale voy a tabla y si pincho tabla parece que se ha enviado un formulario de alguna forma vamos a ver qué formulario se ha enviado vamos adelante entonces voy a decir for each post as claro valoro y digo echo clave guión con un punto guión valor y ahora en camino con un v r vamos a ver lo recargó vale que nos unas 157 es esto ah perdón esto no va con estaba con los corchetes serbia de un formulario no veo que se ha enviado nada realmente así que voy a poner aquí cosas vale forex post muy el controlador voy a buscar un félix bueno sé que existe es así campo calor clave valor pues mejor post si hago así y envío se ha enviado un formulario en los campos del formulario son dos puntos punto y coma recargamos y los campos del formulario son estos de aquí teóricamente si yo envío y fisher post forex post voy a hacer una cosa barato post y vamos a ver que se ha enviado a raíz 0 vale el momento ahí lo que está ocurriendo es que se está enviando el post vacío así que vamos a ver a continuación cómo todos los elementos de post es más ya que estamos casi me gustaría es decir quiero sacar todo lo que venga por request para ver cuál es el problema exactamente eso ya está la cosa vale bueno usuarios no settings no es de wordpress librar y no o sea que en definitiva de alguna forma nos es acá nos está trayendo lo que estoy enviando por post lo cual ya de entrada me extraña pero estoy diciendo que esto forma parte de un guión action en buscar es igual a sí y le digo sí y set variable que buscar vale vamos a buscar ok vale ahora ya no quiero respuesta la quiero post los campos en definitiva no están volviendo y a raíz cero porque es una raíz cero vamos a verlo en el código yo tengo por aquí en su mitad vale tengo un forma que tiene un action que tiene un post al principio todo es correcto imputa ipex ahí está el problema no estoy poniendo en names no estoy poniendo nombres entonces aquí mmm los elementos tienen que tener nombre entonces name y la celda ahora sé aceite recargo para relleno al y esto ya es otra cosa entonces usuario tal contraseña tal nombre tal vale pues ahora lo que voy a hacer es decirle al sistema que sí a ver si he realizado una búsqueda pues no quiero recuperar los elementos digamos tal cual de la tabla sino que lo que quiero es la búsqueda en este caso por tanto en este caso por tanto si estoy en leer lo que quiero decir es que quiero un web en el select entonces consulta es esto vamos a pasarla varias líneas selection from tabla límite al offset tal y esto vale entonces y ahora algo así consulta punto igual comillas y esto lo pongo aquí esto es un punto y coma y digo consulta a punto igual comillas en espacios para aquellos pasos entre las cosas esta es la consulta hasta ahí funciona igual hasta allí funciona exactamente igual pero ahora lo que voy a hacer es decir que antes de poner los límites el campo gueto busca creo que es busca no me acuerdo veamos lo voy a enviar buscar esto no pasaba por qué ahora veremos esto buscar porque aquí esto me ha dejado mal y después ahora lo que hago es decir consulta punto igual ware y entonces voy a poner una serie de cosas y entonces le pongo un forista este foro ahora quito la de arriba este foro digo consulta cuidado que lleva los mandos 3 consulta punto igual under de hecho me hace retro con tres coma y digo fuera clave es igual a valor y entonces si esto va bien de hecho no estaría mal que ponga eco consulta y así podemos ver lo que estaba ocurriendo es más igual no like voy a hacer una búsqueda muy permisiva en sql vamos a verlo balestra bien vamos a reiniciar usuarios digo usuario jo carsa vale le voy a enviar y me dice identificador like usuario hay un problema ahí en problema ahí hay un problema ahí y no es eco es consulta a punto igual vamos a verlo vale dice que no pasa nada vamos a ver la consulta que nos da el selector form usuarios where identificador like lo que sea usuario en la coma hace falta una coma no me hace falta un and falta recargamos vale y entonces ahora sí ya tenemos la búsqueda en funcionamiento es decir quiero buscar un usuario que se ame vicente pues pero tenemos que buscar un usuario que se llame a puesto era el nombre de usuario y ahí lo tenemos quiero buscar vamos a ver a los usuarios quiero buscar un usuario que se llama fsc pues ahí lo tenemos ya un buscador programado que se adapta a cualquier tabla quiero decir que me voy a entregas y digo vale quiero ver las entregas de la práctica de las prácticas dos pues tengo aquí ya unas entregas de las prácticas dos quiero ver las entregas la práctica es 1 pues ahí tengo todas las entregas de las prácticas 1 entonces vemos que ya tengo digamos pues un buscador en funcionamiento mínimo evidentemente pero ya tengo un buscador en funcionamiento en el formulario y ahora evidentemente pues voy a empezar a formatear un poquito más pero por lo menos ahora voy a limpiar un poquito eso también quito el eco consulta quito el barzón que tenía por aquí de hecho esto lo puedo quitar ya porque ya hemos visto el funcionamiento un poco lo que nos va a dar es el resultado pero más limpio bien y tengo ya al buscador como digo pues vamos a ver mit type text class el campo buscador y entonces me voy al estilo y en los campos el estilo de los campos pues campo buscador le digo que tiene un wifi del 100% le digo que tiene un borde de acero píxeles un background de rgb 230 y no se paren 5 píxeles vamos a verlo vale hay algún tipo de problema ahora tenemos el padrino me la acogida para dengue el panel no me lo había cogido pero vale una cosa así dónde podemos buscar introduce tu email eso está mal pero eso es porque debo haber puesto mal en la descripción del identificador vale son hay mucho problema aquí de hecho ni siquiera me aparece nada pero eso es ya entrar en la base de datos y vale y poner la información entonces pues eso puedo poner aquí cuidado puedo poner aquí hijo causa y buscar y me aparece el usuario correcto algo que me gustaría hacer sería poner un pequeño icono de búsqueda para que la gente entienda que esto es un buscador de hecho en buscar lo sabe enviar pues en lugar de poder enviar voy a poner busca algo así vamos a verlo donde pone submit pues en value voy a poner busca y ahora hay dónde buscar y ahora me gustaría poner un icono de búsqueda una lupa digamos dentro de los campos vamos a ver cómo lo puedo hacer vamos a ver si lo puedo hacer fácilmente entonces para buscar los campos vamos a ver voy a poner font son search hay con un input a ver si tengo a ver si alguien se le ha ocurrido cómo hacerlo y font awesome icons y maicon inside lo que sea vamos a ver eso martín tok margin right a ver introduce right pero yo juraría que esto es un truco a font family fondos son no por qué a ver este truco no me ha disgustado voy a poner search busco el icono de search lo copió y lo pongo en cada uno de los campos con lo cual va a salir eso vale y entonces ahora le digo lo siguiente esto es class icono busca y entonces harán estilo y como busca le digo por sitio absoluta le digo right pues 20 píxeles no lo sé me parece demasiado a verlo y no ha hecho caso refresco todo vale o si tiene absoluta icono busca no sé si me ha cogido ese icono busca no me lo ha cogido igual no he guardado a 6 perdón en este segundo clase va aquí dentro no puedo declarar dos veces la etiqueta class a ver ahora se han metido todos ahí y eso quiere decir y eso quiere decir que en el estilo técnicamente los th tienen que tener un posición relativa para que los posiciona frutos funcionen ahora sí vale y entonces abramos me he pasado un poco entonces voy a poner right el top voy a poner los pixeles esto ya es un tema de centrarlo estéticamente top 5 píxeles 6 píxeles vale una cosa si por ejemplo y entonces ya pues yo ahí sé que puedo pinchar y puedo buscar según los campos que haga falta pero digamos que el usuario ya interpreta que estos campos son evidentemente para buscar entonces me vuelvo usuarios y en definitiva como vemos pues ya tengo un buscador completamente finalizado siempre se puede mejorar más por supuesto que sí vale pero en definitiva ya tengo un buscador ya falta de todavía mejorar más si a falta de todavía pues apañar más bueno la descripción del campo vamos a continuación a hablar de las peticiones cruzadas entre varias tablas algo que hasta ahora no tenemos en esta aplicación pero que sin duda pues evidentemente se nos va a dar en un momento dado entonces voy a crear una nueva tabla tengo por aquí en entregas tengo en las columnas tengo la asignatura baleares voy a crear una tabla llamada asignaturas que tiene un campo identificador entero bien mucho demasiado pero bueno índice primario y auto incremental ahora hablaremos los comentarios bueno ya que estamos con los comentarios de hecho podría pues entregas por ejemplo ya que estoy pues bueno así que lo hago ahora entonces título email vamos a abrir un bracket y así pues ponemos ya la información correcta vale título vamos a verlo por aquí vamos a rellenar primero esto identificador entonces y de moodle ya que tiene un aire externo vale ahora hablaremos de ello tiene tiene que el título el nombre de la asignatura nombre y una cosa que se llama el short name que es un código asociado entonces ir en moodle y de moodle es un número nombre es un bar char short name es un bar char el idl es bueno voy a poner 20 el nombre puede tener 200 y el short train pues bueno voy a poner 100 y yo creo que ya entonces vale ahora en los comentarios os voy a poner identificador picador esto nada es poner esto nada de esto nada bueno ya hablaremos de esto tipo nombre y ahora identificador a título de moodle descripción voy a abrir descripción y al tocar y luego para hacerlo rápido esto es un hambre también voy a poner esto es nombre de la asignatura esto es un texto y short name código short name de la plataforma y es un texto entonces esto lo pongo aquí esto lo pongo aquí y esto lo pongo aquí de tal forma que ahora le voy a guardar tengo ahí la el mantenimiento de asignaturas de hecho vengo por aquí y recargo y ahora aparece aquí asignaturas y pincho y aparece esto de allí o sea que fenomenal el sentido de que si yo hago una nueva tabla pues automáticamente tengo ya que puedo meter una nueva asignatura es decir esto es un poco el objetivo del súper controlador y es que una vez que lo programa ahora lo tengo ya para todo lo que quiera ahora como diríamos entre comillas todo esto cuesta abajo vale pero ahora lo que quiero es meter información aquí dentro de asignaturas así que bueno tengo cuatro campos lo hemos visto he descargado un archivo csv con las asignaturas así que lo abro con libreoffice ok bien y entonces ok y entonces digo el idea before esto es vidente fijador para esto es y de moodle categoría no la quiero short orden no lo quiero fulmen esto es nombre y short name es tal cual sorteo y todo lo demás no lo quiero así que delito vale me quedo solo con lo que toca el identificador lo voy a dejar en blanco porque ya lo re llegará al sistema así que si todo bien le voy a guardar si todo ha ido bien le voy a importar importante que si aquí tengo cuatro campos aquí tengo que tener cuatro campos eso es importantísimo porque si no va a fallar a ver que suba aquí tengo que tener cuatro campos y además es importante tener las cabeceras de los campos así que voy a importar porque en la importación muchas veces es donde tenemos muchos quebraderos de cabeza importa el musel corts y si todo va bien pues se importa todo de un golpe pero insisto y se importó de un golpe es porque he hecho importaciones muchísimas a lo largo del tiempo y al final este a caballo y rey quiero decir que si hago cuatro columnas pues el archivo tiene que tener cuatro columnas y este es un campo auto numérico y es una clave pues lo tengo que dejar vacío es decir hay una serie de cosas que pues digamos ya conozco por tanto si en un momento dado en tu caso te cuesta mucho hacer importaciones pues que sepas que simplemente tienes que tener cuidado entonces nos vamos a por aquí asignaturas vemos que ya tenemos por aquí las asignaturas voy a buscar una asignatura de programación y veo que tengo aquí pues ahí tenemos de aguas la asignatura y tenemos por ejemplo que yo me vengo ahora entregas me voy a la última página vamos a verla a la última página y veo que alguien ha realizado entregas en la asignatura alguien acaba de realizar en la 225 pero que es 225 pues claro que vengo aquí a asignaturas me voy a buscar el identificador de moodle 225 lo que claro no tenemos bueno pues 1227 esto me ha extrañado un poquito la verdad 12 27 eres del modelo pero ahora espera algún momento asignaturas programación esto sea hasta el momento estaba funcionando a un saber voy a cerrar por aquí cosas asignaturas ok ah claro espérate que estoy viendo estoy aplicando un offset entonces si busco me voy al controlador me voy al controlador de búsqueda entonces ok y no les digo if it's set buscar si no se buscar es decir si estoy en una búsqueda anula el límite anula el offset entonces como decía 12 27 es programación luego eso quiere decir que me voy a entregar alguien ha entregado en los 25 con lo cual de igual que es los 25 225 es marketing digital por ejemplo pues en definitiva ahora lo que quiero es realizar una búsqueda cruzada vale lo que quiero es decirle al sistema mira realmente en entregas el código de asignatura corresponde a otra tabla vale lo que quiero es que me hagas un cruce con otra tabla bueno hay un bueno hay una cuestión es que en formaciones anteriores hemos visto pues que había un truco una forma de trabajar es cambiar el nombre del campo y poner algo así como fk y todo esto vale esa metodología evidentemente es perfectamente válida porque funciona y su función es válida pero ya que en este caso estamos utilizando comentarios de campo pues vamos a utilizar los comentarios de campo que probablemente van a hacer que el proceso sea bastante más limpio en el sentido de que podemos mantener digamos pues correctamente así que en definitiva qué es lo que voy a hacer vamos a hacerlo bueno pues lo que voy a hacer lo que voy a hacer es que me voy a ir aquí entregas a la asignatura y voy a evitar esto y voy a poner una nueva propiedad me voy aquí a brackets voy a hacer un nuevo archivo algo así y luego es una nueva propiedad y por ejemplo voy a meter la propiedad seca forense y voy a poner esta tabla es dos puntos y asignaturas como y entonces digo ahora argumento ya no espérate porque ese campo representa vale efe acá petición clave por ejemplo es de asignaturas es y de moodle estos dos puntos y entonces ahora vengo aquí y digo efe acá campo efe acá mostrar por ejemplo importante porque la decisión que tenemos va a tener que aplicarse en todas en toda la aplicación o sea parece que estoy tomando la decisión un poco a botepronto pero es porque realmente ya ha hecho unas cuantas veces parece que lo estoy decidiendo al vuelo pero realmente ya he pensado en ello demasiadas horas anteriormente cuando digo demasiadas son demasiadas entonces eficaz mostrar va a ser el nombre entonces nombre a ser nombre bien entonces copio esto lo pego en comentarios nada ha cambiado el momento me entregas y ahora lo que voy a hacer es modificar el controlador y decirle había encontrado si te encuentras un campo efe acá pues en ese caso no me pongas directamente el elemento sino por mí otra cosa vale entonces vamos a ver un identificador ok vale viento en festivo y si existe pero dónde está momento que lo cuento porque lo tenía por aquí pero fila field comments lo tengo por alguna parte pero no lo veo así que ahora lo voy a encontrar aquí y entonces digo ya no sé dónde estoy yo if i said filón efe ks tabla creo recordar que es fk tabla en este caso pasa algo en caso contrario pasa esto de aquí en caso contrario pasa es vamos a recargar vamos a comprobarlo la asignatura de estas entregas como digo de asignatura y vamos a ver y fierce' de jotas son de ccoo de tabla hola y esto es lo que debería hacer es que aquí en código de asignatura debería desaparecer se trata bla y j son de kobe es igual o no es igual a nada bueno código de asignatura no está desapareciendo y yo creo que debería desaparecer así que vamos a asegurarnos asignatura o fk tabla efe ks clave f k tabla es asignaturas al principio yo creo que debería desaparecer ya si la hay allí tengo el problema con fila sí pero no sé por qué vale no se están guardando esos campos es el sol full columnas está aquí pero esto ya es un selecto el front habla y esto ya no tienen los comentarios y lo que necesito es decirle al sistema que quiero guardar de alguna forma los comentarios entonces voy a poner vamos a ver columna contador columna es igual a cero contador columna + + para aumentar el valor y ahora entonces digo comentarios de contador columna es igual afila comments y entonces ahora tengo por aquí contador columna es igual a cero ok y dijo si jota son de cohen de comentarios contador columna efe ks tabla vale no es pero vamos a hacerlo vale entonces ahora desaparece eso de allí número de la práctica operaciones vale ha desaparecido stv entonces y debería haber puesto uno la alguna parte con de la bola bien entonces ahora un eco tv pongo hola bueno pongo hola ella parece hola y ahí lo que quiero hacer en definitiva es una petición cruzada que me lleve a la otra tabla que me lleve en definitiva a la tabla de asignaturas y que me permite cruzar tablas en esta o en cualquiera porque las gracias que recordemos que lo estoy haciendo en una tabla pero lo estoy haciendo de forma abstracta para que se puede hacer en cualquier tabla de cualquier aplicación vamos a por ello así que entonces a continuación aparte de que ahora pondré esto me interesa mucho aunque esto es un efecto pero bueno ahora veremos bien entonces ahora le digo qué le dijo consulta 2 es igual a select all from comentarios acerca tabla web aquí es jotas donde kobe vale efe ks columna es igual aquí pues es igual cuidado con este espacio pues es igual este valor es igual al valor el ser igual al valor vale vamos allá steuer es porque aquí le falta un punto vale esto debe ser que me ha dejado un punto y coma entonces ahora el resultado 2 quiere decir que en la conexión le lanzó la consulta 2 y ahora entonces ya entonces esto le digo selector from no le digo j son de cover select qué efe que mostrar has campo y entonces ahora en el while le digo que fila 2 el resultado 2 y entonces aquí hago el eco y el eco es fila 2 campo porque campo pues porque para eso le he puesto a as campo porque si no vete a saber qué nombre tiene pues vamos a ver si ha funcionado vamos a ver si funcionado así a la primera ya las bravas entonces recargo bien vamos a ver no funcionaron súper controlador leer hay un error en la línea 186 vamos a ver el 10 186 fijado el resultado que me dice fechas o convulso quiere decir que no está dando nada entonces yo vengo por aquí y digo bueno pues sácame la consulta 2 y vamos a ver qué errores cometido en la consulta 2 recargo y select nombre as campo vale from a asignaturas were ahí está el problema where fk columna pues sí que debería así que debería efe que columna como se llama el fk columna efe ks que el ave vale es eficaz clave no es columna sino clave no me cuadra no recordaba así vale entonces yo vengo por aquí y bueno pues código de asignatura diseño el nombre todo lo que pone nombre es que está no está correctamente marcado vale pero si nos fijamos ahí pues empezará a salir como vemos pues los nombres de las asignaturas las cuales pues la gente está empezando a enviar vale entonces pues bueno vemos esto por aquí de hecho yo incluso pondría e incluso pondría pues vamos a ver yo incluso pondría valor en cadena y entonces esto un poco para que esté el valor de el valor real que contiene esa columna y luego el valor del joint vale el valor enlazado yo que sé eso ya cada uno evidentemente pues como quiera incluso puedo poner por aquí pues puedo poner un b de negrita puedo poner un bebé negrita para que ese campo pues aparezca en negrita un poco para que siempre qué siempre que aparezca vale pues siempre que esté ese campo pues aparezca por ahí ahora ya puedo quitar las peticiones ya tengo claros las peticiones pero sobre todo ahora lo importante es que puedo hacer eso vale puedo cambiar eso entonces tengo esto por aquí ya tengo peticiones cruzadas y ahora claro hay que tener cuidado porque si hago así puedo cambiar digamos el número pero cuidado porque se hago así este campo realmente tampoco va a pasar nada porque no se puede cambiar es decir aquí pero no sé qué es eso no sé cómo toca niza le voy a poner el valor de 639 en la tabla andy file la columna andy y frank el interior anti faith and if i'm es porque ese campo no tiene todo aquello que yo le he indicado vale no tiene todo lo que tenía el campo anterior pero aún así en un momento dado pues le puede interesar poder cambiar digamos ese campo sin mayor problema pues vamos a ver cómo lo podemos hacer bueno pues ahora vamos a hacer lo siguiente y es que cuando haga clic en un campo de texto pues quiere editar el campo de texto pero cuando haga clic en un campo externo lo que quiero es que aparezca un desplegable por cierto que voy a quitar las consultas que ya está claro que sale en la pantalla ok vale qué pasa pero no sé donde dejaba ese error pero bueno y entonces ahora aquí en td vamos a ver en este de lo que voy a hacer es lo siguiente voy a hacer es decirle clave o externo es igual pues así es igual a si eso quiere decir que todos estos campos son externos ok voy a decirle en este caso qué estos campos el resto de campos externo es igualdad no y por tanto ahora en el javascript cuando haga clic voy a decirle que solo quiero que sea doble clic si es un campo externo o si es un campo o sea doble clic digamos que es un campo que no sea externo vale entonces digo sí junto a teté r externó es igual a no en ese campo en ese caso voy a meter este código y ese código lo que va a hacer a ver si le he puesto correctamente que creo que no ahora sí y ese código lo que va a hacer es esto qué quiere decir pues cada recargo y yo por ejemplo cambio número de práctica yo veo que lo puedo cambiar pero yo ahora vengo aquí y yo esto no lo puedo cambiar no lo puedo cambiar porque no es un campo que quiera hacer editable este campo es otra cosa este campo es un campo que quiero que sea un desplegable porque es un campo que proviene de otra parte entonces ahora lo que voy a hacer es decirle si campo externo es igual a sí bueno pues en ese caso lo que voy a hacer es otra cosa lo que voy a hacer es que bis punto html momento voy a hacer esto es igual a un espacio y eso qué quiere decir simplemente es una demostración simplemente lo que quiere decir es que si le hago doble clic aquí pues en principio voy a recargar para que se recargue todo voy a hacer así y el campus desaparece porque desaparece bueno pues desaparece porque lo que ocurre es que voy a hacer un selecto voy a hacer un select y voy a hacer una opción hola y voy a hacer una opción por aquí por qué pues porque si yo hago así quiero que aparezca un desplegable y ese desplegable deberá tener todo el listado de opciones que hay en este caso dentro de asignaturas recordemos estamos hablando de asignaturas pero realmente estamos hablando de cualquier campo estamos hablando de cualquier campo de cualquier tabla en cualquier aplicación así que en definitiva ahora lo que voy a hacer vamos a ver ahora lo que voy a hacer es decirle al sistema que en inc necesito un ajax de valores o algo así el calor es punto p h m ajax select php lo podría haber llamado en definitiva vamos a ver entonces es un momento y ahora un momento no me concentré ahora aquí en el controlador voy a decirle qué clase es igual a esto columna es igual a esto tabla es igual a esto tabla es igual a tabla y sí aquí campo es igual ah efe que mostrar vale entonces yo ahora vengo aquí y digo en el disc quiero loud quiero cargar el archivo que está en ink y se llama ajax valores y este archivo de ajax valores va a hacer lo siguiente copio estudio aquí pego y le digo dónde tabla es igual a tabla mostrar es igual a mostrar y ahora tabla es tabla columna es igual a columna y me hacer columnas igual a columna controlador habla y campo bueno en columna tiene que coincidir si no hay coincidencias habrá problemas evidentemente y entonces ahora en ellas valores le digo selecta y estable select all from que tabla y ya está ware where we were huelva entonces vengo aquí selecto campo era campo no columna no me acuerdo que era columna vale entonces resultado cojo un wild con wilde fila y entonces dijo que con mal esto es un select que en el momento no va a ir a ninguna parte pero vale no tiene nombre así que no va a ir a ninguna parte pero option la opción pero por aquí faltan ponte coma y digo fila columna y si todo ha ido bien y si todo ha ido bien cuando recargo y hago así momento hay algún error vamos a verlo no puedo ver properties de arte r vale en código 19 vamos a ver el código 19 selector así es que selectores de muy bien d aguas y doble clic vale siguiente momento admin en ciertos valores es un 40 4 álex valores php ajax modifica espero que nos vaya en colores ajax valores punto php el color es punto php si existe 13 404 no existe ajax valores php ajax php porque existe sí que existe sí ajax valores punto php como me dices que no existe voy a cargarlo sin parámetros y ahí sí que existe luego el problema son los parámetros el problema está en que el primer elemento es una interrogante entonces recargo algo así y entonces aparecen por aquí todos los elementos vale son mil y pico elementos entonces lo que voy a hacer dejémonos es increíble la cantidad lo que voy a hacer es utilizar una librería muy útil muy buena que se llama select 2 / selectos me permite hacer un buscador sobre los campos de desplegable que en casos como éste pues son casos donde el campo es grandísimo vamos a por ello vamos a activar ese selectos y vamos a continuación a aplicarlo así que a continuación vamos a select 2 voy a usar esta librería entonces bueno instalación vale voy a utilizar lo voy a utilizar de momento como fbn más adelante igual lo meteré como librería propia pero de momento voy a utilizarlo como fmn así que me voy a index y lo pegó en el head y le digo en clase le digo que es electo en 1656 y básicamente lo que voy a hacer es decirle qué selectos vale pues todo aquello que sea un campo selecto todo aquello que sea un campo selecto en el código voy a decirle todo aquello que sea un campo select automáticamente se va a convertir en un selector pero eso no va a afectar a un campo que se crea desde cero creo vamos a verlo ahora sí y esto no afecta a este campo entonces yo ahora lo que voy a hacer es decirle aquí de nuevo una vez que tengo esto ahora vuelvo a aplicar esto y con suerte no todavía no algún error no bueno con suerte lo que quiero es el sistema que es este campo también sea un selecta ajax valores vamos a ver selectos para contenido dinámico selectos con dynamic element vale mola pues vamos a ver dos inserte select vale pues vamos a ponerlo por aquí y esto lo que hace es que cuando detecte que en el cuerpo se ha insertado de una de moneda elemento del dom si ese tipo select le mete un selector fantástico pues ahora vamos allá vale vamos a hacer clic y fantástico ahora sí vale entonces vemos que aparte de que es un poco grande ahora lo tocamos un poco de tamaño pero lo que quiero es esto pero es como vemos pues el filtrado que me consigue hacer y luego pues bueno vamos a ver el tamaño máximo de columna y esto es campo 1 dónde está th tengo algún por aquí p h ya me extraña pero bueno vale pues ahora th le voy a decir max wef de 300 píxeles max con wifi recargo aguas y vale con cuidado es muy grande voy a decirle importante y voy a recargar con fuerza a ver si ese es el problema voy a este campo y voy a decirle qué max guys pero como la tv hago así vale ahí lo tenemos este elemento es un selectos ahí está vamos a select 2 después como punto select 2 hacemos así vale intentamos que no se nos desmadre demasiado la anchura de la columna bueno pues ahora lo que quiero hacer es decirle al sistema qué es lo que va a ocurrir cuando seleccione algo y eso qué va a ocurrir es que quiero actualizar el elemento que le quiero actualizar la asignatura en este caso por una parte en ajax valores en opción value voy a decirle que quiero identificador as identificador coma entonces value pongo el identificador y al select tendría que tener el nombre de la tabla guetta entonces con esto coge tabla con esto lo que debería ocurrir es que ahora en cuanto haga así cuánto seleccione algo pues ese algo se tiene que quedar ahí fijado cómo lo vamos a hacer bueno pues vamos a ver select vamos a ver selectos james con change vale por esto mismo un selector select esto está aquí y de momento voy a poner con sol punto lo he cambiado simplemente porque quiero comprobar si podemos seleccionar algunos efectos podemos detectar algo así o así y cambiado vale ahora que lo hemos cambiado quiero saber exactamente qué es lo que hemos cogido entonces consuele punto log vamos a ver que me devuelve las aguas y así vale y me devuelve target del eje parámetros target bueno sí interesante es select 2 james value james ok data vamos a ver re trabajamos la atención recargamos con fuerza no aparece nada vale dámelo todo dame todo lo que venga de ahí bueno pues no se ve más opción selecta y no me das nada entonces bueno tengo que averiguar la forma de extraer la información digamos de ese campo bueno para que aparezca y para que poder cogerla y meterla evidentemente en la base de datos vamos a ver cómo lo podemos hacer bueno pues vamos a probar diferentes cosas y voy a hacer lo siguiente select y quiero con sol punto love data y a ver que hay recargo pongo de eso ya es otra cosa muy diferente entonces ahora de hecho puedo ponerle alta punto y d y eso ya es una cosa como vemos muy diferente entonces a partir de aquí lo que puedo hacer es lo siguiente le digo maribel es igual a data apuntó y d pero data haber otra vez para ver cómo se haga el nombre del campo quiero si no texto el texto es igual a data text y ahora por tanto lo que voy a hacer es decir vamos a ver cuando cambie cuando quite punto remove es decir quiero quitar el selector y quiero poner estos datos o algo así el dis punto ritmo no me la ha cogido así que algo ha cogido dish punto parent un torrent probablemente estoy con el campo ok aunque es vale ha quitado el td también así que lo estaba haciendo entonces abbas y así no quita él en este campo selecto despuntó parent eterna trampa sobre los 102 puntos parent punto html y voy a hacer un tv y con ese te voy a poner ahí un campo nuevo bueno pues ahora lo que voy a hacer es decir lo siguiente quiero poner un una etiqueta de negrita una etiqueta ve y entonces aquí voy a poner el ide vamos a ver que sí voy a poner texto y entonces vamos a ver lo que ocurre texto recargo aquí vale vengo aquí doble clic perfecto vale voy a ver qué pasa si hago elegir otra vez creo que va a funcionar o ha funcionado increíble vale entonces claro esto es mentira quiero decir sea la recargo pues el campo sigue estando así es decir lo que he hecho es que cosméticamente le he puesto la opción pero evidentemente ahora lo importante es que tengo que poner digamos en el campo correcto vale entonces ahora vengo por aquí y ahora le tengo que decir el ibex es este para que es lo que tengo que poner pues la tabla es igual punto 40 att r y ahora va campo creo vamos a verlo staab la columna número columna es igual a vis punto parent columna y entonces ahora yo creo que ya habla columna y entonces ahora en ajax voy a cargar vamos a ver bueno podría cargar ajax modifica vamos a ver que tiene ya es modificado update tabla columna valor ciertos que se parece bastante a sí bar identificador es igual a identificador esto es un valor a enviar antes de enviar voy a hacer un control de punto log recargo y digo consola y selectores no definen código línea 11 identificador al selector punto parent atributo identificador ok un hombre aquí 2 encuentra selectores de finlandia 11 es el lector copiado y pegado con demasiada alegría vale recargo a ver voy a poner el valor 3 en la tabla de asignaturas en la tabla d no eso no es correcto en la columna nombre y el identificador ante fa en eso no es correcto y luego diréis donde faenan línea 13 vale vamos a ver línea 2 línea 13 claro y de ese valor a enviar en el identificador ahora vemos vale vamos a verlo esto qué es asegura columna nombre o qué tabla asignaturas si acaso no es correcto a la entregas y tabla entregas vale hay un error en el controlador y entonces le digo tabla externa es eso de ahí pero tabla es igual vamos a verlo pero tabla es igual a tabla vamos a verlo ahora esto es tabla entregas tabla externa columna en hombre vamos a verlo no habrá no aparece porque aquí en el código ajax valores habla externa cable tabla entonces externa vamos a verlo correcto vale ahora cojo esto vamos a la consola voy a poner el valor 3 en la tabla de entregas en la columna nombre y en el identificador and i find vale en la columna nombre no es hombre la columna no es nombre controlador la columna es nombre columna el contador columna recargamos cojo vale columna externa columnas igual a esto ok en el código le pasó columna externa y así respetamos una cosa y otra ok venga pincho consola ya por el valor 3 trata la entregas en la columna asignatura y en el identificador anti find vale esto ya está casi identificado en design únicamente me está fallando ahora el identificador vamos a ver por qué identificador y aquí identificadores parent atributo identificador vale muy bien si yo cojo esto tengo identificador lo que sea pero si lo cojo esto no tengo identificador pues por eso falla entonces vamos a ver me voy al controlador veo que aquí hay un identificador pero en la que he puesto externa pues no hay identificador así que lo pongo aquí por ejemplo recargo entonces aguas y consuela ve por el valor 3 en la tabla de entregas columna asignatura identificador 143 vale eso tiene una pinta mucho mejor ahora que ya he dibujado pues ya puedo lanzarlo ya puedo lanzar la petición entonces si todo va bien ahora este ajax loud lo puedo pasar con confianza pero puedo pasar con confianza y si todo va bien vamos a verlo con una 143 que estoy cambiando el 0 por un 3 entonces ahora recargo para comprobar si es cierto agua vale o la recarga y esto porque la función y esto porque me está cogiendo porque está comiendo la fecha pues no lo sé vamos a ver aquí que se está comiendo vamos a ver con fuentes de la página y vamos a buscar el 143 para 143 voy a hacer una cosa porque ahora mismo no sé en qué estado se ha quedado tendría que mirar en la base de datos no sé dónde tengo ahora mismo la base de datos vamos a sacarla pero no sé no se te ha ocurrido hago clic aquí espero con suerte no haberme cargado nada de la base de datos a buscar el registro 143 directamente en la base de datos y buscar los 143 vale al principio todo parece correcto esta frase es de hecho el apuesto viento de hecho la muestro bien entonces porque no aparece bien esa criatura es la 3 es correcto click entregas asignaturas entregas vale pero ahí se lo está comiendo ahí se lo está comiendo ese campo voy a poner aquí la número recargo y se come ese campo se come ese campo por algún motivo pero si busco el registro es dónde está ahora si busco el registro pues en principio está correcto la asignatura 4 porque se lo come vale pues no sé voy a revisarlo porque el principio en principio digamos que está funcionando correctamente pero hay algo que se está comiendo allí siento 3 y 4 no sé qué se está comiendo no sé qué le ocurre ahí pero se está comiendo el campo una cosa que puedo hacer en el controlador es que cada vez que pongo un tv voy a poner un retorno de carro y cada vez que pongo un tv voy a poner un retorno de carro simplemente para que al recargar y al ver el código pues el código aparezca un poquito más ordenado recargo veo código fuente de la página valen 142 era el 143 144 práctica tenéis que pasar qué pasaba hay una doble comedia no mola y explicar ya dichosa como ya está en todas partes externó no y en los identificador como éste dejamos aparezcan todos y en el externo 145 y no aparece de entrada voy a corregir eso porque si yo si tengo que corregirlo habla identificador no ve ahora mismo dónde está el error target blank eso es correcto no veo el error identificador el pecador allí no veo el error de dónde sale eso stern o no y externos y en cambio aquí desaparece el externo sí en esos dos campos que tienen sus campos pues no lo sé comentarios fk tabla no es igual a nada a un cuidado con resultados es el problema o 140 euros al menos está ahí vamos a ver aquí sí que está funcionando aquí sí que está apareciendo pero es algo que ocurre en los dos que es modificado lo cual es extraño porque al modificarse según la base de datos no les ocurre nada pero algo evidentemente le está ocurriendo claro esto aquí asignatura todo correcto 143 realmente y 144 es que teóricamente es correcto y no sé qué tienen para desaparecer vale o que es una cosa estoy aquí lo cambio nombre ya frase ya no está ok y desaparece pues vamos a ver voy a ver el código aquí puedo estar un rato probablemente al final ser una tontería como suele ser muchas veces pero y j son mejores consultados hasta ahí está llegando hasta ahí está llegando entonces esto parece que esté dando vacío y de mil 639 ok es buena 3 es igual a 4 vamos allá es decir de hecho antes lo apuesto es que empieza a funcionar 639 vamos a este nos vamos aquí nos vamos a sql nos vamos aquí le damos y no sale nada correcto pero no es correcto y no es correcto porque se le nombre as campo forma asignaturas donde y de moodle es igual a tres y de muchísimo a tres sí que sale algo entonces aguas y no sale nada se le nombre al campo forma asignaturas güera y de moodle es igual a esto es lo que está bien normal desde el sentido en el cual el nombre as campos forma asignaturas juárez de muebles igual a tres forma asignaturas y de moodle es igual a gay vale ya sé lo que ha pasado ya sé lo que ha pasado una cosa es un identificador y otra cosa salí de moodle ella sé lo que ha pasado ok ya sé cómo arreglarlo entonces el error realmente es este el tv va aquí el tv barquín como mucho falla esto de aquí pero lo importante ahora lo importante con lo cual ya tenemos los campos cuadrados es que esto cuadra con el id o sea una cosa es el identificador de la tabla otra cosa es el identificador de moodle entonces yo que estoy pasando yo exactamente que he pasado pues si yo hago aquí y le paso atención sociosanitaria debería ser el 2 pero que aparecerá el 3 entonces me voy al registro 147 creo que es 147 te entregas debería ser el 2 pero aparece el 3 ese es el problema entonces ahí el problema está al actualizar y entonces debería ser el acuerdo que debería ser arias el 2 pero para hacer 3 entonces me voy al controlador me voy aquí al código y aquí y lo que tengo que hacer aquí está es decir lo que quiero el identificador externo ese es el problema porque además cuando le doy a valores ahí está el problema como le digo yo como le digo yo que lo que quiero es un externo bueno pues vamos a ver si tengo esa información porque creo que sí tabla externa columna y columna externa vale entonces puedo decirle columna externa y yo creo que si tengo columna externa tengo clave externa porque si vengo aquí la clave externa es igual a estar aquí efe ks clave si todo va bien ok a un problema de aquí no sé cuál es el problema a super controlador nos ha encontrado vale ok venga entonces algo así vale columna que es tierra es igual al nombre la verdad es que no sé clave externa es y de moodle ahora sí entonces cojo la clave externa para decirle qué vamos a ver cojo la clave externa código ajax valores mal y clave externa es igual a clave externa y entonces le digo que claro externa es igual a claro externa que muchas veces era el identificador pero otras veces no de hecho la gran mayoría de las veces el identificador pero hay veces que no como en esta justo nos hemos ido a encontrar un caso difícil pero bueno mira mejor así y entonces ahora en ajax valores le puedo decir que selecto pues clave externa as identificador y entonces si ahora todo va bien vengo por aquí bueno aparte de que aquí ya lo veremos ok ahora vengo por aquí y por aquí donde pone el nombre 151 no aparece un momentín por qué en clave externa as identificador algún error no eco consulta vale se le nombre al campo el cónsul está fuera vemos código de la fuente de la página no está lanzando econsult ha escrito algo mal al principio parece que no voy a refrescar select get clave externo si pongo identificador sí que funciona pero si pongo clave externa no porque pues no lo sé vamos a verlo código selector punto atributo clave externa vamos a comprobar que exista un atributo llamado clave externa una bueno ese es el error así que clave externa externó ok recargamos nombre ahí tenemos atención recargo 151 del 151 está correcto lo cual hace que el sistema ya esté en funcionamiento y eso quiere decir que no sólo tengo claves externas sino que puedo hacer doble clic y puedo seleccionar una asignatura y puedo recargar y puedo comprobar cómo se ha fijado correctamente dentro del campo es decir el campo está perfectamente en funcionamiento