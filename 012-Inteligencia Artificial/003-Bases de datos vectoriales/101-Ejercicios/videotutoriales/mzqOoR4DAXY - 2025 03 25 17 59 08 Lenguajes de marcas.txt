venga entonces una vez que tenemos esto vamos a ver eh Pues como os decía podemos medir vale Ah sí lo que os iba a decir vamos a ver I would like to create this program but in c+ Plus qué es lo que os comentaba al principio de la clase vale en el sentido de que pues en un momento dado sabemos el propio programa de medición vale pero que eh Este programa está hecho en python y por tanto el propio programa de medición consume recursos pero sin embargo programas de este tipo programas de consola son especialmente fáciles son especialmente convenientes de hacer en lenguajes compilados vale por tanto gracias a la era de la Inteligencia artificial Aunque veo por aquí Unas librerías creo que las tengo todas Pero vale me voy a edit me voy a crear un archivo nuevo llamado medidor cpp vale Yo creo que las librerías que me está pidiendo las tengo todas porque el prama de python Es que sabes que siempre vas a tener todas las librerías vale pero en c+ má pues no esto tan claro Así que me vengo por aquí me voy vo me voy a medición Hola monitorización Perdón vale me voy a abrir en terminal vale Y me voy a g+ Plus con no medidor pun cpp o medidor out vale Qué pasa bueno ya emp a darnos de tortas con c más Vamos a ver eh Me dice que no sisc no está declarado en este ámbito vale Ok venga voy a intentarlo un par de veces y si no tampoco me voy a matar mucho vale saltamos a la otra cuestión que era el tema de lo de ionic vale Y ya os digo tampoco me voy a matar mucho con c+ porque simplemente una prueba de concepto y con c+ más pues siempre ocurre que pues es un lenguaje que hila muchísimo más fino que eh que python y por tanto Pues cuando lo consigues consume muchos recursos pero también hay que lidiar con un montón más de errores entonces hago así okay en principio ha funcionado correctamente y ahora a continuación pues lo que voy a hacer es ejecutar medidor pun leches pun out Uy medidor pun out Ahora sí vale lo dejamos correr 10 segundos y por tanto sabemos que tenemos un programa que Está realizando una medición y este programa Pues aquí está Vale Wow Ah qué Guay qué Guay porque de hecho me da una medida bastante chula Aunque no me cuadra el Por qué está usando el 25% del procesador Apache Pero bueno Espérate que pare todos los procesos de Chrome a ver porque no me cuadro ahora mismo porque Apache está usando el 25% vamos a decirle otra vez 25% además es que ese 25% está clavado y no estoy usando nada de Apache voy a ejecutarlo de nuevo porque parece que ahí puede haber cometido algún error ese 25% me parece un número demasiado redondo y más cuando ahora mismo no 25% no algo hay mal ya os digo no voy a perder la calma ahora por esta cuestión vale porque debe ser alguna tontería de c+ más pero la prueba de concepto era esa no el prototipar el software en python y luego si el prototipo está cerrado y funciona correctamente y todo eso y bla pues ya es convertirlo a c+ más donde la conversión antiguamente obviamente había que hacerla a mano y ahora por suerte pues tenemos herramientas de Inteligencia artificial que nos pueden asistir en una enorme medida en ese tipo de conversiones vale bien la segunda cuestión de la que hablamos hoy ya os digo con respecto a resolución de dudas es el tema de ionic y el proyecto que tiene Luis con respecto a capturar pantalla utilizando ionic Vale entonces hay que tener en cuenta que ionic es un software que lo que hace fin M es en beber un ejecutable de Chrome vale o de chromium dentro de una aplicación en ventana claro qué ocurre que si hablamos específicamente de la captura de Webcam hay que recordar que la captura de Webcam en javascript requiere o bien un local Host o bien por temas de seguridad y por temas de privacidad un servidor seguro vale un certificado ssl al igual que otras cosas por ejemplo captura de audio que requieren Un ssl vale para asegurar de que dentro de lo posible pues no se hagan con fines maliciosos hay que tener en cuenta que eh ionic funciona bajo nodejs lo cual quiere decir que en un momento dado al concepto inicial que a mí me gusta mucho de ionic que es desarrolla una aplicación web e implemental como aplicación de escritorio vale Ya os digo que a mí ese concepto me gusta muchísimo pero claro aparece el siguiente concepto del uso de plugins es decir si ionic no te deja hacer algo de base puedes instalar plugins específicos para realizar esa acción el uso de plugins de unic no es muy complejo como ahora a continuación os voy a demostrar pero claro para mí parte un poco la gracia vale de que con el mismo esfuerzo que haces una web pues haces una aplicación móvil en el caso de aplicaciones de eh aplicaciones de escritorio especialmente de tipo zoom y de tipo cámara vale nosotros estamos utilizando ahora mismo zoom por ejemplo y pues yo tengo una aplicación de escritorio instalada Vale pues bueno puede justificar la captura de pantalla o la captura de escritorio bien Así que vamos a por ello en primer lugar vamos a ver bien voy a cerrar cosas por aquí que ya tengo un montón de ventanas abiertas cierro escritorio guardar vale cierro pythons cierro por aquí terminal subo el monitorización vale Y así lo tenéis en el repositorio muy bien y aquí Vamos allá y voy a empezar igual que otra vez create project create a ionic project on ubuntu voy a ir a github voy a ir a crear un proyecto que más adelante se convertirá en un proyecto color pero de momento lo voy a llamar ionic vale porque quiero hacer la demostración y una vez que haga la demostración quiero hacer un software con ello vale pero de momento vamos a demostración entonces aquí clono y llamo iic vale clono Ok entonces ahora a continuación vengo por aquí Ok y vamos a ver update esto no hace falta esto no hace falta esto no hace falta esto no hace fal vale unic cli esto no hace falta Ahora sí bien entonces me vengo al terminal en el terminal me voy a CD barw html ionic vale Y aquí ahora sí es cuando voy a hacer un Start Eh Pues no sé sabes Voy a llamarlo venga puñetas Vamos a darle un color directamente a ver qué colores me quedan libres lo tengo aquí porque es que para darle un nombre y luego cambiar el nombre Pues para eso le ponemos ya el nombre y ya está Vale vamos a ver los estos Sí yo creo que lo guardé Ay Dios mío que no lo guardé madre de Dios Qué porque bu No me digas esto si yo me hice un listado ahí super guay Ay qué en fin esto es culpa mía Pero en fin da igual vale creo que más o menos a Ojo me acuerdo de qué proyectos si hice un repaso en fin Mira Sabes qué Lo voy a llamar Black vale porque el proyecto Black lo tenía un poco frito o mira o Brown que lo tenía sin usar Ah mira sí que me ha guardado algo sí colores no pero eso me lo ha guardado interesante vale darkor Kid vamos a ver sistema videoconferencia sí no Ya sí pero es que para empezar me he rehecho la web pero es que para continuar Es que aquí en esta hoja de cálculo es donde lo tenía más actualizado y me hice un repaso de dónde estaba cada uno a qué perten decía todo pero no lo guardé correctamente lo guardé en csv en lugar de guardarlo en ods y he perdido los colores con lo cual en fin no pasa nada da igual esta noche volveré a hacer el recuento y ya está Vale sistema de videoconferencia con ionic Vale entonces voy a decir que esto es eh aquí es Dark orchid vale Vamos allá y pego y Dark cor kit Vale y Ok venga fantástico si yo lo tenía instalado yo lo tenía instalado vo hacer una cosa Me lo voy a instalar pero me extraña mucho si aquí en clase hemos hecho proyectos de jonic Pero bueno lo que sea aparte lo estoy instalando global Vale pues Hala Dark venga qué quiero no nada de esto no I don't want to use framework Just playing php o js Perdón vamos a ver vale más que nada Es que cómo te diría yo le tengo bastante tirria a los frameworks en el sentido de que para capturar una Webcam no quiero hacer un proyecto de angular que otra cosa es que angular es Guay vale Pero para lo que es Guay pero no para hacer un mini proyecto de sabes Entonces vamos a ver okay esto fuera Okay me que ir vale create eh qué A ver no copiamos jedit me voy a Yonic me voy a Index pun html vale y custom logic de momento no python pero qué servidor vale Okay y esto pego recargo vale Y ya está pero Now show it on an ionic window a ver si no os hago un proyecto de sistema de videoconferencia directamente en navegador vale Pero a ver No mira voy a hacer una cosa más que nada por tiempo Aunque continuaremos mañana vale Pero como tiene pinta de que aquí voy a pelear un rato esto ya pero ventana modal no es lo que quiero no vale Ok vamos a hacer otra cosa Vale pues aquí era Dark orkid Vale entonces me voy a jeub voy a crear un repositorio nuevo jarsa Dark orid Ok Muy bien readm create repository Vale y traemos vale Muy bien Entonces vamos a ver proyecto que creo que os va a molar hago así voy a empezar directamente con el o1 Y en este caso más que un sistema de videoconferencia vamos a hacer un sistema de eh vamos a ver de pantalla compartida por ejemplo Vale entonces eh vamos a ver I would like to create a screencast emission software eh for streaming my screen my webcam And My microphone to my students Vale entonces make a login window no user or password Just State if you are a teacher or a student but Let attendant to also be able to State his name Vale entonces teacher Will cast screen Camera and microphone to students attendance vale attendance Will receive screencast video feed and audio lo del audio va a ser lo más difícil create also a chat window on the left for the users to use a chat use webrtc for use Google servers for rtc eh Y ya está try to create all in single file vamos a empezar por ahí a ver qué nos dice vale de esta forma voy a demostrar la captura de los tres medios principales que en un equipo informático son hablando de multimedios digamos son la cámara Esto vale los servidores stun turn de Google eh en principio podría montar mi propio servidores Tun en mi servidor Pero bueno dentro de que un servidores Tun lo único que hace es la ip de Quién se ha conectado pues puede usarlos de Google y ya está Vale y teniendo en cuenta que es una prueba de clase Ahora si fuera algo más profesional pues me instalo un servidor stun en mi servidor eh en mi servidor vps y ya está vale Okay vamos a ver vale vamos a por ello vamos a por ello vale claro me dice cuidado Esto me dice como lo que te decía antes Luis como esto usa la cámara tiene que servirse mediante https Pero no pasa nada porque tengo https así que me voy a darkor Kid me voy a Index html vale Y ahora a continuación pues me voy a subir el Dark orkid me voy a eh vamos a ver a varias cosas vale me voy al editor de texto para espérate aquí vale Ah No espérate primero tengo que ir a ionos para crear un ssl Bueno un s un dominio va venga venga vale dominios Quiero un subdominio Eh quiero en jarsa quiero en Dark orky Vale ahora aquí quiero clonarlo en el servidor así que sshr @caro.cuate pegar y jarsa orchid Dark orchid vale muy bien siguiente creamos Dark orchid pegamos vale esto etc apach 2 s available cojo una de ellas abrir con editor vamos a ver editor copio pego dark orchid darkcore Kid Dark coror Kid Okay y guardo y salgo y implemento vale Dark Kid oko service apach 2 restart Ok bien si todo ha ido bien Ahora me voy a dar corid Dark orkid jara.com vale your name José Vicente soy teacher vale Quiero compartir esta ventana quiero permiso Ah Sí perdón s Yes vale Ok dejar de compartir Por qué Pues porque vale Camera is not allow Ok Muy bien Entonces vamos a ver dónde estás no ay a ver voy a abrir otro jedit vale a ver Root etc Apache s enable Dark Kid Me cojo esto y le digo hola vale y le digo enable Support for screen share cera share o cera capture o cera feed o cera Stream y and screen capture vale Y aquí en el directory en allow pues me dirá acepto micro acepto no sé qué y acepto no sé cuántos vamos a verlo vale Ok vale venga copio pego guardo vale me ha dejado entonces actualizo Apache y probamos muy bien Jos Vicente teacher vale pantalla esta permitir mientras se visita el sitio vale ahí tengo la pantalla bien entonces off copy vale Uh esto Qué es qué Remote answerer pero qu puñetas es esto no momentom vale ahora a continuación me voy a abrir otro navegador en otro navegador voy a decir que soy student José le doy a Start y en principio debería recibir a ver un momento Okay Ah vale qué Pero qué A ver un momentín porque esto del offer no sé qué es si pongo aquí Hola Y le doy a Send No tampoco Hola No sé qué es esto vale vamos a ver Okay Ok vale Y me voy aquí eh OK Bueno voy a dejar de compartir Ok B uno I don't know what is the function of the offer answer exchange it Just should Let teacher cast multimedia and students watch the cast student nothings to happen vamos a verlo digo porque sí que está capturando en local pero evidentemente me hace falta que haga un Stream la cámara Por cierto tampoco parecía haberla capturado Pero bueno eso es casi más lo que menos me preocupa vamos a ver okay vale Oh un servidor de websockets Espérate que aquí la cosa se complica aquí la cosa se complica porque claro necesitar un servidor de websockets para iniciar la el streame pero bueno vale Ok un Script no de No es que est un poco rollo por tu 3000 no aquí como veis la cosa se complica bastante más no Claro Esto va vale It Be Down With php calculo que me dirá que no lo digo porque el caso es que una vez conectados a través de rtc realmente tampoco necesitamos una conexión continua con es complicado debido a las limitaciones de php sin librería ratchet vale nada olvídate de ratchet vale Venga pues lo que sea vamos a probarlo Eh Esto va a ser Esto va a ser un archivo vamos a verlo Ah fantástico y esto okay archivo nuevo web rtc Le pongo este código Vale ahora me dirá que no vale me dirá que no en el puerto 3000 y estoy buscando la IP Pero bueno vamos a por ello vale Pues subo en el servidor cdm jarsa Dark orchid sudo git pll origin Main Ok Vale entonces ahora no de bueno no de no me acuerdo no de webrtc vale Estoy escuchando el local Host 3000 vale Lo cual quiere decir que ping jocars comom Vale pues 217 esto de aquí http do barra esto de aquí e Puerto Perdón Puerto 3000 y no lo quiero con https sino con http vale No es seguro soy un teacher José Vicente le doy a login y ahora me dirá que no puedo hacer Esto vale No puedo capturar la cámara por bueno properties of Pero vale eso es otra cosa a ver vale Y Okay Vale vamos a ver por suerte tengo certificados ssl quiero decir que los puedo usar vale Así que error If the problem is ssl to Access media I have certificates here los certificados estos no los certificados son estos vale por suerte en este servidor ya están instalados los certificados para el protocolo ssl con lo cual si ese es el error que suele serlo pues no pasa nada vale Okay Ah bueno Espérate aparte de que estoy en chromium vale acordaos que el soporte para cámara era mucho mejor en Chrome vale esa es otra vale vamos a ver no no Qué no no no not with Apache Just e and php Just enable ssl with this previous code este si es que se ve que se ha quedado con lo último que le he preguntado lo de php Pero al final lo de php es como que lo he intentado pero que he dicho da igual no lo intentes con php porque es que tampoco lo vas a conseguir vamos a ver ya sabéis que pues bueno el tema de node Pues siempre me da un poco más de reparo porque con php tú lo instalas y se queda ahí durmiendo y si alguien lo pregunta pues ejecuta y si no lo pregunta pues no ejecuta el problema de no de es que hay que arrancar el servidor de node y dejarlo abierto Pero bueno ya está tampoco es mucho problema Vale entonces Vamos allá aparte que se lo he pedido en un single file pero por lo menos para empezar eh Hola No esto está mal vale mezclado ahí un trozo Vale pues pego el final hay que quitarlo okay Y ya está Vale con lo cual hacemos un comit Aquí hacemos un Pull esto qué es fuera vale arrancamos el este Okay arrancamos esto no aquí arrancamos esto esta página no funciona fantástico Vale qué pasa pues no lo sé okay Ah sí Perdón ahora es https do bar barra vale No es seguro pues Por qué José Vicente no sé por qué porque los certificados Okay Qué raro ahora me dice que sí compartir permitir y permitir vale Y ahora sí Qué curioso vale la cámara no la veo pero bueno da igual vale Y ahora en otro equipo voy a iniciar como student Carlos login y ahora me estoy escuchando a mí mismo vale bueno varias cosas está funcionando correctamente curiosamente después de haberle metido los certificados me dice que los certificados no son válidos lo cual es raro menos Pero vale Y ahora varias cosas vamos a ver vale de momento esto Guay ahora en un momento os paso ya la URL pero no entréis todavía porque todavía no es probable O sea no es vale usable pero vamos a ver varias cosas eh aquí okay perfect Now modal window esto dejar de compartir e want disappear after tienes toda la razón tienes toda la razón no lo había visto tienes toda la razón claro lo que tenía que haber puesto es jarsa 3000 Es que soy tonto es verdad Pero tienes toda la razón vale es jok carsa 3000 y tampoco fantástico Pues claro tampoco le he dicho dónde estoy sirviendo bueno no pasa nada ahora eso pero evidentemente Efectivamente es que fíjate que yo este servidor tengo dos dominios jarsa y José viicente carratala comom y cada uno tiene su certificado porque el certificado va con El dominio no con la IP pero se me ha ido la cabeza O sea que sí totalmente Vale entonces eh after login dos eh make all nojs in one file all html in one file all js in one file js client in one file and all css in one file tres create an awesome eh css design y vamos a probar con esto luego bueno podría haberlo hecho ya pero vamos da igual eh podría haberle dicho mira ahí de paso no me lo pongas con la IP y ponmelo con jarsa en el puerto 3000 Pero bueno da igual ahora en la siguiente petición activo eso vamos a ver una cosa muy divertida aprovecho para deciros lo de usar rtc es que es una conexión peer to peer lo cual quiere decir que únicamente estoy cargando el servidor para temas de enlace pero no para temas de sabes pero no para temas de multimedia lo cual quiere decir que el Stream de vídeo no está pasando por el servidor sino que está yendo directamente vale de pier a pier vamos a ver vale esto es server.js server.js vale Así por lo menos que tengáis este código funcionando esto es css sí Ah espérate public Ah claro entonces carpeta nueva public style.css lo cual quiere decir que aquí también esto irá en public míralo Ok script.js y yo creo que ya vale mira voy a probarlo ya que estamos and please use domain jocars comom htps jara.com to Listen for users vale vamos a verlo Ya que en principio las claves que le he proporcionado cubren ese dominio vale la única diferencia es el create server Ok Ok server SS ljs voy a ponerlo en el mismo server Class offer Class answer Es que esto del Class offer y el Class answer no me suena De nada pero bueno Vale pues sala no es que haga eso todos los días pero un par de veces sí que lo he hecho y lo del offer y el answer Es la primera vez que lo oigo vale venga entonces me voy al servidor traigo los cambios ahora arran el servidor Okay Vale me voy a esto fuera dónde estaba yo debe ser aquí vale me voy a jarsa comom en el puerto 3000 Okay Vale Soy José Vicente vale toda la pantalla Okay Vale Hola muy bien y ahora en otra pantalla voy a poner jara.com y soy Carlos y soy un student y ahora me empiezo a oír y por ejemplo si Carlos dice Hola pues yo lo veo aquí aparece su ador lo de menos vale Ok y voy a pedir cambios voy a pedir cambios aparte de que no veo la cámara Pero bueno es lo de menos Okay Vale esto fuera por aquí Vale pues Ahora para acabar vamos a pedirle unos cuantos cambios chulos Ok it works perfect Now uno on left Pain Show divided in vertical A On top chat B on bottom attendance list dos both for students and teacher on right Main Pain show screen cast occupying all available space on right AC to maxim screen show it centered using flexbox vale Y yo creo que ya Ah sí Y TR on chat use enter K to send messages to make chat more usable Uy he puesto usabel vale Pero bueno se me ha ido Ahí la vamos a ver y vamos a por ello con lo cual como estáis viendo pues prácticamente nos podríamos pir el zoom O sea si en algún momento dado tenemos problemas con el zoom pues Oye tenemos esto y podemos seguir dando la clase y como os podéis imaginar Pues en un momento dado le o sea puedo Añadir más modificaciones para que si tenéis algo que Mostrar Pues también vosotros podáis compartir pantalla y tengamos una especie de multicast vale Así que ssl vale un momento vamos a ver este es el server vale Este es el server voy a cerrar archivos para asegurar que edito las últimas versiones Este es el Index Este es el css que Yo calculo que ya ha acabado Sí vale Y este es el Script que debe estar en ello Okay vale el Script Así que hago un commit hago un Push esto fuera hago un Pull Okay ejecuto el server recargo de nuevo José Vicente teacher login error sí Uh vale a ver qué raro porque en principio las modificaciones que le he pedido casi son más estéticas que funcionales Oh ah Okay qué interesante no vale pues nos vamos al js línea vamos a ver Uy la línea 333 p text content vale copiar Ah mira el fancy este de aquí vale le ponemos un guion normalo y corriente subimos madre mía ese es el típico error que no lo hubiera visto en la vida o sea imposible que hubiera visto yo ese error okay eh Ok no a ver seguro que he hecho already up to date a ver Ahí va ahora no se puede Ah sí claro es que lo he cerrado vale a ver espera que se ha quedado frito Okay hay error sí Será posible y he modificado el archivo No sí vale vamos a saco y ya está comit paro traigo Okay ejecuto Okay Vale y José Vicente toda la pantalla vale Yo de entrada No veo nada pero bueno no pasa nada porque como soy el profesor pues no tengo por qué ver nada Ahora quiero que los students sí que lo vean no dónde estáen vide container Ah está aquí bajo Wow esto parece un problema de css por va más raro a ver left Pain right Pain vale euh vamos a verlo esto ya parece una tontería de css vale claro o sea efectivamente el body yo creo que debería tener un Flex pero ya os digo es lo más vale html Body y el body display Flex y Direction Flow me voy a estilo me voy al Body y aquí en el body le digo display Flex y ya está así que comit Push paro traigo ahora arranco me vengo por aquí José Vicente login pantalla Ok esto ya es otra cosa pero no porque Bueno ahora le tocaría un poquito el css pero está centrado pero yo quiero vale que ocupe todo el espacio a ver vídeo voy a probarlo aquí a mano Eh vídeo Wi 90 por video container ahí está el problema Flex 1 with 100% pasando de mí porque es Flex vale Aunque Flex 1 debería hacer Okay Vale display Flex correcto Bueno hay un botón de full screen pero es que da igual es que no hace full screen vamos a ver e qué pasado aquí perfect est full with vamos a probarlo y a ver un momento vamos a hacer un pequeño descanso teóricamente la clase acaba ahora pero da igual no vamos a acabar hasta que esto se quede en funcionamiento todo Guay Aunque