grabo por aquí entonces eh la idea lo que quiero un poco como resumen hasta el momento aunque no os lo parezca vale pero os juro que lo que quiero que entendáis es que estas cajas que tenéis en la pantalla son como divs vale o son como articles o son como sections a nivel gráfico evidentemente no tiene nada que ver pero a nivel dom a nivel elementos Son elementos del dom que en lugar de renderizar en un espacio 2D se renderiza en un espacio 3D vale Pero al final es lo mismo Exactamente lo mismo bien y de la misma forma de la misma forma que os digo que es lo mismo Pues vamos a hablar del stack de tecnologías tenemos css para el estilo y de hecho tenemos css vale tenemos por aquí html para la estructura y de hecho tenemos html para la estructura tenemos js para la programación para el comportamiento en el lado del cliente y de hecho tenemos javascript vale tenemos javascript con el mismo tipo de javascript que conocemos hasta el momento y ahora a continuación en el backend en el servidor pues vamos a enviar la información que ya habéis visto que la tengo fantástica para enviarla en formato jas la tengo fantástica para enviarla en formato Jason vale con lo cual la voy a enviar en formato Jason Y a partir de ahí ese Jason lo enviaré a un backend programado en lo que sea vale voy a decir php aunque teóricamente pues ya sabéis que en el servidor en el vps donde luego al final quiero implementar esto Pues tengo puedo implementar de todo vale vamos a tirar con php podría ser python puede ser lo que nos dé la gana y luego eh lo que queremos es fijar esta información en una capa de almacenamiento de datos donde en este caso voy a trabajar con ese kulite que tocamos el primer trimestre con python y que vemos que es un motor de base de datos bastante bien bastante competente vale Y que en un momento dado Pues nos puede venir bien para guardar y para persistir información claro cuando yo voy a guardar algo en el servidor esto quiere decir que todos y cada uno de vosotros podéis guardar algo en el servidor Y eso también quiere decir que todos y cada uno de vosotros podéis como te diría yo podéis elegir guardar x mundos diferentes Vale entonces para ello para esto vamos a ver me vengo por aquí y digo creo que me voy a quedar sin peticiones de o1 Pero bueno no pasa nada y digo on client Side create a login vamos a ver mentir vamos a hacerlo poco a poco va vamos a hacerlo poco a poco 020 eh login Vale y login y Sign up Okay y vamos hacer un login directamente a la bestia muy a la bestia vale por tanto vengo por aquí voy a ver y al principio el div este nos está ahí Así Ok vale Ok al principio digo did y de login y en el login digo que pues vamos a ver input type text ID usuario input type password ID contrasena vale esto de momento me va a un poco igual buton Iniciar sesión y ID Iniciar sesión vale aquí por ejemplo por aquí por alguna parte voy a poner h1 Siena o carsa Siena Qué es Siena no pero qué quiere decir Siena cómo sería Siena que no Siena okay a verena Mining vale Ah interesante vale de un color amarillento marrón Ok Ok Vale entonces en chat gpt en el chat gpt 4 podría decir What animal could be associated with Siena vamos a ver Wow un zorro me encanta vale me encanta claro un esto un Boo también me encanta vale pero vamos a un Fox bien entonces tengo por aquí un logo si veis por aquí Ok perfect logo with a Sienna Fox vale vamos a poner un logo para esta aplicación ahora luego le pondremos un repositorio Aunque teóricamente ya lo tiene ahora luego lo reemplazar eh Ok Vale pero no Ah esto Ah vale more ok perfect but more kawai please vale más estilo kawai Hoy va increíble Vale pues ala venga esto es aquí en escritorio me lo voy a guardar como eh logos me lo guardo como Siena vale edito el logo abrir con aquí vale Y vamos a ver Quiero un círculo Okay ahora añado estas zonas quito esto le pongo Esto vale Y me lo guardo como Siena cena.png esto quiere decir que ahora me guardo Esto me lo pego aquí no me lo pego aquí me lo pego en dam en primero en lenguajes en frame en Siena me lo pego aquí y por tanto Aquí voy a decir img src cena.png y ahora recargo login a ver login Wow W guau guau Qué ha pasado lo veía ahí y luego ha desaparecido Por qué ha desaparecido vale vamos a verlo login es Pos absolute with 300 píxeles High 400 píxeles top 50% left 50% margin top menos 200 píxeles margin left men píxeles background White padding 20 píxeles por qué te vas por qué te vas quién te dice que te vayas me voy al Body Ah login se queda por detrás Z Index 1000 vale Y ahí tenemos eso ahora a continuación lo que voy a hacer es decirle que login img es with 100% vale vamos a decirle que High 500 pixels y por tanto 250 Ok Esto está un poco mejor vale Y ahora en el body le decimos que primero utilizamos la ub font la tengo que descargar al propio ordenador porque la uso para todos los proyectos Pero bueno así que import vale Y ahora en Body le digo font family ubun Ok en el login le digo text Aline Center Y entonces le digo que login input coma login Button y le digo with 100% Box sizing Border Box pading 10 pixels Vale y margin bottom 5 píxeles Okay 10 píxeles quizás vale Y ahora pues un poquito más H de 550 y 275 vale Okay por ejemplo por ahí qué es lo que quiero hacer ahora cuando haga login Bueno pues de momento no voy a todavía vale no voy a chequear si existe el usuario contra la base de datos de momento solo quiero decirle cuando le de a guardar en el Back le voy a decir Oye Eh Esto es lo que quieres o sea este usuario es el que está guardando su mundo vale para no mezclar los mundos de usuarios Así que a continuación Iniciar sesión no hace nada entonces 020 procesar iniciar login Y entonces digo cuando sobre aquí mira voy a ponerlo aquí vale veis este programa que estoy diseñando hoy pues es muy monolítico y como es muy monolítico es como puf puf para arriba para abajo todo el rato para arriba y para abajo Vale ahora lo refactorizar remos y ahora lo haremos a trozos por partes de hecho también a ver si nos da tiempo en la última parte de la sesión de hoy a documentarlo correctamente Y así pues vale lo tenemos lo más correcto posible entonces Script vale No haremos algo tan complejo como el proyecto hokar l pero sí que quiero que volvamos a revisitar ese concepto de refactorizar vale de algo que es un churro muy largo y hacerlo algo más trag bien entonces ahora digo lo siguiente digo eh document query selector Iniciar sesión punto onclick es igual a function Y entonces ahora a continuación digo Vale pues en primer lugar document query selector login es pun Style display es igual a know de momento vale hacemos así no quieto siguiente versión procesar inicio login le doy aquí vale y entro al juego además lo que quiero es que local storage setattribute y le voy a decir sien usuario es igual a usuario vale es igual a document query selector usuario punto value entonces si yo pongo aquí jarsa y le doy a Iniciar sesión pues me voy a e Qué pasa aquí local storage set attribute no set item vale le doy aj carsa le doy a Iniciar sesión me voy a application y en application veo que hay un Siena usuario jarsa vale ha sido un login completamente local no validado contra el servidor ahora luego validamos contra el servidor vale Y ahora lo que quiero es crear un botón en alguna parte para guardar para enviarle al servidor Oye hok carsa va a guardar esta memoria vale hok carsa va a guardar en el servidor este nivel de Minecraft entre comillas que estamos haciendo bien ahora por lo tanto 022 botón de guardar Entonces por ejemplo por aquí en alguna parte por ejemplo por aquí en alguna parte digo eh Button buton yide guardar y guardar Así que en el estilo css dices madre mía eso tiene una pinta que se va convertir en un componente que te cagas Pero bueno ahora lo convertimos en componentes Entonces porque es que de la misma forma que tenemos html y tenemos javascript y tenemos css eso tiene una pinta de componente increíble Vale pues lo que voy a hacer ahora igual Entonces el botón de guardar de momento va a decir position absolute eh No right 20 píxeles top 20 píxeles padding 10 píxeles y ya y z Index de 1000 vale Y eso lo que va a hacer es que tengo el botón de guardar ya está ahí puesto no tiene más Vale cuando le Dey a guardar pues quiero guardar Por tanto me vengo aquí me abro otro Script daos cuenta de que esto lo estoy creando tiene toda la pinta vale tiene toda la pinta de que van a ser componentes con lo cual pues vengo aquí y digo Script vamos a ver en guardar document pun query selector guardar punto on click es igual a function Vale y vamos a ver déjame que piense Y bueno y console pun log vamos a guardar vale Y no sé si esta es la última versión Vale y console Y le doy y vamos a guardar qué es lo que voy a hacer al darle el botón de guardar pues lo que voy a hacer es esto lo que voy a hacer es recopilar toda esta información y enviarla al servidor para que el servidor la procese Así que para ello 023 envío la información en Pues no sé vale en jas Vale y un momentín aquí esto super guay aquí vale el normal Vale y eh js fetch URL and Send Jason Vale entonces esto okay okay Vale pues venga esto okay bien me vengo por aquí Me cojo todo esto y digo datos y digo usuario es igual a local storage get item eh Siena usuario y punto vale Y ahora datos o ter es igual a memoria Ok a dónde voy a enviar a cenab php post y ya está vale Ok y sien Back tiene que existir Siena bphp p va a decir respuesta es OK vale con lo cual vamos a verlo OK jarsa le doy a guardar Data is not Define vale porque son datos ya está Vale recargamos le doy a guardar respuesta Ok vale estoy enviando la información al servidor a un archivo php y php de momento lo que está haciendo únicamente es devolver un mensaje ciego que dice ok No sabe a qué está diciendo ok pero dice ok vale Así que ahora continuación lo que voy a hacer en php es recoger los datos vale eh vamos a ver and php to get that Data vamos a ver bien aquí esto Ok vale Primero cojo esto luego cojo que lo deif a jas son luego cojo esto usuario es igual a no me acuerdo a usuario y terreno es igual a terreno vale una vez que tenemos est ahora a continuación lo quiero guardar para guardarlo vamos a ver claro el terreno a su vez es un jas Así que terreno Jason es igual a Jason de code en terreno vale y ahora lo que quiero es guardar el acabo de codificar en una Ray vale vamos a ver ahora conversación phps cite create Table If not exist terreno with colums usuario x y z material vale usuario String y todo String realmente all fields are text y ya Vale y digo creo una nueva base de datos la llamo Siena Ah sí es un or es una estructura de control If abreviada si existe Data usuario ponle dato usuario y si no existe ponle null Pero no desfo vale es eso es como un or es Pon esto o esto En el caso de que el a falle en fin es una sintaxis poco común pero es válida Vale entonces ahora le digo create Table If not exist terreno usuario x yz material vale ejecutar consulta vale Ok ejecutar consulta Cerrar la sesión abajo del todo vale Y ahora digo vamos a ver y ahora digo terreno jas vamos a ver vale momentín terreno junto mj son no a ver for each terreno J son as clave valor y entonces digo vamos a ver okay clave valor y ahora necesito saber qué voy a Aquí bien entonces digo sql es igual a insert into terreno valius y digo voy a poner Mira a voy a poner uno para no marearnos dos 3 4 y cco vale Ok y dd exec sql vale ese es el problema Ah no Esto no es ningún problema de momento vale Venga pues probamos a ver pasa vamos a por ello y eh Y al final eco caray eco respuesta es Okay Vale pues ejecutamos le doy guardo error unexpected token vale me debo haber dejado algún punto y coma por alguna parte para verlo mejor voy a poner por aquí eh en el punto den response text hago click le doy a guardar sí fatal error J de code debe ser de tipo String array given vale Ok en la línea o en la línea o vale Muy bien Entonces given eso quiere decir que aquí terreno ya puedo terreno vamos a ver si con esto funciona recargo guardo no unable to Open database Hola Ah sí por permisos de carpeta J qué rollo vale va a frame arranco una un terminal aquí vale y le digo sudo ch mod 777 men r Siena contraseña permisos vale bien recargamos guardo no perdón así vale tabla terreno ya creada o ya existía vale Ok venga Entonces si todo va bien Ahora si esto es cierto dentro de Siena me ha creado una base de datos por aquí en alguna parte llamada Siena me voy a eh div y voy a abrir esa base de datos me voy a dam me voy a Primero me voy a lenguajes me voy a frame me voy a Siena me voy a Siena hay terreno Y en el terreno me voy a la hoja de datos y me ha guardado 1 2 3 4 1 2 3 4 1 2 3 4 1 2 3 4 1 2 3 4 porque es lo que yo le he dicho que guardara evidentemente vale muy bien perfecto pues vamos a continuar ahora para continuar me voy a cargar todo delete all from terreno Play no delete from terreno ahí tampoco Ah read only database que está en modo de solo lectura Vale ahora OK Pero qué r pero si es que si ya lo ha desbloqueado venga va ya está Vale guardamos y asunto solucionado bien y ahora vamos a que en lugar de guardar 1 2 3 4 5 pues vamos a guardar lo que realmente toca es decir voy a guardar Por una parte el usuario vamos a tirar esto para abajo y así lo veis mejor Vale ahora guardo vamos a ver clave valor un momentom valor no me queda muy claro vamos a guardar valor de eh valor de Qué valor de X valor de y valor de Z valor de mat si esto es correcto voy a decirle valor recargo inicio le doy a guardar vamos a guardar me voy aquí refresco refresco y fijaos como jocars jarsa me ha guardado jarsa y a continuación lo que ocurre es que me ha guardado el terreno que yo había guardado antes es decir ya estoy implementando Aunque de momento obviamente una implementación muy burda vale pero ya estoy implementando este stack en el cual pues puedo la base de datos la encapsulo en Jason se la llevo a php y php me la guarda de forma persistente forever andever en una base de datos de tipo sqit vale Así que ya ten pues un poquito vamos avanzando poco a poco vale ya tenemos algo más avanzado bien ahora además Claro si yo ahora le vuelvo a dar al botón de guardar ahora tengo 157 datos le doy otra vez a guardar pero claro ahora recargo y tengo 1314 datos Vale entonces yo lo que puedo hacer en este caso es que primero antes de hacer nada vale primero voy a eliminar vamos a ver primero elimino lo que hubiera antes delete from terreno Where usuario es igual a usuario es decir antes de guardar mi nuevo material bórrame lo que había Vale entonces le doy aquí a cargar le doy a guardar Y entonces recargo y solo tengo 657 elementos vale De hecho Mirad tengo 157 y ahora voy a cargarme dos cajas una y dos le doy a guardar le doy a recargar y tengo 155 tengo dos menos porque me he cargado dos cajas vale Así que veis como poco a poco luego evidentemente de la misma forma que he hecho una tabla terreno pues tendría que hacer una tabla de usuarios para que cuando yo hago un login contra la base de datos me diga si ese usuario existe o no y por tanto si tengo permiso para poder ejecutar vale para ello evidentemente tendré que hacer un router y tendré que atender a diferentes tipos de peticiones ahora vamos a hacer eso pero de momento como ya más o menos ya hemos hecho una primera implementación de cliente servidor ya está claro que lo hemos conseguido y ya ahora lo que queda es aumentar y extender la funcionalidad Pues ahora lo que quiero es refactorizar un poquito para que el código esté lo más limpio y lo más entendible posible Vale entonces para ello Vamos allá vamos a cerrar cosas por aquí eh cerrar sin guardar Vale y vamos a por ello vamos a ver me voy a el proyecto y ahora sí ya no hay más remedio que refactorizar y crear carpetas es un poco incómodo por eso intento retrasar ese momento pero Vale ahora refactorizar al refactorizar me voy a copiar este archivo html este archivo png la base de datos y el archivo php y me los llevo aquí al refactorizar lo que voy a hacer son varias cosas primero voy a crear una carpeta Back donde pondré el archivo php y bueno Y quizás la base de datos a continuación voy a crear un archivo bueno el png no me viene mal que esté ahí vale Y ahora este archivo se va a llamar Index html no perdona index.php porque sabemos que al final para cargar componentes nos va a venir muy bien que esté en php ahora a continuación ve solo ya de entrada ya esto me empieza a dar un poco más de gusto visual ahora a continuación me voy a crear una carpeta llamada componentes Vale entonces vamos a ver primero componentes espera antes de eso vale copio pego f2 025 componentes vale Y ahora en hedit me voy a componentes creo una carpeta nueva llamada componentes y en Index html está claro yo creo vale que vamos a ver que hay un login entonces componentes login pero ya de cabeza login tendrá ya sabéis la nomenclatura que vosotros queráis vale voy a decir login.php loginc s y login.js ya sabéis la filosofía vale Eso quiere decir que el login me lo corto y me lo llevo a login php y aquí en Index php le digo include componentes barra login.php esto ya lo hemos hecho antes el Script de login me lo voy a llevar a login.js no hace falta Script en este caso si cuidado espera un momentín que no aquí esto no Ok vale Y el css del login el css del login me lo llevo a login css con lo cual ahora login php me creo una etiqueta Style me creo una etiqueta Script Y entonces aquí en Style digo php include eh login.css Y aquí en php p Script Perdón login js y ya está Vale y el componente el archivo raíz del componente llama al resto de elementos del componente vamos a comprobar si funciona correctamente aquí por cierto en el fetch tengo que llamar a Back a c Back componentes Okay Ok momentín A quién no encuentras Ay Espera A quién no encuentras G bloque J Ah Sí perdón perdón bloque bloque sí me los he dejado Así que voy a crear una carpeta img Vale y los bloques efectivamente el bloque me lo voy a guardar en aquí vale Y voy a decirle que bloque bloque ahora lo veo no está aquí ahí vale esto es img bar blo img recargamos y ya no hay vale pérdida y Vale ahora fijaos que el login está ahí vale Mirad el login está aquí tenemos el html del login tenemos el estilo del login Y tenemos el Script del login pero para nosotros va a ser mucho más fácil trabajar que el login está ah ahí aislado en un componente vale de la misma forma tenemos También el botón de guardar vale el botón de guardar que tiene su html y tiene su Script su pequeño Script Y tiene más cosas vale por tanto a ver un momento aquí me voy a componentes me voy a crear una carpeta nueva y voy a poner guardar vale guardar tiene guardar.php tiene guardar css tiene guardar js veis que es lo mismo que hicimos en Old l pero a una escala mucho mayor claro a una escala mucho menor quería decir por supuesto Vale entonces vengo por aquí guardar espera vamos a ver login php lo meto aquí vale ahora guardar lo meto aquí guardar vale Y ahora esto es guardar esto es aunque no lo parezca Pero esto es el Script de guardar esto es el Script de guardar y esto de aquí es el css de guardar esto es guardar css vale con lo cual Pues fijaos que todavía queda trabajo por hacer por supuesto Pero evidentemente la idea es que esto pues vaya teniendo Vale entonces rutas vamos a ver Sí hay una forma que es crear una variable superglobal llamada ruta y entonces a partir de ahí en cada ruta que uses antepones la variable global ruta de tal forma que si el día de mañana simplemente cambias la ruta una vez en la super variable se actualiza automáticamente en todas las rutas O sea que eso no se no solo se puede sino que de hecho en ciertos contextos donde Eh puede ser cambiante el contexto hasta es bastante frecuente o sea Sí desde luego Vale y ahora una vez que hemos demostrado un par de componentes pues vamos a crear una carpeta nueva llamada estilo en estilo guardaremos los estilos generales css por tanto Pues aquí en Style me guardo esto eh aquí en Index Pues ahora en lugar de Style voy a poner link rel es igual a Style sheit href es igual a estilo bar estilo.css vamos a empezar ya sabéis también a quitar cosas a quitar espacios ahora también lo que querré es eh No aquí poner jarsa Siena es documentar un poco Esto vale okay esto ya lo tenemos enable Shadow physics vale Okay luz direccional Esto está claro luz ambiental por supuesto Player rig sí cámara Sí vale Y ahora a continuación me creo una carpeta nueva llamada código vale el nombre es el que queráis obviamente y archivo nuevo código js y entonces cojo todo este código me lo llevo aquí y entonces evidentemente en el archivo index.php digo Script src código barra código js y ya está vale Ya está de momento evidentemente ahora vamos a continuar pero cuando digo ya está lo que quiero decir es que ya pues empiezo a respirar Ey un error ahí arriba no lo he visto pero ha desaparecido vamos a verlo ahí eh login Ah perdón sí componentes comín no es login guardar es guardar Okay Vale pero la aplicación sigue funcionando igual para el usuario final vale sigue funcionando igual para el usuario final pero para nosotros para el desarrollador Pues ahora tiene que ser más ordenado en el sentido de que veo un archivo más limpio y más despejado el estilo lo tengo aparte el código lo tengo aparte y si quiero saber exactamente qué es lo que hace el login pues ya me voy al componente login y miro a ver exactamente qué es lo que hace el componente login vale Y ya os digo Siempre evidentemente se puede eh reforzar un poquito más pero obviamente pues eh Ya es un comienzo y luego por supuesto acordaos de que eh Tenemos también poco a poco Voy a ir empezando a hacerlo ya tenemos poco a poco que ir documentando todos los archivos que creamos porque cuando creamos una estructura la estructura Debería ser lo más entendible posible Vale entonces un momento vale hago así y digo php y digo eh archivo principal que contiene las llamadas a los componentes y eh Y la carga del contenido a frame en formato estático html vale Y voy a abrir un momento el proyecto jocars chocolate Esto está aquí vamos a jocars chocolate vamos a abrirlo voy a hacerlo ejecutable fantástico vale f5 con lo cual quiero seleccionar dhtml de dam de primero de lenguajes de aframe de Siena de componentes Ok me lo guardo a md Siena vale título del documento jarsa Siena subtítulo del documento juego de tipo Minecraft número de revisión 0.1 José Vicente carratalá logo nombre de archivo vale el logo está aquí en ostras ya lo he perdido vamos a ver dam d dam primero lenguajes aame Siena componentes Vale y cena.png iniciamos proceso ahora nos vamos a la carpeta del escritorio de markdown creo que era no es markdown no me acuerdo cuál era qué carpeta era md Ah sí pues era md aquí Siena y tengo una primera documentación de Siena lo subo í arriba y dices Mira pues tienes aquí tu estrura de proyecto documentación de archivos Index php archivo principal que contiene las llamadas a los componentes no sé qué no sé cuántos Vale pues si vamos poniendo doc strings pues tenemos una documentación pero como no tenemos doc strings Pues no hay nada más ya vamos directamente al código de los archivos al código de los archivos al código de los archivos Vale entonces para esto como digo pues ahora voy a gastar un poco de tiempo en documentar documentamos los archivos del proyecto sabes tampoco os penséis no Luis no es que podríais es que debéis o sea es que yo os obligo a ello para eso hemos hecho el proyecto chocolate es para vosotros Yo también igual lo uso para mis cosas vale pero es para vosotros de hecho acordaos que el proyecto chocolate existe Por una parte para que lo uséis para documentar y por otra parte de la misma forma que lo hemos ido creando y lo hemos ido ampliando y modificando pues existe también para que lo cojáis y digáis Oye sí pero yo al chocolate le añadiría no sé qué pues añadís Vale O sea no solo podéis usarlo que sino que también podéis Modificar el proyecto chocolate como parte de las modificaciones de los proyectos de clase O sea que por supuesto Vale entonces ahora en aquí me voy sí Ok como mañana tenemos tutoría a las 5 correcto vale Sí entonces me voy aquí y digo vamos a ver Back si Back Vale pues e archivo principal de El del backend de la aplicación dispone de un router mentira hasta ahora pero ahora luego lo tendrá router para acoger las llamadas desde el Front se encarga de e gestionar el contenido de la base de datos vale Okay código pues archivo principal y general de código eh gestiona las llamadas y el uso de aframe.io en este proyecto luego probablemente haremos funciones y ya derivar funciones y las externalizar vale pero de momento tenemos esto componentes guardar Vale pues guardar le damos un estilo básico al botón de guardar js vale escuchador del botón de guardar que realiza de guardar realiza una petición asincrónica al servidor enviándole los datos del terreno y el usuario guardar php eh archivo que gestiona el componente del botón de guardado vale Y lo mismo tenemos que hacer con el resto de archivos para qué pues para que yo cuando vuelva a ejecutar el hocar chocolate y me vuelva aquí a la página entonces veré que en la segunda parte Hola no no Por si que debería así no no Ah luego no me lo coges Ah vale porque tiene Ah un espacio vale Y esto por qué ha pasado Ah No espérate selecciono carpeta y ahora es el 26 Okay iniciar Ahora sí vale Ahora sí como vemos pues empiezan a aparecer los doc strings dentro del documento md y esto ya pues evidentemente ya da más gloria de ver vale ya es más Guay bien pues vamos a hacer una pequeña pausa 5 10 minutos y ahora continuamos y vamos a para