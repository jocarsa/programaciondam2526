bueno por último voy a aprovechar para hacer un repaso de lo que hemos hecho en el ejercicio sobre todo voy a comentar el archivo tarea 8 que es el archivo que más tengo sin comentar así que vamos a por ello vamos a crear una serie de comentarios originalmente le asignó un identificador a este objeto a continuación le asignó una variable que recibirá la colección de datos que corresponden a los otros objetos le asigno una variable que corresponderá a la colección de datos que corresponde a la comida bien y entonces digo esta función se ejecuta cuando recibo un mensaje identificador es el que le pasa a la función principal recojo esto aquí recojo los datos de los otros objetos y los pongo dentro de la variable y recojo recogen los datos de la comida y los pongo en la variable bien esta es una línea que realmente al final no hace nada recordemos ahora vamos a ver como en un momento dado voy a tener un bucle como arrancó una variable temporizador llamo a la función de inicio que se ejecuta una vez cuando el personaje nace como le aplicó una posición x aleatoria de la misma forma le aplicó una posición y aleatoria le pongo un color rojo aleatorio le pongo un color verde aleatorio le pongo un color azul aleatorio y ahora las propiedades del objeto le pongo un tamaño inicial de 2 que luego ya cambiaremos le doy una dirección inicial aleatoria entre 0 y 360 grados le doy una velocidad inicial aleatoria le proporcionó una energía inicial aleatoria le doy una cantidad inicial de hambre aleatoria y por defecto cuando el personaje arranca por defecto no está muerto cuando el personaje arranca como por defecto no está dormido cuando el personaje arranca por defecto no está hambriento y ahora cuando el personaje arranca como por defecto no está hambriento ahora ejecutó la función de inicio aquí estaría bien que pusiera un espacio la función de inicio de momento lo único que hace es llamar al bucle el bucle que está aquí abajo del todo ahora llegaremos a él entonces esta función busca los bordes y conecta las colisiones entonces sí es cierto que el personaje está fuera de los rangos de la imagen entonces en ese caso el personaje pega la vuelta esta función se encarga de gestionar el movimiento del personaje actualizamos la posición x en base al coseno trigonométrico de la dirección por la velocidad coche no coseno actualizamos la posición y en base a el seno trigonométrico cuando el personaje se está moviendo inevitablemente pierde un poco de energía y cuando el personaje se está moviendo gana un poquito de hambre ahora vamos a ver esta función controla que el personaje vaya cambiando poco a poco de dirección y por tanto le añadimos una pequeña componente aleatoria al ángulo de dirección del personaje esta función se encarga de la búsqueda de comida solo se ejecuta en el caso de que el personaje esté hambriento miramos donde están todos los comederos para cada uno de los comederos sacamos la distancia en horizontal sacamos a continuación la distancia en vertical y mediante esta fórmula calculamos el módulo de la distancia entonces en el caso de que la distancia sea menor que 60 coma es decir coma que esté cerca me dirijo hacia ese comedero esto quiere decir actualizo mi ángulo y en el caso de que la distancia sea poca rebajó mi cantidad de hambre como lo que quiere decir que estoy comiendo la función como al final no la he llamado esta función gestiona que los personajes se eviten entre sí sacamos la distancia en horizontal sacamos la distancia en vertical miro dónde están todos y cada uno del resto de los personajes para cada uno de los personajes miro mi distancia con respecto a ellos y en el caso de que el personaje esté cerca busco el ángulo de escape y lo aplico a mi angulo actualizo mi posición x con respecto a ese nuevo ángulo actualizo mi posición y con respecto a ese nuevo ángulo y temporalmente cambio en mi tamaño simplemente para que se sepa que es colisionado y ahora la función duerme esto es lo que ocurre cuando el personaje duerme su energía se recupera pero cuidado porque su hambre también sube y esto es lo que ocurre cuando el personaje muere por defecto a la variable muerte se pone en verdadero su color se vuelve negro creo que no he puesto aquí la función muerte en ninguna parte si hambre es menor que 0 hombre es igual a 0 sin muerto fall sí creo que no he visto por ninguna parte donde realmente se mueve el personaje cuando no pasa nada esta es la función de bucle que se ejecuta constantemente no es posible tener hambre negativa sin región cuidado esto aquí no es posible tener más de 100 puntos de energía y entonces si el personaje está vivo en ese caso su tamaño está en función de su energía activamos la función de colisión de bordes activamos la función de cambio de dirección activamos la función de búsqueda de comida si el personaje tiene poca energía se queda dormido si el personaje está dormido se ejecuta la función de dormir si la energía del personaje estaba por encima de 80 deja de dormir si el personaje ya no está dormido se puede mover si el hambre del personaje está por encima de 80 quiere decir que está hambriento si el hambre está por debajo de 20 deja de estar hambriento activamos la función de evitarse pasamos a la función principal los datos del personaje limpiamos el temporizador anterior y creamos un temporizador recursivo que se llama a sí mismo para hacer otra vuelta del bucle y con esto por tanto como vemos tenemos ya el código comentado para que en un momento dado pues podamos tener en la documentación de qué es lo que hace cada línea de este archivo