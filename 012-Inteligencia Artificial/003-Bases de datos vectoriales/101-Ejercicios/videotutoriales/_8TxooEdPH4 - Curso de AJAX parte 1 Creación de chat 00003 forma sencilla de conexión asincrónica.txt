ahora a continuación voy a hacer una pequeña función de reloj una pequeña función de bucle entonces fue un bucle y voy a crear un temporizador como una variable global y le digo que el temporizador es igual a ser time out y quiero ejecutar bucle en un segundo lo quiero ejecutar cada segundo porque con más frecuencia pues tampoco tiene ningún sentido aunque podría hacerlo vale pero tampoco tiene ningún sentido vamos a hablar de eso ahora a continuación entonces ahora a continuación como digo voy a hacer un poquito de espacio aquí bien lo que voy a hacer es decirle que quiero cargar en el contenedor el archivo ajax quiero player time out temporizador y lo que quiere continuación es decirle que temporizador otra vez el pse está en mal bucle es decir quiero hacer una función que se llame a sí misma cada segundo esto técnicamente ya no hace falta esto lo puedo borrar así que a continuación como podemos ver lo que hemos hecho antes un poco preparatorio para esto que estamos haciendo ahora a continuación si todo va bien lo que va a hacer es que la función ready va a lanzar el temporizador y el temporizador se va a lanzar a sí mismo digamos cada minuto así que guardo recargo y si todo va bien ahora vamos a ver que cada segundo el sistema lo que está haciendo es llamar al servidor y recuperar la información bueno una de las cosas que debemos tener en cuenta al ejecutar esto cada segundo es que o al ejecutar esto con cierta periodicidad es que al final hay un consumo de ancho de banda es decir hay al final y un consumo de tráfico de red con esto que es lo que quiero decir bueno yo para empezar cada segundo estoy haciendo una petición al servidor con lo cual hay que tener en cuenta que cada segundo el servidor va a tener que procesar mediante php una petición y esto evidentemente va a suponer una a cierta carga en el servidor eso para empezar pero además eso ahora luego nos preocuparemos desde el punto de vista del servidor que también nos va a preocupar pero desde el punto de vista del cliente lo más importante es que desde el punto de vista del cliente esto va a generar un consumo de red un tráfico de red vamos a ir a network por ejemplo vamos a grabar bueno y en este caso estamos viendo que cada equis milisegundos vemos que estamos transfiriendo algo de información vale cada 1000 milisegundos estamos transfiriendo un pequeño paquete de información entonces voy a recargar un momento y vemos 22 25 29 es decir estamos viendo que cada segundo estamos transfiriendo prácticamente 400 bytes entonces no hay ningún problema por esto veamos cómo pues ahora mismo otras 15 segundos de ejecución hemos transferido 8 kilobytes a perdón kilobytes andrés sí correcto estamos haciendo 400 bytes vale entonces la cuestión es la siguiente si ahora vengo por aquí lo que voy a ver es que si por ejemplo yo ahora hago que el tiempo de ejecución del bucle sea 100 milisegundos en lugar de 1000 milisegundos vemos por una parte que en lugar de hacer una petición al servidor voy a hacer 10 peticiones por segundo al servidor y esto evidentemente lo primero que va a hacer es el servidor va a tener que aguantar diez veces más carga que en el ejercicio anterior y eso ya de entrada hay que tenerlo en cuenta vemos que un minuto tenemos aquí y son veintiséis castell momentos estamos bien pero además si yo ahora ejecuto esto a 100 milisegundos recargo por aquí y ahora vemos y ahora observamos como ahora se están realizando 10 peticiones cada segundo y vemos por tanto que lo que estamos consumiendo de ancho de banda pues evidentemente se multiplica por 10 la pregunta en este caso es la siguiente si yo estoy devolviendo en este caso una hora minuto segundo que tarda un segundo en actualizarse es decir no estoy pidiendo milisegundos podría hacerlo pero no estoy pidiendo milisegundos ahora mismo estoy perdiendo el tiempo dejamos que 35 segundos son 30 y un cash con lo cual al final van a ser 20 30 casas eso quiere decir que estoy duplicando el ancho de banda estoy en definitiva saturándolo todo estoy saturando la red y estoy también saturando innecesariamente el servidor y cuando digo innecesariamente lo que quiero decir es que de cada segundo le voy a enviar 10 peticiones al servidor de las cuales sé que la respuesta es exactamente la misma entonces para qué lo hago vale la idea es para que hacerlo si realmente no vale la pena vale para que hacerlo si realmente no tiene ningún sentido no tiene ninguna utilidad muy bien vamos a continuar hablando de esto y ahora lo que voy a hacer es pasarlo a 10 milisegundos así que guardo recargo bien y ahora vemos como en tres segundos de consumido ochenta y pico casas en cinco segundos ciento y pico cas sabemos como en definitiva como estamos viendo en 10 segundos tengo dos y pico casas luego eso quiere decir que prácticamente pues en un minuto haber consumido pues es una barbaridad de información y sobre todo tengamos en cuenta que pues eso en un momento dado como te diría yo esta página web puede quedarse abierta no un minuto puede estar horas abierta entonces imaginémonos el consumo de información que le estaríamos generando al cliente y la carga que estamos generando en el procesador de hecho no sé incluso si saco el monitor de actividad pues fijémonos que ahora mismo tengo el procesador prácticamente arriba del todo y pues bueno por aquí para che ahora lo veremos por apache estará pues entiendo que machacando bastante el procesador vale entonces ahí la idea como digo el saber que cuando hacemos una petición a jacques podemos como en este caso vamos a recargar de nuevo ponemos como en este caso trucar podemos pinchar podemos lanzar tantas peticiones como por segundo como queramos pero que podamos no quiere decir que lo tengamos que hacer es decir que podamos no quiere decir que debamos hacerlo sino que también debemos tener en cuenta otros factores tales como por ejemplo pues como comentaba estamos hablando de vamos a continuar