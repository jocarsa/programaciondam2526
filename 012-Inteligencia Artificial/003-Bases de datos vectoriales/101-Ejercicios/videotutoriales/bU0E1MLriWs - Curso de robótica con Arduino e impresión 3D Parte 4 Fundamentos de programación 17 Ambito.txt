en este caso voy a hablar de un concepto que es el ámbito de las variables el ámbito en general en programación para ello por tanto voy a empezar con un nuevo sketch y dentro de este nuevo sketch voy a en primer lugar pues bueno abrir uno de los anteriores simplemente para copiar la plantilla la voy a pegar dentro de este archivo y voy a guardar este archivo como 10 y ámbito de variables bien hasta ahora por tanto dicho digamos he aconsejado prácticamente siempre que trabajemos con esta estructura que estamos viendo aquí es una estructura en la que por una parte tengo un par de funciones a las que me obliga de arduino como es la función setup y la función loop pero en este caso tengo algo a lo que no me obliga arduino y que sin embargo hasta ahora he recomendado yo que es la declaración de las variables fuera de la función de setup y fuera de la función de loop en este vídeo lo que voy a hacer es hablar del ámbito de las variables cuando donde existe una variable y por tanto verás que te voy a seguir recomendando lo mismo que es básicamente que sigas trabajando con la declaración de las variables en esta zona del programa pero el objetivo de este vídeo es que por lo menos entiendas porque bien la cuestión está en que una variable existe dentro del ámbito donde se declara esa variable esto quiere decir lo siguiente voy a activar vamos a ver sería el punto pekín de hecho voy a hacer lo siguiente bueno sería el punto bien y sería a 9.600 baudios vamos a hacerlo así vamos a ver cómo lo hemos hecho en saber del cual él por ejemplo bien a 9.600 y sería el punto prime la voy a dejar esto por aquí y voy a decir sería el punto print line y voy a poner contador porque fijémonos que en este caso el contador está declarado fuera de la función el deco de contador está declarado al nivel del programa está declarado lo que se llama como variable global y una variable global quiere decir que es una variable que existe en todas las funciones ahora voy a poner contador más y después de poner contador más lo que voy a hacer es poner otra vez sería el punto print y sería el punto print line contador bien en este caso por tanto ya tenemos nuestro contador funcionando en la pantalla pero me acabo de dar cuenta de que no tengo la placa arduino conectada así que las voy a conectar y darme un segundo con éxito y vamos allá bien por tanto voy a conectar como te decía a la placa vamos a ver un puerto usb libre y conecto al usb bien aquí la tenemos se ha detectado una nueva interfaz de red y lo que voy a hacer ahora es cargar el script así que en este caso vamos a verlo cargando el sketch ahí lo tenemos abrimos y comprobamos que tenemos por aquí nuestro contador comprobamos como tenemos por aquí en funcionamiento perfectamente el contador del programa por tanto yo lo que he hecho en este caso ha sido declarar la variable contador fuera de cualquier función para que se convierta en lo que se llama una variable global y una variable global básicamente quiere decir una variable que está compartida a todas las funciones pero lo que voy a hacer ahora es que voy a cortar esta variable y voy a pegarla dentro de setup vamos a validar el sketch antes de trabajarlo y vemos en este caso que dice en la función loop vemos que tenemos un error sólo por haber movido ese contador dentro de la función setup y dice que tengo ahora un error dentro de la función loop yo me pregunto cómo puede tener algún error dentro la función loop si no ha tocado la función loop y dice contador y traduzcamos del inglés el ues no declare índice scope no ha sido declarado en este ámbito siendo el scoop el ámbito así que el ámbito en este caso quiere decir lo siguiente si yo declaro una variable a nivel de programa a nivel de que no esté dentro de ninguna función eso quiere decir que esa función está adentro también es compartida con la función setup y es compartida con la función loop pero si yo declaro una variable dentro de una función esa variable sólo existe dentro de esa función eso quiere decir que si yo escribo este contador dentro de setup no hay ningún problema en que dentro de setup yo usé este contador pero en cuanto salga de setup y por ejemplo entre el loop dentro del loop no existe ahora ese contador porque el contador únicamente existe dentro del ámbito de la función en el que se ha declarado en la que se ha declarado que es etapa vemos cómo puedo quitar esta es la llamada puedo validar el sketch y vamos a ver que en este caso dice contador más bien también le voy a quitar así que válido el sketch y vemos como ahora no da ningún problema el problema como vemos es llamar es intentar invocar a una variable desde la función loop que ha sido ya que declarada desde la función setup no hay nada malo realmente en declarar variables dentro de las funciones simplemente debemos tener en cuenta que sólo podremos usar esas variables dentro de esas funciones yo por ejemplo ahora voy a declarar una variable intermediaria esa vez que siempre que pongo algo en castellano es que se podría poner cualquier cosa por ejemplo longaniza vale pero si ves que pongo en inglés es que tiene que estar escrito así que digo intermediaria es igual a cero por ejemplo y yo ahora digo pues por ejemplo pues eso se intermediaria es igual al contador así que ahora digo intermediaria más y sería el punto print la intermediaria si ahora guardo vamos a comprobar como yo aquí estoy realizando una asignación lo contador le puedo decir que vale 1000 imagínate pero la cuestión está en que estoy usando una variable intermediaria para sacar este valor para extraer el valor de esa función y permitir que esa variable también exista también viva dentro de la función loop podemos comprobar ahora cómo este script no debe dar error y podemos comprobar ahora como si lo cargamos dentro de la placa pues tampoco debe dar ningún error así que sacamos el monitor vemos que la cuenta ha empezado en 1000 pero a partir de ahí sigue funcionando perfectamente por tanto es por esto que yo de normal cuando empiezo en cualquier curso de programación digo mira para que no te líes con las variables con las todas aquí fuera declaradas todas aquí al principio y así digamos que esas variables juegan esas variables existen dentro de todas las funciones pero claro quizás si eres un poco más purista de la programación dirás a ver esto no tiene por qué siempre hacerse así esto a veces incluso te puedo decir que un nivel algo más avanzado puede tener incluso inconvenientes ya que me puede interesar que la visibilidad de una variable sea únicamente desde dentro de la función que la ha declarado sin embargo siendo conscientes de todo esto a una silla hay que decir que muchas veces lo que más nos interesa es que el valor de las variables esté compartido entre todas las funciones y si en algún momento alguna vez desarrolles algún programa con un nivel de complejidad suficientemente grande como para que digas ostras me gustaría que esta variable no estuviera compartida de todas las funciones y sólo existirá dentro de una función bueno pues en este caso ya sabes que lo único que tendrías que hacer es declarar la dentro de la función donde la vas a necesitar