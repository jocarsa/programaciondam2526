ahora vale Y ahora es cuando vamos a hacer la parte de html y me voy al editor de datos dónde está No tengo el editor voy a crear un nuevo archivo lo voy a guardar en eh proyecto en servidor web servidor y cliente web Index pun html voy a hacer lo más sencillo posible doct type html y eh vamos a ver Head voy a hacer lo más vale sencillo y básico que pueda y entonces dentro del Body voy a hacer un nav vale un nav y un Main en el nav estará el menú de navegación o sea las tablas y en el Main estará el contenido vale para ello me voy a hacer un Script y en el Script como os decía hace un momento voy a hacer fetch me voy a internet me voy a una URL y pido algo qué pido dame tablas Entonces esto es importar vale importar la ruta en el archivo html ahora punto den function response y return response.js Qué quiere decir esta línea quiere decir lo que venga va a venir como J son no va a venir ni como texto ni como xml ni nada más va a venir como js punto den function datos y ahora voy a decir cuidado voy a decir eh vamos a ver tan led elemento menú es igual a document pun create Element p por ejemplo un p punto No datos pun for each para cada uno de los datos que vengan fun dato y le digo p Tex content es igual a dato punto qu dato punto Table sin programación Ok y así Y dónde estás led navegación es igual a document query selector nav y ahora sí navegación appen Child elemento menú si yo hago esto y ahora recargo me voy a local Host me voy a dam me voy a Primero me voy a Primero me voy a programación me voy a proyecto me voy a web vale Y no funciona error Ah sí vaya el corse Vale pues venga Ok el cors with cor le pongo cor y importo cors y course app y ya está Vale ejecuto Esto me voy aquí vale p no define Ok venga ya estamos casi es elemento menú Vale y aparecen categorías clientes y productos Entonces ahora que tengo categorías clientes productos que es lo mismo que tenía en la aplicación de interfaz de usuario con tkinter pero ahora en lugar de ser un tk inter pues es una web Ahora quiero eh 002 eh click en el menú vale Y entonces voy a llamar a esto okay Ahora digo elemento menú punto onclick es igual a function console.log dis vamos a cargar + dis text content entonces lo que va a ocurrir eh proyecto servidor web lo que va a ocurrir es que si yo hago click error unexpected token dis vamos a ver un momentín Ah function dis Perdón vale categorías vamos a cargar categorías clientes vamos a cargar clientes vale si esto tuviera un servidor de trabajo Se utilizaría flask a ver se puede utilizar flask o podemos utilizar cualquier otro tipo de servidor pero el problema Fran no es si se utilizaría la librería flask o no vale Yo por ejemplo pues vengo por aquí se puede utilizar la librería wsgi vale digo flask on Production server Vale y vale Okay esto el wsgi vale Sí Exacto pero una librería efectivamente bien y ahora a partir de aquí Okay vale Y por ejemplo a sería esas instrucciones y ya está el problema no es eso el problema Exacto es una librería Sí o sí para manejar estas rutas El problema es que tú como mucha gente estás acostumbrado y eso no es malo a Apache vale a utilizar apache en un servidor compartido donde tú simplemente sabes que sueltas una cosa en una carpeta llamada htdoc o en una carpeta llamada ww y las cosas funcionan y ya está vale porque Apache es así es decir Apache es un servidor que tiene pros y tiene contras las contras es que es un servidor muy pesado pero los pros es que hay una carpeta de publicación y lo que sueltes en esa carpeta automáticamente queda activado en python con flask o en nojs ese da igual es lo mismo tú montas un servidor y solo ocurre lo que tú digas en las rutas Vale entonces Es otro rollo pero ojo Es que lo utilizamos en nuestro PC para simular un servidor Sí pero no solo para simular un servidor Porque fíjate que en nuestro servidor ya tenemos o sea en nuestro ordenador ya tenemos un shamp con lo cual ya técnicamente estamos simulando un servidor pero es un servidor Apache vale por tanto si en un momento dado necesitas hacer una ación en o sea en que en el servidor tenga python en lugar de php pues entonces sí tienes que instalar o flask o cualquier otra librería como un servidor con wsgi ahora os recuerdo vale una vez dicho esto os recuerdo que ahora en el segundo trimestre veremos php con lo cual también veremos cómo trabajar con php pero el resultado va a ser muy parecido ahora De todas formas yo entiendo que insisto aquellos que estáis acostumbrados a trabajar con Apache esto de flask os rompa un poco la cabeza porque es como decir pero para qué quiero montar un servidor si ya tengo un servidor y se llama Apache y se llama shamp y ya está montado y yo lo que hago con mi ordenador lo subo al servidor y funciona Vale pues sí eso con Apache es así pero con flask y con no dejs no vale es otro rollo y ya lo iremos viendo y ya lo iremos demostrando vale bien entonces vamos a ver y por aquí vale Y vamos a cargar esto y ahora a ver si ya acabo esta parte y nos vamos a comentar porque se nos monta con la siguiente clase vamos a verlo aparte ahora es bases de datos o marcas ahora tocará marcas vale Ok venga bien entonces ya para acabar digo console pun log y digo fch ahora esto es 003 cargo los datos los voy a cargar a Palo Seco fch leer tabla más dis text content o sea una tabla dinámica punto aquí punto retorno j son datos dos vale Y eh voy a intentar hacerlo lo bestia eh document get o query selector Main punto text content y datos dos o sea a la Ob bestia completamente a la Ob bestia voy a el jas y lo voy a vomitar directamente en html a ver qué pasa vamos V a ver lo que pasa Generalmente no es bueno pero bueno teniendo en cuenta que javascript es muy sufrido pincho vale eh text content is not a function espérate No cómo que no Ah perdón es igual no es una función sino que es una propiedad vale venga click object object vale bien no ha funcionado No pasa nada vamos a meterlo Entonces vamos a ver son objetos muy bien Mira voy a solucionarlo rápidamente eh object put objects to Main in html voy a hacer algo parecido a la versión anterior en interfaz de usuario se es de voy tripar el array y voy a hacer que el programa lo ponga propiedad a propiedad vamos a ver sí okay esto es vale esto es lo que quiero Vale y okay Y aquí vale lo pongo para No aquí y no esto Oh Let Main es esto ahora sí hasta aquí vale pongo todo esto recargo categorías vale identificador clientes productos lo que sea vale No me quiero enrollar en esa parte porque básicamente lo que quiero es demostrar y de eso va la clase de hoy de que he creado una clase de acceso a los datos Y esa misma clase la he reutilizado en tres programas diferentes vale en consola en interfaz de usuario y en web por lo tanto en estos días a continuación obviamente esto os lo voy a pasar lo tenéis siempre tenéis todo mi código para que lo utilicéis en vuestros proyectos finales en el sentido de que si os dais cuenta esto es prácticamente el panel de control del proyecto final aquí cambá vuestras cosas y ya tenéis un controlador donde se adapta automáticamente a la aplicación que tengáis a las tablas que tengáis a los campos que tengáis y se aplica a todo vale Y se adapta a todo bien voy a comentar el código para que no acabe la clase sin comentar el código así que por aquí bien eh servidor f2 y comentarios vale en comentarios voy a comentar la versión final de cada parte vale comandos e interfaz el Main no lo necesito y el web 1 Sí porque es el servidor vale vamos a ver y esto es el cliente entonces pido las tablas al servidor formateo la respuesta como Jason sí sí en Jason con que me sirvas en el en o sea con que me sigas no me sirvas sino con que me sigas en python me es suficiente yo hay que reconocer que lo que he hecho hoy aquí en javascript es ha sido un poco Mira de hecho estos comentarios son correctos vale ha sido un poco la leche pero con que me sigas con la parte de python y sobre todo con que te quedes con la idea de la clase de hoy de la reutilización de ese componente es de lo que realmente va clase no tanto de javascript entonces Eh vale cuándo recibo los datos selecciono la navegación y para cada uno de los datos recibidos creo un elemento p lo que en eh Mira sabes qué podría crear un buton Y si creo un buton Pues igual lo veréis mejor vale porque si creo un buton si creo un buton de esa forma entenderéis o la subo para arriba de esa forma entenderéis No esto no que los dónde estás aquí que los mismos botones que en python tea inter eran botones pues html también son botones vale para que veáis que es lo mismo para que veáis que el código al final hace lo mismo Entonces vamos a ver eh le pongo texto al botón y cuando haga clic sobre el botón lo que en python Tec inter ha sido el command Vale cuando haga clic en el botón el console.log ya no lo quiero porque ha sido para debug Y entonces cargo la tabla dinámica formateo como J son Y entonces cuando recibo los datos selecciono Main vale todo este bloque que veis aquí todo este bloque es formatear los datos en plan bonito O sea que no perdéis la cabeza por ese bloque porque es complejo y realmente no es de lo que va la clase de hoy vale Y ahora en el Main pongo la tabla y ya está Vale y en la navegación pongo los elementos del menú Esto es lo que hace el cliente Vale qué es lo que hace el servidor Bueno pues el servidor lo que hace es que importo la base de datos importo flask como servidor web importo cor para no tener problemas de permisos Ah vale creo un nuevo servidor le aplico corse atrapo la ruta de las tablas defino lo que ocurre Y entonces digo vamos a ver try vale Okay llamo a el método de la base de datos y devuelvo el Jason en formato Jason no debe haber problema porque ya de por sí es un formato Jason Pero vale por si acaso bien ahora creo atrapo la ruta de recuperar la tabla no lo que ocurre Y entonces llamo al método de la base de datos y devuelvo el Jason en formato json y yo si os dais cuenta en este archivo de flask únicamente me preocupo de flask y en conexión uno Dame tablas ya ahí dentro me estoy preocupando de la base de datos lo cual veis como poco a poco vamos separando y poco a poco Vamos haciendo que nuestro código sea más entendible y luego en cuanto a interfaz de usuario Pues bueno vamos a ver Esto es aquí vale Y entonces vamos a ver importo la base de datos importo Porto la librería de interfaces creo una nueva instancia defino qué es lo que pasa qué ocurre cuando pulso un botón entonces vale esto es el formato aquí esto es formato al texto o sea que por esto no os liis vale formato al texto y esto es inserta texto formateado Y borra lo que había antes Entonces si esto es la función creo una ventana de tc inter pido un listado de tablas y entonces digo para cada una de las tablas creo un nuevo botón creo un nuevo botón añado un nuevo elemento de texto masivo o sea de texto de párrafo lo empaqueto y pongo el programa en funcionamiento vale Y el archivo de consola pues TR cuart de lo mismo eso no hace falta que lo comente porque ese lo hemos comentado 1 veces ya vale que es este de aquí que es que tiene un print While true te enseño el menú inicial has seleccionado la opción vamos a trabajar y el clásico If el If donde ya hace eh lo mismo con cada opción entonces eh la clase de hoy y ahora haremos un pequeño descanso hasta la clase de marcas la clase de hoy intenta ilustrar el concepto de que en un momento dado o en muchos momentos dados dentro de vuestro vuestra carrera como programadores os vais a dar cuenta de que tenéis que sacar un mismo programa no en consola vale porque en consola es difícil ya que saquéis un programa A menos que sea un programa muy especializado una aplicación de servidor o algo similar pero Vais a tener que sacar un programa en web y en interfaz de usuario entonces claro qué ocurre Pues que diréis tengo que sacar el programa en dos plataformas diferentes lo tengo que programar doble bueno algo tendréis que programar doble la interfaz de usuario obviamente la Vais a tener que programar doble pero ot las cosas que no son la interfaz de usuario si queréis podéis eh intentar planificar cómo abstraer esos componentes para que el mismo componente te sirva para varias cosas diferentes vale con móviles ocurrirá igual y es que ostras tengo que sacar la aplicación para Android y para iPhone tengo que programar doble pues depende si consigues extraer habrá algunos componentes que no tengas que programar doble o tengo que sacar una aplicación para web y para móvil Bueno pues te digo lo mismo vale si consigues extraer algunos componentes pues no hará falta que dupliquen sino que Perdona no hará falta que dupliquer reutilizar el componente vale por lo tanto en clases anteriores pues os he hablado de del concepto de reutilización desde un punto de vista teórico vale desde un punto de vista de esto es deseable hemos hablado de refactorización hemos hecho alguna demostración sencilla y pequeña vale el objetivo de la clase de hoy era demostraros que la reutilización y la refactorización son conceptos muy reales que no son Realmente complicados de implementar que son convenientes y que desde luego O sea a ya plazo a corto plazo os pueden dar ventajas digamos para parece que al principio y ahora a continuación continuamos con marcas y luego de marcas saltamos a bases de datos vale Así que nada y continuamos con simulacros de examen para ahora los exámenes de noviembre Así que nada paro un momento de grabar por aquí eh dejo de compartir pantalla un momento