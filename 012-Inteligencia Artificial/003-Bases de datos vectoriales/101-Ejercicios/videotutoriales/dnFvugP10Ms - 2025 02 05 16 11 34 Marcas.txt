Sí vamos a ver con respecto a la pregunta que haces claro Sí o sea mi respuesta es Sí y ahora efectivamente vamos a verlo comparando con python porque el caso es muy similar Es realmente similar con python podemos hacer un servidor flask o bien podemos hacer que python realice tareas determinadas que tienen que ver con flask y que un Script de php porque por el motivo que sea nos convenga más trabajar con php Pues un Script de php ejecute python recupere el resultado de python y lo suba o por ejemplo en el caso de tomato Pues el archivo python genera gráficas sin tener que abrir consola Más bien es php el que está abriendo de forma automatizada la consola vale con ode pasa lo mismo es decir en una gran medida estamos trabajando con node para servir contenido web para crear un servidor web pero no hay por qué hacer eso en el sentido de que en un momento dado Mira vamos a hacer esta demostración yo puedo utilizar node en combinación con otras tecnologías Como php así que voy a hacer 015 eh No de Hardware vale para hacer como una especie de tomato Así que a continuación yo voy a decir en nojs get Hardware information esto es eh cpu load Ram load dis use ag percentage esto podría ser lo mismo realmente vale que es load percentage Ram load percentage Vale y eh No lo sé eh Network usage eh upload and Download y bueno y luego lo de El sensors Monitor pues ya vimos que en un vps Pues será difícil porque al ser una máquina virtual pues no nos dan ese tipo de información desgraciadamente así que resulta que en node al igual que ocurre en python no de es muy comparable a python vale el sentido de que lo que ocurre en python pues ocurre de forma similar en node hay una librería os de hecho literalmente igual que en node y luego también hay librerías como System information entonces voy a decir aquí paro CD cd05 vale No de Hardware instalo System information vale bien y ahora vamos a ver por ejemplo cojo este Script copiar lo ejecuto y estadísticas js Vale y vamos a ver y nos dice que carga es igual a System information current load y lo mismo para vale Lo mismo para el esto de elementos Así que yo ahora a continuación hago un Clear le digo no de 001 y me da por ejemplo pues el porcentaje de carga de la cpu de la ram del disco Vale y del Network no lo está reconociendo correctamente Bueno es un poco lo de menos voy a ver si podemos un poco complimentar este Script vamos a ver vale vamos a asegurarnos que coja la información y ahora por ejemplo pues yo podría esto y podría hacer lo que me diera la gana es decir podría guardarlo en base de datos podría generar un archivo txt puedo generar gráficas puedo hacer lo que tú quieras vale Así que vengo por aquí voy a ejecutarlo a ver ahora vale bueno dice cero no creo que sea cero pero vamos da igual bien lo que voy a hacer a continuación es que por ejemplo para que sea como te diría yo para que sea comparable a tomato Vale pues voy a generar gráficas Así que generate Now generate y no de js charts p charts of each One of those pieces of Data Y entonces me dirá vale de usar vamos a ver aquí por una parte chars js que es una librería preconstruido matplot le para hacer gráficas en el lado del cliente pero luego Canvas para hacer para guardar esas librerías en el lado del servidor así que npm install Chart js y Canvas y fs no debería hacer falta instalarlo pero bueno voy a decir npm install fs aunque file System Qué cosas vale en principio es de sistema Así que vengo por aquí y le digo 002 guardar gráficas Vale y ejecuto Perdón node 002 vamos a ver sí invalid vale Ok pues voy a decir que Network upload no lo voy a utilizar vale Ok Qué dice Ah s espera Ah es que igual no había acabado vale igual he corrido yo demasiado Okay genera gráficas vale ch is nota constructor esto ya es otra cosa okay eso ya es un error vale con lo cual lo que vamos a hacer ahora lo que va a ocurrir ahora es que vamos a Eh Pues arrancarlo en un php donde php se encargará de eh Llamar ejecutar de forma puntual o periódica me da igual al elemento de del generador de gráficas y luego las cargará en una pantalla vale vamos a verlo ahora a ver si ha actualizado el código a la última versión Vale y Okay bien entonces ahora a continuación vemos que dentro de esa carpeta dentro de no de Hardware me ha creado pues cpu load y me ha creado diskusage y me ha creado Ram usage Vale y Network está un poco a cero Pero bueno ya está No pasa nada vale con lo cual ahora continuación voy a hacer lo siguiente voy a borrar las gráficas y ahora voy a decir ahora voy a decir Now a php Script with corporate info jarsa New tomato Vale y a continuación voy a decir exec no js via exec and renders generated charts On A grid make an awesome si es vale Y de esta forma Pues igual no tenéis Por qué ver no dejs como algo tan traumático vale de abandona php y bet no de js sino que es una herramienta que se puede utilizar en combinación con lo que ya sabéis para utilizar php para lo que os convenga y para utilizar no Djs para lo que os convenga con lo cual ahora a continuación me voy a crear un archivo llamado index.php el archivo index.php lo que hace es ejecutar node llama al archivo guardar gráficas vale Ok las gráficas son estas de aquí y ahora las presenta en un grid y ya está Vale y con un for each lo que hace es recorrer el array vamos a probarlo Nos vamos aquí nos vamos a localhost bar nodejs 2025 Hola es local Host me voy a no de Hardware error guardar not Found por si cre debería haber encontrado Ah cuidado cuidado porque el Script Ah guardar gráficas Aquí vamos a verlo y Ok guardar gráficas js is not Def por quées porque igual tengo que darle la ruta completa voy a poner dos puntos barra no no no ruta completa vale la ruta completa es bar W html node js 2025 eh 015 No de Hardware y 002 vale vamos a por ello permission den vale Sí no pasa nada entonces bajamos ch mod 777 - r no de js vale recargamos sintax error Oh Wow sx error unexpected qué Dónde A ver ah claro y el exec es node js o node vale not Found Ah vaya no de js not Found No porque El Comando es este vale not Found punto barra Bueno pues ahora sí que no lo veo vale Okay vamos a verlo ajá No lo sé las comillas deberían Ah muy bien las comillas aquí a ver ya no sé dónde estoy me he ido sí me he ido o no sí me he ido vale local Host no de js no de hardware no de not Found vale bueno seguimos no de js será verdad pues nada a ver vale wow A ver funcionar Ah bueno vale Ahí lo que está haciendo php es que me lo está separando en dos partes El Comando y el Script vale está bien guardar gráficas no eso no es correcto vale vamos a verlo copiar pegar el archivo es espérate esto lleva un espacio Qué horror no O sea renombrar quito esto y ahora esto es 002 guardar gráficas vale evita espacios o nombres de archivos y tanto que sí bien eh y ya está Vale vamos a probarlo recargamos ahora esto ya es otra cosa Vale y ya tenemos a parte del que el Network se queda un poco frito vale Pero tenemos algo como tomato en el aplicado a nojs vale en el sentido de que estamos trabajando todo el rato con nojs creando un servidor web pero no tiene por qué no dejs al igual que python es un lenguaje de programación un entorno de ejecución que puede hacer otras muchas cosas generar gráficas trabajar con el sistema de archivos eh hacer operaciones automatizadas Conectar a base de datos lo que queramos vale Así que En definitiva pues es un buen ejemplo para desarrollar vale bien a continuación como os Digo vamos a ver algo extensamente complejo Que es trabajar con un sistema de sockets Entonces hasta el momento Nosotros hemos estado trabajando así sincrónicamente con fetch y el trabajo asincrónico con fetch pues tiene sus cosas vale Y es que cada petición que hago es una petición que se abre pide recoge datos y se cierra para hacer una sola petición cada x segundos pues fch está bien el problema es que cuando queremos establecer una conexión y una vez que establecemos una conexión queremos que conexión se quede abierta Porque queremos empezar a compartir mucha información en ese momento fetch se nos puede quedar pequeño y sin embargo lo que ocurre a continuación es que Eh sockets puede ser una buena solución es decir os lo voy a presentar de una forma que lo Vais a entender enseguida imaginaos que nos llamamos por teléfono y nos contamos algo vale por ejemplo algo de clase o algo del ciclo Y entonces imaginaos que vosotros vale me llamáis me hacéis una pregunta y yo os doy una respuesta y cuelgo el teléfono y os digo quieres hacer otra pregunta Vuélveme a llamar y entonces vosotros decís bueno Vale pues te vuelvo a llamar vale Y me llamáis yo descuelgo el teléfono me hacéis una pregunta os doy una respuesta y os cuelgo el teléfono claro para una o dos preguntas Pues bueno tampoco está muy mal pero cuando hay una conversación cuando hay una batería de preguntas y respuestas Pues claro eso de colgar y tener que volver a llamar pues puede ser un poco incómodo por no decir que puede ser un poco caro además lo que hemos estado haciendo hasta el momento con fetch ha sido eso cada vez que llamamos descolgando alguien pregunta alguien responde y se cuelga la llamada a veces es mucho más práctico decir no yo te llamo descolgando los dos abrimos la comunicación el canal de comunicación se queda abierto y entonces mientras que está abierto vamos compartiendo información Yo te envío tú me das yo te pregunto Tú respondes y Tantas veces como queramos sin tener que colgar y volver a llamar vale Esos son los sockets y luego cuando queramos pues cerramos los sockets cerramos la llamada y ya está Y si hace falta volvemos a llamar vale Pero la idea Está en abrir una comunicación y que la comunicación se quede abierta vale que la comunicación se mantenga abierta para ello para esto lo que vamos a hacer a continuación es lo siguiente vamos a realizar un ejemplo con sockets.io este ejemplo ahora veréis lo voy a empezar desarrollando en local pero ahora a continuación lo tendré que subir al servidor para que realmente sirva para algo vale porque voy a hacer un pequeño servidor de chat Así que 016 voy a empezar con un chat 016 sockets.io vale Y voy a hacer el ejemplo más sencillo que pueda hacer eh chat with socket.io server and client eh simplest example possible vale que ya sabéis que un servidor un cliente te envío te recibo un rollo vale con lo cual vamos a ver tenemos Express tenemos necesitamos socket.io así que me voy abajo no me voy a node lsl me voy a 016 sockets ls me voy a npm install socket.io vale bien y hago lo siguiente vamos a ver okay okay Vale esto lo que hace vamos a aquí crear un sí tanto sí sí O sea en este caso servidor js se está utilizando Express por comodidad por supuesto se puede hacer un servidor donde los endpoints están utilizando http y no uso en Express O sea que es un tema de comodidad el código sería un poquito más farrag sete pero no hay ningún problema vale Y entonces a continuación ahora a continuación lo que hago es que abro con socket.io socket.io está creando un servidor y se queda escuchando en el puerto 3000 ahora a continuación vamos a ver ahora a continuación en el cliente en javascript Y esta es atención cliente html voy a decir no cómo se llama es Index html vale en este caso Au no no io no bueno va sabes qué vamos a hacerlo cono Es que quería usar websockets en el cliente pero va vamos a usar socket también en el cliente vale en javascript en el cliente tenemos un socket.io vale función de enviar mensaje y función de recibir mensaje es decir cuando hago clic en el botón ejecuto la función Send message y esta Esto es lo más importante cuando el socket Recibe un mensaje lo pone directamente en la pantalla Voy a verlo lo ejecuto en local y ahora lo subo al servidor así que ahora a continuación me vengo por aquí eh Clear no de servidor No qué ha pasado Ah Sí perdón npm install Express vale No del servidor local Host 3000 simple chat digo Hola envío y dice hola vale pero yo ahora a continuación me voy a abrir otro socket y digo qué tal le doy a Send y aquí pone qué tal Y ahora digo desde aquí Uy Hola le digo s y dice Uy Hola y lo que ocurre en este caso como veis es que en el código A diferencia de del fetch no hay una función de bucle que diga eh Oye pues me te pregunto cada segundo y me dices si hay mensajes y a partir de ahí tal no vale Exacto nos quitamos el set Time out pero es que el set Time out es lo que os decía de la llamada telefónica el set Time out es cada segundo te voy a llamar por teléfono y te voy a preguntar si hay mensajes nuevos tú me lo vas a decir yo voy a colgar la llamada porque qué Porque dentro de un segundo te volveré a llamar con lo cual si te fijas cuando hay muchas peticiones por segundo es una locura lo de llamar y colgar cada vez con socket.io lo que ocurre Es que yo aquí estoy abriendo un canal de comunicación y el canal se queda abierto y yo simplemente como el canal está abierto le digo cuando haya un mensaje en ese caso pónmelo en la pantalla y si no hay ningún mensaj pues no me lo pongas en la pantalla vale pero así que ahora a continuación voy a publicar esto en el servidor y vamos a ponerlo en un entorno de No ya de producción vale sino que lo importante en este caso es que pues lo podáis probar vosotros vale Y veáis que con una cantidad de código mínima utilizando sockets.io pues vamos a poder hacer un montón de cosas super gu bien lo que voy a hacer por lo tanto es que me voy a ir en primer lugar abrir el servidor Sí vale me voy a ir a bar W jarsa old lsa old days ostras eh aquí me voy a Go está por orden voy a Go vale Y voy a hacer como ya tenía chat node Ah no tengo chat node y dónde está chat Noe Ah estará por aquí está en Pues no sé dónde el otro día yo puse un chat no en alguna parte da igual pues lo pongo ahora Ah mira que no está ordenado chat Noe Vale pues Ahora voy a crear una carpeta llamada chat sockets Así que hago así C de no de js me copio caray me copio el cliente y el servidor me conecto al servidor ssh root Ok vale cb bar W html Clear cb jarsa old l cb Go cb chat sockets Clear vale Y ahora voy a ver si tengo node en el servidor creo que sí sudo app install node js me dice que ya lo tengo vale Pero ahora a continuación le digo npm Express y socket.io Ah Sí perdón sudo install npm qué rollo vale Yes 392 megas Eso duele más que nada porque en el servidor no tengo espacio ilimitado tengo 80 GB y de 80 GB pues 380 megas pica vale Pero bueno vamos a ver ya te digo Fran por el último mensaje que has puesto sí nos hemos quitado el set Time out pero ya te digo nos hemos quitado mucho más que el set Time out Vale Nos hemos quitado el llamar y colgar cada vez y eso es una barbaridad cuando queremos hacer muchas peticiones por segundo bien Vamos allá y ahora no de Ah no Espérate npm instal Express socket.io vale instalando ahora paquetes no escúchame los recursos que se ahorran con sockets son brutales Por cierto deciros que sockets no es privativo de nojs también hay sockets para python Vale entonces vengo por aquí y Eh pues no de servidor vale bien y ahora no es local Host Pero bueno vamos a probarlo vale me vengo por aquí 217 eh Puerto 9 3000 vale voy a decir ah no es seguro Bueno voy a decir hola vale Sí parece que sí bien pues os voy a pasar la URL es la misma del otro día así que enviadme mensajes vale decid algo Fran dice Hola José Vicente también dice hola le doy a Send Andre dice hola vale Luis dice hola la idea Está en que acabamos de hacer un chat sencillo con esta tecnología de sockets En definitiva esta primera tecnología de sockets este primer ejemplo de sockets lo que viene a decirnos es que como hemos comentado hace un momento ya no hace falta que estemos eh cada segundo volviendo a llamar por teléfono y colgando vale que en otros muchos escenarios por ejemplo un blog pues sirve perfectamente vale porque tú llamas Oye Dame información Dame los artículos toma tus artículos y cuelgo y ya está No pasa nada vale es perfectamente correcto con un chat Bueno técnicamente como tampoco se transmitiendo información cada microsegundo Pues tampoco pasa nada vale De hecho fijaos una cosa cuando cerráis el navegador veis que pone user disconnected vale detecta cuando se desconecta la gente ahora bien hay otros escenarios en los cuales el llamar y descolgar es una barbaridad Por ejemplo si hacemos un sistema de videoconferencia Pues estamos enviando paquetes grandes de datos cada pocos segundos si hacemos un sistema de videojuegos como empezamos a hacer el otro día con fetch Pues estamos enviando un montón de paquetes cada segundo bien así que voy a hacer un pequeño sistema de videoconferencia donde como os digo en lugar de enviar paquetes de texto como en un chat lo que vamos a hacer es activar las cámaras y eh Y enviar digamos paquetes de vídeo voy a enviar paquetes de vídeo voy a recibir paquetes de vídeo es decir vamos a utilizar la misma tecnología de sockets para crear un sistema de videoconferencia el reto Está bueno Esto ni se os ocurra hacerlo con fetch es una locura absoluta vale el reto está en que luego esto lo tiene que soportar el servidor de que tengo contratado que al final el servidor es un Dual Core es una máquina virtual vale son dos núcleos con 2 gbas de ram por tanto los recursos tienen que ser ahorrados al máximo una forma de ahorrarlos evidentemente es utilizar socket.io vamos a ver porque aquí probablemente voy a tener un pequeño problema en el sentido de los certificados porque Por qué eh vamos a ver Bueno creo que podría hacerlo vale más que nada porque en el momento en el que capturo vídeo Pues claro eh se requiere que tenga el certificado https en funcionamiento Y eso en un momento dado puede ser un pequeño problema pero bueno igual no es mucho problema vamos a ver momento que estoy pensando porque hicimos el otro día lo de pintar que al final lo convertimos en el juego de los npcs vale que quedó bastante divertido y tal vamos a ver va vamos a hacer Esto del vídeo bien Vamos a ver paro el servidor vale se cierra el servidor ahora vamos a hacer otro servidor y vamos a hacer más extensivo con sockets 017 socket V vamos a hacer una especie de zoom digamos vamos a ver Ah de vídeo Sí vamos a probar con vídeo va vale por que sepáis que de esta mañana ya estoy bloqueado vale en el o3 mini me han bloqueado hasta dentro de 3 días o sea imaginaos vale Y en el resto yo creo que me van a bloquear esta tarde Ah ahora lo Vais a ver bien vamos a empezar por aquí y digo html css js app to get webcam feed with video on a Canvas lower the resolution and the frame rate resolution to 160 píxeles por fps tu 2 fps vale lo que vamos a hacer en este caso es que vamos a empezar con una aplicación que realizada en Java Script va a capturar el feed de la cámara vamos a verlo y lo va a poner en un Canvas vale Ok copiamos y vamos allá dónde estás se me ha ido vale esto es cliente html o Index html Ok vale vamos a hacer lo más sencillo posible OK vale ejecuto local Host nojs socket vídeo Vale y ocurre eso que estáis viendo en la pantalla y es que tengo dos cosas tengo por una parte un vídeo una etiqueta vídeo de html y por otra parte una etiqueta Canvas una etiqueta vídeo es una etiqueta que me permite capturar vídeo por ejemplo el de la cámara y una etiqueta Canvas es una etiqueta que me permite dibujar lo que estoy haciendo es dibujar el vídeo pero a dos fotogramas por segundo es decir el código se ejecuta cada 500 milisegundos o sea cada medio segundo Cuál es el objetivo de esto el objetivo de esto evidentemente es enviar poca información al servidor de hecho podría decirle 80 y 60 Vale Voy a ahorrar un poco de recursos bien y momento y el vídeo es 80 por 60 ahora luego vemos bien okay tengo un sistema de videoconferencia vale Perdón no lo tengo todavía tengo únicamente el feed una vez que tengo esto ahora lo que quiero es yo cada uno ahora luego cada uno de vosotros ejecutará este software Entonces yo envío eh información al servidor y recibo información del servidor de la misma forma que el chat antes yo he enviado un mensaje y cada vez que vosotros enviáis un mensaje yo lo he recibido en este caso realmente vamos a hacer lo mismo pero en lugar de enviar un mensaje de texto lo que voy a hacer es enviar los píxeles de colores que hay dentro de este Canvas yo os lo voy a enviar y cuando cada uno de vosotros me envíe un fotograma suyo yo y todos los demás lo vamos a recibir vale Esto es lo que hace no dejs perdón Esto es lo que hace la librería de sockets Insisto que va a ser un sistema de videoconferencia muy limitado porque el servidor es limitado vale también ahora lo ejecutar y esto nos servirá para medir los recursos del servidor y asegurar que no se igual lo peto No lo sé esperemos que no vale Estoy bajando la calidad precisamente para no tener que petarlo así que una vez que tengo esto Una vez que tengo esto voy a hacer lo siguiente ahora digo Now create a server with no Djs and socket.io to create a video Conference room server y ya vamos a darle Así que si esto es cierto esto con una sola persona me va a ser difícil de probar vale Por eso ahora lo publicaré en el servidor bien y vamos a ver vale esto es el cliente esto es el cliente vale Y esto es el servidor y el servidor básicamente va a hacer lo mismo que antes servidor js el servidor lo que va a hacer de hecho si os fijáis el código prácticamente es el mismo vale el código no va a decir Oye yo estoy recibiendo vídeo y no al código le da igual o sea al código te va a decir Bueno pues o sea tú me una información Yo te envío una información tú sabrás lo que hacer con ella es decir al código le da igual si estás enviando texto que si estás enviando vídeo tú envía algo y yo lo envío a los demás vale Y si es texto lo Pintaré en un elemento de texto y si es vídeo pues ya en el cliente lo Pintaré en un elemento de vídeo bien Vamos a probarlo madre mía Qué miedo vamos a probarlo esto es el servidor sí esto de momento no vale paro salgo lsl CD 017 ls node servidor js e Perdón node no npm instal Express y socket.io y creo que ya vale ejecuto Ok local Host 3000 Así que local Host 3000 cannot get vale a ver qué hay Qué rutas hay Pues en el servidor hay aquí rutas join room Vale pues bueno es que realmente join room eh no no join room no lo estoy viendo a ver un momen vale local Host 3000 no no Ah espera carpeta public no bueno va venga carpeta pública vale Y el Index html quiere que esté en esa carpeta Vale entonces esto es el servidor esto es local no de js esto es socket video esto es Index en public vale Así que recargamos vale permito la cámara Okay Vale hay una retroalimentación voy a silenciar el sitio bien y ahora a continuación y ahora a continuación me está cogiendo el vídeo en resolución completa no quiero eso porque es que si no ya os digo yo que el servidor se va a petar claro otra cosa es que no puedo vamos a ver ya pero a ver 404 vale Sí pero no porque está aquí Remote vdeos no hay nadie en Remote vídeos vale momentín no it seems not to be working Nothing is seen on Remote videos vamos a ver vale copiamos pegamos bueno y ya vale vamos a parar vamos a ejecutar y aquí okay Vale hay dos vídeos vale entiendo que si me conecto con un tercero ya me extraña que me esté dejando compartir la cámara Pero bueno vale porque no suele dejar Pero bueno hay tres vídeos digamos vale hay tres personas conectadas bien Por cierto habrá audio pero lo estoy prueba vale Sí lo estoy quitando porque se bloquea luego aparte en audio aquí headphones vale activar pero se me va se me queda frito Vale entonces ahora a continuación bueno oís vale No sé si Oye el ventilador pero está a saco Bien ahora a continuación eh Uh un momentom ok Estoy usando esto pero bueno Vale ahora a continuación en el vídeo quiero decirle no vale digo de hecho Mirad si miro el el procesador estará bien vale estará ahí importante vale Si miro procesador por ahí estará vale el node Así que y bueno y la red lo que pasa que estoy en local vale pero la red también estará gastando bastante Entonces le voy a decir Ok perfect but lower video resolution to 80 por 60 and fps tu 2 fps vale porque insisto Ahora mismo estoy en un ordenador que tiene 16 núcleos y 16 Gb de ram pero lo voy a pasar a un ordenador que tiene dos núcleos y 2 gb de ram vale y no Mola Así que vamos a ver voy a pasar esto en el cliente vale Ok vale Y ahora aquí Ok y aquí Ok vale Y ahora todo va a golpes que es como quiero que vaya Es decir quiero que vaya a golpes insisto no sé si de hecho igual oís que el ventilador está empezando a bajar porque lo que quiero es que baje bien y voy a comprobar si el sistema funciona correctamente en el sentido de Pues que paro un cliente y un cliente desaparece bien una vez que hecho esto ahora a continuación lo que voy a hacer es eh publicarlo en el servidor con miedo vale porque al no tener las claves https vinculadas a node igual me fastidia por esa parte porque los navegadores requieren un protocolo seguro para poder conectar pero vamos a probarlo así que eh vamos a ver pero fijaos no es que no sé si lo veis pero el ventilador o sea de repente se ha calmado O sea para que os hais la idea de lo que pasa en el servidor bien pues vamos a ver pues eh qué te iba a decir yo qué te voy a decir yo a ver vale esto es socket video esto es aquí vale esto es socket videoo vale socket vídeo va a tener esto y esto pego bien en el servidor aquí me voy a CD socket vío ls vale No de no npm instal Express y socket.io vale No de servidor js y ya estoy ejecutando Caray qué rapidez me cago en la mar momentín vale Ya estoy ejecutando pero cuántos clientes estáis conectando vale Ya estoy conectando el problema está en que a nadie nos estará dando esto porque vale la cámara me dirá que no la cámara me dirá que si no me conecto por un protocolo seguro no me va a dejar hacer Esto vale Por otra parte momentín https dos pun bar jarsa 3000 me dirá que no se puede acceder a aquí Sí que puedo tampoco Ah perdón Puerto 3000 vale Y jara.com sí vale pues un segundo Ok y voy a intentar utilizar las claves vale las claves que de hecho tengo Entonces segundin porque es que ya os digo esto es un tema de navegador vale es que los navegadores por seguridad oa que es bueno razonable no dejan utilizar eh No porque aparte estaba pensando otra cosa pero no dejan utilizar eh webcam si no es con protocolo seguro o en local Host para hacer pruebas bien entonces ahora Ok absolutely perfect but now I must use ssl on server un Production server so load Keys eh load Keys a ver aquí etc Apache eh sites enabled Forest Green vale Okay as in this Apache virtual Host but using Port 3000 vale es decir le pego un cacho de código de Apache simplemente para que sepa dónde están las claves vale vamos a ver Okay vale Okay Mira me voy a conectar directamente al servidor Fran voy a editar en caliente vale no se debe hacer pero en fin que se va a hacer la vida es así hemos venido a jugar hemos venido a arriesgar y vamos a ver me voy a e socket vdeo edito servidor js vamos a editarlo como os digo en caliente copiamos pegamos en principio hace uso de las claves el ssl Así que sí ya lo sé ya Fran sí tienes razón vale al final un atacante hace lo que quiere Mira yo tenía más o menos bueno la edad que tenéis la mayoría de vosotros vale Y yo En aquel momento programaba web con flash con macromedia Flash porque era lo que se llevaba En aquel momento no Y entonces En aquel momento macromedia flash podía acceder al sistema de archivos del usuario porque eso nos venía bien a todos para Pues si la web necesitaba guardar datos pues guardar datos en el ordenador del usuario hasta que a alguien se le ocurrió que podía utilizar el acceso al disco duro que otorgaba flash para formatear el disco duro al usuario y joderlo pero bien con lo cual Qué ocurrió Pues que se levantó mucho revuelo y a la semana siguiente salió la actualización de Flash que ya no permitía Acceder al sistema de archivos era decir Bueno pues al final pagan justos por pecadores o sea yo En aquel momento dije a quién se le ocurre formatear el ordenador al usuario es tu usuario lo tienes que cuidar Pues mira pues hay gente enferma por ahí suelta que tiene acceso a la tecnología pues ya o sea los navegadores hacen esto Pues un poco para intentar prevenir que haya robos de información que se capture la cámara sin permiso yo que sé vale pero efectivamente como dices al final un atacante hace lo mismo y a veces Pues nos fastidian a los que no somos atacantes pero mira qué se va a hacer es lo que hay no Entonces voy a probarlo Ahora me voy al servidor eh arranco el servidor vale parece que ha arrancado Bueno eso dice el emoji vale tampoco nos fuimos mucho del emoji bien y ahora si me voy a jara.com bar 3000 Okay ahora sí me deja la cámara vale entrar en jocars comom bar 3000 y nada y probar y entrar Vale y a ver si alguien entra vale decidme si os podéis conectar recordad que la URL es hoka.com bar 3000 de hecho es https 2ara comom 3000 vale de vale hay alguien ya conectándose Y si todo va bien vale Ahí tenemos a Fran y de hecho oigo también el audio o sea oigo mi voz a través del ordenador de Fran O sea que Fran Te estamos oyendo no hace falta que te se te oye cli cl clic es sí correcto Sí se te oye vale Y pues demostración de que ya tenemos un sistema de chat funcionando un momentín No te desconectes Fran voy a mutear la pestaña porque me oigo a mí en bucle y ahora continuamos desarrollando esto más vale Ahí tenemos a Luis también vale Hola Luis y un momentom no os desconecté porque ahora Mientras tanto voy a sacar otro vale otra pestaña aquí ssh rhoca vale yes y password y le Ah esto esto vale Y bueno System load 0,08 no está nada mal vale Memory usage la ram 50% vale Voy a preguntarle más eh momentín Cómo saco momentín no está aquí eh server eh get System info load as in login vale es el comando Ok no A ver no no esto no quiero esto quiero a ver no no I want the same message as in login as in Remote login pues Vale no Caray no no es esto es lo que quiero le eches venga vale Esto vale entonces vemos que ahora vemos que el vídeo sigue vale yo os estoy viendo voy ejecutando el linfo y veo que el System load sigue igual el load sigue a 00 la ram sigue a prácticamente el 50% vale Eso quiere decir que el sistema de momento vale por el momento está aguantando bien vale ahora lo que voy a hacer es Modificar un poco este sistema primero para hacerlo un poquito más bonito y luego también para ahora iremos aumentando un poquito la carga vale para no molestar Bueno ahora lo voy a ampliar para que cada uno de nosotros tenga un botón para perm cámara y permitir micro como en un sistema de videoconferencia típico y estándar vale por tanto Mirad voy a parar el servidor paro se queda congelado vale debería quedarse congelado pues noos ha quedado congelado vamos a ver momentín porque creo que entonces no estoy usando el servidor mío que estoy usando el servidor de Ice vale rutu puntu vale Ok un momentín Pues bueno salir si queréis ahora volvemos a entrar Vale me salgo vale Y entonces vamos a ver entonces a quién estoy utilizando A quién estoy utilizando vamos a editar en servidor vale Ok si no al recargar evidentemente dice que está caída pero es que aquí he visto antes aquí peer connection vale un momentín por qu voy a asegurarme de que estemos cargando donde tenemos que cargar okay vale is this code using my server or Google servers no quiero usar servidores de Google eso ya lo sé hacer quiero hacerlo yo vamos a ver Ah vale Okay Vale curioso vale Okay no quiero quitar stun solo quiero asegurarme vale Okay no quiero quitar stun vale Ok venga solo quiero asegurarme de que yo estoy soportando La carga del sistema de videoconferencia quiero decir no quiero hacer como que lo estamos haciendo nosotros y que luego dependamos de Google vale No quiero depender de Google quiero hacerlo yo Vale pues a continuación lo que voy a hacer es lo siguiente