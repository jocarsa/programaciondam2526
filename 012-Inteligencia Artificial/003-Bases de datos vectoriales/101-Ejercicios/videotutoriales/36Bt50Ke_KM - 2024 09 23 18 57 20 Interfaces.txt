bien sabéis que el otro día empezamos con interfaces web eh esta asignatura va a ir en todo momento entre interfaces web e interfaces de escritorio vale porque al final Pues se trata de eso se trata de crear interfaces desarrollo de interfaces para aplicaciones multiplataforma vale para múltiples plataformas Así que eh yo creo juraría os pregunto que el año pasado me parece recordar que creo eh que con Java hicimos la interfaz de usuario para un programa que se llama ffmpeg para codificar vídeo Esto suena con Java swing vale con el creador de interfaces de usuario de Java swing yo creo recordar que creamos no Blanca dice que no pues nada pues no pues lo vamos a hacer ahora lo vamos a hacer ahora pero evidentemente en lugar de hacerlo con Java swing vamos a hacerlo con python idle De hecho voy a empezar haciéndolo con python para al final reflejar un problema que se encuentra tanto con python como con Java swing vale con lo cual podría abrir net beins y lo podría hacer con Java swing y el problema que voy a ilustrar deriva de lo que Ah No espera no el otro día creo que fue en entornos de desarrollo con los de primero vale que les abrí Java el os acordáis del Código de Java swing generado automáticamente vale bien en el temario hay una parte llamada eh dónde estás esto Qué es de interfaces vale eh lenguajes descriptivos para la definición de interfaces este es el problema que nos vamos a encontrar en python voy a ilustrar el problema y evidentemente también una solución en python creo que recordáis que el año pasado empezamos a ver un diseñador de interfaces El que viene por defecto dentro de python Por otra parte llamado Tec inter os suena os recordáis vale De hecho incluso creo recordar que llegamos a hacer e esto ya vamos a hacer Incluso el superc controlador también en tk inter creo recordar vale Así que voy a crear un nuevo archivo lo voy a guardar me voy a ir a subir me voy a ir a bar me voy a ir a w me voy a html me voy a ir a dam me voy a segundo me voy a desarrollo interfaces me voy a eh dónde estás a generación de interfaces de usuario y lenguajes descriptivos vale 001 lenguaje no descriptivo vamos a hacerlo primero mal para luego hacerlo bien eh Por tanto una vez que tengo esto voy a decir import tc inter as tk vale es decir importamos la librería tk inter que por defecto viene con el sistema 002 eh creamos una ventana por tanto voy a decir ventana es igual a tk.tk y a continuación voy a decir ventana min Loop Así que pulso f5 y sale plch una ventana Vale hasta aquí no hay mucho misterio bien una vez que tenemos esta ventana Ahora 003 puedo crear un botón inicial Vale y vengo por aquí y digo tk Button y digo en la ventana el texto es igual a PS y digo pad x es igual a 20 y p y es igual a 20 porque me lo acabo de inventar vale Así que pulso f5 e perdón y I punto pack de hecho Perdón de hecho pack o sea p x y lo pongo aquí también vale Aquí voy a poner 5 y C Mirad el 5 y 5 es el interior y el 20 y 20 es el exterior vale o si queréis puedo poner ahí 15 y aquí 40 y así pues lo veréis mejor bien y pulsam vale el problema está en que esto no es un lenguaje descriptivo esto es un lenguaje de programación si os dais cuenta por ejemplo el problema que os voy a ilustrar en python en tecnologías web ya está resuelto porque separas completamente lo que es el la estructura html de lo que es el comportamiento javascript pero en python no Así que voy a crear un programa y 004 Eh bueno ahora e pues evento para el botón con evento para el botón otra cosa que os quiero decir es que en la clase de hoy o ya veremos cuándo tenemos una parte específicamente para asociación de acciones a eventos vale eventos escuchadores para pegar un repaso de qué eventos soporta python y qué eventos soporta javascript pero de momento voy a poner por aquí que e Bueno el click vale vamos a ver voy a poner por aquí y 005 click y digo Def Di hola y digo print Hola Así que digo click es igual a Di hola momento que lo del click creo que se me está yendo la pinza con el on click de javascript ya te lo decía yo vale e espera ah prer Button click sí venga va y coma eso coma no me acordaba de la palabra coma Así que vengo por aquí Y si hago clic veis que dice hola hola hola bien a continuación os voy a enseñar un programa que como ya os digo a mí me gusta mucho y lo utilizo mucho para realizar diferentes operaciones el programa se llama ffmpeg está para Windows para Linux para Mac es gratuito siempre la misma condición vale Y yo no sé si lo tengo instalado me voy a abrir la consola y en la consola voy a poner ffmpeg Y sí que lo tengo instalado vale si lo queréis instalar en Windows simplemente tenéis que ir a download ffmpeg os vais a la página oficial y os lo podéis descargar para Linux para Mac Perdona para Mac y para Windows una vez que os lo habéis descargado mi recomendación si estáis en Windows es la siguiente libreoffice y writer vale si estáis en Windows Mira es más me lo voy a descargar para Windows aunque yo no est en Windows voy a hacer como que lo estoy me voy a Windows builds me descargo eh Este vale Win 64 por ejemplo cualquiera me lo descargo al escritorio y ahora veréis que lo descomprimimos carpeta que se llama ffmpeg estaba previsto dentro de la carpeta ffmpeg aparecerá una carpeta llamada Bin y dentro de la carpeta Bin aparece vale Mirad escritorio Y dónde estás aquí vale extraigo aparece ffmpeg aparece la carpeta Bin y aparece el archivo ffmpeg.exe vale por tanto por lo tanto aquellos que estáis en Windows uno descargá ffmpeg desde la web oficial descargá un build para Windows vale o para el sistema operativo en el que estéis trabajando dos se descarga en un archivo comprimido tres descomprimir el archivo cuatro movis la carpeta descomprimida AC c do bar ffmpeg vale a esa ruta de ahí a partir de ahí tendréis comprobarlo la ruta válida C2 bar ffmpeg barbin bar ffmpeg.exe vale si lo habéis hecho bien esa rutaa que esa ruta que estoy marcando debe Ser válida Y por último tenéis que meter ffmpeg en el path de Windows Qué es el pth de Windows sabes qué pasa acabo de caer en que el otro día me Met me metí Windows 10 aquí en virtual Box Por qué para los alumnos de primero para sistemas informáticos Así que voy a arrancar Windows 10 la ejecución Ok vale fantástico vale voy a hacer toda la instalación en 10 así que todo el mundo mirando la pantalla en Windows 11 es igual vale bien hago así click José Vicente ostras y qué contraseña puse yo aquí vale menos mal bien y atención miradme todos la pantalla arranco el cmd pongo ffmpeg y me dice que no se reconoce vale Ok no se reconoce vale a continuación me abro un navegador y me busco ffm peja voy a un segundin déjame un segundin insertar CD de complementos porque es que si no la pantalla se me ve fatal vale me voy un momentín aquí y aquí sí vale next y dadme un segundo porque no la pantalla se me ve ahí en un cuadrado y es horrible vale Ok venga Ahora sí reboot como ya sabéis este año en primero también doy entornos de desarrollo y sistemas informáticos por tanto el otro día en sistemas informáticos estábamos creando una máquina virtual vale muy bien venga y Eh Esto vale si todo va bien Ahora no configuración de pantalla eh No me hace mucho caso la verdad bueno Vale va ahí me vale venga voy a dejarlo así vale mira me voy a Chrome me voy a ffmpeg me voy aquí a la página de ffmpeg me lo descargo para Windows me lo descargo donde pone Windows builds de una o de otra me da igual vale me lo descargo tiene por ejemplo este que pone full vale da igual este digo full Más que nada porque así tiene de todo ha metido me estoy descargando un archivo s zip con lo cual como Windows por defecto Windows 10 no descomprime s zip Pues voy a Descargarme sevenzip o winrar o lo que sea vale me descargo sevenzip y ahora en cuanto se descargue ffmpeg voy a realizar la instalación que os he comentado antes e an vale vamos a ver Mirad botón derecho descomprime descomprima veis que esta carpeta la renombro ffmpeg simplemente y la muevo al disco duro c ahora en el disco duro C debe haber una carpeta ffmpeg que tiene una carpeta Bin que tiene un archivo ffmpeg.exe lo que quiere decir que si yo ahora ejecuto el símbolo del sistema si me voy a CD ffmpeg a CD Bin ejecuto ffmpeg.exe y funciona pero problema si yo estoy en cualquier otra carpeta que no sea esa carpeta ejecuto ffmpeg y no lo reconoce solo si estoy en esa carpeta lo reconoce para eso está la última parte de las instrucciones que os he dado que consiste en Añadir ese ejecutable al path de Windows cuando añades al pth de Windows quiere decir que lo puedes ejecutar desde cualquier carpeta por tanto cómo funciona me voy aquí me voy a Windows pongo pth y al poner pa en Windows 10 o en Windows 11 aparece editar las variables de entorno del sistema Así que selecciono editar las variables de entorno del sistema eh Blanca el sevenzip Efectivamente es tipo winrar pero es que en este caso date cuenta que yo no lo he podido elegir sino que yo cuando he descargado eh el tema este cuando he descargado fmp venía en s zip otra cosa que te digo es que me he descargado sevenzip pero winrar también descomprime sevenzip podéis descargarlo como queráis correcto vale aquí en variables de entorno me voy a variables de entorno y en variables de entorno veréis que o bien para usuario o bien para el sistema yoos recomiendo que sea a nivel de sistema tenéis una variable llamada p lo que hace es todos aquellos programas que puedes ejecutar en cualquier parte del sistema operativo elijo el p del sistema no el p del usuario y así lo que hago se crea para todos los usuarios le doy a editar y ahora aquí lo que voy a hacer es Añadir un nuevo path me voy a nuevo y digo voy a cogerlo Mirad aquí nuevo y digo c dos puntos contra barra ff ffmpeg contra barra Bin Y eso quiere decir que a partir de ahora podré ejecutar el ffmpeg desde cualquier carpeta del disco duro comprobamos le doy a aceptar le doy a aceptar le doy a aceptar Y si ahora arranco el cmd vamos a comprobar que en cualquier carpeta por ejemplo en mi carpeta pongo ffmpeg y reconoce ffmpeg es decir hemos instalado ffmpeg lo hemos dejado caer Mejor dicho en el disco duro c del sistema o en otro cualquier o en otro cualquier disco duro yo recomiendo c pero cada uno que haga lo que quiera y a partir de ahí puedo llamar a ffmpeg desde cualquier parte vale en Windows se instala así y ya está voy a cerrar la máquina virtual en Linux simplemente des instalarlo y automáticamente está disponible en todo el sistema con lo cual pues vamos allá estoy cerrando Windows y vale Ya estamos muy bien pues vuelvo a idle cierro esto por aquí no vale cierro esto por aquí cierro esto por aquí vale vuelvo a idle y ahora aquí lo que quiero es eh hacer un programa que me permita eh establecer ciertos tipos de operaciones por ejemplo vamos a ver yo me quiero guardar a ver si en mi Drive tengo un vídeo mío entrevista mira aquí entrevista aquí vale Tengo este vídeo mío de cuando yo era más joven soy Jos y tenía la barba negra y tal Hola descárgalo ahora y ese vídeo es un archivo mp4 vale Yo por ejemplo una cosa que puedo hacer con ffmpeg Mirad vamos a ver escritorio entrevista veis ahí este vídeo en propiedades tiene propiedades ahí vaya HM Vale Voy a abrirlo con vlc momento vale eh vídeo Ah no aquí información multimedia Este vídeo tiene Aquí está a 1280 por 720 una cosa que puedo hacer con ffmpeg es por ejemplo bajar la resolución Así que vamos a verlo Mirad Yo vengo por aquí y digo ffmpeg lower resolution to 360 * 240 porque me lo acabo de inventar bien con lo cual atención Mirad El Comando es este ejecuto me voy mom ahí me voy CD escritorio y digo ffmpeg meni entrevista mp4 V filter scale es igual a 360 * 240 y eh entrevista pequeña punto mp4 y a continuación una vez que he escrito esto en cuanto a desarrollo de interfaces técnicamente es una interfaz pero no es una interfaz muy cómoda ni bonita que se diga precisamente vale le doy a enter el sistema empieza a codificar y por lo tanto veréis que ffmpeg es un programa que es fantástico codifica vídeo y audio y tiene una barbaridad de opciones os podéis imaginar pero no tiene una interfaz de usuario por defecto Así que yo ahora vengo aquí yo ahora vengo aquí y tengo entrevista y entrevista pequeña acabo de codificar un vídeo con ffm y si lo abro veis que aparece el vídeo pero la resolución es mucho menor ahí lo veis Soy José Vicente carratalá y soy un formador desarrollador y diseñador Supongo que se ve que los píxeles se ven pequeñísimos bien claro qué ocurre que ffp es un programa fantástico pero me obliga a prenderme los comandos de memoria Así que yo en lugar de eso quiero hacer lo siguiente atención todo uso la pantalla quiero 006 eh entrada de vídeo y digo esto fuera y digo Marco es igual a tk frame en la ventana marco punto pack pad x es ig a 10 pad y es igual 10 Vale ahora yo quiero un botón mediante el cual yo pueda seleccionar un elemento vale Así que vamos por aquí y digo e tk inter file selector pegaremos un repaso como pegamos el otro día en html a los elementos tkinter y Ah no dónde estás aquí ahí vale Y digo eh selector vdeo entrada no no selector vídeo entrada es igual a tk Button ojo Por qué me ha hecho eso t. Button en el marco el text es selecciona el vídeo de entrada el command es selecciona entrada y ya está si queréis voy a poner esto un poquito más bajo porque si no la línea se va y no vemos nada Y evidentemente pues yo ahora vengo por aquí y digo Def a ver puedo poner Def una entrada y aquí voy a esto y from tk inter import file dialogo vale Y así que eh ruta es igual a file dialogo ejecuto le doy aquí a Hola Dónde estás Dónde ha ido Hola bueno a ver no creo que sea eso pero selector video entrada punto pack y pad x es igual a 50 pad y es igual a 50 Okay selecciona el vídeo de entrada con lo cual aparece un comando yo puedo hacer clic aquí y me dice vale dónde está tu vídeo mi vídeo Uy Cuidado mi vídeo Está en un mín venga sube está en Home está en José Vicente está en escritorio está en entrevista mp4 vale Y ya lo he seleccionado no parece que lo haya seleccionado pero si queréis puedo decir 007 imprimir vale print la ruta de tu vídeo es coma ruta f5 selecciona al vídeo de entrada Oh qué rollo otra vez eh voy a hacer una cosa si maoma no va a la montaña ir Mahoma me voy a desarrollo de interfaces me voy a lenguajes descriptivos lo pego aquí y así está ahí porque si no vamos a tirar aquí la vida vale entrevista y dice la ruta de tu vídeo es W segundo desarrollo de interfaces usuario lenguajes descriptivos entrevista Vale ahora a continuación yo lo que quiero es repetir ese Comando vale seleccionar el vídeo de entrada pero para lo siguiente ahora 008 indica eh dimensiones por tanto vengo por aquí y digo vamos a ver tk lavel en ventana texto es igual a indica la anchura de salida qué quieres punto pack no en ventana no en el marco punto pack pading y pading x voy a bajar y ya está f5 y Igual me pasado un poco vamos a ver ping y 20 y ping y 20 Pero tú fíjate la guarrada no porque es que esto es html y css y javascript a la vez vale funcionar funciona ahora lo Vais a ver pero es un poco warry así que ahora a continuación digo tk lavel 009 campo vale tk lavel no tk pun ent donde en el marco voy a poner un text variable es igual a Pues no sé anchura vale Y por tanto por aquí arriba digo anchura es igual atk pun cuando hace eso me da una rabia text barar vamos a verlo Ok tk inter no tiene un text bar tampoco creo vale venga tek inter text barar Cuál es la sintaxis String bar eso es no me salía y qué más tengo por cierto porque inbar Pues mira inbar me Mola Entonces vamos a ver Tengo un entry pun pad x vamos a verlo Mirad seleccionar el vídeo indica la anchura Vale y ahora pues voy a hacer lo mismo altura es igual a un inb repito esto la altura eh altura y al final tk pun buton en el marco text es igual a comenzamos y no realmente a ver vale Bueno sí da igual comenzamos y command es igual a procesar f5 procesar not Def así que procesar y print vamos a por ello vale e me falta un punto pack selecciona el vídeo de entrada indica la anchura indica la altura comenzamos vamos a por ello vale me falta un control tek inter save file dialog Vale entonces vamos a ver Def selecciona salida es B file name y digo salida es igual a noun global salida y salida es esto con lo cual al final selector vídeo salida selecciona el vídeo de salida selecciona salida f5 espera qué ha pasado aquí y punto pack bueno no y punto pack bien entonces selecciona el vídeo de entrada no no momento seleccionar salida Ah no lo he puesto al revés vale selona vídeo de entrada Dime a cuánto quieres sacarlo selecciona el vídeo de salida y comenzamos Vale y comenzamos ahora mismo no hace nada porque tengo que decirle que haga algo ahora bien cuando le doy a comenzamos entonces ocurre lo siguiente vamos a ver entrada es igual a Know global entrada y entrada es igual a Esto vale a continuación ahora 011 llamo al comando de ffmpeg y para ello le digo selector salida Park Perdón aquí vale python execute shell command será con la librería os Ah supres vale Ok pues nada importamos su process ahora pongo comentarios y vale Comando es igual a esto y resultado es igual a esto Vale y Okay muy bien entonces el comando hemos quedado que es ffmpeg menos I más entrada Eh Esto voy a hacer String bar porque al final es un String vale más entrada V filter eh más anchura más dos puntos cre creo que era no me acuerdo vamos a verlo eh No dónde está No recargamos Oye aquí scale es igual a esto dos puntos más esto y eh salida vale si yo ejecuto esto f5 videoo de entrada entrevista lo quiero de 100% 100 vídeo de salida creo que no me va a dejar Pero bueno comenzamos vale canonly concatenate Ah venga vale eh Ok anchura punto text a ver eh tca inter get value of String bar get vale anchura pun get y altura get bien selecciono el vídeo de entrada voy a poner 320 por 160 por 240 120 selecciona el vídeo de salida le doy a comenzar vale Y en principio está en ello vamos a dejar unos cuantos segundos tenemos tambi que atrapar cuando el vídeo acaba pero si todo va bien si todo va bien y vamos a esa carpeta ahora en cuanto acabe que no debe tardar mucho Voy a hacer una cosa voy a decirle print coma porque de momento no acaba y me extraña vídeo entrevista 320 240 vídeo salida punto mp4 comenzamos ffm vale teóricamente es correcto vamos a probarlo Ah no such file or directory vale desarrollo Ah de interfaces ese es el problema vale Okay entrada y salida como la ruta tiene espacios pues da error así que f5 selecciona entrevista 320 240 vídeo de salida punto M4 y comenzamos vale en principio Ah mira en principio el botón se ha quedado frito Ok lo cual quiere decir que ahora me voy ahí y fijaos que tengo ya salida y esa salida su entrada no puede abrirse Bueno A veces es porque tengo que Bueno pues sí que estamos bien vale Bueno ahora veremos pero Caray qué poco cuesta acabar bien a ver fingo vídeo entrevista 320 240 salida 2 pun mp4 comenzamos botón se queda pillado botón se libera vale cierro salida dos a ver Okay no vale vamos a hacer Esto vale 012 try vamos a hacer esto selecciona 320 240 salida 3 punto mp4 comenzamos Ah error ejecutando El Comando no such file directory vale click a ver pegar Uy pues sí que existe Bueno pues nada voy a seguir porque existir sí que existe con lo cual Pues por algún motivo no lo está haciendo correctamente vale la pregunta que os hago a falta de averiguar cuál puede ser el detalle por el cual no está funcionando la pregunta que os hago es comparativamente a lo que vosotros ya conocéis de html y css Y javascript qué os parece esto que estamos viendo en la pantalla pues es un desastre en el sentido de que estamos mezclando en el mismo archivo importar librería declarar variables crear funciones crear elementos de interfaz de usuario el elemento de interfaz de usuario a la vez tiene estructura y a la vez tiene css tiene lo que sería el css es como os digo un desastre vale por lo tanto nosotros en la en el temario tenemos esta parte que es lenguajes descriptivos para la definición de interfaces Este lenguaje con el que estamos trabajando es python no es descriptivo es un lenguaje funcional es un lenguaje de te ejecuto qué lenguajes descriptivos conocéis Pues los lenguajes descriptivos que conocéis son los lenguajes de marcas entre los cuales se enmarca los cuales se enmarca html y también tenéis otro lenguaje más libre todavía llamado xml Entonces en este caso La idea es que el trabajo con python y con tca inter puede ser como veis un poco guarrete pero a partir de aquí nosotros podemos mejorar ese flujo de trabajo de la siguiente forma que os voy a indicar Mirad yo a continuación me voy al editor de texto en el editor de texto ahora a continuación voy a hacer un archivo nuevo y en desarrollo de interfaces me voy a ir a lenguajes descriptivos y me voy a crear 001 Eh bueno 001 va Sí esa 013 eh xml recordamos que el archivo xml momentín xml opening tag bueno Esto se puede buscar por internet vale No xml opening tag xml esta no esta etiqueta vale Así que pongo esa etiqueta porque es obligatoria recordamos que otro requisito del xml Es que solo puede haber una etiqueta raíz por tanto digo interfaz si está en español es porque me la estoy inventando y ahora creo por aquí una interfaz a continuación yo por ejemplo me creo un botón y eh Ahora me voy a crear un texto y luego me voy a crear una entrada que me decís de este archivo que Acabo de crear obviamente es un archivo inventado pero es que xml sirve para eso o sea si yo os dijera que esto html me diréis no Esto no es un html legal pero si esto es xml Yo me puedo hacer el xml que yo quiera y este es un xml válido Ahora aquí en botón Pues yo digo por ejemplo pulsa y aquí en texto yo digo esto es un texto pero comparativamente a idle si os dais cuenta esto es una warong gada porque en un mismo archivo tengo todo tengo estilo y tengo función y tengo todo mientras que en este archivo Solo tengo interfaz no tengo función solo interfaz vale python al igual que muchos otros lenguajes hoy en día se lleva muy bien 014 con lectura de xml así que import lxml f5 vale Oh vaya por Dios bien pues vamos a importar No aquí Bueno voy a cerrar este voy a abrir un terminal nuevo vale si yo ahora vengo por aquí y digo que abro un terminal Hola Qué ha pasado no sé que he cerrado pero algo se ha cerrado vale Ah mira aquí digo sudo eh app install python gu lxml contraseña vaya eh A ver momento pip install lxml o en su defecto python read xml Ya está A ver qué me dice o xml vale Sí Ok fuera esto no lo quiero y aquí Vale pues vamos a esto OK f5 ahora sí esta librería sí que está Vale y ahora eh 015 Leo el contenido vale con lo cual digo árbol es igual a lm cómo se llama ese archivo se llama interfaz xml va pun xml dime la raíz vamos a probar a imprimir raíz Element interfaz Vale y ahora quiero 16 Ahora quiero los elementos contenidos entonces digo a ver si está por aquí y si no lo hago yo eso es no for elemento in raizz print elemento y me dice que hay una interfaz y dentro de la interfaz hay un botón un texto y una entrada lo veis vale esto quiere decir que yo ahora lo que puedo hacer es atrapar cada uno de los elementos 017 atrapamos los elementos y entonces digo If elemento punto qué pues elemento punto vamos a ver vale eh get tag name sí va venga elemento pun tag eso es o If elemento pun tag es igual a botón en ese caso print tienes un botón el If elemento pun tag es igual a texto print tienes un texto elif elemento pun tag es igual a entrada creo que era print tienes una entrada str is not callable vale dónde elemento punto tag Ok e vale tag elemento tag no y not cable vale Ah OK perdón vale es esto vale tienes un botón tienes un texto y tienes una entrada esto quiere decir que yo ahora además and Now get tag content tag text content punto text eso es vale Yo ahora puedo venir y 018 fabrico una interfaz y digo import tk inter as tk ventana es igual a tk ventana Mind Loop y entonces digo si tienes un botón entonces tk Button en la ventana text es igual a elemento punto text y ya si elemento a i pun pack pad x es = 20 y pad y es = 20 si el elemento es un texto tk Button ventana text es igual a elemento pun text y punto y tk Button tk punto entr Perdón ventana y ya está bien si yo ahora le doy a perdón y punto pack si yo ahora le doy a f5 me sale pulsam esto es un texto Perdón esto es un Label es un texto Perdón es un botón es un texto y es un entry pero la gracia está en que si yo ahora vengo aquí y digo Pues mira ahora quiero dos botones más Hola qué tal Este es otro texto y Este es otro texto más y ahora pongo una entrada y sabes qué pasa no pongo una pongo tres porque me da la gana ejecuto este mismo código de python en el cual no he tocado ni una sola línea más y ocurre esto y ocurre que tengo un botón un texto una entrada dos botones dos textos y tres entradas porque yo lo quiero Entonces qué ha ocurrido pues lo que ha ocurrido es que tk inter es un lenguaje que en principio no está pensado para utilizar lenguajes descriptivos pero yo creo que aunque aquí faltan cosas por programar evidentemente no digo que no vale pero siendo un lenguaje descriptivo xml permite complementar a python de forma que python es capaz de leer perfectamente archivos xml y de forma que yo puedo leer este archivo xml python lo lee lo interpreta y lo convierte a interfaz de usuario pero para ti evidentemente va a ser 1 veces más sencillo 1000 veces más sencillo trabajar con un documento Así que no trabajar con un documento así vale un xml primero está más claro luego además también hay que reconocer que estamos acostumbrados a html al final y pues queer es que no vale quiero deciros por otra parte que eh en tk inter además de esto que os acabo de enseñar no en lugar de sino además existe la librería ttk bootstrap creo que el año pasado la utilizamos en alguna tutoría que Mola mogollón Vale entonces 019 aporto ttk bootstrap entonces digo eh import ttk bootstrap creo que ya vale Y eh voy a ejecutar sudo eh pip install ttk bootstrap contraseña bien y hay un externally manag vale a ver un momentín dame un segundo esto app install no vamos a ver Linux install python package System wide no e a ver un momento que me d El Comando a ver Vale pues instal ignora install y ttk bootstrap no vale Force reinstall y dale Ay bueno da igual pues ya me lo instalaré vale pero básicamente La idea es esta Y es que aún así se puede mejorar más el cuadro de diálogo Pero lo importante es que en un momento dado podemos crear programas con ttk bootstrap pero a la vez pues creando nosotros lo que html nos da es decir una interfaz de usuario previamente desarrollada vale En esta segunda hora en esta segunda parte de la clase ya hemos trabajado un poco con python y añadiendo un lenguaje descriptivo como es xml y el otro día nos quedamos con el listado de componentes de html de formulario vale tenemos que hacer lo mismo con python ya lo haremos pero hoy quiero también dedicar una parte de la clase a este aquí a este apartado que vemos aquí de asociación de acciones a eventos El otro día Si os acordáis nos quedamos con enlace de componentes a orígenes de datos lo hicimos con un Jason trajimos un montón de nombres con un Jason con lo que hemos visto al principio de la clase de hoy yo queda claro yo creo que queda claro que de la misma forma que el otro día trajimos un jas pues podemos leer a una base de datos Y en cómo te diría yo y en la base de datos a ver momentín aquí vale momentín vale entonces a partir de la base de datos podemos cargar los datos que sea vale enlace componentes orígenes de datos hoy quiero trabajar un rato más con asociación de acciones a eventos de la misma forma que el otro día realizamos un repaso que intentó ser exhaustivo a los componentes de formulario de html vosotros también conocéis Creo que esto no lo hicimos el otro día a ver un momentín porque generación y vale asociación aquí conocéis un par de eventos que yo os he enseñado pero no conocéis otros muchos eventos que tiene ja javascript qué eventos conocéis en javascript qué eventos hemos visto el primero el click esto quiere decir que yo vengo por aquí y digo doc type html y voy a ir al Body directamente y creo un buton y creo un buton ID es igual a bueno sabes que no me hace falta pulsa y ahora creo un Script y digo Let botón es igual a document query selector Button Y entonces aquí viene el misterio botón pun onclick es igual a fun y aquí digo console pun log me ha expulsado esto hasta aquí no debería tener mucho secreto es simplemente el mismo evento on click que hemos utilizado yo creo en más de una ocasión segundo a desarrollo de interfaces generación y asociación y click vale Mirad yo hago así y hago clic y Hola eh bón on click qu selector Button Por qué no funcionas Hola pulsam document query selector Button botón on click Ah on lck vale en lugar de decir cuando te haga click cuando te pulse te he dicho cuando te chupe vale onck no un clic ahora s claro el sistema habrá dicho Bueno pues ya lo chupar tú mismo vale le doy a puls y dice me ha expulsado muy bien Esto pregunto calculo esto ya lo conocíais este evento el evento un clic bien sin embargo Yo vengo por aquí y digo 002 doble clic y pongo botón dbl click Así que yo ahora vengo por aquí me voy a doble clic hago un click y no funciona pero hago doble clic Hola dbl click Ah perdón on dbl click hago doble clic Y entonces me ha expulsado vale de la misma forma 003 clic derecho y digo on context menú recargo botón derecho y me ha expulsado vale solo en botón derecho pero los botones tienen mucho más los botones por ejemplo 004 y Mouse enter y digo on Mouse enter atención cuándo voy a poner has entrado cuando entro has entrado y de la misma forma 005 salida Mouse out entro y no pasa nada pero salgo y dice Has entrado no ha salido Vale entonces qué ocurre Pues que de la misma forma que en primero yo os he enseñado unos controles elementales de formulario pero el otro día vimos que hay muchos más pues con eventos ocurre lo mismo Y es que yo en primero os he enseñado unos eventos básicos pero el objetivo de desarrollo de interfaces es saber que existen muchos más eventos vale hoy en javascript y el próximo día veremos que en python Tec inter también Existen un montón de eventos pero no hemos acabado incluso yo tengo por aquí un evento 006 y movimiento y yo digo boton on Mouse move es igual a function te estás moviendo Así que hago así movimiento atención Mirad y tiki te estás moviendo por dentro del botón y me salgo te dice el número de veces que ha salido el mensaje digamos vale esto qué quiere decir pues esto quiere decir que solo con los eventos que hemos visto podemos hacer un montón de cosas como ahora a continuación Vais a ver mezclándolo con lo que aprendimos la semana pasada Mirad a continuación voy a hacer un 007 programa de pintura para ello voy a hacer un Canvas es decir el mismo Lienzo que en multimedia y ahora vengo y digo con Lienzo es igual a document query selector Lienzo digo Canvas con contexto es igual a Lienzo getcontext 2D Esto es lo que por ejemplo el multimedia hemos utilizado para pintar vale para dibujar cosas pero yo ahora voy a hacer lo siguiente Ah por cierto Lienzo pun with es igual a 512 Lienzo pun H es igual a 512 y eh voy a decir por aquí un pequeño estilo Style donde voy a poner que Canvas es aquí vale Canvas es eh Border un Pixel solid Grey por ejemplo bien Así que recargamos vamos a verlo Vale y tengo ahí no sé si lo veis un Canvas pero ahora a continuación con eventos podemos hacer cosas chulísimas Mirad 008 e evento o bueno sí esto es bueno Lienzo completo vale Y ahora digo Lienzo punto on mous move es igual a function e así le pasa un parámetro e dónde decimos Mirad con Ay qué rabia contexto punto fillrect e punto offset x coma e pun offset y coma 2,2 Por qué 2,2 Porque me lo acabo de inventar y simplemente haciendo eso 009 dibujo simplemente haciendo eso fijaos que por donde yo voy pasando el ratón el programa pinta pero yo puedo mejorar esto más esto es como una especie de Mini Photoshop lo que pasa es que estoy Atrapado vale No puedo soltar el ratón o sea puedo soltarlo Pero vale con lo cual yo ahora 010 botón pulsado yo puedo decir bar caray bar pulsado es igual a false Y entonces digo vamos a ver document.to on Mouse down es igual a function entonces digo pulsado es igual a true document on Mouse app es igual pulsado es igual a false con lo cual si cuando me mueva por el Lienzo si pulsado en ese caso pego eso ejecuto no dibujo pero si pincho dibujo y si no pincho no dibujo y me acabo de hacer un programa de pintura en esas líneas de código vale por eso manejar los eventos en javascript es importante y sobre todo conocer que hay un montón de eventos hay muchísimos más de lo que parece voy a comentar este código y digo de entrada no estoy pulsando el ratón Ahora cuando pulso el botón izquierdo cambio la variable ahora Cuando des pulso cambio la variable Entonces atrapo el Lienzo atrapo el contexto le doy anchura al Lienzo le doy altura al Lienzo y digo cuando mueva el ratón por el Lienzo quita por el Lienzo sigo grabando No se me ha fastidia la grabación y Ok Vale cuando mueva el ratón por el Lienzo si tengo el ratón pulsado en ese caso dibuja en la pantalla y ya está es así de sencillo pero dentro de que es así de sencillo vamos a utilizar el resto de la clase para hacerlo más divertido todavía Así que Mirad eh 011 ahora Cambio el color recordamos que del otro día teníamos un input type color yid bueno sabes que sí y de color y entonces digo bar color es igual a Bueno a Black sabes Y entonces aquí en el contexto aquí en el contexto le digo contexto punto fill Style es igual a color ahora bien sabes que esto no hace falta esto estoy pensando que no hace falta ahora document.get Element by ID color punto on change cuando cambie es igual a function y digo contexto pun fill Style es igual a. value y ya está por eso si ahora a continuación recargo yo por defecto pinto negro Pero si yo selecciono otro color Pues ahora pinto rojo y si yo selecciono otro color pues ahora pinto azul y si yo selecciono otro color pues ahora pinto verde y ya está aleja quien no se hace un Photoshop en javascript es porque no quiere porque fijaos las pocas líneas de código que son voy a poner esto comentario cuando cambie del color el color del contexto es el color de El del input siguiente más cosas que puedo hacer pues puedo cambiar por ejemplo el radio de la brocha Así que 012 radio de la brocha y digo Select y de radio y digo option value 1 y voy a poner por aquí 4 5 6 Ah 7 8 9 10 vale 1 2 3 4 5 6 7 8 9 y 10 1 2 3 4 5 6 7 8 9 y 10 vamos a echarle un vistazo de momento no funciona claro radio de la brocha yo tengo aquí un color y un radio y yo ahora a continuación puedo decir que vamos a ver 03 activar el radio y digo Bar radio es igual a 1 y aquí digo radio y entonces a continuación digo cuando el radio cambie vamos a ver radio es igual a b. valu ejecutamos no sé dónde estoy aquí pinto con el número uno pero yo ahora selecciono seis y dibujo con radio 6 y yo ahora selecciono 10 y dibujo con radio 10 y ahora selecciono dos y dibujo con radio 2s y cojo color rojo y dibujo con radio 10 y dibujo con radio 10 y ya está vale Así que como veis los eventos son muy importantes dentro de javascript porque sirven para más de lo que parece el mismo evento te coge un color te coge un desplegable Te pinta en la pantalla te hace lo que quieras hacer Así que como os digo esta es una primera demostración este ejercicio se podría extender muchísimo más vale pero para no complicarlo mucho más tambén os digo que podemos hacer fácilmente una un pequeño Photoshop vale en el sentido de que Mirad yo ahora por ejemplo a continuación voy a hacer 014 eh pintar y Borrar esto quiere decir que yo ahora Mirad vengo por aquí y digo Button Class herramienta value eh dibujar y dibujar pero yo también lo que voy a hacer es bueno ID vale ID borrar ahora okay Ahora digo bar operación es igual a dibujar Entonces si esto es cierto If operación es igual a dibujar en ese caso contexto fi rect pero en caso contrario els contexto punto atención Clear rect es borrar o sea fillrect es rectángulo relleno clearrect es rectángulo borrador Y entonces ahora digo si eh dibujar es on click en ese caso operación es igual a dibujar pero si operación borrar on click operación es borrar de esta forma me vengo por aquí y digo dibujo dibujo y pinto de color y dibujo dibujo dibujo pero si digo borrar fijaos como estoy borrando no estoy pintando de blanco estoy borrando pero si digo dibujar a dibujar vale o sea Hay un montón de funciones que podemos importar que podemos implementar simplemente con los de ratón pero no hemos acabado Qué va Nos quedan más todavía Vamos a continuar una media horita y ahora 015 y vamos a ver las de teclado con las de teclado Mirad atención voy a borrar todo esto De hecho voy a borrar muchísimo pero muchísimo Vale y atención miradme input type input no hace falta nada input y ahora digo eh bar o const entrada es igual a document punto query selector input y digo entrada punto onpress es igual a function console.log has pulsado una tecla Pero qué tecla vale hago clic aquí pulso una a has pulsado una tecla Pero qué tecla pues 016 qué tecla ahí eh javascrip Mola mucho porque console punto log Pongo aquí una e y Pongo aquí una e lo cual quiere decir que tecla pulso una a y me dice por ejemplo el la Ke e. Ke vale pulso una a y me dice Has pulsado la a pulso una B y me dice Has pulsado la B vale de la misma forma que ocurre con el ratón tengo también los eventos de 017 eh tecla abajo on K down no cuando clico sino cuando pulso hacia dentro vale cuidado con esta porque muchas veces esta no reconoce correctamente en la tecla vale pulso la tecla mira lo he reconocido ha habido suerte vale Pero a veces no mucho más segura es 018 tecla arriba y onk up toco y no pasa nada pero cuando suelto Cuando des pulso es cuando sale una muy interesante que veremos más adelante en este bloque de creación de componentes visuales vale es la siguiente ahora 019 Cambio y digo entrada on change has cambiado vale Mirad Perdona no perdona on Focus vale on Focus pone cambio pero no es cambio Vale cuando hago click me dice Has entrado de la misma forma salido on blur es cuando sales del campo hago clic y no pasa nada hago clic has entrado has salido realmente y ahora sí cambio on change algo ha cambiado recargo atención eh salgo y entro y no pasa nada entro pulso una a y salgo algo ha cambiado no pero Espera a lo mejor viene ahora entro no cambio nada y salgo y se queda igual pero entro pongo una B y salgo y algo ha cambiado Entonces qué ocurre Pues que si os dais cuenta el onchange es una gilipollez porque el onchange lo que hace es que cuando entras se guarda el estado de la variable cuando sales compara el estado de la variable Y si son iguales no te dice nada pero si son diferentes te dice algo ha cambiado te ejecuta el evento eso qu quiere decir Pues que podríamos hacer long change nosotros a mano con Focus y con blur lo cual quiere decir que cuando lleguemos a esa parte de temario en la cual tenemos que crear nuestros propios componentes visuales lo que haremos son cosas así es decir apoyarnos en eventos que ya existen para crear nuevos eventos porque nuestra aplicación así lo requiere vale Para qué sirve esto que estamos haciendo por ejemplo esto nos sirve como te diría yo para hacer máscaras vale eh sabéis que en campo input porque lo vimos el otro día hay una máscara que es la de email vale si un email es un email o no lo es hay otra que es teléfono hay otra que es número pero hay una que no existe que es el Iván el Ivan es el número Este de la cuenta bancaria vale para qué est javascript para crear por ejemplo validaciones como por ejemplo validación de Ivan Vale qué voy a hacer a continuación voy a utilizar una mezcla de eventos con Perdona con este punto del temario de creación de componentes visuales para que entendáis que todo esto que estamos aprendiendo sirve para crear componentes Para nuestras aplicaciones en primer lugar os voy a decir que guardaros bien este ente Porque en cualquier situación de vuestra vida Cuando program aplicaciones empresariales os va a hacer falta un validador de Iván y a continuación os voy a decir que como os podéis imaginar este componente que voy a hacer ahora lo acabaremos metiendo en nuestra aplicación de sistemas de gestión empresarial cuando necesitemos validar un Ivan vale Así que Mirad vengo por aquí y eh le digo 022 validador Iván y digo vamos a ver input Class Ivan vale me lo acabo de crear yo como Class Ian Y entonces ahora digo document query selector all eh voy a hacer de momento query selector Vale y simplemente el selector all lo utilizaremos ahora luego no sé si ahora luego o otro día porque pueden haber varios Campos y van en un formulario yo de momento hoy en plan sencillo voy a simular que supone o sea voy a suponer que existe uno así que const entrada es igual a document qu selector input bien Ahora eh entrada. onk app cada vez que yo pulse una entrada o sea una tecla voy a decir function e y voy a decir e console.log dis value vamos a verlo tiki Vale y vais viendo como lo que yo vooy escribiendo ahí se va formateando unvan tiene la característica de que eh debe tener espacios cada cuatro caracteres es decir si yo meto aquí 1 2 3 4 5 6 7 8 el programa tendría que decirme no Esto vale me lo tiene que Separar en grupos de cuatro okay Así que yo vengo por aquí y digo Separar en grupos de cuatro vale para separar en grupos de cuatro yo a partir de ahí tengo que hacer lo siguiente vamos a ver eh led contenido es igual a b. value OK ahora para cada uno de los elementos podría decir forage sabes eh contenido punto forage os acordáis antes del forage al principio de la clase es eh vamos a ver es contenido letra y console pun log letra vale vamos a verlo y ahí todavía vale uno a Ah ostia no dónde estoy y Ah 024 a ver si ahora vale a tal Ok javascript for pasa aquí Ah perdón vale Oh a ver función y aquí creo que sí vale vamos a verlo claro vale venga no se puede Ok for led I es igual 0 Y es menor que contenido y más vale ahora digo console log contenido de venga vamos a por ello a Ok B Se c Hola perfecto Ahora sí bien Ahora digo 025 comprobamos si cada cuatro caracteres es un espacio entonces digo si y dividido entre 4 es igual a sí lo puedo no anidar vale porque anidar no Mola anda contenido de I es igual a espacio en ese caso console log Ok els console log no Ok bien hago así Ok Mira 1 2 3 4 voy a quitar esto dónde Ah espera no Okay venga un 2 3 4 eh 10 espera si I paro 4 es ig 0 Ah no debería no debería y es igual a cer a ver y perdón And I no es igual a cero vamos a ver ahora uno por qué me lo Ah okay No lo he formulado yo mal vale Okay If sí que tiene que estar anidado contenido de I no es igual a espacio console yon log error vamos a ver 1 2 3 4 le doy al cco error 1 2 3 cu espacio 1 2 3 4 Ah ha dado error vale moment 1 2 3 4 espacio Ah claro claro 1 2 3 4 ahí da error vale Claro bien No pasa nada a ver voy a decirle claro y más vamos a 26 añadimos contador entonces led contador es igual a c Okay contador más y esto es a ver y más ostras y entre 4 Ah y más contador no Au claro es que no es entre cuatro Ahora tiene que haber otra forma a ver si encuentro una forma más fácil a ver qué tontería porque las posiciones es que me apaga el monitor espera las posiciones de los caracteres del Iván led posiciones espacios sí no Claro no lo separa solo no tenemos que hacerlo nosotros Claro no lo hacemos nosotros Pero primero hay que detectar si es correcto o no Claro Vale entonces vamos a ver yo digo 0 1 2 3 4 5 6 7 8 9 a ver espera un momentín voy a ir a Excel voy a ir a Excel porque ahí lo vamos a ver mejor Drive hojas de cálculo Vale entonces 1 2 3 4 5 6 7 8 9 qué tontería porque esto lo puedo hacer aquí vale uno ahí venga va ahora un dos 3 este ah que empieza en cero vamos okay Este 1 dos 3 4 este dos 3 4 este 1 2s 3 4 y Pro vale si la posición del carácter es 4 9 14 o 19 es decir 4 9 14 o 19 creo que hemos dicho ya me acuerdo 4 9 14 19 o sea cuatro caracteres en el medio Okay Entonces ahora vamos a ver Bueno voy a hacer esto If okay vale If contenido de 4 es igual a esto or contenido de 9 es igual a esto or contenido de 14 es igual a esto por contenido de 19 es igual a esto en ese caso console pun log no es correcto el contador sobra esto al final sobra vamos a probarlo y digo 1 2 3 4 Ok 1 2 3 4 error vale Por qué ah añadimos contador Vale qué ocurre console pun log no es correcto le falta un Esto vale 1 dos 1 2 3 4 espacio 1 2 3 4 no es Oh no es correcto Ah a ver Esto es and madre mía que ya a esta hora no veo nada Es correcto els no es correcto voy a machacar esto 1 2 3 4 Dale no es correcto si contenido de cuatro es esto Ah espera Claro en este caso lo que está ocurriendo vale Ok on ch vale vamos a ver 1 2 3 4 1 2 3 4 salgo y me dice no es correcto vale si hago así digo 1 2 3 4 espacio 1 2 3 4 espacio 1 2 3 4 espacio 1 2 3 4 1 2 3 4 salgo y no me dice nada porque es correcto pero sio ejemplo quito este espacio salgo y dice no es correcto vale Insisto que más adelante lo que haremos es formatearlo nosotros o sea cambiarle el cliente al formato pero de momento lo que quiero es simplemente o sea saber si es correcto o no de esta forma ahora en lugar de decir cosas en consola 027 colorear y esto quiere decir que dis Style background es igual a rgb si es correcto es 200,25 55,200 y si es incorrecto y si es incorrecto 25522 o sea rojo clarito vamos a probarlo y digo triqui salgo y me lo pone de color rojo pero si vengo aquí y digo 1 2 3 4 1 2 3 4 1 2 3 4 1 2 3 4 1 2 3 cu salgo y me lo pone de color verde Esta es una validación inicial porque vosotros me diréis a ver sí pero este número no es válido primero porque los dos primeros caracteres tienen que ser letras y segundo porque aquí hay un dígito control que debe ser un recálculo del resto de números de cuenta bancaria Sí lo sé Vale ahora de momento lo que estamos haciendo hoy es un primer digamos una primera validación de un campo Ivan por supuesto pues Vale vamos a ver Ok un momento Vale y Ok Vale entonces vamos a ver entonces ahora a continuación podemos por ejemplo como os digo realizar más validaciones para un rato que tenemos vamos a realizar un par más y ya cerramos la clase vale por ejemplo Mirad Yo quiero comprobar 028 compruebo si los dos primeros caracteres son letras Vale entonces yo le digo si contenido es igual a esto han contenido es igual a esto an contenido es igual a esto han contenido es igual a esto atención y ahora javascript check If carac is letter and not number A ver si tengo una forma fácil de hacerlo Uf bueno va da igual vamos con expresiones regulares no me hace ilusión pero Vale pues digo and contenido de cero no and is letter contenido de cero and is letter contenido de un Así que yo ahora vengo por aquí y digo 1 2 3 4 espacio 1 2 3 4 espacio 1 2 3 cu espacio 1 2 3 4 espacio 1 2 3 4 espacio enter rojo pero si digo es a continuación verde pero si digo e1 rojo pero si digo es verde vale otra cosa que probablemente tendría que hacer si acaso hay una base de datos disponible y que no lo sé es que este código de aquí corresponde si no recuerdo mal a la entidad bancaria con lo cual creo que sí no este de aquí es la oficina esto es entidad esto es oficina claro obtener un listado de todas las oficinas todos los bancos yo creo que será bastante difícil pero yo creo que debe existir un validador de todos los bancos que existen Vale entonces eh vamos a ver un momentín eh de un Iván Necesito saber si existe una base de datos de todas las entidades bancarias existentes para un validador javascript no existe Hala pu ya está siguiente arreglado vale Sí Qué curioso ya sí no seguro o sea a nivel oficial no lo habrá pero seguro que debe haber una base de datos Porque ya te digo los códigos al final o sea bancos no hay tantos en cada país vale Pero bueno Mira fíjate para una validación más exhaustiva iban.com o bank.co o sea sí que se ve que hay O sea no de forma oficial pero sí que se ve que hay empresas que dan ese tipo de servicio vale Así que la idea y una vez más por enlazar con lo que estábamos haciendo en la primera asignatura de la tarde que es el tema de sistemas de gestión empresarial Pues claro de la misma forma que antes cuando hemos realizado un login yo os he dicho no me voy a preocupar de la seguridad por qué Porque de eso nos preocuparemos en acceso a datos Pues de la misma forma cuando estemos ya metidos en harina y tengamos que hacer campos de formulario y nos haga falta un campo de Ivan vosotros diréis pas o sea vosotros veréis que yo diré paso le meto un text y ya le meteremos un validador de Ivan Por qué Porque el desarrollo de un validador de Iván es objeto de la asignatura de desarrollo de interfaces y no de la asignatura de sistemas de gestión empresarial vale por eso veréis que lo que os decía el otro día y esto ocurrirá cada semana más y es que veréis iréis viendo como las asignaturas van convergiendo y al final pues la gran mayoría de asignaturas apoyan a sistemas de gestión empresarial vale Bueno pues poco más por hoy poco más por hoy voy a ir subiendo eh vídeos vídeo el que me queda vale con lo cual pues paro por aquí