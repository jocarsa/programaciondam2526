llegado este momento llegado este punto es cuando ya tenemos que plantearnos el migrar la aplicación que estamos desarrollando a un servidor Y probablemente una vez que hagamos eso Seguiremos desarrollando vale Pero ahora viene la parte de la migración para ello voy a arrancar in escape y vamos a hacer una primera migración vamos a ver dónde estás Ah ostras todo lo que he hecho vale esquema sagrado vale lo que vamos a hacer es esto lo que vamos a hacer es esto en el cual pues tenemos un entorno de desarrollo en el entorno de desarrollo hay una parte Pública que es el proyecto old l tenemos una parte privada que es el proyecto Slate Blue creo no me acuerdoa que te lo digo local Host dan primero no old l es el frontal pero vamos a ver proyecto old l admin vale jarsa creo que era No pues info @sa intento de acceso incorrecto fantástico no sé cómo entrar a mi propia aplicación vamos a verlo Dark Slate Blue Eso sí Ah mira se lo pone ahí arriba vale Dark Slate Blue eso es lo que quería saber muy bien y ahora a continuación lo que quiero es migrar estos proyectos a eh el servidor además hay que tener en cuenta para empezar que son dos proyectos diferentes vale además vamos a verlo Esto es lo que hemos desarrollado css html js php y python para algunas aplicaciones con Dark Slate Blue pasa lo mismo vamos a ver que se puede migrar a través de ftp o se puede migrar a través de github si se migra a través de ftp se puede migrar perfectamente pero el problema está en que a partir de ese momento cualquier modificación que hagamos no estará sincronizada o cualquier modificación que hagamos en el cliente Tendremos que volver a volcarla directamente en el servidor si lo hacemos a través de github podemos trabajar incluso con ramas podemos que esto lo veremos en entornos de desarrollo es decir podemos aquí hacer mejoras en lugar de ir creando versiones incrementales podemos ir creando ramas Y luego podemos implantarlo Así que en claro no eso es lo que vamos a ver efectivamente voy a ponerme más vida porque para esto jeub me va a hacer falta mucha bebda en el cuerpo no es ninguna alcohólica evidentemente es todo refresco momentín vale Así que vamos allá en primer lugar voy a entrar en el proveedor voy a entrar en el proveedor voy a entrar en el proveedor me voy a ir a servidores y voy a formatear el servidor que tengo de hecho antes de formatearlo voy a hacer copia de seguridad no tengo prácticamente nada pero vps ionos s Ok aceptar vale Root home aquí Vale pues por aquí en el escritorio backup servidor ionos s cojo todo esto mira sistemas de gestión empresarial tengo por aquí vale cojo todo esto vale me aseguro de haberme bajado todo no tengo nada de valor porque es un servidor que hasta este momento he utilizado Sí pero no es ya porque sea lento el tema de github tampoco es que vaya a ser especialmente rápido es por un tema de sincronización es por un tema de gestionar correctamente las versiones y poder hacer ramas y lanzar a producción y todo eso que siempre es más controlable que Fil cila un momento no descartemos nunca la vía file cila veis que yo por ejemplo ahora estoy utilizando file cila para descargar Ah módulos de node Oh qué rabia mira que me da rabia node por eso vale Y vamos a ver Mientras tanto si tengo algo en la carpeta bar en html y Ah Uh Sí tengo unas cuantas cosas vale No sé qué tengo pero bueno ahora me voy a crear un directorio W y Blue Violet Ah Blue Violet sí que es un juego que hice para mi hijo vale Okay venga ahí bien pues en primer lugar una vez que he hecho copia de seguridad crimson es la aplicación de segundo pero será una versión muy antigua del 11 de noviembre o sea que vale ahora a continuación voy a solicitar en el servidor Por cierto es un ionos s esto quiere decir que tiene dos núcleos dos gigas de RAM y 80 GB de espacio en disco que en principio Debería ser más que de sobra para lo que quiero meter Pero bueno si hace falta más el día de mañana puedo migrar a otro bien y ahora eh vamos a ver lo que quiero acciones lo que quiero es Reinstalar imagen vale quiero Reinstalar imagen quiero eh ubuntu 2404 los datos de tu ssd se eliminarán irrevocable ente sí Reinstalar imagen vale Okay venga está siendo reinstalado se me da una vale un usuario y una contraseña me los voy a poner por ahí en alguna parte editor vale no me los miréis Aunque me los habéis mirado ya pero bueno igual si no me lo Esto me lo cambio bien y vamos allá Está configurando igual tarda vale No Fran es que eso es lo que vamos a ver sea eso es literalmente lo que vamos a ver o sea ahora mismo tú vas a ver como se me va a montar un servidor vacío y en ese servidor vacío es donde voy a tener que Instalar todo Empezando por Apache y luego le voy a tener que ignar un dominio O sea que ya te digo es lo que vamos a hacer vamos a por ello vamos a por ello Por cierto decirte que el proyecto lo voy a migrar con github Pero hay otros otras muchas aplicaciones dentro del servidor que las voy a hacer con eh con file cila vale o sea que aún así haremos cosas con file fila vamos a ver momento está reinstalando igual tarda Pues no sé 5 o 10 minutos como mucho vamos a ver aparte este servidor que voy a montar va a ser un s servidor en el sentido de que pues va a tener nuestra aplicación va a tener la aplicación de segundo va a tener un montón de aplicaciones sobre las que estoy trabajando o sea que va a ser un servidor bastante completo Sí Au sí no Pero espera un momento tú no tenías un mac pero tenías Intel en el procesador Ah vale Okay vale Sí eso sí si Sí pero te cuento El año pasado tenía como alumna en segundo de smmr a Claudia que empezó con nosotros dam pero luego se lo dejó tenía Esa situación el año pasado yo les enseñaba una asignatura que era sistemas operativos en Red donde trabajamos con ubuntu server pero sin embargo lo que le dije y le funcionó bastante bien Por eso te le digo que lo probé con su ordenador y funcionó bastante bien es instalar ubuntu y ya lo he instaló tanto en server como en escritorio con Intel es decir aunque tu Mac sea un m3 o un M4 instalas UTM y te bajas la máquina virtual de ubuntu para Intel y UTM aunque te bajes la de Intel te la virtualiza y lo que te quiero decir con esto es que además lo hacía bastante bien porque le recomendé a Claudia que se bajara la de Intel porque dije a ver si la O sea a ver si la ISO de ubuntu para RM cambia algún Comando y de ver mis vídeos a lo que haces tú hay una variación y te lías vale por tanto Sí claro pues eso como calculo que no todos los paquetes estarán disponibles todavía para la arquitectura Arm bájate la ISO de ubuntu para Intel y tranquilo que funciona bastante bien Pruébalo Sí ya me dirás sí no la idea es que todo esté probado antes correcto Vale pues nada ya tengo esto por aquí al final pues han sido eso unos 5 minutos por tanto tengo una IP tengo un usuario root tengo una contraseña vamos a por ello me voy a ir a un terminal ya tengo un terminal voy a crear un nuevo dónde estás Uy espera men terminal Vale ahora sí bien ssh Root @ 27.160 28.9 y ya he entrado vale It is possible that someone is doing something Nasty no soy yo Okay Ok no sé por qué dice esto pero soy yo vale hoski Ah vale Ah okay Ok vale bien lo que me dice es que tenía una clave para el Antiguo servidor con esta IP pero la clave ha cambiado vale venga vamos a quitar esto pegar no esto no ostias a ver venga no que va Vale ssh ahora esto de aquí copiar pegar yo creo que habrá que hacer sudo Okay Vale y Okay Muy bien pues Hala otra vez ahora sí Quiero la nueva clave Sí el password es este de aquí no sé si el al final hay un punto Ahora sí vale hago Bueno un Clear no porque quiero ver esto de arriba vale y ok Ya estoy dentro Esta es la carga del sistema he usado un 1,5 de 76 o sea de 80 GB digamos me quedan 76 GB disponibles vale usado 11 por de 2 gb de ram vale perfecto Muy bien pues ahora Clear Y si yo cojo esta IP y la pongo en el navegador lo que voy a ver es que esa IP no existe esa IP no está o sea ese IP existe pero no está dando ningún servicio esto quiere decir que el servidor está completamente vacío está completamente desde cero por tanto yo ahora a continuación lo que tengo que hacer es llevar algún tipo de registro de qué es lo que se hace en el servidor Vale entonces me voy a abrir un editor de textos y voy a decir servidor a las 1720 servidor reinstalado Vale ahora a las sudo app get install apach 2 Así que cojo esto pego quiero continuar y ya tengo apacha instalado muy bien Si ya tengo Apache instalado Eso quiere decir que ahora vuelvo a hacer ping a esta IP y ahora sí me da la configuración correcta para Apache 2 es decir ahora sí ya tengo correctamente un apache instalado dentro de ese equipo pero claro solo Apache vale no funciona realmente todavía el por ejemplo php Así que vamos allá Vamos a continuar ahora a continuación a las sudo app install la appk no hace falta realmente app install php sudo app install php me va a instalar el php 83 ha salido el 84 pero me va a instalar el 83 se instala el 83 Okay venga ya lo tenemos una vez que tenemos esto ahora a continuación Necesito instalar mysql por tanto a las sudo app install mysql gu server voy a hacer un Clear my sql server Quiero un yes vamos a ver Okay Eh voy a hacer un dfh para ver Cuánta memoria me queda libre Eh vale pues en vda 1 Ah espérate Bueno sí bvda 1 y en vale Bueno me queda 77 GB vale sin problema Okay ahora a las un sudo mysql secure installation vale esto ya lo sabéis Así que eh sudo mysql secure installation Yes vamos a ver este es un servidor de producción vale Así que strong dos strong re Anonymous users es un servidor de producción Así que yes dis rot rojo de rot root login remotely es un servidor de producción Así que yes No quiero que nadie se me pueda Conectar a mysql desde otra máquina Solo quiero que esta máquina acepte conexiones locales Así que yes Quiero quitar la base de datos de prueba y el acceso a ella estamos en un servidor de producción Así que yes quieres recargar la tabla de privilegios Yes y ya está Vale es decir las decisiones a partir de este momento van a cambiar un poco con respecto a las decisiones que hemos tomado cuando estábamos en un servidor local ahora estamos en un servidor real y eso quiere decir que en el momento en el que yo publique el servidor hay gente que me lo va a intentar reventar por tanto cuantas menos oportunidades de para que me lo revienten mejor vale Clear bien Voy a entrar a el servidor vale para ello Pues voy a 1733 sudo mysql guu Root p así que sudo bueno voy a copiarlo my sql p vale pongo mi usuario y ya estoy dentro de mysql Así que un momentín voy a usar un poco de chat gpt y ubun mysql set Root password Ok este es vale voy a hacer esto voy a poner pego vale quieto vale voy a poner Ay venga alter Root @ Esto es lo que hicisteis en el examen de primer trimestre localhost identified with mysql native password by y voy a poner una contraseña Me la voy a sacar de la pantalla a ver si esta contraseña que he puesto acepta supera Ok venga perfecto muy bien y ahora flush privileges Ok exit y Clear vale Ok devuelvo esto a la pantalla simplemente vale Ya he puesto una contraseña de root con más fuerza y he salido de mysql muy bien una vez que hecho esto por cierto vamos a apuntarlo 1734 realmente cambio contraseña Root mysql eh a la de la típica voy a poner la típica y así yo me aclaro con ello bien siguiente cuestión ahora una cosa que puedo hacer es instalar php my admin puedo instalar el php my admin que viene por defecto con el sistema vamos a probarlo Así que digo sudo vamos a probarlo si no est estoy a tiempo de echarme atrás 1736 sudo app install php my admin si no nos lo bajamos vale pero voy a probar est esto primero sudo app install php my admin ok a ver php my admin Ok a ver install php my admin admon Sí vale voy a hacer una cosa a las 176 actualización de paquetes vamos a actualizar en este caso lo que estoy haciendo es que me estoy conectando a los repositorios de ubuntu para Descargarme lo último que haya vale esto que estoy descargando son listados eh No es que esté descargando muchos paquetes ahora luego de hecho podemos volver a hacer un dfh para ver Cuánta memoria nos queda pero usaremos memoria evidentemente pero yo creo que nos quedará de sobra para meter las aplicaciones que hay que meter no tengo previsto o sea tengo previsto meter aplicaciones que usan mucho código pero no utilizan mucho multimedia vale por tanto yo creo que con 80 GB de disco en principio está previsto que tenga de sobra y luego si el día de mañana necesitará un servidor más grande pues Oye pues contrato uno más grande y ya está o bien me lo migran en ionos o bien me lo migro yo y ya está como es una máquina virtual cuando hay que hacer eso Generalmente en yonos te dan ese servicio y en cualquier proveedor te dan es servicio automáticamente pero bueno si no lo dirán pues me lo hago yo y no hay ningún problema vamos a ver vale eh vamos a ver a New version ssd Keep the local Sí Por eso te digo por eso te digo que como es un vps técnicamente es una máquina virtual o sea ahora mismo estoy como si estuviera en un virtual Box con lo cual muchas veces para el que administra la máquina virtual yo contrate un plan superior es que coja la máquina virtual le amplíe el Ram le amplíe el disco le amplíe el procesador y reinicie y ya está mientras que si tengo que contratar una máquina virtual Superior y Descargarme todo y volverlo a cargar y configurarlo y tal pues es un rollo vale Pero bueno yo que sé Eso ya depende un poco del proveedor Vale pues Ahora sí ya tengo todo actualizado ya puedo volver son las a php my admin pegar OK ahora sí 85 megas eh cuidado que no es moco de pavo Pero bueno es lo que me da rabia de los softwares estos tan fuertes que sea nosotros nos lo estamos currando para gastar lo menos posible y un php admin te lleva sabes te lleva 80 megas configurar base de datos sí mysql application password un momentín que lo paso a la otra pantalla para poner un password Ok vale un error Ah a tu password no satisface no retry unix Sí vale eh default Ok Okay error imposible Vale pues abort bien como me ha dado aard no tengo ni idea En qué estado se ha quedado así que me voy a PH my admin y no lo encuentra vale perfecto bien pues lo que voy a hacer en este caso va a ser simplemente instalarlo a mano otra cosa que puedo hacer es entrar directamente con línea de comando bien lo que quiero en este caso vamos a ver es lo siguiente me voy a ir a old l vamos a momentín vamos a empezar a descargar a ver Clear esto al final no lo he hecho o sea que fuera esto quieto vale vamos a ver cosas me voy a Fil cila me voy al ionos le pongo la contraseña Ah no la contraseña es esta Ok vale No no espera file cila vps ionos sí Ok vale perfecto Ahora me voy a home en Home voy a subir sql al subir sql me voy a ir a voy a hacer esto voy a hacer esto exporto sql y lo importo dentro del mysql de producción o bien con php my admin o bien en este caso con línea de comando Así que desde mi ordenador local desde mi ordenador local no aquí vale me voy a old l me voy a exportar y me voy a vamos a ver y ya está me voy a exportar me lo exporto en el escritorio Así que ahora en file fila desde el escritorio me voy a old l me subo all days sql y ahora a continuación aquí me voy a CD home ls veo que tengo la carpeta subir sql CD subir sql y veo que tengo all la.sq es decir lo que acabo de hacer es esto lo que acabo de hacer es exportar subir y ahora voy a importar para ello momentín me vengo por aquí me vengo por aquí ub un import sql doom to my sql server OK Sí está corriendo No pasa nada Ok vale Y no esto ya lo tengo Ah sí Ok ready muy bien Ahora sudo mysql u Root p entro no a ver otra vez ahora sí bien Clear quizás no va a ser que no cls Bueno pues da igual vale venga ahora create database old l aquí 1745 create database old l vale exit Y ahora dónde estás aquí esto 46 mysql root en Old l importo old l sql si todo va bien Vamos a ver sí vale en sea panel efectivamente todo está simplificado todo está genial pero no quiero asumir que Vais a tener siempre un c panel lo que quiero es enseñaros a hacerlo bien hacerlo vosotros Así que vengo por aquí pego vale ejecuto pongo password Y si todo va bien y si todo va bien ya está importado si todo va bien ya está importado vamos a comprobarlo Vamos a entrar de nuevo en mysql vale eh use old l he cambiado el database y show tables Y si todo va bien tengo blog bloques categorías bloques productos bloes productos ordenados categorías blog config destacados lo que sea vale siguiente cuestión ya tenemos mysql server ya tenemos la base de datos migrada vamos a asegurar que tenemos acceso para asegurar que tenemos acceso a ver ahora digo Now create user eh vamos a ver old lce user yo que sé 4 with password Dame dam un do 3 and gr all privileges to database old Entonces qué ocurre pues lo que ocurre es que hasta ahora cuando yo estaba en local yo cre base de datos onl usuario onl contraseña onl No pasa nada porque estoy en un servidor de prueba estoy en un servidor de desarrollo pero eso ya no es así Ahora estoy en un servidor de producción vale por lo tanto a las estoy creando create user all l user 4 identified by esto Espera que no lo he hecho pegar Vale ahora Grand all privileges a las FL privileges y ya está y ya puedo decirle exit con esto ya he emigrado la el usuario y la contraseña y he intentado ponerle Pues un usuario y una contraseña que cumplan una serie de requisitos de seguridad Que tengan un número eh de caracteres grande que tenga mayúscula minúscula número carácter especial vale bien una vez que tenemos esto ahora a continuación lo que queremos hacer es eh migrar empezar a migrar las aplicaciones para empezar a migrar las aplicaciones vamos a empezar a hacerlo con file cila para comprobar que las cosas funcionan pero veremos que puede haber problemas Vale ahora a continuación es cuando vamos a empezar a afrontar problemas y a resolverlos esto voy a dejarlo por aquí voy a dejarlo en escritorio instalación esto es log instalación servidor vale bien y de momento si tengo file cila si tengo file cila y tengo ftp de momento sin github me voy a w me voy a html y por ejemplo yo puedo poner por aquí eh qué te iba a decir yo dónde estás Dark Slate Blue vale entro por aquí a continuación me voy a dam me voy a dam Ah aquí Perdón aquí me voy a dam me voy aquí me voy a dam me voy a Primero me voy a lenguajes me voy a tres me voy a proyectos me voy a old l Me cojo el último voy a hacer una cosa creo que hice algunas modificaciones sobre el mío un momento a ver este y admin vale a ver 155 y real en servidor y Esto me lo subo O sea me lo bajo Perdón un momento y Hola vale bajamos los archivos reales del servidor ahí de repente hay 5000 7000 archivos Por qué vamos a verlo hasta ahora subtítulos Ah Uh vale No para para para no para para vale Claro ese es el problema conectar vale No esto voy a separar a ver dam Estaba bajando todas mis aplicaciones y va a ser que no conviene a nadie vale real en servidor fuera y ahora aquí lo que voy a hacer es Dark Slate Blue y en dark que Slate Blue voy a traer el admin Okay todo esto aquí ahora a continuación Yo vengo Ah Sí perdón en fa cda también Yo vengo por aquí me voy al vps acepto me voy a w me voy a Dark Slate Blue y lo subo y al subirlo no va a funcionar bueno casi pero no va a funcionar vamos a verlo vengo por aquí y digo esto de Aquí no aquí php my admin y digo Dark Slate Blue inicio sesión parece que quiera Iniciar sesión pero no va a funcionar me voy a info @ocaadu de datos sin que realmente se pueda conectar porque no tiene el permiso necesario porque el usuario y contraseña que tengo puesto en ese archivo no es el correcto Vale entonces eh otra cosa que quiero tocar es que en Apache en modo producción por defecto lo que hace es que oculta los errores pero yo quiero mostrar los errores para que luego Lo pondré en modo producción vale pero por lo menos ahora lo quiero en modo desarrollo para que cuando un Script me de un error yo pueda ver qu dice el error Así que vamos a ver ubuntu Apache 2 config show errors Así que eh momentín 56 Dark Slate Blue migrado ftp de momento ftp vale sudo Nano 1756 sudano Apache conf es decir edito el archivo de Apache vale Busco la línea no estoy utilizando virtual Host de momento interesante bien y vamos a ver no Ah no que es en php tú no Perdona No esto esto esto control x y esto es lo que quiero Ah versión 8.3 vale esto lo pego es 83 porque es la que tenemos instalada vale y me voy a buscar estas líneas vamos a verlo vamos a ver php ini puedo buscar vale si queréis Busco Porque será más rápido Entonces esto es el Buscar es where is display errors vale display errors on Ok display startup errors on y error reporting e all creo que esto está arriba aquí error reporting e all vale perfecto le doy a escribir le doy a salir Generalmente cuando se modifica un archivo de configuración es bueno hacer una copia de seguridad en este caso lo que he tocado pues no es muy fuerte valeando cuando modifique algún otro archivo de copia de seguridad Pues sí que haré copia Perdón algún archivo de configuración sí que haré copia de seguridad como veis Y esa es un poco la moraleja de lo que estamos haciendo mi comportamiento en un servidor de producción es diferente a mi comportamiento en mi propio servidor local vale Y es que pues cuando estamos en un servidor en producción pues hay que tener más cuidado con ciertas cosas bien pues sudo service apach 2 restart para vale para reiniciar y que se dé cuenta de los cambios y por tanto si ahora recargo Hola a ver venga info @ hocar comom no esto es esto le doy acceder Ah ahora sí bien y me dice vamos a ver qué curioso Wow Qué curioso name or service not known en config php vale voy a abrir un momento el config en otra ventana Más que nada porque igual tieneuna contraseña por ahí perdida vamos a ver así que CD bar cdw CD html CD Dark Slate Blue CD config y ahora voy a hacer pero lo voy a ejecutar en otra ventana sudo Nano config.php un momento Okay Ah claro vale correcto bien entonces en este archivo estaban los datos de conexión del otro servidor con lo cual usuario dadme un segundo dónde estás aquí no Ah aquí esto usuario all l user Oh venga tío en serio no Ah va momentín all lay user vale contraseña esta de aquí okay Y eh base de datos es OK ahora sí que os lo puedo enseñar Así es como se ha quedado el archivo de configuración vamos a guardar vamos a salir y vamos a volver a recargar Así que vuelvo acceder Ok algún otro ayudará vale pero de momento ya tenemos el Dark sl Blue correct migrado a nuestro sistema bien Vamos allá me vo a blog vale Ok Hay cosas por aquí que fallan Ah static Hay cosas por aquí que fallan vale como el static ok No pasa nada bien categorías blog las imágenes fallan No pasa nada pero porque tengo que revincularse Claro por eso pero es que el static está en el Front pero es que incluso la jerarquía de carpetas va a cambiar O sea que por eso te digo que tiene que fallar y no pasa nada y es normal bien Ahora que estamos aquí me doy cuenta de que claro esto teóricamente yo querría que estuviera con la Fuente con la tipografía de uptu con lo cual ya lo he migrado pero ahora a continuación tengo que empezar a hacer modificaciones Vale tengo que empezar a hacer mejoras y aquí es donde vamos a empezar a tener un problema voy a un momentín voy a parar la