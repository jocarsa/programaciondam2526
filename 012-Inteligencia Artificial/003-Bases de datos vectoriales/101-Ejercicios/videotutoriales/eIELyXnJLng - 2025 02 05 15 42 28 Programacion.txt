vale voy a volver a entrar no Okay Vale reuniones aquí vale Voy estando de vuelta ya estoy aquí de vuelta sí El problema es que debo tener algún problema en el Driver porque cuando cómo te diría yo cuando abro el ordenador lo Cierro la pantalla y luego lo vuelvo a abrir luego las probabilidades de cuelgue son mayores en fin Vale pues vamos a ver entonces estábamos con hedit vale Ok estábamos con web Express pug vale me voy a html me voy a node de no de node me voy a Express abro una terminal digo no de servidor vale Y ahora vengo aquí y local Host 3000 Vale y tengo otra vez la web bien tengo inicio Ah Tengo sobre mí Esto es lo que estaba haciendo ahora vale en servidor en sobre mí lo que voy a hacer ahora es decirle título coma sobre mi es coma sobre mi vale con lo cual sobre mí no me lo ha guardado const sobre mí es igual a este es un texto sobre mi y ahora en vistas en sobre m pues me vengo por aquí le digo que h3 sobre mí y pongo p almohadilla y sobre mí Lo cual quiere decir que yo recargo al servidor me voy a sobre mí y dice sobre mí y este es un texto sobre mí vemos por lo tanto como y ahora vamos a seguir viendo no hemos acabado vemos por lo tanto Cómo crear eh contenido con node con Express y con pug a nivel conceptual es un poco complejo porque es que instalas node Y encima estes Express Y encima instalas pug vale son como un stack de tecnologías pero luego a la vez esto como veis una vez instalado nos facilita que podamos crear webs con un impacto mucho menor en el código que tenemos que desarrollar vale pero la cosa no acaba aquí vale quiero más todavía porque eh chat vale No dejs Express pug pass arr to template vale en los templates existen unas pocas sencillas directivas que nos permiten iterar y nos permiten presentar la información como un bucle for para que nos entendamos Vale entonces a continuación aquí por ejemplo en el Index yo lo que quiero es un bucle for es decir en el servidor yo voy a decir const artículos es igual a una Ray de elementos una Ray y luego cada elemento tendrá Pues un título del artículo 1 coma eh texto dos puntos texto del artículo 1 coma no sin coma ahora Aquí hay una coma y pongo 1 2s y TR artículo 2 artículo 3 bien y ahora a continuación en el index.pug en lugar de tener que hacer una cómo te diría yo una un repaso manual de cada uno de los artículos yo lo que puedo hacer es decir lo siguiente vamos a ver un momentín porque aquí Además está poniendo title sin ningún tipo de pudor es decir en lugar de poner la variable est poniendo directamente así vale Pero bueno bien y ahora digo each item vamos a ver aquí vale y le paso los artículos y le paso los artículos Ah en servidor aquí coma artículos Y entonces en el Index le puedo decir aquí por aquí vale each artículo in artículos quito dos artículos me dejo solo uno y una vez que me dejo solo uno a partir de Aquí vamos a verlo voy a hacer una cosa voy a poner un cuarto artículo para que veáis que lo que he hecho es real cuarto y cuarto paro recargo ejecuto y hay cuatro artículos vale hay cuatro artículos porque en el J son hay cuatro elementos bien pues ahora a continuación lo que voy a hacer es simplemente en el Index pug le voy a decir que esto es igual a vamos a ver si OK Pero le item no cierra server and pug set article title and text a ver vale Y aquí esto en el h3 le digo que esto es igual a artículo punto título y en el p le digo que esto es igual a artículo punto texto una vez que hacemos esto Una vez que hacemos esto a continuación paro el servidor bueno no hace falta recargo me voy a inicio y veo que tengo el título del artículo 1 el texto del artículo 1 el título del artículo 2 el texto del artículo 2 el título del artículo 3 vale Y así con cada uno de ellos y ahora evidentemente le pondré un pequeño css para crear un grid y en el grid pues para poner los artículos en forma de cuadrícula vale obviamente como os podéis imaginar ahora me diréis vale Esto está bien pero yo lo que quiero es que eh los artículos no estén en el servidor en un jas allá pal lo seco sino que los artículos deberían estar en algún tipo de contenedor de información es decir por ejemplo en una base de datos sqlite o lo que sea más adelante trabajaremos con una base de datos que se llama mongodb que nos permitirá eh traer artículos directamente en formato json vale Pero hoy de momento para ir poco a poco vamos a trabajar con una base de datos sqlite que conocéis perfectamente para ello me voy a ir a crear una carpeta nueva 013 sqlite para mostraros como gracias a no a nodejs podemos conectarnos a cualquier base de datos sin ningún problema así que no de js Connect to sqlite create database create Table clientes If not exist nombre apellidos email and insert bueno insert Data and Select and show Data vale el ciclo completo de conectarnos crear tabla insertar elementos recuperar elementos bien tengo instalado sqit 3 No lo sé vale por tanto me voy a cd03 npm install es culit 3 y ya está bien y no pasa nada vale Okay bien y ahora vamos a ver cojo todo este bloque de aquí momento y no pero Select vale No quieto no esto no voy a site y 001 prueba js Vale y vamos allá básicamente Me conecto a clientes de B creo clientes si no existen básicamente veis que estoy ejecutando El Comando db.run que es como el execute en otros muchos lenguajes de programación Y a partir de aquí pues tengo una función para insertar que otra vez más ejecuto el Run y tengo una función para mostrar Así que voy a ejecutar esto Clear no de 001 Vale y e no s Table clientes Ah espérate otra vez vale Ahora sí Entonces es que está ejecutando el orden mal vale ha insertado clientes con el ID y a partir de aquí pues lo que va a ocurrir Es que yo puedo crear tantos elementos como haga falta dentro de una base de datos Porque luego los puedo recuperar y cuando digo que luego los puedo recuperar a continuación vamos a hacer la demostración Es que voy a la web la voy a copiar se va a llamar 014 web Express pug sqlite y por tanto en la web Express pug sqlite voy a hacer varias cosas cd04 npm install sq3 bien y ahora fusiono los dos códigos y digo lo siguiente vamos a ver voy a crear voy a abrir div browser que es el editor de bases de datos en site voy a crear una nueva base de datos la base de datos va a estar en no Djs en web Express pug sqlite la voy a llamar web. db vale sencillito voy a crear una tabla llamada blog y dentro de Blog voy a Añadir un campo ID que es un entero primary key autoincremental clave forania no vale Voy a Añadir un campo título voy a Añadir un campo texto y voy a Añadir para el futuro un campo imagen el título es un text el texto es un text la imagen es un texto Así que le doy a aceptar y ahora dentro del Blog voy a insertar un registro vale eh No inserto un registro y digo título primer artículo texto del primer artículo aplico imagen.jpg de momento aplicar guardo cambios es decir guardo la base de datos Y ahora a continuación lo que quiero es que cuando en el servidor cuando en el servidor me conecte lo que quiero es que los artículos carguen directamente desde la base de datos para ello voy a hacer lo siguiente vamos a ver me voy a ese kulite me voy a prueba y empiezo a fusionar código va a ser más sencillo de lo que parece traigo es cite 3 en modo verboso Esto es lo de menos vale traigo S cite 3 ahora a continuación me conecto vamos a ver a continuación me conecto creo una variable deb que es una instancia de la base de datos en el seite y ya está ahora a continuación quiero ejecutar esto y aquí vale Y ahora lo voy a simplificar un momentín vamos a ver lo voy a simplificar vale Y ahora cuando pido los artículos voy a decir esql es Select all from blog db.all db.all es dámelo todo no quiero el If error supongamos que no tengo error no quiero el console log supongamos que no me hace falta Vale y vamos a ver realmente esto no hace falta por qué Porque yo ahora vengo por aquí vamos a ver un momento y ahora vengo por aquí y digo Let artículos es igual a Ray y le digo rows Perdona artículos es igual a Rose es decir sácamelo Okay si esto ha ido bien que igual no lo sé vamos a verlo ahora no de servidor conectado a ese kulite me voy a la página web recargo no sale ninguno bien No pasa nada sobre mí contacto e inicio vale vamos a ver por qué vamos a ver por qué Select all from blog voy a hacer una cosa e vamos a ver voy a decir console.log Rose undefine Oh vale interesante Por qué Select all from blog vale undefine Ok Qué cosas eh A ver sql es esto Espera Espera la base de datos no es clientes es web Ahora sí vale Ok entonces paro ejecuto recargo vale Okay y me dice vamos a ver es una Ray es id1 título primer artículo texto primer artículo imagen jpg Pues no sé por qué no ha cargado porque el array es correcto vamos a ver vale ahora artículos es igual a Rose console.log artículos paro quito recargo ejecuto da cero da nada muy bien vale artículos es igual a esto bueno a ver una cosa que puedo hacer vale es quitar de ahí esto y lo pongo aquí y ya está así que esto es artículos paro el servidor conecto y primer artículo vale Lo cual quiere decir un poco para demostraros que el código puede ser más sencillo de lo que estábamos haciendo antes que este es un código bastante completo vale si yo ahora Vengo al servidor a la al gestor de bases de datos Y ahora creo un nuevo artículo Y esto es segundo artículo Y esto es texto del segundo artículo Y esto es imagen.jpg guardo cambios estoy editando directamente la base de datos me voy al blog y ahora tengo un segundo artículo y no hay ningún problema Por ello vale Así que la idea el mensaje es que gracias a pug podemos formatear contenido y hacer una web como os digo con poco esfuerzo teniendo en cuenta que luego el código propio de la web es el menor posible y esto es insisto como php embebido pues es no de con pug embebido vale es tú haces html pero le metes una serie de directivas donde por ejemplo el H corresponde a un for o a un for como lo quieras llamar Bien voy a meterle un poquito de css vale estilo y Entonces le voy a decir que Main article no Main es display grid claro a ver display grid Okay Vale entonces lo único que pasa bueno es que igual en el Index voy a hacer eh section vale Y ya está se y voy a poner ID eh blog Y entonces le digo Y entonces le digo blog es display grid Vale y ahora eh css grid vamos a meterle pues dos o tres columnas vamos a ver okay Sí Fran es que es literalmente eso o sea pug coge pug es el compilador y el formato entonces pug tiene el formato que es lo mínimo posible y lo que hace luego es que tiene el compilador que lee ese formato y ya te lo traduce al formato html estándar porque al final lo que va a el navegador es html estándar Así que es como que el trabajo pesado aquí esto el trabajo Pesado lo va a hacer el grid perdón el grid el pug vale Aquí vamos a ver claro vamos a esto mejor Okay vale un FR aquí Ok recargo Ahora sí vale Y ahora a continuación pues puedo decir por ejemplo que esto fuera vale que article es text Aline Center A ver es texaline Center Vale Voy a No sé igual meter un par de artículos más y ya está vamos a ver aquí vale se puede duplicar duplicar qué he hecho duplicar Oye puedo varios y duplicar sí super guay vale guardar recargo vale Y ahí tengo los artículos meter por ejemplo una imagen en los artículos pues es algo tan sencillo ahora que tengo un montón de ellos como por ejemplo venir por aquí al index.pug y en el artículo pues le meto un img y le digo src es igual a artículo perdón a artículo imagen me dice que no hay nada vale pero yo ahora a continuación image placeholder vale una imagen como esta o esta me da igual lo que sea vale abro imagen me lo guardo Eh bueno svg no es lo que quería a ver Esto vale es jbg fantástico html node eh web secul public y imagen pun jpg es imagen.jpg lo que yo he puesto creo que sí vale Sí y ahora a continuación vamos a ver que se va a descuadrar Okay pero porque simplemente me falta venir al estilo y decirle article img es with 100% vale Ok y ahora probablemente pues me hará falta decirle que article Box sizing Border Box y padding es igual a 10 píxeles vale algo así para que pues se vean bien se vean bonitas vale Y a partir de ahí o le puedo decir o le puedo decir que en lugar de esto le puedo decir al grid que Gap es 20 píxeles y es mejor todavía Vale ahora sí bien con esto hemos repasado en esta primera parte de la tarde de hoy pues los fundamentos de la creación web con Express con pug un poquito de ese kulite aprovechamos y metemos ese kulite para ver que pues no hay ningún problema con vale con lo que sería pues la web digamos bien y ahora a continuación Bueno voy a hacer una micropausa vale de 5 minutos vo momento al servicio y ahora continuamos y vamos a continuar con no dejs y vamos a ver una cosa muy Guay pero también muy difícil de no de js vale que son los sockets y vamos a ver para qué nos van a servir los sockets tanto en no de js como en el lado del cliente a ver un momentín Eh sí pero no a ver un segund bienn un segundin espera un momentín ahora