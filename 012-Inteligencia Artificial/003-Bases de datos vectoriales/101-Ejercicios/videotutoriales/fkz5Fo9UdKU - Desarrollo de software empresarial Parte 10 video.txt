hay infinidad de cosas que se pueden implementar dentro de un sistema pero voy a implementar vamos a ver voy a implementar aquellas que en principio parecen imprescindibles luego por otra parte también es un buen momento para separar entonces en admin voy a crear un folder voy a poner pss o estilo o lo que sea y luego dentro de css voy a poner una carpeta js porque ahora luego quizás hago algo de javascript así que vengo por aquí saco los estilos me dejó la etiqueta style por si acaso por si lo utilizo para algo así que en css creó un archivo llamado estilo css o sea nada demasiado innovador nada demasiado original no ya sangrar correctamente para este archivo y ahora en el index junto a la etiqueta style de vez en cuando nos vamos quitando elementos y digo el link él es igual a extra el sit y hr es igual a pss estilo css con eso tengo la hoja de estilos pues vinculadas ahora lograremos algo de javascript evidentemente llevamos un poco limpiando el contenido de archivo principal bien pues vamos a ver vamos a buscar se apuntó con barra entregas barra lo que sea admin entro y bueno a la parte que ya trataremos más adelante el que poner aquí en el panel de control en el escritorio del panel de control mejor dicho lo que en un momento dado es muy tratable pero de momento me voy a entregar y dentro de entregas lo primero que veo es que tengo pues 147 entregas tengo el típico problema de paginación tengo el típico problema de que como te diría yo cuando van a ir apareciendo registros y de momento tengo 140 y pico pero más adelante puedo tener miles o decenas de miles pues lo que voy a hacer en este caso lo que voy a hacer ahora es especificar digamos un sistema de paginación de la forma más sencilla posible en vez ahora me voy a ir al archivo principal y voy a crear una serie de condiciones de inicio entonces ahora veremos donde las ponemos en el naming voy a crear un file no perdona voy a crear un folder llamado inc en clubes y dentro de ese inc voy a crear un archivo llamado condiciones inicio punto php entonces lo definís aquí en index voy a incluir cinco condiciones de inicio php y entonces en condiciones de inicio de vino y si no se ha puesto una variable de sesión llamada que evidentemente quería arrancar una etiqueta php para la variable de sesión paginación elementos por página en ese caso la variable de sesión de elementos por página es igual a por ejemplo el momento bien y ahora no se ha definido la variable página en este caso página es igual a 1 o página es igual a cero ahora luego veremos entonces yo ahora a continuación vengo y digo que lo que quiero en este caso es decirle al sistema que cuando realizó un select me vengo por aquí me vengo por aquí me vengo al controlador a ver dónde está descontrolado aquí lo que quiero es que cuando a un selecto me voy a leer son full columnas el front tabla y le digo vamos a dar y los elementos por página voy a poner límite elementos por página límite estos de aquí así que ahora vengo por aquí pero está abierto al recargo y si todo ha ido bien pues veo 20 elementos hasta aquí bien pero lo que voy a hacer ahora es introducir al final del todo del controlador es decir aquí voy a introducir un eco clase paginación el dip y voy a poner una serie de enlaces entonces voy a prender el momento libre realmente no a chávez y voy a ir a fondo awesome icons y voy a buscar en esto vamos a ver qué tenemos en next bueno pues este por ejemplo entonces copio pero y luego vuelvo a pegar y aquí voy a poner left entonces que todo ha ido bien ahora vengo por aquí y al final aparecerán dos flechas ya partir de ahí pues ahora las hago más pequeñas y entonces en el estilo del formulario realmente no es el estilo del formulario voy a poner estilos de las vistas o algo así y entonces voy a poner paginación porque esto es una clase o qué es una clase entonces imaginación es un 640 píxeles es un color ingerido y es un text decoration con eso lo que quiero es quitarle la decoración y hacer los botones más grandes no he hecho mucho caso con 640 píxeles voy a recargar vale ahora sí bien y entonces ahora lo que voy a hacer en este caso es decirle al sistema que quiero la página siguiente yo no sé en qué página estoy pero quiero la página siguiente luego nos ocuparemos este botón por cierto de darle una forma un poco mejor pero de momento nos sirve que esté ahí entonces como decía me voy a el controlador me vengo aquí y digo él es igual a tabla es igual ayer tabla y página es igual a siguiente entonces ahora cojo este h ref con este estrés anterior realmente siempre me confundo siempre que por el primero de la izquierda y luego lo de la derecha entonces y ahora vengo y digo lo siguiente yo digo me voy aquí a index por ejemplo y le puedo decir a ver un segundo es página así y esto es luego sí el set yet página en ese caso me voy a hacer un switch y voy a decir dime qué es página y entonces en el caso de que sea anterior voy a hacer algo y en el caso de que sea siguiente voy a hacer otra cosa entonces si es anterior pues voy a decir sesión página menos si es siguiente voy a decir sesión página más subo de página vale aquí también tengo que decir que tengo que poner voy a poner esto hacia abajo me da un poco de rabia por gastar líneas pero bueno se quiera estas líneas por ser hasta liniers vale entonces voy a decir sí sesión página bueno es mayor que 0 en ese caso puedes bajar pero si es menor o igual que 0 no te dejó bajar decir no te dejo bajar por debajo de cero evidentemente vamos a implementar este parámetro entonces para implementar este parámetro y ahora me voy aquí al controlador y le digo en el selecto estará por aquí arriba martín vivo 2 sep salgo de aquí y le digo session elementos por página multiplicados voy a poner un paréntesis x sesión página y esto lo que va a hacer se ha funcionado bien es que yo vengo por aquí recargo individual estoy viendo de la 21 a la 40 esto ya de entrada no me gusta porque la página por defecto voy a hacer que sea la 0 de la 21 a 6 claro ahora ya ha empezado es decir y ha empezado la paginación y esto de aquí ya no es cierto porque página ya está puesto vale que tenga entonces pincho este botón y me voy de la 1 a la 20 pincho este botón hasta la 40 pincho este botón y vemos como ya tengo un sistema de paginación implementado en el sistema vemos como pues ya a partir de ahí hasta que acaban las páginas evidentemente pues puedo digamos hacer esto otra cosa que puedo hacer pues en un momento dado es implementar una función de volver al principio ir al final es más difícil porque bueno tampoco es mucho más difícil evidentemente porque tengo que implementar un botón de bueno tengo que implementar detectar cuántos registros hay y bueno detectar cuánto registro hay no es algo que sea demasiado difícil pero claro todo depende de silva con el controlador donde el vago pero bueno en definitiva de momento vamos a lo sencillo por el momento y entonces tengo por aquí y digo un botón página anterior no página primera y quiero otro botón de página última me vengo por aquí me voy por aquí y en arrow a ver que tengo bueno este es de la versión pro claro puedo step for war iii fast forward vale pues venga digo fast forward esto no va aquí por cierto esto va aquí y esto aquí entonces fast forward vengo por aquí vale y ahora este evacuar a ver si funciona parece que sí y fast backward así que algo así y vale ya tengo por ahí y entonces le digo al sistema que dentro del switch me gusta mucho los botones la verdad no me gusta mucho la forma que tienen pero bueno no se puede este yo creo que arrow wright este lo como aquí y usted ahora es chevron entonces estés left y este es left entonces vengo por aquí vale esto me gusta un poquito más y ahora lo que voy a hacer es que si la paginación es igual a primera en el case primera pues sesión página es igual a cero entonces yo ahora vengo por aquí me voy aquí el siguiente me voy a día siguiente me voy aquí el siguiente pero si le doy a este botón me va a la primera página así que bueno pues tengo ya un sistema de paginación pues todavía más completo todavía más elaborado bien vamos allá vamos a continuar con más cosas que en un momento dado pues nos pueden resultar interesantes voy a poner algo de javascript porque no he utilizado nada de javascript todavía y realmente quiero utilizarlo así que para ciertas cosas tales como por ejemplo pues poder modificar cosas hecha en línea aparte de poder editar vale sí pero quiero poder editar cosas aquí en línea pues quiero utilizar algo de javascript porque con php pues es difícil por no decir imposible entonces voy a descargar en primer lugar jquery puntocom hotal web y cbm no realmente me lo voy a bajar me lo voy a bajar porque bueno para un software de cierta importancia pues no me conviene vincularlo así que me bajo este me lo guardo vale y de momento el escritorio aquí en administración voy a crear una librería con una carpeta llamada librería vamos a verla y ahora pues dentro de esa carpeta de librería voy a soltar jp bien y entonces ahora por aquí voy a decir que script srf entramos dentro de la carpeta link y cogemos el archivo jquery versión lo que sea y ahora por tanto puedo empezar a programar podría empezar a programar aquí dentro pero bueno para eso puedo hacer un archivo dentro de la carpeta js llamado código punto js entonces dentro de la carpeta js crea un archivo llamado código punto js y lo que voy a hacer ahora es empezar a programar aquí dentro utilizo utiliza jquery con lo cual digo cuando el documento esté preparado voy a hacer una serie de cosas en este caso las cosas que voy a hacer van a estar dentro de esta función web y que sólo se va a ejecutar cuando preparar un consolé punto el ojo la página está lista de momento la página no tarda mucho en cargar pero entonces vengo por aquí saco la consola recargo y me dice la página está lista la primera señal de que lo que estamos haciendo digamos el código que estamos escribiendo se ejecuta para fue la tontería pero no lo es en absoluto así que la página está lista y ahora lo que quiero hacer es decirle al sistema que cuando yo haga doble clic sobre un elemento de tabla pues quiero que ese elemento se vuelva editable vale entonces vamos a ver realmente se le puede decir cuando hago focus pero bueno vamos a ver entonces cuando sobre un tv haga realmente double click jquery doubleclick no tiene un solo clic bvl clic esla entonces voy a ejecutar una función que de momento dirá ser muy verbos o simplemente para ir confirmando que lo que escribo se ejecuta doble clic bien y aquí vemos que no se ejecuta vamos a ver dónde está esto es un tv doble clic debería podría estar ejecutándose pero no se está ejecutando ahorrar pavletic bvl clic correctamente voy a poner clic porque no me cuadra que no funcione o qué nuestro funcionado tampoco un clic lo cual pues me extraña más todavía cuando sobre te de haga clic quiero con solo clic haga clic pues no tiene mucho misterio esto debería estar funcionando esto es un tv entonces cuando sobre usted haga clic en una cosa esto este código luego ya meter al final del todo pero no debería hacer esto no debería ser necesario hacer esto recargo a un clic y vemos que hay algún tipo de problema por qué no sé por qué realmente cuando sobre tv haga clic ejecuta una función que dice con sobre los clic fíjate que he hecho esto millones de veces millones no pero igual miles y no sé por qué está fallando esto cuando sobre el elemento te dé haga clic ejecutó una función que dice con sobre los clic no tiene más voy a hacer una cosa vamos a ver vamos a los básicos cuando sobre bojan clic en y ni siquiera me está haciendo caso en el body perdón cuando el sobre bolt y ahora vale y de alguna forma cuando sobre documento la matriz recargó vale me faltaba recargar con forzada que venga de salgo de click ok ya está funcionando me faltaba a recargar con fuerza entonces lo que voy a hacer es que mis este elemento sobre el cual he hecho clic pues jquery a tribute editaron a la base contenta vale aquí esto es lo que estoy buscando copio pero vamos a probarlo entonces hago clic ah no perdón y esto quería que fuera con bvl ok haga doble clic recargo con fuerza mal pago doble clic ahora sí al momento bueno he tenido que hacer clic dos veces valen y entonces digo cuando sobre este elemento no puedo cambiar tengo que hacer doble clic para que se pueda cambiar vale y ahora lo que voy a hacer es decir cuando sobre este elemento haga cuando salga del elemento quiero function con solo un tono es algo vamos a ver lo recargo con fuerza doble clic hago así hago blur salvo y ahora entonces lo que voy a hacer es decir dis a tribute content editable es igual a folk ya haya acabado editar pues quita el atributo irritable entonces hago así salgo y entonces vale parece que sigue siendo estable content edita gol bueno con en el blog como éxito etc éxito vamos ahora ejes blues técnicamente es flor spears punto atributo logro dale así que bueno haber barra selector digo el selector es igual adif y entonces digo selector punto atributo esto recargo con fuerza cambio salgo y contenta editaba el folk ahora si parece que es lo mismo pero no lo es bien pues ya tengo esto por aquí y ahora lo que quiero es decirle al sistema que quiero que se produzca ese cambio es decir quiero que cuando yo modifiqué algo pues realmente ese algo se modifique eso es un poco de ajax pero antes de modificar el ajax yo lo que necesito es decirle al elemento a que tabla pertenece como se llama la columna y que identificadores entonces para eso primero vamos a cambiar el controlador y con eso tendremos la información suficiente para hacer una petición ajax así que a continuación me voy a el controlador y en ver vamos a ver florit teclas vale pues vengo por aquí y digo class columna que es igual a esto tabla es igual a de momento me concentré clase allí falta una camilla aquí falta una comilla tabla es igual a tabla porque en principio aparece en el controlador identificador es igual a comillas identificador es bueno que como no sé lo que viene después es bueno que nos dejemos un espacio aquí al final porque si no podemos tener sorpresas desagradables al enganchar con lo siguiente por eso este espacio que he puesto allí no es casual es totalmente intencional así que ahora vengo por aquí recargo y digo bueno pues mira esto es columna o sea esto es claro es en altura columna asignatura tabla entregas identificador cero no eso no es cierto no identificador no aparece vale vamos a verlo identificador no aparece pues vale entonces wilde aquí y identificador es igual a nada y entonces dijo sí fila a ver sin nombre columna realmente no está mal es igual a identificador en este caso identificador es igual a valor es decir si la columna es el identificador con el parámetro identificador entonces recargo y tengo identificador es igual a 4 vale me voy aquí un botón derecho inspeccionar identificador es igual a 5 entonces ya tengo la información necesaria para ahora venir por aquí y como yo defiende al sistema que quiero hacer una petición ajax pero a esa petición a jacques le voy a pasar la información correcta para le voy a pasar la información de qué tabla quiero modificar qué elemento quiero modificar y qué identificador quiero modificar vamos a por ello y vamos a hacerlo para ello lo más sencillo voy a utilizar una solución un poquito barreta pero bueno no pasa nada voy a hacer un vídeo de ajax está ahí escondido al final de el archivo y entonces ahora en el código lo que voy a hacer es lo siguiente cuando esto salga voy a hacer lo siguiente valor bar valoro enviar es igual al selector punto texto bar vamos a ver bar tabla es igual al selector punto atributo tabla dar identificador es igual a identificador bar columna es columna y entonces voy a hacer un con solo punto lo que va a ser un poco verbos óperas y nos aseguramos porque todo lo que es tocar la base de datos es peligroso dijo que voy a y poner el valor más valor a enviar en la tabla como en la columna más columna y el identificador y así antes de hacer ninguna petición vamos a asegurarnos si lo que estamos haciendo es correcto recargo y vaciando la caché y vengo por aquí y digo pues mira aquí voy a poner un por ejemplo agua si salgo me voy a la consola y encima voy a poner el valor a sea entradas correcto en la tabla de entregas correcto en la columna asignatura correcto y el identificador 5 vale ahora mi confianza en el código que jove desarrollar pues digamos aumenta porque ya se me puedo conectar a la base de datos y sé que le puedo pedir algo y sé que lo que le estoy pasando el parámetro que estoy pasando es correcto entonces ahora yo vengo por aquí y vivo pues ahora en ese elemento ajax escondido que he puesto lo que quiero hacer es usar una función load las más sencillas de ajax y quiero cargar de inc ajax modifica no existe algo crear php el valor es igual a algo anda tabla es igual a algo and columna es igual algo han identificado es igual a algo por aquí valor a enviar es igual la tabla y columna es igual la columna identificador es igual a identificador y entonces si ya estoy haciendo es el oud s lose va a dar error porque no existe esa asignatura con una agua si me dice que ese archivo no existe ese get no existe ya que se modifica pero ahora a existir así que me vengo aquí me voy a file le digo ajax modifica punto php y en ajax modifica voy a recoger esos valores primero pues incluye dos puntos barra config punto hp y ahora lo que voy a hacer es decirle vamos al controlador voy a copiar alguna consulta está por aquí está aquí y le digo que yo creo que y le dijo update efe tabla set columna es igual a valor creo que era valor controlador no el código era columna vale a los valores perdón valor y entonces wear identificador es igual a identificador en principio ya está tendríamos que dar algún tipo de notificación al usuario de que el cambio se ha hecho pero este archivo realmente es sencillo así que guardo recargo y ahora sí voy a poner aquí una salgo todo parece ok recargo bien no se ha puesto la ok vale vamos a ver qué ocurre pues vamos a verlo yo creo que es correcto pero voy a decir echo consulta y algo estaría haciendo mal aceite recargo aquí le pongo una salvo me voy a ese pequeño elemento ajax aquí presencia identificador es igual a 4 un principio parece correcto pero vamos a verlo en un momento vaya se cuele y confíe no no es tengo que bajar dos carpetas ahí parece que está el problema recargo vale asignaturas berman este cargo todavía no muy bien vamos a verlo voy a ir entrando a la base de datos y así pues vamos viendo qué es lo que ocurre la asignatura con 2 o una misma claro asignatura a cargo claro que son dos es que les estaba metiendo una a un campo que es médico esa es otra cosa que tenemos que comprobar que el campo realmente corresponda con lo que debe corresponder pero vale por lo menos no estaba cometiendo un error como tal sino que lo que estaba ocurriendo es que como yo no estaba el valor que estaba metiendo en ese campo no era legal porque le había dicho que le iba a meter un campo numérico así que vemos por tanto que ya tengo por aquí pues la idea de que puedo modificar no voy a modificar muchas cosas evidentemente pero puedo modificar cosas para modificar cosas en el sentido de que como te diría yo por cierto este drop lo quiero quitar porque es una prueba que yo ya está en el sentido de que puedo actualizar cosas siempre que evidentemente la información que esté metiendo pues sea correcta es decir sea legal