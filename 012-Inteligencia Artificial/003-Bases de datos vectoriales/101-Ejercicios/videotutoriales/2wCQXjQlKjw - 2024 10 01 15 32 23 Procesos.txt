y ahora la cuestión está en que el servidor una vez que vosotros os habéis conectado vale vamos a ver si alguien más se ha conectado y Okay Vale Alguien ha enviado un registro vacío okay No pasa nada ahora de hecho volveré a vaciar el registro para que cada uno os podáis volver a registrar de nuevo yo ahora voy a crear un contenedor de información vale voy a crear un archivo llamado tareas.txt hoy Insisto que la demostración va a ser muy ligera porque esto de comunicación en Red es algo realmente complejo y una vez que he creado estas tareas voy a poner por ejemplo voy a abrir las tareas voy a poner aquí a a b f db e e e f g gg hhhh I I J JJ K k vale Estos son tareas de muestra inventada son letras ahora mismo lo que quiero que veáis es que el sistema una vez que os conecté cada uno de vosotros lo que va a hacer es una tarea de esta lista quitarla de la lista evidentemente y a continuación enviarla a esa persona concreta de tal forma que la primera persona que se conecte se va a llevar a a la segunda persona que se conecte se va a llevar bbbbb la tercera persona que se conecte se va a llevar cccc y de esta forma el sistema va a distribuir tareas a lo largo de aquellas personas que estéis conectadas vale para ello vamos ahora a hacer lo siguiente ahora voy a crear un archivo nuevo llamado 004 html bien y Eh bueno cojo el tres y Le copio el código y lo pego porque este código va a volver y ahora eh Pues aquí en el 003 voy a crear el 004 php imaginada para que vayan juntitos como ya podéis imaginar Vale y ahora voy a hacer lo siguiente vale en el 04 voy a decir que eh aquí necesito chat gpt y digo eh php get First Line of file and echo and remove from eh file y en remove that Line from F Vale entonces vamos a esto read the file vale Okay Esto es lo que quiero venga muy bien así que vengo por aquí me voy aquí esto es el 004 php y digo el archivo es el tareas php lo leemos comprobamos si tiene líneas vale que en este caso las tiene con lo cual me voy a cargar esto Y esto es y aquí vale intento hacer el php lo más sencillo que pueda que Manía con que tiene como una tabulación gigantesca bien ok perfecto voy a probar primero yo si funciona antes de pasarlo a vosotros voy a ir a Bueno aquí a 004 php cuando lo 04 gu php no funciona por qué me he cargado algún no me Ah sí esto sobra Ok venga recargo es Sí esta página no funciona 004 php Vale ahora no dice nada vamos a ver el archivo Ay qué rabia vamos a ver el archivo tareas se lo ha cargado todo vale No vamos a ver lo ha cargado todo y además A bbp dd e f g hh JJ kk vale no entonces e vamos a ver 004 esto debería eco the First Line and remove only that First Line on the file implode vale Bueno vamos a ver ahora Ok lo pegamos guardamos voy al archivo 04 y me dice a Y si yo ahora me voy a tareas txt vamos a verlo me voy a tareas txt a no existe recgo si ahora recargo me dice bbb y si ahora cierro y vuelvo a abrir tareas bbb no existe porque se va directamente a ccc vale Esta es una metodología de pila digamos el sistema lo que va a haciendo es que va repartiendo tareas según van apareciendo en el archivo bien pues ahora a continuación lo que voy a hacer Es que desde 004 html voy a decir 004 PH p y usuario es igual a esto punto then func response y voy a decir response txt response pun text Más que nada porque no estoy formateando un js estoy formateando una respuesta en texto punto den function datos y digo console.log que sepas que te llevas la tarea coma datos. datata si yo ahora a continuación ejecuto Esto vale Mirad yo me voy a 004 html ahora os Lo pongo aquí en la pantalla yo pongo José Vicente le doy a enter Au cannot read properties of undefined Vale pues voy a poner datos momentín datos venga datos Ok venga pongo José Vicente le doy a enter que sepas que te llevas la tarea undefine imposible Por qué undefine datos función datos response text función datos 004 php ecolines vale esto no lo me hace falta y vamos a ver pues esto es 004 e enter que te iba esta tarea undefine function datos voy a decir J son vale is not valid J son pero por qué por qué A ver 004 php es el correcto yo estoy llamando 004 php la respuesta me la debería dar en texto Espera Ya console pun log datos Ok guardar aho así undefine imposible vamos a ver Is there an error es que no debe haber un error Qué dice in the First block is not returning Ah r return vale es cierto venga ahora console log te ha tocado la tarea después de las veces que he ejecutado esto igual Ya no quedan tareas vale me voy a e te ha tocado la tarea undefine todavía no datos Ok y vale te ha tocado la tarea hhh esto es que ya os digo que me lo he cargado entonces me voy a abrir de nuevo las tareas porque me he quedado sin tareas y entonces digo a bbb ccc bbd e f gjg hhh y ya vale voy a guardar ahora todos a partir de este momento todos a partir de este momento entráis en esta ruta que os voy a dar es esta ruta de aquí vale entráis en esa ruta sacáis la consola y yo por ejemplo voy poniendo pongo José Vicente le doy a enter y me ha tocado la tarea bbb eso quiere decir que alguien se ha quedado la AAA Así que ahora continuación en el chat decidme Quién se ha quedado cada tarea y vamos a comprobar que a cada uno nos ha tocado una tarea diferente Así que contadme Albert tiene la a yo tengo la B quién tiene la c Borja tiene la e luego alguien se ha quedado la c en el medio no puedo saberlo pero ahora Lo voy a saber dragos la f vale alguien se ha quedado la tarea c ahora mismo no lo estoy registrando No pasa nada Ahora lo voy a registrar Vale y nada y ya está Y empezamos a comprobar como nos estamos conectando a un mismo sistema a un servidor centralizado y ese servidor centralizado ojo a ver hoy imaginaos no he hecho un archivo to cutre de tareas.txt como podéis imaginar esto más adelante no va a ser un txt va a ser una sql con gestión de la concurrencia Vale y todo eso pero hoy de momento no siguiente cuestión a Blanca la B Vale pues ya os digo Alguien se ha quedado la c pero no pasa nada Ahora voy a registrar bien hay tareas por ahí todavía por asignar no pasa nada ok la k y la J en la consola vacía igual es que ha descargado alguna versión anterior del ejercicio vale control mayúsculas r bueno Y ahora te tocará la k O sea la J o la k porque ahora ya el sistema reparte la tarea que tiene Vale ahora a continuación vamos a repetir el ejercicio pero Vale ahora no entréis ahora a esta URL ahora voy a volver a restaurar esto aa bbb ccc ddd e ff g gg g h y jk vale bien guardo No entréis ahora todavía no entréis ahora todavía porque voy a hacer el archivo Eh html Al cual le voy a copiar el contenido del Okay no lo he abierto vale bien Ahora sí 004 php and usuario es igual a má dis Val no encodeuri dis value vale Y esto es el 5 bien y ahora en el 4 php cojo el código me voy a crear el archivo 005 php y clic y pego Vale y ahora a continuación digo dónde estás aquí digo y Esto vale Y esto y entonces digo esto es F y digo asignaciones el da no hace falta porque seguro que no va a fallar y el texto es al usuario Dollar get usuario le ha tocado la tarea y la tarea es ec Lin 0 voy a decir vamos a ver tarea es igual a Lines de Cero y entonces hago tarea te ha tocado la tarea vale Ok Ok lo quiero en modo append vale Y guardo y vamos a probar Mirad pruebo primero yo para comprobar que todo va bien A la primera o no Y ahora os aviso y os metéis vosotros si todo va bien A ver que nadie me haya quitado ninguna tarea todavía vale tareas Okay las tenemos todas bien si todo va bien ahora os paso la URL yo me vengo aquí y digo Soy José Vicente le doy a enter vaya te ha tocado la B alguien me ha quitado mi tarea Vale entonces Ahora vengo por aquí me voy a tareas y veo que directamente está la c pero me voy a recargar me voy a asignaciones y veo que Albert tío te he pillado digo primero lo pruebo yo pues no primero no lo pruebo yo primero lo ha Prado Albert con lo cual Albert le ha tocado la tarea AAA a José Vicente le ha tocado la tarea bbb ya podéis todos los demás probar os lo paso por aquí por el chat la ruta es esa es la misma pero con un número más Vale y voy abriendo las asignaciones de tareas voy abriendo las asignaciones de tareas y veo que a Borja le ha tocado la c a José Manuel le ha tocado la d a Blanca le ha tocado la e a dragos le ha tocado la F y yo de esa forma desde el servidor puedo llevar un control acerca de qué usuario en este caso está haciendo qué tarea vosotros por tanto lo que haréis es eh adquirir una tarea ahora mismo vuestra tarea es bbb O sea no es nada literalmente es una demostración y vosotros una vez que adiris una tarea tendréis que computar la tarea y devolveré al servidor la tarea una vez computada Es decir cada uno de vuestros ordenadores está haciendo el papel de un hilo de ejecución la diferencia es que en lugar de estar todos vosotros dentro de mi propio ordenador estáis cada uno en una ubicación geográfica independientemente de lo lejos que estéis vale hoy como ya os digo es una demostración de cómo nos podemos conectar en una red y Cómo podemos adquirir tareas de forma colaborativa de tal forma que se crea lo que se llama un pool de tareas es decir una piscina de tareas y cada uno que va coge una sola tarea de tal forma que cada uno tiene una tarea única y donde es ahora de momento es bpb pues más adelante será un trozo de código o algún algoritmo de cálculo o algún pack de datos que tendréis que calcular Y a partir de ahí pues que eso lo haremos ahora luego en la siguiente hora de la clase Y a partir de ahí tendréis que calcular y lo tendréis que devolver al servidor no Albert qué Va qué me estás contando una aplicación de ticketing es mucho más sencillo que esto O sea porque a ver una aplicación de ticketing bueno si hay una serie de tickets Pues luego x personas de soporte técnico se pueden Conectar a esta aplicación y a cada una se le asigna una tarea diferente desde ese punto de vista sí pero ahora luego en la siguiente parte de la clase verás que lo que os voy a enviar no es AAA O bbb sino que os voy a enviar un array de datos y con el array de datos Vais a hacer unos cálculos y me vais a devolver cálculos quiero decir que una aplicación de ticketing es más una aplicación que utilizan personas humanas esto que estoy haciendo no está pensado para que lo utilicen personas humanas está pensado para que para conectar diferentes ordenadores entre sí Y una vez conectados que el ordenador chino Chano a su rollo y si intervención humana vaya calculando y yo En definitiva pues imaginaos hoy estáis aquí pues somos seis vale con lo cual yo podría utilizar La potencia de seis ordenadores pero si hubiera 600 personas conectadas ahora mismo Pues yo podría hacer una aplicación que utilizara la potencia de 600 ordenadores eso es un poco el objetivo que estamos buscando con este si renders es una de las aplicaciones efectivamente ahora luego lo que haremos es un cálculo de arise pero el mundo del render es eh es un mundo típico eh renders 3D o renders de After effects o renders de edición de vídeo donde al final Pues hay un montón de cosas que calcular y pues en el mundo del render existe por ejemplo el concepto de granja de render donde una granja de render el hombre es un poco ridículo porque la gente piensa que hay pollos y gallinas y todo eso pero eh la granja de render es un montón de ordenadores conectados en Red donde a cada ordenador se le asigna una tarea la computa la devuelve al ordenador principal y entre toda esa red de ordenadores hacen Eh un render completo Vale pues esto sería como una granja de render pero a través de internet sin necesidad de que los ordenadores como estáis viendo estén en la misma red local vale Bueno pues vamos a finalizar por ahora este bloque de la clase con lo cual eh