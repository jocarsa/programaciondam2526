bien en la clase de hoy eh Bueno teniendo en cuenta lo que os comenté ayer que en principio los exámenes están detenidos esta nueva orden Eh quiero aprovechar en estas horas de programación esta semana de programación para hacer un poco un repaso una revuelta y reenv a javascript porque al final javascript es una parte vosotros diréis pero estamos en programación vale Y yo os diré sí Bueno pero es que javascript es una parte del de Mario un poco especial porque javascript tiene una pata en lenguajes de programación Perdón en lenguajes de marcas y otra pata en programación Vale entonces vamos a ver qué es lo que tiene de especial Qué es lo que tiene de particular javascript Y así pues trabajamos un poco sobre ello y veréis que javascript correctamente enfocado es más fácil de lo que parece javascript tiene una parte que podríamos denominar Core vale una parte nuclear aquí y aquí bueno Esto lo puedo hacer más grande y esta parte la voy a denominar Core la parte Core de javascript Core obviamente quiere decir núcleo es todo aquello de javascript que tiene que ver con el núcleo del lenguaje de programación la buena noticia es que técnicamente vosotros ya conocéis en gran medida esta parte no en javascript pero sí en python Así que yo vengo por aquí y os digo Bueno pues qué cosas tenemos en javascript Pues en javascript tenemos variables en javascript tenemos no bueno no solo entradas ahora hablaremos de ello pero tenemos salidas console punto log por ejemplo Eso es parte del Core de javascript en javascript tenemos estructuras de datos vale como los arris lo que en python son listas en javascript tenemos estructuras de control el If el While el for vale el todo esto el switch eh estructuras de control en javascript vale momentín que haga esto más grande en javascript tenemos funciones vale en javascript tenemos funciones en javascript tenemos programación orientada a objetos y en javascript tenemos librerías vale por tanto hasta este punto hay unas cuantas cosas más Pero estos son los bloques constructivos principales e iniciales no solo de javascript sino de cualquier lenguaje de programación entonces básicamente eh javascript A este nivel es igual que python y es igual que cualquier otro lenguaje de programación pero esta es la parte que os Lía V Esta no es la parte que hace que veáis a javascript como un lenguaje extraño la parte que hace que veáis a javascript como un lenguaje extraño es una segunda parte que va adherida a la primera vamos una parte no se entiende sin la otra que es la parte de modificación del dom Vale ahora voy a hacer un repaso de Qué quiere decir el dom no no Fran eso es justo lo que quio decir vale en esta parte de arriba en el Core no se contempla la interacción con la web porque es la parte nuclear vale es javascript como lenguaje de programación Stand Alone es decir como lenguaje de programación completamente suelto vale completamente independiente ahora lo que tiene de particular javascript y ahora claro no el núcleo es literalmente no solo igual que python sino igual que cualquier otro lenguaje de programación cualquier lenguaje de programación moderno eh extendido común vale tiene esto que estamos viendo aquí ahora luego cada uno de los lenguajes de programación tiene sus particularidades y la particularidad de javascript lo que hace que javascript os Lie es esto de aquí es el acceso la modificación al document object model pero hoy voy a empezar a repasar sobre todo esta parte porque esta de arriba es que si os la empiez a contar otra vez os vais a aburrir porque que ya lo sé si ya vamos trabajando en esto en python Sí vale pero ya vamos trabajando en esto desde principio Lo raro es esto vale Lo raro y ahora explicaré que no es tan raro pero visto desde fuera sé que puede parecer raro con el dom podemos crear con el dom podemos modificar con el dom podemos eliminar y con el dom podemos Acceder al estilo además con el dom hay otra serie de cosas que podemos hacer tales como por ejemplo peticiones asincrónicas vale Ajax o lo que conocemos actualmente como fetch voy a quitar estas dos cosas vale pero hay unas cuantas cosas más entonces qué es exactamente el dom quiere decir document object model lo cual quiere decir que por una parte tenemos un documento un lenguaje de programación no es un documento pero un archivo html sí que es un documento vale por tanto cuando ahí aparece la palabra documento lo que está apareciendo es cómo se relaciona javascript con html como un lenguaje de programación nuclear como javascript es capaz de Acceder al document es capaz de Acceder al documento y trabajar con ese documento object hace referencia a que técnicamente cada elemento del documento se consider como un objeto cuando digo objeto quiero decir como objeto de programación orientada a objetos en ese sentido vale porque realmente lo es ahora veremos y el modelo hace referencia al modelo conceptual con el que vamos a trabajar En definitiva para entendernos porque diréis vale esto es bito pero es que es muy lioso vale esto es javascript accede a html para que lo pongamos en castellano y lo pongamos claramente vale esta segunda parte ASUME que conocemos y que tenemos cierta fluidez con estos conceptos No ya con la sintaxis me da igual la sintaxis dejar la sintaxis ahora veréis que la sintaxis se resuelve sola vale javascript No es Exactamente igual que python pero es muy parecido al final con lo cual la sintaxis no me importa el concepto con lo cual aquí lo que voy a hacer es poder trabajar y poder editar con el dom Vale Voy a realizar una serie de demostraciones para ello me voy a abrir hedit a ver esto es de segundo y dam primero voy a ir a lenguajes de marcas a la carpeta de lenguajes de marcas aunque estamos en programación vale me voy a manipulación de documentos web lenguajes de Script de cliente aquí es donde hicimos una primera introducción vale Ok bien seleccion acceso a elementos aquí empezamos continuamos est esta vale Y perdón esta introducción eliminar y manipulación de estilos Vale y proyectos Vale pues vamos a hacer aquí un segundo proyecto un momento que saque un momentín que cierre aquí cosas que ya no me sirven saco una carpeta vale la carpeta me voy a html no me voy a dam me voy a Primero me voy a lenguajes me voy a tres me voy a proyectos esto es introducción vale Y quiero hacer ahora 002 repaso una serie de ejercicios No creo que lleguen a ser muy pretenciosos vale muy ambiciosos en cuanto a la extensión pero sí en cuanto a intentar aclararos Cuál es el concepto de El dom de javascript voy a hacer un archivo nuevo 001 voy a poner js puro html de momento con javascript puro lo que voy a hacer es crear un documento doc type html Head Body y dentro del Body voy a poner un h1 esto es html puro y una opción aquí abajo voy a meter una etiqueta Script y voy a poner un comentario que es esto es javascript puro y ya está es decir lo ejecuto de hecho Mira sabes queé Voy a hacer una salida console log esto es javascript puro vale que es la salida a consola Así que ejecuto entonces me voy a local Host me voy a e no me voy a local Host me voy a dam me voy a eh Primero me voy a lenguajes me voy a tres me voy a proyectos me voy a repaso me voy a javascript puro vale Y qué ocurre Pues que en esta misma ventana tengo a la izquierda html puro y a la derecha javascript puro vale Y ya está o sea esta es la demostración de html puro y javascript puro Pero esto es muy aburrido Porque si yo tengo un lenguaje de programación integrado embebido en un navegador web y en un archivo html pues no es para que cada uno vaya por separado sino para que al final actúen en conjunto vale para que al final pues html ponga la interfaz de usuario es decir html ponga lo visual vale lo visible y javascript maneje los hilos en por la parte de detrás vale un momentín que se me está clavando Ay venga se me está clavando los auriculares en la cabeza entonces una servilleta vale perfecto bien entonces esta segunda parte de javascript est esta parte del dom trata de eso vale entonces lo primero que hay que entender eso es que eso que es está liando eso de no acabo de pillarle el rollo a javascript eso del es para Esto vale todo esto que vamos aquí a ver aquí es porque hasta este punto el Core pues es un lenguaje de programación que funciona a su rollo y funciona digamos prácticamente en la consola pero necesito esta segunda parte para que javascript pueda interactuar con html de esta forma ahora a continuación y ahora voy a venir por aquí y digo eh primero vamos a leer pun html y entonces para leer vale fijaos que de aquí lo que quiero es modificar vale para modificar primero tenemos que leer si queréis voy a poner esto aquí y entonces pongo esto aquí y pongo leer Más que nada porque si lo pongo veréis que básicamente en estos cuatro primeros nodos he puesto crud vale he puesto crear read leer eh update modificar delete eliminar vale con lo cual una parte gran parte de lo que voy a hacer con Ajax es un crud Perdona con Ajax no con javascript es un crud con respecto a html Vale entonces vamos a leer voy a decir que claro para leer yo tengo realmente Fran es eso vale es más que lo hace funcionar el dom lo presenta vale el dom hace que el usuario humano pueda interactuar con ese programa vale con el Core es donde realmente se producen los cálculos y con el dom es donde realmente la gente puede ver ese programa en funcionamiento vale aquí hay un concepto inicial que es el concepto de primero voy a crear un archivo aparte concepto de selector el selector es que si yo quiero que javascript recca este bl de aquí primero tendré que seleccionar Vale entonces una forma muy comn y recomendada de seleccionar desde javascript html consiste en poner document pun que quiere decir sobre el documento voy a hacer algo document query selector quiero seleccionar algo en este caso como si javascript fuera css vale porque la sintaxis es muy parecida por no decir la misma jquery Perdón query selector h1 esto qué quiere decir pues esto quiere decir un momento que voy a hacer esto más grande para que lo veáis ahora preferencias tipografías luego igual lo haré más pequeño vale esto quiere decir que del documento selecciono aquel elemento que tenga la etiqueta h1 es decir selecciono el elemento que tenga la etiqueta h1 si queréis digo voy a ser muy verboso bar eh título ahora digo título es igual a document query selector h1 y voy a poner comentarios esto es un mensaje en consola vale creo una variable Ya sabéis que en javascript así como en python por ejemplo se escribe directamente título ya está punto vale pero aquí en javascript hace falta poner un declarador un definidor que puede ser la palabra bar la palabra Let o la palabra const pero de momento para no liar para no marear vamos a poner bar ya más adelante hablaremos de Led y de const en su momento les expliqué pero hace tiempo vale con lo cual haremos un repaso pero de momento ponemos bar y ahora digo selecciono el elemento que tiene la etiqueta tiene el tag h1 vale una vez que lo he seleccionado es decir ahora con esto que acabo de hacer acabo de poner en comunicación javascript con html ahora qué quiero hacer ahora Quiero crear quiero modificar quiero eliminar o Quiero leer Bueno pues puedo hacer lo que me dé la gana vale puedo hacer todo esto así que vamos a comprobarlo en primer lugar ahora voy a leer 004 primero voy a leer y para leer yo puedo decir por ejemplo eh bar contenido es igual a título text content es decir Leo el texto que hay en esa etiqueta y ahora vamos a demostrar que esto que he hecho es cierto así que console.log en el h1 hay coma contenido vale el console pun log es literalmente lo mismo que el print en python lo que me permite es imprimir algo en consola imprimo algo en consola lo probamos recargamos voy a maximizar esto primero voy a leer y dice en el h1 hay esto es html puro esto es html puro vale primer paso con esto lo que hemos conseguido es leer es decir pasar el contenido de aquí a aquí pasar leer contenido de html dentro de javascript eso muchas veces nos va a ser de mucha utilidad ahora a continuación voy a hacer lo contrario ahora voy a escribir así que a continuación 005 ahora escribo en este caso en contenido lo que voy a hacer a continuación es decirle título text content Perdón es igual a Hola si yo Hola con esto y esto ya no hace falta que lo imprima si yo llamo a text content Perdón esto no hace falta si yo llamo a text content Estoy leyendo La variable título nos ha servido para seleccionar el h1 para decir le vamos a hacer algo al h1 vale o sea lo que hace es colocar el título colocar la llamada a h1 ahí en esa variable en ese declarador Si en lugar de poner text content le igualo a algo lo que estoy haciendo es escribir modificar realmente las dos cosas a la vez vamos a recargarlo ahora escribo y ahí pone Hola Por qué Pues porque en javascript ponía Hola pero yo le he dicho no en javascript pone Hola y en html tu contenido es Hola Es decir Quítame esto y Pon Hola esto quiere decir que javascript está siendo capaz de escribir dentro de html javascript también puede modificar es decir modificar me llamo José Vicente Y entonces digo contenido bar contenido es igual a título pun text content y entonces digo Vale pues contenido es igual a contenido más carratalá Sánchez es decir contenido es igual a lo que valía contenido más esto de aquí vale operador encadenamiento encadenó texto y ahora título punto text content es igual a contenido y ahora actualizo el contenido en html recargo modifico me llamo José Vicente es lo que ponía originalmente y ahora pone además de esto carratala sanchis es decir lo leo Pero además lo puedo ampliar Y por último no es muy frecuente pero de vez en cuando nos puede venir bien vale hemos leído hemos escrito hemos modificado pues vamos a acabar eliminando Así que 007 eliminar Vale entonces simplemente deciros que si he seleccionado que título es igual a document query selector h1 pues le digo título punto remove y ya está Vale y elimino el elemento eliminar ya os digo que no se utiliza mucho pero de ve en cuando viene bien saber que está ahí vale me voy a eliminar y no hay nada vale No hay nada en el body no hay nada vale veis que en el body teóricamente debería haber un h1 pero ya no hay un h1 porque en javascript le he dicho remove vale con esto por tanto eh tenemos un primer acercamiento para entender Qué es esa parte oscura de javascript que parece que se nos escapa vale que parece que se nos evita Vale pues javascript nos va a servir para acceder a la información a la hora de modificar solo se puede Añadir información no en absoluto a de modificar se puede hacer lo que se quiera se puede Añadir información Se puede reemplazar información Se puede buscar información Se puede ya te digo se puede hacer un montón de cosas vale se puede hacer una barbaridad de cosas otra cosa que quiero hacer otra cosa que quiero hacer es eh crear nuevos elementos vale yo he escrito pero he escrito sobre un selector que ya existía vale es decir primero ha tenido que existir un selector en html para que yo entonces pueda operar sobre ese selector vale lo que os he explicado hasta ahora es sencillo lo que os voy a explicar ahora no es tan sencillo vale pero tranquilos que ahora volveremos a cosas sencillas simplemente os enseño una cosa más vale Y ahora volvemos a cosas sencillas 008 crear nuevo elemento vale eh yo ahora continuación quito todo esto Vale y digo led o Perdón bar Ya hablaremos de Qué es led eh bar mm apellidos es igual a document create Element es decir creo un nuevo elemento de tipo h2 tenía un h1 vale el h1 se queda no lo quito Pero ahora Yo además Quiero crear un elemento h2 se crea un h2 en la memoria quiere decir que este h2 ahora mismo no está todavía en el documento está en la memoria del navegador a continuación digo apellidos es igual a carratalá Sánchez le pongo contenido Perdona apellidos text content esto y le pongo contenido al título h2 ahora document query selector Body selecciono el cuerpo voy a crear una variable para hacer el documento para hacer el código muy verboso vale bar cuerpo es igual a document selector Body o sea Body vale Body selecciono el cuerpo de html y digo cuerpo pun appen Child Esto es lo difícil vale appen Child apellidos vale Este ejemplo es difícil no lo vamos a usar hoy simplemente quiero que sepáis que existe al Body le añado un h2 con esto qué ha ocurrido esto es difícil al principio de entender porque son cuatro líneas para hacer una sola cosa pero creo un elemento h2 le pongo texto al h2 selecciono el cuerpo y al cuerpo Le añado los apellidos vale Así que vamos a verlo vamos a ejecutarlo vamos a ver qué aspecto tiene esto recargo creo nuevo elemento y veo que me llamo José Vicente aparece carrat las sanchis veo que en el código html hay un h1 Pero además al final del todo hay un h2 Y si hay un h2 no estaba originalmente en el código html pero lo hemos añadido con javascript por tanto En definitiva qué es lo que podemos hacer con esta parte de javascript del dom lo que podemos hacer es Modificar el dom vale podemos editar la interfaz de usuario podemos hacer que javascript intercepte el documento html y juegue con este documento html luego aparte hay otra parte de javascript que bueno se usa de vez en cuando que es la parte de modificación de estilos entonces 009 editar espera aquí 009 editar estilo yo ahora digo bar título es igual a document Bueno creo una variable título ahora título es igual a document query selector h1 atención el query selector es la magia vale o sea lo primero que tenéis que entender es el query selector Entonces lo he puesto en el body Ah pero cómo hacer para que esté encima de h1 o debajo de h1 en h2 un momento ahora vamos a ello un momento vale modifico el estilo Y ahora respondo a esa pregunta Bueno pues deciros que creo vale creo una variable de momento está vacía y ahora le digo en esta variable pongo el título h1 por qué pues por lo que os digo porque si pongo Ahí h1 es Porque existe un título h1 y ahora digo título punto Style color es igual a red vale al título le pongo el color rojo esto técnicamente es css pero sin embargo quiero que sepáis que se puede modificar el css utilizando javascript editar estilo el texto es rojo y si os fijáis que yo ahí le diga título punto Style color equivale a que el sistema en el navegador le ponga un estilo en línea que ponga Style color red Vale y cumple Mi orden de aplicar estilo A html qué sentido tiene aplicar estilo cuando teóricamente para eso tenemos el lenguaje css bueno Esto no reemplaza el lenguaje css Vale cuando queramos poner propiedades estáticas al css como ocurre en el 99% de las ocasiones lo haremos con css no javascript pero cuando queramos que un estilo de un elemento dependa de una parte del lenguaje de programación en ese caso concreto 1% 0,5 por de las veces lo haremos con javascript vale por tanto es bueno saber que javascript no solo puede acceder a html sino que javascript también puede acceder a css bien ahora respond a la pregunta de Fran lo he puesto en el body Pero cómo hacer para que esté encima del h1 o debajo del h1 en el caso del h2 vale veréis Yo aquí lo que he hecho es utilizar un comando aquí que en crear nuevo elemento 010 prepend y bueno ying bueno voy hacer un PR vamos a ver yo aquí lo que he hecho es cuerpo pun happen Child es decir dentro del cuerpo Le añado un hijo y claro le añado un hijo lo que hace es que dentro del cuerpo dice bueno Cuántos hijos tengo el hijo h1 tengo el hijo Script y no tengo ninguno más pues appen Child añade un hijo después de Script me ha creado un h2 vale Y por eso cuando hemos ejecutado esto cuando hemos ejecutado esto veréis que tengo h1 Script y h2 pero appen chile no es la única instrucción que podemos utilizar para definir dónde ponemos un elemento Así que voy a quitar el cuerpo y ahora digo Bart título es igual a document query selector h1 Y entonces un momentín porque espera que lo voy a poner por aquí me lo voy a poner en el otro monitor Vale y vamos a ver que hay diferentes eh elementos de sintaxis vamos a ver es insert before e insert after vale le voy a decir título punto Vale y eh momentín aquí título pun insert before e apellidos vale appen Child es añade hijo insert before es Cógeme el título e insértelo antes así que vengo por aquí me voy a recargar prepend eh o la consola error vamos a ver Ah sí muy bien Ah perdón Ah okay Vale me hace falta el cuerpo Okay venga bar cuerpo es igual a document query selector Body Y entonces digo en el cuerpo inserto vamos a ver los apellidos antes del título si quieres en lugar de título voy a llamarlo nombre y así lo entendemos mejor vale insert before le doy a recargar y entonces pone carratala sanchis antes de me llamo José Vicente vamos a ver los elementos y veremos que pone h1 y before ha puesto el h2 pero a continuación vamos a ver cómo también lo podemos insertar después así que 011 insertar después y ahora vengo por aquí y le digo next sibling vamos a ver así que quiero insert before y quiero nombre punto next sibling Así que ahora a continuación recargo y tengo me llamo José Vicente carratala Sanchez vale es decir el h1 y después el h2 Yo hoy mi objetivo hoy es enseñaros un poco el ABC del dom vale quiero deciros que me preguntéis lo que me preguntéis Prácticamente todo lo que me preguntéis se puede hacer vale Hay un montón de instrucciones javascript tiene un montón de instrucciones el objetivo de hoy no es aprenderlas todas el objetivo de hoy es ver a javascript como un lenguaje amigo vale ver a javascript como un lenguaje que nos va a ayudar a hacer cosas y ver a javascript como un lenguaje que interactúa con html pero para ello tenemos que aprender cómo interactuar desde javascript como html vamos a hacer un ejemplo vamos a ver Ah sí a ver a ver vamos a ver ya sí ya sé lo que quieres decir Obviamente con javascript también se puede hacer que en lugar de ponerlo aquí se puede poner aquí un src y ponerlo fuera es decir igual que css evidente ente lo que pasa es que si hiciera eso pues en lugar de crear un nuevo archivo cada vez tendría que crear una nueva carpeta y en cada carpeta dos archivos vale por eso de momento ahora que estamos haciendo como una serie de ejercicios de repaso Introducción a javascript lo estoy poniendo todo junto y luego obviamente todo acaba yendo por separado vale fijaos que por ejemplo en los proyectos que estamos haciendo en segundo Pues un proyecto de los más gordos que estamos haciendo es en sistemas de gestión empresarial vale en la última versión Entonces yo me voy a cliente me voy al superc controlador Y fíjate que en html tengo html y no tengo nada más que html Y si luego Quiero javascript todos los javascript los tengo separados en una carpeta y en librerías javascript y en los archivos javascript solo hay javascript y no hay nada más que javascript y en los archivos css está el Y solo el estilo vale con lo cual obviamente cuando vayamos haciendo software más complejo y más grande pues separaremos absolutamente todos los lenguajes pero ahora para aprender ahora para repasar pues La idea es tenerlos Juntos por comodidad entonces lenguajes de marcas manipulación proyectos 002 repaso vale Sí sí sí desde luego O sea tú en un archivo de javascript un momento en un archivo de javascript puedes poner tantas funciones como quieras ahora ya depende de vosotros a nivel individual y de vuestra forma de programar Pues en un momento dado puedes decir mira a ver cliente super js vale Y yo tengo aquí por ejemplo el comportamiento perdón est el comportamiento js y aquí puedo tener una serie de funciones pero luego Aquí puedo tener tantas como quiera vale pero luego puedo decir mira esta función que es gorda pues la quiero en un solo archivo javascript Por qué Porque la función Ya de por sí es gorda y mira y al final estoy viendo que me dos funciones sin quererlo y luego una micr función en un archivo y luego igual en otro hay dos funciones lo puedes hacer como quieras y tranquilo que aunque haya varias funciones en un archivo javascript luego se pueden localizar perfectamente igual que en python vale igual que en python os acordáis que eh metimos varias funciones en una librería sacamos la librería un archivo externo y luego importamos todas las funciones y podemos usar todas las funciones y no hay ningún problema no hay ningún problema Por ello vale vamos a hacer una demostración de eso porque es fácil hacer una demostración entonces eh yo puedo venir por aquí vamos a ver Ah espera me voy a d me voy a primero me voy a lenguajes me voy a manipulación voy a proyectos voy a repaso vale aquí ya voy a tener que hacer eso voy a hacer una carpeta nueva y 012 y funciones externas en funciones externas voy a crear un archivo nuevo voy a crear como Index html y aquí voy a crear un archivo llamado por ejemplo comportamiento html js Perdón Lo que sí que ocurre es eso lo que hemos comentado en días anteriores el consejo que no solo sirve para python sino que sirve para cualquier otro lenguaje de programación que es pues que es ese el cómo te diría yo el separar siempre que sea posible en funciones vale eso siempre va a ser positivo Así que yo vengo por aquí yo vengo por aquí yo vengo por aquí pego Esto vale Y eh aquí a continuación me quito Esto vale Y digo Script src comportamiento js yo aquí lo que acabo de hacer es dejar html puro y poner el comportamiento en una parte externa y luego si quiero aquí dentro puedo poner otro Script y voy a hacer lo siguiente me voy a comportamiento y en comportamiento declaro una función la declaración de funciones es Exactamente igual que lo que es en javascript Perdona en python Así que digo function y digo eh console.log Hola qué tal function Perdona Saluda y ahora function despide y console.log adiós me voy y en el momento en el que en Index yo estoy cargando el archivo comportamiento js automáticamente el html carga y conoce y tiene en memoria todo aquello que se encuentra en comportamiento js y por tanto Ahora yo por ejemplo puedo decir saluda ejecuto una de las funciones y no tengo por qué ejecutar todas ejecuto las que quiero únicamente Así que vengo por aquí me vengo por aquí funciones externas y aquí en la consola e saluda is not defined Cómo que saluda is not defined Cómo no si lo e saluda Ah perdón que hay un error Okay ahora sí vale recargo y me dice hola qué tal como el archivo principal ha sabido decirme Hola qué tal pues porque aquí estoy cargando las funciones aquí por ejemplo una de las cosas que puedo hacer es Llamar a la función pero sí Fran La idea es esa vale la idea es que en todo momento tengáis en cuenta que evidentemente la sintaxis cambia vale Pero el concepto es el mismo y por tanto si sabéis abstraer y si sabéis pensar en general algo que no se os supone ahora mismo vale pero sí que se supone que poco a poco que le quite el gas a la fanta sí que se supone que poco a poco tenéis que empezar a desarrollar Esa capacidad esa habilidad se trata de que poco a poco os dejéis de fijar en los aspectos concretos de los lenguajes de programación y os empecéis a fijar más en los aspectos generales y si os fijáis en los aspectos generales y no en los concretos os daréis cuenta de que podéis pasar fácilmente de un lenguaje de programación a otro y no hay ningún problema por ello Vale entonces un momento de hecho una cosa Guay que tiene javascript es que así como en python la parte de presentación está unida a la parte de programación la relación entre html y javascript es muy limpia desde el punto de vista de que html es la interfaz de usuario y javascript es el lenguaje de programación y por tanto te empuja te invita a separar vale bien Ahora a continuación voy a hacer un pequeño ejercicio voy a hacer un archivo nuevo 013 calculadora html entonces aquí en calculadora voy a esto voy a escribir otra vez dentro del mismo archivo y voy a hacer lo siguiente vacío y digo input type bueno el type me da igual eh ID es igual a operando un input ID operando dos y Ah perdón No no calculadora no no todavía no os explico la calculadora Espérate porque antes de explicar calculadora antes de explicar calculadora os tengo que explicar a no lo he explicado todavía vale me lo voy a dejar para el final os tengo que explicar otra cosa muy importante que son los eventos quieren decir que javascript es capaz de reconocer la interacción que tú realizas con los elementos html de múltiples formas y cuando digo de múltiples formas Vais a ver lo siguiente me voy a archivo nuevo 013 eventos voy a poner eventos botón porque con un botón podemos demostrar un montón de eventos yo a continuación digo correcto a sería Exacto un momentín Es que no quiero liaros con eso por eso me lo dejo para el final de la clase pero efectivamente vale a sería hacer cambios en directo sin recargar la web donde esos cambios requieren información de un servidor vale Pero ahora luego hablamos de Ajax entonces hago esto por aquí me vengo por aquí me vengo por aquí buton y buton vale Y aquí en buton voy a poner púlsar lo siguiente bar botón es igual a nada Creo una variable vacía botón es igual a document query selector Button Así que como veis hay una gran parte de javascript que se domina con el query selector tú tienes query selector y ya tienes como te diría yo el 30% de javascript avanzado y digo selecciono el botón de html y ahora voy a decir lo siguiente botón pun onclick claro Qué hago con un botón pues lo primero que puedo hacer es click en el botón vale botón on click es igual a function esto es ejecutar una función anónima en lugar de llamar una función externa como en python por ejemplo vale el command os acordáis el command del Button Pues aquí puedo llamar vale aquí puedo ejecutar así que en este caso le voy a decir que también puedo llamar una función si queréis puedo hacerlo como Java o sea puedo hacerlo como python para que os sentáis más cómodos Vale entonces digo function click vale y le digo console pun log has hecho clic así como os digo nos sentimos más cómodos es igual a click vamos a verlo me vengo aquí meo aquí has hecho clic claro espérate es igual a claro eh No quiero claro No quiero llamar a la función Bueno pues me toca hacer una función anónima click ahí vale Y es cuandoo cuando pulso el botón llamo a la función click vamos a verlo vale pincho has hecho clic ya os digo que se puede definir en línea pero si queréis de momento lo hago así que es un poco la sintaxis más parecida posible a cómo habéis aprendido a hacerlo en python con tk inter y así de alguna forma Pues que vuestro traslado de python a javascript sea lo más sencillo posible vale pero claro en javascript no solo puedo hacer clic sobre un botón cuando hablo de eventos quiero decir que puedo hacer un montón más de cosas sobre el botón por ejemplo qué pues por ejemplo doble clic puedo hacer también doble clic Así que digo botton punto on dbl click es igual a doble clic pero claro tengo que haber creado la función doble clic así que doble clic has hecho doble clic vale veis que la idea Está en que una vez que tengo un selector está la palabrita mágica on que captura eventos Y a partir de ahí ahora veréis Hay un montón de eventos que puedo capturar Así que vengo por aquí recargo doble clic vale un clic pero si hago doble clic me dice has hecho doble clic vale me ha capturado los dos clics uno dos y luego me ha reconocido el doble clic Pero bueno qué se va a hacer bien más cosas Pues también puedo hacer clic con el botón derecho no es que sea muy frecuente pero mi objetivo es que lo que sepáis que se puede hacer vale on context menú Es un poco extraño vale no se llama right click sino que se llama Eh vale eh A ver las funciones serían el Core y el bar El dom no bueno la las funciones Exacto Perdona Esto sí o sea esto de aquí es el Core vale correcto y esto de aquí es el dom puramente sí correcto Eso sí vale Y así separamos las dos cosas para que lo veáis lo más claro posible ya os digo que mi objetivo es que entendáis que javascript no es tan extraño como os puede parecer Vale pues un context menú voy a poner aquí botón derecho y voy a decir function botón derecho y has hecho click con el botón derecho vale Aquí le voy a decir función e funci e y función e y es e prevent default Por qué pues porque si no pongo esto si no pongo eso si no pongo eso bueno pulso con botón derecho me dice has hecho clic con el botón derecho pero me sale el menú contextual el menú del botón derecho Vale entonces si le pongo esto es 015 click botón derecho si le pongo el e pun priv default lo que hace es que me evita que apare parezca lo que aparece por defecto que es la ventana flotante con lo cual botón derecho y veis que dice has hecho clic con el botón derecho pero no aparece la ventana flotante porque le he puesto el primer default como veis es un modelo de funcionamiento muy extensible en el sentido de que simplemente estoy repitiendo y repitiendo lo único que hago es cambiar el tipo de evento que estoy capturando por tanto con la misma formulación se pueden atrapar un montón de eventos pero cuando digo un montón es literalmente un montón momento que le da bien y ahora vamos a seguir ahora digo 016 el ratón entra otro de los eventos que puedo poner otro de los eventos que puedo poner es on Mouse enter y llamo a esto ratón entra el e no me hace falta ahora y digo function ratón entra has entrado en el botón vamos a verlo recargo vale Mirad simplemente cojo el ratón y entra y hace plac has entrado en el botón de momento no reconoce cuando salgo pero sí reconoce cuando entro Por tanto la idea de la las funciones es que no solo hacen click está claro que el 90 de las veces utilizamos la función de click vale porque es la función más clásica y más básica y más de todo pero mi misión es que sepáis que existen un montón de eventos disponibles en javascript y 017 el ratón sale boton Mouse lif ratón Sale vale Sí ya te digo luego Fran se pueden utilizar para un montón de cosas vale se puede utilizar para que cuando entre salga el menú desplegable para que al entrar cambie de color y al salir recupere el color se puede hacer para lo que se quiera hay un montón de aplicaciones posibles una de ellas es esa es la de desplegar automáticamente un menú vale ratón sale y has salido del botón vamos a verlo ratón Sale vale entro y salgo has entrado del botón ha salido del botón vale más cosas que se puede hacer Bueno pues por ejemplo eh nosotros tenemos la función click el click si os fijáis es una acción por parte del ser humano que técnicamente son dos acciones a la vez por una parte haces click y por otra parte haces des click es decir tienes que pulsar el dedo y tienes que despuls el dedo vale V eso aquí dentro de javascript es Mouse down y Mouse up Entonces yo digo on Mouse down y un mouse up el click es el conjunto de las dos pero ratón abajo y Ratón arriba y entonces yo hago así copio las dos funciones ratón abajo y Ratón arriba y digo has pulsado el ratón el botón y has des pulsado el botón Así que hago click y me dice Has pulsado el botón y hago des clic y me dice has despuls el botón Y de paso has hecho clic vale el hacer clic solo se cumple cuando se cumple la combinación de las dos click y des clic en cambio Mouse down te permite detectar únicamente el click y Mouse up te permite detectar únicamente el des clic vale Ya os digo o sea os avanzo Ya que en vuestra vida diaria no va No vais a utilizar todas estas funciones a la vez pero mi objetivo de hoy es que sepáis que existen mi objetivo de hoy es que sepáis que las tenéis a vuestra disposición y que sepáis que las podéis utilizar cuando queráis Para qué se utilizan las funciones bueno las funciones se utilizan para realizar acciones es decir los eventos se utilizan para que cuando el usuario hace algo el programa reaccione de una forma o reaccione de otra eh acabamos de ver un conjunto de eventos hay un montón de eventos hay una variedad de eventos vale Pero a continuación lo que voy a hacer es enseñaros unos cuantos eventos más de campos de texto vale os he enseñado eventos típicos y clásicos de botones que los botones son una parte esencial de las interfaces de usuario pero los campos de texto son otra parte esencial Vale entonces 019 eventos de campo y entonces yo ahora a continuación digo input vale input nada más que input quito funciones y quito Esto vale Y digo bar entrada es document query selector input y digo entrada el clic en la entrada funciona también vale pero vamos a ver pero entrada punto Focus ejecuto la función foco y la función foco has entrado en el campo Por cierto que los eventos de botón también sirven con los campos vale pero para no hacerlo largo Así que ahora vengo por aquí me voy a recargar una entrada ya sabéis que es vale un campo donde puedo introducir información Así que hago click e tío pasado Ah perdón on sí no on Focus no Focus on Focus vale hago click veis me meto dentro salgo No pasa nada pero hago clic y me dice Has entrado en el campo vale como diciendo e no estabas dentro pero ahora estás dentro esto es on Focus a continuación tengo 020 salir del campo y entonces digo entrada on blur hay una serie de palabritas mágicas vale esto es desenfoco y digo function desenfoco cons sol log has salido del campo Así que recargo salir del campo vale hago click has entrado en el campo hago clac has salido del campo cuando gano el foco y cuando pierdo el foco vale más cosas que se pueden hacer Hay un evento que me gusta mucho 0.1 cambiar que es el evento change Entonces ahora veis porque este es muy divertido onchange y cambio ejecuto la función cambio y digo ha habido algún cambio en el campo Y entonces a continuación yo digo pincho salgo pero no ha habido ningún cambio en el campo estaba vacío sigue vacío onchange no se actualiza ahora le pongo una a ahora he hecho un cambio en el campo con lo cual cuando salgo me dice ha habido algún cambio en el campo vale eso es un change Ahora hay una a yo entro no modifico la a salgo no dice ha habido algún cambio en el campo porque efectivamente no ha habido ningún cambio en el campo vale Así que el evento on change no solo detectas si entras o si sales sino detectas si has cambiado algo dentro del campo vale lo cual ya veréis que para procesamiento de formularios es genial Vale Nos va a venir muy bien más funciones más eventos 022 Eh kepres vale kepres Y entrada pun onpress es igual a function tecla con javascript efectivamente tenéis millones de posibilidades para hacer lo que queráis correcto y has pulsado una tecla con lo cual Por eso tengo mucho interés Uy perdón a ver espera que he pulsado Alo sin creer creo que me seguís oyendo No creo que sí vale Ah por cierto Ah no Esto es para el volumen vale eh javascript Es que me interesa que sea vuestro mejor amigo porque javascript a día de hoy tiene una importancia muy grande vale así como python también la tiene pero python tiene competencia Vale pero javascript no tiene competencia javascript es el todopoderoso en el navegador por eso es muy importante que os llevéis bien con javascript y que percib a javascript como un amigo digamos bien pues me voy a tecla me voy a tecla me voy a Ke press Vale y hago click has pulsado una tecla has pulsado una tecla has pulsado una tecla has pulsado una tecla con lo cual detecta las teclas Pero qué teclas Pues si pulso e y pongo coma e pues no solo me dice que he pulsado una tecla Ah undefined undefine Cómo es undefined cómo es posible que me digas que es undefine vale voy a poner console log console.log e pues esto es un problema muy característico vamos a ver vale hago click y me dice undefine vale Por qué Ah bueno Espérate tecla e ahora a ver ahora vale Okay Ok a vale caray tecla e tecla is not Define vale Bueno es event un momento claro function e es tecla e vale le tengo que pasar la e a ver ahora sí vale Y me dice que la tecla es la tecla a Ke a con lo cual no solo has pulsado una tecla sino que la tecla que has pulsado la tecla que has pulsado es coma e.ok pongo a la tecla que ha expulsado es a b la tecla que ha expulsado es b c la tecla que ha expulsado es c vale luego por lo tanto soy capaz de reconocer qué tecla concretamente he pulsado a partir de aquí deciros que esto para vosotros no tendrá ahora mismo demasiada importancia cuando lleguéis a programación de videojuegos sí que lo tendrá que es lo siguiente Y es que 023 Ke down y Ke up vale de la misma forma que ocurre en con el ratón pues tenemos vamos a verlo entrada on down que es cuando pulsas la tecla que es abajo y on app que es cuando des pulsas la tecla arriba Entonces hago así tecla abajo y tecla arriba has pulsado una tecla yuls lo que sea vale Así que hago así va ha un problema va ha un problema ahora verás app le doy a la tecla a y aquí vale me lo está cogiendo correctamente a veces el Ke down no me lo coge ahora estoy viendo que sí vale a b c d e fg me permite seleccionar me permite detectar qué tecla estoy pulsando así que la idea es un poco esta La idea es que ya os digo hay más eventos vale os estoy enseñando en la clase de hoy los principales sobre todo con la idea de animaros vale en algunos entornos de desarrollo eh Hay cosas como el inteligence de Microsoft ahora luego hablaremos en la última parte en entornos de desarrollo donde tú pones entrada pones un punto y te salen todos los todas las funciones que existen vale De hecho brackets por ejemplo también lo tiene Pues bueno que sepáis que existe vale simplemente para lo digo porque yo hoy os enseño seis e igual pulsátil sens como Microsoft y os aparecen igual no lo sé igual 60 Vale y efectivamente existen 60 pero hoy no quiero marear con 60 hoy quiero enseñaros unas cuantas y deciros he chicos hay una cosa que se llama mogollón que cosa que se llama eventos que Mola mogollón y que lo Vais a poder utilizar para lo que queráis vale ya tenemos mucho más tiempo por delante para aprender todos los eventos que sea necesario bien más cosas ahora sí quiero ya empezar a hacer un ejercicio donde empecemos un poco a mezclar todo esto así que eh vamos a crear un archivo nuevo Ahora sí voy a hacer la calculadora vale Y yo a continuación hago lo siguiente digo input ID es igual a operando uno input me falta unas comillas ID es igual a operando dos y buton Calcula bueno y ya está Calcula IP resultado vale a continuación aprovecho para explicaros un concepto que no solo es aplicable a javascript sino que es aplicable a cualquier lenguaje de programación y yo creo que hoy en la clase de hoy os va a ayudar a entender todavía mejor javascript que es el concepto de pseudocódigo el concepto de seudocódigo es que cuando no sabes muy bien exactamente qué quieres que haga el programa o sabes lo que quieres hacer pero no sabes cómo hacerlo en ese caso recurres a esto que os voy a enseñar que se llama seudocódigo que sirve precisamente para intentar facilitar las cosas Entonces yo qué es lo que quiero Bueno pues yo lo que quiero es que cuando pulse el botón quiero que se coja el contenido del input 1 quiero que se coja el contenido del input 2 quiero que se sumen los dos valores Y por último quiero que el resultado se ponga en la etiqueta p vale el seudocódigo es una de muchas estrategias de programación para principiantes que es cuando no sabes qué o no sabes expresar qué es lo que quieres que haga el programa Pues tú Escríbelo es como la carta a los reyes vale Tú di qué es lo que quieres hacer y luego poco a poco vamos resolviendo cada una de cada uno de los bloques insisto una vez más que os estoy enseñando pseudocódigo sobre javascript pero se puede aplicar pseudo código sobre python sobre php sobre Java sobre cualquier lenguaje Así que ahora a continuación 025 resuelvo el pseudocódigo Y entonces con lo que hemos aprendido en la clase de hoy yo digo Vale cuando pulse el botón esto quiere decir eh bar botón es igual o nada vale botón es igual a document query selector Button y por lo tanto le digo cuándo botón punto onclick es igual a function calcula la función Calcula estoy llamando a Calcula antes de declarar Calcula Vale ahora modificar esto la función Calcula va a hacer todo esto la función Calcula va hacer todo esto ya os digo que en principio dará error vamos a verlo resuelvo el pseudocódigo Calcula vale Okay Bueno de momento noada de error pues vamos a por ello voy a ver lo digo porque esto que acabo de hacer aunque funcione pero no es una buena costumbre vale No es una buena costumbre primero Llamar una función y luego declarar la función entonces a ver sí sí a ver un momentín Fran todavía hoy no vamos a hacer eso vale todavía eh La idea es por una parte iros metiendo javascript y por otra parte dejar bien claro el tema de las landings para el examen pero una vez que hayamos repasado javascript y una vez que me asegure que lo básico lo entendéis en javascript Entonces ya ahí no solo es que ahora sino durante todo el curso es a muerte javascript css y html Porque son el Trío vale Son las tecnologías que en todo momento funcionan integradas entre sí Entonces a continuación ahora digo quiero que se coja el contenido del input 1 Vale pues digo bar valor 1 es igual a document punto query selector y op 1 veis que al igual que en cs vale Exactamente igual que en css si aquí estoy llamando a un ID aquí pongo una almohadilla los selectores de javascript son exactamente iguales que los electores de css por tanto si sabes los de css ya sabes los de javascript ahora a continuación claro bar valor 2 es document query selector opción dos Perdona esto es punto Vu vale porque no quiero el selector quiero del selector su value su valor ahora bar suma es igual a valor 1 más valor 2 Y por último document query selector p punto text content es igual a suma vamos a verlo vamos a ver si ha funcionado Así que ahora vengo por aquí resuelvo Vale y pongo 4 y 3 y al calcular bueno puede ocurrir que pasen dos cosas vale puede ocurrir que ponga siete o puede ocurrir que ponga 43 lo más normal es que ponga 43 Así que le doy a calcular y pone 43 vale ya sabemos que esto lo sabemos de python Hay un problema de conversión de tipos y es que todo aquello que viene de un campo al igual que ocurría con input dentro de python Pues todo aqu que viene de un campo se considera como String vale Y por tanto lo encadena como String Bueno ya sabéis que hay un truco dentro de lo que es la conversión de tipos de datos 026 conversión eh directa con truco entonces hay un truco que es decir eh cojo el valor uno es del documento selecciono el elemento que tiene el ID op un cojo su valor y lo multiplico por uno y este truco s sucio multiplicar por uno obliga a que aritméticamente este elemento de aquí se convierta en un número decimal o entero pero en un número vale es un truco muy sucio Pero también es muy sencillo V es no ocupa nada simplemente lo multiplicas por uno y le estás diciendo que eso de ahí tiene que ser un número claro lo que pongas tiene que ser un número porque como sea una letra el programa dará error pero por lo menos hoy para que empiece a funcionar así que pruebo por aquí me voy a conversión de tipo digo 4 y 3 le doy a calcular y me dice si y esto que acabo de hacer por lo que está por lo que estás comentando ahora Fran esto que acabo de hacer menos queda todavía un buen rato de clase vale Pero esto que acabo de hacer es lo que quiero hacer hoy vale No quiero todavía integrar no quiero hacer todavía nada más simplemente quiero hacer esto simplemente quiero demostrar que este sencillo ejemplo ilust ilustra la función de html con javascript vale ilustra que html nos pone la interfaz javascript no hace inputs javascript no hace botones javascript no hace etiquetas p vale la interfaz la pone html pero lo que captura y lo que captura y lo que Escucha una acción y sobre todo lo más importante lo que realiza operaciones porque html no es capaz de realizar operaciones pero lo que realiza operaciones es javascript así que este pequeño ejemplo que ya os digo que tengo mucho interés que en que eh lo tengáis claro vale eh No un momentín Fran eh Te cuento veréis eh la razón de que esté haciendo esto hoy es precisamente eso que estás diciendo y eh Te voy a contar una cosa y es que en psicología humana hay una cosa que se llama la exposición repetida por qué estamos haciendo un montón de veces simulacros sobre lenguajes de marcas porque la primera vez no lo pillas pero cuando empiezas a repetir y a repetir al final lo pillas vale la exposición repetida en formación en enseñanza en aprendizaje quiere decir que cuando no ya yo como profesor a vosotros sino que cualquier persona cuando aprende Si Tú lees algo la primera vez y ese algo te es muy desconocido tú ni nadie no vas a entender el 100% de eso nuevo que has leído se te va a quedar el 20% pero la exposición repetida quiere decir que si tú te lo vuelves a leer te apoyas en ese 20% y subes al 40% y si tú te lo vuelves a leer te apoyas en el 40% y llegas hasta el 50 55 por Vale y Cuanto más te lo leas más lo vas a aprender yo siempre pongo el ejemplo de que el efecto o defecto de la exposición repetida en el ser humano se utiliza también en marketing en los anuncios publicitarios un anuncio en televisión nunca te lo ponen una sola vez porque nadie se acuerda del anuncio si lo ponen una sola vez Pero cuando te repiten el anuncio muchas veces tú al final vas en el coche vas cantando la tonaeta del anuncio y no sabes cómo te la has aprendido pero te la has aprendido Por qué Porque de la exposición repetida se te ha ido poco a poco metiendo en la cabeza vale Así que por eso el objetivo de la clase de hoy es contaros lo que ya sabíais pero contaros de una forma que me salto completamente los conceptos Core y nos vamos directamente a estos conceptos y ahora como ya te digo en la clase de hoy ahora os explicaré Ajax no quiero correr vale No quiero correr nada más hay mucho donde podríamos correr pero lo que quiero es que esto quede claro que javascript es un lenguaje que os va a ayudar a eh a interactuar con html vamos a explicar un par de cosas más antes de saltar a Ajax vale antes de explicaros Ajax y ahora vamos a ello bien Así que además 027 eh Ahora afino el estilo Y entonces yo digo mira cuando yo me meta dentro Quiero que el campo se vuelva como te diría yo como amarillo como diciendo e cuidado est ha algo y cuando salga quiero que el campo vuelva a ser blanco vale Eso quiere decir que quiero editar el estilo Pero quiero editar el estilo en base a javascript Por cierto que lo que voy a hacer se podría hacer con css puro pero lo voy a hacer con javascript para afinar vale para que veáis que se puede hacer Así que a continuación yo digo vamos a ver aquí eventos de estilo yo digo document punto query selector op 1 cuando sobre el op 1 pun on Focus vale es igual a function voy a poner aquí function amarillo entonces voy a decir function eh llama amarillo y voy a decir a ver si me lo pilla dis Style background es igual a Yellow vamos a ver si ocurre vamos a ver si está bien Vengo por aquí hago click vale Ah background of undefine venga vale voy a poner amarillo 1 voy a poner amarillo 1 y voy a decir que esto es document selector vale venga Ok hago así y el elemento se pone de color amarillo es decir lo que le he dicho es que cuando en el documento en el selector que se llama op 1 haga foco ejecuto la función amarillo 1 y la función amarillo 1 lo que dice es que del documento Cógeme el elemento que tiene el ID op 1 y de su Estilo del fondo me lo pones de color amarillo Vale ahora obviamente puedo decirle que op un on blur para que veáis aplicación de cosas que hemos visto hoy des bueno amarillo un blanco 1 así que la función blanco un luego se pueden reutilizar las funciones la función blanco un es background White recargo Y entonces cuando entro se pone de color amarillo cuando salgo se pone de color blanco y esto lo ha hecho javascript Insisto que lo podría haber hecho con css puro pero lo hago con javascript para que veáis que se puede hacer vale de la misma forma de la misma forma 028 funciones de el campo dos yo digo document query selector de op 2 quiero amarillo 2 blanco copio y pego amarillo dos amarillo 2 selecciona op2 y cámbiale el fondo Así que a continuación le digo amarillo blanco vale la idea es que veáis como con javascript puedo atrapar datos que es de lo que se trata y también puedo Eh bueno puedo cambiar estilo y puedo hacer otras cosas bien Voy a reestructurar esto reestructurar código Vale entonces para que el código sea óptimo para que el código sea óptimo primero deben estar las funciones vale en cualquier lenguaje de programación se recomienda que siempre estén primero las funciones y luego abajo los eventos e incluso todo aquello que son funciones se puede externalizar por lo tanto carpeta nueva 030 calculadora y yo puedo hacer un archivo nuevo Index html y ahora a continuación en calculadora que lo que preguntaba antes Fran me puedo ejecutar me puedo hacer un archivo llamado funciones.js y en esta en este archivo le corto todas las funciones me las llevo a funciones js No pasa nada pueden haber las funciones que quiera Eso sí en html tengo que acordarme de llamar a las funciones por supuesto vale Si no va a funcionar tengo que decir Script src es igual a funciones.js con esto lo que estoy haciendo es cargar este archivo de funciones y en el archivo principal me dejo únicamente el javascript esencial vale que en este caso eso es pulso el botón y entro y salgo de cada uno de los elementos de formulario y comprobamos que funciona me voy a calculadora entro y salgo y 4 + 3 es ig a 7 vale bien ahora para finalizar esta primera parte de la clase eh hablaros un poco de fetch y de Ajax entonces para ello Esto me lo voy a guardar en repaso de javascript lenguajes de marcas eh Sí pero manipulación proyectos dos esquema svg vale eh A ver Ajax tal y como hemos comentado Incluso en el esquema sagrado aquí vale este esquema sagrado acordaos que es el esquema que rige el A ver no sí Fran en principio la etiqueta js debería estar en el Head teóricamente debería estar en el Head Pero hay un problema en javascript Y es que por defecto no entiende que los objetos se crean al final de la página por tanto nos hace falta un evento que no os he enseñado todavía que se llama window onload que es cuando o sea reti en la ejecución de javascript hasta que la página haya cargado pero como no os he enseñado ese elemento todavía para que funcione lo que hacemos Es que lo metemos después y al meterlo después seguro que cuando ejecuta el javascript los eventos html se han creado ya os hablaré de esto más adelante bien Entonces vamos a ver este es el esquema de la aplicación que tenemos que hacer y de las aplicaciones que Vais a desarrollar en gran medida a lo largo del curso y a lo largo del ciclo Y es que recordamos que por una parte momentín Por una parte eh tenemos eh la base de datos vale la base de datos en el formato que sea de momento vamos a trabajar con m sql tenemos un lenguaje de servidor Que de momento conocemos python y más adelante vamos a conocer php que veréis al igual que hoy que conociendo python aprender php va a ser lo más sencillo del mundo ya lo veréis porque al final No digo que es lo mismo pero es muy parecido todo esto es lo que ocurre en el backend todo es lo que ocurre en el servidor Así que básicamente esto es la asignatura de bases de datos Esta es la asignatura de eh programación y a continuación tenemos eh lo que sería el Front vale Ya sea en la parte pública es decir la aplicación vista por parte de los usuarios finales o ya sea en la parte privada lo que conocemos como el panel de administración Pero al final las tecnologías con las cuales va a interactuar el usuario va a ser Van a ser css html y javascript qué ocurre Pues que tiene que haber una comunicación entre la parte de python o php hoy es python y la parte frontal con javascript la comunicación entre python y base de datos ya la conocemos sabemos que hay una serie de conectores sabemos que hay un conector de python para mysql y sabemos que nos podemos conectar desde python a sql y pedirle cosas y sql te las da y ya está Pero cuál es la conexión desde la parte frontal desde la web hasta el lenguaje de programación Bueno pues la conexión se hace a través de una tecnología lo voy apuntar por aquí porque va a ser parte del esquema sagrado de una tecnología que se llama Ajax esa tecnología que se llama Ajax en javascript se implementa a través de una instrucción que es fetch así que de alguna forma pues este fetch es Ajax fetch como os digo es una parte de javascript pero es como el puerto de salida vale es el puerto mediante el cual Por una parte javascript se va a ir al servidor y le va a pedir algo y luego por otra parte el servidor va a responder y le va a enviar de vuelta la información a javascript y javascript ya recogerá esa información y la pintará en html y lo que tú quieras vale eso hoy de momento no eso a ver vamos a empezar a hacer algún ejercicio sencillito ahora sobre todo va a ser eh mañana dentro de bueno de programación y de proyecto interdisciplinar vale Y aquí en la parte privada va a ocurrir Exactamente lo mismo por cierto entonces a ver un momento me vengo por aquí esto lo levanto un poco vale Y ahora hago así y ahora copio pego y ahora hago así y lo pongo por aquí bien como os digo como veis esa parte de Ajax nos sirve para comunicarnos entre el cliente y el servidor y aquí es donde y por eso te digo Fran que hoy no tengo especialmente prisa ni especialmente ganas de correr Porque aquí es donde mucha gente se me pierde vale porque hay que reconocer que esto que tenemos en la pantalla pues es un bacalao esto que tenemos en la pantalla es un popurri de tecnologías y hay muchas veces que la gente con t tecnología se me pierde porque dice que ya me acuerdo para qué era cada cosa Vale por eso a este esquema le puse el nombre de esquema sagrado Cuando digo esquema sagrado es que es un esquema que nos ayuda a entender cuál es la integración entre todo aquello que estamos haciendo en el ciclo vale de la misma forma de la misma forma este esquema lo iré ampliando eh poco a poco vale pero vamos a ver pero y ahora vengo por aquí y digo Pues mira probablemente esto que voy a poner no es una verdad verdadera vale es una idea entonces probablemente la parte pública Opa no quieto la parte pública la vas a desarrollar en un entorno de desarrollo qué entorno yo que sé vale Eso ya depende de vosotros es decir momento que voy a ampliar Vale qué entorno de desarrollo Vais a utilizar No lo sé y ahora mismo entorno de desarrollo en mi caso es hedit en otros momentos ha sido brackets da igual y en vuestro caso puede ser sublime puede ser visual Studio puede ser lo que os dé la gana vale o sea el concepto es que Eh desarrollas vale para luego a partir de ahí implementar bien Vamos a ver un momentín porque claro esto es el en el servidor vale un momentín porque voy a hacer este esquema más grande voy a hacer este esquema más grande porque lo necesito porque una cosa es cuando lo implement y otra cosa es cuando lo desarrollas es decir una cosa es el entorno de desarrollo y otra cosa es el entorno de producción el entorno de desarrollo es tu ordenador eh original Generalmente suele ser Windows puede ser macos en el menor de los casos es Linux vale por regla general tenéis Windows Chrome Tab No aquí no va a hacer falta chrom Tab es tu propio ordenador vale Esto sí con lo cual tú aquí vas a desarrollar y vas a tener un entorno de desarrollo en mi caso como os digo hedit el entorno de desarrollo te genera todo esto que tienes aquí a continuación vas a tener un entorno de desarrollo para el Back vale si estás trabajando en python pues probablemente quizás tu entorno de desarrollo será idle os lo digo una vez más O sea si alguien me dice es que yo estoy haciendo python con visual Studio me da igual con lo que quieras o sea al final es que lo hagas de alguna forma espera vale voy a ponerlo aquí abajo Y esto es el Back aquí pasará lo mismo es decir tú gracias al entorno de desarrollo codific y sacas vale css html javascript eh con el entorno de desarrollo codific en python y lo sacas en python vale Y más adelante en php pero como hoy ahora mismo todavía no tenemos encima de la mesa php pues Ho hoy os hablo de python y aquí evidentemente pues tienes otro entorno de desarrollo que pues bueno podríamos decir que es php my admin vale que al final no deja de ser un entorno de desarrollo con lo cual yo vengo por aquí y digo entorno de desarrollo php my admin esto de la misma forma va aquí Esto va abajo vale Y esto de la misma forma va aquí y esto es lo que Vais a hacer vosotros en primer lugar en vuestro ordenador ahora a continuación eh lo voy a también separar por asignaturas vale para que entendáis todo esto de qué va y una vez que tengas esto Una vez que hayas acabado de desarrollar puedes ir haciendo pruebas Mientras tanto obviamente color de trazo negro estilo de trazo muy grueso y flechon me he pasado vale Y flechon entonces una vez que hagas eso lo implementarás en un servidor Linux porque evidentemente en el servidor no te hace falta un entorno de desarrollo porque no vas a desarrollar en el servidor implementas vale primero lo desarrollas en tu equipo y luego a partir de ahí lo pasas al servidor y ya lo public para que todo el mundo pueda entrar Si antes este esquema era sagrado ahora es más sagrado todavía Vale ahora es para que os lo imprimis y os lo peguis en la pared porque esto es de lo que trata el ciclo y luego aparte pues evidentemente vamos a ver voy a poner por aquí la correspondencia de cada asignatura programación y para que veáis en qué participa cada asignatura en todo esto programación marcas bases de datos eh entornos de desarrollo sistemas informáticos Y ya y luego tenemos digamos proyecto interdisciplinar es todo vale es todo este esquema eh marcas arriba del todo programación un poco abajo del todo sistemas informáticos arriba del todo bueno Y esto más o menos vale entonces qué es cada cosa pues sistemas informáticos es esto es decir sistemas informáticos es entre otras cosas el equipo en el que vas a implantar la aplicación o el equipo en el que vas a imp o sea en el que vas a Perdona el equipo en el que vas a desarrollar la aplicación o el equipo en el que vas a implantar la aplicación marcas Qué hace marcas es el desarrollo del Front voy a poner esto aquí Qué hace programación Pues bueno Por una parte hace javascript y por otra parte hace el backen que hace bases de datos se ocupa obviamente de las bases de datos y entornos de desarrollo se ocupa de php My admin se ocupa de idel se ocupa de hedit o lo que sea vale con lo cual Esta es la lógica y este es el enganche y la conexión entre lo que estamos haciendo en este curso y lo que vamos a hacer en el resto del curso vale para que entendáis un poco de qué es lo que va a ir todo y cuál es la integración de todo porque como os digo insisto una vez más Y es que al final Son un montón de tecnologías lo siento o sea Cuando digo que lo siento quiero decir que esto causa mucha confusión eh todos los años hay algún alumno que dice Oye es que son un montón de lenguaje son de tecnologías no se podía hacer todo con un solo lenguaje mi respuesta siempre es Ojalá vale Probablemente lo lógico lo natural lo deseable sería que todo se pudiera hacer con un solo lenguaje Pero la realidad a día de hoy y no digo que me guste la realidad pero es la que tenemos Es que hace falta manejar una serie de lenguajes de programación un conjunto de lenguajes de programación para poner en marcha un sistema y ya está vale Así que mi objetivo es deciros que esa es la realidad mi objetivo es enseñaros esa realidad y enseñaros Cómo hacer que eso sea posible Vale ahora antes de pasar a la siguiente clase que por cierto Quiero comentaros una cosa de Pilar Pero primero voy a Pilar si voy a ver si Pilar me ha respondido a una cosa no de momento no porque debe estar en clase vale Ok ahora luego os lo contaré Vale entonces vamos a hacer una pequeña demostración de fetch Entonces cierro por aquí y como os digo voy a hacer una pequeña demostración de fetch en el sentido de que quiero que javascript por un puerto de salida se comunique con algo que está en el servidor Así que para eso insisto hoy no me interesa hacer un ejercicio muy elaborado me voy aquí a hedit me voy a hacer un archivo nuevo y me voy a bueno ahora será 031 fetch sencillo Es más voy a hacerlo con carpeta nueva 031 fetch sencillo solo me interesa hoy Index me voy a un html básico vale esto cierro ya os digo básico básico básico vale Y entonces a continuación simplemente aquí lo que voy a hacer es decir fetch literalmente vale si aquí he puesto fetch es que literalmente pongo la instrucción fetch Ya está no tiene más misterio y pongo eso si la dirección a quien voy a llamar vale es decir aquí hay una flecha fch tiene que saber a quién está llamando vale fch tiene que llamar a la dirección correcta muchas veces os va a liar es normal Así que http dos puntos barra y voy a poner local Host barra creo que es 3000 Vale qué es esto pues local Host 3000 local Host es mi propia máquina voy a llamar a mi propia y el puerto 3000 es Generalmente el puerto en el que Escucha flask ya sabéis que flask es este micros servidor para que python se convierta en un servidor web bien y ahora voy a poner comentarios hacer la petición de fetch más sencilla que pueda es me conecto al servidor y Espero su respuesta y entonces vamos a ver la respuesta del servidor vamos a ver qué nos responde punto then cuando el servidor responda function response vale Y en function response voy a decir return response text esto qué quiere decir cuando el servidor responda proceso su respuesta como texto plano ahora luego hablaremos de jas también y digo punto den function datos console.log datos cuando reciba datos los pinto en la pantalla los pinto en la consola y este es el fetch más sencillo que se puede hacer que es a quién le pides En qué formato va a venir la información y qué haces con esa información de momento console pun log vale lo más sencillo que pueda hacer claro a esto Obviamente le hace falta un micros servidor new me voy a crear uno nuevo me lo guardo en bar W html bam primero marcas manipulación proyectos repaso F sencillo y lo llamo servidor python vale Y aquí en chat gpt Pues voy a decir que quiero simplest flask server possible vale para que hoy sea lo más sencillo posible ya está esto es Okay pego y digo cuando alguien me pida esto devuelvo Hola desde python o si estás leyendo esto es que te lo da python me voy a sacar un terminal acordaos que flask se tiene que ejecutar con terminal es un poco rollo pero es lo que hay entonces me voy a la carpeta me voy a bar me voy a w me voy a html me voy a dam me voy a Primero me voy a lenguajes de marcas me voy a 003 me voy a proyectos me voy a no me acuerdo ls Ah sí me voy a 002 repaso vale me voy a cero no me acuerdo a 031 y ejecuto eh servidor python Perdón python 3 no python 3 vale Ya estoy escuchando Ah perdón en el puerto 5000 me he equivocado No sé por qué había dicho yo en el puerto 3000 Vale pues aquí le digo que escucho en el puerto 5000 vale fijaos una cosa si mira si queréis voy a ponerlo Exactamente igual que esto para que no haya ningún tipo de confusión 127001 es decir si flask me dice oye te estoy escuchando en el puerto 127001 Puerto 5000 o sea en la IP 127001 Puerto 5000 yo al fetch le digo V si busca porque eso es lo que quiere decir fetch vale v Si busca en el 127001 5000 vale No hay pérdida posible Así que a continuación me voy a ejecutar Esto me voy a ejecutar esto fetch sencillo Ey Ah Sí perdón Ah qué rollo el corse odio el cors un momentín vamos a ver Hay que hacerlo con cors dónde estás aquí por un tema de permisos que ya os explicaré para asegurar que nadie no permitido se te pueda conectar Pues tienes que poner cors vale entonces importo course que ya lo teníamos instalado qué rollo vale le pongo corse a la aplicación y ya está Okay venga vamos a por ello No aquí recargo e eh Cross origin local Host pero si Ah perdón que tengo que parar el servidor Y arrancarlo de nuevo para que se de cuenta de los cambios vale recargo y me dice si estás leyendo esto es que te lo da python daos cuenta de una cosa estoy en un navegador web estoy en javascript y sin embargo Estoy leyendo un texto que me lo ha dado python por qué Pues porque gracias a fetch desde javascript me voy a esta ruta y en esa ruta me está escuchando python me escucha php me escucha node me escucha Java me escucha quien sea vale yo le digo no sé quién me está escuchando pero yo me voy a esta ruta y entonces la respuesta la recibo como texto y entonces pongo en la consola de momento la respuesta y luego ya más adelante en lugar de ponerla en la consola pues ya veremos dónde la ponemos vale pero hoy como quiero el ejercicio más sencillo imaginable de sets de fets lo que quiero es ponerlo directamente en la consola Por una parte tengo el cliente vale es decir en este esquema Por una parte tengo javascript con fetch que se va al servidor el servidor le dice algo y el servidor le devuelve la respuesta a fetch ahora voy a comentar Por último el código del servidor Ay qué rabia me da esto también a ver ahora y entonces digo importo la librería para un micr servidor eh flask de web no quieto corse vale importo corse para elegir a quién dejo entrar Vale para que no cualquier persona pueda entrar claro qué ocurre que ahora mismo que estoy en desarrollo sí que quiero que cualquier persona pueda entrar pero cuando vaya a producción Pues no quer que cualquier persona pueda entrar Vale entonces digo creo un micros servidor web le aplico cor en modo totalmente abierto es decir todo el mundo puede entrar más adelante cuando no quiera que todo el mundo pueda entrar diré cor y pondré una serie de parámetros para decir solo pueden entrar los navegadores o las personas que cumplan esta serie de condiciones vale pero de momento no Y entonces digo cuando alguien llame a la raíz o sea 127001 Puerto 5000 y raíz eso es lo que quiere decir vale o sea esta raíz es esta raíz en ese caso declaro una función y devuelvo algo imprimo un mensaje de demostración y digo Si este es el archivo principal si este es el archivo principal en ese caso ejecuta el servidor Pon en marcha el servidor y este es el servidor más pequeño y más mínimo que podemos hacer en flask vale lo digo porque como los proyectos se van a hacer grandes ya de por sí pues siempre voy a intentar que los códigos sean lo más mínimos posible y lo más entendibles posible para que veáis correctamente qué es lo que estamos haciendo vale hasta aquí la clase de hoy de programación mañana tenemos 2 horas más de programación para seguir con esto vamos a hacer 5 minutos de descanso un momento que vengo por aquí vamos a hacer