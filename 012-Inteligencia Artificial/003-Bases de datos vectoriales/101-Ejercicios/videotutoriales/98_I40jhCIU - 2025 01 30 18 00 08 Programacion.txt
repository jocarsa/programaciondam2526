y vamos a continuar a partir de donde lo habíamos dejado nos vamos a local Host nos vamos a jocar slime Vale y recordamos que teníamos esta parrilla donde pues una vez que tenemos la parrilla podemos pintar los píxeles de momento de forma local y cada vez que pintamos un píxel Pues estamos preparando un mensaje vamos a ver un momento el chat vale bien pues por lo tanto ahora voy a abrir un poco de bebida pues una vez que tenemos esto ahora a continuación en base al esquema que mostraba anteriormente lo que queremos es crear un servidor de node js y este servidor lo que tiene que hacer es enviarnos digamos los de todo el mundo ahora luego veremos Por cierto si asignamos píxeles a usuarios y por tanto un píxel tiene un propietario si podemos sobreescribir o no lo sé vale Eso ya depende un poco de la política que queramos llevar Así que para esto me voy a ir aquí voy a cerrar unas cuantas cosas esto fuera esto qué es esto fuera esto es el servidor de momento fuera que ahora luego haremos por aquí más cosas guardamos vale fuera esto es el gimp y bueno por aquí esto es esto fuera vale Y ya Vale pues Ahora a continuación Aquí vamos a crear un archivo nuevo llamado servidor js y en servidor js vamos a recuperar en gran medida bueno espera primero no lo he cargado Así que vamos a cargarlo y ahora voy a cargar no de js multijugador vamos a el servidor y aquí en el servidor Pues bueno vamos a hacer lo siguiente primero requerimos http vale segundo eh vamos a ver ahora quiero hacer que píxeles led píxeles es igual a de momento un array vacío y ahora luego evidentemente pues esa array no estará vacío bien Mientras tanto vamos a crear un servidor vamos a ver vale Y vamos a simplificar el servidor y digo a ver Index como Root vale Okay If rec URL y Ok vale Y si es post qué no Claro tema está en que de aquí ser file no vamos a esto Opa vale vengo por aquí y voy a crear un no de server pero lo más sencillo que sea posible Vale entonces vamos al minim y digo create node server without Express use pl http as simple as possible then from client Side Send Zelda with fetch and on server save this Data into an array of celdas vamos a probarlo Vale entonces en el servidor vamos a en este caso tp vale me está cogiendo corse muy bien vale bien Y en este caso copiamos vamos al servidor vale aquí Este no hace falta vale celdas es un array añadimos cores y por lo tanto tiene que haber una un fetch por aquí esto qué es esto no es aquí tiene que haber un fetch por tanto voy a decirle que fetch save cells a ver si vale client code y en el client code voy a esto Ok en el client code lo que voy a hacer es un fetch en local Host 3000 con sa cell vale Y vamos a guardar las celdas en el servidor vamos a verlo en point to retrieve all celdas vale me va a dar las celdas y en el Index html vamos a ver Data status Access console log de momento no estoy recuperando ninguna celda vamos a probarlo entonces me voy a hokar slime me voy a jucar saline me voy aquí me voy a node servidor js Estoy escuchando en el puerto 3000 y en el puerto 3000 local Host 3000 not Found vale local hor 3000 barra e not Found vale Qué quiere decir not Found quiere decir que yo teóricamente aquí en el servidor le he dicho que si es aquí Ah no tenía no tenía No pues eh amplify server to serf Index html on Root vale vamos a permitirle que sirva el archivo html no quiero Ah vale Sí perfecto no quiero public Ay bueno en el caso de que cargue imágenes No las voy a cargar Pero vale por si acaso copio pego paro el servidor arranco el servidor y ahora sí Se supone que local Host 3000 Aquí tengo las celdas vale Y ahora cuando pincho una celda el servidor me dice celda Data sa successfully lo que me gustaría es que en lugar de decir celda datas es sucessfully podera recuperar Cómo se encuentran las celdas en ese momento vale para ello en el servidor vamos a verlo eh Data color status success Vale entonces en el Index html Yo vengo aquí y digo Si data.to status iguales Access en ese caso Zelda Data save successfully no es decir en lugar de eso en lugar de darme esto Dame celdas vale Dame directamente el contenido de las celdas y Aquí vamos a ver dend Data console.log eh datos Data se llama bien paro el servidor recargo el servidor bien recargo por aquí y entonces ahora pincho y me dice esto viene del servidor vale envío esto y recupero esto y ahora hago así y entonces Estoy recuperando del servidor el listado de celdas que he ido rellenando pero ahora además ahora a continuación quiero meter un pequeño Time out Así que meto un pequeño Time out aquí tengo un endp para escuchar zeldas parece que no vamos a ver Ah mira Sí zeldas sí s sí end point to retrieve all zeldas vale Y está creado Pues en este caso lo que voy a hacer es ir a Index html no esto Qué hace aquí vale ahora en principio no tengo un bucle Así que voy a crear un bucle y digo led temporizador es igual a set Time out bucle y lo ejecuto en 1000 una vez por segundo function bucle a ver un momento ahí vale Okay bien funto en bucle y digo Clear Time out temporizador y temporizador es igual a set Time out y Track atrás Vale y arranco el bucle siempre que quiera hacer un bucle voy a hacer esto Así que ahora a continuación digo fch eh http do bar localhost 2.3000 barra celdas Por qué barra celdas Pues porque al parecer existe un endpoint llamado celdas Así que en celdas digo punto den fun response y return response.js y punto den function datos función datos y console punto log datos Así que si todo va bien ok vale si todo va bien Ahora recargo no hace falta que recargue el servidor e e Perdón Qué velocidad es esta qué está pasando aquí a ver bucle en 1000 Ah perdón este 1 va Aquí vemos como ordenadora está empezando a hiperventilar vale Okay recargo venga vale algo me he cargado 77 eh No sé qu me he cargado Esto me he cargado vale Okay vale Y ahora cada segundo vale vamos a calmarnos un poco cada segundo pues recupero las celdas bien recupero las celdas hago así Ahora hay cinco Ahora hay seis vale hay nueve nu no sé por qué A ver clic 10 vale bien Ahora a continuación lo que tengo que hacer es los ids de cada una de las celdas y pintar de los colores correspondientes vale el concepto es fácil Así que ahora vengo por aquí y digo Siempre que hay una respuesta pues digo datos. for each fun dato Y entonces para cada uno de los datos lo que hago es repintar vale qué tiene un dato Pues un dato tiene color y tiene ID entonces document query selector eh plu más dato punto eh ID vale el plu este es la almohadilla para seleccionar el identificador punto Style punto background es igual a dato punto color es decir me buscas el elemento que tenga este ID y una vez que me lo localices de su Estilo me cambias el fondo y me lo pones del color que viene en el dato Así que ahora recargo ahí está ahí lo tenemos y ahora a continuación y ahora a continuación Yo vengo por aquí abro otro local Host es decir simulo que soy otra persona y ahora voy a verde pinto en un lado y observo como poco a poco se va pintando en el otro lado así que de esta forma veremos Cómo podemos crear un terreno y lo podemos crear en modo multijugador esta metodología está bien vale es guay pero yo quiero ampliar esto porque esto me limita a e a un tamaño de 10 por 10 vale Yo lo que quiero es tener Pues algún tipo de no sé vale algún tipo de cómo te diría yo de terreno un poco más expansivo vale para ello claro trabajar con identificadores no me va a convenir pero sí que puedo trabajar con otras cosas tales como por ejemplo la x y la y voy a hacer un primer commit de este software vale primer comit y vamos ahora a hacer que pues esto se pueda convertir en un terreno más grande de hecho virtualmente en un terreno ilimitado para ello en el Index html en lugar de usar un identificador lo que voy a hacer es utilizar un bueno la X La y Vale entonces de esta forma en el Zelda set attribute yo le voy a decir que en lugar de la x me lo voy a cargar un poco vale me lo voy a cargar la x es igual a x y la y es igual a y va a dejar de funcionar todo el mundo tranquilo vale va a dar mega error no pasa nada porque acabo de cambiar la forma de trabajar vale ha dado error dice no hay Style no encuentro nada vale pero me voy a elements me voy a contenedor y veo que ahora cada uno de estos elementos pues tiene la x y la y vale Y por tanto puedo localizarlos mediante x y mediante Y qué tengo que hacer ahora pues actualizar el modelo de datos vale es decir ya no puedo enviar el identificador digo mensaje es igual a ID no vale X Y es igual a this get attribute y o sea si les pongo x y pues en el mensaje envío x y en el servidor tengo que recibir X e Y es todo el rato lo mismo así que vengo por aquí y en el servidor vamos a verlo dónde estás Ah en el servidor creo que estoy poniendo todo a Palo Seco a ver y yo creo que sí yo creo cre que al servidor le da igual porque al servidor va a decir mira lo que me envíes lo voy a guardar no tengo ni idea que me estás enviando pero lo voy a guardar Igualmente vale Así que vamos a verlo Ok vamos a parar un momento el bucle voy a no al servidor creo que no hace falta ni que lo reinicie bien entonces consola hago clic Aquí bien sending esto y Ah invalida format ok Vale pues parece que parece que esa se ha rayado vale venga vamos al safe cell save cell Body es igual a chun to String vale Bueno pues no sé porque celdas Okay a ver Body es igual a nada Data Body ch String no sé por qué no me está queriendo el formato vamos a verlo Ah esto aquí esa coma sobra vale recargo Ok vale status error y aquí y = 7 el post me dice que es incorrecto mensaje console log Data y fetch error vale Bueno pues vamos a verlo porque this html with this js server error on posting cell Data vamos a ver porque en principio el servidor es agnóstico con respecto a la información que se le está enviando y por tanto no veo Por qué el servidor vamos a ver Ok venga Ah Data ID y Data color vale Sí ahí está Vale dónde estás Ah Data ID y Data color totalmente Vale entonces vamos a decir si Data x and Data y and Data color vale Ok venga reparamos el servidor para Ok a ver e qué ha pasado no quieto no de muy bien Ahora recargamos bien pincho Ok y me dice x y color pincho y me dice x y color fantástico vale Lo cual quiere decir que ahora a continuación Bueno voy a desbloquear el bucle claro desbar desbloquear el bucle va a tener su gracia Porque ahora el query selector ya no es este de aquí vale ahora el quy selector tiene que ser por propiedad vamos a ver y vale update client y momentom s no esto es lo que quiero Esto es lo que quiero vale document query selector Este es el selector correcto vale Zelda Au Ah qué horror a ver no porque esto lo que hace claro Zelda ID no vamos a ver update selector to Select from two properties x and Y es que no me hace ilusión vale eso de tener que crear un ID único y todo eso cuando tengo la combinación de dos ids vale vamos a ver y Okay tenemos Esto es lo que quiero este es el selector vale Este es el selector Este es el selector clase Zelda donde la x sea esto y donde la y sea Esto vale Ahora sí recargamos Ahora sí vale Y ahora a continuación abro otro navegador Vale edito Voy creando y comprobamos como es cierto que pues se comunica en modo multijugador muy bien una vez que tenemos esto vosotros diréis bueno por qué has hecho esto no Para qué Por qué hemos hecho este cambio Pues porque con identificadores las celdas eran estáticas pero con x y con y el terreno si lo queremos puede ser infinito y ahora voy a demostrar Por qué el terreno puede ser infinito para hacer esto ahora a continuación aquí arriba voy a decir que Let desfase x es = a 0 Let desfase y es igual a 0 y por lo tanto ahora a continuación voy a decir que cuando creo elementos voy a decir x es igual vamos a ver desfase momento 0 más desfase es 0 más o 0 menos Bueno vamos a decir desfase x Perdón anchura más desfase y ahora y 0 más desfase y 0 + desfase y ahora a continuación y ahora a continuación lo que queremos vamos a verlo es crear cuatro botones vale cuatro botones que son los siguientes en el contenedor antes del contenedor ahora los coloco estratégicamente eh div No sabes queé Button buton y le pongo Esto vale buton ID izquierda Button y le pongo esto y es ID derecha y entonces hay leches arriba y abajo voy a hacer una cosa voy a usar emojis entonces emojis directions eh aquí directo en emojis Vale entonces app Arrow Okay app Arrow copy esto es arriba down Arrow esto es abajo left Arrow esto es izquierda por último right Arrow esto es derecha vale Ya tengo los emojis y ahora a continuación vamos a decir qué es lo que ocurre cuando ejecutamos Esto vale vamos a ver un momento okay vale esto es esto fuera esto es función dibuja esto es función dibuja y ahora dibuja parece una tontería Pero vale he metido todo ese código en una función dibujada luego reformulamos todo esto vale el proyecto que empieza siendo sencillo luego se convierte en algo más complejo siempre pasa ahora luego lo refactorizar selector arriba punto onclick es igual a function y digo desfase y menos Vale y dibuja Esta es la razón por la cual lo he metido en una función abajo desfase y + más dibuja izquierda desfase x- men y derecha desfase x + má y cada vez que dibujo lo que quiero es contenedor text content es igual a nada Es decir vacían el contenedor si esto ha funcionado correctamente dará algún error ahora veremos vale W vale vamos a aplicar aquí eh Head meta charset es igual a utf8 vale Qué pasa Qué error me das identificador is not defined vale No estoy usando identificador no debería estar usando identificador Así que identificador más fuera Vale y dibuja pero si yo ahora hago así vamos a ver ahí vale e no está funcionando bien no esto es arriba vale Eh no pasa nada me da este tipo de error no hay ningún problema Ok Okay vale lo he hecho al revés lo he hecho al revés qué fantástico que soy vale lo he hecho al revés entonces a ver izquierda derecha arriba y abajo vale a ver arriba desfase y abajo desfase y izquierda desfase x vale No sé por qué pero está al revés Bueno pues no pasa nada vamos a decir aquí x y ya está Vale recargo así vale así y vemos como voy moviendo qué va a ocurrir pues va a ocurrir un error vale el error Es lógico Y es que cuando las celdas se me salen de la pantalla pues lo que ocurre vale es que no tiene celdas que pintar vale No pasa nada da error cuando vuelvo probablemente vale las celdas van a volver Simplemente si me da error en la Lina 96 vale si me da error aquí si me da error en esta línea pues set Time out No Fran verás es una muy buena pregunta set Time out al igual que set interval son dos métodos muy primitivos de javascript para ejecutar algo periódicamente y pedirle algo al servidor sin embargo después de exámenes tanto en el lado del cliente como en el lado del servidor veremos una cosa que se llaman websockets donde en lugar de estar pidiendo y pidiendo eh con websocket se establece una conexión mucho Más directa de tal forma que tú te conectas una vez eso sí te lo digo ya conectarnos nos costará un huevo con websockets Pero porque hay que solicitar un montón de permisos al servidor para que nos deje ir por websockets pero una vez que estás conectado cuando hay un cambio en el servidor se lo comunica al cliente y automáticamente el cliente coge vale esto que estamos haciendo es como llamar por teléfono a alguien cada 5 minutos es como cómo está Cómo estás los websockets es como establecer una llamada y no colgar la llamada Vale y seguir en la llamada con lo cual cualquier cosa que te digan por teléfono tú lo oyes automáticamente pero vale Hoy empezamos con peticiones http que se abren y se cierran y a la vuelta de exámenes trabajaremos con websockets que es una tecnología como te digo más potente pero más compleja pero también es una tecnología que nos permitirá sacarle más brillo a nodejs vale porque nodejs es un tipo de servidor que es muy proclive es muy Guay para trabajar con websockets bien entonces aquí lo que voy a hacer Es que voy a hacer un try vale Y aquí voy a hacer un Catch exception y ya vale Y por ejemplo podría decir console.log fuera de Rango o no decir nada pero no error En definitiva el TR Catch es para decirle Oye no falles vale hago así y hago así Perdón al revés y hago así y si se sale Perdón al revés si se sale pues fuera de Rango pero ya está pero no es un error vale fuera de Rango pero no me da un error y luego para que no me imprima tantas veces el fuera de Rango pues simplemente no voy a hacer nada vale quito el Catch y ya está y así no tiene por qué imprimir nada vale hago así y hago así bien Ahora ya vamos a empezar a pensar en meterlo en el servidor y para meterlo en el servidor una primera implementación antes voy a tocar un poquito el css para bueno para que las flechas estar un poquito más mejor metidas Vale entonces me voy aquí y eh vamos a ver me voy aquí y hago esto y digo create a professional Looking css arrows on top bottom right and left of contenedor application name is hocar and Li color to corporate colors for the application vamos a ver vale un poquito de fss mira con Flex pues creía que lo iba a hacer con grid Pero bueno pues con Flex Ah pues sí con grid Ya decía yo vale Sí pero con grid pero me da la sensación de que es un A ver ay Oh vaya te quedan 25 respuestas de o1 Mini bueno Esto sabía venir vale Okay copio ejecuto a ver qué pinta tiene recargo Au qué dolor Por qué me haces esto vale bueno el color se ha quedado Ahí está un poco escondido Pero vale bien y yo puedo ir pintando vale Yo puedo ir pintando se me ha hecho pequeño vale pero la gracia está en que pues cualquier persona puede ahora hacer cualquier terreno que sea infinito antes de esto Bueno voy a quitar un momento el console a ver H carime Sí vale sencillito Pero vale bien Vamos a ver hokar salime el console pun log sending nada y el recibo tampoco console pun log datata tampoco lo quiero vale Así nos centramos en pintar el console log hace que la aplicación no vaya lenta Ay caray quiero bloques un poquito más grandes vale porque pues a ver luego por otra parte el cel el Border lo pongo como left y el Border bottom Okay poquito mejor vale Y vamos a ver me ha tocado un poquito el css el javascript perdón tamaño buf a ver anchura 20 y aquí 40 Hola No vamos a ver no no anchura 20 y 20 altura 20 y tamaño contenedor no esto no me gusta vamos a ver primero Ah Data x Ah me lo ha cambiado a Data x vale Bueno pues aquí hay varias cosas que quiero modificar primero contenedor Style wid es igual a anchura por tamaño esto lo había escrito antes y se ha ido contenedor punto Style punto height es igual a altura por tamaño vale siguiente Zelda punto Style wid es igual a tamaño y Zelda Style height es igual a tamaño Esto me lo ha quitado antes e por qué no me lo pones Zelda withd height sigue siendo de 10 Ah perdón más px + px + px + px muy bien esto por ahí Ah Wow me coge la y pero no la x interesante eh vamos a verlo with tamaño px y es tamaño vamos a verlo y sí eso llevan tiempo intentándolo eh Y vamos a ver with y High 40 pixels Ah Oh Ah mir Lu está ahí Y por qué espérate Zelda yo creo que me ha quitado míralo a ver Ah display grid Oh no vale claro muy bien no el contenedor no quiero esto el contenedor no quiero esto la Zelda quiero float left aunque sea a que no sea tan elegante Ah esto es otra cosa vale Aunque mi solución de float no sea tan moderna como el grid pero funciona vale Ok vamos tirando bien ahí ya os digo que el color se me ha quedado un poquito vale Ahí extraño voy a poner el color aquí Controls pues lo voy a poner aquí y aún así espérate Pero vale Bueno me da igual con que esté ahí me sirve vale Así que a continuación lo que voy a hacer Es que voy a publicar esto Voy a ver si hay forma de decirle al javascript que no me coja rutas absolutas vale Y así nos ahorramos tener que hacer modificaciones cuando lo sub a producción Okay guardamos y Ok vale Yo creo que está funcionando ok No hay error de consola fantástico bien pues vamos allá vamos a ver si esto se puede jugar en multijugador vale Así que me voy a dónde me voy a file cila me voy al servidor me voy a no voy a crear de momento todavía hoy un virtual Host vale para node vamos a hocar a old l vamos a Go vamos a eh crear un directorio y lo llamamos lime Así que vamos a Li vale en Li suelto los archivos W html y por nombre por orden vale hijo carsim y subimos los archivos no hacemos todavía github nada bien Ahora una vez que tenemos Esto me voy aquí no esto es el servidor en local ssh se ha parado el servidor sí no pasa nada ssh root @ hocar comom Yes contraseña creo que no es correcta No vamos a ver vale Clear eh cb bar W html jarsa gu old l cb Go cb lime vale Y no de servidor bien con lo cual si todo va bien me voy de momento al puerto 217 Forest Green no 217 3000 Vale tengo esto veo esto os lo paso aquí por el chat y si todo va bien y si todo va bien y entráis pues yo ahora voy a pintar de no sé de un color vale azulete Y voy a empezar a pintar voy a ver si el error si el servidor da error parece que no vale Y veo que alguien está pintando vale que parece que será Fran porque parece que está empezando a pintar una F No lo sé vale Y veo a alguien que está pintando y la idea Está en que yo os voy viendo vale No sé estoy pintando vale Y además vale hay alguien por ahí pintando de naranja y además si yo voy haciendo así pues yo voy viendo y vosotros también lo podéis hacer que me voy moviendo a una parte del terreno que será pues eh completamente nueva vale Así que yo ahora hago así bu voy cambiando de color y ya está okay Vale pues está Guay de momento está Guay tenemos un servidor Y tenemos En definitiva un espacio común donde podemos compartir información donde cada uno puede escribir lo que quiera Vale y donde pues podemos empezar a crear Digamos como una especie de terreno obreo o de obra de arte colaborativa vale hay alguien que está sobre escribiendo colores porque no he declarado Quién es el propietario del pixxel y por tanto no he declarado que eso no se pueda hacer vale o sea cualquier persona Ahora mismo eh puede sobreescribir cualquier píxel Yo igual que he enviado la x y he enviado la y he enviado el color podría enviar otro parámetro que fuera propietario y por tanto Pues que solo pudieras escribir un píxel que estuviera vacío vale Yo qu sé son reglas En definitiva o igual me interesa que se pueda compartir y matizar y modificar la información Vete a saber bien Ahora a continuación eh lo que voy a hacer una vez más primero lo voy a hacer en local luego lo voy a subir es eh guardar la información ahora mismo mi información Qué es bueno pues mi información un momento Vale mi información ahora mismo es un super jas Vale ahora mismo mi información es una raay de celdas un momentín voy a parar un momento el servidor Vale Voy a parar un momento el servidor me voy a me voy un momento al servidor voy a pararlo Vale y ahora nos volvemos a conectar un segundo html vale me voy un momento al servidor y en caliente no debería hacer esto pero bueno ya sabéis en caliente Le digo que vamos a ver re yve vale and aquí vale bien pues yo a continuación voy decir console celdas en el servidor Eh Esto solo en el servidor Así que recargo reiniciar reentrada vale recargo Oh Se ha perdido todo el trabajo okay No pasa nada vale con lo cual hago así voy pintando vale pintado alguien Conmigo vale Y lo que va ocurriendo como veis es que cada vez pues lo que tengo es un array de elementos Vale veis y vais escribiendo vais creando puntos y yo voy recibiendo en el servidor el console.log atención vale Y esto que os voy a enseñar ahora os va a parecer acojonante eh yo tengo todo esto en el servidor y yo ahora quiero guardarlo de tal forma que si por lo que sea cuando pare el servidor eh Por lo que sea digamos la información no quiero que se pierda Vale pues quiero guardarlo de alguna forma para que cuando reinicie el servidor por lo menos me recupere me restaure la información que yo tenía hasta el momento Qué estrategias hemos visto para poder guardar esto en un servidor Bueno pues eh Hasta ahora hemos visto que por ejemplo podemos guardarlo en formato sql lo que pasa es que es un poco rollo no porque claro yo cada vez que cómo te diría yo cada vez que quiera guardar esto Pues sí esto al final es sql se puede convertir en sql no porque dices Bueno Estos son filas y color X e Y son columnas y además ocurre que cada una de las filas tiene un número constante de columnas con lo cual no es información nativa eh sql Pero bueno pero lo podría convertir vale muy bien correcto Fran cuestión está en que a la vuelta de los exámenes os enseñaré un tipo de base de datos que se llama deb trabaja con j son pero hoy de momento como forma previa el concepto que quiero transmitiros y demostraros es que no hay por qué convertir un jas en sql sino que el jas si tú lo quieres así puede ser el propio contenedor de bases de datos vale Así que voy a hacer lo siguiente esto además veréis que dentro de lo que son los objetivos de la asignatura en lenguajes de marcas vale en el caso concreto de marcas de hecho incluso es que hay un apartado de la asignatura específicamente pensado paraen Espérate que te lo digo Bueno aquí vale almacenamiento de información Ok Okay conversión adaptación de tecnologías esquemas y vocabularios en lenguajes de marcas y si me voy a bases de datos esto en lenguajes de marcas vale Y si me voy a bases de datos hay un punto específico del temario el último Ahora veréis aquí que es uso de base de datos no relacionales es decir bases de datos que no se basen en el sistema sql O sea que no es que os quiera enseñar el guardar en jas porque sea una rareza mía sino porque es un objetivo el que sepáis guardar en algo que no sea necesariamente sql bien pues yo ahora vengo por aquí y voy a hacer algo tan sencillo como lo siguiente espera momentín me voy de nuevo a mi servidor hokar salime Ok servidor vale Y momentín me estoy llevando sin querer Ok y digo copio y ahora digo a ver un momentín qué Vale pues each no sé ten petitions mira 10s save zeldas to a j file besides servidor js on servidor js Start check If exists If J file exists and load its contents to zeldas array Okay Vamos allá lo de cada 10 segundos igual no le ha hecho mucha gracia vamos a verlo no le ha hecho mucha gracia porque eso me obligará a hacer un Time un set interval vale Te acuerdas lo que te decía antes del set Time out y set interval vale pero venga set interval me vale Ok vale con lo cual ahora copio me voy por aquí ejecuto vale esto es el servidor externo Así que hago uno mira qué bien vale eh No de servidor vale me voy al servidor local Host 3000 vale Y ha guardado cero celdas Okay bien Ahora empiezo por aquí a pintar estoy en local ahora os lo subo al servidor y me ha guardado 10 celdas y yo ahora a continuación Bueno aparte de que si queréis incluso podría ir a hedit y podría ver el contenido de zeldas jas veo que celdas jas no deja de ser vale un archivo jas tal cual ahora a continuación voy a cerrar el servidor voy a arrancar de nuevo el servidor e unexpected End of Jason input Hello Ah Wow a ver momentín porque no sé si es que lo he a ver lo he cerrado en un momento incorrecto vale Okay recargar ahora paro recargar Oh hay algún problema vale Y el problema es que When ser server exits suddenly js file gets erased file contents vale parece que no cierra correctamente el archivo No pasa nada con lo cual básicamente lo que tendremos que hacer esto es graful shutdown Vale ahora copio pego celdas Jason lo borro arranco el servidor Vale y recargo Ah mira uh Ah vale parece que lo está haciendo bueno cada x o sea cada vez que guardo una celda bien no quería eso pero vale Así que paro ahora ejecuto recargo Y si todo va bien las celdas vale Sí Exacto aparte efectivamente si le activamos el prey print incluso desde un punto de vista humano lo podemos leer incluso eh podríamos crear un mini panel de control para ver el J son y poder leer el J son y poder de Incluso modificarlo como administradores O sea que sí desde luego vale la idea Está En definitiva que utilicemos que usemos algún modo de cómo te diría yo de trabajo vale para que no se pierda la información vale algún modo de persistencia bien y ahora a continuación ya para hacerlo más acojonante todavía eh llevo un rato diciéndo que esto Pues evidentemente buenamente podría ser un constructor de niveles de videojuegos y diréis no lo veo a la misma parce un Lienzo para pintar y ya está Vale pero yo puedo venir por aquí y decir OK Pero ahora quiero el cliente e aquí quiero el cliente y le quiero decir cuidado porque me quedan pocas respuestas de chat gpt o mini voy decir el avanzado eh from this code create an isometric Table Terrain the Area is proed isometric vi isometric Sí vamos a hacerlo isométrico de momento vale se podría hacer cónico con lo cual le doy aquí a Play Ahí vale Ahí y ojo Fran ojo que son las 7 que nos quedan un par de horas por delante porque qué por qué te digo esto pues porque si ahora mismo lo que estamos haciendo es desarrollar el terreno isométrico lo que voy a hacer a continuación es crear personajillos vale como ayer Los tigres y todo eso que se puedan mover por el escenario vale donde Pues creamos un terreno Y luego podemos crear personajes y luego a partir de ahí digamos que el personaje se vaya moviendo a lo largo del terreno vamos a verlo un momento porque yo creo que no le he dicho una cosa muy importante y es que yo creo que me lo va a convertir a Canvas y no quiero convertirlo a Canvas en css hay una cosa acojonante que se llama css 3D no es un 3D al nivel de aame punto io No es un 3D tan bestia pero eh Hay una cosa que en css que nos permite realizar proyecciones sencillas cambios de perspectiva vale vamos a ver claro No es que me está haciendo esto no no a ver vale grid container vale Ah no no voy a parar la respuesta voy a decir no It Is Way more simple Just use cssd trans contenedor container into an isometric View ya está O sea no te compliques calculándose el programa ya te Calcula todas esas matemáticas por bajo el año que viene tendréis una asignatura que es desarrollo de videojuegos entonces en esa asignatura sí que tenéis que calcular vosotros ese abatimiento esa proyección pero en este caso no vale dice is below is a minimal change to your original code que aplica una transformación isométrica 3D vale o sea no quiero replantear todo el código solo quiero replantear el contenedor vale Así que vamos a ver okay u ah no sí no display Flex aquí Esto es lo que aquí vale Y ya está así que hago así me cojo el contenedor Me cojo el contenedor hago así vale le aplicamos una transformación de perspectiva con la clásica perspectiva isométrica de 60 gr y 45 gr clásico y ahora vengo recargo e Ah sí que he cerrado el servidor Perdón aquí vale recargo Oh Wow y tengo Esto vale Y tengo Pues un contenedor pero casi Vale pero no lo tengo en perspectiva fijaos como se ha convertido en una perspectiva y el cambio ha sido un cambio css o sea super guay vale pero no vale ya sí estamos cerca pero no vamos a ver un momentín a ver si es que me he saltado yo algún cambio pero creo que no eh No body no lo voy a copiar todo pero yo creo que no vale lo copio todo lo copio no bien eh más cositas not exactly eh I would like to have an isometric eh perspective not an conic perspective is perspective Lines on the grid should be parallel also butons perspective Así que quizás A ver Mira que te lo digo grd container vale Y el grd container quién tiene Uy aquí y contenedor vale Wow Okay Vale in perspective so Maybe s3d transforms should be applied to tu G container instead of contenedor also please make sure that game Board is centered on screen at in Any condition taking in account transforms Of course vale una tontería vale Y es que Pues básicamente lo que quiero es que pues la perspectiva sea más isométrica que esté centrada vale que no esté por ahí descentrada en la pantalla que no esté por ahí a un lado que esté en el centro vale Por cierto Fran en cuanto a lo que comentabas esto es totalmente táctil en el sentido de que es un div vale es un div con un click o sea Aunque parezca gráficamente bonito espectacular Pero al final son dips html y les estamos poniendo el evento on click vale por tanto por supuesto es compatible con tableta con táctil vamos a ver cómo va la cosa Vale centrando y como os digo hacer perspectiva isométrica pues requiere una parte de matemáticas y para eso está el curso que viene vale pero en este curso en el día de hoy pues lo que quiero es enseñaros la forma más sencilla de con el mínimo esfuerzo posible de convertir algo que es ortográfico en perspectiva isométrica vale que veáis que no hay que replantear el código ni hacer matemáticas sino que css tiene un apartado muy desconocido muy olvidado muy ignorado que es cs3d vamos a ver un momentín y ahora como os digo voy a crear unos pequeños npcs y lo que quiero es que pues en el momento en el que haces click Vale pues el npc pueda caminar por los caminos que tú hagas digamos vamos a ver vamos a intentar hacer un juego bonito vale que tú vayas haciendo caminos y que los npcs puedan caminar por los caminos y no se caigan al infinito vamos a verlo vamos a ver Mira sí que me ha cambiado un poquito el css con el Translate y bueno Inevitable creo que es inevitable vamos a verlo y quién tiene ahora la transformación css la tiene el grid container vale Okay vale venga copiar No si es a perspective vale Sí Ok recargamos esto bueno es otra cosa Vale ahora puedo hacer Así con el terreno Okay el hok carsa eh ISO Ah me ha cambiado qué cabrón en lugar de llamarse hok carsa lime ahora se llama hok carsa isometric Pero bueno vale eso me da un poquito más igual aparte luego siempre podemos mover el jocars ahí arriba yo que sé vale eso ya es cuestión de cambiarlo nosotros pero ahora lo que me importa vale Bueno aparte de que puedo color y puedo hacer así y puedo hacer asá vale y todo eso bien ahora por ejemplo pues lo que quiero a ver cómo lo podemos hacer es que eh yo haga como una especie de cómo te diría yo de sprites vale vamos a verlo donde cuando yo dibuje celdas que estén conectadas pues tenga como unos pequeños npcs que puedan ir de una celda a otra vale que puedan ir caminando pero digamos que las celdas blancas son como el vacío Así que el npc solo podrá ir por vale esos sitios si queréis antes de hacer los npcs voy a tirar esto al servidor probamos que os funciona Y a partir de ahí luego ya otra vez en local desarrollo los npcs y luego lo subo al servidor vale Así que me vengo por aquí me actualizo me lo subo Bueno me lo subo aquí vale sobre escribo me voy al servidor me voy al servidor abro el servidor Vale y ahora vamos de nuevo al servidor 3000 bien y eh Bueno estamos en el servidor y ahora básicamente pues lo que quiero es que probéis vale veo que alguien está ya dibujando cosas por allí Así que puedo un botón y si os fijáis pues hemos hecho unos cambios relativamente mínimos con el código anterior y básicamente aplicando css3 css 3D Perdón lo que hemos hecho es crear Pues un abatimiento 3D para dar la sensación de juego 3D vale que realmente es mentira es un juego 2D todavía pero no es como lo de la semana pasada que era 3D de verdad de la buena vale esto es isométrico que da las sensación de 3D voy a ver por aquí vale me voy moviendo veo que alguien va pintando y todo eso bien pues ahora a continuación vale Voy a Bueno voy a parar el servidor vale paro el servidor me ha guardado Por cierto la base de datos lo cual quiere decir que si arranco pues me recupera los datos que tenía O sea no se pierde nada super guay bien Voy a parar el servidor Vale ahora a continuación y ahora sí que voy a tirar much gpt Vale ahora a continuación lo que quiero es crear unos npcs es decir yo soy el jugador Yo soy el creador del terreno vale Yo soy el jugador y como es un juego multijugador entre todos hacemos el terreno Y ahora va a haber unos pequeñitos personajes vamos a ver Now do this create randomly overtime npc in the game this logic npc will be created at a Pa of one each 10 seconds por ejemplo and only spa in color cs White default cells are void so once a spa is created it Will only move to neighbors neighbor cells If There is a color nebor cells If not Stay put vale If More Than One nwork exci randomly Where to go movement next cell Will occur It's One seconds Vale y vamos a ver y vamos a ver vale Y en pcis will be shown as a div inside c for example that div eh round with css vale round Circle with css ahora Now the npcs will be created on server and eh Send to clients for everybody to see the npc but npcs Will Leave on the server vale esto quiere decir que el que Calcula los npcs es el servidor y te los transmite nos los transmite vamos a ver yo creo que con esto ya Yo creo que con esto ya vamos a hacer esta iteración los npcs van a ser un circulito y ahora luego pues hacemos npcs más interesantes de hecho creo que tengo por aquí Ah creo que tengo por aquí en el Google Drive un seud code no no quiero seud code vamos a ver eh Ya pero logic no no a ver eh Ya Pero no vale Okay server logic y npcs vale Bueno le voy a decir que como cree que lo quiero integrar con algún tipo de motor de juego le voy a decir que no o sea que me dé el código completo creo que me voy a fundir ahora mismo el o1 Pero no pasa nada vamos a verlo vale el código del cliente parece completo vale con lo cual voy a copiar esto voy a hacer una subida a Hub vale con lo que tenemos de momento ahora en el código del cliente Voy a pegarlo todo tenía 253 ahora tengo 2s o y pico vale Okay bien y le digo ahora a continuación full server code please no sé si habéis visto la película de Ah de free Guy vale Pero esto que estamos haciendo es un poquito parecido vale es crear un terreno Y a partir de ahí que una vez que creamos un terreno pues haya unos personajillos que vivan en ese terreno vale vamos a intentar no putear a los npcs vamos a intentar que vivan bien y que vale Y que tengan su marcheta y tal y que tengan un terreno y que pueden hacer cositas Vale y vamos a intentar no matarlos Y tal Pero bueno precisamente para no matarlo estamos guardando el jasone cada 10 segundos que por cierto no le he dicho que me guarde a los npcs en el jas no sé si lo está entendiendo por defecto y si no pues no pasa nada Ahora se lo decimos y le decimos que cada 10 segundos pues no solo me guarde el terreno sino que también me guarde los npcs vamos a ver vale No sé yo creo que ya a ver okay okay Vale pues copiamos me voy al servidor y número de líneas por de momento 186 y 175 yo creo que aquí falla algo pero bueno Yo creo que aquí falla algo no bueno Express Ah no a ver vale a ver Ok perfect but Please don't use Express and course library for that matter please maintain http library in original code recognize Express and libraries but for this project I Man http library vale más que nada porque no os he enseñado Exprés todavía ni tampoco corse aunque ya os imagináis lo que hace la librería y no quiero meter Express y que de repente digáis Esto del Express queé es vale que básicamente el Express es una mejora de la librería http Pero vale pero quiero mantenerlo con lo que hemos visto hasta ahora y cuando vayamos avanzando en el stack min o en el stack mern pues ya os enseñaré la e de Express es muy sencillo ya lo veréis vale vamos a ver okay Oye no sé si vale Y vamos a ver vale servidor parece que arriba está Okay Ah mira con una matriz de offsets vale Muy bien pues vamos a ver copiamos y 175 hay una cada vez ocupa menos extraño vale vamos a verlo lime arranco el servidor vale ha cargado celdas local Host vale carga celdas y vamos a ver Ah errores vale unexpected n vale npcs Ah además mega error vale Ah no Okay vale Ok y vamos allá e Dónde estoy cambiando en local vale vamos a ver parece que hay un error de sincronización entre cliente y servidor parece que hay una variable llamada n Ah en not Found vale vamos a verlo vale Okay A ver vamos a parar y vamos a arrancar Pero okay Sí yo creo que tengo el código actualizado si no lo que voy a hacer vamos a ver vale es copiar pegar ejecutar recargar Estamos igual Vale entonces igual se ha enganchado eh digo full client pleas en una de estas me dirá lo de que me quedan no sé cuántas respuestas del modelo o1 vale vamos a ver tengo celdas tengo y tengo npc y un cliente que vale muestra una 2D isometric permite pintar feches painted y renders n PCS parece correcto vale es que me parece corto este código pero 163 es que cada vez me va quitando más líneas vamos a ver sí lo sé escucha que si no pruebo el Deep seck quiero decir que lo tenemos ahí abandonado sabes eso Mira me lo voy a me lo voy a guardar también okay y así lo tenemos a mano también pero que ya te digo O sea que si no nos vamos a deeps y le preguntamos lo mismo y o si no podríamos quiero decir insisto eh a abrir otra conversación nueva de chat gpt porque hay veces que yo noto que chat gpt en una conversación se queda enganchado y de ahí no lo sacas vale pero cuando eso ocurre pues simplemente lo que hacemos en ese caso aquí lo que hacemos en ese caso es arrancar una conversación nueva y va como la seda vale Index 279 vale bien Vamos a probar vamos a arrancar vamos a venir por aquí recargo no vale y nada Okay entonces vale fuera vamos a dips hace un rato que no lo tocamos Start Now vale verificar que es un ser humano Sí lo sé efectivamente de hecho eso estuve leyendo hace un mes o por ahí que tiene un nombre vale o sea que es normal que es un defecto conocido que curiosamente una persona humana digamos Cuanto más le hablas más contexto coge y más calidad te da vale pero en Inteligencia artificial había un efecto que producía lo contrario vamos a ver this Front end game with this server sending npcs To The clients Or the c client painting and PCS on the game Board please fix it y ya está bien Vamos a verlo vale Okay en el client Side momentín okay Y Okay vale vamos a ver tengo ese código en el Index en el número dos aquí Vale pues vamos a hacerlo me dice que esto es el dos fetch en pisis dos fetch en pisis hasta aquí okay vamos a probar parece un arreglo de cliente Pero bueno recargo vale no A ver esto this error Maybe something is failing on server vamos a verlo vale Okay vale parece que sí que hay un endpoint llamado npcs parece que sí que hay esto un npcs pero parece que no lo está pillando Vale local Host 3000 fetch Catch a ver Esto es esto local Host 3000 npfs Vale y eh vamos a ver aquí const server hasta aquí vale me voy al servidor const server hasta aquí el not Found vale Muy bien pues paramos arrancamos ejecutamos no vale Hay un problema ahí es que dice local Host 3000 npcs no existe not Found Por qué Pues no lo sé entonces paro recargo Ah Aquí está el problema Aquí está el problema qué está pasando Ah vale que estaba arrancando el que no tocaba increíble bien pues recargo Ahora sí vale Vamos allá eh local Host 3000 Hola barra caray venga Oh Ah muy bien Ahora no va vale ostras Eh qué pasa ahora por qué A ver un momento no nos rayos a ver espera un momento esto es el cliente esto es el servidor vale Okay esto es el cliente ostras Por qué me dice not Found vamos a ver el servidor Index html ahí está el problema vale esto igual está requiriendo esto igual está requiriendo que yo me vaya a local Host barra hocar Ahí está Vale con lo cual pincho Ah mira mira ahí está el npc vale í hay un npc por ahí lo cual quiere decir vale No sé por qué me deja pintar en alguna sí y en otras no tengo que ver eso me deja pintar allí pero no me deja pintar allí Vale ahora lo veremos bien ya tengo unos cuantos npcs les voy a hacer un puente para que puedan caminar Okay vale De hecho voy a hacer un puente por aquí para que puedan caminar y ahora ya que decidan caminar es otra cosa vale Ahí vale bien Vamos a ver Okay vale Y ahora ya cuando les dé la gana pues ya se moverán bien entonces ahora de casualidad pues alguna se moverá para arriba vale ahora a continuación Quiero ver un poco lo que está guardando vale Quiero ver un poco lo que está ocurriendo para ver lo que está ocurriendo Bueno aparte ahora tocaré un poquito el css e vamos a ver primero me voy a celdas Jason recargo me está guardando las celdas y no me está guardando los npcs Vale Voy a arrancar no voy a arrancar esto se ha demostrado que estaba correcto vale Now vamos a pedirle algunas modificaciones vale Now please make the npcs movement Smooth Maybe something as simple as using css transitions vale porque con las transiciones de css pues se pueden hacer animaciones muy chulas con muy poco esfuerzo dos make sure that npcs are safed also on jas same J file as May J F es decir podemos meterlo juntos pero también podríamos decir Bueno lo sería mejor ordenarlo como tablas de sql vale una tabla entre comillas para el terreno otra tabla entre comillas para los personajes bien y tres vale Y aquí viene la fiesta instead of dring no no When drawing npcs twe perspective settings only for npcs Not For game Board to look Face cera is in some way kind of way invalidate perspective and return to orographic but only for npc in position they should be on as they right nowe rotation and perspec to Face Camera vale Ahí un poco parece como que le est puteando porque el programa dirá bueno para que me pides perspectiva para ahora anular la perspectiva vale la respuesta es quiero perspectiva en el terreno pero no quiero perspectiva en los personajes vamos a verlo Ah no a esto no aquí Uy madre mía hay El problema es que no puedo dibujar a ver celda Ah en las celdas están los npcs No sé no creo que sea por eso pero el caso es que cada vez puedo dibujar Menos ahora luego le preguntaré a ver si esto es un problema conocido vale hago así les voy abriendo caminitos y los npcs pues van Mira ves por ahí uno ya hay uno que va corriendo Vale pues vamos allá okay eh luego a partir de aquí pues podéis ampliar la lógica un poco para lo que queráis en el sentido de que pues podéis hacer que los npcs cumpan algún tipo de Misión o tengan algún objetivo en la vida o yo que sé vale de momento los estoy haciendo que se muevan un poco en plan tonete vale Y luego siempre se puede ajustar y se puede afinar mejor el comportamiento de los npcs vamos a ver este es el servidor Vale cuando trabajemos con Mira ya Hay alguno que está llegando por allí cuando trabajemos con esto con websockets veréis que el movimiento será todavía más fluido vale pero de momento estamos trabajando competiciones en local vale gpt Vale y Ok esto es el servidor y por curiosidad 162 y o sea ahora aumenta un montón más el código Ah y se me ha olvidado decirle que me coja también la ruta para cargar vale Pero bueno vale lo que sea ahora Luego le pregunto y vale Y el clien Side se me ha olvidado decirle también que no me cargue el Index js a través de Apache sino que me lo cargue a través de node Pero bueno eso es lo que menos me preocupa copiar a ver por curiosidad 279 y ahora de repente ocupa un montón más vale Ok entonces paro el servidor arranco el servidor Okay no parece que haya guardado los npcs Pero bueno eh Ya sí Pero ese npc no se tiene que mover por allí a ver eh No a ver un momento porque hay alguna cosa que sí que está bien y alguna otra cosa que no está bien A ver un segundo para empezar no paro el servidor arranco el servidor Ok vale Y curiosamente me quiero cargar todo fels celdas vale Y npcs me lo quiero cargar todo arranco servidor vale arranco quiero hacer un vale npc Ahí está el problema ahora los npcs se van a mover En un cuadradito que parece que está desplazado okay míralos Ahí están vale con lo cual si os fijáis sí que está funcionando pero el css está mal vale Ok no pasa nada vale Eso quiere decir que voy a un bichito de estos me voy a Ah mira aquí dentro venga dónde hay uno npc sigue Dame uno npc aquí está Vale y aquí a continuación Mirad si atrapo el vamos a ver si atrapo esto Vais a ver que aquí vale que puedo modificar esto okay Así Ah pues Ah 44 y el rotate X a ver miralo a 60 okay vale Y ahora qué ahora el position x 10 pixels Oh Wow me lo ha invalidado vale Translate x 10 píxeles míralo Ahí está te pillé vale Y el Translate y en pues 50 píxeles también no menos 50 píxeles ahí vale igual son 40 sí son 40 vale Okay ahora sí esto Qué quiere decir pues esto lo que quiere decir es que una vez que tengo los puntitos por ahí voy a copiar el Translate me lo pego en el código vale a veces hay ajusticos que hay que hacer eh Zelda aquí Ah no perdona npc y Uh aquí esto vale recargamos Ok ahí están Aproximadamente en el sitio y ahora luego lo que haré es cambiar para que en lugar de ser puntos azules pues sean rectángulos vale por ejemplo Vamos a intentarlo vengo por aquí y digo with 20 height 100 píxeles Border radius 5% recargo Ajá están al revés bien with 20 píxeles ostias Pues sí que están al revés Vale pues bueno no pasa nada porque a una mala puedo los personajes y girarlos porque entonces le digo with 100 píxeles High 20 píxeles ahí están vale Y ahora como os podéis imaginar ahora como os podéis imaginar lo que voy hacer es personajillos Vale y eh pintarlos antes de ello claro ahí está el problema ahí está el problema vale voy a hacer así para que con suerte Oh Wow espérate que están girados W guau guau vale están girados bueno no pasa nada vale eso ya es trabajar la perspectiva y decirle al programa que me se me están desplazando 90 grados girados eso es curioso vale Okay y ahora a continuación por último Mirad para que esto se quede bonito y podáis entender el funcionamiento y podáis luego incluso ampliarlo voy a decir que me voy a Drive me voy a bajar un no este no esto no este me voy a bajar un extraterrestre que tengo por aquí vamos a ver y tamaño a ver última modificación vale 28 de enero no debería ver por aquí classe 3 no esto no lo quiero Uf ostras a ver personaje cartoon a ver este no pero a ver personaje videojuego Este sí me lo descargo en el escritorio me voy un momento a Blender personaje videojuego vale me cojo este personaje me lo renderizo vamos a renderizar el personaje tiene este aspecto y ahora a continuación me lo voy a guardar en bar W html hocar slime Epa sí me lo guardo como npc y una vez que me lo he guardado ahora a continuación Don save Vale ahora a continuación aquí en el npc en background le digo URL npc png y vamos a verlo y si ahora recargamos okay a ver consola dónde estás en momentín vale a ver vale npc es 40 por 40 luego background Size cover bien recargo y Au vale no están bien vale deberían estar de pie pero no lo están vamos a verlos vale Pero como podéis empezar a ver en la pantalla pues lo que quiero es pintar personajillos vale lo que quiero es vamos a poner 60 y 60 vale lo que quiero es que empiecen a ver personajillos en la pantalla y que si yo ahora vengo por aquí y empiezo a pintarles que se puedan desplazar Pues que vale realmente se puedan desplazar aunque ya os digo que el desplazamiento está un poco movido No pasa nada vale Pero el objetivo del juego es este ahora a continuación voy a afinarlo un poco más lo subo al servidor lo probamos vale Pero antes quiero a afinar unas cuantas cosas entonces a ver me voy a elementos encuentro npc Aquí vamos a ver qué pasa aquí Eh Esto pasa aquí no momentín no esto fuera esto molesta vale recargo npc aquí vale Y vamos a verlo eh rotate Ah pues ahora no me estar haciendo ni puñetero Ah sí vale Au vale esto ya se parece un poquito no esto ya se parece un poquito vale Okay una cosa así vale vamos a copiar la transformación okay Ahí va Hola Ah e transformo vale bien y ahora lo que me queda por tocar es que en principio estoy viendo que no aparte de que cada vez se están creando más vale Ahí no puedo Okay bien Vamos a ver Ahora yo lo que creo que está ocurriendo es que el programa confunde la x y la y Ah porque está rotado como 45 gr para esto vamos a ir al dibujo de Index punto html y en draw npcs reposition Vale Voy a y x a ver si es tan fácil como esto pues no vale X e Y Ah esto es reposicionar up vale a ver npc Style left screen y screen x creo que no Ah pues sí vale Y ahora bueno el hecho de que ahora a continuación Sí hola dime claro Okay escucha primero Salvador quiero hablar contigo mañana vale que quieres saber a qué hora vas a estar por la mañana pues no sé 10 o por ahí 11 10 vale Y que mir voy ahora chicos un segundo