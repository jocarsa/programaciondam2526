vale Aquí voy a medium Green hocar comom con lo cual en principio deberían ya aparecer las grabaciones de la semana pasada y de ayer vale bien con lo cual ahora Bueno vamos a ir haciendo cosas vale Y al final de la tarde actualizamos el documento que hicimos ayer con vamos a ver con las del segundo trimestre vale Y ampliamos el documento porque el documento paraba el día 14 de enero vale paraba el día 14 de enero pues lo ampliamos para que el documento tenga en cuenta lo que hicimos la semana pasada y lo que estamos haciendo esta vale Mientras tanto hoy voy a crear una nueva librería un poco parecido a la de ayer para Añadir una librería de mapas de calor y que tengáis una herramienta más en un momento dado para presentar informes a lo largo de la tarde quiero hablar también de generación de documentación y quiero hablar ahora luego en las tres horas que tenemos al final de la tarde de la creación de una librería de diagramas de San Ke que son unos diagramas que por el nombre no los conocéis pero seguro que alguna vez los habéis visto y probablemente alguna vez los utilizaré pero quiero empezar la tarde de hoy eh de forma sencilla vale sin correr demasiado con una librería de mapas de calor entonces proyectos colores un color que me sugiera calor vamos a ver no sé yo pues bueno no voy a como no hay creo ninguno que tan eh creo recordar que tan también se utiliza para el color de la piel morena es decir vale creo que el tanning o tu tan es tomar el sol Vale pues mira tan va a ser tan Sí rojas ya tengo sí no tan me Mola para contextualmente lo que vamos a hacer veréis un mapa de calor primero vale os voy a contar un mapa de calor básicamente es esto vale básicamente es un tipo de diagrama por ejemplo temperaturas anuales vale que lo que hace es detectar automáticamente los valores que hay en una tabla y colorear los elementos de la tabla en función de lo que haya vale por ejemplo los profesores lo utilizamos mucho para poner notas vale para ver quién va mejor y quién va peor pero se puede utilizar para muchas Cos cosas a nivel empresarial vale para en una gráfica pues detectar Dónde están los valores más sobresalientes los valores más flojos y así bien Así que voy a crear un nuevo repositorio llamado jocars gu o sea barra tan vale Así que hago así me lo clono el Script de python ya lo puedo Apagar porque ya ha cumplido su función vale el ftp de momento también Bien estaba yo abriendo github Aquí está vale voy a clone voy a tan vamos a ver vale Y lo que voy a hacer en este caso va a ser crear una librería que básicamente coja todas las tablas que haya Clown vale Sí todas las tablas que haya en un momento dado y vale primero voy a crear una tabla así que edit me voy a ir a html me voy a ir a hokar tan vale en tan voy a crear un archivo index.php y en este archivo voy a poner la letra para que la veáis bien vosotros vale en este archivo voy a hacer un doc type html he Body Y entonces dentro del Body voy a hacer lo siguiente voy a crear un table y dentro del Table voy a hacer un vamos a ver e a ver Primero aquí arriba un Script php donde voy a decir que columnas es igual a cco y filas es igual a seis por ejemplo vale Así que eh tad vamos a hacer una tabla bien hecha t Body y en el Head voy a decir TR y Eh pues si hay cinco columnas vale voy a poner aquí pues eh php for y es igual a 0 Y es menor que columnas y más vale entonces voy a decir eco th y voy a decir que I esto lo que va a hacer es que si yo voy a localhost bar hocar guan pues va a crear una columna con 1 2 3 4 vale bien De momento ahora a continuación dentro del tiod lo que voy a hacer es que php for I es igual a filas en filas voy a poner un TR un table Row y aquí a continuación eco TR y ahora voy a decir for I in columnas no puedo repetir la y porque ya lo estoy usando arriba Así que j y aquí voy a decir Table Data vale Y aquí voy a decir e rand y Pro vale Yo creo que ya vamos a verlo recargamos vale Y me da una serie de números aleatorios cada vez que cargo me va a dar unos números aleatorios aparte el hecho de haberlo hecho mediante esta metodología quiere decir que yo ahora a continuación pues le puedo decir columnas 8 filas 16 vale Y el programa me lo va a hacer automáticamente por tanto lo que tengo es pues como vemos un generador de números aleatorios para que lo veáis un poco más claro Aunque aquí ya podría esto empezar a funcionar esto podría ser un balance de cuentas muchos números grandes me parece pero voy a decir que quiero php quiero Esto vale eh php random between Range Vale entonces yo creo que en el rand si le pongo mínimo coma máximo Ah mira vale Okay pues fantástico vale rand Vale pues sí pues ya está pues rand entre un y 500 vale Yo que sé bien entonces vengo aquí y así un poco pues veo un Rango de números que nos asustan un poco menos vale bien Además de todo esto yo quiero que la librería no solo funcione con una tabla sino quiero que funcione voy a poner aquí h1 una tabla sino que a continuación vale voy a poner con otra tabla y ya está un poco demostrando como lo que voy a hacer pues no solo debe una tabla dentro del Script sino que debe todas las tablas que haya Vale pero no todas las tablas sino solo las tablas cuya clase sea J Perdón jarsa gu tan vale solo quiero esto quiere decir a continuación que ahora me voy a crear un archivo nuevo llamado jarsa gu tan o bar tan. js y ahora a continuación desde el Index lo que voy a hacer Es que voy a crear un Script voy a crear un Script con difer y le voy a decir que src va a ser pues jocars gu tan Ok tranquilo Albert ya te he visto entrar js Vale bien en jatan pues lo que voy a hacer es que en primer lugar led tablas es igual a document query selector all de todo aquello que tenga jarsa gu tan Vale y por lo tanto ahora de momento voy a poner console.log tablas simplemente para ver si de momento funciona Vale tengo una tabla una vez que hacemos esto Una vez que hacemos esto ahora a continuación digo Vale pues esto es cojo todas las tablas vale es decir cojo todas las tablas con la clase que sea en este caso hokar satan entonces digo tablas forage función tabla Y entonces digo para cada una de las tablas vale para cada una de las tablas y ahora a continuación lo que quiero es empezar a barrer toda la tabla es decir qué es lo primero que quiero lo primero que quiero es averiguar todos los valores que hay dentro de la tabla vale vamos a ir pasito a pasito entonces digo eh led valores es igual a eh tabla punto find no find leches query selector all y voy a decir t Body eh TD vale o sea Quiero las celdas que haya en el body la el tet no cuenta para estos datos Así que y vamos a ver Estos son valores Vale entonces de query Select all esto no son valores Estos son celdas Y entonces ahora led valores Ahora sí es una Ray de momento Vacío con lo cual yo vengo por aquí y ahora digo para cada una de las celdas fun Zelda Y entonces digo valores punto Push y valores pun Push Zelda text content al final console log valores y vamos a verlo esto es cierto unexpected token Tac atrás vale De qué me he dejado yo aquí eh A ver en la línea 4ro Ah que hay función no así tabla esto no va había un doble paréntesis Ok venga console ahora falta un missing vale Eso quiere decir que va en alguna parte esto de aquí va aquí ahora sí vale Y si os fijáis pues ya me aparecen todos los valores que forman parte de esta tabla vale fantástico bien Ahora a continuación lo que tengo que hacer es averiguar Vale hasta este punto tengo todos los valores creo un array vacío y ahora al array Vale ahora al array le voy sumando los valores y ahora a continuación lo que quiero es de hecho el máximo y el mínimo Vale pues digo js get Max and min value from array hay math pun Max y math pun me vale hay preconstruidos con lo cual vamos a cogerlos bueno directamente y le digo led máximo es igual a ma pun Max había que poner tres puntos creo esto vale esto hostias y momentín no no Ah Esto sí Esto vale había que poner tres puntitos vale para desplegar los valores Entonces esto es valores y LED mínimo es min vale con lo cual console pun log coma mínimo Vale y Hola máximo has been led mimo vale máximo y mínimo máximo 500 mínimo 3 esto puede variar cada vez que recargo porque los números ya sabéis que son aleatorios vale Lo cual quiere decir lo cual quiere decir que ahora que ya tengo esto ahora que ya con respecto de una tabla puedo averiguar de forma dinámica Cuál es el máximo y cuál es el mío ahora lo que quiero es colorear las celdas Vale entonces ahora una vez que ya tengo las celdas Pues ahora lo que quiero voy a trabajar con el máximo de momento ahora lo que quiero otra vez es ahora repaso de nuevo las celdas pero ya sabiendo Cuál es el máximo y el mínimo voy a desactivar el ajuste activar ajuste de texto vale Y entonces digo vamos a ver y entonces digo Ah claro rojo vale voy a utilizar el rojo vamos a ver voy a hacer una cosa voy a hacer una cosa Zelda punto Style background es igual a rgb mejor hsl de 0.5 0.5 creo vamos a verlo recargo no Table t Body TR TD e tío Qué pasa Por qué no me estás poniendo zeldas for each F Zelda Style background Okay console pun log Hola vale me dice hola pero sin embargo no me está poniendo voy a esto otra vez vale vamos a verlo es hokar satan es 32 voy a decir color ostras voy a poner red Ah ahora sí vale Entonces vamos a ver hsl voy a decir vamos a ver css hsl formatting o format y que me diga los rangos a ver si es que me he equivocado yo que probablemente Sí vale cer rojo 120 240 está claro Ah ahora de 0 a 100 aquí me he equivocado y 050 Vale entonces voy a decirle 0150 vale 0150 Y esto es background no background color quizás increíble vamos a ver background color No pues no me está cogiendo y si le pongo red Ah fantástico Ahora sí porque no está cogiendo el ssl porque el hsl perdón por qué no está cogiendo el hsl Ah debe incluir el signo de porcentaje ahí está el error vale Ok incluimos porcentaje no hay ningún problema Vale ahora sí e va a crear un color rgb me lo ha convertido qué tío fijaos que le estoy pasando hsl y me lo está convirtiendo a rgb cosa que me da igual sea mientras me respete el color me vale ahora a continuación por ejemplo aquí pone 50 luminosidad a ver 90 vale Y ahora le digo cero y será negro vale Ok Perfecto entonces ahora a continuación digo vale el rango que quiero es de 50 100 donde 100 será completamente luminoso y blanco vale para esto a continuación lo que quiero hacer es averiguar Cuál es el valor y partirlo por el máximo es decir vamos a ver led valor es igual a celda o a dis punto text content vale el porcentaje vale es eh led porcentaje es igual a valor partido máximo esto teóricamente lo debo multiplicar por 100 pero el problema está en que después de haberlo multiplicado por 100 lo tengo que dividir entre dos Por qué Pues porque no quiero que vaya de 0 a 100 sino que quiero que vaya de 0 a 50 para que luego vaya de 50 a 100 vale es decir y ahora le sumo 50 para que vaya de 50 a 100 y por tanto ahora por último voy a hacer un ma pun round para acabar de la fórmula Vale entonces aquí vengo por aquí y ahora digo que quiero porcentaje si esto es correcto si esto es correcto recargo Hola a ver momentín Table Enséñame el dato No me ha hecho nada Ok vale vamos a console pun log porcentaje un programa no hace lo que yo quiero pues hago un console log Vale y notan notan muy bien vale no está funcionando Por qué no está funcionando No lo sé Vale entonces vamos a ver console.log valor me está cogiendo el valor de la celda undefine no vale no me lo está cogiendo por qué Por no lo sé celda text content Por qué no me coges la Zelda text content Qué raro a ver Zelda text content es el mismo que antes de hecho voy a quitar esto zeldas for each function Zelda voy a decir Zelda text content en lugar de dis Vale ahora sí bien y ahí lo que ha ocurrido en este caso es que como podéis ver Bueno me lo está haciendo al revés Perdón vale lo que está haciendo es marcar los números más altos con mayor brillo y los números más pequeños con menor brillo vale o sea con más fuerza de color no lo quiero vale lo que quiero en este caso vamos a ver es decirle que este 50 te lo quito y aquí pongo 100 menos ma. round vale Y ahora sí lo que hace es que los números más fuertes los ponen un color más rojo de momento rojo y los números más verdes o sea más perdona los números más flojos me los pone en un valor digamos más pequeño Solo me hace el hokar Table vale la otra tabla como no tiene la clase hocar Table pues o hokar tan pues no me hace esto con esto como estaréis viendo vale recargo como estaréis viendo lo que acabo de hacer es una pequeña de mapas de calor pero ahora vamos a continuar porque yo quiero más antes de nada voy a estilizar un poquito Style voy a decirle que Table t Body trd es text Aline Center y padding de 10 píxeles vale simplemente para que un poquito más y no sé no vea un poquito más de espacio vale Y ahora a continuación eh lo que tengo es el una tabla de color rojo vale un mapa de calor de color rojo porque de hecho se llama hit map porque Generalmente muchos de ellos son de color rojo sin embargo Aquí estaréis viendo que hay un mapa de color de calor que es de color rojo pero luego también hay mapas de calor que son de otros colores o mapas de calor que Pues los números más fuertes son de color rojo y los números más débiles son de color verde hay una gradación de verde a rojo vale Así que la idea Está en que una vez que tengo esto Pues yo ahora a continuación puedo personalizar más el funcionamiento de la librería yo digo Vale pues yo por ejemplo igual quiero vamos a verlo que si yo no le digo nada me coge el color rojo pero yo igual que quiero es pasarle parámetros vale Cómo le puedo pasar parámetros Bueno pues de hecho cuando cojo Class hok carsa jars tan quiero decir y esto simplemente por tener la clase en principio se supone que vale que funciona Pues bueno yo le puedo pasar por ejemplo jarsa parámetros Vale entonces jocars yo le puedo decir por ejemplo que color es por ejemplo Green Vale entonces en este caso lo que voy a hacer por ejemplo es decir Oye cuando alguien cuando mires la tabla Pues mira si hay Si existen jocars parámetros Y si existen pues utilízalos que no existen pues Hazme un mapa de color rojo por defecto vale Si no han declarado parámetros Pues haz un Back Así que a continuación vamos a ver momentín porque puedo decirle directamente Style estoy pensando sabes a ver momentín espera vale Okay está de color verde no pasa nada ahora tocamos eso vale pero yo ahora a continuación puedo decir bueno existe hay un color vamos a verlo m led color es igual a tabla. Style color vale por ejemplo If color es igual a undefined en ese caso color es igual a red a ver color es igual a red y ahora a continuación claro y ahora a continuación Pues yo lo que quiero es pasar de vamos a ver o rojo sabes rgb 255,0 com0 bueno Esto es verde 0,25 5,0 pero para ello esto es verde vale para ello tendré que atrapar vamos a ver una función js function to convert from rgb to hsl vamos a ver vale madre mía Vale y r return hsl sí pero eh okay but no eh accept input on rgb x y z and return hsl x y z y así directamente Ay vamos a ver que la genere esta mañana estaba Bueno como todo el mundo calculo leyendo noticias acerca de que si dips tiene sesgo ideológico porque no le puedes preguntar ciertas cosas acerca de la situación política en China que yo siempre digo ya pero o sea el dips no es el único que tiene sesgo ideológico sino que chat gpt también tiene su sesgo ideológico pero nadie habla de ello pero bueno en fin qué cosas Entonces vamos a ver vamos a ver vale entonces si yo vamos a verlo vale si yo vengo aquí y digo hsl rgb tu hsl y ahora vengo por aquí a ver Espérate vale Okay y a ver espérate vale a ver col hsl es igual a rgb d color Okay Vale Qué es oyama no sé qué es oyama Ah okay Vale pues déjame que lo pruebe porque no conozco esto Ah vale esto lo he oído hablar lo de que hay gente diciendo que te puedes descargar el modelo de dips en el escritorio Y tal Pero he visto los artículos pero no sabía cómo se hacía con lo cual debe ser con esto un momento que me lo pongo aquí sí correcto Sí porque además una de las diferencias es que el modelo es de digamos de código abierto en el sentido de que no es propietario con lo cual Pues sí vale genial Vale entonces ahora con el color claro yo tengo aquí el color hsl pero yo quiero cambiar el porcentaje Porque si yo pongo aquí color hsl yo pongo aquí color hsl si yo ahora recargo Hola Por qué me lo pones rojo Ah guardo vale Okay todo verde y sale todo verde porque yo le he dicho y ahora hago así y le digo azul vale Y ahora es todo azul vale Ok con lo cual ahora el color hsl quiero partirlo y quiero cambiar el porcentaje vale Y aparte además de todo esto por cierto Zelda Style color es igual a Black Hola e es igual a Black vale o a white ahora veremos muy bien Esto me devuelve un String Vale pues Okay Now a function to input a hsl String and a New lightness value and return modified hsl vale lo que hace en este caso es Buscar ok Y ahora hará un reemplazar Ahí está vale Así que esto es otra función esto es modify hsl lightness de color hsl y le meto el parámetro de porcentaje vale Y ahora sí tengo un valor de o sea un mapa de calor en este caso azul pero es que de la misma forma que le pongo azul puedo venir por aquí y decirle pues color 2 3 45 635 porque me lo acabo de inventar vale hago así Mira eso se ve que es un poco Tom matoso vamos a 156 Vale y tengo un mapa de calor con respecto a Eh Pues el color que sea que quiera Vale y de la misma forma pues podemos modificarlo para por ejemplo hacer un mapa de calor entre dos colores vamos a ver cómo lo podemos hacer a ver cómo lo podemos hacer aquí Quiero un proyecto un poquito más grande y digo If a Table has css property color create a gradient hit map as It is now but If a Table has a css property color background es color property instead create a gradient Where minimum values from minimum B color and maximum background color y voy a hacer una propuesta I think that it could be useful to Define that gradient as hsl gradient variation vale Yo creo que es la fórmula más sencilla pero a ver me dicei hay ve est pero le dices Oye Igual tú tienes una idea mejor vale pero chat gpt te dice Ah pues voy con tu idea y hay veces que tienes que decirle no pero yo te propongo esto pero si tú crees que hay algo mejor Dímelo vale Pero en fin Vale pues vamos a ver sí es que a ver ya te digo que porque claro chat gpt Pues hay veces que no sabe cuando discutir las cosas con lo cual hay veces que chat gpt te da la razón cuando tú dices No me des la razón quiero decir yo te propongo esto pero igual tú chat gpt Me puedes decir Oye tío eso que has propuesto es una yo esto que te propongo es mejor Vale pues ya está Dímelo quiero decir que estamos aquí para aprender sabes bien entonces modificamos el Script vale Okay Eh me está llegando hasta el 93 Así que vale parece que sí bien y vamos a verlo a ver si hay suerte entonces vengo por aquí recargo vale de momento tengo un color vamos a comprobar si vale tengo un color por aquí pero ahora a continuación vale voy a color rojo vale color rojo pero ahora digo background es rgb de 02550 de rojo a verde yo que sé vale Así que hago así recargo Oy qué bonito vale Oy qué bonito porque lo que hace como veis es pues un gradiente donde los colores más fuertes son los más verdes y los colores más flojos son los menos fuertes luego también me ha pintado el fondo de la tabla de color verde igual no lo quiero vale No pasa nada porque entonces yo puedo venir y puedo hacer pequeños ajusticos Vale y puedo decirle que aquí abajo interpolate vale aquí tabla vale puedo decirle tabla Style background es igual a known y tabla Style color es igual a inherit vale con lo cual le digo Oh Hala qué cosas pero qué me estás contando esto Qué es 130 en qué momento Ah claro porque se lo he puesto demasiado pronto y me ha hecho de gris Oh qué chulo El caso es que me gusta pero es demasiado pronto Vale entonces voy a decirle que al final de todo esto al final de todo esto al final de todo esto corrígeme los valores de la tabla Ahora sí vale Y lo que hace en este caso pues como podéis ver es que me colorea los valores de la tabla bien una vez que tengo esto ahora a continuación para enfocar el final de la clase pues lo que voy a hacer es que me voy a hacer un Push vale Push de la librería me voy a commit to Main Ok y ahora a continuación me voy a ghub me voy a jokar satan me voy a settings me voy a pages me voy a publicar la page Vale ahora eh en la demostración de ayer de hecho me voy a copiar esto una tabla Ok pues una tabla me voy a informe creo que ayer hice informe Oh lo voy a convertir en php para que pueda tener tablas dinámicas vale Y ahora vengo por aquí y aquí debajo de Script no sé si era creo que era h2 sí es h2 vale h2 pongo un loremipsum.net publicado arriba cuidado hasta que esté publicado en github eh cojo jatan vale Sí Exacto Beatriz eso es lo que eso es lo que te digo vale que hay veces que yo pues cuando A ver cuando qué te diría yo cuando controlo de un tema Pues hay veces que a chat gpt le pido algo y me devuelve algo y yo digo no esto que me estás devolviendo creo que no es lo más correcto Hazlo así vale hay ve que sobre algo pues ties criterio y le dices a ch gpt no yo te digo el camino por dónde ir vale Pero hay veces que de algo No lo tienes tan controlado y claro le quieres decir a chat gpt yo creo por facilitarte un poco el camino yo creo que por aquí puedes tirar Pero si tú como chat gpt que eres pues piensas que hay otra solución mejor Oye pues propón mela sabes pues hay veces que cuesta un poco guiarlo de un lado para otro No Bueno pues vengo por aquí y ahora me voy al local Host informe vale Y tengo la Gráfica ahora luego haremos un sanke eh tengo una tabla Vale tengo esto de aquí una tabla y e undefined variable columnas Porque se ve que me he dejado por aquí se ve que me he dejado por aquí Pues cargarme un pequeñito php y cargar filas y columnas vale Así que pues voy a colocarlo aquí vale Voy a colocarlo por aquí con lo cual recargo vale Y fijaos que tengo por ahí no me lo va no me lo va Uh espera Qué ha pasado eh mutation observer No mocasin Ah no no no vale Sí por qué Pues porque este Script tiene que ser difer Vale ahora sí bien con lo cual ya tenemos una tabla por aquí y ahora voy a pegar el triple salto mortal porque le voy a decir Oye pues yo querría una tabla con esta con este esquema y además con este esquema de aquí vale con el estilete del mocasin creo que era vale con estilete del mocasin y con esto de aquí bien para ello primera columna jv tabla Pues cojo Esto me vengo aquí le digo jokar satan jv tabla y voy a ver cómo se comporta con dos librerías a la vez no lo sé igual Peta vale igual colisiona pero recargo de casualidad vale de casualidad funcionado bastante bien quiero decir podría haber eh colapsado podría haber colisionado y tendríamos que arreglar esa colisión ha funcionado bien a la primera esto nunca pasa pues bueno ya está hoy ha pasado vale con lo cual pues la idea Está en que si os fijáis esta pequeña librería La idea de ir desarrollando de forma modular en pequeñas librerías es que si todo va bien pues luego lo puedes juntar y lo puedes probar y lo puedes vale Y puedes hacer un poco de todo eh Ahora más cosas Pues yo por ejemplo ahora a continuación voy a decir que una tabla vale una tabla Y ahora esta la quiero solo con color okay Y ahora quiero otra tabla y la quiero sin ningún tipo de parámetro de color y entonces recargo y vemos una tabla con mapa de calor con los colores que yo quiero una tabla donde no he establecido perdón sí he establecido mapa voy a decirle que el rgb es 02550 vale Y me lo hace de color verde y una tabla donde como yo no le he dicho nada Claro pues me lo hace de blanco a negro vale un poco y luego Bueno hay que Ah no Espera no la cabecera Esta es crimson porque es la jv tabla que definimos en un momento vale para que fuera con color corporativo crimson o sea es correcto vale con lo cual pues como veis con un pequeño desarrollo más pues ya tenemos una pieza para como os digo ir pudiendo crecer en cuanto a generación de informes pero sobre todo que crecer pues sea meter librerías que la asignación de la li ía sea lo más inocuo posible vale que te modifique lo mínimo posible el código y que En definitiva pues puedas ir sumando y escalando sin que ello te cueste o te pese vale Bueno pues vamos a hacer el No ya descanso vale sino que yo ahora me voy con los de primero a lenguajes de marcas con lo cual hacemos una