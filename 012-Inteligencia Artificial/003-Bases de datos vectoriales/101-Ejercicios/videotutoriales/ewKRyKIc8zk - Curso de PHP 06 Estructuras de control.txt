el bucle de control If es uno de los más clásicos y uno de los más útiles y a la vez también es de los más fáciles de usar he creado dentro de curso web2 una carpeta llamada control donde de momento he puesto un archivo llamado if.php lo voy a cargar tanto en el editor como en el navegador y Dentro de este if.php voy a escribir lo siguiente la fórmula para una estructura de control If es If se testea lo que hay dentro del paréntesis y si es cierto lo que pone dentro del paréntesis Entonces se ejecuta el código que se encierra entre estas llaves adicionalmente existe la posibilidad de poner Else y si lo que se evalúa Dentro de este paréntesis es falso Entonces se ejecuta el código correspondiente al Else digamos If condición aquí se ejecuta el código En caso de que sea verdadera y aquí se ejecuta el código en caso de que el resultado sea falso ahora mismo no puedo ejecutar directamente este código ya que evidentemente dará error Así que vamos a hacer una demostración práctica de If que nos permite como vemos tomar decisiones según la evaluación de valores y voy a hacer que la variable í la variable sea igual a uno lo que hago ahora mediante muchas veces los operadores buanos que ya conozco es decir si la variable No es igual porque no estoy asignando sino que lo que quiero es comparar es igual con dos iguales a un entonces ejecuto un código eco voy a bajar esto de línea suele quedar ordenado entonces eco Es cierto que la variable es igual a 1 y si no es cierto Entonces se ejecutará este código evaluamos por tanto este código guardamos y evaluamos Y si la variable es igual a 1 y aquí se evalúa si la variable realmente es igual a uno evidentemente lo que obtendremos es cierto que la variable es igual a un recordamos que se ejecuta esta comparación Y si el resultado es cierto Entonces se ejecuta el resultado de el contenido de las primeras llaves y si el resultado No es cierto Entonces se ejecuta el contenido de la segundas llaves si pongo que Perdón aquí debo poner No es cierto todas formas el resultado es lo mismo porque sí que es cierto que la variable es igual a un si ahora digo que la variable es igual a 4 lo que estoy haciendo es asignar que esa variable es igual a 4 y a continuación dentro del If lo que hago es comparar si es cierto que la variable es igual a 1 Entonces ejecuta esto y si no es cierto ejecuta este código donde se dice No es cierto que la variable es igual a un en este caso Qué haremos Pues si refrescamos obtendremos que no es cierto que la variable es igual a 1 porque la variable es igual a 4 con el If por tanto tenemos la estructura de control más básica donde lo que hacemos Es dentro del paréntesis anotación importante dentro del paréntesis no hace falta poner punto y coma pero sí en el contenido de las llaves dentro del paréntesis evaluamos una comparación la variable es igual a uno si es cierto Entonces ejecutamos esta parte de aquí si es falso Entonces ejecutamos esta parte de aquí otra cosa que voy a decir con las estructuras de control especialmente cierto con el If es que lo que estoy haciendo es ponerlo en varias líneas por una simple cuestión de Claridad sin embargo Esto no es obligatorio por tanto yo podría poner todo el If en la misma línea y sería Igualmente válido If argumentación si esto si es verdadero y si no Esto si es falso y el funcionamiento es exactamente el mismo Lo único es que lo que hago es ponerlo en varias líneas para aumentar la claridad del código otra de las estructuras de control más clásicas de php es el bucle for lo que he hecho es crear un archivo llamado for. php y lo he cargado tanto en el editor como en el navegador Dentro de este for voy a escribir el siguiente código php donde Escribiré un foro paréntesis y llaves dentro de este for dentro de los paréntesis se va a evaluar una condición y si la condición es cierta Entonces se va a ejecutar un código lo que hecho evidentemente es poner si audio código ya que si ahora evalúo evidentemente me da error además la condición de dentro del for de dentro de los paréntesis es una condición triple porque tengo una condición de inicio dos puntos una condición final dos puntos y un incremento lo que hago por tanto es darle un valor de inicio al for decirle que se ejecute hasta que se dé una condición final y cada vez que repita el bucle for aumentaré un valor el valor inicial voy a hacer un ejemplo práctico voy a sacarme de la manga una variable llamada x por tanto d x y le digo que la condición de inicio sea c x empieza valiendo c quiero ejecutar este código siempre que la variable x sea menor que 10 por tanto lo que haré es poner x menor o igual a 10 mientras que x sea menor o igual a 10 el bucle se seguirá ejecutando en el momento en el que sea mayor que 10 dejará de ejecutarse y el incremento dice lo que pasa cada vez que el bucle pasa por aquí voy a poner de momento variable x + má para que cada vez que pase por aquí se le añada un valor dentro del código lo que voy a hacer es algo de momento tan sencillo Cómo poner eco la variable simplemente Quiero ver cada vez que paso por aquí cuánto vale esa variable además voy a usar la encadena para poner punto comillas br ya que quiero que cada vez que se me devuelva un valor además haya una etiqueta html que me permite hacer un retorno de carro si ahora guardo y recargo lo que obtengo en la pantalla por tanto es la enumeración desde 0 hasta 10 porque lo que he hecho simplemente es empezar haciendo que x sea igual a 0 y cada vez que he pasado por aquí cada vez que he repetido el bucle lo que he hecho es que x + má a x se le sume cada vez un valor ahora vamos a jugar un poco con este bucle for puedo decirle Por ejemplo que la condición inicial sea cinco y la condición final sea 10 lo que hace el programa es empezar contando desde cinco y acabar contando en 10 Si yo le pongo que la condición final sea 15 va a empezar contando en cinco va a acabar contando en 15 además el incremento no tiene por qué ser de uno en uno yo le puedo decir x + = 2 y lo que hago de esta manera es ir de 5 a 15 no sumando de uno en uno sino sumando de dos en dos y lo que obtengo es 5 7 9 11 13 y 15 puedo decirle Por ejemplo + = 3 y lo que hago es 5 8 11 14 y atención porque 14 + 7 = 17 ya es mayor que 15 por tanto ya no debo ejecutar ese bucle cuando tengo el resultado ejecutado si por ejemplo llego a 17 y 17 ya no cumple la condición final lo que hace es saltar a la siguiente línea y seguir ejecutando el código eco Hola lo que obtengo es que no suelto Hola hasta que no he acabado con el resultado del bucle for la estructura switch nos permite evitar a veces hacer demasiados ifs voy a poner un archivo llamado switch php y Voy a cargarlo en el navegador si ahora escribo un Script dentro de switch php voy a hacer que la variable azul esta variable es igual a la cadena azul siora Quiero saber de qué color es esa variable podría poner un If en este If decir si la variable es igual a azul recordemos dos iguales en ese caso lo que hago es decir eco la variable es azul Pero y si es roja Pues si la variable es roja digo la variable es roja y si aquí es verde Y si aquí es amarilla si ejecuto este código evidentemente lo que obtengo Es que solo se ejecuta este If ya que si la variable es igual a roja si es cierto Entonces se ejecuta este código pero como no es cierto ese código no se llega a ejecutar por tanto If está bien If es útil cuando el resultado de la evaluación es verdadero o falso pero yo en este caso no quiero realmente un resultado verdadero o falso sino que lo que quiero es un caso múltiple y cuando tengo un caso múltiple If me obliga a usar varios If y lo que hago es un poco perder tiempo y perder espacio para estos casos usaré una estructura de control llamada switch dentro de switch lo que voy a hacer es evaluar en este caso la variable switch variable y creo llaves por tanto como puedo comprobar el switch es bastante parecido a lif solo que en este caso dentro del switch hay una cosa que se llama caso si El caso es azul Perdón caso azul Entonces dos puntos y se ejecuta el código y al finalizar cada caso esto es importante se debe poner un break lo que hace es romper el código lo que hace es salir del código voy a lanzar esto hacia atrás y voy a decir Case verde Case rojo y Case amarillo el código va a ser eco otra vez como antes la variable es azul en este caso la variable es verde la variable es roja y la variable es amarilla en este caso lo que estoy haciendo Voy a ejecutar lo que Ob tengo es de nuevo la variable es azul si pongo aquí por ejemplo rojo se ejecuta la variable roja para resumir y para volver a explicar lo que hace este switch lo que nos permite ahorrar es múltiples ifs lo que hace es en una sola estructura de control evaluar la veracidad de este contenido que tenemos aquí y no evaluarla según verdadero o falso sino una serie de casos el caso que se cumpla es el caso que se ejecutará si se cumple el caso azul Entonces se ejecuta este código es importante decir que cada caso tiene que acabar con una instrucción break porque si no lo que haría es ejecutar este código y seguir comprobando y seguir ejecutando otros códigos lo que quiero es que una vez que he ejecutado este código se salga por ejemplo aquí poniendo y ahora salgo la variable es roja y ahora salgo porque lo que ha hecho es ejecutar este código como variable es igual a rojo Case rojo es igual es cierto ejecuta la variable es roja y break lo que hace es salir de la estructura de control y ejecutar el siguiente código que haya a continuación vemos por tanto como hemos hecho lo mismo que antes habíamos conseguido con varios ifs pero de una manera mucho más fácil mucho más sencilla y mucho más clara evidentemente sigo diciendo que no es obligatorio el poner sangrías en cada caso y en cada break pero lo estoy haciendo por una razón de Claridad y recomiendo también hacerlo insisto otra vez en que este código sería Igualmente funcional Si fuera así el problema es que sería funcional pero desde el punto de vista humano no sería nada cómodo de leer por tanto siempre recomiendo Poner este código correctamente con sangrías Por ejemplo si elimino todas las sangrías comprobamos como el código sigue funcionando perfectamente pero claro leer esto ya se ha vuelto bastante más complejo por eso he puesto sangrías pero siempre recordamos por una cuestión de Claridad y no por una cuestión de funcionamiento una pequeña variación del for es el for each se llama parecido y lo que hace es parecido pero no es Exactamente igual voy a cargar for each dentro del editor y dentro del navegador y vamos a ver que for each traducido al Castellano sería algo así como por cada uno de ellos Dentro de este for each vamos a introducir un elemento que veremos dentro de unos cuantos capítulos con mucha más extensión que son las matrices simplemente decir por el momento resumir que una variable he llamado he creado una nueva variable matriz no tiene por qué tener un solo valor puede tener una cosa que se llama una matriz de valores que es un conjunto de valores así que de momento lo voy a resumir mucho he creado un array he creado una matriz Y en lugar de darle un único valor a esa variable le voy a dar varios valores le voy a dar por ejemplo el valor rojo el valor verde el valor azul y el valor amarillo la cuestión es cuando veamos matrices evidentemente veremos Cómo darles índices a estas matrices Cómo saber cuál queremos recuperar pero lo que nos ocupa ahora mismo es la estructura de control forh Así que for each por cada uno de ellos lo que hace es permitirnos devolver permitirnos vaciar permitirnos recuperar uno a uno for each por cada uno de ellos los valores de esa matriz Así que voy a escribir una estructura de control for each donde voy a establecer una condición como siempre y cuando Esa condición se cumpla Entonces se ejecutará un código recordamos que siempre estoy poniendo una condición y si se cumple entonces ejecuto un código así que dentro de esa condición voy a poner que cada uno de los índices de la matriz se conviertan en un color he creado una nueva variable llamada color cada uno de los índices que existe en matriz fijémonos matriz aquí y matriz aquí se convierten en una nueva variable llamada color por tanto lo que hago ahora es dentro del código ejecutar el siguiente código eco color y lo voy a intercalar con un br lo que obtengo por tanto si ahora guardo y recargo es que el programa me devuelve uno a uno for each por cada uno de ellos me devuelve uno a uno los valores de la matriz en esta matriz yo había guardado rojo verde azul amarillo y lo que hace es uno a uno darle esos valores de la mat como color en el primer paso en el primer recorrido le asigna rojo me devuelve rojo y continúa como ya ha devuelto el primero por cada uno de ellos empieza con el segundo continúa con el segundo y continúa con verde azul y amarillo lo que hace por tanto forage es simplemente todo el contenido de una matriz y devolverlo elemento a elemento esto puede parecer ahora mismo lo sé siempre decís lo mismo puede parecer bastante Marciano pero veremos que una vez lleguemos a matrices y una vez combinemos matrices con bases de datos este for each es muy importante para almacenar lo que le pidamos una base de datos en una matriz y luego devolverlo elemento a elemento en la pantalla por tanto puede parecer que no sirve para nada pero recordemos este momento porque veremos más adelante como la estructura for each es muy importante y muy interesante un control que no se usa demasiado en php pero de vez en cuando nos puede venir bien es el Goto Que tanto se usa en otros lenguajes más antiguos Como por ejemplo Eh basic Así que voy a abrir Goto y lo que voy a hacer es ser capaz de no ejecutar desde la primera línea hasta la última un Script sino elegir dónde quiero ir saltando por ejemplo voy a crear un Script llamado Go to.php que lo he cargado tanto en el editor como en el navegador y pongo eco un texto y a continuación pongo ecoo otro texto voy a poner además un eco br para que en html fuerce un salto de línea pongo la marca de cierre ejecuto el Script y lo que tengo es un texto y otro texto Bien voy a poner aquí una cosa que se llama marca si pongo marca esto no tiene una representación en html sino que simplemente he puesto un marcador he marcado una sección de el código Bueno pues la estructura de control go to me permite escribir go to marca y lo que hace Este programa es que cuando llega a esta línea salta como si fuera un túnel del tiempo desde aquí directamente hasta aquí si salta desde aquí hasta aquí lo que hace es saltarse esta línea llamada eco un texto Si ahora guardo y ejecuto comprobaremos como no estoy ejecutando un texto sino que go to me permite alterar el orden natural de ejecución del Script y me permite elegir a qué parte del Script quiero ir vemos por tanto como Goto es tan fácil de usar como poco usado hay que reconocerlo donde los dos elementos que nos hacen falta son una marca con dos puntos y un go to marca en este caso lleva punto y coma evidentemente porque está finalizando una instrucción marca es el marcador donde quiero ir y go to marca es por supuesto marca es el nombre que quiera marca marcador perro gato lo que sea go to marcador funciona igual la estructura es una estructura muy usada sobre todo en combinación con bases de datos voy a crear un archivo while.php como siempre lo cargo tanto en un sitio como en otro y vamos a hacer un ejemplo también un poco peligroso de While creamos un Script y ahora decimos que una variable inicial es igual a cer creamos un While y siempre que se dé una condición entonces ejecuta un código el While es muy parecido al If con la diferencia de que no perdón he querido decir el While es muy parecido al for no al If sino al for pero con la diferencia de que en el While no hay tres condiciones dentro de los paréntesis sino que hay solo una condición siempre que la variable sea en este caso igual a 10 Entonces se ejecuta un código Perdón siempre que la variable sea menor que eco Hola este código es peligroso porque va a entrar fácilmente en un bucle sin fin porque variable es igual a cer Así que siempre que la variable sea menor que 10 seguirá ejecutando Hola y así voy a guardar voy a ejecutar y lo que obtengo como podemos comprobar Es que la página empieza a cargar y a cargar y nunca acaba de cargar Está colgada probablemente dentro de unos 30 segundos o de un minuto el servidor falle pare la ejecución de la página y diga está dandoo demasiado debo parar este Script Por qué está ocurriendo esto Pues porque evidentemente el While tiene una Única condición a diferencia del for que sabía Cuándo empezar y cuándo acabar y sabía cuándo darle un incremento Así que el While es parecido al for Insisto que aún así lo usaremos yo creo bastante más que el for pero requiere que tengamos cuidado en este caso de bucle infinito Aunque cuando lo combinemos con bases de datos casi nunca habrá bucles infinitos pero lo que voy a hacer es decir que siempre que pase por aquí la variable incremente un valor para que llegue un momento en que no sea cierto que la variable sea menor que 10 si cada vez que pase por aquí aumenta un valor al cabo de 10 pasadas Esa condición ya no será verdadera y por tanto la ejecución se detendrá Así que ahora eh recargo el valor Y compruebo como me ha devuelto 11 veces la palabra Hola porque siempre que la variable sea menor que 10 0 1 2 3 4 5 6 7 8 9 10 siempre que la variable sea menor que 10 lo que hará es devolver la palabra Hola la estructura dowi que es parecida a While pero funciona un poco al revés hace lo siguiente voy a cargar ahora do While en el navegador y en el editor fijémonos en el While que acabamos de ver y comprobaremos que en primer lugar se testea la condición y si la condición es cierta Entonces se ejecuta el código do While funciona al revés primero se ejecuta el código y luego se comprueba la condición voy a hacer que la variable es igual a un sea igual a un y la estructura de control de While funciona de la siguiente manera do y llaves para especificar un código ejecuta este código While y entre paréntesis mientras se cumpla una condición es un poco raro es como un While pero al revés Ya que en el While primero está la condición y luego está el código mientras que en el do While primero está el código y luego está la condición por tanto lo que voy a hacer es que eco la variable mientras que la variable sea menor que 10 qué voy a hacer aquí en este caso es variable igual a 0 y dentro del do Voy a aplicar un incremento a la variable ejecuto ahora el código y como podemos ver lo que ejecuto es la variable es decir ejecuto Expreso la variable aquí podría poner Hola lo que tendría es nueve veces Hola Bien aquí ocurre una cosa Bueno tengo realmente 10 veces sola porque estoy ejecutando una vez por el número cero aquí ocurre una cosa muy curiosa Y es que llega un momento que como ejecuto el código antes de la comprobación la variable puede llegar a ser 10 o puede llegar a ser 11 en alguna ocasión si aumentamos dos valores a la vez por ejemplo en este caso lo que hacemos Es ejecutar primero el código y luego comprobar si debíamos haber ejecutado el código pero claro para cuando lo comprobamos Ya lo hemos ejecutado Así que lo que hacemos en duwi es ejecutar el código aunque no cumpla la condición y luego comprobar si la condición se cumplía o no y si no la cumple Pues entonces para la siguiente vez ya de tiene el eso Pero insisto es un poco extraño el do While Porque primero ejecuta el código antes de comprobar si la condición que se debe dar es cierta o no aún así veremos más adelante que tiene su buena utilidad