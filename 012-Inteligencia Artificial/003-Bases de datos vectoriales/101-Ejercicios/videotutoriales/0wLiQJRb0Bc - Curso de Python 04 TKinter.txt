Bueno pues a continuación voy a pasar a la siguiente parte de la clase que como os decía es una parte pues eso donde quiero apretar un poquito el acelerador para enseñaros lo máximo que pueda desde aquí al final de la clase porque quiero hablar de interfaces de usuario eh Hasta ahora hemos trabajado con línea de comandos es posible que hagamos algún ejercicio más con línea de comandos pero Prácticamente todo lo que haremos a continuación será con interfaz de usuario gráfico como os he comentado anteriormente un programa no es una interfaz de usuario un programa es lo que hemos hecho hasta el momento pero para el usuario final para que el usuario final pueda interactuar con el programa es muy recomendable crear una interfaz gráfica de usuario en ventanas dentro de python tenemos una librería de creación de interfaces de usuario ya predeterminada que es teca inter no es la única y no voy a decir que sea la mejor no es la mejor desde el punto de vista de la modernidad no tiene los widgets más actualizados del mercado no tiene el aspecto más profesional Windows 10 del mercado pero es una librería como ahora Vais a ver brutalmente fácil de utilizar y además es multiplataforma quiere decir y esto yo no sé para vosotros pero para mí es muy importante el hecho de que si haces un programa en una plataforma yo en este caso por ejemplo en Mac que me la pueda llevar a Windows que me la pueda llevar a Linux es menos frecuente pero por lo menos que se la pueda pasar a un usuario de Windows y que yo sepa que el usuario de Windows lo va a ejecutar Exactamente igual en este caso Yo por ejemplo estoy dando clase desde un mac yo lo que quiero es poder hacer código que luego vosotros os lo Vais a descargar en Windows y funcione Exactamente igual que a mí sin que yo os diga no es que esto qu hecho me funciona a mí parao vosotros no o viceversa Vale entonces Vamos allá y el otro día hicimos un pequeño ejemplo rápido lo voy a hacer ahora otra vez pero más poco a poco Voy a guardar este no quería esto voy a guardar este archivo con python 38 y Esto va a ser teca inter 1 vale Y voy a hacer lo siguiente from tc inter import todo Uy Cuidado Qué quiere decir todo Bueno pues voy a sacar de nuevo un navegador python tk inter me voy a la documentación vamos a ver aquí bu python 27 mejor python 38 Pero bueno Y aquí vale Y aquí empezamos a ver que tenemos un texto scroll tenemos un selector de color tenemos un diálogo común tenemos un file dialogo para importar o exportar archivos la capacidad que de trabajar con Fuentes sacar mensajes o sea tenemos cosas y cosas pero claro hoy veis por ejemplo hoy estos con boxes que son Amón hoy por ejemplo estamos empezando con tk inter Entonces yo lo que quiero de momento es de tk inter dámelo todo Qué quiere decir dámelo todo yo perdonad que sea pesado pero siempre digo lo mismo dámelo todo quiere decir que voy a usar más memoria porque estoy importando una serie de elementos que todavía no sé si voy a utilizar o no De hecho probablemente al final de la clase habremos usado un 1% de lo que tiene tk inter pero cuando estamos empezando prefiero importarlo todo y ya cuando vayamos avanzando podemos hacer programas más eficientes en los cuales diga Mira qué voy a usar un Label una imagen y un botón Pues de tk in importa Dame Label imagen botón y así me aseguro de Que solo estoy usando la memoria que realmente Necesito usar pero ese momento no es ahora vale Por eso ahora de momento lo digo porque a veces cuando estoy impartiendo cursos de python y hay algún purista en la sala Pues dice Oye es que esto de importarlo todo es una barbaridad porque gastas mucha memoria entonces lo que quiero decir es Sí lo sé pero lo estoy haciendo con fines didácticos vale siguiente cuestión voy a hacer lo siguiente marco y si digo Marco es que me estoy inventando la palabra la variable en este caso Marco es igual a frame por qué frame Porque evidentemente en el momento en el que he importado tk Inter de repente python Ya sabe lo que es un frame por eso nunca os olvidéis de la importación porque si no evidentemente os dará error y frame voy a decir que es with es igual a 300 píxeles coma height es igual a 300 píxeles a lo cual a vosotros os surgirá una pregunta que es de la misma forma que has metido with Y height qué puedes meter pues puedes meter una barbaridad de cosas pero no me quiero parar ahora mismo demasiado en ello voy a hacer lo siguiente python tk interframe voy a ir a la documentación bueno Esta no es la documentación oficial es tutorials Point pero como no estoy viendo la documentación oficial vamos a cualquier página y aquí vale Y un listado de las opciones que tenemos el background que de hecho si queréis ahora lo puedo utilizar también el background size el Border el cursor que voy a utilizar la altura sé que lo he utilizado la anchura el highlight background el highlight color vale Y si tiene algo de relieve esto queda muy mal queda muy nuev entero entonces simplemente deciros que hay páginas donde podéis ver la documentación que tiene el sistema voy a hacer este ejercicio con Wi y con Hi y a continuación meto algún parámetro Como por ejemplo el background voy a dejarme esto por aquí un poco apartado Vale ahora sigo con el ejercicio y digo lo siguiente ahora marco punto pack y digo el pack como ahora veréis es inevitable o sea básicamente lo que haga en un programa lo tengo que empaquetar dentro del Marco es como diciendo lo que acabo de hacer mételo dentro del marco y le digo pading x el margen x es igual a 30 y el margen y margen vertical es igual a 30 Si yo no digo nada Son píxeles De hecho voy a quitar aquí píxel y ya está así que le doy a f5 y aparece esto y aparece una ventanita e a ver yo como os digo eh enseño programación en varios lenguajes de programación y siempre que llego a este punto en python comparativamente a lo que cuesta crear una mínima ventana de un programa basado en ventanas en otros lenguajes como Java o como c+ má o como En definitiva cualquier otro lenguaje esto de poder escribir tres líneas que además me río yo de la dificultad de las líneas y automáticamente obtener una ventana Eh Esto no ocurre en prácticamente ningún otro lenguaje de programación por eso desde el primer día os estoy diciendo que una de las diferenciaciones de python con respecto a otros lenguajes de programación es la sencillez Entonces qué ocurre que os veo realmente solo te veo a ti Dani eh pero o sea os veo y es como que no estáis flipando Entonces no O sea quiero aplausos Quiero vítores quiero alegría quiero es que de verdad O sea no os hacéis la idea de esta tontería de hacer una ventana lo que cuesta en otros lenguajes de programación la de cosas quey hay que importar la de código que hay que escribir y de verdad Si alguna vez os dedicáis a trabajar con otros lenguajes entenderéis lo que os estoy diciendo de lo que es de agradecer que en python sea así de sencillo así de terriblemente sencillo verás en otros lenguajes Como por ejemplo Java que de hecho el net beins no sé si ahora mismo mira sí tengo nin instalado eh o sea hacer una interfaz de usuario en Java es la muerte pero es que o sea Además yo siempre que hago una interfaz de usuario en Java directamente uso el asistente porque es que o sea hacerlo solo cuando por ejemplo mira Java 3D no voy a crear un nuevo documento voy a crear un nuevo proyecto ok No quiero dependencias momentín que esto responda vale voy a crear un nuevo proyecto es de tipo Java o sea ejemplos de formulario con interfaz de usuario le doy a Finish esto es la documentación vale aquí aparece me voy a source packages está abriéndose y voy a abrir el código de uno de los ejemplos en Java para que veáis lo que estoy diciendo me voy a Mira contact editor que es algo muy parecido a lo que vamos a hacer que es el típico Editor de contactos ya os digo que Java por ejemplo tiene este editor gráfico que viene muy bien pero nos vamos al source nos vamos a la fuente y esto que estáis viendo aquí el código generado es esto de aquí o sea esto es de decir Bueno pues Vale pues apaga y vámonos por eso es de agradecer que esteé el editor gráfico de interfaces de usuario porque ya os digo yo de vez en cuando algún cliente muy conc reto me lo pide lo que hago es trabajar en Java sin el asistente y me pasa Como a ti es que tengo que el último proyecto que hice y empezar a copiar y pegar código y adaptarlo porque dices Mira es que desde cero es que aparte de que como me dedico a programar un poco de todo no programo todos los días interfaces de usuario en Java desde cero si lo hiciera probablemente me lo sabría de memoria pero como no es así como programo interfaces usuario entre otras muchas cosas a lo lado de los meses Pues claro no se puede pretender que de un mes a 5 meses siguientes me acuerdo de memoria Entonces ya os digo es la muerte y luego de repente venimos aquí a python y pum tres líneas s lo tenemos vale Por eso digo que en la medida en la que en un futuro eh investigué sobre más lenguajes de programación es cuando os daréis cuenta de La Gran suerte que tenemos de que en python sea así bueno y antes de pasar al siguiente ejercicio Quiero escribir algo en esta aplicación Ah sí queréis eso sí antes de hacer eso voy a poner una coma he visto que el background color se pone con bg entonces pongo bg es igual y voy a poner a red me la estoy jugando mucho entonces eh le doy a red cierro esta ventanita le doy a f5 vale Y en este caso lo que hace es que no me reconoce aquí red is not defined un momento como ya os decía me la estaba jugando mucho vale Y aquí tengo el fondo de color rojo me diréis Oye por qué no coge todo el fondo por una razón muy sencilla porque acordaos que le he dado un padding de 30 píxeles ese margen en x y ese margen en y que tenemos ahí es precisamente el padding que he elegido si yo vengo aquí y le digo cer y cer cierro evidentemente le diy a f5 Y entonces veréis que todo el fondo es de color rojo a ver una cosa no me gusta mucho utilizar nombres de color lo digo porque puedo ir aquí me puedo ir a python tc inter color names y hay una lista color chars for teca inter vamos a ver tca inter colors hay una lista Aquí vamos a ver vale que me dice tú puedes usar cualquier color que esté localmente definido y yo digo vale muy bien o sea cuál es la lista de colores definidos Entonces me dice los colores White Black Red Green Blue thian Yellow y magenta siempre van a estar disponibles y digo ya pero no vale entonces eh Hay documentación de tk inter que sugiere que los nombres que están disponibles son los mismos que están disponibles para css3 entonces css3 color Names y hay una lista de 120 no sé cuántos color names o 117 ahora te lo digo 140 vale 140 colores hexadecimales que son estos de aquí mi recomendación es expresar un color mediante su componente hexadecimal por ejemplo el rojo es almohadilla fs00 le doy mira como ya tenía rojo antes voy a poner verde que es 00 ff00 guardo recargo y veo que tengo una ventana de color verde eh Muy rápidamente porque acostumbrarse a formular los colores mediante códigos hexadecimales os puede llevar años de práctica y os lo digo en serio eh lo que voy a hacer es deciros muy rápidamente que los primeros dos dígitos corresponden al color rojo los segundos dos dígitos corresponden al color verde y los terceros dos dígitos corresponden al color azul Pero para que no tengáis que aprender de memoria las 16 millones de combinaciones que hay de hecho técnicamente hay 16,7 millones de combinaciones os recomiendo usar algún programita como el gimp También sirve Photoshop pero el gimp es gratuito y con el gimp o realmente cualquier programa de edición de fotos ahora veréis lo que ocurre si yo selecciono un color yo un color el que queráis vale cojo el color que queráis por ejemplo este anaranjadito ocre veréis que el gim me da la anotación html yo me la puedo copiar la puedo poner ahí y al ejecutar el programa veis que aparece exactamente el mismo color que he seleccionado en el gim de esta forma Al principio para no para que no se explote la cabeza pensando en colores ex decimales lo que podéis hacer es utilizar un programa como el gim que tú coges un color y automáticamente te da el código hexadecimal y simplemente copiáis y pegá y lo ponéis ahí vale el gimp ya sabéis que como os he dicho antes es un programa que es gratuito y lo podéis descargar de forma gratuita desde la página gimp.org Aunque igual para otras cosas y para otros usos ya lo tenis descargado de forma previa Vale y evidentemente eh lo primero que queremos meter un programita es contenido algo de algún título Vale entonces título es igual a Label os vuelvo a decir que Label como frame son palabras reservadas que están dentro de tk inter o sea yo no puedo poner etiqueta lo tengo que poner en inglés pero sí que puedo poner título porque es el nombre de mi variable y digo Label es en el marco Quiero crear un texto que sea eh Pues programa agenda versión 0.1 y siempre título punto pack y voy a decir Side y es igual a top quiero que me lo Aline es en la parte de arriba una vez más diréis bueno aquí has puesto wid aquí has puesto height aquí has puesto text qué puedes poner aquí pues me voy a la documentación python tk inter Label por ejemplo ahí y veréis que pues puedo poner color de fondo puedo poner un bitmap hablaremos de esto puedo poner un Border puedo poner un cursor puedo elegir la Fuente puedo elegir el color del texto Vale entonces voy a decir fg ground color es igual a por ejemplo voy a decir White Así que le doy a f5 y a ver un momento vale parece que no lo ha cogido correctamente un segundo Ah vale Okay correcto muy bien Es que le he puesto programa White y lo que he hecho es que me machacado el fondo okay No pasa nada me ha desaparecido del fondo ahora luego lo recuperaré en este caso voy a decir fg es igual a Red porque Antes me estaba poniendo una letra Blanca sobre fondo blanco simplemente para que veáis que sí que me hace caso con respecto a lo que tenía antes un momentín voy a cargar un poco el Side vale programa agenda okay Bueno me ha machacado el wid y el hike No pasa nada esto es porque le he puesto un Label y automáticamente se adapta al lavel ahora luego lo que haré es volverle a decir lo del wid y el High para que me respete las proporciones Originales del programa Por cierto otra cosa que os quiero decir es que la ventana como veis es totalmente manipulable se puede maximizar incluso De hecho yo lo que puedo hacer mediante programación no todavía ahora luego os enseñaré las instrucciones es bloquear esto es decir No solo decirle el wid y el height sino especificar si se puede maximizar si no se puede maximizar si debe estar siempre en el frente si se puede enviar al fondo si se puede minificar si desaparecen algunos botones de estos de aquí o qu vale quiero deciros que tkinter como ahora Lu veréis es una librería que tiene un montón de utilidades vale para el siguiente ejercicio lo que voy a hacer a continuación es trabajar con Más textos entonces autor es igual a Label voy a poner aquí otra vez el Side es igual a top voy a decir José Vicente carratalá esto es Blue ahora lo que hago es autor pun pack y s top es igual a top guardo recargo Y tenemos aquí Esto vale tenemos en rojo programa agenda en azul José Vicente cartal cuando empiezo a diseñar programas con interfaz de usuario ti a ser brutalmente hortera lo digo porque esto de un programa que tiene un título rojo y un título azul de momento estéticamente ya sé que está quedando fatal vale pero evidentemente lo estoy haciendo Voy a recuperar de hecho el padding lo estoy haciendo para demostraros el funcionamiento y para que veáis que realmente se pone en práctica lo que vemos aquí de los colores vale a continuación eh más cosas que puedo hacer como habéis visto en el text lo que puedo hacer es elegir el las propiedades del texto y digo lo siguiente font es igual a comillas Arial coma verdana coma sans serif y lo quiero a letra 24 voy a hacer esto más grande para que lo podáis ver pulso f5 e Qué pasa font sí aquí va una coma Okay f5 Vale m Ah Sí perdón Todo esto de aquí va entre paréntesis Okay vale Y como veis aparte del fondo verde ahora hablaremos de él pero como veis me ha creado la letra en Arial y eh o sea a tamaño 21 hay una cosa que me gusta mucho de la especificación de las fuentes que es esta sintaxis de aquí esta sintaxis lo que hace es primero en tu sistema operativo intenta Buscar la fuente de tipo Arial si no la encuentras en ese caso Busca una fuente que se llame verdana y si no la encuentras pilla una fuente que tengas que sea de la familia sans Sheriff Es decir de la familia de fuentes tipográficas sin decoraciones sin remates en vuestro sistema operativo tenéis un listado de fuentes aá muy bien Fantástico a ver ya fonts aquí catálogo tipográfico estaba ahí Ah catálogo tipográfico vale Y nos dice las fuentes que tenéis instaladas en este momento en el sistema me voy al ordenador y veréis como Aquí bueno por ejemplo veis que tengo ar con lo cual lo más normal es que haya cogido correctamente la letra Arial debo tener también verdana por la v verdana vale un poco para que veáis De dónde salen estos nombres que no son nombres que me invento sino que son nombres que corresponden a Fuentes tipográficas que debéis tener instaladas mayormente en vuestro sistema operativo voy a hacer lo mismo Aquí voy a hacer lo mismo voy a decir 16 y si queréis para que este programa sea menos sortera voy a decirle que esto es black Y esto es Grey f5 y aquí tenéis vale con lo que habíamos hecho antes y bueno en este caso el background lo voy a quitar porque esto que veis ahí es un remanente de ese background que había puesto antes lo quito y ya está muy bien Ahora a continuación lo que quiero es ser capaz de importar imágenes Dentro de este programa vamos a meter una imagen ya tenemos un Label vamos a ver que hay otro tipo de recurso que es el Photo image para meter un Photo image si me permitís ser un poquito egocéntrico voy a buscarme a mí mismo en internet Me voy a ir a imágenes tú fíjate qué porte que tengo madre mía es que estoy increíble Así que vengo por aquí y cojo esta imagen me guardo la imagen me la guardo en curso de me la guardo como José Vicente para tener un nombre reconocible y a continuación lo que quiero es meter esa imagen o realmente meter cualquier imagen dentro de mi programa en python para eso voy a hacer lo siguiente voy a poner foto es igual a foto image otro de los recursos incluidos dentro de tec inter y es file es ig a José Vicente entre comillas josev viicente jpg una vez más me vengo aquí dónde se me ha ido el navegador Pues no sé dónde ha ido una vez más me vengo aquí y digo python teca inter Photo image y lo que quiero es saber los formatos que tengo disponibl un momento Photo image Sí pero no Bueno voy a wiy H quería algo más como lo que hemos encontrado antes con una tablita voy a cerrar por cierto todo esto también de aquí más que nada por lo siguiente la imagen que me he bajado Pues bueno no la he reescalado en ningún programa Entonces qué va a ocurrir Pues que la imagen probablemente e Qué pasa por aquí vamos a ver no puedo reconocer datos en josev viicente punj vale vamos a verlo me voy a josev viicente punj Parece que la imagen existe correctamente en el en la carpeta correspondiente pero sin embargo me dice que no ha podido reconocer datos en la imagen esto a veces pasa cuando esto pasa es porque las imágenes bajadas de internet a veces pueden estar corruptas entonces una forma muy buena de limpiar las imágenes es abrirlas con el gimp volverlas a guardar con el gimp Y si la imagen estaba corrupta el gimp la suele limpiar bastante bien También sirve Photoshop pero más que nada Es que no quiero recomendaros un programa que es de pago cuando os puedo recomendar uno que es gratuito entonces me voy a exportar me voy a guardarlo como José Vicente 2 exporto y vamos a ver porque así veis ahí tengo José Vicente 2 Así debería haber cogido correctamente esta imagen vamos a verlo f5 vale Y ahora que me dice no puedo reconocer Data en el archivo Bueno vamos a verlo a ver si es que me falta algo vale a ver foto pun pack y Side es igual a top vale Y yo creo ya hacer una cosa y ahora voy a decir etiqueta foto es igual a lavel donde voy a decir que en el marco no en El Marco es ig y voy a decir que etiqueta foto pack Side es igual a top y ya está vamos a verlo f5 No todavía no vamos a ver create y me dice no puedo reconocer datos parece como que la foto esté corrupta un segundo a ver paso lo que he hecho en primer lugar es que he convertido la imagen de jpg a png Y eso ha aparecido arreglar al error Insisto que no es un error de tkinter porque evidentemente en tkinter puedes meter imágenes jpg como quieras De hecho también puedes meter gifs y gifs animados pero lo que he hecho es guardar en formato png porque la imagen jpg que estaba utilizando estaba dando algún tipo de error y luego el segundo error que me ha dado eso sí que es correcto Y es que foto no tiene el atributo punto pack sino que la foto debe ser cargada dentro de una etiqueta foto si queréis en lugar de llamarlo etiqueta foto voy a llamarlo texto foto para que nos entendamos o sea texto foto es literalmente como cuando estoy creando un Label la diferencia es que en este primer Label le estoy diciendo el texto que va a incluir Y en este tercer lavel porque este es el segundo en lugar de meterle un text le estoy diciendo que lo que contiene el Label no es un texto sino que contiene una foto Qué foto la foto que he cargado anteriormente Vale entonces vamos a esto eh otra de las cosas que probablemente me vais a preguntar desde el punto de vista de la refactorización es si no se puede hacer lo siguiente cojo esto hago Esto me cargo esto ejecuto y comprobamos bueno a ver Hola ahora aparecerá pues no aparece sin embargo si os fijáis sí que ha dejado el hueco de la imagen con lo ual sí que la está reconociendo porque el hueco que está dejando es tal cual el de la imagen pero bueno voy a devolverlo como estaba antes la cuestión es no haría esto y lo que os pregunto es por qué no haría eso esto en cualquier lenguaje de programación y especialmente en eso que os comenté el primer día que se llama refactorización se llama una variable intermediaria la variable intermediaria es una variable que realmente no sirve de nada porque sirve únicamente para almacenar esto aquí para luego utilizarlo aquí es decir Para eso podríamos meter directamente el Photo image aquí dentro Entonces si estuviéramos hablando de cualquier otro lenguaje de programación Y si estuviéramos hablando de refactorización os diría que efectivamente sí pero creo recordar que el otro día en la primera sesión estuvimos hablando del zen de python os acordáis y en el zen de python dijimos que una de las frases del zen de python era explícito es mejor que implícito vale por tanto esto es explícito mientras que lo de meterlo aquí dentro es implícito por tanto si bien en otros lenguajes de programación se recomienda que esto vaya aquí dentro en python por la explicad se recomienda que esté separado vale bien y luego tengo más parámetros tales como por ejemplo Photo image puedo decir with es igual a 100 height es igual a 100 guardo recargo ejecuto y así de esa forma lo que ocurre es que estoy cogiendo únicamente un recorte de los 100 primeros píxeles y los 100 primeros píxeles cuidado no estoy escalando la imagen lo que estoy haciendo es recortar un trozo de imagen evidentemente también se puede reescalar quiero decir que a ver un momento quiero decir que vengo por aquí y digo python tk inter Photo image scale aquí con resize vale no voy a hacer ahora resize porque Prefiero hacer otras cosas de momento lo que sí que puedo hacer es ir a Photoshop o a gimp insisto esto Y pasarlo a 100 por píxeles guardarlo como José Vicente png y aquí en el programa agenda poner José Vicente 4 y ahora sí veremos cómo sale correctamente la imagen completa vale Y por último antes de pasar al siguiente ejercicio voy a ejecutar una función que es una función llamada Main Loop insisto una vez más en que si lo estoy poniendo en inglés es porque no podéis cambiar el nombre de esa función eh anteriormente hemos comentado que os acordáis cuando vimos los bucles While que dijimos que si llamábamos a un bucle While y no poníamos su condición de finalización entraba en un bucle sin fin y yo os comenté que en programación los bucles sin fin no son tan malos sino que hay ocasiones en las que están justificados Main Loop lo que hace es arrancar un programa en ventanas y arrancar de fondo un bucle infinito arranco un bucle infinito porque de esa forma arranca escuchadores de eventos y los escuchadores de eventos van a ser muy importantes en los siguientes ejercicios por ejemplo para estar pendiente de cuando pulso un botón o cuando pulso una tecla Así que vamos al siguiente ejercicio y para ello es crear un documento nuevo lo voy a guardar como T dos si me permitís me voy a encender la luz de la lamparita porque un momentín porque estoy empezando a no ver nada y voy a bajar La persiana Vale y vamos allá y a continuación a ver tengo esto por aquí un momentín dme un segundo Ah vale vamos a ver okay esto por aquí esto es el 38 esto fuera y aquí a continuación lo que voy a hacer es Añadir un botón Así que digo Button no digo botón es igual a Ahora sí Button donde lo quiero poner en el marco el texto va a ser igual a pulsam y de momento ya está y ahora digo botón punto pack y digo Side es igual a top para que todo vaya cayendo hacia abajo y Bueno voy a poner un poco de padding X es ig 10 padding ig y es igual a 10 píxeles ejecuto y tengo esto tengo un botón llamado pulsam este botón ahora mismo no está haciendo nada para ello lo que voy a hacer es introducir Dentro de este botón un command que es igual a saluda os lo vuelvo a decir una vez más Si yo pongo la palabra command es que esa palabra tiene que estar así en inglés pero si yo pongo saluda está en castellano Eso quiere decir que podéis elegir lo que queráis Este programa va a dar un error alguien se le ocurre dónde va a estar el error es que estoy llamando un comando que no existe o sea estoy llamando a Saluda y no está definido saluda entonces pulso f5 Y fíjate que Saluda y not defin y de hecho ni siquiera me llega a aparecer el botón pero ya sabéis Cómo creamos funciones en python cuál es la palabra mágica y la palabra mágica no es por favor Vale pues dime lo ibas a decir Def correcto ya sabéis que siempre digo lo mismo definimos funciones en python vale Def para definir Def saluda pongo dos puntos y voy a poner algo sencillito voy a poner print has pulsado un botón guardo ejecuto ahí lo tenemos e name saluda is not defined bueno porque lo que voy a hacer en este caso es poner el Def saluda aquí arriba para que cuando lleguemos a este punto el programa conozca la existencia de saluda f5 Ahora sí y comprobamos que si ahora le doy a pulsa me dirá has pulsado un botón de una forma todavía muy como te diría yo muy arcaica vale pero por lo menos tenemos la comprobación de que efectivamente el programa está respondiendo a ese esa pulsación de botón e Generalmente cuando llego a esta parte del curso y os lo voy a decir no me lo s de memoria lo veréis pero cuando llego a esta parte del curso la gente dice Oye y hacer un programa de salir del programa que yo siempre digo para qué quieres un botón de salir del programa cuando tienes el botoncito rojo oj Pero bueno Pero vale entonces yo siempre lo que suelo hacer es vamos a ver python tk inter quit command entonces Close window y qu vale exit vale Ok y aquí el Root destroy Vale entonces cojo root destroy vamos a ver y Tac Ok Lo pongo aquí ejecuto f5 pulso el botón y cuidado Root is not defined vale porque no lo he definido con lo cual marco punto destroy pulso has pulsado un botón no está destruyendo el marco Bueno pues ahora lo veremos pero Generalmente con eso lo que suelo hacer es eh destruirlo Si no vamos a ver claro puedo esto globalroot y Root quit f5 tampoco Root is not defined Root is not defined Ah porque están programando de esta otra forma que también es posible pero no lo estoy utilizando yo Nada pues ya os lo comentaré con esta metodología de programación Cómo se puede hacer el quit vale pero de momento evidentemente para cerrar un programa en python pues simplemente hacemos así Cerramos el programa y ya está Vale bien vamos a trabajar ahora con otros elementos de python como son por ejemplo los inputs si quiero hacer una agenda evidentemente lo que quiero es poder escribir dentro de un input copio voy a hacer nuevo archivo Vale y a continuación lo que voy a hacer es crear un nuevo archivo pego y ahora por aquí debajo del botón voy a utilizar el siguiente campo vamos a ver voy a decir campo si está en castellano Es que puedo elegir lo que quiera en try dentro del marco y ahora campo pun pack Side es igual a top y ya está e esto es el python 40 tkinter 3 bien Vamos a darle f5 y como veréis tengo un campo en el cual puedo introducir contenido Vale entonces veréis a continuación lo que voy a hacer estamos Ya entrando en el último cuarto de la clase de hoy es empezar a enlazar cosas que hemos aprendido en la clase de hoy Entonces yo qué es lo que quiero pues lo que quiero es lo siguiente quiero vamos a ver título antes del campo introduce un nombre Esto va a tener letra 14 el botón lo quiero al final f5 y comprobamos cómo vamos hasta ahora Espera que he pulsado f6 Siempre me pasa vale introduce un nombre esto que he hecho no es muy limpio os lo voy a decir que es que he reutilizado el nombre de la variable título dos veces si luego quiero Acceder al nombre de la variable voy a tener un problema porque no podré localizar esta de aquí porque la he sobreescrito pero tampoco voy a acceder a esta variable o sea quiero deciros que lo que he hecho es un poco guarrete pero lo he hecho para escribir código rápidamente Para no perder mucho tiempo renombrando variables a continuación Esto sí que lo voy a nombrar bien campo nombre Eso sí que me interesa nombrarlo bien escribo otro título voy a hacer esto para que no se me salga del sitio vale título es Label introduce un teléfono no he puesto el acento pero bueno Y esto es campo teléfono y por último introduce un email campo email Y por último guarda este registro en la base de datos f5 y veis que tengo introduce un nombre introduce un teléfono introduce un email y el botón de guarda este registro en la base de datos en qué base de datos Pues evidentemente en la base de datos que hemos utilizado hace un rato Así que pincho por aquí de momento me dice Has pulsado un botón y yo lo que quiero a continuación es que cuando yo pulse el botón el programa se conecte con la base de datos y le d eh lo que sea que voy a utilizar vale le de En definitiva como te diría yo eh Pues la información para ello evidentemente en primer lugar voy a recuperar el código de ejercicios anteriores delete no update no insert este sí copio el código y lo copio con cuidado evidentemente las importaciones van arriba del todo y todo esto de aquí me lo puedo poner dentro de saluda Cuidado con las sangrías hay que ponerlas correctamente si me permitís me voy a cargar los comentarios porque ya está claro del ejercicio anterior los comentarios Vale y vamos a ver vamos a probar icio de momento aunque no estoy pasando todavía bien los datos Pero si yo ahora voy a poner esto aquí para que se vea todo el código si ahora pulso f5 y ahora introduzco un nombre un teléfono y un email guardo este registro en la base de datos Y daos cuenta de momento que estoy guardando Jorge 2222 Jorge @correo O sea no está completo pero voy a pulsar esto una y dos y tres y cuatro y cinco veces os acordáis veis lo he pulsado cinco veces Ahora me voy a la base de datos me voy a actualizar y veo como 1 2s 3 cuat y cinco veces ha insertado ese registro o sea ya tengo un programa de agenda que es capaz de recoger unos datos en los campos y cuando pulso un botón es capaz de meter algo en la base de datos pero claro ahora evidentemente como podéis imaginar en la siguiente parte del ejercicio yo no quiero que me meta Jorge 2222 y Jorge @correo yo quiero que me meta lo la información que yo he creado realmente en este campo de aquí vale entonces para ello lo que voy a hacer es lo siguiente en el botón le voy a decir que el comando es saluda pero voy a hacer lo siguiente vamos a ver voy a decirle que el la función de guarda va a guardar De hecho si queréis ya no va a ser saluda va a ser guarda y va a ser guarda Vale entonces va a aceptar tres parámetros acordaos del otro día de lo que estuvimos aprendiendo acerca de parámetros de las funciones va a guardar el nombre va a guardar el teléfono va a guardar el email a continuación voy a hacer lo siguiente como estoy llamando a Campos ya no puedo llamarlo como directamente un comando sino que tengo que decirle Comando es igual a lambda porque lo que estoy haciendo es pasarle parámetros y ahora los parámetros son los siguientes es campon nombre os acordáis que he dicho que tenía que tener mucho cuidado con los nombres campon nombre get coma campot teléfono get coma campo email.net es decir estoy llamando a la función guarda con un lambda para poder pasarle parámetros estoy llamando la función guarda pasándole el get el Dame lo que tenga el campo nombre el Dame lo que tenga el campo teléfono y el Dame lo que tenga el campo email y estos tres parámetros se los estoy pasando a la función que de hecho espera recibir tres parámetros Bueno antes de darle a ejecutar os voy a decir que estoy nervioso vale las probabilidades de que esto explote son relativamente altas Así que voy a darle f5 y Eh bueno de momento no ha explotado esto ya me extraña y voy a decirle AAA teléfono 111 y mail a@a.com guardo este registro en la base de datos el programa no da ningún error estoy muy extrañado me voy a la base de datos refresco Ah ya me extrañaba a mí vale Ya me extrañaba que funcionara todo perfectamente y eh Y vale de momento no ha insertado nada de hecho es un 2s 3 4 5 y se Qué raro Ah sí claro muy bien no he acabado la función porque si he guardado aquí nombre evidentemente tengo que bajar los parámetros a la instrucción cuidado aquí sí que necesito encadenar vamos a ver nombre ah no sí correcto nombre aquí va una comilla sencilla aquí teléfono aquí email vamos a volver a ejecutarlo guardo el nombre AAA teléfono 111 email eh qqq le doy a guardar de momento no ha reventado me voy a la base de datos actualizo los datos Y ahora sí tengo aa 1 qqq vale con lo cual comprobamos como estamos combinando las dos partes que hemos realizado o que estamos realizando en la clase de hoy como es por ejemplo en este caso eso poder realizar un programa que nos permita insertar vale que nos permita eh cargar registros a continuación puedo complementar este programa creando por ejemplo pues un Label creando un Label vamos a ver creando un Label o creando un entry vamos a ver título Dame los registros de la base de datos F a ver antes de avanzar más Vamos a repasar esta parte que evidentemente tiene su miga vamos a ver si lo devuelvo A como estaba antes déjame deshacer unas cuantas veces venga va madre mía es que recuerda ahí vale así es como estaba originalmente lo que voy a hacer es voy a copiar para no olvidar lo que teníamos originalmente y voy a analizar qué es lo que tenemos esto de aquí es una cadena de texto es una cadena de caracteres alfanuméricos cuando Aquí Estás viendo que hay una comilla ten en cuenta que es una comilla sencilla y por tanto es una comilla que está yendo a malla sql O sea no es una comilla de python pero claro yo ahora mismo tengo un problema y es que esta cadena de caracteres es estática Eso quiere decir que siempre me va a guardar Jorge 2222 Jorge correo Yo quiero que sea dinámica entonces para que sea dinámica yo lo que quiero es utilizar estas variables que tengo aquí arriba pero para utilizar variables lo que tengo que hacer es escaparme de la cadena de caracteres y por tanto me escapo si Aquí he empezado la cadena me escapo con comillas Por qué comillas porque si no fíjate que todo se corrompe vale tiene que ser comillas para salir y comillas para entrar Entonces lo primero que tienes que entender es que estas comillas sencillas son las comillas de dentro de la cadena alfanumérica las comillas dobles marcan que me quiero escapar de esta cadena de aquí y ahora evidentemente tengo que poner más para encadenar lo que veíamos el otro día del las comas vale el carácter más no como suma sino como Encadenados poner nombre te voy a decir que las probabilidades que tenéis de equivocar en este punto del programa son altísimas de olvidaros una coma doble una coma sencilla de olvidaros el signo más de decir como ya tengo estas comillas para qué quiero estas otras comillas cuando realmente sí que las quieres Vale entonces eh Te voy decir una cosa y lo vuelvo a dejar como estaba te voy a decir una cosa las probabilidades de que os equivoqué en este punto Son altísimas y las probabilidades de que eh En un momento dado no sepáis dónde os habéis equivocado también son altísimas entonces Os voy a contar una cosa os voy a contar una anécdota una batallita para que os acordéis de mí cuando llegue el momento hace unos pocos años tenía un alumno muy bueno llamado Nicolás y digo un alumno muy bueno porque cómo diría yo no es uno de estos alumnos que les cuesta sino un tío de los que van a saco vale van a muy buen ritmo y un buen día Yo estaba en mi casa y ese alumno me llama y me dice Oye mira eh estoy en la calle porque me he bajado a la calle a darme una vuelta y a fumar Y yo le dije muy malo de fumar y le dije pero qué haces en la calle porque me estás llevando desde la calle porque generalmente la gente me llama cuando está delante del ordenador y me dijo mira me he puesto tan nervioso que me he bajado la calle dar una vuelta y le dije vale Por qué te has puesto nervioso y entonces estaba haciendo una cosa de estas no en Este lenguaje no en python sino en php pero la dificultad es exactamente la misma y simplemente había estado como dos o tres horas Buscando el error y no le salía se había puesto nervioso y se había bajado la calle y le dije mira llámame cuando estés delante del ordenador porque en la calle te voy a poder ayudar poco o sea te voy a dar ánimos pero poco más vale entonces me llama al rato cuando sube me lo envía por correo y o sea básicamente para que te hagas la idea le pasaba esto O sea le faltaba una comilla y por una comilla no le funcionaba nada y se había tenado unas cuantas horas intentando que funcionara entonces claro vi su código y le dije Ah mira si después de tal campo no sería teléfono después de el campo te falta una comilla sencilla ponlo y ya está lo puso le funcionó y me dijo me quiero cortar las venas y me dijo me quiero cortar las venas porque cómo es posible que tú hayas averiguado en 5 lo que yo en TR horas no he podido averiguar y lo que yo le dije es yo lo he averiguado en 3 segundos porque llevo un montón de años haciendo esto y porque yo ya me he tirado unas cuantas horas cuando aprendí a programar buscando ese tipo de errores Entonces cuando eso os ocurra No penséis si al profesor le salía totalmente bien en clase Porque a mí me da fallo y no acabo de encontrar el fallo porque si lo buscáis al final lo encontráis pero yo soy perfectamente consciente de que esto que os acabo de enseñar aquí que es igual en cualquier lenguaje de programación es difícil acordarse de comilla sencilla comilla doble más pues más comilla doble comilla sencilla comilla doble más pues más comilla doble comilla sencilla todavía no hemos hecho ningún ejercicio bueno técnicamente aquí si os fijáis empieza a aparecer de lo del tema de los paréntesis el número de paréntesis Este es otro de los grandes de fallo en un programa informático que es que se te olvide o que sobre alguno de los paréntesis de apertura o de cierre y es otra de las cosas mediante las cuales podéis estar horas y horas delante de un programa A ver por qué me falla Este programa Vale entonces lo que os quiero decir es que cuando os pase no os desesperéis simplemente acordaos de mí cuando os estoy diciendo que esto es lo más normal del mundo que es acordaos además de lo que os dije el primer día creo que fue Y es que el objetivo no es programar sin errores eso es imposible el objetivo más realista es cuando cometais errores porque los Vais a cometer aprender a localizar lo más rápido posible los errores y aprender a arreglarlos lo más rápido posible eso es un objetivo más realista en programación no digo ya en python sino en cualquier otro lenguaje de programación vale Bueno pues vamos a seguir y como os decía a continuación lo que voy a hacer es poner un título y eh Dame los resultados de la base de datos Okay voy a llamar a un botón dónde estás botón aquí lo voy a llamar botón Dame que es eh devuelve los registros la función es le no le voy a pasar parámetros veis Mira voy a eliminar ese trozo Y fíjate que a veces no es fácil saber hasta qué paréntesis tengo que eliminar Ok y ahora evidentemente tendré que crear una función Def le print voy a leer la base de datos f5 Vale y dame los resultados devuelve los registros voy a leer la base de datos Y ahora lo que voy a hacer es crear un Label título Label resultados esto es título devuelve vale Y lo que quiero ahí donde pone res cuando pulse devuelve los registros quiero que ahí ponga aquí son los registros de la base de datos entonces un momento vale lo que voy a hacer para eso es venir aquí y decir título devuelve punto Label text es igual a Aquí van los resultados f5 pulso devuelve los resultados no me lo está cogiendo no me lo está cogiendo porque tendré que definir ese texto como cambiable voy a leer la base de datos título devuelve punto lavel text OK Vamos a verlo un momento lo que he hecho finalmente vamos a ver lo que he hecho finalmente es cambiar el título de vuelve por un entry en el cual es más fácil cambiar el texto en el título devuelve lo que he hecho es que cuando lee título devuelve punto insert y le digo en cero inserta la palabra Hola Y de esa forma comprobamos como si devuelvo los registros ahí dice hola evidentemente en lugar de decir hola lo que quiero es que me ponga todos los registros de la base de datos así que me vengo por aquí me vuelvo al ejercicio de leer y digo lo siguiente vamos a ver conexión es esa de ahí cursor es este de aquí cursor execute es este de aquí y ahora voy a decir lo siguiente longaniza es igual a nada datos es igual a estos datos y for in datos longaniza más igual a esto de aquí y por último Y ahora os cuento que estoy haciendo Y por último título devuelve insert longaniza veréis lo que hecho es lo siguiente si yo aquí dentro del bucle for le digo que cambie el texto del campo lo que va a ocurrir es que lo va a cambiar y luego lo va cambiar y luego lo va a cambiar y luego lo va a cambiar Pero yo lo que quiero No es que me lo cambie sino que me lo vaya metiendo en una variable poco a poco es decir que me lo vaya encadenando que me lo vaya sumando y al final que me devuelva toda la longaniza encadenada suelo usar la variable de nombre longaniza cuando lo que voy a hacer es encadenar unas cosas con otras vale uso longaniza uso morcilla uso embutido uso ese tipo de cosas entonces guardamos f5 le doy al botón de devuelve los registros Vale entonces eh solo puedo encadenar str y me ha dicho que parece que estoy intentando encadenar una tupla esto ya nos pasó el otro día en clase entonces lo que voy a hacer en este caso es asegurarme que esto de aquí es un String acordaos que el otro día teníamos Ah Aquí está el problema vale Sí espera otra forma de hacerlo es que en lugar de poner una coma voy a poner un signo más porque visteis que cuando poníamos la coma el programa tendía a considerarlo como si fuera una tupla f5 devuelvo los registros vale No puedo encadenar String no entero tu String Muy bien pues en este caso lo que voy a hacer es str y lo fuerzo a cadena f5 le doy vale bueno longaniza + i3 me voy a cargar esto y aquí más paréntesis Okay Vale ahora sí entonces ahí bueno Únicamente lo que pasa es que me lo ha encadenado todo la Bestia con lo cual tendría que hacerlo en una nueva línea o algo así o por ejemplo vamos a ver aquí voy a poner contra barra n para que baje de línea claro no baja del línea porque no es un campo de texto o sea no es un campo de texto multilínea es un campo de texto de una única línea pero por ejemplo lo que podría hacer es utilizar un campo de T que sea de múltiples líneas vamos a buscar alguno de estos entonces he encontrado este text Estoy buscando uno que no dependa de widgets avanzados sino que sean los de por defecto de tk inter entonces he encontrado este que en lugar de ser un entry es un text y que además tendrá altura dos anchura 30 pues vamos a decirle que altura 20 anchura 30 vamos a probar así en principio parece que soporta perfectamente El Comando insert que es este Comando de aquí pulsamos f5 vemos como ya de hecho el hueco que está dejando es un text Field Y si le digo devuelve los registros vale un momentín Bad text Index cer Sí porque este no requiere el parámetro cero vamos a comprobarlo Ah tk end Bueno vamos a verlo vale Eh sí requiere esto Pues venga pues vamos a poner tkn claro tkn No es tkn porque no es tk sino es marco end y no me No creo que eso vaya a funcionar No Ok Vale pues un segundin Y pues ahora sí le doy a f5 he podido encontrar la palabra reservada insert que me sirve para insertar en el punto actual que en este caso es el punto cer y por ejemplo quiero meter usuario pues nnn y nnn guardo el registro en la base de datos y devuelvo los registros y veo que de hecho tengo Juan tengo Jorge pero si miro por allí abajo tengo el 11 1 el Jorge con 2 y nnn con teléfono nn con mail nnn En definitiva ahora sí ya tengo estas dos funciones principales que son las que nos permiten tanto introducir registros en una base de datos como en este caso también poder leer los registros dejadme que por último para formatearlo un poco en with le diga 60 y quizás en H le diga 30 pulso f5 devuelvo los registros vale Y ahí los tengo Y como veo me hace caso a lo del contrabarra n en cuanto a bajar los registros Bueno pues finalizando la clase hablamos de deberes para la semana que viene recordamos que tenemos la próxima clase el lunes que viene entonces eh lo que quiero para que os pongáis un poco a prueba o sea un ejercicio que podría poner es hacer esto mismo y que os funcione no tiene mucho misterio porque sería repetir el código que he hecho y además ahora en un momento como ahora veréis os lo voy a dejar en el Google Drive lo que quiero es que hagáis una agenda completa en el sentido de que se pueda introducir un nuevo registro se pueda Buscar un registro o sea Búscame por nombre Búscame por teléfono Búscame por email se puedan devolver todos los registros y se pueda hacer alguna operación tales como por ejemplo actualizar registro vale No espero maravillas de vosotros lo que quiero es que movámonos coged Mi código copiarlo y pegarlo y empezar a modificarlo vale hay diferentes tipologías de alumno de lo que se trata es de que eh cada alumno encuentre el ritmo que le guste Vale entonces eh Fernando te he visto que has levantado la mano ahora vamos a tu duda entonces un moment un momen acabo de explicar una cosa Sí dime okay No te preocupes no hay ningún problema Vale pues como lo estoy grabando ahora luego mira la grabación del vídeo y verás Lo que he explicado en cuanto a los deberes No te preocupes no hay ningún problema vale venga nos vemos luego a ti hasta ahora entonces veréis eh Hay alumnos que solo copiar el código y modificarlo no le supone ningún reto no dic No yo quiero construirlo desde cero y quiero eh Y quiero probarlo desde cero y hay alumnos que dicen mira yo con el nivel que tengo de python no me atrevo a empezar de una hoja en blanco porque no me atrevo porque no sé todavía qué va a ocurrir entonces lo que quiero es que cada uno encontréis vuestro espacio es decir vosotros sois los que Vais a decidir si copiáis código y no es malo o si empezáis desde cero vale pero sí que me gustaría que para esta semana que viene hicierais algo más que simplemente editar o sea mi código sino simplemente buscáis la forma de modificarlo y que os funcione y si no os funciona pues me enviáis correo vale alguna pregunta