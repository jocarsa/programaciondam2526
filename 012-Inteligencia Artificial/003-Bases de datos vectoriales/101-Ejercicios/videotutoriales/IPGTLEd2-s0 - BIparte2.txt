continuamos con el sistema de inteligencia empresarial y para ello ahora a continuación voy a Añadir un pequeño detallito vamos a hacer cosas más grandes y cosas más pequeñas pero ahora a continuación lo que quiero hacer es esto voy a copiar esto voy a pegarlo aquí arriba a ver esto lo quiero hasta aquí vale Y ahora voy a hacer lo siguiente Row es igual a resolve todo esto vale Y ahora voy a decir eco la búsqueda a devuelto resultados la búsqueda devuelto cuando resultados pues la búsqueda devuelto count resultados si esto ha ido bien y ahora hago así la búsqueda devuelto 21 resultados aquí parece que hay más de 21 Ah no perdón vale No porque esto es cada uno de los elementos claro estos límites 1 okay Ah bueno Vale bueno los ha devuelto 21 resultados y yo empiezo a seleccionar me dice cuántas columnas hay No quiero esto lo que quiero es esto contador es igual a cero Quiero poner un While quiero decir contador más y contador Y si ahora recargo me voy a logs la búsqueda devuelto 132 resultados eso me cuadra más año mes sigue devolviendo 132 resultados vale es correcto y ahora lo que lo siguiente que quiero hacer es aplicarle algún tipo de filtrado para que yo pueda decir pues Qué elementos quiero dentro de la búsqueda Vale entonces a continuación Esto va a ser difícil vamos a probar a continuación voy a hacer lo siguiente vamos a ver vale Voy a venir por aquí voy a crear un elemento nuevo esto es selección condiciones vale selecciona los campos con condiciones selecciona condiciones vale Y ahora lo que quiero es este carga Campos carga condiciones vale vamos a ver la verdad es que técnicamente para esto no me haría falta un archivo php porque los campos Ya los tengo aquí Así que voy a eliminar ese carga condiciones para no crear cosas que luego no voy a utilizar en el código voy a decir condiciones es igual a nada de momento Vale y ahora voy a hacer lo siguiente Ok Ok vale y digo para cada uno de estos dentro de selecciona condiciones selección condiciones no selecciona condiciones voy a añadir un seleccionado de y más dos puntos input type text name pues name No lo sé ahora veremos Y esto es igual Así que recargo entregas logs vale cojo el campo año y me dice dónde año es igual a lo que sea hago años igual mes es igual vale Ok vengo aquí y digo seleccionar condiciones punto html nada y pongo un pequeño br si todo va bien le doy a luz y cojo utc año mes día hora y vemos como el sistema lo que está haciendo es pues introducir digamos un nuevo elemento vale nuevo elemento donde a cada uno de los campos que he seleccionado le puedo poner condiciones vamos a introducir por aquí vamos a ver un spam Class condición vale aquí se me ha escapado algo así se me ha escapado Esto vale Ok y aquí acabamos en un spam estoy pensando vale spam looks año mes Ahí está día hora muy bien spam condición es un padding top de 10 píxeles un plugins botón de 10 píxeles vamos a verlo luego Aparte también creo que va a ser de que no vamos a cambiar el spam por un div el br fuera OK ahora sí Vale ahora pondremos también columnas Así que esto es selecciona condiciones Columbus 3 vale no me ha hecho muchas columnas Pero bueno no pasa nada ahora haremos columnas a selección Campos El caso es que sí que se supone que selección condiciones la selección condiciones todavía no Pero vale me da igual bien entonces ahora el input type text es un padding top de 5 píxeles botón de 5 píxeles y lo mismo para los martins vale Muy bien Entonces ahora en el momento en el que empezamos a escribir vamos a introducir condiciones para cada uno de los campos de forma opcional también es cierto esto vamos a ver esto qué pasa esto tiene a ver las condición display in Line Pero bueno lo que quiero es que caigan unos debajo de otros de momento me va a valer pero bien Vamos a ver ahora input type text vale ahora valió Class nueva condición y ahora campo es igual Ok campo es igual a seleccionado de y por lo tanto si ahora hago así mes año inspecciono clase nueva condición campo año y por tanto Ahora puedo hacer lo siguiente cuando nueva condición punto change pues en ese caso por cierto que aquí en Tablas voy a poner condiciones pues en ese caso función condiciones es igual a web y ahora vengo y digo nueva condición punto its para cada uno de ellos función If this.val si el valor no es vacío si el valor no está vacío en ese caso voy a decir condiciones vamos a ver punto más igual perdón más igual a this punto a ttr campo más es igual más this.val y lo encadenamos con una coma lo encadenamos con una coma para al final decir que lo mismo que he hecho antes slice condiciones es igual a condiciones slides y aquí le enganchamos también las condiciones Si todo va bien Vamos a ver le digo que quieren los blogs quiero año mes día pero quiero donde el año sea igual a 2013 he salido le he dicho change no me ha hecho ni caso Vale y consola no me ha hecho ni caso por qué nueva condición punto change Ah es que este es un elemento creado dinámicamente vale como Este es un elemento creado dinámicamente tengo que usar el on document.on vale on change coma nueva condición función estoy aquí tengo un trozo eso de ahí vamos a verlo los año mes año 2020 no me está haciendo ni caso jquerion es más aquí jquerón evento challen selector evento sea el selector voy a refrescar vamos a ver qué es lo que está fallando Class nueva condición evento change keypress Ok Down s año mes día año es igual a nueva condición name no me está poniendo nada pero vale Class nueva condición las nuevas condiciones vale voy a hacer con solo punto Hola para ver si está entrando ahí o no porque no está entrando Así que escribo Así que dice Hola vale interesante dice hola luego sí que está entrando Ok pues vamos a ver dónde está el problema condiciones ok sql text Ah ostras está ahí si lo estaba poniendo No ya había dado cuenta vale lox quiero año mes día hora donde años igual a 2013 ahora no me lo está poniendo entregas los Vale pues voy a poner change se hace un momento lo estaba dando bueno Y ahora no console punto log Hola curioso me ha parecido que si le ponía el consuelo punto y que funcionaba ahora no que down hay Hola Snow Define Hola is not the find con el que da un sí Pero vale está haciendo Hola pero no me está recogiendo no me está recogiendo vale condiciones es igual a güera por qué no me pones el güero no me pones el web porque aquí no he llamado a resultados tabla OK ahora sí utc año mes día vale año es igual a 2013 Ok y Vale y 10 meses ahí tengo un error vale luego otra cosa uno caida aún veo que no me funciona bueno Esto no es una coma es una anda evidentemente Así que voy a poner una entonces entregas los años mes día año 2013 mes 10 vale Ahí de momento está funcionando ahí de momento está funcionando Lo único es que cuando pulso sí que parece que lo coge pero aquí vamos a ver pero ahí parece que no hace eso hasta que ha pasado un segundo lo cual es raro de momento es un funcionamiento un poco extraño Pero bueno podemos sobrevivir por el momento y ahora lo que voy a hacer es hacer un pequeño like voy a hacer un pequeño like porque así vamos a verlo porque si yo por ejemplo voy a recargar cojo los logs y cojo navegador y cojo año mes día hora minuto y segundo Pues claro vengo a navegador pongo Windows y veo que vale encima me da un error porque tendría que decirle que pongo comillas pero tampoco me lo va tampoco me los va a devolver Vale entonces ahí la cuestión está en que voy a hacer varias cosas vamos a ver campo es like comillas y porcentaje vamos a verlo ahora entregas looks de año mes día hora minuto y navegador vale Y ahora el navegador pongo Windows vale Y ahí pues lo empiezo a tener o era por ejemplo Quiero un minuto y quiero un segundo que me ha borrado quiero que el navegador sea Mac Vale pues ahí para por ahí una por ahí está la cosa muy bien ok voy a poner un límite colisionará con una cosa que he hecho antes pero creo que lo puedo arreglar porque aquí donde le he enganchado un límite vale le puedo decir If Y entonces hago los y ya está Vale y así me quito el límite 1 y entonces ahora en el código voy a decir que selección Límite selecciona el límite de resultados esto es bueno este puede ser un selecto así que esto puede ser un Select No la verdad es que no input type number realmente y de Límite y ya está vamos a verlo Vamos a ponerle un poquito más de estilo vamos a ir al código ya vamos a decirle que Martín top 10 píxeles más bien botón 10 píxeles vale Entonces ahora vengo por aquí y en el código le digo límite es igual a cero bar límite es igual a cero vale más limit es igual a límite mil millones de trillones Vale entonces Ahora vengo por aquí y más Límite Y entonces aquí digo cuando sobre el límite punto change entonces digo límite es igual al límite más voy a poner un espacio por si acaso y resultados tabla Así que si todo va bien Esto es un signo más si todo va bien recargo quiero looks quiero año mes día hay 132 resultados Quiero un límite de 10 hay 9 resultados a ver devuelve 9 resultados no sé por qué pero vale Y ahora quiero que el año sea 2016 Vale y En definitiva pues vamos acortando un poquito Cuál es la búsqueda vamos a ver más cosas Yo creo que prácticamente tenemos ya la lógica de esta parte del ejercicio Entonces ahora a continuación lo que voy a hacer va a ser intentar organizar un poquito esto vamos a ver esto Qué es esto es una condición que sigue siendo un div vamos a poner un spam a ver selecciona condiciones estilo selecciona condiciones a es que es un ID no me hace ni caso Y es que no me gusta cómo queda no me gusta cómo queda vamos a ver cómo lo podemos maquetar quizás una tabla tablet selecciona condiciones TR TV vamos a probarlo ahora año mes día esto Qué es TR condición año no es correcto t de año esperas Tú sí que es correcto Y por qué porque condición display in Line vale muy bien php pb TV y pH Y esto es campo condición en el estilo display Line fuera entregas año mes día hora minuto vale selecciona el límite de resultados aquí que ocurre Table th el tsph los que toman al parecer pH pues no veo que esté mal escrito thd no veo que esté mal pero bueno voy a dejarlo de momento así vale el límite de resultados aquí hay pues alguna cosa que está mal igual a esa tabla pues le pondría lo mismo de antes los año mes día hora minuto vale vamos a ver tabla Ah claro este campo se sale cara Y qué mala suerte Bueno voy a hacer una cosa voy a quitar de momento ese apén no sé por qué falla pero al parecer está fallando vale Y ahora este voy a decirle with 100% esto porque no es 100% porque no es así sí que es un nombre y por qué no es 100% selecciona condiciones selección Límite esto es seleccionar condiciones no esto selecciona el límite Ok vale año mes días y el formulario pues queda un poquito más apañado queda un poquito más aseado vale Muy bien pues esto de momento va cogiendo forma y ahora lo que voy a hacer es en los archivos php voy a lanzar la conexión fuera entonces voy a cargar estos archivos voy a crear uno nuevo lo voy a llamar aquí dentro de php el archivo config.php vale Y por tanto ahora voy a esto lo voy a meter dentro de config php include con punto php Así que lo reemplazo Y comprobamos que evidentemente siga funcionando vale con esto como podemos comprobar lo que estamos haciendo es pues introducir un Select de la tabla introducir Campos podemos introducir alias es algo que podríamos hacer ahora mismo por ejemplo podemos seleccionar límite podemos seleccionar web más adelante lo que haremos es trabajar con left join trabajar con funciones hacer un count vale En definitiva pues lo que podemos hacer es crear tantos Campos como necesitemos crear una petición dinámica tal que pues estamos poniendo el poder digamos en las manos de personas que no son vale programadores vamos a poner alias vamos a poner alias porque bueno puede ser algo sencillo de hacer antes de meternos con algo más complejo como el joints y todo eso así que vamos a por ello vamos a ver los alias realmente Ya los tengo aquí Así que para ello me voy a index y en las condiciones mismo voy a poner por ejemplo por aquí abajo alias vale Y ahora pongo esto selección alias esto es Table y de pues selecciona alias OK Vamos a ver lo como con condiciones no selecciona los alias para los campos es opcional eso también es opcional técnicamente Vale y vamos allá vamos a ver vale un momento a otra cosa que quiero hacer hace rato Es decir html lang es igual a es y en el body Bueno aquí en el Head me firmeza es igual porque tengo por ahí un acento que hace un rato que me está dando y ahora sí muy bien que iba a hacer yo los alias vale entonces yo aquí lo que haría en el código es básicamente copiar esto selecciona Campos punto change no eres tú mismo es esto mismo introduzco las condiciones e introduzco los alias vale selecciona alias lo vacío y ahora selección alias si todo va bien es selección selecciona alias seleccionadas vale t r Class alias té de seleccionado nuevo alias Vale y campo es igual a eso vamos a verlo quiero deluxe quiero el año el mes y el día los alias para los campos y ahora Aquí voy a poner mi año por ejemplo vale este campo ok es una cosa voy a hacer alias es igual a aquí vale ok Vale pues vamos a ver si lo tengo todo Campos que columnas vale y aquí en la columna digo sí alias es igual a seleccionado punto dónde estás esto es un selector punto Val no es igual a nada en ese caso columnas más igual a algo por cierto que aquí columnas más igual a coma esto fuera y ahora voy a poner as y punto vale comillas más comillas espacio y a ver qué pasa vamos a ver verlo vale recargamos año alias año a año de momento va bastante bien y ahora lo que quiero hacer es lo mismo con el resto de cosas es decir no solo cuando selecciono un campo pues por ejemplo año es igual Sí claro tengo que seleccionar Campos columnas punto slice este selecciona Campos punto change y realmente Debería ser cualquier cosa Debería ser cuando input con más Select punto change vamos a verlo looks utc año mes ha dejado de funcionar vale otra cosa que puedo hacer es decir el sistema que document que irá un nuevo alias es nuevo alias muy varias correcto Vale pues hago así y copia este código seleccionado es eso copio este código probablemente sobra copiarlo dos veces pero de momento va a funcionar lockx año mes día y año es igual a año se me sale porque se sale esto no así esto Ah claro esto no a ver entonces con los alias aquí copio pego recargo logs vale año mes hora día lo que sea año es año ahora sí Y esto es mes del año y ahora sí Ahora como podemos ver pues ya tengo un sistema donde Además le digo pues quiero 10 resultados y me salen es el 9 es curioso vale Pero ahora veremos y me sale todo lo que estoy pidiendo bien ya tengo esto por aquí ya tengo esto por aquí y me invento de momento ya está de momento por lo menos por esta parte del ejercicio vamos a ver un segundo estaba pensando yo que quería hacer algo más y se me acaba de olvidar Pues ahora me acordaré era algo sencillo así sí lo que quería hacer era aquí h1 selección de la tabla h1 selección de los campos que quieres ver en el informe selección de los alias por campo 4 selección de las condiciones y 5 selección del Límite Entonces ahora vengo por aquí y digo en primer lugar seleccionamos la tabla principal sobre la cual queremos operar a continuación seleccionamos los campos que queremos que intervengan en nuestro informe alias seleccionamos los nombres de columna que queramos que aparezcan introducimos condiciones para los campos que hemos seleccionado Y por último podemos limitar la cantidad de registros que tiene el o que nos proporciona el informe Muy bien pues ahora sí ya lo tenemos simplemente vamos a ver estéticamente qué forma tiene vale selección de la tabla Pues en primer lugar seleccionamos la tabla a continuación seleccionamos los campos a continuación seleccionamos lo que sea seleccionamos el límite y vemos como poco a poco pues esto empieza a forma vamos a ver vale Y más o menos Pues aquí está la segunda parte del ejercicio