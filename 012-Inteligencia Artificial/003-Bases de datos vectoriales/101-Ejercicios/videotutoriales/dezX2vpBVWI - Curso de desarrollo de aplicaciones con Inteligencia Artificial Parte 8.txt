llega un momento en el que de alguna forma tenemos que ser capaces de realizar algún tipo de persistencia vamos a hacer lo siguiente vamos a venir al escritorio vamos a venir de hecho aplicaciones vamos a ir ht rocks vamos a trabajar en la parte de inteligencia artificial y vamos a hacer lo siguiente y es que hasta ahora estamos trabajando con un lenguaje que es javascript que tiene ciertas ventajas y tiene otras desventajas en este caso la desventaja que vamos a encontrar consiste en que el javascript originalmente es un lenguaje pensado para ejecutarse en el navegador y por razones de seguridad así como hace años existía la posibilidad de hace muchos años de poder leer y guardar archivos del sistema el directorio de archivos local por seguridad por para evitar unos maliciosos hace ya tiempo que no se puede entonces con esto lo que ocurre es que tenemos que guardar la información de otra forma crear una carpeta ejercicio 9 y dentro de ejercicio 9 lo que voy a hacer esto parece que sea un comenzar desde cero pero realmente no es así lo que estamos haciendo es poder potenciar el ejercicio anterior y el objetivo como digo es la persistencia hasta ahora cada vez que hemos creado un programa cada vez que matamos el programa y lo volvemos a arrancar el programa pierde la memoria y vuelve a empezar desde cero entonces hay una parte en la inteligencia artificial donde es importante que el programa recuerde aquello que ha aprendido para usarlo más adelante no vale siempre en todos los casos que el programa ejecute aprenda y cuando apagues el programa olvide todo aquello que he aprendido este es el reto en este caso de la persistencia entonces voy a ir a brackets y vamos a ver que de hecho existen algunos mecanismos mediante los cuales yo puedo conseguir persistir en javascript vamos a eliminar para qué cosas vamos a hacer un nuevo archivo voy a guardarlo me voy a aplicaciones me voy a mamá me voy a 72 inteligencia artificial ejercicio 9 y en el ejercicio 9 voy a guardar este archivo como index.html y sin hacer mucho más aparte de que voy a abrir el mapa por supuesto que sí pero vamos a ok bien lo que voy a hacer ahora es poner localhost y contraseña también el localhost barra inteligencia artificial ejercicio 9 entonces en esa posición no hay nada evidentemente en la pantalla y lo que voy a hacer ahora es que voy a inspeccionar y al inspeccionar voy a ir a una pestaña que actualmente recibe el nombre de application o aplicación dentro de aplicación encontramos aquí que hay una serie de opciones llamadas storage es almacenamiento así que tenemos una metodología llamada local storage tenemos un session storage tenemos un indec debe una base de datos indexada y tenemos una base de datos que se llama el web sql que realmente es por dentro sqlite en dentro de las bases de datos basadas en sql hay una que es sencilla que es ligera pero que es muy utilizada que es web sql y luego hay otra alternativa y otro medio que son las cookies en este caso los dos medios principales de guardar datos con javascript son index debe y son jueves sql donde teóricamente según el estándar de hace cosas como de 7 años por ahí teóricamente de estas dos la que se debe quedar en los navegadores es index debe y teóricamente la que debe perder el soporte con el paso de los años es 9 sql sin embargo lo que está ocurriendo es lo contrario lo que está ocurriendo qué mueve sql que insisto al final es ese culito y ese culito se usa un montón de en un montón de contextos pues web ese cual es la que se está quedando como base de datos porque además luego si estamos en el javascript y vamos a otro lenguaje de programación en muchos casos nos vamos a encontrar o bien bases de datos basadas en sql o bien directamente nos encontraremos con ese culito por eso es por lo que según el estándar según la oficialidad digamos usar web sql no es seguro también digo que si vamos revisando el estado de los navegadores y luego de cuando en cuando veremos que en los navegadores principales no hay intención de soltar el soporte para web sql tenemos que pese a que no es el oficial al final yo considero que es mucho mejor no sólo para guardar datos sino luego ahora veremos para almacenar para recuperar esos datos así que vamos a hacer una primera conexión con 9 sql y vamos a ver cómo trabaja por dentro así que webb sql simple example mientras tanto a preparar un archivo ml voy a hacer un script y ahora vamos a ver este vale correcto que este mismo muy bien pues claro se llama un poco filtro vale como vemos el lenguaje no es muy complejo en el sentido de que crea una base de datos le pone un nombre en este caso voy a llamarla es prueba le pone una versión una descripción vamos a verlo en este caso es base de datos de prueba y le asigna un número de bytes en este caso es 2 x 1024 son 2 megas perdón son dos casas quería decir 2 kilobytes porque el 24 son kilo x 1024 son 2 megas esto quiere decir que al abrir una base de datos estoy indicando exactamente cuántos elementos cuánta memoria máxima quiero almacenar y ahora a continuación ejecutó una transacción y en la transacción o sea si he creado la variable debe y a la variable debe le asignó abrir la base de datos luego tengo debe punto transacciones que ejecutó una transacción y a partir de aquí lo que hago es ejecutar una sentencia sql voy a crear una tabla recordemos que web sql al final trabaja con sqlite vale entonces ese coli trabaja con tablas como la gran mayoría de bases de datos basadas en sql y dice crea una tabla si no existe previamente llamada agenda vamos a empezar con la agenda y creo un ide único creo un nombre creo unos apellidos y creo un teléfono lo que estoy haciendo es alojar una base de datos así que ahora lo que hago es vamos a ver por aquí esto se ha activado un poco de audio vamos a silenciar vale entonces a partir de ahí lo que hago es recargar y en webb sql compruebo que ahora existe una base de datos llamada prueba evidentemente tengo que recargar para que ese código se ejecute pincho en prueba y en prueba me doy cuenta la base de datos prueba me doy cuenta que hay una tabla llamada agenda y evidentemente la tabla agenda ahora mismo está vacía porque he creado la tabla pero no ha llegado contenido así que como podemos ver con estas sencillas líneas de código he creado una base de datos y he creado una tabla para esa base de datos ahora a continuación lo que voy a hacer es insertar algo de contenido técnicamente puedo copiar y pegar esta transacción y puedo decir insert gene sharp en tu agenda values y voy a poner null y voy a poner nombre jose vicente coma carratalá como el teléfono un teléfono tengamos en cuenta que ese aquí usa una comida sencilla aquí estoy usando una comida doble para no cerrar por accidente estas comillas sencillas vamos a ver se ha funcionado entonces por supuesto vuelvo a ejecutar el código y ahora observo que el ide no ha funcionado correctamente no pasa nada ahora luego puedo meter ahí donde poner null pues puedo poner un 1 por ejemplo recargo y ahora si veo que tengo el segundo registro recordemos que el ide era único con lo cual en siguientes registros no puedo duplicar ese mismo y de vemos que ya estoy en este caso guardando datos ahora por ejemplo puedo decir que quiero guardar con el número 2 quiero llamará javier ayer lópez con otro teléfono si ahora ejecuto de nuevo veremos que ahora tenemos a javier lópez con otro número de teléfono pero para lo importante de esto ahora lo interesante de esto es que yo puedo dejarme copiar esta url yo puedo hacer esta página incluso puedo cerrar este pez de esta pestaña y esta pestaña de aquí ahora volveré a ella cálculo y vuelvo como si cerrara mira voy a cerrar con totalmente y aquí está y ahora vuelvo a abrir y sea como si fuera el ordenador y lo apagara y no lo abriré hasta dentro de un mes da igual porque yo ahora lo que hago es volver a ejecutar ese ejercicio me voy a volver a inspeccionar y me voy a application y compruebo como tengo ahí de nuevo los datos que he guardado antes es decir con estas sencillas líneas de código lo que he conseguido de momento es persistir es guardar la información de una forma que la pueda recuperar siempre que yo quiera guardar la información de una forma y en un formato además que ya veremos a continuación que es el formato sql con el cual luego poder recuperar datos de este ejercicio pues va a ser relativamente sencillo vamos a hacer eso a continuación para a continuación lo que voy a hacer es que quiero crear un ejercicio vamos a crear un segundo ejercicio dejar ese mal esto llamó como index.html pero lo que quiero es si ya he sido capaz de escribir ahora quiero leer más adelante incluso que remó dif y cars vale pero quiero dos operaciones básicas que son escribir y luego leer así que pongo web sql simple example a este por ejemplo me vengo por aquí y creo que voy a hacer y aquí está este voy a copiar este cacho de código respondo a la página funciones me parece que la publicidad le cuesta mucho cargar y me vuelvo aquí de hecho como es el ejercicio y ya he creado la base de datos puedo eliminar ese trozo de código y me quedo únicamente con el fichero y entonces ahora lo que hago es select el from agenda si el comando insert me sirve para insertar elementos en una base de datos el comando select me sirve para recuperar elementos de una base de datos así que en este caso me dice bueno vamos a ver hay una variable llamada mensaje hay una variable llamada longitud que básicamente lo que hace es que de hecho hay una variable así que me dice que la longitud es la cantidad de elementos que devuelve la base de datos es decir si resulta y ahí está aquí resulta es un parámetro de la función pues resulta punto rose es la cantidad de filas que ha devuelto a la base de datos y links realmente es esa cantidad de ese número así que me 6 es una variable que podría poder bar por ejemplo que básicamente es el mensaje documento cuenta y selector requiere que haya un elemento llamado status así que vamos a crearlo y b estatus y dice que le añada el mensaje y a continuación lo que hace es alert vamos a ver pues negar lo que hace es results.com punto ítem punto los puntos punto en los punto el ojo en el punto de lo que es el que no me cuadra así que voy a hacer una cosa con solo un tono y vamos allá ahora cargo del ejercicio index 2 y me dice found rose 3 he encontrado tres registros found rose evidentemente no puedo cambiar estos encontrados y ahora si me voy a la consola en la consola pone 3 andy fans vale esto quiere decir que ha hecho 3 con soles pero realmente vamos a ver results punto row y tv y esto es lo que no me acaba de cuadrar mucho entonces lo que hago es rose day vamos a verlo recargo y ahora esto me empieza a cuadrar un poquito más porque ahora lo que estoy haciendo no sé por qué ese ejemplo estaba así pero no seguro que había alguna razón para ello pero ahora lo que quiero por ejemplo es decir y ahora quiero el nombre recargó creo que tengo 2 jose vicente y un javier ahora quiero el teléfono pues tengo los teléfonos o puedo decir que quiero punto nombre puedo decir que quiero apellido apellidos plural más y teléfono y así comprobamos como es cierto que podemos recuperar todos los datos que hay en la base de datos bien una vez que tenemos esto ya hemos demostrado como somos capaces de almacenar información y como somos capaces de mantener esa información guardada para luego más adelante poder recuperarla bueno pues a continuación vamos a recuperar el ejercicio anterior y vamos a ver cómo podemos aplicar lo que hemos aprendido hasta ahora para mejorar este ejercicio anterior