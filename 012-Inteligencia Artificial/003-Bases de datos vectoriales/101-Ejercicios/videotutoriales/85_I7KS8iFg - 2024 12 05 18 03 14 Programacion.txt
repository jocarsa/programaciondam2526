Vale pues bueno Vamos a continuar ayer hicimos Pues un trabajo de bloques vale una generación de bloques para las categorías el trabajo que hicimos ayer está hecho vale es un trabajo Guay luego tenemos y cuando digo luego no quiero decir hoy quiero decir en próximas semanas tenemos que revisarlo Porque mientras que hay elementos que son de cliente a servidor pero realmente los bloques están en el cliente en principio vale en el cliente no se tendría que hacer eh en el Front no se tendría que hacer llamadas a la base de datos sin embargo las estamos haciendo No pasa nada vale No pasa nada porque ayer nos pusimos a hacerlas precisamente para demostrar la aplicación de programación orientada objetos vale solo digo que en próximas semanas Pues Tendremos que revisar un poco Esto entonces me voy a programación veo que tengo las páginas de cada uno de los bloques Vale y vamos a hacer clic para la página de producto individual Entonces lo primero que vamos a hacer es pues extender el código que tenemos para las páginas de productos individuales de esta forma me voy a ir a local Host me voy a ir a php my admin entro como Root me voy a proyecto Apple y veo que tengo una serie de bloques pero los bloques están pensados para bloques de categorías en principio no parece que estén pensados para bloques de productos por tanto lo que puedo hacer en este caso es que aquí donde está las los bloques voy a decir que esto se llama realmente bloques categorías vale bloques categorías bien y en bloques categorías claro cuidado ahora va a dejar de funcionar me voy a programación y veo que no ya no funciona Por qué pues porque si he cambiado el nombre de la tabla pues obviamente la conexión desde php no funcionará Vale entonces me voy a editar el código me voy a bases de datos no me voy a lenguajes me voy a tres me voy a proyectos me voy aquí vale Y también voy a abrir la carpeta me voy a Primero me voy a lenguajes me voy a tres me voy a proyectos me voy a Aquí bien y vamos a ver y esto es 073 eh bloques categorías y bloques productos vale Así que en bloques categorías y bloques productos me voy a Front me voy a módulos me voy a categoría me voy aquí a php Y entonces le digo Select all from blockes categorías vale porque es lo que acabo de eh de modificar bien Ahora a continuación vamos a ver que necesito crear un módulo nuevo llamado producto creo que lo tengo ya o no Aquí está producto vale Main Esta es la página de producto individual Bueno pues voy a crear de la misma forma que tengo un módulo llamado categoría Pues voy a crear un módulo llamado producto en el módulo llamado producto Pues voy a crear un archivo llamado producto.php voy a crear un archivo llamado producto js y voy a crear un archivo llamado producto css como siempre que arranco cada módulo vale de esta forma la idea lo que se pretende la intención es que la creación de módulos pues sea lo más sencilla posible y lo más entendible posible Vale ahora en el producto incluyo Bueno evidentemente aquí en producto lo que voy a hacer es incluir módulos producto y producto Vale y de esta forma ahora en php lo que voy a hacer es bloques productos ya y una vez que estoy llamando a una tabla llamada bloques productos Tengo que darme cuenta de que la tabla realmente no existe por lo tanto si ahora intento cargar eso aquí Ay que no si ahora intento cargar eso en el Front categorías funciona pero eh está aquí pero producto pues no funciona por qué no funciona Pues porque no existe Esa tabla llamada bloques productos así que me voy a bloques categorías y en operaciones voy a copiar a bloques productos Vale entonces vamos a ver me voy a copiar a ver un momento y y vale Okay bien y en bloques productos Ahora hay bloques productos eh voy a quitar vale voy a quitar algunas cosas primero voy a vaciar la tabla y claro Esto no es momentín bloques productos esto ya no puede ser categorías nombre sino que tiene que ser productos vale productos título Así que bloques productos elimino categorías nombre creo un nuevo campo llamado productos título es un campo entero porque depende de un producto y por tanto ahora en la vista de relaciones eh W Guau se me ha no vale tipo bloque se supone que es una restricción pero no está funcionando igual es porque he copiado vamos a verlo bien En definitiva productos vamos a ver bloques a productos me voy a productos título esto apunta a productos identificador bien entonces ahora a continuación inserto veo que productos títulos sí que funciona pero tipo bloque no vale se ha ido ok No pasa nada entonces me voy a estructura me voy a vista de relaciones y bloques producto a tipo bloque me voy a tipo bloque tipo esto apunta a tipo bloque y ya está Vale ahora sí forma de comprobarlo Bueno pues vamos a ver si me voy a programación de realidad virtual en tipo de bloque completo voy a decir realidad virtual esto es un subtítulo Y esto es un texto le doy a continuar y vamos a ver si ha funcionado Así que vengo por aquí me voy a categoría vale categoría funciona directamente y ahora a continuación me voy a producto bien Todavía no funciona no está funcionando programación de realidad virtual por qué prod es igual a 1 Vale pues porque probablemente aquí get prod we productos gu título es igual a getp Así que vamos a verlo ahora programación de realidad virtual Ahora sí realidad virtual esto es un subtítulo vamos a comprobar que sigue funcionando correctamente me vengo por aquí me voy a bloques productos inserto un nuevo bloque para realidad virtual dónde estás realidad virtual bloque de tipo caja y Esta es una caja Este es el subtítulo de la caja Y esto es un texto me voy a continuar recargo realidad virtual y veo que este es el bloque principal y esto de aquí es un bloque de texto vale con lo cual lo que acabamos de hacer es ampliar la lógica de los bloques la lógica de las cajas no solo para poder crear contenido vamos a ver de zoom cómo vamos bien un poco pequeño No pasa nada vale No solo para poder crear contenido en las categorías sino también para poder crear contenido en eh todos los bloques vale Muy bien pues a continuación vamos a ir avanzando en la programación de nuestro de nuestra web eh vamos a ver la página de Apple que hay en las otras dos columnas del Super menú a ver y eh sh iPad accesorios más información vale Ahí hay más elementos tenemos que ver que poner Ah mira otra cosa otro otra pequeña cosa que podemos hacer Y es que fijémonos que cuando hago H over sobre el menú todo lo que es el fondo se difumina pero yo creo que es efecto no lo tengo puesto en mi página no lo tengo puesto además a ver vale además Bueno aquí arriba me sigue poniendo Apple esto quiere decir que probablemente en la página de producto tengo que llamar por una parte a producto Por una parte a producto y en la página de producto aquí lo que tengo que hacer es cargar include cabeza y también include errores y ahora sí veremos comoo al cargar producto pues aparece el título aparece el favicon y aparece todo correcto muy bien Vamos a continuar haciendo más cosas como decía para Por una parte de vez en cuando como en la clase de ayer ir avanzando en el contenido y también como por ejemplo en lo que voy a hacer ahora para demostrar que lo que hemos aprendido nos sirve para Añadir prácticamente cualquier funcionalidad a la página web bien entonces eh Como decía ahora a continuación vamos a copiar pegar vamos a 074 y desenfocar fondo en super menú esto quiere decir que yo ahora me voy al 74 me voy al 74 y en el 74 cuando despliego super menú lo que debería ocurrir cuando Estoy encima del Super menú lo que debería ocurrir es que todo lo debajo se debería desenfocar vale bien No pasa nada porque para ello una vez más gran parte de lo que hago también en estas clases es eh disfrutar vale de el trabajo que hemos hecho y cuando nos damos cuenta de que el trabajo que hemos hecho está bien Lo celebramos y cuando nos damos cuenta del trabajo que estamos haciendo es mejorable lo mejoramos vale recordad que por ejemplo hace un rato en la clase de sistemas informáticos Pues nos hemos dado cuenta que hay cosas que son mejorables vamos a mejorarlas ahora en un momento por ejemplo el tema de conexiones a base de datos bien De momento vamos con el desenfoque me voy a Front y yo sé que si es algo que debe ocurrir en el super menú Vale pues yo sé que me voy a ir al a módulos y sé que me voy a ir a la cabecera sé que es algo que va a ocurrir en la cabecera bien en la cabecera me voy a cabecera js ya tengo por aquí un cacho de cabecera bien y voy a hacer lo siguiente en la cabecera Digo vamos a ver cómo se llama esto Cómo se llama la cabecera será un heer míralo qué bonico Vale entonces digo led cabecera es igual a document query selector cabecera Y entonces digo cabecera punto eh Mouse enter creo que es on Mouse enter es igual a function console.log has entrado vamos a ver si es cierto me voy a consola y no a veces me pasa esto con el mouse enter js event for on Mouse enter y entonces me dice me suele decir chat gpt que en lugar de on Mouse enter suele decir que ponga aquí me suele decir que ponga un listener vale on Mouse enter sí en este caso sí okay Ah perdón cabecera madre mía heeder Okay venga Vale pues hago así y cuando entro me dice Has entrado y cuando salgo de momento no me dice nada vale entonces Yo vengo y digo cabecera on Mouse Live has salido Así que entro ha centrado y ha salido bien a continuación lo que quiero es crear una un estilo en cabecera llamado difuminado y en difuminado voy a decir que vamos a tirar esto para abajo voy a decir que eh filter dos puntos blur es de no sé 10 píxeles vamos a probar con eso a tiempo de cambiar siempre estamos esto es una clase y las clases se ponen y se quitan como nosotros queramos Eso quiere decir que si yo ahora vengo por aquí un momento claro puedo hacer esto vamos a ver vamos a poner y quitar en la cabecera y digo document query selector Main punto Class List Ay lo siento punto ad es igual a difuminado es decir le añado la clase difuminado cuando salgo le quito la clase difuminado esto quiere decir que recargo y ahora cuando entro en la cabecera el fondo se difumina cuando salgo de la cabecera el fondo se des difumina vamos a verlo ahí mejor hago así se difumina salgo y se desif hay una hay un pequeño problema y es que claro me lo quita de golpe con esto Probablemente lo podré arreglar creando un estilo donde en el Main le diga vamos a ver si con esto nos funciona transition un segundo recarg Y entonces entro ahora sí y se difumina durante un segundo y luego salgo y se enfoca de nuevo durante un segundo vale Okay bien ya que estamos voy a Añadir yo otro efecto que no eh Bueno no Espera porque igual no hace falta igual no hace falta porque como ya tengo un blur iba a hacer un backdrop filter pero creo que no va a hacer falta porque ya está en blur vale Así que para ello lo que voy a hacer es lo siguiente vamos a ver difuminado Ok entonces a la cabecera le digo document no cabecera directamente cabecera Style background es igual a rgba 255,255 0.5 sin embargo cuando a ver Esto es cuando entro si correcto y cuando salgo la cabecera es blanco sólido vamos a comprobarlo recargo Y entonces me meto dentro ahí vale Y veo como el fondo se mina Pero además la cabecera es semitransparente y ahora salgo y se vuelve a hacer vale es un efecto muy fuerte lo he hecho muy fuerte simplemente para que lo veáis entonces una cosa que puedo hacer es simplemente decir que aquí pongo 08 o 09 quiero que sea un efecto muy sutil pero que sin embargo esteé vale voy a decir 09 a ver qué pasa es importante documentar quieto Ah no 09 vale es importante documentar todo el código que mira una cosa as vale es importante documentar todo el código que vamos haciendo una de las misiones tenemos para hoy para estas semanas es asegurarnos que todos los documentos contienen comentarios para recordar nosotros qué es lo que hacía cada bloque Entonces esto es cargo los menús de la cabecera Y esto es a continuación lo que estoy haciendo ahora esto es eh aplico difuminado en el fondo al entrar y salir de la cabecera y ahora comentamos el código selecciono la cabecera cuando entro le añado una clase css le pongo transparencia al fondo cuando salgo le quito la clase css y le pongo un color blanco sólido vale no nos olvidemos de ir comentando el código para que en cualquier momento pues lo que estamos haciendo sea eh entendible Vale cuando lo abramos dentro de un tiempo sigamos recordando qué hacía cada parte por qué habíamos programado cada parte vale Y así vamos a seguir con mejoras en la clase del principio de esta tarde hemos visto 075 y eh include configuración base de datos vale en la clase esta tarde hemos visto que cuando nos íbamos al Back en include teníamos que en busca algo y pide algo teníamos que alimentar la conexión vale bien alimentar la conexión quiere decir que nos ha tocado hacer eh Pues lo mismo varias veces y la verdad es que si yo tengo aquí dos funciones vale con esto os voy a ver un momentín Sí Fran acabo de ver tu pregunta La respuesta llanamente es que sí la nomenclatura la sintaxis cambia un poco pero sí todo lo que se pueda eh estilizar con css se puede estilizar con javascript se puede hacer estilos dinámicos sí correcto otra cosa es que si conviene o no vale es decir Generalmente lo que conviene hacer más es lo que he hecho en primer lugar Porque aquí si te fijas vecera vale aquí si te fijas yo lo que he hecho es que llamo a una clase y la clase Define el estilo separación por capas vale pero aquí sin embargo meto un estilo css dentro del código javascript se puede sí se puede funciona sin ningún problema Es legal javascript está pensado para ello pero ante estas dos soluciones se suele preferir siempre que se pueda esta de aquí vale lo he hecho de una forma y de otra para que veáis que se puede derivar el estilo acss y Añadir una clase o poner estilo directamente en css Vale entonces cuando yo correcto o sea creo el estilo en este caso ha sido difuminado y lo llamo con css Perdona con javascript de tal forma que el estilo se queda en la hoja de estilo y la llamada al estilo es decir el Call el evento es lo que se crea con javascript por eso es lo por eso a grandes rasgos está más recomendado vale Cuando digo a grandes rasgos quiero decir consejo general de ámbito de aplicación global vale luego cada software y cada escenario concreto de aplicaciones cada escenario concreto de aplicación quiero decir que eh Cuando os hable de Consejos generales tened en cuenta siempre que son consejos generales lo digo porque a veces x meses después en un escenario concreto me decís es que tú dijiste que siempre se ponía yo siempre digo no yo dije que consejo global es este ahora si está justificado en un escenario concreto pues se salta la regla y ya está vale que son consejos son reglas de buenas prácticas no son mandamientos Vale entonces eh aquí lo que hago es que me doy cuenta de que tengo dos funciones que hacen algo parecido y además comparten datos Vale entonces qué ocurre Mirad atención esto es muy importante vale lo que voy a decir ahora es muy importante lo que voy a decir ahora es de lo más importante que os voy a enseñar en este curso y cuando digo con este curso quiero decir en todas las asignaturas lo que os voy a enseñar ahora lo he hecho ya varias veces antes anteriormente yo tenía en el Back No todavía no aquí anteriormente yo tenía en el Back un código mira todavía no Hola Ah no cómo Back d no es ahora pues todavía no aquí vale anteriormente yo tenía en el Back un código estructurado porque el Back cumplía en este momento en la versión 35 cumplía una única misión con lo cual si un software cumple una única misión yo creo un programa estructurado pero un buen día le pedimos al panel de control que no cumpliera una misión sino que cumplira varias misiones con lo cual cuando eso ocurrió entonces creamos espérate por aquí vale creamos funciones Pero cuando la cosa se complicó cuando la cosa aumentó de complejidad en ese momento creamos varias funciones esto es un proceso bastante natural de evolución en la programación informática y es el proceso que yo siempre os recomiendo que siga y fijaos que lo sigo yo siempre empiezo de la forma más sencilla que puedo con programación estructurada cuando la programación estructurada se me queda pequeña entonces me voy a funciones entonces necesito encapsular y empiezo a crear funciones pero llega un momento en el que lo hemos empezado a ver al la clase de anterior llega un momento en el que las funciones me están pidiendo algo más porque dices Mira es que tienes una función busca algo que tiene una conexión pero es que luego tienes una función pide algo que también tiene una conexión que es la misma que la otra vale Y hace algo muy parecido con lo cual son dos funciones pero que son muy parecidas entre sí cuál diríais que es el siguiente paso que me decís muy bien vale Esa es la respuesta programación orientada a objetos y por tanto Cuando digo que esto es de lo más importante que os voy a enseñar en este curso quiere decir que yo no requiero que os aprendáis de memoria eh la sintaxis de las clases de los constructores y los métodos y público y privado y protegido no requiero que os aprendáis eso de memoria porque eso lo podéis consultar en la documentación Pero lo que sí que requiero es que interioricen vuestra cabeza que tenéis que empezar programando de la forma más sencilla posible y a partir de aquí cuando al haber empezado de forma sencilla el código os pida más tenéis estructuras para darle más y cuando la programación estructurada Se os quede pequeña tenéis las funciones y cuando las funciones os queden pequeñas tenéis los objetos v y ya como comenté ayer Pues creo que es difícil que los objetos se os queden pequeños Vale entonces a continuación yo lo que voy a hacer Es que voy a crear un objeto Mira si quieres voy a renombrar y voy a decir objeto en Back Así que cierro por aquí vale Y aquí en Inc Bueno voy a crear una clase una carpeta nueva llamada clases y voy a crear una clase llamada Eh pues cómo Pues no lo sé conexión de b o conexión s conexión base datos php ya está bien aquí a continuación lo que voy a hacer es que Class conexión base de datos tiene algo qué tiene pues Mirad me voy a busca algo y veo que tengo una conexión así que me voy a conexión bd y digo private conexión e Perdón no puedo empezar a escribir así para lo seco como si esto fuera Java tengo que poner php vale private connection function public function gu bajo construct y dis conexión es igual a esto de aquí vale con lo cual he cogido una propiedad de una función y la he convertido a una propiedad de un objeto ahora a continuación aquí en la petición digo vamos a ver cojo todo esto de aquí Oh mira si ya tiene r return y todo vale fun busca algo lo copio a muerte todo y lo pego tal cual y la función se acaba de convertir en un objeto Así que Perdona en un método quería decir así que bueno primero Estos son propiedades de la clase y a continuación Estos son métodos de la clase esto es el método constructor vale Este es el método constructor y ahora pongo por aquí otros métodos que necesito vale Y así un poco pues tenemos Clara la jerarquía de la clase Siempre es la misma la jerarquía de la clase vale busca algo conexión no hace falta que defina la conexión ya definido arriba vale petición sí se queda eco petición nada y ahora en la conexión cuidado Ahora hay que actualizar esto en la conexión ejecuto la petición vale Ahora vengo por aquí Ahora vengo por aquí okay espera por qué me está Ah sí vale porque es la imagen okay Vale ahora esto es busca algo bien ahora me voy a pide algo en pide algo me copio Esto me lo pego Aquí function Pide algo conexión no hace falta que lo seleccione vale pide algo busca algo claro diríamos es que hay un trozo de código que hace lo mismo bien sí vale cierto no nos preocupemos de ello ahora mismo pero sí es cierto vale Y ahora le digo disconexo y disc conexión okay Y ya está y tengo un objeto que aglutina a las funciones que tenía antes ahora a continuación vamos a editar el código vamos a verlo vamos a ver Inc pide algo e Inc busca algo no esto ya no lo quiero include eh clases y conexión bd php Vale ahora si is set get tabla Vale pues digo mira conexión es igual a New conexión bd punto nada Okay vale Y si esto es cierto y si esto es cierto eco conexión pide algo lo mismo vale Lo único es que donde antes teníamos una función desnuda ahora tenemos una función vestida por un objeto ahora la función existe dentro de un objeto y se llama método y aquí lo mismo y busca algo vale bien Yo creo que ya por supuesto ya sabéis que esto que acabo de hacer se llama refactorización y cada vez que acabo una refactorización pues tengo que comprobar que todo ha ido bien eh busca algo lo elimino pide algo lo elimino vale Y probamos así que me vengo aquí me voy a la siguiente versión del proyecto objeto en Back me voy a Front vale Y sigue funcionando Igual me voy a programación me voy a programación de realidad virtual vale todo funciona Exactamente igual me voy a categoría Vale y todo funciona Exactamente igual me voy a producto y todo funciona Exactamente igual lo normal No es que funcione a la primera Hola Amparo dime Ah lo normal No es que funciona la primera sino que en un momento dado haya errores vale Pero bueno en este caso pues no habido errores y ya está lo digo porque pues si hacéis algo y hay errores pues chico no pasa nada Simplemente es ver qué te dice el error y ya está Vale por tanto esto que acabo de hacer que insisto en el primer trimestre en python esto ya lo he hecho porque esto es igual en cualquier lenguaje de programación es primero empieza con lo más sencillo que puedas yo soy una persona que soy muy poco talibán de la programación orientada a objetos vale Yo soy de la metodología de empieza con lo más sencillo que puedas y cuando la cosa se complique pues ya vas readapt a tu código Vale pero no empieces por lo complejo hay una hay un refrán en programa que dice que premature optimization is de lo digo así a la bestia vale la optimización prematura es la raíz de todo mal la frase es una de las frases más importantes que podéis aprender en programación quiero decir la frase la optimización prematura es la raíz de todo mal quiere decir que no intentes empezar optimizando si no tienes todavía nada que optimizar vale porque en los proyectos en los que se intenta empezar optimizando al final no llegas a nada porque estás tan preocupado por optimizar que al final no tienes nada que optimizar vale la metodología es empieza lo más sencillo que puedas y tú tranquilo que cuando la cosa se complique que se complicarán cabeza y Esto para mí es lo importante es que reconozcámoslo fun no vale entonces aquí en Index tengo el Index sin comentar vamos a intentar evitar esto eh busca algo voy a bajar parámetros esto es simplemente por un tema de elegibilidad vale para que no se hagan líneas demasiado largas entonces configuración de mensajes de error otra cosa Ahora os voy a decir algo sobre esto de aquí pero bueno eh configuración de mensajes de error clases conexión deb importo la clase de conexión a base de datos mini clase de momento es una clase muy sencillita pero esta es la cuestión es sencillita pero cuando quiera que esto crezca y voy a querer que esto crezca Esto está preparado para crear tantos métodos como sea necesario otra cosa evitemos los retornos de carro innecesarios vale hagamos que el código sea bonito es decir no pongamos retornos de carro que no necesitemos vale digo porque si no al final el código se vuelve ilegible o se vuelve más difícilmente legible sin necesidad cuando Lu ya no necesitemos pues lo quitamos vale Así que el código sea bonito que todo esté bien sangrado que todo esté en el sitio parece una tontería no lo es Vale veréis que eso a la larga mejora la legibilidad de vuestro código bien importo clase conexión a base de datos vale indico que este archivo devuelve jas ya que lo normal en php por defecto es que devuelva html eh creo una nueva instancia de la conexión Entonces si la URL me envía una tabla llamo al método correspondiente del objeto esto luego se complicarán cuidado en ese caso llamo al método correspondiente eh de la del objeto vale Y esto no está mal que pongamos un pequeño doc String y digo enrutador del eh Back de la aplicación que sirve los datos que se piden en función de la URL vale para que al principio del documento pues tengamos una cierta idea de qué es lo que nos vamos a encontrar y luego ya pues línea a línea en la medida de lo posible pues comentemos qué es lo que hace cada línea recordad insisto vale lo que estoy haciendo Es sobre comar en un software en producción en un entorno profesional muy probablemente no se Comenta tanto porque es que realmente decir que esto incluye mensajes de error es como No hace falta o sea lee la línea y ya está Vale yo en este caso estoy sobre Comando porque estamos en una clase Porque sois alumnos de primero y porque de alguna forma si por lo que sea alguien se pierde pues pongo comentarios para que os resulte fácil enganchar Vale y vosotros tenéis que hacer lo mismo vosotros como alumnos cuando me entregué código tenéis que entregarlo con los mismos parámetros de limpieza que yo os lo entrego a vosotros y luego ya cuando lleguéis a la empresa pues ya haréis código en el estilo que os diga la empresa vale luego también yo siempre digo lo mismo tened en cuenta que vuestro github es como vuestro portafolio como programadores con lo cual al final cuando os postulé para una empresa alguien os va a mirar el github cuando eso ocurra el objetivo es que como diría yo eh encuentren código bien comentado vale Y si tiene alguien tiene que decidir si entráis a la empresa a programar y a trabajar no os digo que el 100% va a ser que tengáis el bien ordenado pero no va a ser el 100% vale pero sí que os digo que un porcentaje muy importante es que vuestro código esté bonito limpio y comentado porque la persona que os vaya a meter en la empresa dirá gua este chaval para dentro porque sé que el código que va a escribir va a estar claro y va a integrarse bien con el resto de la gente vale Yo siempre digo ya hablaremos de esto que para entrar en una empresa el 50% es que no se te vaya la pinza como persona y el otro 50% es que sepas programar vale O sea que las habilidades digamos interpersonales a veces son más importantes o igual de importantes que la programación bueno el tema Vamos a continuar bien eh Hasta ahora yo como programador vale menín aquí Index Bueno también tenemos que comentar esto la clase pero bueno ahora luego lo comentaremos e como programador yo en este caso tengo una mini libre un include realmente que me saca los mensajes de error pero esto no debe ocurrir vale eso no debe de hecho en un servidor de producción no suele darse porque qué es lo que va a ocurrir que vas a sacar mensajes de error a tus usuarios horrible vale fatal cuando eso ocurra Vale cuando un error ocurra lo ideal es que el error no se Lance en pantalla sino que el error se escriba a un archivo para qué pues para que cuando en un momento dado haya algún tipo de error pues tú puedas capturar ese error y puedas e manejarlo Vale entonces para ello Por ejemplo si vamos a ver un momentín vamos a ver si hay forma de capturar todos los mensajes de error eh capture All kinds of error in php vale combinación no Esto sí evidentemente esto de aquí Esto es lo que quería vale Y el error log básicamente eh nos da la capacidad de poder guardar los errores en un archivo que luego nosotros como programadores vamos a poder analizar vale vamos a echar un vistazo y esto bien entonces a ver un momentín y esto aquí vale me voy a copiar este código me lo voy a pegar en error Espérate Vamos a crear una siguiente versión del proyecto copio y pego 076 error a archivo vale Y ahora sí voy a esto de aquí me lo voy a pegar cerramos por aquí error archivo en Back en Inc en error y por aquí al final aquí vale las funciones realmente que nos interesan son estas de aquí vale esta función de aquí esta función de aquí lo que hace es atrapar cuando hay un error y si hay un error en ese caso a partir de aquí lanzar el error pero no quiero eco vamos a ver correcto Claro la cuestión es eso No es que lo escribirá sino que es que o sea la idea de esto es que lo escribirá en el archivo porque hasta ahora lo que hacía era escribirlo en la pantalla Entonces qué ocurre pues estamos en desarrollo y no pasa nada lo que queremos es que se escriba en la pantalla pero claro cuando el software ya no esté en desarrollo sino que el software esté en producción pues queda muy feo que a un usuario de la calle de repente le aparezca un error de php en la pantalla vale primero porque el usuario igual se acojona y segundo porque si el usuario ocurre que por lo que sea es un hacker pues sin quererlo le estamos dando información de cómo funciona nuestro sistema y eso obviamente pues no debemos hacerlo vale Así que lo ideal es que se escriba un archivo en el B vale en la trastienda que no se le enseña el usuario y si alguien dice Oye es que hay algo que no funciona Vale pues ya me voy yo al archivo como programador y ya miro qué ha pasado en el archivo vale eso sí vamos a ver aquí vale momentín Y esto de aquí no Yes B right errors to custom file New Line for each error save and vamos a ver bueno es esa es una muy buena cuestión claro a ver sa EPOC and human Time for each error Line vamos a ver okay Vale esto es un poco espera un momentín que acabe esto bien y vale do not display errors vale Y qué te iba a decir y save to file name error log on the same folder as Script Vale y hará esto de aquí fijáis le estoy pidiendo ahora pemos en prca forzamos un par de errores estendo parte la fecha en formato informático y luego también la fecha en formato unix Perdona la fecha en formato humano la fecha en formato informático por si más adelante quiero procesar de forma automatizada este archivo y la fecha en formato humano para cuando yo como humano tenga que repasar manualmente este Script vale lo típico de que alguien me diga Oye es que hace 5 minutos la web me ha da un fallo porquees yo diga espérate me meto en el Script y a ver qué ha pasado hace 5 minutos vale por tanto lo quiero en los dos formatos vale Okay esto por aquí copio código lo pego por aquí vale y vamos allá y entonces ahora me voy a esta versión voy a esta siguiente versión me voy a error archivo vale me voy a Front Ey qué ha pasado vale algo ha pasado y es que me da error de hecho tipo de error me da error vale vamos a verlo error file vale vamos a ejecutarlo directamente Front vale Back Ah interesante okay Y qué raro que me de error no vamos a ver y vamos a algo eh tabla es igual a yo que sé qué tabla le pido tabla pues categorías ahí hay un problema vale Hay un problema porque no me está devolviendo nada Entonces quito un momento el error Ok ahí me devuelve vale vamos a ver si ha creado el error punto logo vamos a ver me veo aquí refresco no vale Ok entonces vamos a ver Define error log file es igual a error log Ok Vale ahora me meto por aquí y digo in y error.php y refresco vista y de momento no vale vuelvo atrás vamos a hacer lo siguiente vamos a decirle que quiero ver todos los errores okay Y ahora Quiero ver todos los errores Ok ahí está ahí permission den vale permission den error log Ok vale permiso denegado Bueno pues no pasa nada si me da permiso denegado es curioso que me dé el error al gestionar el error vale pero bueno a veces la informática tiene estas ironías bien Así que CD cdb cdw CD html CD dam CD Pro primero CD lenguajes CD 003 CD proyectos CD Proyecto A ver ls CD 004 proyecto Apple vale Y no e sudo ch mod 777 - r004 proyecto papel vale le doy permisos de 777 de momento para que todo el mundo pueda escribir y recargo y ya está solucionado vale solucionado Pero a ver sí pero tablas es igual a categorías O sea no me ha dado ningún error Ah error pun logo Ahí está Vale aquí This is a test exception vale error en la línea 56 Ok perfecto undefine variable esto ha sido a56 vale pero no me está devolviendo nada vamos a verlo recargar vale Ok un momento porque claro yo creo que a ver set exception examples vale Okay aquí Trigger exception Aquí estos son ejemplos vale Okay y a ver okay Back and tabla es igual no Ay qué rollo aquí vale Back and tabla es igual a categorías Ahora sí vamos a asegurarnos de que el error está activado vale vamos a ir a Front en Front Perdón estoy en el view source en Front ahora sí Todo funciona bien pero ahora voy a forzar un error voy a forzar un error en el sentido de que por ejemplo en vamos a comprobar si es cierto en error pun log vale Okay de hecho lo voy a borrar todo estos errores son eran de prueba guardo pues no guardo Eh sí no me deja vale no me deja porque no soy el propietario okay No pasa nada vale pues en la clase conexión de B voy a poner proyecto Apple 2 un error vale vamos a ver si captura este error Así que ahora recargo bien o no salen cosas hay cosas que no salen vale Así que hay errores en el cliente vale pero me voy al servidor Y si todo va bien Vamos a verlo me voy a error pun log Ahí está y dice exception Access den for user proyecto Apple vale Por qué pues Porque recordad Es que además yo ahora mismo en estos mismos momentos soy el desarrollador y el usuario pero claro más adelante el usuario estará a kilómetros de mi casa y yo estaré en mi oficina con lo cual cuando el usuario me llame y me diga Oye es que la web me ha da un error yo dir Ok qué decía el error y el usuario me dirá No sé lo he cerrado yo diré pues así no me a ayudas nada vale Pero a partir de ahora tengo un archivo llamado error.log donde cuando un usuario me diga Oye que ha ocurrido algún error pues yo diré Eh vale espérate eh Dime algo o sea dime a qué hora ha sido con que me digas si ha sido hace 5 o 10 minutos pues me meto en el error pun log y miro a ver qué ha ocurrido vale por tanto pues este es un paso importante como ya os digo no para ahora mismo pero sí para más adelante para poder diagnosticar qué es lo que ha sucedido luego también en el cliente en el lado del cliente Pues también sería importante capturar algún tipo de error vale porque eh Por ejemplo aquí simplemente la página web no está cargando correctamente en la consola se están dando una serie de errores pero no está ocurriendo nada realmente en la pantalla claro bueno en js se pueden capturar sí lo único que pasa es que no se pueden loguear porque js eh loguea al navegador pero no al servidor vale Se podrían enviar de forma asincrónica pero es que claro si ha dado error es que ha dado error con lo cual tampoco se van a enviar de forma sincrónica lo que sí que se puede hacer es capturar en lugar de dejar que esto falle así de frente Pues que falle de forma un poquito más graciosa vamos a hacer Esto entonces me voy a gestionar copio y pego 067 errores en el Front voy a adoptar vale una medida de demostración bien en el Front por ejemplo en Ink no perdona en módulos en cabecera o en cualquiera yo cuando estoy haciendo una petición fetch estoy haciendo un den pero aquí esto es console punto error al cargar las categorías y error vale de la misma forma que yo capturo el error creía que no lo estaba capturando pero Guay porque sí que lo estoy capturando Pues yo puedo decir qué es lo que voy a hacer console punto error o console punto warn por tanto recargo vamos a ver y error al cargar las categorías Sí pero pera dónde estoy momentín estoy Ah perdón errores en el Front y aquí errores en el Front vale Ahí error al cargar las categorías vale de esta forma yo cuando fallo lo que puedo hacer es tener preparado algo y ese algo insisto vale insisto lo digo una vez más voy a hacer una demostración luego obviamente la gracia de este ejercicio la gracia del proyecto del curso es que cada uno de vosotros eh decida vale Cómo quiere gestionar sus errores No tenéis Por qué hacer exactamente lo que voy a hacer yo así que vengo por aquí y en el Index Sí el Index mismo vale aquí en el body voy a eh crear un módulo Perdón en el body no en los módulos para eso tenemos módulos vale voy a hacer un módulo llamado modal que es una ventana modal Así que archivo nuevo modal.php modal.php y archivo nuevo modal.css y archivo nuevo modal.js en modal.php como siempre as Always vale eh pego esto y digo div ID es igual a modal Okay Entonces ahora aquí en el modal voy a hacer un modal estático y más adelante haremos un modal Dinámico vale para reutilizarlo todo lo que queramos Ho va a ser estático modal css y yo aquí en la página principal Pues voy a incluir modal vale por ejemplo no sé por aquí por alguna parte modal y modal en modal voy a sabes que no contiene modal y aquí div ID modal y este es un mensaje así que a continuación esto puede ser un p para marcarlo correctamente y que no se quede ningún texto sin marcar en modal yo ahora voy a hacer un css y digo contiene modal es background rgb 0.5 position absolute top cer píxeles left 0 píxeles with 100% y he 100% vamos a verlo Ok esto es modal y un Z Index de 1 millones de trillones de billones vale eso es un modal a continuación eso el contiene modal perdón a continuación el modal va a ser un with de no sé de 500 píxeles un High de 500 píxeles un eh vamos a ver un Box sizing Border Box un padding de 20 píxeles un Pos absolute un top del 50% un left del 50% y un margin left de men 250 píxeles y un margin top de men 250 píxeles vale Ah Sí perdón un background White Y ya y un bord radius de 10 píxeles No lo sé bien hacemos así y este es un modal vale Este es un mensaje y ahora como os digo insisto una vez más lo voy a hacer estático vale e al hacerlo estático voy a el emoji Warning emoji lo copio y en modal lo pego vale Y este es un mensaje y e web en mantenimiento estaremos contigo De nuevo en breve vale el modal css ahora digo text Aline Center y font size Pues no sé 48 píxeles a ver qué pasa Okay Vale eh menos todavía a ver espera o span modal css esto es 16 píxeles y modal span es eh font size de 92 píxeles Bueno no tanto esto es 160 y esto es 32 Okay Vale esto ya me empieza a gustar un poquito más bien además puedo poner aquí un backdrop filter de blur y 10 píxeles No fff backdrop filter sí u Y por qué no funciona no lo escrito correctamente Sí a ver eh No dónde estoy aquí Ah sí Pues no sé lo había escrito correctamente Pero mira vale con lo cual si la web falla al usuario le aparece de momento este mensaje en pantalla pero si la web No falla o sea yo fíjate de hecho Perdón esto no debería ocurrir eh Play know vale la web no muestra nada con lo cual ahora en modal un momento aquí en cabecera Ok cabecera Perdón aquí document query selector con tiene modal punto Style display es igual a block Ahora sí es decir el modal no se ve pero si hay un error el modal sí que se ve vale con lo cual como hay un error no es solo que el error se vea en la consola que también el usuario final no lo verá sino que al usuario final se le muestra yo he decidido Mostrar este mensaje Insisto que vosotros podéis decidir gestionar esto como queráis o incluso poner aquí un correo electrónico de decir si necesitas algo pincha aquí y le escribes un correo al administrador del sistema vale Yo que sé pero ahora a continuación yo voy a arreglar el error Vale y vamos a comprobar veis que aparece el error pero vamos a comprobar que me voy a no me acuerdo dónde estaba aquí me voy a al Espérate que te lo digo Aquí me voy a Back me voy a clases arreglo el error que era este dos que había puesto de forma indebida y la web carga y si no hay un error no hace falta Que aparezca el mensaje de error vale Pero si yo vengo aquí y causo un error le he puesto un dos que no toca en el Front aparece un mensaje con lo cual al usuario se le dice algo pasa estamos trabajando en ello no te digo exactamente lo que ocurre Pero te digo que volvemos en breve vale Y mientras tanto por supuesto en el servidor en el error.log yo miro y digo as prate el error consiste en que le estoy intentando dar un acceso a la base de datos proyecto Apple 2 y esto no existe vale tú Imagínate que esto yo se lo mostrará al usuario final existo una vez más en este mismo momento en el que nos encontramos no pasaría nada porque el usuario soy yo que soy el desarrollador pero claro cuando esto lo Lance a producción yo a un usuario de la calle no le debo decir te has intentado conectar con el usuario proyecto Apple a la base de datos proyecto Apple 2 porque el usuario de la calle dirá Ah mira ya sé cómo se llama tu base de datos vale que el 99,999% de la gente de la calle le da igual Cómo se llama mi base de datos Porque no enti de lo que está leyendo pero ese 0,01 por de personas que se dedican a ser hacker cillos Pues claro no les debo dar pistas de cómo se llama mi base de datos vale ni tampoco mi usuario de base de datos por eso pues lo ideal lo correcto es que gestionemos los errores Pues de formas un poco como esta vale tanto en el Front como en el Back sí correcto Solo falta que le de la contraseña sabes O sea ya casi es como decir mira entra Entonces esto es lo que en informática es un poco pronto para comentaros lo y este ciclo tampoco trata de seguridad informática específicamente Pero esto es lo que en informática se llama seguridad pasiva vale la seguridad pasiva es que si algo falla el sistema se protege es decir si algo falla el sistema no revela información porque como veis en php cuando las cosas fallan Pues php tiende a dar mucha información pensado para el desarrollador pero te puede atar esa información alguien que no te interese vale Y luego están las medidas de seguridad activas que son medidas de seguridad que tú implementas las medidas de o sea una medida de seguridad pasiva es cuando falles Cállate Ya está eso es pasivo Vale y una medida de seguridad activa es cuando falles haz esto eso es una medida de seguridad activa bien Vamos a continuar poco a poco pues vamos mejorando el programa vale el proyecto desde varios frentes bien y ahora Bueno vamos a aprovechar pues estos ratos que tenemos ahora en el resto de la tarde Pues un poco para ampliar cosas Vale qué quiero decir con ampliar cosas pues Mirad vamos a ver yo aquí eh he creado un bloque vamos a recargar Oy Ah Sigue estando mal se ve que no he arreglado el error ahora vale Okay entonces eh yo hasta ahora tengo en el Front en el módulo e bloque Vale tengo por aquí la clase bloque y tengo la clase bloque completo tengo la clase bloque caja y tengo la clase que de hecho no la he utilizado todavía que es bloque mosaico pues vamos a darle un poco de uso a las cosas vamos a por ello vamos a por ello si me voy a la página de Apple veo vamos a ver por aquí en Pues no sé en Mac macbook vale veo que tengo pues un bloque con animación vale es un bloque completo realmente esto es bloque de texto vale esto es Bloque con animación Ok vale esto es bloque tal realmente repite mucho Bueno pues vamos a hablar del esto es un poco bloque vamos a ver vale Sí pues ya está bueno hay un bloque responsivo pero ya hablaremos de esto O sea bloque paralax Perdón quería decir vale Okay bien Vamos a ver ahora quiero analizar no eh aquí y 078 usamos bloque mosaico el bloque mosaico lo tenemos un poquito abandonado y vamos a ver por qué Front módulos bloque clases bloque vale vamos a ver bloque mosaico extens bloque vale aquí dis mosaicos es igual a mosaicos pero cuando creo un mosaico la idea Está en que el mosaico puede tener diferentes elementos entonces para ello o sea es un bloque que contiene bloques creo que no voy a hacer eso a ver un momento porque nuevo título vale Y aquí esto es cadena es igual a esto okay Y ahora contenido es igual a esto Ok ret return contenido Vale ahora aquí Quiero poner una serie de bloques un momento porque quiero ver si lo puedo hacer con base de datos a ver básicamente para que entendáis lo que quiero hacer div Class mosaico Ah no Zelda y cl Zelda vale además aquí pued lo siguiente aquí paro aquí contenido punto igual aquí vale Y aquí for each mosaicos dis mosaicos as clave valor contenido punto igual a esto ad Class Zelda Vale entonces qué es Zelda es más bueno no vale Ahí Qué es Zelda me voy a bloque y en Zelda digo que with es 45 por o 49 por o lo que sea background es igual a rgb 240 vale Y ya a ver un segundo un momentín disculpadme un momentín Sí en clase sí eh Ya A ver es que ahora mismo no porque estoy medio de una clase vale Okay luego te digo hasta luego Vale entonces vamos a ver y le digo display es en block vale Y ya está bien Ahora cuando llamo a los bloques es decir vamos a la base de datos vamos a ver tipo bloque tengo completo caja y mosaico vale me voy a bloques categorías por ejemplo y me voy a insertar y digo quiero en categorías programación un tipo de bloque mosaico y aquí viene la cuestión y vamos a crear mosaicos creamos mosaicos y vamos a por ello le doy a continuar me vengo por aquí me voy a programación y Digo e vale Claro en el enrutador no tengo programado vamos a verlo esto es categoría no tengo programado queé es lo que pasa si el tipo de bloque es tipo 3 Ahora sí vale si el tipo de bloque es bloque 3 es bloque mosaico Ok y bloque get block vamos a verlo todavía no a ver bloques categorías en la categoría 13 el tipo es TR vamos a crear mosaicos Okay fila título fila subtítulo eh yo creo que aquí ya debería aparecer diseño y programación vale vamos a ver por qué no sale y fila tipo bloque mosaico es bloque mosaico y r return contenido ostras Qué curioso vamos a ver vamos a debugar si aquí pongo bloque caja entonces Ah tampoco funciona qué maravilla Por qué este es un bloque de caja y Este es otro bloque estoy en programación estoy en el 13 tipo 3 y si pongo tipo dos Entonces sí pero si pongo tipo TR no vale vamos a ver por qué tipo tres con tipo tres no tipo tres bloque caja Qué cosas bloque caja get block Else If el Else If está correctamente formateado ostras Por qué no me reconoce el tipo tres a ver eco petición dónde estoy no estoy estoy en 77 vale por eso no aparece porque no estoy en la carpeta correcta vale Front programación vamos a crear mosaicos vale bloque mosaico vale vamos a crear mosaicos creamos mosaicos ahí lo tenemos bien definimos el estilo de los mosaicos vamos a por ello en principio en los mosaicos voy a poner el mismo estilo que caja mosaico vale vamos a crear mosaicos y ahora aquí ahora esta es la cuestión esto mosaico voy a poner un background de White Bueno voy a dejarlo como está Y luego lo apañamos y Zelda un background de 250 Vale ahora al crear mosaicos yo lo que tengo que hacer es de alguna forma decirle Cuántos mosaicos quiero para ello lo puedo hacer desde aquí desde categoría le digo bloque mosaico con título subtítulo Cómo es el constructor es fila texto coma momentín el constructor de bloque mosaico 1 dos Hola Ah sí 1 2 3 4 5 a ver 2 3 4 5 y ahora los mosaicos me voy a inventar los mosaicos vale me los invento y digo 1 coma dos Esta es la cuestión aquí está la cuestión entonces recargo vamos a por ello vale en Zelda deberían haber aparecido aquí bloque mosaico aquí Deep Class Zelda pero las celdas no tienen nada de momento por qué Pues no lo sé eh Deep Class celda voy a poner aquí Hola Vale ahora tenemos ahí las dos celdas en las dos celdas vamos a darles un poquito de estilo vamos a darles un poquito de estilo Esto está aquí Zelda min height 300 píxeles Box sizing Border Box pading 20 píxeles vamos a verlo vale así un poquito más bonito Ey qué pasa aquí por qué me haces esto bloque Mosaico height de 200 píxeles no min height puedes crecer más si quieres Ahora sí vale Y ahora tengo como veis Pues un bloque de página entera ahora quito esto de aquí un bloque de caja y un bloque de mosaico El problema del bloque mosaico es que en un momento dado yo có sé cuántos parámetros le voy a meter es decir cuánto sé cuántos bloquecitos le voy a meter yo de momento los estoy metiendo a capón es decir meto 1 2s y meto 3 cu yo ahora recargo y meto 1 2 3 y cu Por cierto tengo que ver ahí qué ha pasado Porque estos no entran correctamente Pero bueno le puedo poner en la celda un margin bottom de 10 píxeles Vale y hago así pero En definitiva la cuestión está en que aquí en la categoría todo el contenido del bloque se lo estoy pasando en Pues en base de datos Pero esto no lo estoy pasando como base de datos Lo estoy pasando de forma manual Bueno una cosa que puedo hacer por ejemplo es pasarle un jas la cuestión está en que tenemos que pensar cómo hacerlo por cierto antes de seguir pensando cómo hacerlo eh deciros que yo crearía aquí un div Class rejilla aquí un div y en rajilla en rejilla le daría un display Flex y un e colums auto para dos columnas vamos a verlo F Flex o grid Perdón no es Flex es grid lo que quería hacer es grid vale Y vamos a uno de estos y display template columns Esto es lo que quería con lo cual de Zelda quito el dónde estás aquí de Zelda quito el inline block y ya está vamos a verlo cargo Ok vale mucho mejor y ahora en Zelda with 100% a ver bueno vale Ok y en rejilla Gap 20 píxeles ok Mucho mejor y ahora puedo quitar el margin botón bueno se me queda más o menos igual pero vale bien esta es la cuestión Vale tengo un tercer bloque tengo uno tengo dos tengo tres y tengo otro que es de mosaico entonces la pregunta ahora como os digo es De dónde saco esto es decir qué información le pongo aquí voy a ver la base de datos en la base de datos no tengo mucho que pueda el texto quizás el texto lo puedo reutilizar Vale entonces llegado este punto pues puedo venir por aquí y digo un dos tres Okay Vale entonces en 1 2 3 ahora voy a decir en bloque php aquí que en lugar del texto un segund Inn dis mosaicos vale quito el texto y digo dis mosaicos es igual a dist texto esto fuera Eh sí pero no me hace falta una cosita php interpretar String con array Como array php creo que es un eval creo que es la instrucción eval de php eval ahí está pues eval Okay probemoslo recargo no bien eval unexpected End of file hostias Por qué en qué línea bloque php en la vale Okay eval error Ah bueno Vale sí okay eval dis pun texto a ver no mosaicos es igual a Ray vale dis mosaicos es igual a mosaicos no Esto no es cierto a ver eco dis texto 1 2 3 vale eco eval dis texto no me hace nada vale Y si yo digo que esto va con comillas sencillas porque igual ese es el problema Un dos y tres no estamos igual no a ver vale J son de code a no eval Pero por qué Ah eval vale Okay vale null given n vuelvo a usar esto teóricamente es un array válido Ahora sí Vale entonces ahí donde está poniendo Hola y hola Pues yo puedo decir que en lugar de poner Hola Quiero que ponga el valor lo cual quiere decir que si en la base de datos he puesto un dos y 3 Pues en la base de datos o sea en la página web aparecerá 1 dos y 3 y si ahora aquí en un pongo negrita un dos y tres pues comprobaremos como al recargar no sé si os fijáis Pero uno aparece en negrita mientras que dos y tres no aparecen Y si yo en la base de datos edito esto y pongo un 4 pues entonces en los mosaicos aparecerá un cuatro vale de lo que se trata como veis es de pues empezar a formatear y empezar a crear bloques cantidad y diversidad suficiente como para poder almacenar el código de nuestra página web que además es que como os comentaba en el correo que os he enviado este mediodía o esta tarde no me acuerdo a medida que vayáis creando vuestro propio proyecto os daréis cuenta de que os hacen falta cosas Vale cuando eso ocurra Pues tendréis que ampliar las clases tendréis que ampliar los contenidos con aquello que necesitéis o ya voy a decir que en bloque php eh Dónde estaba aquí yo creando en categoría y ecope petición ya no lo quiero Okay bien con esto vamos a entrar en lo que sería la asignatura de eh de proyecto intermod vale por lo tanto