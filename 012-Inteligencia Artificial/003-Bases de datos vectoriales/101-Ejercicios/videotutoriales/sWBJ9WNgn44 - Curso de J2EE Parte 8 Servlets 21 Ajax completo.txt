por tanto ahora lo que vamos a hacer es especificar que quiero usar el método ajax completo y dentro del método jacques completo vamos a encontrar que tenemos más parámetros con los que lidiar pero también tenemos más ventajas el método ya ex completo de hecho me lo voy a sacar de este lugar jquery ya que es una página muy buena argentina donde tienen un ejemplo de este método completo muy bueno y mirad me voy a este ejemplo ajax volver a copiar y pegar y aquí está lo que voy a hacer por tanto es que en lugar de poner buscando población voy a poner todo esto de aquí como veis es un método que tiene bastantes más propiedades y que ahora voy a poco desgranar es un método bastante vertical como veréis y que requiere un momento y que requiere de tres funciones más ahora los pongo en línea con cuidado vamos a verlo dejadme que lo forma t y ahora lo podréis copiar bien y ahí lo tenemos luego por tanto tenemos esta función ajax es una función un poco particular porque se carga en el documento y esto quiere decir que no hace falta seleccionar un cierto elemento sino que simplemente pongo dólar punto ajax y a partir de ahí empezamos a trabajar bien en primer lugar vemos que este método tiene una serie de parámetros bastante interesantes como en primer lugar nos permite especificar si la conexión es sincrónica o asincrónica en este caso lo dejamos como synchronous es igual a true los parámetros se separan con comas y ahora digo el type puede ser post o get esto es muy importante desde el punto de vista en el que hasta ahora con el método load estábamos obligados a usar el método get pero gracias al método completo también podemos usar el método post que además constituye un método más seguro de pasar la información el dt type lo vamos a dejar como esta que es lo que te voy a pasar es html el content aip voy a hacer como si te pasara un formulario vamos a dejarlo así y ahora aquí viene la cuestión la url es la url del servef de momento voy a poner url del servef porque como todavía no hemos creado ninguno pues no sabemos cuál es la url sigue dejadme el momento que ponga eso y ahora pondremos una url los datos que voy a enviar son los siguientes voy a decir código postal es igual aquel elemento que tiene el y de código postal punto vale esa línea la 18 el data así que la tenés que cambiar y ahora a mí la parte que más interesante me parece de este método es que llama a tres métodos un método llamado before send sabéis que se pone el inicio envíos y está en castellano es que se puede cambiar pero si está en inglés before send es que no se puede cambiar este es un método que va a ejecutar una función que va a ejecutar antes de hacer la llamada a ajax la típica de cargando mientras te pido algo ya hasta que lo reciba por lo menos te muestro un cargando y lo que vamos a hacer aquí es lo siguiente dentro de población voy a cambiar este contenido dentro de población punto html cargando aquí voy a hacer lo siguiente dentro de población voy a cargar los datos que datos los datos que recibo no os olvidéis de ese parámetro de la función datos es muy importante y por último en población voy a poner ha habido algún problema lo que hace es lo siguiente mientras realiza la petición a jacques y hasta que recibas resultados ejecuta la función de inicio a partir de ahí si la función ajax es correcta es decir devuelve resultados correctos se ejecuta la función llegada datos ons access si ha habido éxito ejecutamos la función llegada de datos y ahora si hay algún problema si ajax no devuelve nada si tarda más de 4 segundos en devolver la información tarda más de 4000 milisegundos en ese caso ejecuto la función problemas y la función problemas dice ha habido algún problema como veis por tanto tiene muchos más parámetros que la función load por tanto es más complejo de utilizar es probable que os equivoquéis al poner alguna coma al separar parámetros o al poner algún bloque de dos puntos ya veréis cómo os equivocáis pero una vez que lo tengáis una vez que haya despejado el rollo pues veréis que es un método más completo que os permite hacer más cosas que os da más control que el simple método lose