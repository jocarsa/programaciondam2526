llegamos a este punto tengo el pequeño problema de que cada vez que ejecuto este programa y cada vez que el usuario mete notas las notas se pierden es decir cada vez que el programa se cierra las notas se pierden Así que lo que voy a hacer es lo siguiente que voy a hacer es intentar persistir estas notas y para ello voy a utilizar un Aliado que va a ser la importación voy a trabajar con la base de datos sqlite que el sistema lleva la capacidad digamos de guardar envases de datos sqlite sin hacer nada más así que a continuación voy a aquí arriba voy a poner import ese culito 3 Lite por ejemplo Haz bebé o voy a poner bebé de base de datos Y con esto estamos creando un name space estamos creando un espacio de nombres para luego no colisionar vamos a pulsar vamos por aquí f5 vale tenemos ya control C para salir ahí tenemos la librería importada he pulsado f5 más que nada para comprobar que realmente no da problemas ese culito así que importo la librería de ese culito bien 5 siempre para comprobar control C para interrumpir la ejecución vale Y ahora a continuación y ahora a continuación voy a hacer lo siguiente vengo por aquí vamos a ver y estos créditos iniciales y digo conexión no pongo acento en conexión es igual a BB punto Connect y voy a guardar esto como notas punto lo que sea voy a poner notas punto sqlite el hijo indicó el nombre de la base de datos a la que me Quiero conectar realmente bien si ahora a continuación voy a poner un poquito de espacio y aquí un espacio menos Sí ahora a continuación ejecuto el programa Y le doy a control c Al haber vale al hacer un Connect el programa en principio debería haber creado aquí el archivo notas punto sqlite como efectivamente lo ha creado es una base de datos que está vacía vale no tiene nada ahora a continuación vamos a crear algo de contenido Así que ahora para crear contenido voy a hacer lo siguiente voy a decirle al sistema vamos a mostrar un Push vale esto es importación sqlite cómicmain y ahí lo tenemos Sabiendo con la tranquilidad de que estamos guardando una versión en cada momento de cada cosa que hacemos ahora a continuación voy a hacer lo siguiente a continuación voy a crear una tabla para guardar las notas Así que vamos a por ello vamos a por ello y digo lo siguiente cursor es igual a conexión punto cursor y a continuación voy a decir cursor punto execute voy a poner unos comentarios de tres comillas para poder hacer una digamos una sintaxis multilínea y voy a hacer lo siguiente create table Crea una tabla si no existe Y si existe ignora esto evidentemente llamada notas Así que si todo va bien nos cuenta como voy a entrar un momento en un programa que tengo por aquí llamado David browser el libi browser es un programa que me permite abrir bases de datos en ese culite voy a abrir una base de datos voy a documentos voy a github voy a notas sculite y me abre la base de datos pero las tablas están vacías vale No hay nada en las tablas vamos a por ello voy a cerrar la base de datos vamos a ejecutar este código que estoy preparando notas y dentro de notas voy a poner lo que tiene la tabla notas va a tener lo siguiente va a tener ide esto es integral va a tener texto Esto va a ser texto coma va a tener color va a ser un texto coma y va a tener fecha y Esto va a ser de momento un texto aunque luego probablemente voy a guardar un número entero aunque no parezca normal pero de momento va a ser un texto y por último voy a decir primary key la clave primaria es ide es el campo y de auto incremento con esto por tanto pongo punto y coma al final después de El paréntesis con esto lo que estoy haciendo es decirle al sistema que quiero crear una tabla notas dentro de bueno dentro de lo que es la base de datos voy a vale esto que hay por aquí voy a ejecutar Así que si todo va bien 5 todo en principio va bien pongo Hola control c y si ahora abro Este programa llamado di browser voy a abrir base de datos voy a notas a ese culite veremos como efectivamente tengo una tabla llamada notas que tiene un ID tiene un texto tiene un color y tiene una fecha y además aunque no lo veamos pero aquí está Vale pero el ID es la clave primaria y es autoincremental vale vemos como a medida que vaya poniendo información pues lo que va a hacer el sistema es guardarla dentro de la base de datos sqlite así que por aquí voy a decirle creo un cursor y ahora a continuación voy a decir sobre el cursor ejecuto una petición para crear una tabla en la base de datos en el caso de que no exista anteriormente pongo el comentario aquí porque aquí dentro no lo puedo poner porque aquí dentro evidentemente estoy haciendo un comentario multilínea vale estoy haciendo una cadena multilínea quería decir así que en este caso lo que ocurre es que si yo vuelvo a ejecutar este código no va a dar error porque lo que hace es que si la base de datos ya existía si la tabla ya existía no la crea de ahí un poco lo de creatable If not exists ya tengo por tanto la tabla creada vamos a verlo coman ese y vamos a hacer un nuevo commit esto es crear tabla si no existe de la misma forma de la misma forma vamos a verlo le digo vale aquí por ejemplo lo que puedo hacer es cambiar el programa para decir introduce el nombre del contenido de la nota esta parte se ha quedado un poco desfasada introduce el usuario que vas a utilizar así que Esto va a ser usuario y usuario va a ser input y por tanto ahora a continuación lo que puedo hacer es guardar dentro del sistema Quién es el usuario entonces para ello voy a hacer lo siguiente cursor punto execute copio pego y voy a decir que crear usuarios y de entero usuario contraseña y voy a poner por aquí por ejemplo email no lo utilizo todavía pero de momento lo voy a poner ahora digo sobre el cursor ejecuto una petición para crear una tabla de usuarios en el caso de que no exista si todo va bien Vamos a verlo vamos a por ello vengo aquí ese culite crear tabla de usuarios antes de hacer un commit voy a ejecutarlo Por cierto no sea que de error vale parece que no y Cierro la base de datos vuelvo a abrir la base de datos y tengo notas y tengo usuarios vale parece que no ha dado error Ok Cierro la base de datos Vale ahora sí hago el cómic vale crearte los usuarios Vale y ahí lo tenemos ahora a continuación lo que quiero es que cuando yo creo notas para cada una de las notas las quiero meter en la base de datos Así que una vez que el programa finaliza una vez que el programa finaliza quiero que guarde las notas dentro de la base de datos como lo voy a hacer pues vamos a por ello vamos a ver Ahora vengo aquí y digo cursor es igual a conexión punto cursor realmente no hace falta ya lo tenía de antes cursor punto execute y al final del programa le digo lo siguiente vamos a ver le digo insert into notas valius y voy a poner los siguientes válidos recordemos que la tabla de notas recordemos que la tabla de notas tiene 1 2 3 y 4 Campos el primero es entero y snool y el los otros tres son de texto Eso quiere decir que por aquí pongo null coma texto por cierto que aquí falta una comilla doble y un punto y coma para finalizar la sentencia y ahora lo que hago es decirle que para cada una de las notas Por cierto que esto tendría que venir aquí sangrado vale aquí pongo esto es y punto texto esto es y punto color Y esto es y punto fecha si todo ha ido bien Vamos a verlo ahora digo conexión vale conexión punto commit es decir ejecutame estos cambios y yo creo que ya yo creo que ya lo tenemos vamos a probarlo y f5 vamos a verlo introduce el usuario o casa bien qué ha pasado nota is not The Fine Esto está aquí el error en este caso vamos a verlo usuario el contenido de tu nota es el usuario es usuario muy bien Ahora f5 ejecutamos el usuario es jocarsa vale el usuario introduce el contenido de la siguiente nota de la lista Este es un contenido color rojo voy a poner red en fecha hoy contenido Este es otro contenido color Green fecha de la nota mañana introduce Este es un contenido más color Blue fecha ayer quiero salir vale muy bien Vamos a ver nos dice que hay un error near hoy vale vamos a ver incertinto notas values null en principio parece todo correcto vamos a ver la nota es hoy y punto fecha si el error es que esta comilla va Aquí muy bien Ahora sí ejecutamos introduce usuarios ocasa contenido de la primera nota color red hoy contenido de la segunda nota color Green fecha mañana y contenido de la tercera nota color Blue y fecha ayer quiero salir a ya está bien y si todo ha ido bien Aparte de que me está sacando el contenido por pantalla pero lo más importante en este caso es que yo ahora vengo por aquí me voy a la base de datos bueno puedo actualizar la base de datos realmente vamos a ver voy a cerrarla y voy a volver a abrirla vale Y si me voy a notas y quiero mostrar los datos si todo dedo bien veremos Cómo tengo los índices automáticos veremos como tengo el contenido de la primera nota el contenido de la segunda nota tengo el contenido de todo lo que nos podamos imaginar vale con lo cual una vez que tengo esto voy a poner comentarios vale Y esto es inserto una a una las notas en la base de datos y ejecuto la inserción con lo cual una vez que tengo esto una vez que tengo Esto me voy a github insertar notas en base de datos le decimos cómicmain le decimos de vez en cuando volvemos vamos a verlo por aquí de vez en cuando volvemos recargamos comprobamos como tenemos por aquí el histórico de todo aquello que hemos realizado Y a partir de aquí es cuando podemos continuar Es cuando podemos seguir trabajando donde en este caso por ejemplo lo que quiero es que cuando yo pongo una fecha la fecha sea automática la fecha la ponga el sistema para ello por tanto voy a trabajar con fechas a ver un segundo voy a trabajar con fechas y voy a decirle al sistema que la fecha no la va a poner el usuario sino que la fecha quiero que la ponga automáticamente el sistema para eso es por lo que puedo trabajar con librerías vamos a ver vale vamos allá vamos a ver y vamos a ver un momento a ver Vale pues vamos a ver vale voy a utilizar la librería de import daytime vamos a ver para la fecha importo la librería de tratamiento de fechas Vale y ahora lo que quiero es decirle al sistema vamos a ver decir el sistema que quiero que me dé vamos a ver que me dé la fecha actual así que voy a hacerle una cosa al sistema voy a decirle time en lugar de day Time y ahora por ejemplo la fecha no va a ser un input la fecha va a ser un entero este print lo voy a machacar lo voy a comentar se va a quedar desactivado y por tanto si todo va bien Voy a pulsar ahora f5 para ejecutar el usuario es jocarsa no he hecho nada todavía con él y esto es nueva nota de color pink esto es otra nota más de color Brown quiero salir vale Y en este caso vamos a ver nos dice que claro solo puede concatenar String y no int bueno no pasa nada porque en este caso lo que puedo decirle al sistema vamos a ver Es que la fecha aquí la quiero convertir en un String vamos a por ello vamos a por ello y ejecutamos Así que el usuario es jocarsa esta es otra nota de color pink Esta es una nota más de color Brown bien quiero salir a valex todo ha ido bien en principio parece que todo ha ido bien con lo cual me voy a la base de datos Cierro la base de datos abro la base de datos Vale y vemos como ya tenemos nuevas notas pero ahora hemos utilizado una librería de fechas la librería de python como es la librería de fechas en este caso para decirle al sistema que queremos que la fecha no la tenga que introducir manualmente el usuario sino que la fecha la ponga directamente el sistema ya tenemos esto con lo cual pues tenemos ya un programa funcionando dentro de la base de datos quiero decirle al sistema Que bueno que el usuario digamos en este caso pues soy yo vale quiero guardar esa información de usuario Así que cuando guardo el usuario no solo puedo hacer print sino que en un momento dado puedo decirle cursor execute vamos a vamos a hacer un commit antes de nada vale esto es librería de fechas commit Push vale Y ahora a continuación hago curso de execute curso aquí Vale y insert into usuarios y voy a poner usuario en contraseña no voy a poner nada en email no voy a poner nada y creo que no tenía más Campos creo que usuarios usuario contraseña de email sí mientras que notas tenía bueno a ver pues Espérate usuario contraseña email vale Sí es correcto conexión punto inserto el usuario en la base de datos vamos a verlo y coman f5 introduzco el usuario es carsa Esta es una nueva nota Orange y quiero salir vale con lo cual si todo va bien Ahora me voy a la base de datos en notas veo Esta es una nueva nota Orange y si me voy al usuario si le digo Mostrar datos veremos que he guardado el usuario es decir esa información que pedía al principio pues no es que no sirva para nada sino que realmente al final se guarda en alguna parte con esto tenemos el programa hasta este punto tenemos el programa hasta este momento y hemos conseguido pues almacenar la información de momento en formato de programa de consola para más adelante evidentemente dotar Este programa de una interfaz de usuario la interfaz de usuario usando tk enter vamos a hacer una cosa vamos a decirle al sistema que en el caso del usuario quiero introducir diferentes cosas quiero introducir diferentes cuestiones por ejemplo introducir el usuario vale Pues ahora vengo por aquí y digo print introduce la contraseña con n es igual a input y print introduce tu email y email es igual a input con lo cual cuando Ahora vengo por aquí pues aquí donde pone usuario voy a introducir la contraseña y voy a introducir el email Así que si yo ahora ejecuto esta nueva parte vamos a ver vengo por aquí y ahora pondremos comentarios f5 para ejecutar vale el usuario o casa la contraseña 1234 el email prueba arroba prueba.com y ahora Bueno voy a hacer salir vale si todo ha ido bien Ahora vengo por aquí y recargo la tabla de usuarios de momento me va creando nuevos usuarios pero tengo hawkers 1 2 3 4 prueba punto com vale con lo cual ya hemos conseguido capturar información vamos a verlo vale le solicito al usuario la contraseña entrada de usuario le solicitó al usuario su email entrada de usuario vale vamos a hacer un Push primero un commit entonces nuevos datos de usuario hago un commit hago un bus y vamos a continuar y ahora una vez que he hecho el bus ahora a continuación lo que quiero es utilizar otra de las librerías que tenemos en el sistema que es la librería de expresiones regulares cuando el usuario mete un correo Quiero saber si el correo realmente es válido Entonces en este caso por tanto lo que voy a hacer es lo siguiente vamos a ver y vamos a por ello vamos a importar en primer lugar la librería import red de expresiones regulares importo la librería de expresiones regulares vale Y ahora con esta librería de expresiones regulares lo que quiero es decirle al sistema que quiero validar un correo electrónico entonces vengo por aquí Ok invento vale Y entonces digo lo siguiente vamos a ver Dónde pongo el email donde pongo el email voy a decir expresión es igual a r punto compaile Y en este caso voy a escribir una fórmula que a priori va a ser bastante difícil r y voy a escribir lo siguiente voy a escribir por una parte de hecho la tengo por aquí copiada al lado Así que voy a copiarla y voy a pegarla porque la fórmula es difícil y a continuación voy a decirle al sistema voy a decirle al sistema vamos a un segundo voy a decirle al sistema que vamos a ver vale sí r e punto full match de vamos a de expresión contra el email en ese caso print tu correo electrónico es válido en caso contrario print tu correo electrónico no es válido vamos a ver si esto va bien un segundo vamos a ver si está bien al f5 vale o casa contraseña 1234 email voy a poner Hola En este caso me dice tu correo electrónico no es válido con lo cual ahora voy a volver a ejecutar introduce el usuario la contraseña 1234 y el email voy a poner prueba arroba prueba.com con lo cual me dice tu correo electrónico es válido yo lo que podría hacer es decirle al sistema que sí el correo electrónico es válido solo en ese caso introduces el usuario dentro de la base de datos Y si no es válido pues en ese caso no introduces el usuario dentro de la base de datos estamos haciendo una validación para decirle al sistema que solo en el caso de que sea válido quiero que realmente entre así que creo una expresión regular para un correo electrónico válido el correo electrónico del usuario le digo que es correcto y en ese caso inserto el usuario en la base de datos y ejecuto El Comando en caso contrario si no es válido en ese caso le digo por pantalla que no es válido con esto vemos como hemos utilizado ese Quality 3 hemos utilizado Time hemos usado regular expresión vemos como estamos utilizando diferentes librerías para conseguir diferentes efectos para conseguir diferentes resultados vamos a hacer un commit Y esto es expresión regular para el email coming Push origin Y por último en esta parte del ejercicio pues nos vamos a recargamos y comprobamos como tengo pues cada una de las actualizaciones que he ido realizando sobre el programa hasta el momento para tener el histórico y en cualquier momento poder volver atrás y en cualquier momento poder saber que es lo que hicimos con anterioridad