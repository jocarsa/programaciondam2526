bien pues en la última sesión nos quedamos vamos a arrancar esta máquina nos quedamos en el punto en el que teníamos un servicio de arrancado teníamos el servidor que tenía los módulos probaron los mínimos de php y mysql sobre un servicio del apache entonces el objetivo al principio de esta sesión es comprobar que eso sirve para algo o hicimos alguna demostración como por ejemplo lanzar un php info y comprobar que php estaba en funcionamiento pero por ejemplo no hicimos ninguna demostración de para qué nos sirve tener algo como lo que hicimos ayer de instalar el servidor de mysql así que a continuación lo que quiero es comprobar que eso que hicimos pues realmente sirve para algo bien en primer lugar por tanto me conecto a el servidor ssh jose vicente unos números unos 68 177 en este caso pongo la contraseña y ahora a continuación lo que voy a hacer es instalar una aplicación web llamada wordpress y la voy a instalar de un modo diferente a lo que hicimos anteriormente es decir anteriormente por ejemplo para instalar otra aplicación web llamada php my admin lo que hicimos es conectarnos por ftp es decir comprobar cómo nos podemos conectar por ftp y lanzar la aplicación descomprimir la en el servidor y a partir de ahí instalar la podría hacer lo mismo con wordpress pero entonces no aprenderemos más de lo que ya sabíamos en esa parte entonces quiero ver el comando que a continuación vamos a aprender que se llama w get vamos a en primer lugar a bajar de directorio vamos al directorio bar vamos al directorio www vamos al directorio html vamos a hacer un listado voy a poner el killer vamos a tener un listado un poco más completo en forma de lista con parámetros bien y en este caso además de tener en los archivos index 2 tenemos la carpeta de color moralete digamos tenemos my php bueno pues en este caso lo que quiero hacer es quiero make dir es decir quiero hacer un directorio y lo voy a llamar wordpress que corresponde en este caso a una de las aplicaciones web más conocidas para construir gestores de contenido cms es que es content management system bien voy a hacer mk bin pulso el listado de nuevo veo cómo aparece ahora también hay wordpress voy a meterme dentro de wordpress hago un listado observo como por supuesto en la carpeta está vacía y ahora a continuación lo que quiero es descargar wordpress pero lo quiero descargar directamente desde el servidor no quiero tener que descargarlo aquí en mi equipo y entonces conectarme a ftp y entonces pasarlo yendo de escogerlo sino que lo quiero directamente para ello voy a comprobar si tengo instalado un comando llamado w get así que pulso enter y me dice que sí que lo tengo instalado lo único es que me dice que me falta la url me falta que le diga qué es lo que quiero entonces voy a sacar en un momento por aquí voy a sacar un navegador voy a poner wordpress.org en wordpress hay diferentes webs pero la buena en este caso es wordpress.org quiero descargar melo en español vamos a verlo quiero quiero conseguir wordpress vale y entonces aquí lo que aparece es la opción de descargar wordpress 572 o la versión que haya en un momento dado puede descargar melo en dos formatos puedo descargar melo o bien en formato zip o bien en formato tarjeta da igual nos es lo mismo uno que otro porque en nuestro servidor con ubuntu va a poder descargar los dos exactamente igual así que en este caso lo que voy a hacer es que si muevo el ratón encima del botón en la parte de abajo a la izquierda del navegador voy a ver que me está llevando directamente a la ley de éste es decir al último el más reciente voy a pinchar botón derecho voy a copiar aquí que esto no voy a copiar dirección de enlace y ahora lo que voy a hacer en el servidor es w get pulso pegar y me dice esto me dice que me va a descargar el último vamos a ver cuál me descarga le doy a enter bien y entonces como estamos viendo lo que acabo de hacer es descargar me 16 megas a 7 megas por segundo y tengo ya ese archivo descargado dentro del ordenador vamos a comprobarlo pulso ls y ahora observo como tengo el late este guión es punto ahora barra es vale punto si bien ahora quiero descargar en descomprimirlo esto ya lo hicimos anteriormente entonces pongo un zip pongo ley test y le doy a enter es decir lo que estoy haciendo ahora es descomprimir todos los archivos que lleva wordpress espera un momento y ya lo tengo descomprimido vemos que esto incluso es más rápido que lo que hicimos ayer y requiere únicamente dos comandos el comando windows y el comando y voy a pinchar un listado y veo que en este caso me dice que tengo el archivo leire y tengo el wordpress bien voy a hacer una cosa voy a hacer una cosa porque si ahora quiero instalar wordpress pues tendría que entrar dentro de la carpeta wordpress dentro de la carpeta wordpress a ver si me deja mover la carpeta wordpress un nivel más abajo lo que estoy haciendo es mover la carpeta wordpress del nivel actual a un nivel más abajo igual no me deja porque ya hay una carpeta llamada wordpress pero vamos a probarlo y nos dice que el directorio no está vacío bien otra cosa que puedo hacer es entrar dentro de wordpress y moverlo todo a la carpeta inferior vamos a verlo vamos a listar veo que ahora no hay nada es decir en esa carpeta ya no hay nada y si bajo una carpeta y listo veo que ahora está todo en esa carpeta voy a listado a menos l y veo que ahora todo está dentro de esa carpeta bien ya tengo wordpress descargado ya tengo wordpress descomprimido ya lo tengo preparado para instalar vamos a empezar a instalarlo vamos a por ello bien ahora a continuación lo que quiero hacer es realizar la instalación para ello voy a hacer lo siguiente para ello en primer lugar wordpress como es una aplicación web como prácticamente todas o por lo menos la mayoría de aplicaciones web requiere que bueno qué como te diría yo que le hagan una base de datos que le cree una base de datos así que a continuación lo que voy a hacer es que me voy a ir ahora si tengo que ir o debería ir o es recomendable que vaya a un navegador voy a poner 192 177 barra php mayor min voy a entrar recordamos con el usuario jose vicente y la contraseña que le puse que en mi caso era jose vicente un 23 dólares le doy a continuar bien y ahora voy a crear una nueva base de datos esto la aplicación web no es capaz de hacerla en hacerlo tengo que hacerlo yo y debamos darle al sistema una base de datos vacía así que voy a darle nueva base de datos mysql voy a crear una base de datos llamada wordpress por ejemplo o wordpress uno da igual elijo una colación la colación en este caso va a ser el f8 n de 4 y voy a pues por ejemplo spanish dónde estás spanish aquí está y le voy a crear bien tengo ya una base de datos creada y dentro de privilegios voy a ver quién está en esta base de datos le doy a privilegios y me dice que el usuario jose vicente tiene acceso para esta base de datos pues vamos a por ello vamos a utilizar el usuario jose vicente si no podría agregar una cuenta de usuario pero bueno tengo ya el usuario de vicente pues ya está pues ya lo tenemos ahí así que vamos a por ello vamos a por ello a continuación me voy a aquí me voy a crear una ventana nueva del navegador pongo 192 168 177 barra y a continuación voy a poner wordpress porque quiero ver el contenido de la carpeta wordpress que acabo de descomprimir vale la idea en este caso voy a hacer nuevos así voy a hacer un clear la idea en este caso es que estoy viendo una carpeta pero ya no es la carpeta donde ayer pulse por ejemplo un archivo de ejemplo si no es una carpeta donde he puesto una aplicación web completa le voy a meter y compruebo si es cierto que ya aparece aquí la pantalla inicial de la instalación de un wordpress así que me dice antes de empezar necesitamos alguna información de la base de datos necesitará saber lo siguiente para continuar el nombre de la base de datos usuario contraseña servidor y prefijo de tabla si queremos ejecutar más de un wordpress en una sola base de datos que no queremos entonces vengo por aquí vamos a ello y le digo nombre de la base de datos wordpress bien hasta aquí wordpress ok nombre del usuario el nombre del usuario es josé vicent la contraseña era josé vicente 123 dólar el servidor de la base de datos es localhost porque es este mismo ordenador este mismo servidor y el prefijo de la tabla esto insisto que sólo es en el caso de que quiere ejecutar varias instalaciones de wordpress pero no va a ser este el caso con lo cual lo dejamos estar le doy a enviar vamos a verlo bien y nos dice lo siguiente nos dice no se ha podido escribir en el archivo word press config y esto es porque el archivo wordpress config vamos a listar lo el sml estómago más pequeño y así l todavía vamos a verlo aquí el archivo wordpress confía aquí esta es un archivo que tiene permiso de lectura y escritura por el dueño pero el dueño es jose vicente y quien lo está intentando ejecutar es el usuario v www data cualquier otro usuario del mismo grupo solo tiene permisos de escritura y cualquier otro tipo de usuario del mundo mundial tiene solo permisos de lectura antes de dicho escritura estudia quería decir lectura entonces lo que voy a hacer en este caso es que voy a venir aquí y voy a decirle voy a poner 666 y quiero escribir wordpress config wordpress a ver momento espérate que este es el wordpress con fix amplia vale y es que no me deja claro no me deja ok bien no pasa nada pues voy a ir una carpeta atrás y voy a hacer 666 wordpress entonces ahora tiró para atrás le vuelvo a dar ha perdido la contraseña jose vicente 1 23 dólares vuelvo a enviar bien permiso no pasa nada vamos a ver voy a hacer la típica trampa 777 - r wordpress r 777 bueno ok sin poder vale ok venga con el 777 sí que hemos podido vale así que ahora le damos a ejecutar la instalación y ahora lo que voy a hacer es crear un sitio web el título del sitio va a ser la web de jose vicente el nombre de usuario es jose vicente la contraseña voy a poner la misma de antes josé vicente 123 dólar es débil pero voy a confirmar el uso de una contraseña débil mi correo electrónico es info arroba josé vicente carratalá puntocom y no voy a disuadir a las otras de búsqueda de indexar el sitio y le voy a dar a instalar wordpress y ahora en un momento en unos pocos segundos como vamos a comprobar vamos a tener una web instalada podemos comprobarlo y ya está ya tenemos una web instalada lo que acabamos de hacer básicamente vamos a darle a acceder lo que acabamos de hacer es que si yo voy a 192 168 177 wordpress comprobamos voy a abrirlo en una pestaña comprobamos como tengo hoy la web de jose vicente me falta una para la pondré no pasa nada y tenemos una primera entrada es decir tenemos una página web horrible lo sé pero tenemos una página web ahora la hacemos más bonita voy a decirle que josé vicente voy a usar el mismo usuario y aquí tengo el panel de control fijémonos que todo este panel de control es lo que nos ha dado esa instalación de la aplicación de wordpress y puedo ir a ajustes generales y decir que esto es la web de jose vicente y puedo cambiar la plantilla puedo cambiar el tema puedo cambiar a twenty nine team puedo cambiar otro tema visual y puedo crear contenido vemos cómo ha cambiado la web y puedo meterme aquí en entradas y puedo añadir una nueva entrada y puedo en definitiva empezar a crear vale que es wordpress en definitiva pues wordpress es un gestor de contenido un cms que se llama un content management system y básicamente lo que acabamos de demostrar es que soy capaz de instalar una aplicación web como wordpress dentro de mi servidor es decir hemos comprobado con el trabajo que hicimos ayer sirve para algo y es que eso de instalar un linux un apache mysql php pues sirve para luego poder poner en funcionamiento completas aplicaciones web como estas bien a continuación una vez que hemos instalado un wordpress instalaron wordpress es algo muy sencillo técnicamente hemos visto que ha sido sencillo ha sido rápido no ha habido mucho problema básicamente porque wordpress se instala en prácticamente cualquier tipo de servidor a continuación vamos a hacer algo un poco más complejo vamos a instalar otra aplicación web más compleja de instalar más dura de instalar que se llama moodle entonces moodle es una aplicación web que mucha gente sobre todo estudiantes habéis conocido porque hay un montón de intranets formativas hay un montón de intranet de centros de formación que se construyen a partir de moodle vale entonces por eso es por lo que comentó que pues probablemente ya conoces moodle por eso pero probablemente hasta ahora tú habías usado moodle como usuario como alumno y digamos que habían dado ya un model y tú entrabas dentro de ese modelo bueno pues hoy vamos a ver moodle desde un punto de vista diferente hoy vamos a ver como desde cero desde un servidor vacío desde un servidor que tiene un hueco vacío podemos instalar un modelo podemos crear un modelo e incluso en un momento dado y ahí pararemos esta parte pues lo que haremos es entrar como administrador saber el model como administrador entonces me voy a ir a downloads descargas dentro de downloads me voy a descargar pues bueno la versión que vea ahora mismo que es la última me dice checkout tauler es release que es la mud el 03 y bueno básicamente la leire es félix es la última recomendable vale no quiero una rallys de desarrollo porque si ya instalar una rallies normal va a ser duro pues nada de desarrollo sería más duro todavía y bueno nos dice aquí de hecho que dice instalar moodle en tu propio servidor y dice requiere un servidor web que es apache con php lo tenemos y con una base de datos moodle admite varias bases de datos entre ellas mysql así que tenemos los prerrequisitos que se nos piden en esta descarga vamos a ver este botón donde me lleva hago clic y bueno una vez más pues podemos descargar en este caso el 311 estable lo podemos descargar en formato tgz y lo podemos descargar en formato zip está igual cualquiera de los dos es válido para un servidor entonces copiamos la dirección del enlace nos vamos al servidor voy a minimizar un poco esta ventana bien nos vamos al servidor vamos a crear un directorio llamado model ok entramos dentro del directorio model y aquí voy a hacer w get y voy a pegar esa dirección lo cual quiere decir que vamos a descargar el model dentro de este directorio vamos a verlo por qué por qué dice que lo ha guardado me ha parecido muy rápido me ha parecido de hecho demasiado rápido pero el caso es que lo ha descargado correctamente nos ha dado un 200 ok voy a hacer ls menos l y en principio parece que sea correcto pero de hecho 37 megas una cosa que podemos hacer es conectarnos por file fila para comprobarlo porque ya te digo o sea descargado a la velocidad del rayo o algo no ha funcionado muy bien entonces déjame que me asegure me voy a ir al servidor ubuntu nos conectamos igual que anteriormente por fila me voy al directorio raíz me voy a bar me voy a w me voy a html me voy a moodle y compruebo que efectivamente parece que haya un archivo de no cuidado 37 mil bytes no debería ser 37 mil casas voy a hacer una cosa voy a descargar este archivo a las bravas es decir de hecho teóricamente ocupa 73 megas y parece que efectivamente ahora sí no sé cuál era la dirección de descarga pero bueno como parece que tiene una especie de protector de descargas pues no pasa nada me lo descargo manualmente pero descargo manualmente voy a borrar este pasamos de uno a otro descargas model lakers lo pasamos aquí vamos a esperar a que la transferencia finalice vale y una vez que lo tenemos ya bueno esto de hecho lo puedo cerrar ya que no creo que lo vaya a utilizar más en un rato cerramos por aquí el sml y este número ya me cuadra bastante más así que ahora voy a hacer un zip voy a un cipe ar moodle leyes esto va a tardar un poco te lo digo ya por qué la instalación de moodle contiene una barbaridad de archivos contiene una barbaridad de archivos y por tanto pues como ahora verás tarda un rato en descomprimirse vamos a estar al momento para que acabe de descomprimir ser y sobre todo me interesa esta instalación porque como ahora veremos a continuación aquí lo tenemos ya vamos a tener que instalar incluso alguna dependencia para que podamos instalar móvil como ya te digo es una aplicación bastante exigente y relativamente exigente voy a hacer la misma operación de antes dentro de la carpeta moodle al descomprimir acabo de crear otra carpeta moodle no pasa nada voy a entrar dentro de esa su carpeta moodle fíjate en la dirección de aquí tengo en moodle barra moodle pues quiero mover todo este disco una carpeta más abajo lo quiero mover todo digamos hacia abajo así que hago así hago ls compruebo que ahora la carpeta moodle está vacía tiró una carpeta hacia abajo le doy ls y ya lo tenemos activo ya lo tenemos preparado ahora incluso voy a mover una carpeta hacia abajo voy a hacer un ph mod 777 moodle para poder trabajar ahí dentro para que al instalar no me dé problemas de permisos y luego se hace falta seguro los permisos luego se hace falta el restrinja más los permisos pero a continuación lo que vamos a hacer como digo es empezar a instalar esta aplicación nos va a pasar lo mismo que antes nos pasaba con wordpress y es que en primer lugar vamos a tener que crear una base de datos y una vez que hayamos creado una base de datos entonces tendremos que hacer la siguiente parte vale que es instalar bien entonces a continuación voy a abrir una pestaña voy a ir a 190 216 81 77 php my admin voy a hacer lo mismo de antes voy a crear una nueva base de datos voy a crear la base de datos llamada mud el voy a poner la colación en ute efe 894 spanish bien y ahora a continuación lo que voy a hacer pues básicamente va a ser crear nada crear y hasta crear una base de datos vamos a comprobar que en privilegios el usuario jose vicente tiene acceso a esta base de datos y por tanto ahora pues ya puedo iniciar la instalación así que me salgo de aquí me voy a dentro de la carpeta moodle y vamos a empezar a satisfacer dependencias vamos a empezar a ver qué errores de instalación nos da y que tenemos que hacer en el servidor para que model se instale correctamente así que le voy a enter bien nos dice en qué idioma quieres instalar moodle lo quiero instalar en español así que spanish espera español por aquí arriba español y bueno pues internacional vale le doy al ex la siguiente dirección confirme en las rutas bueno como estamos trabajando con una con un servidor local de momento con servido de prueba pues va a ser en mi caso 192 168 177 el directorio de moodle va a ser var html moodle y aquí viene el problema el primer problema y es que el directorio de datos va a ser una supuesta carpeta que debería estar dentro de www llamada mud el data pero esta carpeta no existe entonces lo más probable es que a la continuación si le doy al siguiente ese directorio de datos me de error porque mira no existe ni en principio el sistema tiene permisos para crearlo le vería siguiente y efectivamente me dice mira como el directorio bar no tiene permisos de escritura no ha podido ser creado por el instalador y por tanto lo tengo que crear yo así que voy a hacerlo bajo una carpeta a la carpeta w voy a crear el directorio moodle data sudo me le tengo permiso denegado no pasa nada porque hago sudo m cuddyer muy bien data pongo el usuario pongo la contraseña bueno no he puesto la incorrecta perdón vale ahora voy a decirle fh 777 muy del dato sudo porque esa carpeta no tiene permisos ahora sí es la carpeta del sistema y por tanto ahora ya puedo darle al siguiente para comprobar que el sistema va a decir que ahora sí que puede bien ahora con qué tipo de controlador nos vamos a conectar a la base de datos por defecto me están proponiendo mysql y voy a aceptarlo es el que viene por defecto sin embargo pues hay otros conectores disponibles tales como por ejemplo aurora mysql o el conector para maría db y vamos a ver moodle se puede conectar a otros tipos de bases de datos como postre sql como oracle o como microsoft sql server en este servidor linux no podría haber instalado microsoft sql server por razones obvias así que podría haber instalado post de sql u oracle pero no los he instalado y por tanto por eso me dice que no está disponible pero como sigue instalado mysql pues por eso mysql aparece disponible baleares lo único que ocurre es que pues de momento voy a elegir mysql simplemente porque por el momento no he instalado ninguno de estos otros motores de base de datos digamos que a diferencia de wordpress que wordpress solo puede funcionar con un tipo de base de datos que es qué es este que es en mysql pues moodle puede funcionar con varios motores de base de datos pero vamos a trabajar con mysql y bien pinchamos siguiente ya continuación al igual que antes dentro de wordpress se nos pide cuáles son los datos de conexión servidor de la base de datos localhost nombre de la base de datos del usuario de la base de datos jose vigente contraseña de la base de datos contraseña del usuario de la base de datos jose vicente un 23 dólar prefijo de las tablas una vez más como en wordpress esto nos sirve por si se diera el caso de que instalará varios moldes en una misma base de datos no lo voy a hacer voy a elegir en este caso el prefijo de las tablas y ahora puerto de la base de datos en principio no voy a poner ninguno con lo cual el sistema debería automáticamente el puerto 3 0 6 que es el puerto de mysql y con socket unics ocurre exactamente lo mismo entonces voy a darle al siguiente con la esperanza de que coja los datos por defecto vale en principio parece que sí pasamos a la siguiente pantalla de la instalación ok y ahora a continuación pues continuamos bien ahora a continuación bueno antes de empezar se nos dice que este software está basado en la licencia de software libre con lo cual no hay ninguna garantía para este software vale ha leído y ha comprendido los términos y condiciones por supuesto que no los ha leído y por supuesto que no los he comprendido así que voy a confirmar la licencia de cómo paga siempre aun así evidentemente esto lo podemos hacer porque vamos a instalar esto simplemente por una cuestión didáctica pero si fuéramos a instalar un model de producción pues sí que sería bueno que le diéramos la diferencia así que le voy a continuar y como digo en este caso pues observamos que hay una serie de dependencias que no se están satisfaciendo en este caso me dice lo siguiente hay una serie de errores a través de los cuales no puedo continuar que es que la extensión intel de internacionalización debería estar instalada no está instalada es un error rojo no puedo continuar luego la extensión xml rpc debería estar instalada y es útil para los servicios web y redes model vale la extensión de servicios web south no está instalada tampoco debería estar instalada todo el resto parece que está instalado y bueno vamos a ver nos dice que el sitio en nube es https y no lo va a ser más que nada porque para eso tendríamos que gastarnos un dinero cada uno de los que monte es un servidor para conseguir un certificado en un 11 y el max input bars dice que al menos sea de 5000 eso sí que lo podemos arreglar porque está como ya recordamos ayer en el php punto y entonces vamos a y las cosas como ves hasta que no arreglemos al menos los errores que haya en rojo no nos va a dejar continuar entonces vamos a empezar por el error rojo nos dice debería estar instalado vamos a verlo vamos a la documentación aquí están vale y vamos a ver aquí y aquí está esto es lo que estaba buscando lo que estaba buscando como podemos ver es el código la línea donde se nos da directamente la chuleta de instalación entonces vengo por aquí sudo a piquet install php intel le doy a enter está descargando nos dice voy a descargar 542 kilobytes de información si le digo sí y descarga y instala y en un momento veremos como tenemos esto ya correctamente activado conviene sudo service apache 2 restart para que se dé cuenta para que el servicio apache se dé cuenta de que ahora tiene ese nuevo módulo entonces ahora me voy a la instalación de moodle le doy a recargar vamos a verlo bien y vemos que nos hemos quitado ya el error rojo nos quedan los errores amarillos podríamos continuar porque el entorno del servidor cumple los requerimientos mínimos pero vamos a arreglar por lo menos los amarillos vamos a arreglar aquellos que en un momento dado pues podamos arreglar entonces xml rpc le decimos en ubuntu instalamos esto php 5 x ml rpf yo creo que no yo creo que con que ponga php xml rpf ubuntu ya sabrá qué versión tiene que porque si no me estaría instalando la de php 5 cuando tengo php 7.4 así que le voy aquí y si todo va bien descargo por aquí php xml rpc y vamos a verlo y ahora en un momento como podrás ver pues tendremos aquí el rpf ya instalado siguiente cuestión vamos a por los protocolos show vamos a ver bien no aparece el código para debian pero no pasa nada porque digo sudo up get install php un guión shop y ya está con suerte encuentra al paquete me lo descarga me lo instala ahí lo tenemos bien que más necesita el sistema https ya hemos dicho que no y luego el max input bar que sea al menos de 5000 esto no es una cuestión de instalar nuevo software esto es una cuestión de evitar el archivo php punto y ni vamos a ver dónde está ese archivo php y ni que teníamos ayer estaba recordamos en la carpeta etc estaba en php dentro de php vamos a entrar en 7.4 dentro de aquí no me gusta muy no me suena muy claro que fuera esto un momentín unos números unos 68 177 y apache los ponemos prueba php vale aquí la posición aparece 2 php ok correcto vamos a ver ls apache 2 y ahora si le decimos sudo nano php punto y con lo cual se abre el archivo php es un archivo largo vale entonces bueno pues básicamente lo que vamos a hacer es buscar el max input wars' arts voy a hacer bueno claro nada no hay mucho que pueda hacer porque no puedo ver el cursor así que en jean con precisión en el ice estoy viendo por abajo a ver voy a poner control w input vale max input barça y esta mira lo hemos encontrado entonces cuanto pedía no me acuerdo pedía que al menos fuera 5000 y por defecto está a 10.000 entonces voy a poner el 5000 voy a hacer control o para escribir voy a hacer control x para salir voy a hacer sudo service apache 2 restart muy bien y si todo va bien ahora voy a recargar esta página vamos a ver un momento vale los dos de arriba han desaparecido ya se recomienda si este se va a quedar que fuiste no lo voy a arreglar porque no lo puedo arreglar ahora mismo se requeriría algo mucho más complejo pero esto sí que lo he arreglado teóricamente entonces voy a recargar voy a buscar input bars max input barx sigue en 1000 es curioso porque eso quiere decir que hay otro archivo php que no he modificado pero según esto sí que es ese x sonora ph pain control w en put max input bartz no sabes la otra vez máximo perdon max input barça si nos damos cuenta la línea está comentada tiene un punto y coma al principio entonces quito el punto y coma control o para escribir control x para salir ahora reinicio el servidor recargo el ph peine busco compruebo si se ha actualizado impulsar ahora si está a 5000 recargo en la pantalla de instalación de moodle y comprobamos como ahora si el único aviso de color amarillo de color naranja que queda es que el sitio no es https y no lo va a hacer así que a continuación ya podemos pasar al propio proceso de instalación bueno pues a continuación si ya lo hemos arreglado todo y nos queda únicamente eso de la stps voy a darle a continuar bien y ahora es cuando el sistema ahora es cuando la instalación va a trabajar ella solita un rato esto qué quiere decir pues esto lo que quiere decir es que así como la instalación de wordpress es un momento la instalación de wordpress es prácticamente inmediata porque como te decía antes wordpress es una aplicación web que es muy ligera y además cada versión la optimizan más para que sea lo más ligera posible pues con moodle no ocurre eso moodle es una aplicación muy pesada porque tiene dentro un montón de cosas entonces la instalación tarda una barbaridad es simplemente ahora nos vamos a dar cuenta de que pues parece que la instalación se haya quedado colgada y no es así simplemente es que hay que esperar al entonces nos fijamos de que haya arriba realmente el icono digamos de que la web está funcionando por realmente está funcionando y simplemente hay que esperar eso sí ya hay que comprobar que no dé ningún tipo de error hay que comprobar que se instale correctamente pero más allá de eso digamos mucho misterio no hay más misterio que esperar así como con las instalaciones de moodle perdón así como con las instalaciones de wordpress ver algún error es relativamente muy poco frecuente vale como la instalación de moodle es tan pesada y tan peligrosa ver errores en la instalación de moodle es relativamente frecuente es relativamente normal si eso ocurriera simplemente lo que hay que hacer es volver a arrancar la instalación y problema solucionado ya quiere decir que pues eso yo calculo que hay entre un 10 o un 15 por ciento de probabilidades de que durante este proceso de instalación pues algo ocurra hay algún problema pero ya está no hay más puntilla digamos no hay más muy más que hacer que esperar vamos allá y bueno ahora pues simplemente hay que esperar que estoy empezando para hacer cosas verdes no quiere decir que nada es decir simplemente lo que quiere decir es que ya está vale va instalando el antivirus va instalando actualizaciones pero fíjate que hay abajo quiere decir que no ha acabado todavía el modo sainz no tiene todavía luz verde ahora tengo moda sin luz verde pero van apareciendo otros módulos o sea hasta que haya arriba no deje de rodar ya está aquí abajo del todo no aparezca un botón que me diga ok todo correcto puedes continuar pues no puedo continuar vale tengo que esperar a que todos los módulos acaben de instalarse correctamente y ya te digo y sobre todo lo más importante es que no debo frustrarme en el caso de que vea algún error o simplemente siga algún error pues ya está hay que volver a instalar hay que volver a empezar la instalación y no hay mucho más misterio la instalación de moodle vamos a ver si hay suerte y vamos a necesitar a la primera ojalá que sí pero hay veces que cuando la instalación de moodle se pone rebelde pues puede tardar toda una tarde entonces lo bueno es que luego ya cuando lo instalas otro tienes instalado para años pero la instalación de moodle puede ser la argolla vamos a ir tirando hacia abajo es decir vamos haciendo con el scroll hacia abajo para asegurarnos de que no nos perdemos al final pero bueno ya te digo que el final no nos lo vamos a perder porque básicamente yo lo que me estoy fijando es en que la ruedita ésta deje de rodar en el momento en el que deja de rodar es que ya en principio en teoría ha finalizado la instalación vamos a esperar un momento pero cuando digo esperar un momento evidentemente es un eufemismo porque ese momento pueden ser 5 10 e incluso 15 minutos tranquilamente pero como ves esta instalación no pide pan no puede pagar en el sentido de que pues va funcionando ella sola y ya está cannes a ver simplemente voy tirando hacia abajo en el scroll para ir actualizando bueno te fijas vamos ya por la p con lo cual pues no queda mucho pero vamos por la temprana estoy por tul amira perfecto vale con los cachés vale he visto por ahí un contenido que es h 5 p que es un repositorio de plugins de formación bastante interesante pero bueno le ha dado la vuelta alfabeto bueno pues para nuestra suerte este ha sido uno de esos casos en los que se han instalado moodle a la primera y sin errores ves que allá arriba esto ha dejado de rodar ves que tenemos ya el botón de continuar así que nada la parte más dura y desde luego con diferencia la parte más peligrosa ya ha pasado vamos a darle a continuar y ahora simplemente en el proceso de instalación pues nos va a pedir ya los datos de la instalación del modelo así que nombre de usuario voy a dejar admin ya sabemos que no es un consejo o sea no es un buen nombre digamos para un modelo en producción pero este no es un modelo de producción este es un modelo de prueba nueva contraseña pues voy a poner la misma contraseña que ponen todo el rato voy a poner reitera que no se ve pero de poner josé vicente 123 dólar vale voy a poner la misma contraseña que estoy poniendo todo el rato bien en nombre ahora sí nombre josé vicente apellidos carratalá sanchis dirección de correo info arroba josé vicente carratalá mostrar el correo pues mostrar un ocultar eso ya un poco como lo quieras configurar no tengo profile el model punto net ciudad valencia o mislata o lo que sea país españa país español zona horaria la zona del servidor que es europa londres descripción del model bueno no voy a poner nada luego se puede cambiar voy a decirle a actualizar información personal no voy a nombres adicionales ni opcional porque eso ya es parte de lo que es la instalación eso ya es otra cosa vamos a por ello ahora como ya te digo superado esto todo lo demás es cuesta abajo superado esto todo lo demás ya es configurar la instalación y por lo menos quiero acabar la instalación para poder hacer un primer login y que veas y que compruebes que tengo un model en funcionamiento o sea que veas no quiero dejar esta mitad digamos quiero llegar hasta el final para pues para ver digamos que puedo a nombre del sitio pues cursos de jose vicente un hombre corto para el sitio una palabra pues cursos jose vicente resumen de la página nacional no lo voy a abrir en nuevos ajustes zona euro para europa londres registrarse asimismo la verdad es que podría poner europa parís europa madrid porque londres creo que es una hora menos entonces registrarse a sí mismo deshabilitar solo el administrador poder registrar dirección del horno replay esta dirección de momento le voy a guardar cambios y en este valor no es válido entonces vamos a poner no reply arroba jose de diferente carratalá puntocom vale que existe esa web existe realmente vamos a ver bien y ya está ya hemos acabado la instalación esto que estamos viendo ya es un model preparado para utilizar estoy en el momento en moodle barra my vamos a jose vicente vamos a cerrar sesión y pues vamos a ver cómo en este caso tendríamos aquí pues esto es lo que verían los alumnos de entrada usted no se ha identificado voy a acceder vamos a comprobar que pongo en este caso admin y la contraseña vamos a comprobar que puedo hacer cosas como por ejemplo administrar el sitio puedo cambiar la apariencia puedo instalar un tema puedo seleccionar el tema de boost puedo cambiar el classic e igual definitiva lo que me importa es comprobar que como podemos ver pues ya tengo un model en funcionamiento y ya tengo por aquí de la misma forma que antes instalado un wordpress pues ahora acabamos de comprobar como pues tengo ya un model funcionando correctamente en la pantalla bien a continuación cierro el navegador vamos a otra cosa mariposa vamos a otra cosa completamente diferente vamos a añadir nuevos usuarios a este sistema operativo del servidor cuando nosotros hemos instalado el sistema se nos ha pedido un usuario en este caso pues el usuario jose vicente y luego aparte ya sabemos que además del usuario josé vicente pues siempre estaba por ahí de fondo el superusuario el usuario root pero lo bueno de un sistema operativo linux de servidor es que al final es un sistema operativo multiusuario y esto quiere decir que una vez instalado un servidor si fuera necesario pues pueden acceder a este servidor multitud de personas a la vez al final y esto que te voy a decir es más bien un apunte histórico vale pero al final esto deriva de los servidores multiusuario y unix ya que linux en definitiva pues no deja de ser una derivación del unics vale así que pues esto que probablemente darás mucho por hecho porque igual ha crecido con ello tenerlo de que puedan haber diferentes usuarios y sobre todo que se pueden conectar diferentes usuarios a la vez desde diferentes sesiones pues es digámoslo lo bueno bien voy a crear un usuario nuevo entonces voy a poner sudo up y usher y a continuación voy a poner el nombre del nuevo usuario ya tenían jose vicente pues voy a poner alberto pinchamos enter y a continuación lo que va a hacer el sistema es bueno primero preguntarnos cuál es la contraseña de jose vicente que es el usuario con permisos de administración para añadir un nuevo usuario alberto entonces pongo la contraseña y ahora a continuación lo que no se nos dice es lo siguiente dice mi lado como no me ha dicho nada más he añadido un usuario alberto ok he añadido un nuevo grupo de usuarios que además se llama como tú mismo alberto y he añadido el usuario alberto al grupo alberto y además he creado el directorio home alberto y he creado en este caso los archivos de configuración a la carpeta etc dentro de la subcarpeta esquel vale cuál va a ser el nuevo password para el usuario alberto bueno pues podríamos vale poner cualquier password yo voy a poner alberto 123 dólar vale lo como he puesto anteriormente jose 123 dólares pues alberto un 23 dólar la primera con mayúsculas así que retail new password así que alberto 123 dólares para asegurarnos y nos dice bien ya tenemos el password actualizado correctamente vamos a cambiar la información de usuario para alberto y nos dice entra en el full name es jose vicente no es alberto rodríguez y bien le damos room number bien en principio los servidores de empresa los servidores ubuntu se utilizan para empresas entonces el servidor cree que tú eres un empleado en una empresa rumberg es tu número de despacho entonces bueno no aplicable work sound pues voy a poner 1 1111 aquí podríamos número de teléfono vale del trabajo home phone voy a poner tu número de la unsa voy a poner un número poder no y dice esta información es correcta le voy a decir que yes así que en este caso lo que acabamos de hacer es que acabamos de crear un usuario llamado alberto en el sistema vamos a comprobarlo vamos a comprobar que existe este usuario ahora y que ese usuario se puede lograr desde cualquier ordenador conectado hasta esta intranet voy a bajar voy a entrar en home voy a hacer un listado y comprobamos que se llene anteriormente sólo existía el usuario josé vicente ahora a continuación también existe el usuario alberto y sobre todo para voy a hacer una cosa voy a bloquear me voy a hacerlo out ahora estoy en el de jose vicente o sea he salido del servidor ya no estoy dentro del servidor y ahora me voy a conectar al servidor pero me voy a conectar con el usuario alberto así que ssh alberto 192 168 177 pulsamos enter nos pregunta cuál es la contraseña de alberto es alberto 123 dólar y arrancamos y accedemos al servidor aquí lo tenemos pero con el usuario alberto comprobamos como ese usuario ahora tiene permisos para acceder digamos a este servidor ahora demás lo que voy a hacer también voy a hacer esto un poco más pequeño y no tanto y voy a hacer una nueva ventana han visto dos ventanas de terminal abrir esas ventanas de terminal está un pelín más grande y estos son dos ventanas al mismo ordenador pero podrían ser dos ventanas en diferentes ordenadores ahora desde esta otra ventana voy a hacer ssh jose vicente arroba 192 168 177 pongo la contraseña no es esta contraseña es esta otra y si nos fijamos ahora yo lo que tengo aquí es que con esta con este es el entrado como alberto y con este es el he entrado como jose vicente y no hay ningún problema por ello es decir no hay ningún problema en cuanto a que hará cada uno de los dos podríamos estar desde nuestra casa o desde nuestro despacho o incluso en países diferentes y podríamos estar conectados al mismo servidor y podríamos estar haciendo trabajo los dos a la vez vamos a comprobarlo me vengo a alberto me voy a hablar me voy a w me voy a html y voy a hacer sudo m cuddyer mi web y pongo el password que es albert momento alberto un 23 dólar vale bueno y en este caso tenemos un pequeño problema vale y nos dice que hemos creado el usuario alberto pero alberto no está dentro del grupo de usuarios que tienen permiso para ejecutar comandos con un nivel superior de superusuario vale muy bien en ese caso vamos un momento a josé vicente se ve mal feve w cb html sudo m cuddyer mi web vale ponemos la contraseña y si ahora aquí desde alberto le doy a ls veo que tengo aquí mi web es decir alberto no puede todavía en este caso hacer uso de ciertos recursos como diría yo privilegiados pero sí que puede ver lo que están haciendo otros usuarios a continuación evidentemente vamos a hablar de grupos de usuarios y vamos a ver cómo podemos cambiar los usuarios y los grupos que tenemos en un momento dado en una máquina concreta para no manejar lo que voy a hacer es que voy a hacer un log out desde el usuario o alberto siempre que podría cerrar la ventana vale pero la forma correcta de salir de un servidor es invocar al comando log out entonces cierro esta ventana me quedo con esta ventana de aquí y vamos a hablar del tema de usuarios quiero ver el número de usuarios que hay en el sistema y quiero ver el número de grupos que hay en el sistema hay múltiples maneras de hacerlo hay muchas formas de conseguir esta información una de ellas es mediante el comando con james primero vamos a ver si está instalado en el sistema de momento parece que sí y voy a hacer con jane y al hacer con bien y lo que hace es decirnos qué usuarios existen dentro del sistema actualmente bien parece que existen más usuarios de lo que en un primer momento podríamos haber pensado pero es normal porque fijémonos que por ejemplo cuando en un estado apache y apache crea algo apache crea algún archivo pues ese archivo pertenece al usuario ww data si un elemento lo crea el gestor de correo electrónico pertenecerá al usuario mail por supuesto como no tenemos el usuario root que es el usuario que por lo que puede hacer de todo esto en su gran mayoría no son usuarios que podamos nosotros de los cuales podamos tomar el control es decir yo no debería por ejemplo nunca tomar el control del usuario de mont el usuario de aemos el usuario demonio o espíritu en definitiva es un usuario que va haciendo cosas automáticamente por el sistema vale así que no debe dejar trabajar normalmente evidentemente tengo también el usuario jose vicente tengo un usuario mysql y tengo también un usuario alberto entonces a continuación lo que vamos a hacer es listar qué tipos de grupos tenemos actualmente en el sistema voy a poner con james y si he pulsado guión para averiguar a los usuarios voy a pulsar con jim jones para averiguar a los grupos entonces claro qué es lo que ocurre bueno lo que ocurre es que en este caso tenemos prácticamente tantos grupos de usuarios hay algunas diferencias pero hay tantos grupos de usuarios como usuarios que hemos visto que por ejemplo cuando hemos creado el usuario alberto pues el usuario alberto ha creado su propio grupo alberto vale pues a continuación lo que quiero es decirle al sistema que quiero cambiar a por ejemplo quiero cambiar alberto y quiero decirle que el usuario a alberto quiero que pertenezca al grupo jose vicente vale quiero que tenga los mismos permisos que tiene el grupo jose vicente así que vamos allá primero he tenido que el instar a los recursos que hay en el sistema para a continuación hacer lo mismo hacer lo siguiente perdón sudo y usher mod ya quiero modificar un usuario guión y guión g si ponemos you sermón guión help tenemos que quiere decir cada uno de los flags básicamente lo que dice es que voy a aprendiz ar o sea no voy a quitar no te voy a quitar del grupo alberto para meterte en el grupo jose vicente sino que además de estar en el grupo alberto vas a estar el grupo jose vicente y luego a continuación el comando g lo que hace es añadir un listado de grupos donde por ejemplo te podría meter en este caso no es obligatorio pero vale vamos a llevarlo entonces a continuación en el grupo jose vicente quiero meter al usuario alberto vamos a comprobar si no da ningún error no debería dar ningún error ok bien ya lo tenemos y a continuación lo que tenemos que hacer vamos a ver es si esta fuera tu sesión sería salir de la sesión pero como no tiene la sesión iniciada vamos a probarlo entonces vamos allá vamos a arrancar una nueva terminal vamos a hacerla grande un poco grande vale y ahora voy a decirles qué ssh alberto a 1923 otros 177 vamos a poner la contraseña vale y vamos a comprobar si es cierto que ahora formas parte d del grupo de usuarios entonces vamos a por ello vamos a w de bar perdón de www de w feve html bien entonces ahora por ejemplo yo quiero crear la carpeta mi web 2 recuerda estoy ahora como alberto en principio como ahora formas parte también del grupo jose vicente deberías tener permisos para hacer eso porque el grupo jose vicente el grupo administrador en este caso así que es sudo m cuddyer mi web 2 y si todo ha ido bien password for alberto wow vale venga no pasa nada alberto no está todavía aunque ya estás en mi grupo no estás todavía en el archivo de sudor es con lo cual no pasa nada te meto en el archivo de sudo bears y vamos a comprobarlo bien vamos a editar un archivo voy a hacerlo a otro momento en este en esta instancia de alberto y vamos en un momento vamos en un momento a editar vamos a bajar a trabajar vamos a bajar vamos a etc donde están los archivos de configuración y si todo va bien debe haber un archivo llamado sudores aquí está donde los sudores en este caso nos permiten elegir todos aquellos vamos a ver ahí están todos aquellos y aquí está miembros digamos que pueden ganar privilegios de root en este caso dice que el miembro del grupo admin puede ganar root privilegios el usuario root evidentemente puede ganar privilegios en verso voy a hacer lo siguiente voy a poner aquí una nueva línea voy a poner alberto hoy es igual a el sol te doy todos los permisos vamos a comprobarlo a ver si en suerte le digo control o para escribir control x para salir voy a hacer un log out directamente aquí hago ssh alberto a 92 unos 68 177 pongo la contraseña en la post o mal entonces ah para que me bajo me voy a dar me voy a w me voy a html me voy a estar y pongo sudo en el kadir mi web 2 y si todo va bien vamos a verlo de password y si todo va bien ahora ya eres parte de ese grupo de sudo bears y por tanto ya puedes hacer un poco de todo por tanto ya puedes hacer todo aquello que sea necesario dentro del sistema ok a continuación vamos a hablar de una de las cosas más importantes que yo creo que hay dentro del sistema operativo linux que es el chrome o en definitiva el gestor de tareas repetitivas entonces te cuento yo por ejemplo ahora mismo aquí tengo vamos a hacer ls - l tengo una serie de carpetas por ejemplo tengo un wordpress y yo cada equis tiempo quiero hacer una copia de seguridad de ese wordpress pero no quiero hacerla manualmente quiero que el sistema la haga de forma automática cada equis tiempo la idea del crohn es que es una tarea que se ejecuta con cierta periodicidad dentro del sistema operativo linux en este caso dentro del sistema operandi operativo ubuntu te he puesto un ejemplo vale te puesto el ejemplo de hacer una copia de seguridad en una carpeta concreta pero realmente sirve para un montón de cosas más vamos en primer lugar a ver cómo hacer archivos sh y a continuación haremos que los archivos sh ejecuten de forma automática vamos a hacer lo siguiente dentro de dentro d dentro de no voy a bajar de esta carpeta por cierto estoy con alberto voy a hacer un log out y voy a entrar con jose vicente vamos allá bien vamos a bajar cw acb html no aquí y ahora voy a hacer su 2m cavill backups pongo el password muy bien vamos a comprobarlo vemos que tengo la carpeta html tengo la carpeta del data y tengo la carpeta backups ok hasta el momento ahora me voy a hacer un archivo muy divertido me lo voy a hacer en mi carpeta lo puedo hacer donde quiera pero lo voy a hacer en mi carpeta hace de home se ve jose vicente aquí dentro de esta carpeta voy a hacer un directorio m cuddyer ssh mecanismo de medir sh dónde cabe ir chrome vale lo que quiero hacer de crohn entro dentro de chrome y voy a crear sudo nano copia wordpress punto ese es un archivo que tiene la extensión sh debería tener esa extensión porque es un archivo de shell es un archivo que contiene una instrucción entonces entró recordamos que cuando llamó a un archivo que no existía lo que hace el sistema es crearlo automáticamente y ahora voy a hacer lo siguiente cp en linux es el comando para copiar mv es el comando mover cp es el comando copiar ya le digo quiero copiar var w html wordpress no quiero copiar en bar w backups ya esta que le estoy diciendo lo que le estoy diciendo es quiero copiar cuando yo ejecute este archivo quiero copiar lo que hay dentro de esa carpeta a otra carpeta que es la carpeta de backups voy a guardar control o voy a salir bueno creo que no hace falta decirlo pero vamos a comprobarlo para que lo veas para que éstos como los trucos de magia para que veas que no hay trampa ni cartón entonces me voy a w me voy a no me voy a bar me voy a w me voy a backups hago un listado y quiero que veas que no hay nada vale quiero que veas comprobado que pone total 0 correcto no hay nada ok eso es total pero entonces ahora me voy a home me voy a jose vicente me voy a akrón y ahora atención porque esto es el principio de algo que repetiremos unas cuantas veces en las siguientes sesiones qué es ejecutar cosas que nosotros hemos creado al entonces voy a hacer punto barra punto en linux quiere decir ejecutar al hay que decir voy a ejecutar algo voy a ejecutar copia wordpress cuidado porque parece que este archivo no se puede ejecutar no tiene permisos para ejecución momento ahora veremos voy a darle a enter vale y me dice permiso denegado así que copia wordpress punto sh ahora me debería dejar vale muy bien y me dice comando no he encontrado y eso es porque el comando no tiene permisos de ejecución sudo 77 efe 777 ahora sí que es necesario que le haga al menos para el propietario fíjate que le podría decir 7 5 es yo lo puedo ejecutar y los demás lo pueden escribir pero no ejecutar vale por ejemplo entonces yo le podría decir 7 733 ahora copia wordpress listo fíjate como ahora copia wordpress ya es de color verde no es de color blanco como antes voy a ejecutar copia wordpress no voy a poner sudo porque como le he puesto el número 7 para mí en principio no hace falta que ponga sudo porque me ha asignado permisos de ejecución así que obviamente bien vamos a ver me dice que no especificado el comando r que es el comando recursivo vale entonces el comando recursivo en este caso vamos a ponerlo sudo nano en copia wordpress vale vamos a poner su 2 r aquí su 1 - r bar para qué pues para decirle que quiero que lo haga recursivo entonces ahora ejecutó create vale muy bien me dice que el permiso está ha denegado vamos a darle permisos pegarse w voy a hacer la trampa 777 podría poner 7 55 vale pero voy a darle a sí 755 vino backups ya pero quién lo va a ejecutar bueno voy a darle sur ok ahora vuelvo atrás puedo también decirle cb home y así entró directamente y se de josé vicente se de crohn ballet y ahora muy bien ejecutó copia wordpress esperó unos segundos valent el sistema no me dice nada la verdad es que podría haber puesto único vale entonces si ahora me voy a feve bar w backups listo y veo que está ahí ya wordpress y de hecho si entro dentro de wordpress veré que están las cosas vale luego lo hemos hecho correctamente vamos a editar un poquito más este archivo lo vamos a hacer con jose vicente chrome vamos a su copia wordpress y bueno puedo decirle al final del todo eco el eco slam dame algo por pantalla ok copia realizada correctamente esto a veces sirve pues un poco para saber por dónde va la cosa entonces control o control x vuelvo a ejecutar copia wordpress hace la copia y como verás pues lo que hace es simplemente al final en lugar de no decir nada pues dice ok copia realizada correctamente esto que acabo de hacer para hace una tontería pero no lo es porque cuando lo que estamos haciendo es un archivo que contiene un montón de procesos diferentes pues viene bien ir lanzando ecos para saber qué es lo que está haciendo exactamente ese archivo entonces esto que acabamos de hacer a mí me parece muy importante desde el punto de vista en el que como te diría yo desde el punto de vista en el que hemos creado nuestro primer programa que hace algo dentro del shell de linux claro que tú probablemente me dirás que lo que hemos hecho no es muy impactante porque básicamente lo que hemos hecho es que un comando que hubiéramos ejecutado en la consola pues lo hemos metido entre un archivo de texto ya esto básicamente es como un archivo bat de windows pero bueno esto es un primer archivo que hemos creado vale que automatiza tareas evidentemente eventualmente pues lo que haríamos es como te diría yo o sea programar tareas más difíciles y más complejas para que realmente pues llega un momento que tengamos archivos que valga la pena haber hecho acá ya sé que hemos empezado por uno muy sencillo te vale pero si te fijas este no era nuestro objetivo original no era crear archivos sh nuestro objetivo original era crear un crono y el chrome es esto que éste estaba comentando de que este archivo no se ejecute manualmente sino que se ejecuta automáticamente para crear un cron primero tengo que crear algún archivo de shell entonces en primer lugar voy a ver si tengo cron activado y bueno cron me dice no puedo abrir o crear chrome pediré permiso denegado lo cual ya quiere decir que está cron vale lo cual quiere decir que existe cron con lo cual a continuación lo que voy a hacer es evitar ese archivo cron para hacer cosas vamos a ver vamos allá voy a poner el comando contar guión voy a poner sudó para que me deje evitarlo y bueno en este caso nos pregunta cuál queremos utilizar nos ofrece nano buenos ofrece en formato básico o en formato pequeño o el editor de bing voy a usar el nano que es bueno es el que más costó ahora tengo de usar así que le doy a uno y ahora a continuación lo que hace el sistema es decir bueno dime cuando lo quieres utilizar y qué comando vas a utilizar vale entonces a continuación lo que voy a hacer es lo siguiente vamos a ver vamos voy a decirle que quiere ejecutar voy a trabajar qué quiero ejecutar el comando en las siguientes características ten en cuenta que es minuto hora a day of monde ya que día del mes day of week y comando y el comando que quiero utilizar en este momento voy a poner asterisco para el minuto es decir quiero ejecutar este comando cada minuto asterisco para la hora quiero ejecutar este comando en cada hora este disco en day of mount quiero ejecutar este comando en cada día del mes asterisco en mont quiero ejecutar este comando todos los meses hasta this week quiero utilizar este comando en todos los días la semana y ahora el comando es a josé vicente chrome y era el recuerdo de cómo se llamaba era crear voy a guardar y escribo es algo y se llamaba copia wordpress punto s pues se llama copia wordpress punto s h así que control pop escribo control x salgo de aquí y a continuación lo que voy a hacer momento ok y lo que voy a hacer es salir un momento de aquí voy a hacer w backups y voy a eliminar remove wordpress sudo ritmo - r wordpress ok listo y ahora lo que voy a hacer es esperar lo que voy a hacer es esperar en el sentido de que pues en principio dentro de un minuto se debería ejecutar esa instrucción y eso quiere decir que se debería hacer la copia de seguridad vamos a hacerlo vamos a esperar un minuto y ahora en un minuto ahora en un minuto ls vale bien ser una cosa por ser por si acaso sudo system ctl existe un control enable cron porque claro tengo el contado hecho pero no sé si esté activado vale ejecutando instala medible crono momento y ya lo tenemos ok y vamos a comprobar que no me ha machacado correcto control x bien y vamos a ver no ha hecho ninguna modificación vamos a apurar ls y mira no sé si has visto pero ha aparecido una carpeta llamada wordpress la voy a eliminar la voy a eliminar quiero sí espera rm r wordpress ok lf vamos a esperar un minuto más y vamos a comprobar como ahora a continuación desaparece perdón aparece de nuevo quería decir la carpeta wordpress vamos a decir ls y ahí la tenemos de nuevo vale entonces esta es la demostración de que no sólo podemos hacer scripts de shell y ejecutables en definitiva eso también sirve para cualquier cosa no sólo podemos hacer ejecutar ese es el sino que podemos hacer que se ejecuten periódicamente yo acabo de hacer una copia de seguridad de una carpeta en próximas sesiones podríamos hacer por ejemplo un volcado de la base de datos o sea podemos hacer en definitiva lo que queramos podemos hacer tantas operaciones de mantenimiento como queramos eso sí hay que tener en cuenta una cosa y es que acabo de hacer una operación un poco como te diría yo peligrosa en el sentido de que he copiado una carpeta entera he copiado una carpeta entera cada minuto vale entonces pues yo por ejemplo en la ahora lo que podría hacer es que pues en el minuto 1 de la hora 12 de cada día de cada mes de cada semana es decir una vez al día una vez al día haga esa copia de seguridad más que nada porque ten en cuenta que hacer una copia de seguridad por ejemplo pues lleva unos cuantos recursos si lo hago cada minuto al final como te puedes imaginar voy a apretar el servidor de cada minuto haciendo una serie de tareas cuando realmente no es necesario hacer una copia de seguridad cada minuto vale entonces por eso no quería que se quedara eso ese contaba así porque si no pues hará que el sistema use muchos más recursos de los que debería bien este método lo que está haciendo es que burdamente está sobre escribiendo la carpeta anterior pero claro evidentemente nosotros lo que queríamos era o sería hacer digamos una carpeta dentro de backup con la fecha actual para que entonces digamos cada día vaya creando una carpeta nueva entonces tú ese momento que estoy buscando la fórmula entonces yo puedo venir por aquí a su dona no estoy a la espera que quiero estar en acb jose vicente chrome vale sudo nano copia wordpress sh y por ejemplo pues lo que voy a hacer en este caso es decirle al sistema vamos a ver por ejemplo voy a hacer esto aquí dentro de backups voy a crear una carpeta nueva llamada ella no llamada me ha llegado nada aventín llamada así me está creando una carpeta de año mes y día hora minuto y segundo entonces yo creo que no hace falta tanto voy a crear esto vale entonces vamos a ver bueno yo creo que ya porque lo que está haciendo es en principio crear una carpeta nueva vamos a ver si crea la carpeta nueva entonces le doy a control o para escribir le doy a control x para salir voy a editar el crohn tab para decirles que lo vuelvo a querer que lo haga cada minuto control el controlo control x sabes que incluso estoy pensando que sí que lo podría hacer cómo estar una demostración para comprobar que realmente lo hace voy a hacer vale entonces ahí voy a guardar no sé si he guardado si salgo bien bueno vamos a ver vamos a editar el chrome se ve bar w ella ls se ve backups ls vale y si te fijas me acaba de crear bueno una carpeta 2021 0706 eso ha sido antes de hacer esa ese cambio esa modificación antes de meter ahora minuto y segundo voy a volver a hacer ls vale voy a ver el frontal correcto control x pues voy a ls igual tengo que recargar el condado vamos a beber a ver si reinicia el servicio vamos allá sudo service chrome reload ok vamos a recargar ok y ahí lo tenemos vemos ya como tenemos esa carpeta con la fecha con la hora el minuto y el segundo y si ahora vamos recargando poco a poco pues iremos viendo como cada minuto crear una carpeta nueva y de esa forma pues no hacemos vamos a ver momento no hacemos una carpeta incremental sino que lo que hacemos es una carpeta perdón al revés no hacemos un machaque sino que lo que hacemos es una carpeta incremental vale bueno