pues vamos a continuar y voy a entrar en php My admin vale Yo pongo tú no hace falta que lo pongas pero yo pongo usuario contraseña voy a entrar dentro de la base de datos que hicimos el otro día vale Y el objetivo de hoy hay varios objetivos en el día de hoy evidentemente todos ellos muy importantes pero el primer objetivo consiste en analizar en ganar poco a poco las peticiones cruzadas ya que yo te diría que cuando una base de datos Está en producción en real es decir cuando una base de datos es de verdad Yo te diría que el 90 por de las peticiones que hagas a la base de datos incluirán datos de varias tablas a la vez Entonces recordamos que tenemos una tabla de usuarios y recordamos que tiene un identificador tenemos una tabla de gestión que tiene productos que tiene también un identificador y recordamos que tenemos una tabla de pedidos que aparte de tener su propio identificador identifica al usuario mediante el ID de usuario e identifica al producto mediante el ID del producto La idea es que aquí en el usuario no me hace falta meter todo el usuario porque simplemente lo que hace falta es que haga referencia al identificador pero cuando eso oc urre lo que pasa es que esta tabla de pedidos es muy difícil de leer Entonces si Quiero obtener No ya una petición a la tabla de pedidos sino una petición Cruzando los datos entre la tabla de pedidos en este caso la tabla de usuarios y la tabla de gestión es cuando tengo que hacer una petición de tipo join es lo que se llama en sql una petición de tipo join esto que vemos aquí es una clave externa o una clave ajena mientras que este número es una clave propia porque es una clave específica de esta tabla esto es una clave pero no es una clave de esta tabla es una clave que está haciendo referencia a otra tabla vamos a sql y voy a hacer de momento tiene una consulta grabada anteriormente esto es porque el otro día me dejaría la consulta anterior da igual no la quiero Entonces le digo Select all from pedidos Where 1 esto record amos que lo puedo quitar Select all from pedido Select asterisco Select almohadilla le doy a continuar y salen los pedidos sale de momento lo mismo lo que estoy haciendo es pedir en crudo lo mismo por cierto que es positivo que te acostumbres a separar las peticiones en líneas y de esa forma Ahora cuando la petición se complique haciéndola en varias líneas podremos entender mejor qué es lo que hace cada línea entonces voy a bajar aquí abajo voy a quitar estos caracteres estos esas comillas raras y ahora quiero Select all fromont pedidos y quiero cruzar de momento todos los cruces que vamos a hacerlo vamos a hacer por la izquierda Así que left join y digo la tabla con la cual quiero cruzar le join sí de momento los hacemos por la izquierda entonces verás te digo por qué Muy brevemente pero tampoco me quiero complicar ahora mismo demasiado con ello verás cuando yo empiezo con una tabla principal Select Front pedidos lo que hago es decirle al sistema que la tabla de la izquierda es la principal y la tabla con la cual uno es decir usuarios es en este caso la tabla que viene por la derecha en estas dos tablas existe un parámetro coincidente que es eh Por ejemplo en este caso el ID de usuario y en este caso ocurre que en ambos dos sitios existe el ID de usuario con lo cual Eso quiere decir que da igual que haga un right join que haga un left joint porque en los dos casos existe una clave ahora qué pasaría si en una de las dos tablas no existiera esa clave pues lo que pasaría es que mandaría la tabla left o la tabla right es decir si yo hago un cruce con left y en pedidos existe en la clave y en usuarios no existe al programa le da igual porque left existe en pedidos pero si pusiera right join y existiera por ejemplo aquí pero no existiera aquí que es la right manda y entonces no aparecería ningún resultado Pero insisto esto ahora mismo de momento es un po explicado para el nivel en el que estamos vamos a hacer un left joint podríamos hacer un Inner join realmente y vamos a por ello entonces si yo ahora le doy a continuar lo que va a ocurrir Es que tengo un error porque me dice me has dicho un left join me has dicho que una tabla con otra pero cuando las tablas se unen es algo así como cuando uno las piezas de un puzzle Necesito saber qué pieza coincide con qué pieza entonces sabemos que en pedidos vamos a las columnas en pedidos el ID de usuario coincide con el identificador del usuario de hecho Fíjate que tienes ahí una clave entonces Yo vengo por aquí y pongo on y le digo pedidos punto ID usuario es igual a usuarios punto identificador lo que estoy haciendo es decirle al sistema cuál es la columna de una tabla que corresponde con la columna de la otra tabla si ahora le doy a continuar Ahora sí comprobamos cómo tengo la unión de la tabla de pedidos con la unión de la tabla de usuarios y al hacer esto observo que esto para empezar está correctamente hecho pero observo que tengo información de sobra porque digo si ya me das el usuario para qué me das si ya me das Perdón aquí los datos del usuario para qué me das el ID de usuario si ya lo tengo aquí y de hecho si quiero por ejemplo hacer un listado de lo que han comprado los usuarios quiero su nombre sus apellidos y su dirección para facturar pero no quiero su usuario y su contraseña entonces vemos que cuando hacemos un left join el asterisco nos dice que lo seleccionamos todo y yo quizás no lo quiero seleccionar todo vamos sa ver eso Entonces para trabajar con eso a continuación lo que vamos a hacer es lo siguiente en lugar de poner un asterisco yo voy a decir lo que quiero y digo usuarios punto Quiero el nombre coma usuarios punto apellidos coma usuarios email y Digamos que ya está de momento Vale entonces Yo vengo por aquí le doy a continuar y solo obtengo los tres Campos que yo he especificado por defecto si yo no digo nada sale el nombre original del campo yo puedo utilizar una cosa que se llaman alias que es poniendo as y pongo lo ideal es que ponga comillas si o sí todas las veces pongo nombre del usuario as apellidos del usuario y as email del usuario esto modifica los nombres de las columnas originales pero me permite que al formatear la salida pues aparezca un poquito más digamos eh mejor formateada vale parezca un poquito más clara yo a continuación voy a separar un poquito esto no pasa nada porque pongas espacios aparte estoy poniendo espacios para que entiendas mejor el significado de cada bloque yo puedo hacer aquí varios joints de hecho como ya te digo hacer varios joins cuando la base de datos se complica es lo más normal del mundo Entonces yo vengo aquí y digo left join eham pam pam left join dónde estás Eh gestión y ahora tengo que decir qué es lo que coincide con pedidos punto I de producto es igual a gestión pun identificador cuidado porque en este caso lo que ocurre es que he empezado ya a filtrar Vale entonces continúo sale de momento lo mismo pero como he empezado ya a filtrar Ahora vengo por aquí y digo pedidos punto No espera sí pedidos punto cantidad as cantidad de producto pedido coma gestión punto nombre as producto comprado coma gestión punto eh precio as precio del producto y tal y como hicimos el otro día eh pedidos punto cantidad multiplicado y esto quiere decir que hay operadores aritméticos multiplicado por gestión pun precio as subtotal por ejemplo Y entonces lo que ocurre ahora es que le doy a continuar y fijémonos que tenemos que e nombre de usuario apellido del usuario email del usuario cantidad que ha comprado producto que ha comprado precio que vale cada unidad precio del producto por unidad podía haber puesto y subtotal y de esta forma como verás tenemos una petición que bueno nos ha costado unos cuantos minutitos de hacer pero eh Como te puedes imaginar pues es una petición totalmente y absolutamente útil desde el punto de vista a ver un momento un momentín a ver que quite notificaciones ahí vale eh desde el punto de vista de pues cruzar varias tablas y evidentemente poder trabajar con todos estos datos ahora esta petición como ya te digo nos ha costado un poquito de hacer y ahora debo tener mucho cuidado es más debo tener mucho cuidado no debo tener Mega cuidadín no perderla pero es una manera un poco chapucera de no perder la información entonces para ello te voy a decir que aquí abajo hay una serie de herramientas tales como por ejemplo puedo imprimir la consulta puedo copiar la consulta al portapapeles puedo exportarla No ahora Ah ahora luego a continuación te voy a hablar de exportaciones e importaciones puedo crear un gráfico pero la herramienta de la cual te quiero hablar ahora mismo es la herramienta de crear vista una vista es algo así para decirlo coloquialmente como una petición sql que tú Te guardas para más adelante y ahora verás por qué voy a crear una vista pincho crear una vista y el sistema vale me dice ver nombre esta vista se va a llamar eh pedidos de cliente evidentemente hereda la petición vale voy a no poner espacios por si acaso no me Mola mucho voy a poner aquí en bajo y ya está así que le doy a continuar vale Y ahora quiero que te des cuenta de lo siguiente Y es que aquí a la izquierda Donde antes tenía tablas ahora además tengo vistas en vistas yo voy a poder crear diferentes vistas pero de momento tengo una llamada pedidos de cliente Y si hago clic en pedidos de cliente te darás cuenta de que con un solo clic obtengo el listado de elementos que hay dentro de esa vista Pero es que te digo más Para qué sirve una vista si yo exporto o imprimo esto esa exportación es estática quiere decir que sale lo que haya en ese momento pero las vistas son dinámicas y esto lo que quiere decir es que si yo ahora voy Mira a crear un nuevo pedido por ejemplo y Quiero crear un nuevo pedido donde el usuario uno va a comprar el producto dos y va a comprar cuatro unidades del producto dos voy a continuar evidentemente no relleno el identificador ya sabes tengo ahora tres pedidos Y si yo me voy a la vista pedidos de cliente fíjate como ahora me aparecen tres líneas y dice que ahora pues he comprado aparece que lo he puesto aquí vale he comprado este tercer pedido vale la idea es la siguiente la idea como ya te digo de las vistas es que más allá de que bueno en un momento dado no es mala costumbre que cuando haces una petición compleja te la guardes en algún bloc de notas yo lo que suelo hacer es que me la suelo auto enviar al correo electrónico Por si acaso la pierdo Pero además de ello si la vista la vas a reutilizar más adelante y en breve es bastante bueno es bastante recomendable que te hagas una vista para poder llamarla tantas veces que quieras o bien atención o bien desde eh la propia base de datos o bien desde el propio lenguaje de programación Porque fíjate que aquí no estoy dejando de hacer un Select from pedidos de cliente y tú dirás Qué ventajas tiene esto pues la ventaja es muy sencilla cuando estemos trabajando en un lenguaje de programación y cuando haga una petición una base de datos como te puedes imaginar es mejor en el lenguaje de programación hacer esto que hacer esto de aquí vale también te digo que esto que te acabo de decir es un poco interpretable en el sentido de que hay diferentes estilos de programación entonces hay personas que lo que hacen es decidir que ya que hay una base de datos Y ya que la base de datos tiene potencia Vamos a hacer todo lo que podamos en la base de datos y vamos a darle a la base de datos las consultas lo más mascadas posibles y hay O sea a la base de datos Perdona al lenguaje de programación Quería decirte al lenguaje de programación Vamos a darle las consultas lo más mascadas posibles hay otras personas que dicen no yo lo que prefiero Es que la base de datos me dé los datos en crudo y ya filtrar yo en el lenguaje de programación y a día de hoy no después de años de experiencia no te puedo decir si una es mejor que la otra yo particularmente suelo hacer la primera que es intentar eh hacer todo lo que pueda en base de datos y dárselo mascado al lenguaje de programación porque ya haré otras muchas cosas en lenguaje de programación Pero hay veces cuando he tenido que trabajar en equipo que he tenido ese tipo de discusiones cuando te digo discusiones no te digo discusiones agrias sabes sino lo que los ingleses llaman discussions vale o sea conversar y decidir vale Y hay veces que pues alguien que está en el equipo se maneja muy bien con lenguaje de programación Y dice Bueno pero por qué no puedo hacerlo con lenguaje de programación y dice dices mam Pues por ningún motivo en particular quiero decir no hay nada que lo prohíba vale no hay nada que lo deje de recomendar Pero bueno Pero ya que estamos sabes entonces esa es un poco la cuestión Vamos a continuar bien eh hace un momento eh No he querido hablar de la opción de exportación porque quiero hablar ahora eh de forma específica vale quiero hablar eh de todo lo que se puede hacer con las opciones de exportación y de importación No ya tanto de mysql sino eh del de esta aplicación de php My admin entonces si yo tengo por ejemplo una serie de usuarios puedo exportar cualquier tabla voy a empezar con la tabla de usuarios porque es especialmente ilustrativa entonces lo que voy a hacer a continuación es darle a exportar Así que pincho a exportar vemos que aquí arriba tenemos exportar e importar pincho a exportar vale Y al exportar yo puedo realizar una exportación rápida o puedo realizar una exportación personalizada puedo elegir algunos Campos no recomiendo tocar mucho de esto ahora hablaremos de ello y sobre todo yo puedo elegir una serie de formatos de eh exportación te voy a decir que la mayoría de ellos no los conozco vale Pero bueno la verdad es que la mayoría de ellos tampoco Pero hay formatos Como por ejemplo uno muy útil que es el formato s sql el formato sql es el formato nativo de la base de datos lo que hace es exportar en este caso la tabla a un formato que me va a permitir más adelante un momento que se me ha ido el otro monitor a un formato que me va a permitir eh llevarme la información a otro servidor porque esto es algo de lo que no hemos hablado hasta el momento que es dónde se guardan estos datos yo por ejemplo eh hasta este momento así como por ejemplo en cualquier lenguaje de programación te puedo compartir los archivos en este caso no te he compartido los archivos correspondientes a base de datos Porque no hay archivos y esto técnicamente que te acabo de decir No es cierto Por cierto vale Pero vamos a decir que no hay archivos o sea todo se gestiona a través de phmm admin pero supongamos que tú dices No yo es que quiero mi información me la quiero llevar vale si te la llevas en formato sql luego lo puedes importar dentro de cualquier otro servidor May sql puedo exportarlo por ejemplo en formato pdf vale el archi conocido formato pdf voy a exportar unas cuantas vamos a ver diferencias vamos a ver diferencias Esto minimizo vale sql lo exporto me hago una carpeta exportaciones y exporto exportations parece que sea vamos a ver exportaciones vale Y edito el archivo sql vale Y si te fijas aparece en un lenguaje de programación en un Aquí está en un lenguaje de programación que guarda todos los datos Y además en un futuro me permite importar toda esta información en otra base de datos Y eso ya sé que ya te lo he dicho antes pero te lo vuelvo te vuelvo a repetir porque es importante a continuación voy a exportar en formato pdf el formato pdf sirve para unas cosas y no sirve para otras es decir Yo vengo por aquí usuarios abro el archivo PDF y veo que tengo esto veo que tengo un PDF que como te puedes imaginar contiene exactamente lo que le he pedido entonces claro qué ocurre Pues que si yo tengo un cliente que no es programador cliente que no es informático y me dice oye quiero que me saques un listado de la gente que tengo en la base de datos tú no se lo vas a enviar en sql porque el cliente te dirá Pero esto Qué es qué me estás dando vale tú le pasarás un PDF porque para una administrativo digamos es mucho mejor directamente un PDF pero claro si tú lo que quieres es guardar los datos en un formato que más adelante lo puedas meter en cualquier otra parte pues claro en un PDF no lo V vas a poder hacer un PDF está muy bien para imprimir pero yo no puedo un PDF y con esto luego insertarlo en otra base de datos lo que te quiero decir con esto es que cada formato sirve para una cosa diferente en la misma línea del PDF tenemos el formato dónde estás Open document text o sea como Word pero de Open Office o de libre Office como quieras llamarlo Vale entonces lo abro y verás que tengo algo parecido a lo que tengo con el PDF pero en formato editable de hecho las últimas versiones de Office ves ahí está Vale base de datos estructura de la tabla y el volcado de la tabla muy bonito y además editable yo lo puedo editar puedo hacer lo que quiera vale pero luego no puedo volver a importarlo sin embargo esto es como un informe digamos sin embargo tengo Open document spreadsheet que es lo que diríamos lo que sería como Excel para entendernos como Excel pero de openoffice o libreoffice lo abro se me abre en una un formato de hoja de cálculo yo ahí te voy a recomendar Si alguna vez utilizas la opción de hoja de cálculo es ir a personalizado y marcar una opción que es poner los nombres de campo en la primera fila Entonces lo lanzo de nuevo lo vuelvo a guardar Lo abro y verás que le ha puesto los nombres de campo en la primera fila Y entonces eh la idea es la siguiente La idea es que con todos aquellos formatos que son formatos de texto yo luego lo voy a tener difícil para poder volver a importar esto pero to con todos aquellos formatos que están estructurados y que están en Tablas Como por ejemplo este formato Open document spreadsheet luego lo tengo fácil para importarlo en otra parte o por ejemplo para a continuación aquí Añadir un nuevo elemento y luego importarlo no lo voy a hacer ahora mismo pero ahora a continuación lo haré Entonces ahora cuando hablemos de importación tengo también el bueno el formato de Microsoft Word vale que es parecido al formato de document text si hablamos de spreadsheet eh Te voy a decir que el formato de spreadsheet como ya te digo es gratuito es compatible pero es un formato pesado entonces hay un formato mucho más ligero que es el formato csv o hay uno optimizado que es el csv para Excel voy a el genérico el csv tiene cuidado la limitación de que el document spreadsheet lo que hace es que te guarda varias hojas si hace falta el csv solo guarda una hoja le digo tabla Exacto una hoja exacto de hoja de cálculo o sea una tabla le doy a continuar y este archivo csv yo lo puedo abrir con un editor de textos y tiene este aspecto tiene ahora Verás un momento tiene este aspecto que estás viendo aquí o sea es un archivo de texto y de hecho csv quiere decir coma separated o lo que es lo mismo valores separados por comas entonces claro la información está estructurada Aunque parezca que no porque parece que está caótica pero yo te digo que está estructurada y de Cara a leer esto por parte de eh un lenguaje de programación como puede ser php o puede ser cualquier otro lenguaje de programación leer un archivo csv es mucho más fácil que leer un archivo ods o leer un archivo Excel para que te hagas la idea para leer un archivo DS o leer un archivo Excel hace falta alguna librería aparte que las hay montones vale Pero hace falta una librería mientras que para leer un csv lo puedes hacer directamente con prácticamente cualquier lenguaje de programación de base entonces una vez más no te estoy diciendo recuerda que uno sea mejor o peor que el otro lo que te estoy diciendo es que cada uno tiene ventajas y desventajas con respecto de hecho si existe un montón es para que puedas elegir el que en un momento dado para ti te represente más ventajas o desventajas digamos vale más formatos de exportación por ejemplo tenemos el formato Jason del cual no te he hablado hasta ahora ya hablaremos en su momento eh te diría que a nivel informático hay dos formatos que con los años se han convertido en un estándar para compartir información que son antiguamente el xml que curiosamente tenemos por aquí el jet another Mark Language tenemos el xml como un poco más antiguo Y tenemos el Jason que en los últimos años le ha comido terreno al xml yo lo digo Jason en el mundo anglosajón se llama Jason vale Pero en fin Jason Entonces lo guardo como jas le doy a continuar y luego lo voy a abrir al igual que el csv la gran mayoría de lenguajes de programación modernos vi preparados para leer Jason y este es el aspecto que tiene un Jason vale si te fijas pues es información estructurada puedo ver el identificador puedo ver el usuario puedo ver el password o sea está todo bastante bien estructurado y luego tengo el xml te voy a decir que es un conjunto superior con respecto al html o lo que es lo mismo el xml es el genérico y el html es un tipo de xml El xml es un lenguaje de marcas donde tú te puedes crear tus propias marcas el html es un lenguaje de marcas donde te han creado ya para ti unas cuantas marcas Lo abro con brackets vale Y esto es la pinta si te fijas se parece un poco en cuanto a menor que mayor que etiqueta que se abre etiqueta que se cierra etiqueta que se abre etiqueta que se cierra vale se parece a html pero es xml Y como ya te digo estos dos lenguajes el xml y el js son dos lenguajes pensados para transferir información de un programa a otro en este caso de una base de datos a un programa quiero decirte Por cierto que js quiere decir javascript object notation o lo que es lo mismo notación de objetos para javascript Pero eso no quiere decir que sea únicamente para javascript eso quiere decir que originalmente este formato se creó para javascript pero a lo largo de los 10 últimos años más o menos se ha convertido en un estándar para compartir información en prácticamente cualquier lenguaje de programación Aunque en ninguno de los pasos est javascript por el medio vale o sea que si alguna vez buscas información y ves que pone javascript object notation no te líes o sea es para cualquiera luego evidentemente tenemos otros formatos tal es como por ejemplo Pues claro php array me lo saca en una matriz de php pues bueno si en algún momento dado voy a hacer una exportación y es Y esa exportación la voy a meter directamente en un programa de php pues puñetas pues ya la tengo en formato php es decir yo por ejemplo Imagínate que quiero meter algo dentro de un programa php Pues yo podría sacar un formato csv el formato csv es con cualquier lenguaje de programación y luego en ese lenguaje de programación podría parsear ese csv para trocear lo pero claro si estoy en php para qué quiero un csv y empezar a trocear si lo puedo sacar directamente en un array nativo pues esfuerzo que me ahorro Vale entonces simplemente pues que sepas que se puede hacer eh luego hay otros formatos que yo siempre he considerado más extraños como el formato látex donde látex es algo así como el open document text o el Word pero para escribir documentos científicos o documentos académicos latex es un editor de textos pero que funciona todo con códigos digamos vale en el mundo de la investigación se usa bastante en el mundo del día a día no tanto Entonces es un formato bastante extraño yo una vez a las 1000 tengo algún alumno que me dice oye s utilizado l Tex para tesis doctoral pues Vale pero no es lo más común media wiki Table media wiki es el Software que hay detrás de la Wikipedia entonces si yo entro en la Wikipedia y me voy abajo del todo abajo super abajo mega abajo del todo verás que pone powered by mediawiki yo puedo hacer clic en este enlace esto mucha gente no lo sabe y me puedo ir a mediawiki.org get mediawiki y me puedo bajar el software de la Wikipedia O sea no me puedo bajar la Wikipedia como te puedes imaginar lo que hago es que me bajo el software de la Wikipedia lo que quiere decir que yo me puedo crear mi propia Wikipedia en mi página web pero claro Cuántas veces uno hace esto pues muy pocas es decir igual en algún instituto en algún centro de formación haces esto a fines docentes Pero no es lo más normal del mundo que alguien se instal una Wikipedia Vale entonces pues claro de la misma forma Pues tampoco Es muy normal que una base de datos se pueda sacar como tabla de media wiki vale Y lo mismo con el formato Tex y text O sea la idea lo que quiero que sepas es que en algún momento tú vas a tener que sacar información de mysql la vas a tener que llevar a otra parte y lo que quiero decirte con esto es que quiero que sepas que hay múltiples formatos en los cuales puedes sacar la información y cada formato tiene una utilidad diferente hay formatos para ir de mysql a mysql y hay otros formatos para compartir información de mysql con eh otras cosas digamos y eh una cosa muy importante que te voy a decir es que esta opción de exportación es la que también sirve para hacer copia de seguridad Cuando yo cojo No ya la tabla de usuarios sino cuando yo cojo la propia base de datos Fíjate que he hecho clic en la base de datos le doy a exportar Y le doy a guardar en formato sql por ejemplo rápido continúo y quiero que sepas que yo ahí me acabo de hacer una copia de seguridad de toda la base de datos y me he hecho una copia de seguridad en el propio formato sql Eso quiere decir que si yo me cargo la base de datos yo puedo recuperar la base de datos completa utilizando ese archivo sql con esto evidentemente lo que te quiero decir es que una operación que debes hacer cada x tiempo cuando manejas una base de datos es hacer esto mismo que acabo de hacer que es una exportación en formato sql para quedarte tranquilo de que si le pasa algo a la base de datos Tú tienes la base de datos en un formato que luego vas a poder recuperar y ya sé que me preguntarás porque es lo que me pregunta todo el mundo de vale Y cómo puedo hacerlo automatizado que no lo haga yo manualmente sino que se haga automatizado te enseñaré a lo largo de la formación hacerlo automatizado pero no me gusta que los responsables de las bases de datos se acostumbren a que un programa automatizado lo haga por ellos es decir es una buena costumbre asumir la responsabilidad manual de hacer copia de seguridad de base de datos vale bien dicho esto salvo la exportación o sea ahora con la exportación ya hemos visto Cómo podemos tener la base de datos en la mano vale pero salvo la exportación Dónde está mi base de datos realmente esto es Generalmente algo que pregunta Siempre la gente cuando empezamos con base de datos de Pero esto En qué carpeta está y yo suelo decir para intentar distraer la atención de la gente yo suelo decir esto no está en ninguna carpeta Esto está en la memoria del ordenador eso es mentira evidentemente vale pero lo suelo decir porque la verdad verdadera Es que esto es está en una carpeta del disco duro pero tú no debes tocar nunca bajo ningún concepto esa carpeta si te Preguntas dónde está yo te diré que está por ejemplo en mi caso en el mamp en tu caso en el shamp es muy prácticamente Igual me voy al mamp y dentro del mamp veo que por aquí tengo Eh bueno parece db mysql vale estoy en db la carpeta db creo que en tu caso igual se llama mysql me parece vale en lugar de db mysql 57 en mi caso y veo que tengo una carpeta que se llama curso aplicaciones web o sea tengo una carpeta por cada una de las bases de datos que tengo aquí y ahora a continuación entro dentro de esta carpeta y tengo unos archivos frm y unos archivos ibd los archivos frm son los que tienen la descripción de la tabla los archivos ibd son los que tienen los datos de la tabla no los toques no te lo digo en serio No espera un momentín te digo por qué te digo Por qué nosotros estamos trabajando con un sistema de gestión de bases de datos que se llama mysql cuando hablamos de un sistema de gestión quiere decir que nosotros no gestionamos los datos el sistema de gestión gestiona los datos nosotros nos comunicamos con el sistema de gestión el sistem de hace de intermediario pero en este caso hace de un intermediario muy necesario porque realiza un montón de operaciones te lo digo si abres esta este archivo con algún editor de texto Te darás cuenta que es un archivo de texto y lo editas como diciendo va voy a editar por detrás la base de datos lo que puede ocurrir es que cuando cargues de nuevo la base de datos la base de datos esté corrupta aunque le hayas metido una coma más o le has metido un registro más estará corrupta O puedes correr el riesgo de que esté corrupta mi recomendación o sea yo te he dicho dónde están pero de la misma forma que te digo dónde están no los toques porque quien los toca es el sistema de gestión de bases de datos de la misma forma hay quien dice Pues mira me cojo esa carpeta de curso de aplicaciones web me la copio en un pendrive y me la llevo a otro ordenador y con eso he migrado la base de datos no si haces eso corres el riesgo a un 95 por de posibilidades de que no te funcione lo de esta carpeta y copiarla en un pendrive y llevártela a otra parte eso es un caso extremo eso es un caso en el que todo lo demás haya fallado el motor de base de datos te haya reventado el ordenador se haya ido a la y digas Mira esto es lo último que me queda vale con lo cual si es lo último que te queda pues vale Pero si tú lo que quieres hacer es o bien una copia de seguridad o bien una migración a otro ordenador la forma correcta de hacerlo es lo que te he enseñado antes exportar en formato sql continuamos y lo descargamos esa es una exportación correcta de base de datos Vale entonces con esto lo que te quiero decir es que o sea no quiero decirte porque claro te estaría tratando como un niño vale No quiero decirte no toques esta carpeta es como niño caca no se toca vale O sea quiero decirte que si la buscas está ahí pero no está ahí para que se supone que la tengas que tocar si no está ahí precisamente para que no la toques y para que la gestione de forma manual el sistema operativo vamos a hablar de importación y ahora a continuación hablaremos de motores de bases de datos Y ahora luego realizaremos unas cuantas peticiones más a la base de datos de la misma forma que se puede exportar también se puede importar exportar es importante evidentemente como mínimo en formato sql como te puedes imaginar como mínimo para hacer copias de seguridad lo vas a utilizar unas cuantas veces en al importar lo que hacemos Es meter información en bloque dentro del sistema yo puedo importar no tantos formatos pero puedo importar en formato sql puedo importar tabla media wiki pasando esto no tengo ni idea Qué es archivo de forma rri si te digo la verdad nunca me he preocupado de saber qué es y tampoco ni nunca me he encontrado con ese formato en mi día a día tal que haya dicho Ja Ya sé queé es eso o ni nunca un alumno me ha preguntado O es que me han pasado un archivo esri que yo haya dicho pues déjame que me mire Qué es eso o sea no sé qué es eso el csv sí que lo sabemos el open document spreadsheet Vale entonces Eh quiero mostrarte lo fácil que es meter información dentro de mysql me voy a ir al INE nombres de persona Excel el INE sabes que es el Instituto Nacional de estadística de España entonces eh vamos a ver yo quiero listado con los 100 no los quiero todos Bueno nombres de los residentes pues ya está Mira nombres de los nacidos madre de Dios o sea en el no te puedes imaginar la de cosas que hay o sea en no escúchame te lo digo en serio en el in hay de todo en el in es increíble entonces voy a darle a ir año 2019 se debe seleccionar una opción yo juraría que había seleccionado una opción pero parece que no Entonces 2018 ir y Fíjate que me lo guardo en formato hoja de cálculo Open Office p xml se me hab trabado Entonces eso quiere decir que me la bajo en xlsx cuidado porque Excel soporta Open document spreadsheet Pero no pasa nada porque si tienes instalado en tu ordenador El libreoffice te lo puedes convertir de Excel ahora verás me lo voy a abrir con libreoffice abro el archivo xls lo tengo por aquí vale vamos a ver si me lo coge correctamente este no está muy bien form Ah total Vale ahora sí muy bien pues quiero el total Entonces voy a hacer una nueva bja de cálculo eh total me copio Esto me lo pego aquí Y entonces digo nombre niño si podemos evitar la ñ casi que mejor nombre Nino total Nino nombre Nina total Nina y esta columna la elimino vale Y ahora me guardo esto en vamos a ver voy a hacer una cosa es que esto no está muy bien formateado voy a esto lo voy a pegar aquí claro exacto y eso para una base de datos es mejor y ahora género pongo género no sexo porque un día hablando discutiendo con un amigo mío en el coche eh me dijo Es que la gente usa mal el término sexo cuando realmente es género me dijo él sabes yo no soy muy entendido de estas cosas pero me dijo el género es hombre o mujer el sexo es mucho o poco Vale entonces lo que por eso tiendo a poner género y no sexo Vale entonces voy a poner Pues yo que sé una H vamos a ver hasta aquí y una m vale hombre mujer masculino femenino yo que sea lo que sea Vale entonces Ok alguna vez he contado esto en clase y cuando digo lo del sexo mucho o poco hay algún alumno que me dice o nada y digo bueno o nada también puede ser Vale entonces guardo esto y lo guardo en escritorio como nombres ninos y lo guardo atención en hoja de cálculo odf como ods entonces guardo y ahora mira y ahora yo me puedo venir aquí me voy a tablas le doy a importar en cuanto coja el archivo automáticamente como por la extensión va a filtrar en Open document spreadsheet vale no ha hecho falta que lo haga yo la primera línea de archivo contiene los nombres de columna de la tabla esto es muy importante vale Y le doy a continuar si todo ha ido bien Ahora verás que en la base de datos curso aplicaciones web a ha aparecido hoja uno lo puedo cambiar No te preocupes Y fíjate que tengo aquí importados automáticamente todos los registros de esa hoja de cálculo Wow ahí se ha ido bueno no pasa nada es lo de menos porque luego lo puedo formatear vale pero fíjate que lo tengo automáticamente importado a continuación te voy a decir que eh has visto que importar como yo me he dejado el nombre hoja un has visto que se ha quedado hoja uno no te preocupes no pasa nada porque hay una pestaña específicamente llamada operaciones dentro de la cual yo puedo realizar ciertos tipos de operaciones Como por ejemplo en opciones de la tabla yo puedo cambiar el nombre de la tabla a nombres ninos vale o lo que sea o con minúsculas o con lo que quieras ahora luego hablaremos del motor de almacenamiento Entonces le doy a continuar Y fíjate que el hecho de que apareciera hoja un pues no tiene ninguna relevancia porque yo lo puedo cambiar más adelante de la misma forma utilizando operaciones de exportación y exportación te voy a contar un truco Acuérdate de esto que te voy a contar porque es imprescindible y no es un truco de mysql es un truco de cualquier base de datos te voy a contar una historia que me pasó hace años es parecida alguna historia que te he contado anteriormente en cuanto a alumnos excelentes que en un momento dado se traban vale con alguna parte de conexión a base de datos por ejemplo Esta no es la misma historia hace unos cuantos años estaba impartiendo un curso antes hace años me dedicaba a eso ahora ya mucho menos de gestión de erps De hecho yo trabajaba con este Software que se llama Open rp que ahora de hecho se llama odo es un nombre muy extraño Pero vale entonces La idea es que cuando yo hago esto yo aplico informáticamente el rp y hay personas que lo gestionan en este caso había una persona se llamaba Diego que era el encargado de gestionar el rp entonces claro cuando hay un tema informático voy yo y lo hago Pero cuando hay un tema de por ejemplo importar la base de datos antigua de clientes pues no es un tema informático es un tema administrativo Vale y lo hacía esta persona que la empresa había delegado en él llamado Diego entonces me llamó una mañana hace unos años cuando estábamos con este proyecto y me dijo Oye mira es que necesito una reunión contigo porque estoy muy agobiado porque llevo dos semanas intentando hacer algo y no me sale Yo ya cuando me dijo dos semanas dije dos semanas como diciendo tío llámame antes sabes O sea no tardes dos semanas en llamarme Bueno pues nos reunimos y el problema que tenía era el problema que te voy a contar a continuación Y es que yo tengo por ejemplo por aquí una tabla de usuarios Y esa tabla de usuarios tiene 1 2 3 4 5 6 7 8 Campos si cuando hagas una importación a esta tabla si yo abro por ejemplo ahora un archivo de Excel y ese archivo de Excel tiene siete Campos no va a entrar porque esa tabla tiene ocho si yo en ese archivo de Excel le meto nueve Campos tampoco va a entrar porque esa tabla tiene ocho Campos lo que ocurrió en aquel caso es que este chico vino con una hoja de Excel que el tío se había preparado estaban ahí todos los clientes y vi la hoja de Excel y dije vale eh vamos a contar dije mira hay 1 2 3 4 c siete Campos te digo de memoria porque no me acuerdo Cuántos tenía tendría más de siete y entonces me fui a la base de datos Y dije mira y tu tabla de la base de datos tiene ocho Campos entonces claro dije es que no le has puesto un campo aquí que aunque lo vas a dejar vacío lo tienes que poner Vale entonces le metí en la hoja de Excel un campo vacío eh le cogí la hoja de cálculo la metí en la base de datos entró a la primera y yo en ese día yo sentí en mis carnes lo que era la mirada de rayos ler de Superman porque ese tío me estaba fundiendo con la mirada o sea los ojos inyectados en sangre sabes como las películas de miedo y yo claro o sea me miraba porque o sea el tío te lo juro que me dijo no me insultes y yo claro me giré como Perdona no te he insultado yo no insulto nadie y me dice no O sea no me insultes te quiero decir de que o sea Miénteme dime que es más complejo o sea porque si tú llegas y lo haces a la primera y yo llevo dos semanas con esto me hace sentir con lo cual dime que es un tema delicadísimo que buah Qué difícil que era esto y yo Ah pues mira no había caído lo siento Sabes entonces eh lo que te voy a enseñar es el truco que le enseñé a esa persona ese día y el truco que enseño siempre en las clases de base de datos que es un truco con el cual no la importación y el truco porque ya te digo que si te falla la importación te puedes agobiar bastante y el truco es el siguiente y es Deja que el propio programa te dé una plantilla quieres importar algo antes Y esto es usuarios ahora a continuación me lo abro con libreoffice por ejemplo hago así y ahora lo que hago es decir Quiero crear a Jaime password Fíjate que solo estoy rellenando las columnas Jaime García Martínez eh Jaime @correo.com la calle de Jaime y teléfono triqui trik ahora lo que hago es que elimino los dos registros que ya tenía guardo esto y al guardarlo me está haciendo de plantilla ya sabes que identificador no lo toco porque lo va a tocar automáticamente el programa entonces a continuación me voy a importar me voy a seleccionar me voy a usuarios me voy a eh Ya está OK todo Ok continúo me dice Ah qué pasa Ah sí lo que pasa es que vale Ok momentín bueno dos consultas ejecutadas vale Ok importa momentín juraría que no he visto la opción de la primera columna contiene no Bueno sí no pasa nada Mira no te preocupes lo que voy a hacer Es que no sé si lo tengo por aquí abierto todavía sí me voy a cargar la primera columna es que no me quiero cargar la primera columna a ver voy a probar un poco raro es esto importo usuarios Ok claro y ahora me dice Ah muy bien vale Bueno pues bueno se queja de que el integer es incorrecto Vale pues pero fíjate que casi tenía ya ahí lo ves de hecho me dice una columna importación ejecutada no hay importa ejecutada Vale pues mira como sé que tengo hasta el número dos pues le meto el tres y ya está Vamos a darle ahí importo selecciono usuarios csv continuar y se acabó vale Y ahora me voy a usuarios y verás que tengo ahí a Jaime correctamente metido o sea el truco es el siguiente el truco es sencillo es que como al importar las probabilidades de error son muy grandes el truco consiste en no permitir que haya esa probabilidad hacer una exportación y al exportar te está dando el programa La misma plantilla te está chivando Cuál es la estructura que tienes que hacer y así no es que no te puedas equivocar como has visto pero las probabilidades de equivocarte pues son mucho menores evidentemente como has apuntado muy bien si yo lo guardo en el problema no es guardarlo el problema es importarlo porque por supuesto que al guardar con open docum mi problema es el siguiente voy a exportar voy a decirle que Open document spreadsheet le digo que personalizado y efectivamente pongo los nombres de campo en la primera fila Pero eso también lo tenía en el csv y yo ahora lo que hago es importar Y esto me da miedo por una razón muy sencilla qué ha ocurrido antes cuando hemos importado un archivo ods pues lo que ha ocurrido con nombres de niños es que ha creado una nueva tabla pero yo no quiero crear una nueva tabla yo lo que quiero es importar en una tabla previamente existente vale por eso esto que te voy a decir si te digo la verdad no es una certeza al 100% pero a lo largo de los años de usar phpm admin Igual me estoy equivocando No lo sé no te lo puedo asegurar al 100% como se suele decir en estos casos no pondría los huevos en la tapa del piano Entonces no me lo apostaría digamos entonces lo que sucede o sea lo que yo suelo hacer es que si lo que quiero es crear una base una tabla en la base de datos uso el formato ods y si lo que quiero es importar en una tabla existente uso el formato csv ya te digo que así como hay otras cosas que te puedo decir que tengo una seguridad del 100% de esta no pero claro nunca he querido arriesgarme a meter usuarios encima de usuarios Y que me fastidie la tabla anterior usuarios igual no lo hace igual lo detecta y la mete a continuación pero no lo sé nunca me he querido arriesgar sabes eh quiero hablarte de una cosa que no te va a ser importante ahora pero Quizás te sea importante el día de mañana que es la siguiente cuando yo creo una nueva tabla voy a hacer como que creo una nueva tabla no la voy a acabar de crear eh Te explicado los parámetros de nombre de columna tipo de dato longitud terminado no pero bueno tenemos comentario de tabla tenemos cotejamiento Y esto es por si en una base de datos en español yo fuera a guardar Por ejemplo una tabla con caracteres en chino no es normal pero podría ser y si lo fueras a hacer que sepas que se puede hacer es decir se puede variar la colación o lo que se llama el cotejamiento para una tabla concreta pero un parámetro del que no te he hablado no te va a ser importante hoy pero quiero que lo recuerdes para más adelante no te vas a acordar pero quiero que recuerdes que te lo expliqué y que tendrás un vídeo en el cual tenías el detalle pero no pretendo que te acuerdes de esto de memoria para una serie de años es el motor de almacenamiento no te he dicho nada de esto todavía cuando creamos una tabla por defecto viene el motor hno de b y no te he dicho nada porque el motor hno de B es el correcto en la gran mayoría de los casos y por eso en la gran mayoría de los casos no hay que cambiarlo ahora bien si despliego esta lista veré que tengo el antig formato my isam el Antiguo formato my isam existe porque tenemos el merch my isam el mrg merch tenemos un formato llamado Memory que yo lo recomiendo mucho a alumnos por ejemplo de videojuegos Ah te explicaré Por qué tenemos el formato Black Hole que es agujero negro que ya no sale o sea es un formato de base de datos donde lo que metes lo tira y tú dirás fantástico formato de datos que dato que meto dato que tira vale en alguna ocasión eh hace muchos años como te puedes imaginar leí la documentación y dije Para qué sirve esto y en la documentación pone un caso de uso que es para diagnóstico que sí que sirve pero como te puedes imaginar No se usa todos los días y luego tengo el formato csv que me guarda realmente la base de datos en formato csv y el formato archive que lo que hace Es que la comprime a continuación te voy a explicar cada una de cada uno de estos motores de base de datos te lo voy a explicar si puedo Porque suelo encontrar una tablita bastante chula en la propia documentación mysql storage engines vamos a ver eh Sí pero no Bueno voy a esto y voy a esto vamos a ver sí pero no no no Ajá Esto sí vale muy bien Ahí estamos vamos a ver ti vale para empezar vamos a ver una de las principales una de las principales ventajas que tiene inod de B Es que tiene Row Level locking si nos fijamos De hecho aquí si pincho H no de B me aparece por ahí Row Level locking y claves foráneas vale el lo que la palabra en la que tenis que fijar es locking que es el bloqueo qué es lo que ocurre cuando dos personas acceden a una misma base de datos pues teóricamente para mantener la integridad la base de datos si la primera persona accede la base de datos se bloquea para esa persona y cuando esa persona acaba su transacción la base de datos se desbloquea para atender a la segunda persona no se encuentra a la base de datos bloqueada sino que cuando la segunda persona hace una petición esa base de datos entra en una cola y la base de datos cuando se desbloquea automáticamente atiende al siguiente en la cola y esto que te estoy contando dura millonésimas de segundo o sea esto dura prácticamente nada inb es un motor de base de datos que en lugar de bloquear la base de datos entera hace Row Level locking es decir si yo estoy trabajando con usuarios y yo José Vicente Estoy editando este valor del nombre que está en un Row está en una fila tú puedes editar otros valores sin tener que entrar en una cola porque el sistema lo que hace es bloquear Solo esa fila pero no bloquea la tabla entera ni bloquea la base de datos entera eso qué quiere decir pues que nos ahorramos colas de prioridades de usuarios y por tanto lo que quiere decir es que la base de datos funciona no solo más rápido que también sino más eficientemente porque tú me diras si estoy editando la línea de José Vicente para qué puñetas quieres bloquear toda la tabla bloquea solo José Vicente Vale entonces antiguamente la base de datos que venía por defecto era my isam tiene una buena aquí tiene una buena digamos un buen ratio de carga Pero sin embargo tiene Table Level locking no Row Level locking lo que quiere decir es que cuando tú lees te bloquea toda la tabla hasta que acabas de realizar tu transacción Vale entonces es por esto que my isam desde luego sigue valiendo pero desde hace unos cuantos años no sé 6 s años la tabla que viene por defecto el motor que viene por defecto es y no de B te vuelvo a decir lo mismo del otro día eh Hay que tener en cuenta que esto tiene un efecto perceptible por el usuario cuando estamos hablando de tablas gigantescas cuando hablamos de la gran mayoría de aplicaciones tú nunca vas a notar la diferencia entre himno de b o myisam vale esto es cuando hablamos de tablas brutalmente grandes ahora my isam tiene una ventaja que no tiene himno de B que tampoco creo que vayas a usar en tu vida y es más deseo que lo uses porque si lo usas es que te irá muy bien Ahora lo verás y es que tiene un motor que es el merch my isam el merch myam lo que hace es que agrupa una serie de tablas idénticas May y Sam esto qué quiere decir pues ahora verás supongamos que yo soy insisto imagínate Un gobierno Vale entonces yo soy un gobierno y yo quiero guardar mes de registros Yo quiero guardar millones de usuarios Y sabes qué los meto en una tabla de usuarios como esta que tenemos aquí y es que llega un momento que en un solo ordenador en una sola máquina en un solo servidor es que el servidor se me peta va lento porque tengo millones de usuarios claro yo lo que podría hacer es que como soy un gobierno tengo mucha pasta entonces lo que hago es que no quiero montar un servidor quiero montar 10 servidores que dice 10 dice 100 y lo que hago es que a cada servidor le meto un grupo de personas Pero cuidado pero quiero que cuando yo haga una búsqueda yo no tenga que ir servidor uno Busco servidor 2s Busco servidor 3 Busco yo quiero que esos x servidores se comporten como si fueran un solo servidor de base de datos eso es lo que se llama un cluster mysql y cuando haces eso tú puedes guardar en cada servidor una tabla diferente Pero si quieres que la misma tabla esté en diferentes servidores en ese caso Tienes que usar el merch my isam Entonces eso lo que hace que insisto es maravilloso Pero es un caso muy concreto y por cierto es maravilloso Pero configurar eso es la muerte o sea configurar eso es la leche de complicado pero evidentemente cuando tienes configurado Pues vale la pena si lo usas eh te sirve precisamente para eso para tener como una especie de lo que se llama computación distribuida vale el que varias máquinas puedan participar a la vez en un mismo cálculo bien Tenemos también csv que como te puedes imaginar mete los eh la información en Campos separados por Coma Como cuando hemos exportado Vale entonces eh las tablas csv no están indexadas entonces lo que te quiero decir es que por defecto no se usa el motor csv solo se utiliza para exportar pero no para guardar información ahora tú sabes lo que son los archivos zip todo el mundo lo sabe pienso eh Cuando tú tienes un archivo cuando tienes una carpeta muy grande tú la cipas Pero qué pasa si luego quieres buscar dentro de esa carpeta pues no es tan sencillo o tienes que abrir el archivo zip o tienes que descomprimirlo entonces el motor archive sirve y atención a las dos condiciones que te voy a poner sirve para poner cantidades de datos muy grandes para que no ocupen tanto en eh en el disco duro porque al final esto usa disco duro como te puedes imaginar pero el acceso a esas tablas dado que están comprimidas es lento es muy lento entonces Claro tú imagínate que eres un gobierno y Eh accedes pues una vez al año a la declaración de la renta de un usuario Claro si tú accedes a un dato una vez al año Pues igual la guardas en archive porque es un montón de información y tú no accedes todos los días si es información a la que accedes todos los días no te vale la pena meterla en archive pero si es información que a la que accedes una vez al año para qué la quieres guardar en inb si es que la vas a acceder una vez al año con lo cual en ese caso te interesa guardarla en formato archive insisto solo para datos que te utilicen gigas y gigas si no O sea recuerda large amounts vale o sea cantidades muy grandes bien luego tenemos el formato Black Hole el formato Black Hole lo que hace es que las peticiones que realices siempre devuelven un conjunto vacío y en este caso Fíjate que aquí nos pone una pequeña descripción y dice estas tablas se pueden usar en configuraciones de replicación donde los statements se usan a los eh se envían a los servidores esclavos pero el master no contiene su propia copia de la información es decir te acuerdas que antes por ejemplo con el merch myam te he puesto un caso en el que varios servidores eh hacen lo mismo entonces tú Imagínate que digo sí quiero enviar información quiero que los esclavos se guarden la información pero el maestro no se la guarde pues es uno de los pocos casos en los que me puede interesar un motor que Aparentemente no sirve para nada como es el Black Hole Te estoy explicando Para qué sirve dudo muchísimo que lo llegues a utilizar nunca vale pero por si alguna vez te lo preguntas Y ahora hay un motor que Sobre todo como te digo en operaciones de videojuegos a los alumnos que tengo de ese tipo de alumn sí que se la suelo recomendar eh que no está aquí que es Memory yo antes te he demostrado que para bien o para mal las bases de datos que he guardado se guardan en el disco duro Memory en cambio guarda la información en la ram como te puedes imaginar el disco duro es más grande que la ram pero el disco duro es mucho más lento Que la ram entonces Claro si yo guardo datos en la ram el acceso a los datos es mucho más rápido antes se llamaba Hip evidentemente y Bueno ahí no lo pone Pero te lo digo yo hay que tener cuidado porque si apagas el ordenador todo lo que haya en la ram desaparece porque es lo que tiene la ram entonces yo te cuento una escenario de aplicación eh yo tengo alumnos que desarrollan videojuegos y por ejemplo en una tabla de un videojuego tenemos no tres usuarios sino que tenemos 3000 usuarios en un juego online los 3000 usuarios tienen una coordenada x y z en un videojuego y en un momento dado y esto que te voy a decir te aseguro que no es broma a 30 veces por segundo o a 60 veces por segundo la base de datos tiene que preguntarse o sea cada usuario Dónde están el resto de usuarios y tiene que actualizar los datos de x y z de cada usuario te lo digo insisto Calcula 3000 usuarios y hacer una petición perdón O sea una petición hacer 60 peticiones por segundo a 3000 usuarios eso es una locura pero es necesario en determinados contextos como por ejemplo los videojuegos entonces claro hacer esa petición a una tabla que está en el disco duro lo machaca cuando tienes una petición de ese tipo una petición en las que x veces por segundo tienes que hacer un montón de peticiones Ahí es donde Debes saber que tienes una eh un formato un motor de base de datos que se llama Memory que puedes utilizar para ese uso claro la gente me suele preguntar Oye pero qué pasa si por lo que sea en un momento dado se apaga el servidor si se apaga el servidor la información Se perderá y se pierde la información pues lo que ocurre es que los usuarios dejarán de saber dónde están eso efectivamente se puede dar hay operaciones tales como que por ejemplo la tabla de posiciones la mantengas en memoria y una vez cada 5 minutos hagas una copia de esa tabla a una tabla que esté en disco duro de tal forma que si se cae el videojuego si te cae el servidor pues puedes recuperar dónde estaban los personajes hace 5 minutos no lo pierdes todo digamos no le dices a tus usuarios Oye que habéis perdido toda vuestra partida y el suerte dirá tío que he perdido todo Pues más vale eso decir mira te devuelvo a donde estabas hace 5 minutos Vale entonces ya te digo que te estoy poniendo el ejemplo de x y z pero imagínate que esa tabla guarda x y z vida del personaje armas del personaje salud del personaje objetos recogidos o sea en un momento dado decirle al usuario hoy empieza desde cero puede ser una putada muy grande mientras que se le dices Mira he perdido un cacho pero te devuelvo dónde estabas y lo que tenías hace 5 minutos pues bueno pues el usuario se quejar Igualmente pero por lo menos pues no se quejar con tanta razón vale bien verás las bases de datos te cuento porque he puesto esta voz eh Te voy a hacer un pequeño resumen de lo que va a ser la siguiente clase pero y de hecho cuando te digo un resumen lo que te quiero decir es que hasta lo tengo por aquí quiero decir o sea está planificado O sea que no es que me lo acabo de inventar sino que te voy a decir te voy a hacer un pequeño resumen de lo que acabas de preguntar que es basados en ficheros y todo eso vale Entonces vamos a ver te cuento El próximo día te lo resumo día te lo contaré más extenso te diré que en estas dos clases nos hemos basado mucho en trabajar con bases de datos en el modelo relacional de tipo sql pero esto no es lo único que hay son si te digo la verdad las bases de datos más extensas son las más utilizadas pero no son las únicas que hay en la próxima clase eh tengo previsto hablarte de bases de datos en archivos planos bases de datos documentales bases de datos de imágenes bases de datos no basadas en Tablas bases de datos donde cada registro puede tener una duración diferente vale Pero antes de hablarte de eso que eso será en la próxima clase porque eso se saldría mucho de lo que estamos haciendo hoy vamos a acabar May sq vuele bien pero antes de hablar de eso Eh sí que quiero responder a tu pregunta si no la llegas a hacer tú sinceramente yo no la hubiera O sea no lo hubiera resuelto porque es algo que intento hacer como que no existe ahora bien no Sí ahora verás Por qué cuando yo creo una nueva tabla aquí en tipo de dato vengo por aquí y veo que existe el campo blob almacena En este caso una longitud máxima de 65000 bytes Pero no te preocupes porque también tenemos Campos Tiny blob tenemos medium blob Y tenemos long blob el long blob almacena dos a la 32 Mira para que te hagas la idea lo estás viendo en la pantalla hasta 4 Gb para decirte que no solo vas a poder sino que el tamaño es prácticamente ilimitado que meter 4 Gb en un registro Pues a ver sí se puede hacer pero no es lo más recomendable evidentemente para ello como te digo hay que trabajar con el campo blob y vamos a nombre de tabla archivos identificador entero 255 primario incremental Y esto es archivo lo meto como campo block de momento vale eh ahí no pongo nada y le doy a guardar y ahora si yo me voy a archivos y yo me voy a importar veré eh perdon importar insertar quería decir veré cómo yo puedo seleccionar un archivo me dice máximo 64k Pero ya sabes que puedo utilizar o medium blog o long blog para tener más información ahora bien dicho esto yo me voy a curso de aplicaciones web y yo veo que ahora mismo esta base de datos me está ocupando y no es que te lo digao que lo estás viendo en la pantalla 80k yo ahora hago una captura de pantalla esta captura de pantalla la tengo en el escritorio ocupa 743 voy inserto un nuevo elemento captura de pantalla le doy a continuar momn Ah s car se me ha ido sí un momentín archivos voy a meterlo un Long glob y así nos curamos en salud entonces cambiar tipo Long blob y así me cabe todo y inserto y selecciono archivo continúo vale Ahí está eso es el binario no perdón el hexadecimal y me voy a examinar vamos a ver vale Y me dice que contiene un archivo blog de 726 cas yo De hecho si hago clic me lo puedo bajar vale me lo descargo es un archivo binario Pero bueno da igual lo puedo reinterpretar para que sea una imagen es lo de menosa tranquilo que no está Atrapado para siempre pero lo que me importa es que yo ahora me voy a la base de datos y la base de datos Bueno ahora me dice que ocupa 80k se ve que no ha acabado de actualizar pero claro como te puedes imaginar esa base de datos no ocupa 80k De hecho si le doy a exportar pues verás que curso aplicaciones web exportar y de hecho creo que esto me va a servir para ilustrarte lo mejor posible vale esto ocupa ahora 1.5 megas Y si yo ahora lo abro con un Editor Permíteme Ponerme un poco dramático pero quiero ilustrar un concepto que Ah continuación te voy a explicar de hecho Ah no digo está bloqueado digo jaría que ha pasado de mi cara pero no está í la que te pego Ahora cuando abra ese archivo que ya te digo que está tardando porque es 1.5 megas a ver si lo puedo intentar abrir con otro el hedit no sé si lo tengo operativo Ah hedit pero también le va a costar y text edit no lo tengo disponible vale Bueno pues vas a ver que si antes eran 80k de hecho que no es que te lo diga yo sino que tenemos una exportación de antes Mira mira ves Si yo subo arriba php my admin tiki takat archivos y esto de aquí eso de ahí Eso de ahí es la imagen es la imagen y aquí al final tengo el resto de la base de datos los nombres niños y todo eso lo que te quiero decir con esto es que se puede pero no os recomiendo porque cuando empezamos a meter archivos dentro de una base de datos esto mismo que estoy haciendo yo estoy dramatizando ya lo sé pero esto mismo que estoy haciendo yo es lo que luego hará el gestor de base de datos cuando busca algo dentro de la base de datos insisto te lo vuelvo a decir estoy dramatizando no es realmente así no es que para buscar un nombre de un niño se va a tragar toda la información binaria de la imagen no es tampoco eso pero lo que te quiero decir es que la base de datos crecerá Hasta que el 99,999% de lo que ocupa sean los archivos y el 0,001 sea texto para buscar y Entonces será como Buscar una aguja en un pajar desde el punto de vista en que el motor tendrá que ir apartando mogollón de información que realmente no le sirve para buscar Vale entonces por eso mi respuesta a tu pregunta es sí se puede y no Solo quiero que sepas que se puede sino te demuestro Cómo se hace pero una vez demostrado esto te digo no te recomiendo hacerlo vale mira Vale cuando en una aplicación eh tú lo que necesitas es que el usuario suba imágenes mediante una cosa que ya veremos que es el formulario html que gracias a php es capaz de hacer que la información realmente suba al servidor hay un campo que de tipo input que es file que te permite subir archivos imágenes o lo que tú quieras ahí hay dos tipos de estrategia una de ellas es voy a haer por aquí una de ellas es la estrategia de guardarlo en campo blob pero otra que es la que suelo utilizar yo es la información en texto la guardo en una carpeta y la información de imagen guardo el nombre de la imagen en la base de datos pero el archivo lo guardo directamente en la carpeta correspondiente y así la tabla de la base de datos sabe dónde tiene que ir a buscar es decir es una solución mixta en la base de datos en lugar de guardar la imagen completa guardo el nombre de la imagen para que luego cuando proceso ese registro le digo al sistema Vete a la carpeta de imágenes y Búscame la imagen que tiene este nombre concreto vale Y ahora por último y cuando digo por último quiero decir que en la próxima sesión Vamos a aprender a cómo conectarnos a una base de datos mysql desde un lenguaje de programación voy a entrar dentro de la base de datos y voy a entrar dentro de privilegios yo ahora mismo no me podría Conectar a esta base de datos desde cualquier otra operación desde cualquier otra parte Porque se requiere un usuario y una contraseña para que desde cualquier programa informático nos podamos Conectar a una base de datos mysql por seguridad evidentemente esto hará que la primera conexión a una base de datos sea complicada pero te aseguro que por seguridad te conviene Entonces me voy a privilegios y dentro de privilegios hay una serie de usuarios en este caso el usuario root que es el usuario maestro Este no hay que usarlo nunca que tiene privilegios para acceder pero yo quiero agregar una cuenta de usuario pincho en agregar y a continuación configuro nombre de usuario lo voy a llamar curso aplicaciones web nombre del Host dónde está este usuario está en local está aquí mismo en este servidor y pone local Host en contraseña voy a poner curso aplicaciones web y me dice que la tengo que repetir Por qué la contraseña es extremadamente débil Pues porque la contraseña coincide con el nombre de usuario que a su vez coincide con el nombre de la tabla Entonces yo ahora mismo tengo que dejarte una cosa muy clara Y es que yo estoy haciendo esto con motivo didáctico es decir yo sé que la primera vez que nos conectemos a una base de datos desde php o lenguaje que sea nos va a costar y sé que un origen de error es precisamente el Haber puesto mal o el nombre de la de datos o el nombre del usuario o el nombre de la contraseña lo que hago para que el alumno para que al alumno resulte más fácil conectarse es poner el mismo nombre en base de datos en usuario y en contraseña pero te lo vuelvo a decir una vez más porque estamos en un curso si esta fuera una base de datos real en producción de verdad de la buena esto sería una práctica fatal habría que poner diferente nombre de usuario diferente nombre de contraseña y por ejemplo una contraseña que tuviera mayúsculas minúsculas números caracteres extraños lo que fuera para que fuera difícil de averiguar y difícil de asaltar Por eso te digo una vez más estoy poniendo curso aplicaciones web porque es que además como estoy configurando hoy el usuario y no nos conectaremos hasta el próximo día es que yo pongo ahora una contraseña el próximo día Ya verás que diríamos qué contraseña pusimos no me acuerdo V Entonces por facilidad insisto no por idad sino por facilidad lo que estoy haciendo es poner curso aplicaciones web Le digo otorgar todos los privilegios para la base de datos curso aplicaciones web sí de esto no toco nada de momento le doy a continuar bien en la siguiente pantalla actualizo los privilegios ahora hablaremos de los privilegios le doy a continuar Esto me permite especificar para cada usuario qué es lo que puede hacer cada usuario pero por defecto Quiero un usuario que pueda hacer de todo porque es para digamos usarlo de usuario maestro le doy a continuar y con esto si ahora me voy a curso aplicaciones web y me voy a privilegios te darás cuenta como ahora existe el usuario curso aplicaciones web que tiene permiso para entrar específicamente dentro de esta base de datos esto que hemos hecho es imprescindible para que el próximo día o cuando sea como te digo nos podamos conectar desde php o desde cualquier lenguaje de programación a la base de datos con la que queramos trabajar en este caso esta base de datos vale antes de acabar vamos a trabajar con esta tabla que tenemos por aquí olvidada que es nombre niños entonces eh yo lo que quiero por ejemplo es aprender realizar algunas operaciones que no hemos realizado hasta el momento En este caso me preocupa lo del tema de los números Ah muy bien porque aquí ha pillado El decimal como punto H igual lo vuelvo a importar igual lo vuelvo a importar Sí igual lo vuelvo a importar porque el programa ha creído que esto eran decimales entonces me voy a editar buscar y reemplazar voy a buscar todos los voy a reemplazar por nada Hello no hecho nada bien Vamos a ver s sí probablemente muy bien datos datos formato no celdas vale correcto Quiero un texto ara desde cuandoo texto Ahora sí vale Aunque lo coja como texto Luego si hace falta lo cambio a número entero en mysql entonces vengo aquí esta tabla de nombres de niños la voy a borrar entonces vengo aquí y le digo eliminar la tabla idado ahora me vuelvo importar el archivo nombres ninos la primera línea de archivo contiene Y si en un momento dado esto aquí lo tenemos ya hoja uno operaciones nombres ninos si en un momento dado Esto me pudiera causar problemas desde el punto de vista en el que la estructura Mira la ha pillado como entero pues ya está fenomenal iba a cambiar el tipo de dato pero la ha pillado bien vale pues me voy a ir a sql y quiero enseñarte que existen más comandos que iremos viendo a lo largo de los días Como por ejemplo el comando de agrupar Yo quiero saber cuántos nombres de niño tengo y quiero saber cuántos nombres de niña tengo lo que hago es que me vengo por aquí y digo Select count nombr Nino en este caso no me va a decir los nombres me va a decir que en total tengo 200 nombres por qué porque era si te acuerdas cuando lo hemos sacado del INE eran los 100 más repetidos y los 100 N nombres de niña más repetidos pero yo ahora quiero agrupar por género que insisto me va a salir 100 y 100 Pero porque está localizado O sea si sale 100 y 100 es que ha salido bien Entonces le puedo decir Select count y digo Group by género le doy a continuar y me sale efectivamente 100 y 100 vale que es lo que estaba previsto además de contar yo puedo sumar y ahora lo que quiero no es saber los nombres sino que quiero saber cuántos niños hay en cada nombre o sea no ya en cada nombre porque eso ya lo tengo sino cuántos niños hay en esto en niños y en Niñas vamos a verlo para ello te diré que en mysql tenemos una cantidad prácticamente no te digo ilimitada pero muy grande de funciones matemáticas una de ellas es zoom entonces Select zoom total Nino from nombres ninos no nombres ninos esto lo que hace es que si yo le voy a continuar me suma Que en total hay 211,5 29 niños pero yo a continuación puedo decirle que esto lo quiero Group by género Y entonces déjame ponerle aquí género coma su total n así no tengo dos datos anónimos sino que tengo el género y el dato y me dice que los hombres son 109,000 y las mujeres son 101,000 es decir todo esto evidentemente que ahora mismo sobre un campo de eh de nombres de niño puede resultar un poco chorra pero realmente no lo ves esto lo que hace con un campo por ejemplo de pedidos es Quiero saber los pedidos de marzo Quiero que me hagas una gráfica que me haga los de marzo los de junio los de julio y los de no sé cuántos Quiero saber los pedidos más frecuentes por cliente Quiero saber de qué pueblo me pide más productos Quiero saber o sea todo esto son peticiones que tú puedes hacer para en un momento dado eh obtener resultados y darle como ya te digo la información mascada al lenguaje de programación porque hacer eso con el lenguaje de programación se podría pero fíjate que hacer esto que insisto es una suma que al final ha hecho hay bastantes sumas hacer esto en un lenguaje de programación sería unas cuantas líneas y aquí date cuenta que sabiendo los comandos correctos de sql y en tres líneas lo tenemos vale