en la clase de hoy hay varias cosas sobre las cuales quiero trabajar una de ellas como he comentado ya anteriormente consiste en volver a las aplicaciones basadas en formularios basadas en definitiva en swing por ejemplo y a continuación voy a hacer una aplicación tal que nos permita cumplir estas cuatro ísticas de las cuales hemos hablado anteriormente en base de datos que es crud pero evidentemente que nos permitan cre crear cosas leer cosas actualizar cosas y eliminar cosas pero quiero hacer eso no a través de una base de datos sino quiero hacerlo a través de un programa con interfaz de usuario O sea quiero hacer que esto sea fácil de hacer para mis usuarios Y de esa forma eh también lo que quiero es profundizar un poco más sobre el editor que tiene swing para crear interfaces de usuario para que puedas ver pues lo fácil que es trabajar con ello entonces en primer lugar voy a crear un nuevo proyecto este proyecto se va a llamar proyecto Java 24 va a ser un proyecto Java pero a continuación Dentro de este paquete voy a crear un nuevo J frame form como hiciéramos anteriormente lo llamo yo que sé aplicación sin acento por supuesto y ahora a continuación lo que hago es que elimino el archivo Java porque los dos tienen el signo de Play y por tanto el programa puede no saber cuál es el que tiene que ejecutar Vale entonces elimino este y por tanto ahora me quedo con aplicación Java y de hecho me aseguro que ahí ahora me dice vale dime cuál es la clase principal le digo que es aplicación y me ejecuta esta ventana vale Ahí la tenemos Bien voy a volver Por cierto voy a poner eh No pantalla completa porque así la aplicación pues me aparecerá por encima de la interfaz me aparecerá así ahí la tenemos bien pues a continuación aquí a la derecha donde están los menús vamos a ver que tenemos una cosa que se llaman containers ahora veremos que es muy interesante tenemos los Controls ya empezamos a trabajar el otro día con ellos y tenemos los swing menús de hecho Tenemos también ventana swing vale Tenemos un montón de cosas tenemos más eh más elementos de formulario tenemos persistencia en Java una cosa que quiero trabajar hoy es lo fácil que es hacer un programa con menús entonces voy a crear un menú simplemente arrastrando menu bar a esta ventana aquí arriba hay pinch lo suelto y automáticamente se coloca arriba es eh es un elemento donde por defecto viene file y viene edit un poco para que nos hagamos la idea Por supuesto pincho file y puedo venir aquí a la derecha y donde pone file puedo poner archivo y donde pone edit puedo poner edición ahora sí que puedo poner acento si quiero digo que puedo poner acento Ah action Commando No espera quería esto edición vale puedo meter más elementos del menú em puedo llevarme esto aquí momento menú item Bueno vamos a ponerlo aquí vale J menú 3 y a esto lo voy a llamar por ejemplo ayuda he puesto da pues ayuda la idea es que veas que insisto o sea esto es de pinchar y arrastrar Y si ahora me voy al source me voy te acuerdas a generated code Pues fíjate que el programa lo que ha hecho es básicamente meterme esto ha metido un eh J menú ha metido J menú set text añado al menú o sea el código Realmente si te fijas está bastante limpio y bastante entendible O sea no está metiendo digamos mucha morraya ahora me voy a design y Ahora quiero por ejemplo un menú en archivo para Añadir el de ayuda lo que he hecho es que me he ido a Añadir nuevo menú y pincho y arrastro aquí hasta ahí hasta no sé si ves que aparece como unas líneas discontinuas y cuando aparece lo que hago es que lo suelto y una vez que lo suelto pues ahí puedo pues no sé acerca de y puedo poner lo que quiera y voy añadiendo nuevos menús que luego por supuesto serán la base a ver que le estoy dando a Play ahí la base si nos fijamos vale para que de ahí salgan menús desplegables Y eso es lo que voy a hacer a continuación me voy a ir ahora a este mismo menú al mismo que acabo de seleccionar pero ahora lo que hago es que lo arrastro encima de uno existente Y entonces aparece un J men 5 ahí donde aparece un J men 5 pues pongo por ejemplo nuevo registro y luego puedo Añadir más elementos ahora como he añadido un menú Ahora puedo un menú em y lo meto ahí no sé si ves la línea discontinua de color naranja que me permite previsualizar En qué posición voy a meter el nuevo elemento de menú Entonces lo pincho y digo eliminar y voy a poner menú em actualizar Y por último Quiero un listado e venga va y también quiero realizar una búsqueda vale el nuevo registro parece que esté pensado para voy a quitar el nuevo registro de aquí Ah delete y voy a meterlo como menú item Ahora sí como nuevo registro y ahora si le damos a Play aparte de guardar evidentemente pero si le damos a Play veremos Cómo ahora Cuando cargue tenemos un programa en ventanas por supuesto se puede hacer pantalla completa y todo eso donde cuando pincho archivo Aparecen las opciones automáticamente y yo no me estoy preocupando de momento de la programación de nada de esto un poco más complejo es lo que va a ocurrir a continuación como te puedes imaginar cuando yo nuevo registro Quiero que en la ventana solo aparezca información de nuevo registro y cuando le de a eliminar solo quiero Que aparezca la información de eliminar para esto es para lo que tenemos voy a hacer esto un pelín más grande para esto tenemos los containers los contenedores contienen cosas entonces de momento voy a trabajar con panels que es el panel más sencillo pincho y arrastro y creo un panel por aquí y dentro de ese panel es muy importante que tengas claro que está dentro voy a crear un Label vamos a ver Ahí se nota que está dentro no sé si lo ves porque los márgenes son los márgenes del panel y ahora digo Label pues ahí donde pone J lavel voy a poner esto es insertar un nuevo archivo vale de momento voy a poner un texto para que lo tengas claro Entonces ahora es cuando eh lo que quiero es eh decirle al sistema qué es lo que tiene que ocurrir por ejemplo con este panel lo que voy a hacer es que al principio al ejecutar el programa recuerda se llama vamos a verlo se llama dónde estás Será posible bueno J panel 1 Vale pues cuando arranque el programa es decir aquí donde pone Run le voy a decir jpanel pero no jpanel 1 porque yo me lo invento sino porque quiero que veas aquí que pone jpanel copio pego le pongo un punto y veo a ver qué sale y dentro de ello creo recordar que por la s hay un set visible que es igual a false guardo a ver qué ocurre Non static variable vale en ese caso lo que voy a tener que hacer es crear Pues mira claro esto no lo puedo tocar vamos a ver public aplicación Pues sí que puedo decirle a ver si me deja lo meto en aplicación vale vamos a verlo y si esto ha ido bien pincho y ahora lo que debería ocurrir es que no debería verse no sé si lo ves ahí no se ve el panel qué es lo que quiero ahora lo que quiero ahora es que el panel solo se vea cuando le doy a insertar nuevo registro y no quiero que se vea cuando le doy a eliminar actualizar listado o búsqueda vamos a hacerlo me voy a design me voy a archivo y en Nuevo registro lo que hago es que me voy te acuerdas el otro día a eventos y en eventos me voy otra vez como el otro día a action performed Y le doy a j menú item 6 action performed y se me crea esta opción que me dice dime qué es lo que va a ocurrir cuando entres en ese men y entonces yo ahora vengo por aquí y digo jpanel setet visible true evidentemente set visible true lo que hace es que se vea set visible false lo que hace es que se oculte vamos a probarlo Y le doy a Play en principio y por defecto ese panel está oculto pero si ahora me voy a archivo nuevo registro ahora pone inserta un nuevo registro con lo cual como te puedes imaginar ahora lo que voy a hacer es decirle al sistema aparte de que tengo los J menu items vale que no se sabe cuál es cuál Pero bueno no pasa nada lo que voy a hacer es que en los demás eliminar pues action perform actualizar action performed listado action performed y búsqueda action performed en todos estos de aquí voy a poner J panel set visible false lo copio y lo pego Y entonces le doy a Play y ahora verás que al principio no aparece igual ahora luego pongo alguna pantalla de bienvenida archivo nuevo registro aparece pero archivo eliminar no aparece archivo actualizar no aparece archivo listado no aparece pero archivo nuevo registro sí que aparece entonces claro ahora esto cae por su propio peso porque yo puedo esto y puedo empezar a meter cosas Eh quiero insertar un nuevo archivo no perdona archivo no registro vale Y no lo sé de qué hacemos la aplicación qué es lo que vamos a insertar no sé qué se te ocurre Es que la típica eso la típica de hace muchos años sabes para que te hagas la idea la típica es voy a crear mi librería CDs pero claro ya prácticamente no hay ni CDs con lo cual es que el ejercicio típico de formularios de este tipo pero yo que sé sabes clientes vamos a por clientes porque es lo típico de que al final seguro que te va a hacer falta clientes en algún momento de tu vida entonces o para ti o para programar para a su vez a tu vez un cliente Vale pues voy a meter un text Field y claro aquí lo primero que deberíamos hacer evidentemente antes de nada pero no quiero hacerlo todavía es crear una base de datos para saber qué campo tiene la base de datos Pero como te digo no quiero hacerlo Todavía ahora verás por qué Para no mezclar entonces eh vamos a lo típico vale nombre apellidos teléfono email lo el clásico entonces me vengo por aquí añado un textfield por supuesto No solo podría sino que desde un punto de vista yo de la usabilidad yo debería introducir un Label para decirle al usuario qué es lo que se espera de él Entonces le pongo ahí un Label y claro y entonces le digo introduce el nombre del nuevo cliente y entonces justo bajo el textfield además Fíjate que lo bueno de tener todo esto en un panel Es que yo ahora pincho y me lo llevo y está todo en un contenedor o sea es super cómodo Ahora vengo por aquí y lo meto ahí y introduce dónde estás ahí sí correcto verás vamos a ver eh Sí sí no ya luego sino en un ejercicio posterior lo que hacemos Es eh hacer esto mismo pero a código vale por eso como me has dicho el luego no es exactamente luego pero sí en un ejercicio posterior igual que por ejemplo la clase anterior empezamos directamente desde código desde cero Pues en esta clase entonces eh Todo esto lo de hacerlo también desde código acero es porque insisto Esto está muy bien Esto es muy bonito Hasta que viene un día un jefe tuyo y te dice eh Sí pero es que eh yo o sea en esta empresa no usamos el editor en esta empresa lo hacemos todo a pelo entonces claro es como madre mía y ahora qué hago vale o sea tienes que saberlo para cuando llegue ese momento sabes entonces me voy a crear un textfield por aquí lo hago grande voy a llamarlo un momento voy a hacer un poco una parada en el ejercicio me voy a ir un poco por otra parte parece pero realmente no para responder a la pregunta de cómo sería esto en la web esto ahora mismo es una aplicación swing lo cual quiere decir que es una aplicación de escritorio o sea esta aplicación ahora mismo no tiene nada que ver con la web te voy a decir pero para no decírtelo que Java tiene o mejor dicho tenía un conjunto de tecnologías llamadas applets que eran los applets de Java los applets de Java eran programas como por ejemplo este en swing pensados para crearse directamente eh dentro de la web para poder insertar esto que estoy haciendo dentro de la web de los applets Olvídate porque hace ya más de 10 años que los applet están completamente desfasados prácticamente no hay ningún navegador que soporte ya applets entonces eh lo que voy a hacer es que te voy a decir lo siguiente parece que no voy a responder a tu pregunta pero te aseguro que sí que voy a responder a ella o sea Ten un poco de paciencia porque ya sé que voy a decer una cosas que tú vas a decir Eh Esto no es lo que he preguntado pero ahora verás que sí claro entonces eh Hay una metodología de desarrollo que se llama mvc lo primero que quiero recalcar es que es una metodología de desarrollo es decir hay múltiples hay varias tecnologías de desarrollo por ejemplo mvc es una bastante extendida a día de hoy Microsoft tiene una que es mvvm vale que es modelo vista modelo mvc quiere decir modelo vista y controlador model View Y controller entonces Eh Esto es un patrón de diseño que no tiene por qué seguirse a rajatabla pero sí que en determinados contextos Especialmente cuando las aplicaciones se complican se recomienda adoptar Este modelo en el cual una cosa es el modelo de los datos otra cosa es la vista a través de la cual se introducen los datos y otra cosa es la programación que hace cosas con esos datos llamada el controlador entonces eh Por ejemplo Ahora aquí ahora mismo trabajando con swing y con Java swing eh ahora mismo realmente dentro de que swing es un framework mvc Pero tú realmente no lo estás notando Por qué Pues porque yo vengo por aquí y cuando en archivo le he dicho que quería hacer algo Uy aquí no cuando le he dicho que quería hacer algo esto de aquí es la vista Pero a la vez en el mismo programa Tengo el controlador porque el controlador está diciendo qué es lo que estoy haciendo esto teóricamente no es muy limpio es perfectamente legal también te lo digo pero desde un punto de vista purista no es muy limpio porque a lo que se invita es a separar el modelo la vista y el controlador en swing como estás viendo podemos mezclarlo y no pasa nada y funciona perfectamente ahora bien cuando en Java trabajamos con otros tipos de tecnologías tales como por ejemplo las tecnologías web ahí sí que encontramos que estamos obligados a hacer una separación muy grande entre el modelo la vista y el controlador porque en tecnologías web Java no puede hacer nada con la vista se programa en un lenguaje que se llama html si te fijas aquí es igual en el sentido de que una cosa es Java y otra cosa es swing Java es lo que hace que las cosas funcionen swing es una librería que se monta por encima o sea Java en principio no hace ventanas swing hace ventanas con las tecnologías web ocurre Exactamente lo mismo y es que en el momento en el que queremos usar Java Enterprise nos encontramos que lo que tenemos que hacer en este caso es utilizar un sistema que nos permita Por una parte aquí por una parte tener una vista que es el lenguaje html más css más javascript vale Pero fundamentalmente html a continuación el controlador que está hecho en Java concretamente en una versión muy particular de Java llamada Java Enterprise y el modelo que es hay quien dice incorrectamente que el modelo es la base de datos Porque insisto esto es difícil de explicar a alguien que nunca ha trabajado con una aplicación de este tipo vale Pero el modelo es qué estructura tienen los datos Y claro el modelo afecta a la vista y al controlador porque es lo que te decía hace un momento los campos que tenga la base de datos afectarán a la vista Perdón al modelo afectarán al formulario evidentemente los campos del formulario tenen que coincidir con la base de datos y evidentemente afectar al controlador porque cuando el controlador saque datos de la vista y los meta en el modelo tiene que haber una coincidencia porque si no habrá problemas Entonces en este caso cuando hablamos de base de datos digamos vamos a hablar de may sql o de cualquier otra cosa Eso es un poco lo de menos Entonces cuando hablamos de este tipo de aplicaciones vamos a hacer un ejercicio es cuando vamos a hablar de varias cosas para empezar si hablamos de aplicaciones en web nos hace falta un servidor de Java Nosotros ahora mismo lo que tenemos no es un servidor de Java lo que tenemos es eh un programa un entorno de desarrollo integrado O sea integrated development environment que nos sirve para hacer programas en Java y una vez que están hechos ya podemos darle el programa al cliente y podemos borrar este programa Si queremos podemos borrar este entorno Si queremos cuando creamos una aplicación en la web lo primero que nos hace falta es un servidor web entonces para ello lo que voy a hacer es que me voy a ir a shamp vamos a ver me voy a descargar el shamp tú ya lo tienes pero yo no entonces el shamp es una aplicación que eh lleva tú lo verás en tu panel de control verás que lleva una aplicación llamada Apache tomcat entonces Apache tomcat así como Apache es un servidor para páginas web en php por ejemplo tomcat es un servidor para aplicaciones en Java Enterprise voy a Descargarme shamp para Mac ya que insisto me lo estoy descargando Más que nada porque yo ahora mismo hasta este momento tengo el mamp pero el mamp no lleva aach tcat Vale entonces me estoy descargando el shamp por eso el mamp es solo para aplicaciones hechas en php sea de servidor con mysql y con php pero no lleva tomcat entonces lo que voy a hacer a continuación es Descargarme el shamp porque el shamp sí que lleva eh la aplicación de Apache tomcat si lo tienes abierto De hecho si tienes el shamp Abierto verás que en el panel de control abajo del todo el último creo que es pone Apache tcat Eso es bueno una vez que me lo he descargado lo que me dice es mételo en aplicaciones con lo cual en mi caso lo metado Uh ya tengo el shamp Será posible Eh Pues un segundin Porque ahora mismo Estoy flipando bastante porque es que no recuerdo haber instalado puede ser pues no Mira 13 de diciembre de 2018 Sí pues no lo que voy a hacer es que me lo voy a cargar entonces voy a instalar el más reciente vale está cargándose me acabo de cargar el de 2018 Espero no haberla cagado porque por una parte Eso quiere decir ah no pero espera lo tengo en la papelera menos mal V lo tengo en la papelera Mostrar contenido digo es que igual me he cargado Igual digo Igual me he cargado los estos Igual me he cargado los proyectos que tuviera en shamp pero también yo sigo la política de que si un proyecto no tocado des 2018 es que igual tan no sería con lo cual en fin Bueno pues voy a ver menos de un minuto a que acabe de arrancarse sobre todo es que tengo en la memoria así rápidamente que las versiones antiguas de shamp param no levaba tomcat entonces por eso me estoy descargando una reciente para asegurarme que tenga lo último de lo último lo de lo último en informática tampoco es siempre bueno sabes pero bueno en este caso yo creo tengo el pálpito de que me va a beneficiar entonces shamp vale eh shamp es una aplicación desea abrirla Sí vale Eh La versión actual es la 749 pero tiene 703 ya inicializada okay Vale eh No tengo el man por ahí abierto bien entonces este es el shamp y tengo Au Esto es lo que te decía vale eh tengo en este caso no tengo el tomcat instalado o sea el no incluye tomcat incluye Apache sql Y ftp sí Entonces yo te diría que vamos a hacer lo siguiente yo lo que te diría Es que voy a continuar este lo digo para Ahora no liarme Y a ver De dónde saco un tomc para Mac Entonces yo lo que haría Es que voy a hacer el ejercicio para Java ventanas para Java swing y lo que hago es que fin de semana me instalo un tomcat en el equipo y la clase siguiente hacemos el ejercicio vía web per lo digo porque ahora mismo o sea si supiera que dijera Mira es que hago chin Pam pum y meto ahí un tcat pero claro ahora mismo tengo en el salón en el servidor Linux el tomcat instalado pero claro Ahora no quiero irme al salón arrancar el servidor Linux arrancar el tomcat y conectarme un tomc remoto que tú digas Pero dónde estás aquí o estás allá vale por eso prefiero ahora hacer que la clase sea productiva y la próxima clase la dedicamos entera a hacer aplicaciones web con Java y con Java Enterprise Vale entonces voy a cerrar esto eh Yes vale Y por aquí entonces te lo digo porque no es O sea no es tan fácil porque tengo que instalarme tomcat eh Para osx y luego vale Y esta es la cuestión y luego tengo que Descargarme eclipse porque acuérdate que te comenté que net vins era para Mira de hecho te voy a hacer un poco lo que haremos el próximo día eclipse.org y es más voy a Buscar eclipse j2e y lo que haremos es Descargar Aquí está una versión de eclipse específica para Java tal este paquete fue de tal Y hay un nuevo paquete en esta dirección Vale entonces estos paquetes tenemos eclipse para Java y eclipse ahora verá por aquí para web y para javascript o sea tenemos una versión específica de eclipse para Java Enterprise Vale entonces por eso te digo Vamos a continuar hoy como lo tenemos y el próximo día instalo todas las dependencias y vamos allá vale pues vamos allá vamos a Bueno vamos a acabar Este formulario voy a meter un Label ahí lavel 4 y J textfield E Por qué es tan gigante Ah perdón porque le he metido un text área es un textfield que en ocasiones me puede venir bien No te digo que no hay una cosa texto grande efectivamente si fuera un correo electrónico qué Manía si fuera un correo electrónico Pues sería para el propio mensaje efectivamente verás todo esto no estás obligado a meterlo dentro de un panel pero date cuenta de dos cosas en primer lugar que yo ahora por ejemplo cojo el panel y Yo muevo el panel y se mueve toda la vez pero es que además de esto Si antes yo le he dicho que el panel se ocultara Yo le doy a Play y date cuenta que si se oculta el panel se ocultan también los hijos y si ahora le digo archivo nuevo registro se me abre el nuevo panel completo es decir concibe el panel como si fuera un grupo de tal forma que yo en el código solo le tengo que decir Enséñame u ocúltate una cosa pero no tengo que decir eh J Label enseña J tal enseña y luego J tal oculta y oculta vale entonces claro lo agrupo y para todos los usos es más sencillo y luego hay una cosa que ahora mismo está pasando un poco desapercibida que es la siguiente Y es que si yo pincho y arrastro no sé si verás esas pequeñas líneas que me permiten alinear automáticamente los elementos del formulario Y eso parece que no parece una chorrada pero te aseguro que no lo es porque cuando no existen estas guías cuadrar al Pixel estas aplicaciones es un suicidio pero sin embargo o sea simplemente hago así y mágicamente todo está correctamente alineado esto es muy Adobe muy Photoshop muy indesign pero cuando nos lo encontramos en una aplicación como swing muchas veces pasa desapercibido pero es lo que nos está ayudando a que los elementos estén correctamente alineados Bueno pues voy a meterlo Un poquito más arriba vale ahora Eh bueno introduce voy a acabar de poner esto introduce el correo del cliente e introduce el email del cliente verás cuando yo hago Esto bueno Y evidentemente por supuesto como te puedes imaginar le meto un J buton Al final a ver un momentín se lo meto ahí vale que es insert vale Y ahora lo que quiero es que cuando en eventos yo le d al action perform lo que quiero es que aquí system.out printline voy a insertar un registro bien a continuación aparte de que voy a abrir La persiana vale a continuación voy a probar Este programa guardo recargo y vamos a ver le doy Bueno le doy a archivo nuevo archivo le doy a inserta y ahí dice voy a insertar un registro yo a continuación tengo que pensar dónde voy a insertar este registro Ahora yo te planteo lo siguiente plantear una cosa pero la pregunta que te voy a hacer no tiene una sola respuesta o sea puede tener múltiples respuestas La pregunta es esta aplicación dónde se va a implementar es decir cuando la saque a quién se lo voy a dar y para qué lo va a usar te lo digo porque esta aplicación por ejemplo no la tengo planteada como una aplicación para eh mysql Porque ya hemos hecho aplicaciones con mysql anteriormente voy a abrir un ento el gimp y voy a hacer varios casos supuestos y todos los casos supuestos son correctos O sea no es cuestión de correcto o incorrecto sino es cuestión de que analices diferentes escenarios de uso entonces creo un nuevo archivo y te digo podríamos estar hablando de una organización en la que yo le fuera a instalar Este programa yo le fuera a instalar Este programa a un trabajador Pero además hay otro trabajador que también quiere Este programa instalado y hay otro trabajador que quiere Este programa instalado y los tres trabajadores van a trabajar sobre la misma base de datos en este caso estamos hablando de concurrencia esto es una situación de concurrencia en la cual los tres van a acceder a una misma base de datos en estos casos lo mejor o una muy buena alternativa por lo menos es trabajar con una base de datos centralizada por ejemplo de tipo mysql de tal forma que la aplicación se conecta a la base de datos y la base de datos le devuelve resultados y así de la misma forma con cada uno de los miembros de la organización pero para hacer esto evidentemente se requiere no solo que yo desarrolle un programa en Java sino también se requiere que previamente haya instalado un servidor de mysql o de cualquier otro tipo de base de datos dentro de la empresa y este escenario de uso es perfectamente válido ahora bien puede haber otro escenario de uso también perfectamente válido en el que yo le pase la aplicación a una persona y esa persona no guarde en una base de datos sino en su propio ordenador se guarde su pequeña base de datos nadie más va a acceder ahí la cuestión es en este caso para qué decirle a esa persona móntate un servidor de mysql No valdría para nada o valdría para poco mejor dicho Para nada tampoco lo que quiero decirte es que no es cierto que todas las aplicaciones de Java tengan que tener un servidor de mysql y otras formas de guardar los datos si tú me dices que va a haber concurrencia y van a haber por ejemplo 200 trabajadores accediendo a una base de datos yo te diré May sql No te compliques porque tienes que instalarlo pero te va a valer la pena ahora para que una persona para que un trabajador se guarde una agenda con sus clientes para eso le voy a montar una base de datos mysql con un servidor mysql probablemente no entonces este es el caso supuesto en el que estamos trabajando hoy en el que yo quiero esto enviárselo a un cliente y decirle ya está ahí tienes tu aplicación no decirle No espera es que te paso la aplicación pero ahora Déjame que te voy a instalar un servidor mysql porque si no esto no va a funcionar y el cliente dirá un servidor mysql eso qué es lo que es Vale entonces a continuación lo que voy a hacer es guardar esta información dentro de un archivo de texto recordamos que eh teníamos por aquí en alguna parte no me acuerdo en qué proyecto Java el de escribir estoy abriendo proyecto Java 6 no parece que no vamos a proyecto Java 11 te acuerdas que escribíamos y leíamos de archivos eh un do While parece que no esto Sí vale entonces en este caso a continuación lo que voy a hacer es y pegar este código para demostrar que Cuanto más avance el curso más podemos reutilizar código de esto de otros proyectos entonces hago un trycatch me voy a aplicación me voy a source y aquí donde pone J Button action perform importo lo que haga falta importar evidentemente ahí lo tenemos y quiero guardar el archivo agenda mi archivo pun wr Esto es lo que voy a escribir desde Java y lo que voy a escribir desde Java es lo siguiente lo que voy a hacer es vamos a ver J textfield 1 hasta el 5 no sé dónde ha ido el 4 pero voy a cambiar el nombre voy a cambiar el nombre properties esto se llama est es el texto Esto es lo de menos pero momento que levante esto para ver mejor text es que podría cambiarle el nombre en el código pero no quiero ui Sí por eso es por eso que no pues mira me lo voy a quedar con el nombre que tiene y ya está porque por aquí debería estar viendo e sí voy a por la n no da igual me quedo J textfield No pasa nada y lo que quiero ahora es decir J es con mayúsculas o con minúsculas Pues con minúsculas Pero mira ya que estoy aquí Sí eso es J textfield lo cojo J textfield 1 punto y get t mayúsculas get text en cadeno con un carácter que por ejemplo va a ser un Pipe te acuerdas que es alt gr y el número uno es decir la barra vertical encadenó con j textfield TR y cco y esto último lo borro y al final voy a poner contrabarra n para bajar una línea si todo ha ido bien si todo ha ido bien Ahora guardo recargo le doy a Play Y si todo ha ido bien me voy a archivo me voy a Nuevo registro y hago lo siguiente quiero guardar a José Vicente guardar carratalá quiero guardar ves que incómodo lo de tener que quitar el texto ahora hablamos de esto ahora verás eh es info @ José viicente me sale un mensaje me oyes bien pues como te decía es un poco molesto que cada vez que entro en un campo tenga que quitar el texto ahora te enseñaré un truco para esto la verdad es que guay entonces Ah el correo del cliente Ah el email del cliente o sea bueno pues esto es el teléfono 1 2 3 4 5 yo que sé Uy 1 2 3 4 5 bien Ahora a continuación le voy a dar a inserta hago clic Y si todo ha ido bien si todo ha ido bien Ahora me voy al proyecto me voy a curso Java me voy a proyecto Java 24 veo que tengo un archivo llamado agenda txt y si AB el archivo veré que tiene José Vicente carratala info @josé viicente 1 2345 y me guarda los datos efectivamente bien el programa empieza a funcionar No es que se me ha implementado sino que realmente lo implemento yo o sea lo que quiero decir lo que te quiero decir con esto es que cuando te digo que lo implemento Yo quiero decir que yo he escrito ese carácter aquí pero yo poda haber elegido otro carácter entonces un estándar en Guardado de archivos es usar la coma Porque si uso el carácter coma lo que ocurre es que ese archivo adquiere el formato de coma separated values que es un estándar el problema está en que igual alguien al meterme el teléfono o al meterme la dirección o al meterme lo que sea me mete una coma con lo cual el sistema se raya porque no sabe cuál es la coma de dentro y la coma de fuera entonces lo que hago es utilizar el Pipe porque prácticamente nadie Escribe su nombre o su dirección o su número de teléfono con un Pipe vale o sea uso el Pipe porque es un carácter que nadie usa esa es la razón por la que lo uso pero hemos visto que hay un problema esto a ver funcionar funciona pero no es un programa muy limpio para empezar cuando le doy a archivo nuevo registro ahora pondré algo de texto Pero yo lo que quiero es que cuando haga clic ahí dentro automáticamente desaparezca el texto Quiero decirte con esto que yo vengo por aquí y yo meto lo que llama lo que se suele llamar un play holder vale es decir le meto el nombre y ahí aparece nombre entonces ahí pongo apellidos y ahora email no no O sea vamos a ver yo lo que estoy haciendo es que si me voy efectivamente estoy cambiando el código Pero qué código estoy cambiando Pues fíjate que yo no he cambiado el nombre de la variable lo único que he hecho es poner un set text se sigue llamando jtextfield pero he metido apellidos con lo cual no es un cambio muy grande claro ahora si hago clic dentro de nombre me voy a dar cuenta de que en events nosotros hasta ahora siempre hemos utilizado el action performed pero eh Hay un par de ellos que uno de ellos se llama Focus gain Cuando gane el foco es cuando hago clic y me meto dentro del campo y Focus Lost he perdido el foco es cuando salgo del campo entonces de las muchas acciones que puedo meter dentro de tal no quiero por ejemplo en este caso un mouse o no quiero cuando pulso una tecla sino lo que quiero es Cuando gane el foco lo no en inserta sino ya veremos un ejemplo donde podamos hacer eso Por ejemplo un ejemplo donde yo esté insertando un email y mientras yo voy pulsando las teclas a tiempo real se vaya a la base de datos y me diga eh cuidado ya hay alguien que tiene este email o sea es un evento en el que el programa está controlando tecla a tecla lo que yo estoy pulsando un momento eso sí que lo vamos a ver ahora per pero ahora mismo ahora verás eso que acabas de preguntar lo de comprobar que en el email lo que ha puesto sea un email eh eso se llama saneamiento de Campos y ahora verás que nos da pie a enseñarte otra cosa que se llama eh expresiones regulares donde las expresiones regulares nos permiten saber si algo es un email o no lo es ahora verás entonces voy a elegir el jtex Field Focus game y donde pone jtextfield Focus G le digo jtextfield punto set text y le pongo un String vacío Por qué Pues porque así cuando hago clic claro lo que quiero es que cuando aparece cuando le doy acertar nuevo registro hago clic en el campo de nombre y automáticamente se vacía y entonces yo ya puedo poner el nombre que quiera Juan no lo voy a hacer para los otros tres porque si lo he hecho uno y pillas cómo se hacer para los otros tres López eh prueba voy a meter un correo mal y un teléfono y entonces ahora lo que ocurre es que si le doy a inserta lo inserta pero ni me aparece algún mensaje de Oye venga lo has insertado correctamente ni me vacía los datos cuando yo inserto un registro me debería vaciar los datos Vale entonces cuándo pincho inserta de hecho Fíjate que si me voy al archivo de texto compruebo como Ah Juan López prueba cuidado me ha machacado el anterior Por qué Porque nos acordamos New file writer eh yo lo que quiero es decirle que esté en modo append es decir que me añada Bueno pues no O sea debería haberlo hecho pero no entonces lo que voy a hacer un momento un segundo Java file writer append entonces Yo calculo que debe haber una sobrecarga del método vamos a ver Java append no Exactamente esto es boolean append Vale entonces el boolean append es la sobrecarga que estoy buscando entonces vengo por aquí digo true y ahora ejecuto y ahora pongo un registro tal cual ti inserto y ahora me voy al archivo y compruebo como ahora sí me ha insertado lo que yo quiera Pero insisto Fíjate que sí solo yendo true pero ya te digo porque lo Pon así la documentación O sea no porque yo lo diga el peligro de esto Es que fíjate que yo ahora le puedo dar inserta varias veces y lo que es que en el archivo me lo ha insertado varias veces Vale entonces yo lo que voy a hacer yo lo que voy a hacer Es que aquí donde he puesto el aquí esto lo copio aquí mismo después del trycatch puedo hacer un J Tex Field 1 2 3 y cu esto que estoy haciendo No es muy recomendable pero como cuatro cosas que son Realmente lo mismo quiero decirte que es legal vale No suelo utilizar esa sintaxis pero como están separados con punto y coma técnicamente se pueden usar técnicamente se pueden utilizar Entonces por cierto qué fatal he hecho esto con el programa todavía corriendo esto no habría que hacerlo nunca sí ha sido un descuido Entonces le doy otra vez a Play Y ahora fíjate que nuevo registro relleno relleno y al insertar me vacía los campos me vacía los campos como diciéndome venga ya Puedes insertar otro y además no estaría de más que metiera por aquí un Label fíjate un Label escondido y te digo Escondido porque lo que voy a hacer es que le voy a quitar el texto existe pero le he quitado el texto vale está ahí abajo me voy a source compruebo que existe compruebo que no me lo ha quitado J Label 6 vale Y ahora lo que voy a hacer es lo siguiente dentro de source dentro del botón pulsado le digo J Label punto set text y le digo Ok tu registro Se ha guardado correctamente y además voy a buscar otra cosa un momento en Java verás voy a intentar usar este. slip aunque tenga menos 29 votos al hacer esto evidentemente Me va a exigir que importe Bueno tengo un trycatch vale thre slip y debe haber importado la librería threed Aunque igual como estoy en un swing ya la tiene importada y lo que quiero es que después del thread slep después de dormir 3 segundos me borre el J lavel vamos a probarlo a ver qué pasa le doy a Play nuevo Pongo aquí una serie de cosas Pongo aquí una serie de cosas le voy a insertar Ah vale No si lo ha hecho pero el J lavel 6 claro a ver thread slip u copio pego de slip 3 Si no lo abandonaré porque ya te digo que es más que nada Un capricho es más que nada para que meta el texto y 3 segundos después lo quite inserta no hace el thread slip y luego hace pin Pam nada fuera pues Hala meto esto aquí quito el trycatch ejecuto y compruebo que nuevo registro inserto y dice ok tu registro Se ha guardado correctamente vale que es un poco lo que quería bien Ahora vamos a hablar del tema de saneamiento de base de datos yo por ejemplo no quiero que alguien pueda meter por aquí esto y que en email Uy esto qué era no email correo ya me he vuelto a rayar teléfono pues esto es el el teléfono del cliente vale No quiero que alguien cuando meta aquí un email lo pueda meter en cualquier formato que es lo que viene ocurriendo hasta ahora y simplemente lo meta ahí directamente Esto es lo que como ya te digo se llama saneamiento de Campos y hay múltiples formas de hacerlo por ejemplo vamos a la más sencilla que es la que tú habías propuesto que es realizar una comprobación de contains entonces la comprobación de contains es la siguiente es muy sencilla Yo vengo por aquí y digo Si en este caso es jtextfield 3 si jtextfield 3 pun get text punto contains ahí lo tenemos vale un char sequence y contiene por ejemplo en este caso la aroba cuidado aquí contiene la aroba en ese caso lo que voy a hacer es ejecutar todo este código que estamos viendo aquí en caso contrario el voy a poner un out printline no es válido voy a sangrar correctamente Ok probamos con el tabulador selecciono varias líneas y le pregunto aquí al tabulador y ahora me voy a archivo nuevo registro y Bueno le voy a dar directa ente porque eso no es un email válido inserta y me dice no es válido y de hecho Fíjate que en agenda no me ha insertado el último de hecho Fíjate que si quieres lo voy a borrar todo para que lo tengas claro eh Dónde está aquí Java aquí le doy a inserta me dice no es válido y comprobamos que en el archivo realmente no ha insertado nada pero sin embargo Yo vengo por aquí y digo email eh 1 l barra coma lkj paréntesis @ momin comom entonces claro eh eso evidentemente o sea valida Fíjate que le doy a insertar me dice ok tu registro Se ha guardado correctamente de hecho lo ha guardado Pero eso no es un correo válido los correos no pueden tener comas no pueden tener barras no pueden tener una serie de cosas Entonces voy a abrir un nuevo proyecto para enseñarte una cosa que se llaman eh expresiones regulares y ahora a continuación una vez que te enseñe las expresiones regulares lo que haremos es volver a este ejercicio y aplicarlas para realizar una validación mucho más fiable de cómo se valida algo Como por ejemplo un correo electrónico te voy a contar una cosa te voy a contar una cosa te voy a contar una cosa completamente cierta eh Ahora de hecho lo verás Vale ahora al principio vas a decir pues bueno pues Vale pero ahora en cuanto te enseñe Cómo es esto pues entenderás el chiste eh hace unos años una persona que conozco iba a asistir Como oyente a unas charlas de que organizaba Adobe y me dijo Me he apuntado a una que se llama expresiones regulares pero no sé de qué trata Y yo le dije buah eso es super interesante o sea pero Métete en esa de cabeza pero Mola mogollón y entonces la persona al día siguiente eh Me dijo Oye menuda putada que me has gastado no y yo eh Por qué Y me dijo Mira o sea fueron dos horas de charla que yo me quería cortar las venas o sea yo me quería morir y yo pero qué me estás diciendo si las presiones regulares son lo más Guay del mundo Entonces claro las presiones regulares son lo más guay del mundo cuando las necesitas pero si no las necesitas son un infierno son un como para qué estoy estudiando Esto vale entonces es lo que vamos a hacer a continuación voy a dejar este proyecto un momento aparcado voy a crear un nuevo proyecto para no mezclar de momento los dos este es proyecto Java 25 y vamos a hacer algo que se parece mucho a lo que acabamos de hacer en cuanto al contains pero el contains básicamente me permite ver si una cadena contiene otra pero no me permite mucho más allá entonces para ello lo que voy a hacer a continuación es lo siguiente vamos a ver voy a crear un pattern es decir un patrón llamado patrón es igual a pattern compile Y en este caso escribo algo digo Pues mira como me está abendo zumo de frutas sabes pues mira coco pues Hala y ahora pongo un modificador que es pattern punto y Case insensitive Hay un montón por el Case cas insensitive este de color este que está negrita vale bueno evidentemente Ah digo esto lo ha hecho sin que yo me haya dado cuenta digo evidentemente me tendría que decir necesitas importar java.util.set punto matcher y creo una frase que es el zumo que me he puesto tiene Coco y piña pongo Coco y piña primero porque es cierto y segundo porque no quiero que coco se quede como última palabra y que pienses que solo va a pillar coco si está en la última palabra vale quiero que esté en el medio de la frase Aunque podría piña ahora verás también vale No pasa nada eh evidentemente Ahora sí botón derecho añado importación para ser de métodos Vale y uno de ellos es fine importante el que veas que la variable es de tipo buano porque lo he encontrado es verdadero o es falso cosa que desde el punto de vista de la Inteligencia artificial pero no estamos hablando de hoy de ello Es un error muy grave porque en ciertos en ciertas disciplinas como la Inteligencia artificial nada es verdadero o es falso por tanto el tipo booleano es un tipo que se rumorea que con los años dejará de tener tanta efectiv Pero bueno lo digo porque de Cara a futuro Parece que la lógica difusa es aquella en la que algo No es cierto o es falso sino que es mayormente cierto mayormente falso pues parece que va a ganar puntos pero bueno de momento tenemos ahí elan y entonces yo ahora digo si encontrado en ese caso pasa algo y si no pasa otra cosa Vale entonces pongo el pongo System punto printline y pongo sí que se ha encontrado punto y coma y a continuación pongo no se ha encontrado ejecuto el programa Y en este caso me dice sí que se ha encontrado si quito Coco y pongo piña me lo reconoce Igualmente si pongo manzana no hay manzana dentro de esa frase y por tanto no que se ha encontrado no se ha encontrado es Case insensitive lo cual quiere decir que si yo pongo Coco y aquí pongo Coco con minúsculas me sigue dando correcto porque es insensitive pero si pongo Case no está el sensitive lo de dejar insensitive Pero hay un cas sensitive que sí que pilla mayúsculas sí que tiene en cuenta ahí como podemos ver las mayúsculas bien Esto no es muy impresionante ciertamente porque básicamente lo que he hecho es buscar una palabra pero ahora continuación vas a ver cómo podemos realizar búsquedas mucho más complejas a continuación voy a crear el proyecto Java 26 voy a copiar básicamente este código se me van a copiar automáticamente las importaciones ahí las tenemos bien y esto que has visto aquí realmente no es todavía una expresión Regular o lo que es lo mismo es la más sencilla de las expresiones regulares entonces para ello a continuación lo que voy a hacer es buscar en internet y te lo digo buscar en internet porque ahora verás pongo regular expressions y eh pongo email y entonces he entrado en una página Bueno de hecho una página que se llama regular expressions info y me dice que esta expresión regular cuadra cualquier eh cualquier email address vamos a verlo vamos a ver si es cierto o no pinchamos lo pongo aquí Este es el motivo creo que ahora empezarás a entender el chiste por el cual mi colega decía que esto era un infierno Eh creo que se me ha pegado mal Sí porque Ah sí espera se me ha pegado con dos barras no sé si es correcto o no voy a quitarlas vale Qué pasa Ah sí no es correcto vale Okay déjame que ponga aquí esto así sí Ok vale Y ahora qué pasa otra barra ya muy bien Necesito poner ahí String correo es igual a esto de aquí y claro Necesito que el programa pueda escapar si pongo una doble Wow esta Qué es me dice que no la coge un segundo y voy a ver cómo puedo meter expresiones regulares con ese bien Ahora una vez que tengo estaa expresión regular ahora correctamente en la pantalla voy a darle a Play me dice no se ha encontrado o más que no se ha encontrado en este caso Esto sí que es un email y esto no es un email entonces a continuación le vuelvo a dar evidentemente me va a decir esto no es un email y ahora vengo por aquí y digo info @ jarsa comom guardo recargo y me dice esto sí que es un email ahora digo info coma barra tal Y quizás ahora me valide y me diga que esto no es un email pero si digo jocars 2 @gmail.com me dirá que esto sí que es un email Entonces te cuento lo que ocurre en este caso es que esto que estás viendo aquí esto que estás viendo aquí es una expresión regular que a continuación te voy a desgranar esto que estás viendo aquí es una expresión regular que si te fijas tiene tres bloques los bloques principales en este caso vienen separados por estos corchetes esto es principio de la cadena esto es final de la cadena No porque yo te lo diga sino porque ahora te voy a sacar una chuleta para que sepas el Qué es cada carácter Entonces esto lo que dice es que este bloque admite caracteres de la A la z o sea a- Z números del 0 al 9 admite puntos y en principio parece que admite también estos carácteres no sabía que un correo electrónico admitiera este carácter de aquí pero por ejemplo guion y gu bajo sí que sabemos que admite Según esto sí no lo había visto nunca Pero bueno no lo sé no voy a desconfiar de momento a esto al nombre del correo electrónico se le añade una arroba y después de la arae puede venir El dominio y El dominio admite letras de la A la z números del o al 9 punto para subdominios y el signo del guion y a esto se le añade un punto el punto com digamos y esto Solo admite caracteres de la A la z entre dos y seis caracteres Claro tú dirás y esto de dónde ha salido pues entonces yo ahora vengo Sí claro por supuesto y ahora vengo por aquí y digo mira jarsa 2 jarsa porcentaje entonces vengo y me dice esto sí que es un email pero yo vengo y le quito el porcentaje a la expresión regular y por tanto yo ahora le doy a Play y dice que esto ya no es un email porque ya no cumple la condición entonces verás yo me voy a venir por aquí dentro de que esto no es un curso de expresiones regulares porque esto daría para un curso entero Vale y igual es algo que tampoco usas tantas veces pero desde luego tienes que saber que existe entonces yo voy a venir por aquí voy a poner regular expressions cheat sheet que es como una hoja de trucos una hoja de trampas entonces vengo por aquí y en internet encuentras un montón de hojas como estas es un momentín la voy a abrir vale Y me dice De hecho voy a abrir el text edit y me dice que efectivamente ese carácter de ahí es el carácter de principio me dice que vamos a ver por ejemplo ahí donde vea unas llaves Busco las llaves a ver String replacement e vaya me fastidia es que justo ese no va a estar bueno Pues justo ese no está Mira por ejemplo en este caso me dice que coge a- q es letras mayúsculas de la A la q cer s me dice dígitos del cer al s vale Para que veas un poco y ya ves que chit más cutre que no lleva esto realmente en este caso se lo está saltando porque yo aquí podría poner a Z yo creo que me lo está cogiendo Igualmente Ay perdón aquí no a Z Ah claro claro colega porque es cas insensitive Claro en este caso por eso decía yo no debería estar funcionando pero si en este caso al ser cas insensitive lo está pasando todo a minúsculas si no fuera ese el caso pues simplemente meto a Z y asunto solucionado o sea que no pasa nada de hecho es que el correo electrónico en sí es Case insensitive Quiero decirte con esto que el correo electrónico en sí mismo no distingue entre mayúsculas y minúsculas con esto Ahora ya podemos Volver al ejercicio anterior y podemos aplicarlo para validar si es un correo electrónico Vamos allá a continuación Yo vengo por aquí me copio Esto me lo pego dentro de proyecto Java 25 no aplicación y ahora Claro tenía aquí este If voy a hacer una cosa Ahora verás fíjate voy a poner bullean pasas es igual a true y ahora voy a decir valido el correo electrónico importo las librerías y ahora digo correo es esto patrón es J textfield 3 punto get text con lo cual esta parte de aquí esta parte de aquí la voy a eliminar no la voy a eliminar voy a decir si esto es cierto pasas es igual a true si esto es falso pasas es igual a false Si pasas en ese caso escribe me voy ahora a ejecutar archivo nuevo registro inserto y me dice no es válido pero en el email introduzco @ jocar.com.mx es correcto J textfield 3 es el tres No lo sé vamos a verlo claro a ver espera es este Entonces el correo no lo puedo eliminar esto es el correo Esto va aquí y esto es el correo ahora sí Entonces le diy a Play ejecuto no inserta info @ jocar.com.mx lo que puedo hacer es realizar diferentes validaciones Esta es la validación de valido el correo electrónico pero en un formulario no solo suele haber una validación suelen haber más validaciones por ejemplo eh voy a hacer una muy importante ahora verás que es Java regular expressions sql injections Y ahora te cuento lo que es el esto vamos a ver pues mira no un momentín voy a una expresión regular que en este caso va a hacer la va a hacer algo parecido es lo siguiente valido voy a decir por ejemplo el nombre y voy a decir String nombre patrón dos frase 2s patrón dos encontrado dos frase dos porque si no me da error en este caso lo que voy a hacer es este String y quiero poner la palabra delete y quiero poner la palabra truncate Así que a continuación If encontrado 2s J text Field 1 y lo que voy a hacer es buscar si es cierto que dentro de ese campo hay un delete o hay un truncate en base eso pongo pasas true O pasas false le doy a Play me voy a crear un nuevo registro inserto y no es válido Ah sí claro bien okay info @ jara.com Pero inserto y me dice Bueno no es válido tampoco no es válido tampoco en principio parece que esto no está funcionando delete Ah claro claro es que es al revés o sea pasas es igual paro el programa pasas es igual a false pasas es igual a true es decir el problema es que los encuentre si encuentra estas palabras Eso es malo es al revés vengo por aquí vale Y archivo nuevo @email.com pero ahora pongo esto y me dice que inserta un registro pero ahora aquí pongo delete y un correo electrónico válido le doy Ah voy a insertar un registro no me lo está cogiendo he cogido delete a ver truncate voy a insertar un registro lo cual me extraña bastante más tengo muy claro si lo ha hecho ha metido truncate ha metido delit vale Eso quiere decir que tengo que afinar más esto pasas es igual a false Ah cuidado claro como he escrito bueno no un correo electrónico bueno no sé No sabría decirte pero el caso es que de esta forma creando una variable poniéndola a prueba y luego al final viendo si la variable pasa la prueba o no lo que podemos hacer no es una sola validación sino múltiples validaciones lo cual como te puedes imaginar es mucho más cómodo vale a ver esto que acabo de hacer se llama inyecciones sql entonces inyección sql evidentemente sirve para que hay personas que cuando ven un campo meten algún código de sql a ver si de paso se te consiguen cargar la base de datos que en este caso no estamos usando base de datos pero podríamos estar usando base de datos Vale entonces eh ese tipo de saneamientos sirven para precisamente tener cuidado y exacto y que la gente no te meta ese tipo de códigos vale bien continuemos eh No voy a hacer todo el ejercicio porque hay una parte que te voy a poner como deberes pero sí que hay una parte que quiero hacer por lo menos porque es una parte que no he ilustrado y quiero que veas cómo se hace que es que voy a poner un panel otro panel y ese panel es el de resultados de la búsqueda dados de la búsqueda resultados de la búsqueda esto es listado estado es el dónde estás el menú it 4 Sí pero el número cuatro Eso era lo que no encontraba entonces me voy al source y vamos a ver ahí donde pone el item 4 me voy a j panel 2 Creo que es lo he creado y no me he fijado J panel 2 sí J panel 2 true y evidentemente ahora me voy a ir al resto y voy a ir pegando voy a ir pegando voy a ir pegando voy a ir pegando qué es lo que hace esto otra vez me he dejado el programa abierto pues esto lo que va a hacer Es que vengo por aquí resultados de la búsqueda Sí porque al principio del todo el J panel 2 tiene que estar escondido ejecuto y ahora vamos a ver que es cierto Que de momento no se ve ninguno si le doy a Nuevo registro tengo nuevo registro si le doy a listado tengo resultados de la búsqueda nuevo registro listado y por tanto sin necesidad de hacer el resto de elementos ya tienes una metodología mediante el cual mediante la cual puedes crear una aplicación en Java con múltiples pantallas ahora dentro de resultados de la búsqueda básicamente lo que voy a hacer muy sencillo es crear un botón el botón va a decir Dame los resultados y ahora te acuerdas de antes que por accidente he utilizado un text área pues voy a usar ahora un text área de verdad porque ahí es donde quiero meter los resultados de la búsqueda el resultado de la búsqueda lo que va a hacer básicamente va a ser leer del archivo Y devolverlo en donde toque vengo aquí le pongo un evento el evento es action performed ahí lo tenemos y ahora voy a este texto se llama J text Area 1 y le digo J text área 1 pun set text y digo esto es un texto que vas a recibir guardo ejecuto me voy a archivo listado Dame los resultados Este es un texto que vas a recibir con lo cual ahora evidentemente como te puedes imaginar voy a el proyecto de Java 16 voy a este segundo trycatch voy a aplicación esto aquí escáner sí esto lo puedo ya mutear y ahora a continuación lo que hago es que abro agenda. txt y voy a hacer lo siguiente String longaniza es igual a nada y ahora lo que hago es longaniza más igual a lector nextline con lo cual por último jtextarea set text longaniza vamos a verlo archivo eh listado Dame los resultados y ahí empezamos a tener los resultados claro hace falta formatearlos evidentemente entonces en primer lugar lo que voy a hacer es formatear estos resultados y vamos a ver qué podemos encontrar por aquí lo primero es que Eh quiero reemplazar los eh los pipes entonces vengo por aquí y digo longaniza es igual a longaniza Replay y Oh regex bueno va a ver si hay suerte y digo Quiero buscar los pipes y aquí y en longaniza Creo que no va a funcionar porque creo que me va a decir que esto no es un regs eh válido pero vamos a probarlo Ah mm no quieto cuidado no Esto está mal y esto lo quiero reemplazar por un carácter de espacio Ahora sí vale vengo por aquí eh el listado Dame Oh Wow sí vale Bueno pues casi entonces casi vamos a eh A ver es un regular expression entonces a ver Java regular expression Select pipes esto es madre a ver un momentín Mientras tanto yo también lo que voy a hacer Es que voy a poner un contrabarra n esto de momento lo quiero quitar vamos a ver lo que quiero asegurarme es que me mete una nueva línea al final de dar resultado Ahora sí y ahora lo que quiero es introducir esto introducir el reemplazar el carácter por lo que sea vamos a por ello vamos a ver eh Java replace One char no replace pero replace tiene el problema verás vamos a ver si pongo replace Oye ah no replace punto replace vamos a ver claro tengo espera New char igual este me vale entonces all char es este New char es este a ver si hay suerte y no tengo que hacer nada más Ojalá tiene pinta de que sí y ahora le doy a listado resultados vale fenomenal Y este no sé si es una l o qué Pero bueno por lo demás bien Ahora importante Fíjate que el último es truncate con lo cual me voy a archivo nuevo registro José viicente carratala después de apellidos email @email.com teléfono número inserto y si ahora me voy a listado y le pido los resultados fíjate que ahora me llega hasta esa última línea que he creado o sea es una aplicación es dinámica realmente me está cogiendo los resultados que tocan realmente me está cogiendo lo que debe vale con lo cual ya tengo esta aplicación por aquí puesta para que Eh pues podamos empezar a trabajar vale para que podamos empezar a crear una agenda de clientes en la cual pueda pues eliminar que me diga Cuál quieres eliminar pues selecciónalo y lo eliminas o pueda actualizar que me diga carga uno lo metes en los campos actualizas y luego lo guardas En definitiva gracias a esto podemos ya tener una aplicación mediante la cual podemos ya generar una aplicación empresarial completa claro eso sí fíjate que para hacer cualquier chorrada Fíjate lo que nos cuesta o sea Fíjate que el código de la aplicación se va extendiendo pero sí por eso te digo que en estos casos donde yo me estoy ha la misma aplicación Pues paso de gastar tiempo en swing que me lo haga el asistente yo me meto directamente el grano con lo que toca Pero hay otras veces sobre todo si esta aplicación fuera para un pin Pam pum para un cliente que pin Pam pum y ya está pues lo hago así claro cuando una aplicación es una aplicación ambiciosa y es una aplicación que se va a utilizar a lo largo del tiempo es cuando digo mira Igual me muero haciendo los formularios yo a mano pero es que si la aplicación va a vivir imagínate 10 años vale la pena es un esfuerzo que igual te cuesta 5 horas de hacer más pero 5 horas para asegurarte que controlas el código de un programa con el que vas a trabajar los siguientes 10 años esas 5 horas valen la pena vale por eso no te digo nunca que sí o nunca que no sino depende un poco del caso en el que estés Vale y ahora vamos a empezar ya el ejercicio que continuaremos el próximo día acerca de Java Enterprise porque yo ahora mismo no puedo trabajar con la parte de Java Enterprise con la parte de apach tomcat pero sí que puedo empezar con las vistas en este caso son los formularios en formato html eso sí que lo puedo hacer voy a cerrar en este caso netvn y cuando digo cerrar netvn lo que quiero decir es que cuando hago un nuevo proyecto netv no está preparado para trabajar en html de hecho Quiero que sepas que yo al principio me descargué el bundle del jdk más net beins pero si me meto en netbeans si me voy a netbeans.org y me voy a Download de hecho veré que hay diferentes versiones de netbeans vamos a ver si pero no net beans 8 vale net beins 8 o descarga net beins lo que quiero que veas Es que le doy a Download Ah bueno netbeans 8 versions y hay una versión de hecho reles s hay una versión de hecho que es netbeans para trabajar con tecnologías web pero no hace falta porque como ahora Verás yo voy a trabajar yo voy a trabajar con un programa que se llama brackets que lo encuentras en la web brackets.io Este programa lo voy a utilizar para la parte de html para la parte de Java Enterprise usaré otro programa que como te he dicho antes se llama eclipse entonces para ello voy a cerrar por aquí voy a cerrar n beins voy a cerrar esto voy a esto fuera es un editor de texto Efectivamente es un editor de texto que está optimizado para trabajar con lenguajes de programación en el sentido de que es capaz de colorear el código para detectar si es cometido un error o no lo has cometido por ejemplo efectivamente también se puede trabajar con visual Studio code o sea brackets no es el único programa con el que se puede trabajar es uno yo Más que nada porque brackets es más ligero que visual Studio code pero se puede trabajar perfectamente con visual Studio code entonces voy a abrir brackets voy a Okay voy a cerrar todo voy a crear un nuevo archivo lo voy a guardar como no guardar ahí escritorio curso de Java Enterprise y lo voy a guardar de momento como Index html cuidado se me ha guardado mal Index html Dentro de este archivo es donde voy a crear la vista que es el formulario que más del que más adelante Java Enterprise recogerá los datos y me permitirá meterlos en una aplicación para eso tengo que eh trabajar en primer lugar con un archivo html que es este creo una etiqueta que se abre y se cierra llamada html a continuación creo un Head y creo un Body Esta es la estructura mínima de un archivo html y a continuación lo que voy a hacer es un formulario creo un formulario y le digo que el método es post ves que hay dos métodos uno es get y otro es post El get es más cómodo el post es más seguro Entonces vamos a usar post y le voy a decir que el action es igual a procesa jsp que es un Java server page o En definitiva eh un archivo mediante el cual podemos trabajar en Java la información que recogemos del formulario este archivo procesa jsp todavía no existe lo crearemos el próximo día ahora de momento yo lo que puedo hacer es insertar elementos de formulario para insertar los elementos de formulario pongo un input de tipo fíjate la gran cantidad de elementos de formulario que hay voy a text que es el más sencillo name es igual a nombre y voy a poner placeholder es igual a introduce el nombre si yo ahora cojo esto y lo abro esto lo puedo tirar a la papelera y lo abro con un navegador web Porque evidentemente si hacemos un archivo html es porque lo vamos a abrir con un navegador web tú verás que yo tengo aquí un campo en el cual puedo meter información es como los formularios que estábamos haciendo dentro de swing Pero esto sí que se pueden ver en una página web de hecho igual que poníamos antes el Label pues podemos poner un p introduce el nombre del cliente guardo recargo introduce el nombre del cliente yo puedo repetir esto para que si quieres hagamos un ejercicio muy parecido al que hemos hecho anteriormente esto es apellido esto es email y esto es teléfono guardo recargo y ahí tengo un formulario donde puedo meter el nombre puedo meter el apellido puedo meter el email y puedo meter el teléfono al final de todo voy a poner un input type submit enviar con el valor enviar para que cuando hago así déjame que ponga un br es un bar return es un salto de línea para que cuando ponga esto el nombre apellido email y el teléfono del cliente le doy a enviar me va a dar un error que lo sepas me va a dar un error de no se encuentra porque se va a ir a procesa jsp le doy a enviar y me dice no se ha encontrado procesa jsp no se ha encontrado tu archivo Pero esto evidentemente es normal esto que acabo de hacer por tanto es la vista de una aplicación H ML con Java Enterprise evidentemente Eso está muy bien porque si yo ahora creo lo voy a crear pero realmente es para nada porque no tengo el servidor montado Pero si yo ahora creo el archivo procesa jsp aquí procesaré los datos no tengo ni idea de qué es lo que va a pasar Pues mira lo ha reconocido apalo seco vale o sea texto tal cual vale Pero esto lo que nos va a hacer es que Index no tiene lenguaje de programación en Java y por tanto Index no es más que un formulario Index no Calcula Index no hace nada Index lo único que hace es tener un formulario recoger los datos Y pasárselos esto se llama la vista a quién se los pasa a jsp no será html jsp será Java Y qué hará Java lo que hará Java es recoger los y procesarlos o los meto en la base de datos o miro a ver si el correo es un correo o no lo es o hago mogollón de cosas más que puedo hacer Y por último si los datos están correctos y cumplen con el modelo los meterá dentro de la base de datos vale por tanto esta es la primera parte del ejercicio que haremos el próximo día con el servidor de Apache tomc de Java Enterprise para poder crear nuestros propios archivos jsp Mediante los cuales pues podremos utilizar Java podremos programar en Java pero ejecutándola web digamos que html es lo que sería como swing y Java es lo que sería como Java realmente