eh vamos a ir empezando desarrollo de interfaces donde en este caso en desarrollo de interfaces pues tenemos una oportunidad muy buena digamos con lo que estábamos creando al principio de la tarde para hablar de validadores Vale entonces vamos a ver vengo por aquí vamos a cerrar cosas vale cierro por aquí esto y me voy a ir a hedit y dentro de hedit me voy a ir a dam me voy a ir al segundo desarrollo de interfaces vale Y en desarrollo de interfaces vamos a ver teóricamente estamos en creación de informes vamos a estar aquí vamos esto es Ah mira formularios aquí está lo que estaba haciendo el otro día bien Vamos a hab hablar de filtrado de datos entonces voy a crear Bueno un archivo nuevo 001 validador html Aunque de momento no va a tener un validador y eh voy a hacer lo siguiente vamos a ver html Head Body y aquí lo que voy a hacer es crear un input type text claro qué ocurre que html no tiene un validador de dnis por ejemplo tiene texto tiene número tiene correo electrónico pero no tiene dni vale Así que yo a continuación lo que voy a hacer es lo siguiente type text y voy a decir que validador es igual voy a hacer otra vez una vez más jv validador vale Y validador es igual a dni Así que a continuación me voy a crear un Script me voy a crear un Script y voy a hacer lo siguiente eh vamos a ver vamos a seleccionar todos aquellos inputs que en un momento dado tengan el la propiedad validador para ello voy a hacer un document query selector y voy a hacer lo siguiente vamos a ver document query selector no js selector all elements all input elements with jv validador property vale quer selector all bueno Vale pues selecciono elementos vale entradas y ahora filtro vale vamos a ver validadores y digo entradas pun filter input es igual a jv validador no es igual a undefined vale entrada es igual a entrada J validador undefine Así que ahora Vengo por aquí y digo console.log validadores si todo va bien me voy a local Host me voy a segundo me voy a desarrollo de interfaces me voy a no me voy a creación de informes filtrado de datos validador vale Y me vengo aquí me voy a console y dice array de cero vale jv validador un momento input vale No es cero input jv validador entradas es esto vale es un no list que tiene un elemento pero validadores no okay a ver en qué me he equivocado Okay Ah get attribute vale Venga pues me sirve vale console log validadores y ahora sí me dice que tengo un input bien esto quiere decir que para cada uno de los elementos esto es validadores forage eh function validador evidentemente estoy desarrollando esto en modo directo y luego por supuesto lo tenemos que convertir en una librería como ya os podéis imaginar Y entonces digo lo siguiente vamos a ver validador punto onblur es igual a function y console pun log te ha salido del campo bien voy a poner un input que no tenga un jv validador un input normal para comprobar si es cierto que cuando me salgo de este input no pasa nada pero cuando me salgo de este input dice te ha salido del campo vale para que solo va a validar aquellos que tengan la propiedad de jv validador ahora a continuación 002 eh seleccionamos el contenido vale Y el contenido va a ser console.log dis value Así que recargo el número dos y pongo AAA me bajo y dice que el contenido es AAA esto quiere decir que ahora a continuación Por ejemplo yo lo que puedo hacer es tomar ese dato y convertirlo en un dni vale tomar digamos el dato que haya seleccionado vale para comprobar que tiene el formato correcto de dni Así que para esto ahora a continuación momento vengo por aquí y 003 cambio el formato y digo vamos a ver js given String Claro En qué formato tendrá el campo Pues mira por ejemplo vale js check If a String has eh format 1 2 3 4 5 6 7 8 letter numbers Plus one letter vale regular expression Okay y el regular expression en este caso es el siguiente el regular expression es desde el c hasta el 9 multiplicado por ocho Campos y luego una letra de la A la z mayúsculas y minúsculas no solo mayúsculas luego por cierto podríamos hacer un validador que realmente calcule que la letra corresponde a esos números Pero bueno es otro tipo de validador para ello yo ahora digo r return vamos a ver vale Y digo If regex text dis pun value en ese caso nada Else vamos a ver voy a decir dis Style punto background es igual a Green en caso contrario this Style background es igual a red de momento si hago esto ahora a continuación recargo me voy al tres y pongo un validador Vale ahora pondremos algún tipo del tooltip podemos poner aquí e caray Ah estoy intentando recordar el tooltip por defecto ahí va Ay html default tooltip property ya pero title esto no me salía vale title es igual a introduce un dni XX o sea 1 1 J letra vamos a verlo recargamos vale para que cuando pongo madre Espérate que me ha faltado se ve poner aquí vale me acerco introduce un dni en el formato número men número letra vale Y ahora a continuación momentín unexpected token Hay un problema ahí función vale regex value vale Dónde está el error función validador Ah cuidado Vale aquí falta un paréntesis Okay bien pongo 1 2 3 4 5 6 7 8 H hago así y dice verde pero si yo hago así me dice rojo vale evidentemente en lugar de hacer esto sabemos que es mucho más elegante sabemos que es mucho más elegante hacer un Style voy a ponerlo 004 con clases y voy a decir Ok es igual a background rgb 2552 y Ko es igual a Crown 255 200 de tal forma que dis classlist ad Es OK y dis classlist punab es igual a c vamos a verlo pasamos con lista vale pongo unos números y no es OK Pero un 2 3 1 2 3 y una letra claro cuidado porque en este caso Class Ko Ok Vale tengo que decirle que dis Class dis remove Ko y this Class List remove OK Para que me quite la clase anterior y me ponga la clase nueva es decir esto es un error pero esto es correcto vale con esto ya veis que vamos teniendo eh un archivo javascript donde en este caso pues lo convertiremos en una librería Y tenemos una clase Que también o sea un estilo que lo convertiremos también en librería antes de ello estamos probando que solo tenga la clase validador vale Pero además de ello vamos a ver aquí 005 validador dni Entonces eso quiere decir que If disg attribute jv validador es igual a dni en ese caso Vamos a hacer todo esto de aquí abajo vale pero si no O sea si no tenemos otro tipo de validador muy bien esto quiere decir que ahora yo puedo Eh bueno esto claro Qué pasa que ahora quiero validar otra cosa diferente qué otra cosa podría validar Qué Se os ocurre vamos a ver un Ivan vale por ejemplo vamos a hacer un Ivan que es también el típico caso y ahora vengo por aquí y digo 006 validador Iván si es un Iván Ahora vengo por aquí y validador Iván introduce un Ivan Claro En qué formato tiene que ir un Ivan chat gpt En qué formato tiene que ir un Iván un Ivan debe seguir un formato internacional estándar vale fantástico que es el formato este de aquí vale pues lo que sea bien entonces a continuación yo hago así vale Claro pero tío pero entonces o sea ejemplo de univar en España ya vale sin espacios ni caracteres especiales el formato técnico debe ser una cadena continua vale vamos a por esto así que Eh vale pues js regex para validar un Iván en este formato casi que lo podemos hacer copiando el anterior Pero bueno Porque será de la A la z dos caracteres y del 0 al 9 No sé cuántos caracteres vale esto de aquí Ah Es bueno es o sea solo en España Pero vale me vale bien con lo cual yo ahora vengo por aquí y Else If esto de aquí y esto de aquí Else If Iván en este caso regex es esta cadena de aquí y dis pun value no sé qué no sé cuántos y vosotros diréis Espérate que esta parte se repite bastante Y si esa parte se repite bastante es que vale lo tenemos que cambiar bien Vamos allá yvan válido Okay en ese formato vamos a verlo vamos a validarlo validador Iván bien Y entonces hago así introduce un dni vale un 2 1 2 3 letra y es correcto Vale ahora introduzco unos números no es correcto introduzco más números no es correcto pongo es Mira sabes que voy a validar este mismo pongo es y me dice que es correcto daos cuenta Como cada validador está funcionando de forma diferente Es decir cada validador de forma diferente Y de forma independiente es lo que quiero decir pero claro ahora en este caso si nos fijamos tenemos que este bloque de código se repite este bloque de código se repite lo único que cambia es el regex lo cual tiene toda la pinta de que voy a hacer una función esto quiere decir que 007 función de validar Y entonces vamos a ver vengo por aquí y digo fun regex le meto un parámetro es la expresión regular Y entonces aquí copio y pego voy a poner aquí mi regex aquí pongo mi regex vale queriendo decir que lo que hace aquí es esto y claro vale no voy a hacer como es una función ya sabéis que una función es una caja negra Vale y debe hacer un return con lo cual return true y return false vale por tanto vamos a verlo si esto es cierto claro el dis Class List vamos a ver dis validador dni a ver this get attribute dni en ese caso claro es que validar regex If validar regex es igual a Esto vale Yo sí que le voy a pasar sí que le voy a pasar esto sabes porque si no sí que tengo que repetir código Igualmente con lo cual coma elemento le paso el elemento le paso el elemento aunque sea un poco aunque sea un poco pecado desde el punto de vista de las funciones javascript pero es que en este caso me conviene vale esto es elemento elemento vale Y entonces ahora Ok vale validar de regex esto fuera validar de este regex el dis vale Y ahora sí vamos a probarlo tampoco las tengo todas conmigo que funcione a la primera pero ahora Este regex es el del Iván okay y ya está vamos a ver vamos a probarlo vuelvo recargo validar consola de momento Ok pongo rojo 1 1 letra es rojo también vale Ok por qué esto es un dni vale el caso es que me pone color rojo a ver clasco 1 1 1 letra interesante porque a ver regex es igual a mi regex eh No no dis value no Qué es dis value el valor vale dis coma dis pun value y dis pun value vale Y es valor entonces valor y ya Okay vamos a por ello 1 1 1 letra y me da verde pero si le quito la letra es rojo y ahora me pongo una serie de números y me da rojo y me cojo un Iván correcto eh quieto espera vale me cojo un iban correcto me lo pongo y me da verde vale lo que buscamos En definitiva es hacer el código más modular y hacer el código más reutilizable pero os digo más 008 switch O sea quiero que sea lo más ampliable que se nos pueda ocurrir vale por tanto get attribute validador y así lo pongo una sola vez entonces digo Case dni Vale pues en ese caso validar con esto ahora Case Ivan pues en ese caso validar con esto y ya está si os fijáis la estructura switch Case creo que es que la estructura If Else If vale porque así esta longaniza del get attribute la pongo una sola vez y ya está lo cual quiere decir que ahora como os digo puedo ir ampliando todo lo que quiera vamos a pensar algún validador más que podemos poner vamos a ver no sé voy a preguntarle gpt quita vale Qué otros validadores interesantes para formularios puedo hacer con regex vamos a verlo correo electrónico vale No porque ya tengo un email número de teléfono vale Mola código postal Mira Mola contraseña segura Mola URL creo que tengo uno y de también vale Okay número tarjeta de crédito Mola dni ya lo tengo W direcciones IP también Mola Vale pues vamos a por ello si yo quiero ampliar esta librería 009 ampliar yo simplemente a continuación lo que tengo que hacer es lo siguiente correo electrónico No pero número de teléfono Pues bien vale Ok O código postal Mira pues si quiero código postal vengo e cuidado en el Case recordad que hay que poner un break si no tendremos problemas break Así que Case código postal fp Pues en validar me copio el regex lo pongo ahí y asunto solucionado Y si quiero validar más cosas he reformulado el código para que sea ampliable vale URL número de tarjeta de crédito pues Hala vale Case tarjeta crédito y pongo el regex y ahí lo tenemos Vale entonces a continuación voy a introducir un nuevo input validador es CP introduce un código postal y pongo Pues un 2 3 4 5 vale cinco caracteres Así que vengo por aquí recargo switch Eh Esto es un código postal esto Qué es no dónde estoy ah no switch no ampliar vale Y ahora aquí pongo un 2 3 cu me da error pero pongo uno más y me da OK Pero pongo uno más y me da error es decir estamos creando una librería que sea útil para eh poder digamos enviar toda esta información al servidor una vez que tenemos esto voy a hacer lo siguiente vamos a ver voy a minificar Porque recordad que lo que estaba recordar lo que estaba explicando al principio de la clase en cuanto a la seguridad vale para minificar voy a asegurarme que tengo puntos y coma en cada una de las líneas voy a asegurarme que tengo puntos y coma en cada una de las líneas y si esto es un for each que es una función debe tener un punto y coma aquí al final ahora veréis por qué nunca me han preocupado mucho los puntos y comas pero ahora hoy de repente me he vuelto un eso de los puntos y comas Vale y un punto y coma aquí muy bien una vez que tenemos esto ahora lo que quiero es eh meterlo como librería en la aplicación la que estamos desarrollando al principio de la clase de hoy por tanto vamos a ver me vengo por aquí me voy a segundo me voy a sistemas de gestión empresarial me voy a proyecto en proyecto voy a crear un proyecto más Hola Esto me desconecto dam segundo sistemas proyecto Vale y copio pego 126 validador formularios bien entonces me voy a formularios y aquí ejemplo me voy a crear una carpeta Li en Li me voy a crear una carpeta jv validador lo voy a aplicar los formularios también se podría aplicar directamente a la propia aplicación vale Pero hoy me interesa aplicarlo a formularios entonces aquí en lad me voy a crear un jv validador js y un jv validador css en el js pues me voy a todo esto y me lo copio y en el css me voy a esto ya ves y me lo pego ahora bien eh si ahora me voy al archivo principal a index.php ahora voy a hacer lo siguiente voy a decir Script eh voy a poner Script al final mejor src es igual a eh Live jv validador barra jv validador js y link rel es igual a Styles sheet href es igual a esto de aquí Pero acabando en css de esta forma continuación yo ahora me vuelvo a sistemas de gestión empresarial me vuelvo a Pro Pro proyecto me vuelvo a validar formularios me voy a formularios digo que F es igual a clientes Vale y tengo aquí el formulario de clientes que estábamos trabajando antes con lo cual ahora adapto el formulario para que haga lo que yo necesito Es decir me voy a formularios me voy a clientes y por ejemplo voy a poner jv validador es de tipo nada vale este va a ser el nombre de tipo nada apellidos de tipo nada email de tipo nada podría haber puesto el email pero bueno da igual y ahora a continuación digo nombre código postal tipo number mínimo cinco máximo cinco vale De hecho Mira voy a poner mínimo uno máximo 15 para que la gente se pueda equivocar valor de ejemplo pues por ejemplo 1 2 3 4 5 título eh código postal descripción introduce un eh código postal válido tabla clientes campo código postal que creo que no existe Pero bueno da igual código postal y jv validador CP ahora a continuación yo digo lo siguiente vamos a ver en la página principal en la página principal aquí en el input paro un momento el input arranco un momento el input y digo If valor jv validador no es igual a nada en ese caso jv validador espera eco jv validador es igual a jv validador vamos a verlo vamos a ver si es cierto recargo y tengo A bueno ahora modifico el css vale Y tengo que este campo de aquí no tiene un jv validador pero este campo de aquí tiene un jv validador que es CP voy a tocar un poquito el css para decirle que input type input email input number input email input number y ya vamos a verlo vale Okay bien a continuación ahí lo tenemos vale Ahí está si yo hago 1 2 3 4 5 valida correctamente si yo hago 1 2 3 4 5 6 no valida correctamente y me lo pone de color rojo vale lo cual qui decir en este caso que fijémonos como acabo de implementar El jv validador directamente dentro del campo de formulario Pero lo importante es que lo he implementado como una librería js lo cual quiere decir que para mí lo único que he hecho es por aquí arriba Perdón por aquí abajo implementarlo y claro luego utilizarlo evidentemente porque si no lo utilizo no puedo disfrutar de su funcionalidad bien pero sigamos pero vamos a ir un poco más allá porque antes he comentado que la seguridad era un factor importante cuando implantamos formularios y qué ocurre Pues que si yo hago así si yo o alguien vale a continuación dice Uy mira aquí hay un validador a ver qué están validando me voy a jv validador y cualquier persona puede ver mi código y si puede ver mi código puede empezar a saber de forma fácil exactamente qué es lo que está ocurriendo Vale qué es lo que están haciendo bien para ello una forma de hacerlo es la siguiente a continuación copio pego 127 ofuscar validador ofuscar un poquito vale no va a ser tampoco una ofuscación muy super mega elaborada pero una fusca sencillita que podéis implementar con poca con poco esfuerzo vale Yo aquí a continuación en formularios en aquí en Index Aprovechando que tengo eh Aprovechando que tengo Eh Esto Im bebido en el Script puedo decir php include y Eh include Esto de aquí lo cual quiere decir que ahora quito el Script y al hacer un include lo que va a ocurrir 127 lo que va a ocurrir me voy a formularios e quieto qué ha pasado a ver el código fuente vale en el Script Ah Sí perdón F es igual a clientes Vale y ocurre eso me voy al código fuente y en el código fuente lo que ocurre es que el código está embebido aquí dentro pero de paso que lo enevo yo puedo hacer operaciones al vuelo al everlo como Qué vale php get text file and remove bar returns and tabs and eco text bien entonces vamos a verlo Ok Ok Aquí está Vale entonces digo eco file get contents de path y en el path le voy a hacer un str replace un momento str replace de Espera esa quieto aquí str replace B esto de aquí si yo hago así es decir esto lo que hace es que te coge el contenido del archivo de texto y reemplaza el contrabarra r contrabarra n y contrabarra t por nada así que vengo por aquí recargo pruebo vale recargo y si me voy a ver el código ahora veo que el código hace esto una ofuscación muy de andar por casa vale lo único que he hecho es quitar los retornos de carro pero como podemos ver pues dificulta un poquito la lectura por parte de los usuarios vamos a ver que incluso lo podemos codificar más antes de ello comprobamos que sigue funcionando tiki tiqui vale de color verde y si pongo un carácter más pues de color rojo vale Okay pero ahora a continuación vamos a fuscar un poquito más a ver si nos deja 128 ofuscar más Bien voy a hacer alguna ofuscación of fusate more a ver qué me dice a ver qué me propone vale compresión de código puede estar bien eliminar comentarios me da igual eh reemplazar variables con algo más descriptivo vale uh Ah no a ver espera esto qu es aquí eh Uy no e el tema de compresión la verdad es que estaba bastante bien porque es sencillo de implementar No quiero agfy js a ver Esto sí que Ah no esto ya lo tengo no esto ya lo tengo Uh eso sí que Mola eso sí que Mola bastante me da un poco de miedo vamos a ver lo que pasa es que puede dejar de funcionar Porque si reemplaza el ae i o pero me reemplaza el aou de todo vale De for each me puede dejar de funcionar eh A ver momento ya pero eh Claro ya no va a ser que no va a ser que no bueno no pasa nada vamos con el tema del panel de control que nos habíamos dejado antes a mitad de hacer claro rer Worlds Pero va a ser que no vale Okay pues nada vamos a voy a eliminar esto y ahora vamos a 128 eh importar elementos y vamos a por ello en este caso en mi tabla de clientes tenía código postal vamos a verlo vamos a root vale Y en Root me voy a crimson me voy a clientes eh tengo código postal Oy Mira pues sí casualidad Vale pues vamos allá me voy a importar elementos me voy a formularios me voy a admin vamos a ver en forms clientes código postal es de tipo number y se mete en la tabla clientes en el campo CP vale esto quiere decir que ahora a continuación me vengo al 128 me voy a formularios me voy a f es igual a clientes Vale y José Vicente y carratala y info @ i12 345 bien intento detectado Ah no Uh límite mínimo en el J son es igual a vale dato enviado en el formulario ninguno Ah muy bien Por qué Pues no lo sé dato enviado en el formulario vamos a ver name código postal type number vamos a controlar esa excepción clientes código postal no creo que sea el espacio entonces José Vicente carratalá correo 1 2 3 4 vale Okay enviamos Ah vale pues sí que se ve que era el espacio bien Entonces ahora a continuación si yo me voy al panel de control panel php vale tenemos este que acabo de guardar ahora que si le doy A View momento si le doy A View veremos que nos lleva a código postal 1 2 3 4 5 Vale cuando le doy a action en lugar de action sería importar vale aquí donde pone action Pues sería importar dónde me lleva Pues a action.php me vo a llevar a importar php Así que voy a hacer un archivo llamado importar php Y el archivo importar php va a hacer lo siguiente en primer lugar tengo que lo que quiero importar vale vamos a ver lo que quiero importar vamos a recargar vale cojo importar me voy a importar php Y file es igual a este de aquí bien entonces me voy aquí archivo es igual a Doc barg F get file Así que bardum es igual a colección recargo nul vale vamos a verlo esto Ahora sí tengo el token tengo el formulario tengo el nombre tengo los apellidos tengo hasta el código postal ahora ación lo que quiero hacer es abrir el documento de clientes Así que archivo me voy a abrir y esto es forms voy a abrir manualmente clientes. Jason file get contents Y esto es eh vamos a ver Esto es colección y esto es formulario así que bardum formulario voy a hacer un eco hr vale para que claramente veamos dónde acaba una cosa dónde empieza la otra y entonces digo vamos a ver el en el formulario tengo vamos a verlo Ah no puedo verlo en Pretty print a ver sí vale en el formulario tengo nombre que tiene José Vicente luego por tanto aquí vamos a verlo tengo el nombre que un momento que te lo digo que debe mapear a la tabla de clientes a nombre con lo cual a continuación tengo que comprobar que esto de aquí es correcto es decir tengo que para cada uno de los campos comprobar dónde se mapea Cómo podemos hacer esto bien Vamos a ver for each colección as clave valor eco clave gu valor br Así que recargamos y por ejemplo vamos con el nombre con los apellidos con lo que sea vamos a ver nombre clientes Okay código postal lo que sea Vale ahora para cada uno de ellos debemos comprobar si existe dentro del otro array Así que comprobamos si existe dentro del otro array es lo que tiene que existir es esto la clave entonces for each dónde estás formulario cuidado as clave 2 valor 2 Vale entonces esto es claro un elemento porque esto tiene como podemos ver ahí dos elementos de profundidad Así que for formulario campo y ahora for each es que no es campo es entidad y ahora for each entidad as clave 2s valor 2 y entonces ahora digo si esto es Bueno realmente realmente es sí entidad de a ver entidad de nombre ahí sí entidad de nombre es igual a clave en ese campo en ese caso eco el campo existe vamos a probarlo no vale pues ahora vamos a decir eco entidad nombre br y punto y coma muy bien y ahora esto voy a poner un guillón token vale token no existe formulario no existe ahora nombre es igual a nombre vale en ese caso me deberí deía decir sí que existe apellidos es igual a apellidos en ese caso me debería decir sí que existe por tanto yo ahora digo a ver If entidad nombre es igual a clave es clave sí es igual a clave eco existe Okay vale Ahí lo tenemos esto fuera vale token no existe formulario no existe nombre existe apellidos existe email existe vale vemos que está buscando las coincidencias de estos elementos de aquí contra este Ray de aquí y si ya he encontrado la coincidencia en ese caso ahora puedo decir tabla es igual a entidad de tabla columna es igual a entidad de columna lo cual quiere decir que eco voy a insertar en la tabla y en la columna br voy a insertar el clave en la tabla y en la columna vamos a verlo recargamos y dice voy a insertar el nombre en la tabla clientes y en la columna nada vale vamos a ver por qué como llama esto se llama campo no se llama columna se llama campo recargamos e Hola eh Perdón perdón perdón vale para empezar esto es campo esto no está bien nombrado madre mía vale venga ok voy a insertar el nombre en la tabla clientes y en la columna nombre voy a insertar los apellidos en la tabla clientes en la columna apellidos vale de esta forma estamos mapeando el contenido del formulario ahora haremos demostraciones con el contenido del sistema Así que ahora a continuación Así que ahora a continuación voy a hacer lo siguiente Me conecto a la base de datos eh php mysqli insert into precisamente pdo no Esto sí pero no procedural Esto sí vale me conecto conexión es igual a local Host me conecto de momento me conecto muy manualmente sin archivo de configuración externo ni nada similar Me conecto a crimson me conecto password crimson dein crimson vale Y ya está ahora sql es esto de aquí claro Espérate porque Oh porque tengo que formatear vale venga Ok entonces digo petición es igual a insert into qué pues insert into bueno formulario tabla bueno formulario Esto es un a ver documentos Espera vale la tabla está aquí Vale pues insert into claro a ver la tabla estoy pensando Cómo realizar esta importación porque yo aquí podría hacer lo siguiente vamos a ver para que entendáis en lo que estoy pensando insert into tabla vales campo vale insert in tu tabla campo values y espérate voy a insertar el tal el campo y esto es el valor Okay lo probamos y vamos a comprobarlo bien insert into clientes nombre valius José Vicente bien insert into clientes apellidos valius carratalá bien insert into clientes email values vale e insert into clientes código postal valus lo que fuera en este caso yo lo que quiero es acumular estos datos y evidentemente importarlos de una sola vez Es decir no puedo hacer cuatro imports diferentes así que para no hacer cuatro imports diferentes voy a hacer una cosa vamos a ver campos es igual a Ray vacío valores es igual a aray vacío entonces Aquí voy a hacer campos de array es igual a campo y valores es igual a valor y por último tabla es igual a tabla si esto es cierto si esto va bien al final puedo hacer eco insert into tabla porcentaje o sea de esto de aquí vale vales estos de aquí eh Ok y ahora quiero por último un php implode coma as separator esto es vale tabla implode separador de la coma y el array es Campos y ahora lo mismo con los valores si esto va bien ejecutamos insert into clientes nombre apellidos email código postal vales tacat Trac tracatra vale aquí tenemos ya la petición sql preparada para ejecutar si queréis lo que puedo hacer es que el conexión me lo bajo me lo pongo aquí vale esto es petición es igual a esto y a ver los valies los valius Okay a ver php on implode values surround them with Au vale Ok Val comillas esto es valores con comillas eco petición Ahora sí y ya está y ya podemos ejecutarla Vale entonces esto es el sql y my sql query en la conexión quiero ejecutar la petición vamos a probarlo vamos a comprobarlo vamos a hacer el proceso completo y vamos allá vamos a ver vale tengo el panel de control donde en este caso voy a realizar una importación directa importo parece que todo ha ido correctamente y ahora a continuación me voy a crimson vale voy a cliente me voy a jocars jarsa me voy a ventas Ok 5 segundos me voy a ventas me voy a clientes y en clientes Au no A ver no vamos a la base de datos clientes no me la ha importado Por qué Pues no lo sé porque tenía buena pinta Ah y encima he cerrado el importador fantástico bien vale No pasa nada vamos a formularios vamos a admin no panel bien importo insert in clientes vale había clientes vale parece correcto pero no ha dado error a ver copio pego sql hay un error F texto doesn't have a default value Qué es texto F texto Qué es texto no tengo texto en ninguna parte Fil texto Ah vale lo que dice es que hay un campo llamado texto que no tiene el nul bueno vale No pasa nada Pues me voy a la estructura de clientes cojo el campo de texto y lo hago nule míralo Ahí está nulo no vale pues le digo que nulo es igual a Sí y vamos a probar de nuevo Entonces dónde estás vale me vuelvo atrás importo Ok me voy a la base de datos compruebo que ahora sí que existe me voy al a la el panel de control y compruebo que ahora sí que existe y ahora vamos a hacer el proceso completo de nuevo Incluso si quieres lo vamos a ampliar bien me voy a vamos a ver me voy aquí vale me voy a formularios y voy a hacer esto lo vería alguien desde fuera vale esto sería el formulario completamente externo acordaos que est estamos en elberg estamos en la parte externa vale me voy alberg de segundo acordaos que estamos diseñando un formulario aquí vale para que el formulario sea completamente visible al exterior pero aquí poco a poco es lo que no va a ser visible bien entonces digo nombre desde el formulario apellidos desde el formulario info @ formulario com 1 2 3 45 Para que valide correctamente como campo y le doy a enviar bien aquí podría poner el típico mensajito de tu correo ha sido enviado con éxito Muchas gracias todo eso en fin Vale ahora me voy a panel ya obviamente solo entraría un administrador y veo que hay un archivo por importar Por cierto que aquí tengo que modificar esto para que al importar pues o bien desaparezca el archivo de la carpeta o bien se copia otra carpeta de completados vale No lo sé así que le doy a importar todo Ok Aquí también podría poner un mensajito menos de bug vale Y más agradable de tu registro se ha importado correctamente Pero bueno ya sabemos que hemos hecho esto a medida que desarrollábamos para nosotros ver qué es lo que está pasando y ahora a continuación yo me voy a crimson me voy a clientes y veo que hay un cliente desde el formulario apellido desde el formulario con info @ formulario pero la gracia está en que no solo puedo aplicar esto a clientes sino que ahora por ejemplo digo que quiero productos vale Voy a comprobar como lo que he hecho es reutilizable para un montón de cosas vamos a ver si es reutilizable de verdad porque vamos a ver me voy a importar Y sí que parece que es muy reutilizable así vale No espera bueno Esto tendría que ser vale voy a cambiar esto a mano pero bueno ahora veremos bien entonces ahora a continuación pues me voy a productos y en producto digo voy a cogerme clientes vale en productos digo Quiero un campo llamado nombre quieto Nombre tipo text mínimo 5 máximo 30 eh nombre del producto título nombre Eh nombre del producto tabla productos campo nombre validador ninguno Quiero la descripción vale tipo text eh máximo 30 vale por ejemplo por una descripción título descripción Pon la descripción del producto tabla productos eh campo descripción validador ninguno y ya Ah Espérate que hay más y ya vale con lo cual ahora a continuación me voy aquí me voy a f = productos nombre del producto desde el formulario Esta es la descripción del producto ya no cabe más bien me da igual vale Ok envío Ok y ahora a continuación me voy al panel y compruebo si es cierto que se ha guardado un producto con el producto desde el formulario Y esta es la descripción del producto vale Okay bien De momento Sí ahora le doy a importar Y al darle a importar un administrador le da importar Así que ahora a continuación me voy a crimson me voy a productos y si todo ha ido bien a ver un momento no vamos a ver qué ha pasado vamos a la tabla vamos a productos vale No qué ha pasado Ah vamos a ver el resultado insert into productos nombre descripción valius producto desde el formulario en principio parece que Tendría que ir bien insert into productos vamos a simular la consulta vale Ok y precio das en Half the po value Vale pues esto quiere decir que en la estructura a precio le tengo que cambiar el valor anule Okay Vale venga volvemos a ejecutar Así que recargo Así que le doy a importar Y entonces me voy a crimson me voy a productos y si todo dado bien tengo producto desde el formulario y tengo una descripción del producto vale Así que una vez que tenemos esto pues ahora sí tenemos pues ya implementado un sistema mediante el cual me falta hacer que ese parámetro que es estático sea Dinámico vale vamos a acabar de mejorarlo ahora que tenemos un poco de tiempo pero fijaos que ya tenemos un sistema mediante el cual pues eh Bueno podemos elegir qué es lo que hacemos podemos elegir qué es lo que ponemos podemos personalizar formularios podemos reutilizar formularios únicamente hacemos un jas y el sistema automáticamente c el formulario y luego tenemos la información de cómo se importa y cómo se mapea y todo eso ahora tenemos un problema vale Y es que claro en el panel de control siempre salen problemas en el panel de control Pues claro en panel Pues están mezclados los jotones de cliente y los jotones de producto vale eso no Mola nada bueno pues vamos a apañar vale vamos a hacerlo mejor y para ello vamos a ver varias cosas y control pego f2 129 mejoras en importador de formularios bien en mejoras en importador de formularios Okay vamos a verlo formularios vale en documentos vale Ya el hecho de que los documentos de cliente y los documentos de producto estén mezclados pues eso ya de entrada no Mola nada Entonces vamos a el Index vale Y aquí donde le damos a envía lo que vamos a hacer es crear una carpeta nueva Esto está no okay Aquí no aquí en doc Vale qué es lo que estamos enviando formulario entonces porst formulario voy a hacer un mkdir forms formulario Ok bien y Vale y mcir doc bar formulario punto bar date bien borro todos los documentos y esto quiere decir que si esto es cierto si esto es cierto me voy a formularios igual a clientes y digo José Vicente carratala info 1 2 3 4 5 le doy a enviar vale un error 500 por qué A ver algo que se me ha olvidado Sí aquí me falta un punto Ok vale recar vale Ok Y eso quiere decir si ha ido bien y tengo permisos que en doc voy a refrescar la vista No lo he hecho correctamente porque me voy aquí vale Y no me voy aquí no me voy aquí abro un terminal ahora sí no Dark aquí ostras pues proyecto Okay Eh Esto conudo Okay ahora sí vale vamos a verlo otra vez recargo José Vicente cala info 1 2 3 4 5 le doy a enviar vamos a ver si ahora sí que lo ha creado no un momento php mkad y ya está vale Okay 0777 vamos de nuevo recargamos no a ver forms Ah no tú madre mía claro lo ha creado ahí No espérate eso está mal vale esto es doc Ahora sí bien volvemos José Vicente calá info un 2 3 4 5 enviar vale me vengo aquí ahora sí en clientes me ha creado un cliente y si me vengo a productos eh productos del formulario Esta es la descripción Vale ahora me voy al código y veo que me ha creado productos y me ha creado un jas en la carpeta correspondiente Vale ahora lo que tengo que hacer es editar el panel para que en el panel dentro de la carpeta doc me repase la subcarpetas Vale y me ponga formularios diferentes para cada una de las carpetas esto lo voy a hacer con un poco de ayuda Así que inside docs folder there are subfolders so em split Table in esto in files on different subfolders and on action Button subfolder name as a parameter ya que estamos vamos a verlo un momento vamos a ver vale copiamos código vamos a ponerlo Aquí vamos a ver si ha funcionado correctamente me vengo por aquí ahora me voy a panel Ok y en el folder clientes tengo esto en el folder productos Tengo esto de aquí ahora cuando le doy a importar un momento porque en importar no quiero ejecutar todavía la petición Vale cuando le doy a importar veo que file es igual a clientes Oh no madre de Dios Ah clientes barra vale Ok Por qué digo esto por qué estoy haciendo esto porque no importar acordaos que estaba metiendo esto a mano vale Y no quiero meterlo a mano lo que voy a hacer es que al importar dónde estás mín actions vale hidden name file no a ver Espérate Ah render Table vale venga render Table aquí sí pero caray okay okay Vale y render Table te va a esto bueno Esto es el bas name value Y esto es el botón vale Y el value es esto de aquí vale no vamos a por ello y con esto ya iremos finalizando un segundo ah vale vamos a por ello vale esto es panel vamos a ir a Uy no estaba yo en panel no vamos a ir a panel Wow No claro al darle importar Sí pero no Uf a ver Espera que he perdido eh parameters daywork okay I have Lost table format prev so please take it Back vale Mientras tanto sí que podemos ir haciendo lo siguiente Y es que cuando le doy a importar tengo folder y tengo file vale Lo cual quiere decir que en importar aquí vale doc barra folder barra file y aquí a continuación donde pone aquí productos es get folder Jason para el Jason correcto con lo cual cogemos el archivo de la carpeta correcta y cogemos la plantilla de validación de la carpeta correcta Así que ahora si esto es correcto y así por lo menos que se nos quede bien acabado un momento vale vamos a ver si me ha devuelto las características del panel Ok pero no Au bueno sabes qué Vale pues bueno pues no me importa vale me lo ha puesto todo en una tabla Igual me molaba más en dos tablas Pero bueno as por lo menos veo lo que es un cliente y lo que es un producto vale con lo cual vamos a repasarlo vamos a f es igual a clientes y entonces digo Jorge García Martínez Jorge @ garcia.com 1 2345 le doy a enviar Wow ya empezamos otra vez límite mínimo en el J son Ah Sí perdón Jorge jge chulo que le haya puesto un límite de cco vale enviar OK ahora me voy al panel y veo que tengo clientes este de aquí vale vamos a verlo F not Found bien No pasa nada porque en View le tengo que decir el folder me voy a View y le digo que es Doc barra getfolder get file vale vamos a verlo okay Y digo que tengo aquí a Jorge chulo García marínez jorge@gmail.com vamos a ver porque no ha cogido el elemento de validación si no ha cogido el elemento de validación es porque no ha cogido esto de aquí get folder vale vamos a ver folder es clientes con lo cual debería estar cogiendo en forms debería estar cogiendo clientes pun js teóricamente es correcto pero sin embargo vamos a ver Esto sí que lo está cogiendo correctamente que es Jorge chulo Pero esto de aquí es el archivo Jason y no lo está cogiendo forms getfolder Jason voy a decir archivo eco archivo forms clientes J son Ah perdón Ah Oh vale se ve que me ha quitado forms clientes Jason vale Okay Vale str replace de la barra con nada en getfolder vamos a verlo ahora sí vale Y voy a insertar okay recordamos que lo he desactivado vale no va a funcionar ahora va a funcionar Así que vuelvo atrás importo clientes todo debería haberse importado correctamente me voy a crimson me voy a clientes y ahora sí tengo a Jorge chulo García Martínez vale lo cual quiere decir en este caso que ya tengo Pues un formulario más eh más completo desde el punto de vista insisto una vez más de que sea reutilizable pensaréis que eh aprovecho un poco para comentarlo pensaréis que me estoy complicando innecesariamente la realidad es que no vale la realidad es que cuando lleguéis a una empresa y tengáis que hacer formularios va a llegar un momento en el que te digan Oye hazme un formulario para clientes Vale pues lo haces okay Oye ahora Hazme otro para productos Bueno pues lo haces venga okay Bueno y era quiero otro que sabes y al tercer o cuarto formulario tú lleg un momento que dices Mira estoy hasta el culo de hacer formularios a mano con lo cual creo que acabo antes si creo una plantilla de formularios de tal forma que yo simplemente aquí vale simplemente declare una plantilla de formulario y automáticamente me la rellené y automáticamente me la importé en la base de datos y todo ese esfuerzo inicial luego vale la pena vale Por eso digo que parece que esto que estoy haciendo es una complicación con respecto a hacer un formulario html directamente pero creedme que cuando lleguéis a una empresa no os van a pedir un formulario y tampoco el primer día te dicen Oye Quiero que me hagas 20 formularios porque si fuera así tú dirías Vale pues voy a hacer sí tranquilo estamos a punto de acabar vale tú harías una aplicación El problema es que hoy te dicen un formulario Mañana es otro la semana que viene otro y al cabo de dos meses dices madre mía o sea la de formularios tontos que he hecho Si hubiera hecho una plantilla Pues hubiera acabado mucho antes así que se trata un poco de adelantar esta cuestión vale bien nada eh Nada más por hoy vale finalizamos aquí y si por lo menos nos dejamos el formulario mínimamente esbozado y mínimamente en funcionamiento y nada continuamos mañana con eh procesos y con acceso a datos vale Así que nada Mañana nos vemos y acordaos que mañana entre mediodía y por la tarde os enviaré los correos con las notas igual Ah no aprovecho inglés porque en inglés yo tengo lenguajes de marcas Pero bueno da igual en algún momento de mañana os enviaré las notas vale Venga pues Vale chicos