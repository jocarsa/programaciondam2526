el objetivo de la clase de hoy es ambicioso porque consiste uno de los objetivos consiste en poner en marcha lo que hemos visto en días anteriores voy a cerrar un poco Esto vale Y escritorio Ok vale vamos a eclipse Dónde está eclipse No me digas que Ah no aquí está aquí vale aplicaciones vamos a eclipse lo arrancamos Okay bien y el otro día eh estuvimos aprendiendo lo que eran los jsp es decir los Java server pages estuvimos aprendiendo Eh pues lo que eran Eh Pues eso los servlets La diferencia entre uno y otro y estuvimos haciendo una comprobación lo digamos entre comillas lo máximo que hemos conseguido eh de eh hacer una introducción de un nombre email teléfono y enviar esto al controlador y que se metiera en la base de datos esto técnicamente si hemos conseguido esto técnicamente ya podéis hacer lo que queráis técnicamente ya podéis conseguir lo que queráis en una aplicación pero es probable que vosotros no veáis esto ahora mismo es decir en una aplicación empresarial en cualquier aplicación empresarial se trabaja de forma que los que participan de esa aplicación empresarial pueden escribir pueden leer pueden eliminar y pueden actualizar vosotros solo habéis hecho en los ejercicios que hemos hecho en clase solo habéis hecho eh la escritura y con lo que yo os he enseñado podríais hacer el resto de cosas pero vosotros ahora mismo no lo sabéis no os dais cuenta de esto el objetivo de hoy es este ejercicio vamos a hacerlo en uno nuevo llevarlo un poco más allá y demostraros cóm aunque no os cuenta tenéis los conocimientos necesarios para hacer cualquier aplicación de cualquier tamaño con paciencia Eso sí pero podéis hacerlo entonces voy a cerrar este archivo Aunque ahora lo reutilizar voy a crear un proyecto que va a ser una web dinámica se va a llamar proyecto 6 y tomc 9 Ok vale Vamos allá bien y lo primero que voy a hacer curiosamente vamos a voy a arrancar también el mamp para llegar a la base de datos vamos a por ello estoy arrancando voy a poner local Host php my admin 2 entro dentro de la base de datos y en curso de Java veo que tengo aquí agenda y tengo cursos por ejemplo Vale pues a continuación lo que voy a hacer es crear eh usuarios voy a crear una nueva tabla que se va a llamar usuarios que va a tener un identificador y va a tener usuario contrasena acordaos que no he puesto una ñ sino que he puesto una n y nombre vale nombre del usuario marchar 255 ahora para empezar el índice lo voy a hacer primario y autoincremental y le voy a dar a guardar y ahora dentro de esta tabla de usuarios voy a insertar un usuario llamado jarsa con contraseña jarsa y nombre José Vicente carratalá qué cajas de texto más grandes parece que le hubiera dado text pero le he dado marchar creo ses marchar en fin qué cosas bien pues lo primero que quiero hacer es una aplicación de estas que tienen un login inicial y esta aplicación lo primero que tiene que hacer es que me va a dejar o no me va a dejar entrar a un panel de control según si yo pongo bien o no pongo bien el usuario y la contraseña entonces para esto lo que voy a hacer es que dentro de proyecto 6 dentro de web content voy a crear un archivo Que de momento va a ser un archivo de tipo html aquí en web content va a tener el nombre Index html y voy a hacer un pequeño formulario para bueno que quede demostrado que quede probado como pues hago un login vamos a verlo momento eh okay No pasa nada por node venga Vale pues vengo por aquí y voy a crear un form creo un form cuyo action va a ser panel de control punto eh jsp Por ejemplo Vale y voy a decir en este caso method es igual a post input type text name usuario placeholder es igual a usuario input venga va input de tipo password contraseña Y por último input type submit value enviar si yo ahora ejecuto esto si yo arranco el servidor vamos a verlo con tomcat 9 y uso este servidor en este proyecto Finish proyecto 6 he hecho proyecto 9 no quería hacer tomcat 9 bien me voy a arrancar Chrome me voy a ya sabéis que va a salir ahora la web en el navegador que viene por defecto pero no me gusta nada ese navegador entonces Prefiero usar un navegador de verdad porque es que además es otra y es que si yo veo el resultado en este navegador yo digo no sé si esto es real o es que está dentro de este programa pero claro si yo lo veo en un navegador de verdad si yo lo veo en un Chrome digo Wow Esto me creo mucho más que es un proyecto real vale que es un proyecto que está en marcha es un Pro que funciona es que no sé igual es Manía mía Pero cuando lo veo aquí dentro me parece como que sea una simulación Vale cuando realmente no lo es lo que hace eclipses que nos pone un microon navegador un poco para darnos solución para no decirnos o apate con un navegador pero yo prefiero apañe con un navegador bueno Esto es feo os lo voy a decir Vale entonces la el principal objetivo de este proyecto no es que el proyecto sea feo o bonito es que funcione pero también hay que decir que pues a ver o sea si es un poquito bonito pues mejor que mejor le voy a dar un poco de estilo pero le voy a dar estilo con la premisa de aplicar el menor esfuerzo para obtener el mejor resultado vale el mayor resultado quio decir que no me voy a liar por ahí por las lianas eh trabajando con el estilo sino lo que quiero es aplicar un mínimo estilo para que esto quede presentable Vale entonces eh lo que voy a hacer en este caso es que voy a decir que Body coma html van a tener un eh aquí un padding de cer píxeles un margin de cer píxeles un background Grey y ya está entonces ahí recargo y veo que tengo el fondo gris y ahora creo un form y digo que este form va a tener un wid de 200 píxeles un High de 300 píxeles un margin auto para que se Centre en la pantalla un padding de 20 píxeles un Border radius de 10 píxeles y con esto lo que tenemos la pantalla Ah perdón y un background a ver un momento que ahora está pensando y un background White vale para que Hola Ah background Me falta una n un momentín que está recargando background White estoy viendo si eh Ahora sí vale y vemos que tenemos ya por ahí el este también puedo decirle un margin top de no sé 50 píxeles vale para que pues se separe un poquito de la parte de arriba es que ya es un poquito más bonito Eh de hecho lo que voy a hacer ahora también incluso es que me voy a gorronear mi propio logotipo y lo que voy a hacer Es que para que quede mínimamente bonito ya os digo es que Au Bueno sí creo que este logotipo es gorronea copiar dirección de la imagen y aquí lo que voy a hacer Es que voy a poner una img src momentín venga tú puedes a veces se queda enganchado no sé por qué pero vale img src pego la imagen la estoy gorroneo directamente de mi página web pero se puede hacer vale esto se llama Hot linking que es Llamar a una imagen de un proyecto directamente desde otro proyecto no es una buena costumbre pero como lo estoy haciendo desde un proyecto mío a otro proyecto mío pues tampoco pasa nada ahora digo form img coma forma input y digo textalign Center margin auto with 80% vale Y lo que quiero es que todo quede cuadradito Incluso en el form voy a decir Tex Center vale para que todo quede cuadradito en pantalla y voy a decir que padding de 10 píxeles y margin de 10 píxeles también y en la pantalla a ver si a ver margin Ah no perdona padding No sí margin bottom de 10 píxeles Ahora sí vale y con esto ya hemos acabado esta pantalla vale por lo menos que quede mínimamente bonita vale para que pongamos un usuario pongamos una contraseña y le voy a dar enviar ahora al darle enviar va a decir qu error porque yo he prometido que iba a llamar a panel de control. jsp y no tengo todavía panel dec control. jsp Así que a continuación vamos a llamar a panelde control. jsp lo que he hecho hasta ahora podríamos decir que evidentemente es la vista Vale hasta aquí no hay nada de Java de momento lo que he hecho es el formulario si esto fuera eh una aplicación de escritorio en Java sería swing Vale pero no hay lógica de momento no hay funcionamiento ahora Aquí yo estoy llamando a panel de control. jsp Entonces yo vengo aquí en web content botón derecho New creo un archivo jsp y evidentemente lo llamo panel de control jsp bien en el panel de control. jsp digo Hola si estás viendo esto es que estás en el panel de control pero claro si yo ahora vengo y pongo lo que sea y envío me dice abris está cargando me dice hola si estás viendo esto es que estás en el panel de control pero claro eso no puede ser es decir yo lo que acabo de hacer evidentemente es pues un acceso directo al panel de control entonces tiene que haber una validación intermedia tiene que haber un archivo en el medio que se conecte a la base de datos y que me diga si es cierto o no que el usuario existe en la base de datos Y si existe en ese caso que me diga Vale pues Venga pues vamos al panel de control y si no existe que me devuelva al login y me diga no hasta que no me pongas un usuario y una contraseña de verdad no te voy a dejar entrar al panel de control entonces para ello lo que voy a hacer en Index es que en lugar de llevar directamente a panel de control voy a llevar a los usuarios a login.jsp vale podría ser un jsp podría ser un serbet el otro día Ya Estuvimos viendo las diferencias entre uno y otro me da igual con cualquiera de los dos evidentemente vamos a hacer exactamente lo mismo Entonces ahora lo que voy a hacer Es que evidentemente voy a crear un archivo de tipo jsp LL login.jsp insisto lo podría hacer con jsp lo podría hacer con ser da igual y ahora lo que voy a hacer en este caso es que dentro del Body voy a conectarme a la base de datos vamos a recuperar código de algún proyecto anterior proyecto 3 o proyecto 4 vamos a ver procesa Este creo que no era el siguiente proyecto 4 web content Index jsp No pues proyecto 5 Ah sí proyecto 5 la vista Ok vale muy bien y ahora tenemos por aquí en Java resources en source tenemos el controlador y en el controlador recordamos que tenemos el jdbc Driver Vale entonces lo que voy a hacer en este caso es que en el login voy a escribir un código de Java incrustado en el jsp voy a hacer un trycatch para conectarme a la base de datos recordamos en este caso que para poder conectarme a la base de datos para que me reconozca el connection tengo que importar correctamente la base de datos y que en el proyecto recordamos que estamos en proyecto 6 en properties tengo que meter la librería Entonces nos vamos a libraries os acordáis que el otro día me costó un momento de encontrar y hoy también entonces build pa s Ahí está libraries añado un external hard al final no me quedó claro qué hard metí si metí el c pero bueno da igual yo creo que voy a meter los dos y ya está Sí por eso te digo que voy a meter los dos y así pues aquí curso Java eh meto el Java 8 connector vale meto también el Java 5 Ok vale apply en Close muy bien y luego por otra parte aquí traíamos los Entonces vamos a ver tenemos los imports que tenemos aquí pero recordamos que no los podemos poner así tal cual sino que había que meterlos de esta forma Entonces nos vamos a ver en la vista aquí a los imports login jsp y importo Por una parte este Por otra parte este y por otra parte este estoy viendo porque me da error un momentín vale qué error me das Ah el import correcto Eh sí parece que sí no lo sé parece que sigue dando error y sin embargo page import sí que Ah ok Ya está Vale bien muy bien pues lo que voy a hacer ahora va a ser simplemente vamos a ver en el petición execute no quiero un petición execute Quiero un petición pun query punto query vale punto execute No punto buen no Bueno ahora lo veremos de momento lo dejo como execute pero sobre todo lo importante es que quiero vamos a ver este request Select all from usuarios Where usuario es igual al request esto lo puedo borrar ya and contrasena es igual a request.get parameter de password es decir importante si aquí pone contrasena es porque en la base de datos recordamos que al campo lo hemos llamado contrasena pero si aquí pone request get parameter password es porque en el Index al elemento de formulario lo hemos llamado password vale para que veáis que hay una coincidencia y para que entendáis de dónde sale cada coincidencia ahora una vez que tenemos esto lo que quiero no es ya un execute recordamos que el execute es para hacer insert delete y update pero cuando hago un Select necesito otro tipo de estructura de control para ello vamos a volver a la carpeta del proyecto de Java del curso Java vamos a no me acuerdo que Pero mira sí por fecha del 11 de agosto proyecto 18 me voy a src me voy a proyecto Java y este es perfecto porque tiene un w e venga va que se va arriba el todo por qué lo reconozco porque tiene un While Entonces vamos a ver vale es un execute query vale Mira de hecho lo que voy hacer Es que voy a todo este trycatch lo voy a pegar aquí abajo y a continuación en el execute query voy a y voy a copiar y pegar todo esto y execute query Vale ahora vamos a verlo bien res result set porque probablemente hace falta importar a ver qué Uy lo he plegado vale importo res result set vale Este trycatch lo borro y si todo va bien De hecho no me hace falta ni siquiera esto sino que yo digo atención Bull o bullean entras es igual a false y ahora esto cuidado lo repetiré las veces que haga falta para que lo entendáis correctamente bullean entras ahora mismo es false O sea no entras vale o sea el comportamiento por defecto de una aplicación es que no entras hasta que no me demuestres que puedes entrar no entras ahora yo le estoy diciendo que quiero que me selecciones de usuarios donde el usuario sea nombre y la contraseña sea password o sea selección me aquellos usuarios que cumplan esto y solo si hay algún usuario que cumple eso en ese caso entras será igual a true si no hay ningún usuario que cumpla esto nunca entrará aquí y por tanto entras seguirá siendo false así que al final rápidamente Sencillamente voy a decir si entras es igual a true en ese caso out printline Ok vas a entrar en la aplicación en caso contrario out printline y no Ok no vas a entrar en la aplicación vale vamos a verlo vamos a ver si funciona venimos a Chrome venimos aquí recargo la pantalla para que se dé cuenta de todo pongo un usuario y una contraseña totalmente arreu y pulso enviar y si todo va bien Ahora en la siguiente pantalla dice no Ok no vas a entrar en la aplicación vale o sea el usuario y la contraseña que has puesto no existen en la base de datos pero ahora lo que voy a hacer Es que voy a poner jocars en el usuario y jocars en la contraseña pulso enviar o dice no Ok vale no vas a entrar bien vale No pasa nada vamos a ver qué es lo que ha pasado porque ahora sí que debería haber entrado lo que voy a hacer es lo siguiente out printline que sepas que el usuario que has enviado es Dos punos br punto y coma o sea voy a diagnosticar un poco en la pantalla a ver qué ha pasado que sepas que el password que has enviado es Vale ahora borro esto y digo request get para meter nombre Ah claro ahí está el problema es que no es nombre es usuario Vale entonces ya tenemos un punto en el que seguro que iba a fallar pero por si acaso voy a acabar lo que estaba haciendo vale request parámetro usuario y request parámetro password Entonces vamos a ver digo tiki ti le doy a enviar y dice que sepas que el usuario que has enviado es este que sepas que el password que has enviado es este así que no vas a entrar pero si yo ahora voy a hacer un poco esto más grande si yo ahora Pongo aquí jok carsa y aquí pongo jok carsa le doy a enviar y esto ya es otra cosa que sepas que el usuario que se enviado es hok carsa que sepas que el password que has enviado es hok arsa así que Ok vas a entrar en la aplicación Vale ahora sí esto ya es otra cosa ya tengo una aplicación que hace algo y ese algo es controlar si puedo entrar o no puedo entrar Entonces ahora lo que voy a hacer es eh poner una etiqueta out printline es una etiqueta html redirect que hace lo siguiente es una etiqueta esto lo pongo con comillas simple que lo que hace es que me redirige a otra página vale Y esto me va a redirigir a panel de control. jsp Por cierto esto tiene que estar en la misma línea vale Y ahora si no me vas a redirigir a index html y va a tardar 5 segundos en cada caso siora guardo y recargo vamos a ver Mirad pongo flii fliqui Y flii le doy a enviar y me dice no vas a entrar en la aplicación espero 5 segundos y entonces se me devuelve a la página inicial es como no entras vale o sea vuelve a poner el usuario contraseña porque no vas a entrar de momento pero si yo pongo hok carsa y pongo hok carsa le doy a enviar me dice okay vas a entrar en la aplicación y cinco segundos después Hola si estás viendo esto es que estás en el panel de control Vale entonces como podemos ver pues ya tenemos eh un login que me permite eh controlar si puedo entrar o no puedo entrar dentro del panel de control lo interesante viene ahora es decir lo que hemos hecho hasta ahora básicamente ha sido Eh Pues un Select a la base de datos No hemos hecho más pero ahora lo que quiero es implementar el modelo crud es decir el modelo de eh insertar leer actualizar eliminar en una tabla de la base de datos Y para ello en el panel de control voy a hacer lo siguiente Bueno si estás viendo esto es que estás en el panel de control Vale y vengo por aquí y digo H gestión de usuarios y vengo por aquí y voy a hacer una Table la Table va a tener un TR el TR va a tener tres th que son Table headings y digo esto es usuario lo que voy a hacer Ya sé que va a ser muy feo pero contraseña y nombre voy a poner Border es igual a 1 para que cuando hacemos así pues veamos el borde de la tabla Entonces yo lo que quiero ahora es ver los usuarios que hay en la base de datos vale esto quiere decir que por ejemplo ahora para que lo veáis para que entendéis lo para queis lo que estamos haciendo me voy a insertar y voy a poner pues por ejemplo por aquí vamos a verlo vamos a poner por aquí Manu Manuel y le doy aquí a continuar y inserto y Fernando yo vale continúo Okay ya tengo tres usuarios pero claro cuando en la aplicación en gestión de usuarios Yo quiero ver los usuarios que hay evidentemente los quiero sacar de la base de datos Pues ahora una cosa que puedo hacer es copiarme de login todo el bloque realmente es decir voy a copiar todo esto lo pego en panel de control vengo por aquí a login me copio todo esto cuidado aquí dentro lo pego vale cuenta que lo he pegado dentro de table voy a borrar unas cuantas cosas para que os quede el código lo más claro posible es más permitidme que elimine comentarios porque creo que ya más los podemos tener claros y así ahorro líneas y así me veréis mejor entonces out printline TD esto lo copio por tres plch Select all from usuarios donde ninguna condición o sea dame todos los usuarios recargo y de momento Ah sí cuidado Perdón Tengo que arrancar un TR y tengo que cerrar un TR una fila de tabla vale Y no sé si veis que tengo tres casillas vacías Sí pero tres casillas Al fin y al cabo vale tres casillas Qué casualidad qué coincidencia al igual que TR tres usuarios que tengo en la base de datos Pues ahora aquí dentro voy a encadenar con resultado punto y vamos a ver find column HM la verdad es que find column suena bien a ver Get In get long get String Mola entonces get String voy a usuario recargo y Wow jarsa Manu y Fernando vale estáis viendo como Eso sale de la base de datos vengo por aquí esto es contrasena Y esto es nombre recargo y tengo usuario contraseña y nombre vale o sea ya empiezo a darle forma a un pequeño panel de control pero queda mucho trabajo por hacer cualquier panel de control tiene como os he dicho cuatro elementos ya tenemos uno que es el elemento de read si yo hago una aplicación web para un usuario con Java Enterprise ya el usuario al cual yo le de acceso puede ver una tabla de la base de datos pero ahora necesito que pueda ver un informe que pueda actualizar los datos y que pueda eliminar un registro Además de que pueda insertar para eso es para lo que se suele hacer lo siguiente se suele hacer Vamos a ver es que lo estoy poniendo aquí todo voy a hacer una cosa lo voy a partir en diferentes líneas porque es que si no va a resultar una longaniza que será un poco intragable vale Esto es lo mismo lo he partido en vale hace lo mismo lo he partido en diferentes partes pero ahora voy a poner un par de elementos más TD a href quieto ahre ver y ahora copio y pego esto actualizar y eliminar entonces si ahora hago esto veis que para cada casilla para cada registro típico en una base de datos voy a poder ver ese registro actualizar ese registro eliminar ese registro vale voy a hacer una cosilla estética simplemente para que esto quede un poquito más bonito con poco esfuerzo que es usar la librería de font aome si uso la librería de font awesome es para que tenga iconos bonitos vale para que pueda usar iconos bonitos aquí en la en los elementos entonces para usar font awesome hay que pinchar aquí donde pone Start for free hay que poner vuestro correo electrónico y una vez que pongáis vuestro correo electrónico os mandan un kit Yo pedí uno de ellos ayer lo digo porque no puedo poner el mismo correo electrónico dos días seguidos entonces voy a sacarlo del correo un segundo ahora me veréis vale Y font aome vale vamos a ver entonces este es el que pedí ayer F vamos a ver me dirá que este email ya estaba confirmado creo eso correcto vale Send me a New link voy a ver si me han enviado un link nuevo un momento que estoy viendo a ver si me envían un nuevo link si no pasa nada porque lo voy a sacar otra parte momento lo saco de otro proyecto lo saco de admin panel de control Lo saco de aquí vale lo pego en el proyecto y una vez que me han dado mientras recibo el correo ya os digo pero una vez que me han dado un kit de font awesome puedo hacer lo siguiente ahí donde pone ver yo me voy a font awesome icons View y veo que tengo un icono super chulo ahora veréis Ahora veris cuando quiera no cuando quiera yo sino cuando quiera el sistema vale Hola A ver no sé voy a probar otra página venga este es eh pincho aquí lo copio en lugar de ver cambio las comillas y si ahora recargo la página veréis que en lugar de ver aparece un ojito y el ojito De hecho también es clickable entonces queda más bonito vale el ojito que la palabra ver de la misma forma puedo poner update icon refresh por ejemplo o sync no sé a ver qué tal ese Mola y este a ver sync mira como tarda un poco en cargar me voy a quedar este ya está actualizar lo pego ahí ok y eliminar delete Ah delete pues papelera por ejemplo vale papelera aquí Lo pongo aquí con cuidado de las comillas recargo y ahora veréis como Pues bueno es mucho más bonito visualmente vale de momento no hace nada pincho Y si os fijáis no hace nada evidentemente ahora a continuación voy a hacer que haga algo pero de momento fijaos que eso tiene la pinta típica y característica de cualquier panel de control tengo la operación de ver tengo la operación de eliminar tengo la operación perdón de actualizar tengo la operación de eliminar Me falta una que es la de insertar vamos a por ella para ello para la operación de insertar lo que voy a hacer vamos a verlo Es que aquí al principio antes de meterme en Java voy a hacer un TR voy a hacer un formulario esto realmente es el ejercicio del otro día action insertar jsp method es igual a post est esot lo mismo que hicimos el otro día y digo una ano y digo TD 1 2s 3 y 4 input type text name usuario holder usuario input type text name password placeholder contraseña input type text name Nombre placeholder nombre input type submit name nada es value enviar y placeholder nada con esto lo que tenemos vamos a verlo e Hola por no aparece Qué raro que no aparezca ahora Vale tengo ahí el usuario contraseña nombre y botón de enviar vale usuario contraseña nombre y botón de enviar eso me va a servir para crear un nuevo registro en la base de datos como os podéis imaginar lo que voy a hacer ahora va a ser crear los elementos correspondientes insertar jsp es un archivo voy a cerrar todo esto es un archivo que va a estar aquí se va a llamar insertar jsp y insertar punto jsp lo que va a hacer es lo siguiente lo que va a hacer es vamos a ver login Ok este mismo insertar aquí dentro login copio y pego los imports esto fuera Esto me cargo las líneas no cuidado Ay vale esto fuera bueno había una cosita de ahí que me la quería quedar queda esta y ahora digo petición punto execute create statement No Ah esta es la que quiero Esta es la que quiero vale insert into usuarios vales usuario value password value nombre y si todo va bien y ahora Devuélveme a panel de control js p madre mía Qué nervios Entonces el boolean no me hace falta para nada si todo va bien y ahora vengo por aquí y digo quiero meter a Pepe con contraseña Pepe el nombre es Pepe García le doy a enviar me lleva a insertar punto jsp y si todo ha ido bien dentro de 5 segundos me va a devolver al panel de control pero comprobaré que es cierto que me ha insertado a Pepe García Eso quiere decir que yo ahora puedo insertar a Juan contraseña Juan López le doy a enviar en 5 segundos vuelvo al mismo panel de control y podemos comprobar como ya tengo a Juan López estoy actuando sobre la base de datos pero como podréis observar lo más importante de todo esto es que eh estoy permitiendo estoy creando una aplicación que primero lo que comprueba es quién puede entrar y quién no puede entrar a la base de datos y a continuación lo que hace es que me permite desde dentro una vez que he entrado me permite crear nuevos usuarios vale o se Ya tengo la opción de leer porque estáis viendo aquí en esta tabla toda la tabla y eh Ya tengo la opción de insertar nuevos elementos insisto o sea estamos probando una aplicación pero la estamos programando para que virtualmente tú esto lo publicas y a partir de aquí Cualquier usuario tuyo puede entrar y puede crear nuevos usuarios pero vamos allá Vamos a continuar a continuación voy a hacer lo mismo con eliminar entonces aquí en los botones de la papelera lo que voy a hacer es lo siguiente voy a ir a web content voy a crear un archivo jsp lo voy a llamar eliminar jsp Y en este caso en el archivo de panel de control lo que voy a hacer Es que aquí donde pone eliminar Ah ref voy a ir a eliminar punto jsp vale fijaos que si ahora recargo daos cuenta como la papelera lo podéis ver ahí abajo vale Ahí abajo a la izquierda veis como me lleva a eliminar jsp pero voy a hacer un pequeño truquet todos me llevan a eliminar luego entonces cómo sé realmente cuál estoy eliminando Pues hay un truco que es el siguiente que es eliminar ID es igual a resultado get String identificador quiere decir que acordaos que tenemos un campo llamado identificador Eso quiere decir que atención si ahora pulso este botón me dice eliminar jsp donde el identificador es uno si vuelvo atrás pulso el segundo botón y me dice eliminar jsp donde el identificador es 2 si vuelvo atrás pulso el tercer botón eliminar jsp donde el identificador es TR es decir daos cuenta que este parámetro está llamando a eliminar jsp pero a cada una de las líneas le añade su identificador para que yo pueda saber exactamente a quién tengo que eliminar y evidentemente solo elimine a quien tengo que eliminar y no elimine a quien no tengo que eliminar vale como os podéis imaginar Entonces ahora a continuación voy a atención eh porque esto es una cosa muy importante y es que Cuanto más avancemos en el ejercicio más código tenemos para copiar y pegar entonces me voy a insertar me voy a copiar y pegar y lo que voy a hacer en este caso va a ser vamos a ver vamos ponerlo por aquí Bueno mira delete from usuarios cuidado identificador es igual a algo y ese algo va a ser request get parameter ID vale por qué Aquí he puesto ID Pues porque aquí he puesto ID vale esa es la razón por la cual lo he hecho si todo esto ha ido bien Esto hay que tener mucho cuidado porque es un telit si lo hago mal me puedo cargar la base de datos entera pero vale en principio pensemos que no lo voy a hacer mal entonces si todo va bien me voy a Juan López veis que voy a poner dos segundos vale porque para que no tardemos tanto me voy a Juan López pincho la papelera llego a la página de eliminar vuelvo y ya no está Juan López Ahora a continuación voy a Pepe García pulso papelera se va a eliminar con el id4 y he eliminado a PP García y de esta forma como veis lo que hago es que consigo tener eh un botón de eliminar pero un botón de eliminar que solo elimina al elemento que a mí me interese vale Sí no no no verás verás un momentín voy a responderte a esa pregunta pero voy a responderte a esa pregunta con un aquarius de por medio Entonces dame un segundo que voy a por un poco de bebida que me estoy muriendo de set un momentín ahora Verás yo tenía anteriormente en la base de datos eh los ids o sea 1 2 3 y los anteriores Eran cuatro y cinco vale los que acabo de eliminar Eran cuatro y cco si yo ahora vengo aquí y creo a no sé sabes a Jorge con contraseña Jorge nombre Jorge Martínez le doy a enviar a continuación me voy a comprobar el resultado en la base de datos aquí no pone ninguna ide Aunque ahí sí que lo pondría vale Pon el id6 se ve pequeño ahí abajo pero me voy ahora a la base de datos me voy a usuarios y el ID es el número seis automáticamente yo lo podría forzar vale pero si no lo fuerzo yo manualmente la base de datos le pone el identificador número seis Entonces te cuento esto es un comportamiento eh No ya de mysql sino de una gran cantidad de bases de datos aunque como ya te digo de forma manual se puede saltar porque al final el que manda es el usuario pero te voy a explicar por qué verás en este caso yo ahora mismo eh yo tengo una pequeña Una Micro base de datos de un curso de programación Pero tú Imagínate que esta base de datos fuera una base de datos a nivel gubernamental vale a una base de datos a nivel brutal Entonces de la misma forma que tengo una tabla de usuarios tú Imagínate que yo tuviera una tabla de por ejemplo títulos universitarios Y entonces le podría asignar que el usuario 6 que es Jorge se ha sacado el título universitario de no sé qué vale Y tiene un título pero también tengo otra tabla que imagínate que se llama deudas Vale o hipotecas o banca rota Yo qué sé sabes o delitos imagínate Vale y eh Por ejemplo digo el usuario número seis ha cometido un delito de fatal sabes de asesinato en serie o sea super mal entonces Claro tú Imagínate que yo elimino el usuario seis y a continuación creo otro usuario y se le asigna el número seis claro a ese usuario nada más nacer le dirían Ey felicidades Tienes un título universitario el usuario se diría vale si acabo de llegar o sea si acabo de nacer como es posible pero le dirían Uh pero fatal tienes antecedentes penales muy mal no te van a dar ningún trabajo entonces claro el usuario se flipar porque diría pero vamos a ver si yo acabo de llegar que me estás contando Vale entonces el usuario 6 Aunque yo lo borrara Podría tener asociados otros datos en la base de datos entonces lo que se hace por seguridad es que cuando muere un usuario es decir cuando eliminamos un usuario de la base de datos y creamos otro nunca se le asigna un ID preexistente porque corremos el riesgo de que accidentalmente se le asigne todo aquello que tenía el usuario yo número seis vale o tú Imagínate que sabes otro otra tabla fuera cuenta bancaria y el usuario 6 tuviera 1000 millones de euros Entonces cuando llega otro usuario se le da al 6is automáticamente tiene 1000 millones de euros sabes que sería un error del sistema evidentemente Pero sería un error Al fin y al cabo entonces esa es la razón por la cual no Ya solo en mysql sino en un montón de bases de datos que tienen este tipo de identificadores siguen esa regla de no reasignar identificadores insisto si yo quiero vengo y le puedo poner un identificador manualmente claro a mi cuenta y riesgo es decir el sistema de base de datos y el lenguaje de programación te dicen tú lo puedes saber Pero tú sabrás lo que estás haciendo al hacer eso O sea ya te ocupas tú manualmente de responder por ello Vale entonces esa es la razón esa es la razón Y a partir de ahí pues eh por ejemplo para que te hagas esta mañana o sea para que te hagas una idea esta mañana estaba teniendo una discusión entre comillas no era una discusión pero estaba teniendo una conversación con una persona de un departamento de contabilidad a la que le fastidiaba precisamente esto decía Oye por qué hay saltos en la numeración y yo le decía Pues mira porque había duplicados y al eliminar duplicados han quedado huecos esa persona decía pero es que a mí desde el punto de vista de la contabilidad de la facturación me altera ver huecos y yo claro te digo que no porque en contabilidad y en facturación los huecos entiendo que son malos vale pero en este caso son necesarios para asegurar que no se reasigna un recurso que antes estaba asignado a otra cosa entonces es poco para que sepáis el Por qué vale para que sepáis lo que hay bien sigamos llegados a este punto ya tenemos del modelo crud ya tenemos dos cosas técnicamente tenemos una vale porque igual no se podría considerar que verlo todo en tabla fuera ver Generalmente cuando pinchamos el botón ver es cuando solo quiero ver ese recurso entonces puedo volver a panel de control y puedo decir que aquí en lugar de eliminar voy en este caso a ejecutar el archivo ver y estoy reutilizando el ID vale Y aquí puedo ir a actualizar Entonces ahora fijaos que si pincho en este botón voy a ver. jsp Y si pincho este botón voy a actualizar jsp vale Y en cada uno de ellos le estoy pasando el ID correspondiente Entonces eso quiere decir que yo ahora puedo venir aquí puedo crear diferentes páginas jsp voy a crear un archivo ver. jsp y voy a crear un archivo actualizar jsp en ver lo que voy a hacer es pues por ejemplo aquí en el body voy a poner h1 informe sobre uno de los registros y aquí abajo voy a poner a href panelde control. jsp volver a la pantalla anterior y esto lo que hace es que cuando hago clic aquí pone informe sobre uno de los registros hago clic Para volver a la pantalla anterior y vuelvo a la pantalla anterior Vale entonces ahora lo que puedo hacer es copiarme este bloque de código por supuesto me copio las importaciones y ahora lo que voy a hacer es vamos a ver esto fuera esto ya no es un TR y no sé pongo usuario dos puntos traca voy a cargarme todo esto y así lo veis más ordenado usuario contraseña nombre Eh contrasena y nombre Entonces ahora fijaos que si pincho este ojo e no lo estoy viendo todo Select all usuario es igual a algo and contrasena es igual a algo y ese algo es aquí el resulta Esto está en login Esto está el get parameter y aquí esto es usuario y esto es password vale Así que si todo va bien wow A ver un momento usuario a contrasena es igual Ah no tú madre mía esto está fatal we identificador es igual a ID vale eh ok No Okay we identificador es igual a esto no lleva comillas vale Y me dice usuario jarsa contraseña jarsa nombre José Vicente carratalá vuelvo a la pantalla anterior cojo a Manu y me dice usuario Manu contraseña Manu nombre Manuel vuelvo a la pantalla anterior cojo Fernando y si vuelvo a la pantalla anterior a Jorge Martínez me lo quiero cargar y me cargo a Jorge Martínez vemos como ya puedo insertar un nuevo elemento puedo eliminar elementos puedo ver informe de un nuevo elemento y vamos a la operación más compleja más laboriosa realmente por eso me la he dejado para el final que es la opción de actualizar es decir yo no quiero insertar un nuevo elemento ya lo tengo aquí no quiero eliminarlo tampoco lo que quiero es modificarlo no me vale con verlo lo que quiero es cambiar un dato por ejemplo quiero ponerme el segundo apellido O sea no quiero tener que eliminar y volverlo a crear No es eso yo lo que quiero es Modificar el que ya existe Vale y a continuación ahora vamos a ver eh Pues vamos a Vamos allá a continuación me voy a crear un archivo llamado actualizar y en Actualizar tendrá dos archivos por eso es el más complejo actualizar tiene algo muy parecido a lo que tiene ver pero atención voy a crear un formulario cuyo action es procesa actualizar cuyo méthod es igual a post Y entonces lo que hago es que input type text name usuario value y en el value pongo esto hago lo mismo Es más voy a copiar y pegar esto y así luego los muevo Y por último un input type submit value es igual a enviar si yo hago esto Ahora me voy así como con ver por ejemplo yo veo un texto Si yo le doy al botón de actualizar e cuidado un error muy bien Vamos a ver Ah sí me faltan Sí las inclusiones vale venga inclusiones vale Vamos allá recargo con ver veo el registro con actualizar lo que hago es ver el registro pero sus datos aparecen en estos Campos entonces claro yo puedo cambiar un campo puedo poner por ejemplo el segundo apellido Le doy a enviar y cuidado porque al enviar lo que va a ocurrir es que eh Como te diría yo eh lo que va a ocurrir es que va a llamar a procesa a actualizar pun jsp procesa actualizar jsp no existe Así que lo que tengo que hacer es crearlo al crearlo Por cierto tengo que meter un campo ahora veréis es un campo muy delicado es un campo muy delicado donde voy a poner lo siguiente voy a poner input type ención hidden es un campo oculto name identificador value identificador Vale tengo que meter el identificador value identificador vale para que al entrar ahí dentro no lo veis pero si veo el código fuente de la página veréis que hay un input type hidden name identificador valor uno y si entro dentro de Manu Y le doy a actualizar y veo el código fuente veréis que hay un input type hidden name identificador value 2 vale o sea es un campo que está oculto pero está y es como una especie de llave se utiliza para saber este Us Quién es realmente entonces me voy a actualizar y digo atención y digo vamos a ver eliminar copio los includes copio el código Java y ahora digo lo siguiente esta petición a la base de datos va a ser mi Nina y ahora digo lo siguiente request parameter y calma No espera esto lo necesito es update usuarios set algo identificador es igual a identificador esa última parte la necesito set usuario es igual a algo coma contrasena es igual a algo coma nombre es igual a algo y ahora voy a poner request get parer usuario probarlo es usuario Ah cuidado eso estaba mal contrasena y nombre casi lo pongo mal vale usuario contrasena y nombre y si esto ha funcionado correctamente si esto ha funcionado correctamente vamos a ver y ahora vengo por aquí edito José Vicente carratala pongo José Vicente carratala sanchiz le doy a enviar y si ha ido bien Ahora cuando vuelvo Aquí tengo José Vicente carratala sanchis vale esto quiere decir que o me quiero cambiar la contraseña pues vengo por aquí y digo esto es yo que sé pan Bimbo al revés pues envío y tengo la contraseña cambiada y ahora sí tengo un ejercicio que bueno nos ha llevado un rato de hacer de hecho eh es un ejercicio que yo porque lo he hecho digamos a mi ritmo porque lo he hecho muchas veces pero es un ejercicio que tiene insisto una carga intelectual grande con esto lo que os quiero decir es que yo entiendo intuyo interpreto que práctica que hago yo práctica que hacéis vosotros pero en este ejercicio no puede faltar es decir la práctica vale Cuando digo que no puede faltar la práctica lo que quiero decir es que tenéis que hacer este ejercicio porque esto es hacer una aplicación empresarial lo que hemos hecho hasta ahora han sido prácticas de Java prácticas de lenguaje de programación de aprendo un una sintaxis Me conecto a una base de datos importo una librería pero todo eso no es desarrollar una aplicación esto es desarrollar una aplicación vale en el momento en el que haces un panel de control donde además haces un formulario de login y en el momento en el que metes una o 1 tablas en la que en cada tabla Puedes insertar y puedes ver y puedes actualizar y puedes eliminar eso es una aplicación empresarial Vale entonces eh es un ejercicio que os adelanto ya que la primera vez que hagáis os va a resultar muy duro de hacer pero en programación hay ciertas cosas que como en cualquier oficio diría yo también te lo digo que la primera vez que las haces son muy difíciles de hacer pero a partir de ahí una vez que las has hecho la segunda vez son algo más fáciles de hacer la tercera vez le vas pillando Ya el rollo la cuarta vez ya es algo más fácil Y a partir de la quinta vez ya le has ad mucho el truco Vale entonces vamos a ver os cuento eh yo os voy a leer un poco el futuro vale Cuando digo que os voy a leer un poco el futuro La verdad que os estoy mintiendo porque lo que estoy haciendo es deciros estadísticamente los alumnos que he tenido en los últimos 20 años pues estadísticamente queé han acabado haciendo vale eso es lo que eso es a lo que me refiero con leeros el futuro eh Cuando aprendes un lenguaje de programación tú puedes hacer muchas cosas es decir puedes acabar trabajando de muchas cosas pero una cosa de la que podéis acabar trabajando que es muy común es el desarrollo de aplicaciones empresariales el desarrollo de aplicaciones empresariales pues son empresas que te dicen que quieren que hagas esto pero para gestionar clientes para gestionar facturas para gestionar pedidos para gestionar stock para gestionar productos o para gestionar lo que tú quieras porque cualquier aplicación empresarial tiene exactamente esto que acabamos de hacer que es una tabla donde tú Puedes insertar y puedes ver y puedes actualizar y puedes eliminar eso y unas cuantas cosas más evidentemente Pero eso es el núcleo de una aplicación empresarial entonces eh A ver no es por desanimar pero eh si tú sabes Java y no sabes hacer esto real m no sabes hacer nada insisto no es por desanimar pero es como sabes es como si sabes el lenguaje de Java pero cuando te dicen Oye mira hazme una tabla de clientes en la que pueda insertar clientes eliminar clientes actualizar clientes y ver un informe de cliente y tú dices hostias es que yo sé lo que es una estructura for Yo sé lo que es un While y sé lo que es una matriz pero no sé hacer eso que me estás pidiendo Entonces para qué te sirve el lenguaje de programación es decir el lenguaje de programación no sirve para nada solo sirve si tú le puedes dar una utilidad vale porque a ti no te van a pagar Porque hagas una estructura de control Wild a ti te van a pagar Porque hagas una cosa como esta que acabo de hacer yo aquí o sea te van a pagar Porque hagas un panel de control donde el empresario y los empleados Porque por cierto Esto si es un proyecto web quiere decir que a partir de este momento puede entrar quien quiera y puede gestionar vale Y puede usar el proyecto pues eh o sea a ti te van a pagar para que tú hagas esto y lo cuelgues en un servidor y digas oye a partir de aquí ya puedes entrar toda la empresa y empezar a meter usuarios y por eso es por lo que te pagan vale por eso es por lo que digo que igual si otros ejercicios que he hecho durante el curso no los habéis hecho pues bueno me puede dar un poco más igual pero este no vale Este es eh sobre todo para asegurar vuestra empleabilidad futura eh Ya te digo o sea tú vas a una empresa y dices Yo sé hacer un bucle Wi y dicen Pues mira tal cual has entrado ya te puede salir pero tú vas a una empresa y tú dices yo sé hacer paneles de control y es como vale pasa que esto ya Mola sabes porque el empresario Y más si te diriges a un cliente final no sabe de for o de Wild pero si a un empresario cualquiera te dices Yo te hago una intranet con un panel de control para que tus empleados entren y colaboren ahí dentro cualquier empresario te va a decir vale pasa que vamos a hablar y vamos a hablar de dinero y vamos a hablar de proyecto y vamos a hablar de cosas Vale entonces por eso es por lo que digo que este ejercicio es interesante hay otras cosas que eh y de hecho esto que os voy a decir insisto si veis mis redes sociales de años atrás veréis que no lo digo por decir sino lo digo porque me he dedicado durante años a ello pero otro uso probablemente del lenguaje de programación Java un poco parecido al ejercicio de las pelotas que hicimos en su momento las pelotas que se movían de un lado para otro uso es hacer videojuegos se pueden hacer videojuegos con Java con lo mismo que hicimos un pelotas moviéndose con eso mismo se pueden hacer y parece que no pero os lo digo en serio se pueden hacer un montón de videojuegos pero claro o sea no es despreciar no es por despreciar en absoluto el sector de los videojuegos porque insisto entrad en mis redes sociales y veréis que durante años me he dedicado a ello O sea que no estoy despreciando el sector en absoluto pero es mucho más frecuente y es mucho más fácil que os paguen aunque sean menos divertidas de hacer pero que os paguen por hacer aplicaciones de este tipo que por hacer videojuegos esto os lo digo sin ningún interés Y sin ninguna pasión y sin ninguna diversión vale pero os lo digo con un grado de realidad bastante grande dicho lo cual vamos a la siguiente parte de la clase que es la parte en la que vamos a hablar de visualización de eh de datos vale una de las cosas que no tiene Java Enterprise pero Java Enterprise va a aportar su parte es la visualización de los datos otra de las cosas por las cuales os van a pagar es porque hagáis software de visualización tú a un cliente no vayas le digas Mira yo te doy una base de datos con 5000 registros porque el cliente te dirá Mira a mí me da igual eso o sea yo quiero que me hagas algo que yo lo vea bien que lo vea bonito que lo vea Guay en pantalla para ello voy a hacer lo siguiente voy a meterlo en otro proyecto aparte vale Aunque evidentemente podría hacerlo sumándolo Mira sabes que te digo voy a hacerlo en este mismo proyecto y así veis la integración de varios proyectos diferentes veréis eh Me voy a ir al INE me voy a ir al instituto de estadística y voy a buscar eh nombres más frecuentes o comunes me voy alínea apellidos nombres más frecuentes Mira voy a ver apellidos a ver nombres y apellidos vale Cuál es la frecuencia de un apellido listas con los lista de apellidos con frecuencia igual o mayor a 20 personas fantástico click el INE ya sabéis que es el Instituto Nacional de estadística de España eh creo o la edes de estadística Pues yo creía que era de España pero igual es estadística en fin no lo sé da igual y yo ahora a continuación lo que voy a hacer es abrir este archivo xls ojo que son 7 megas O sea no es un archivo pequeño y entonces ahora veréis lo estoy abriendo con libreoffice que es una hoja de cálculo y entonces vale atención vamos a ver tenemos una hoja de cálculo con aquellos apellidos que tienen más de 100 ocurrencias y aquellos apellidos que tienen más de 20 ocurrencias pero menos de 99 ocurrencias vale voy a esta tabla de eh los 100 esta la voy a borrar de momento a ver aquí cuántos tengo aquí tengo gu colega vale madre de Dios Aquí tengo 25.000 registros o sea ya voy bien y aquí cuántos tengo Wow mir Aquí tengo 50.000 registros madre de Dios Vale pues Hala eh el roja y sí Okay ahora eh voy a eliminar un momento voy a eliminar esto eh calma bueno no elimino hasta aquí eliminar filas Okay muy bien y ahora vamos a ver y ahora wow vale interesante Ah este total Ah apellido primero apellido segundo Ok ap1 ap2 y total vale bien Esto me lo voy a guardar vale voy a guardar y atención ahora este archivo xls lo voy a guardar como formato Open document spreadsheet Vale y ahora lo voy a meter en la base de datos lo voy a meter en la base de datos voy a curso Java me voy a importar me voy a seleccionar me voy a apellidos frecuencia la primera línea de archivo contiene los nombres de la columna de la tabla y lo que consigo con esto como veréis ahora en un momento que está subiéndolo pero lo que consigo con esto es convertir un archivo de Excel a una tabla de mysql un momento que está importándole momento porque habéis visto que había unos cuantos registros y 25000 registros os aseguro que no es ninguna broma V sql puede con mucho más evidentemente pero aún así 25000 registros pues no es ninguna broma vale un momento queé está importando ha dado un error pero bueno dos consultas ejecutadas Espero que no sea cierto Oh o sea después de todo esto y no me has metido ninguna consulta Bueno pues vamos a ver vamos a eliminar esa tabla y voy a ver si importo a ver si hay alguna opción vamos a ver voy a aquí Esto va a ser ID apellido app 1 app 2 total voy a crear yo manualmente una est una tabla llamada apellidos ID apellido app 1 veis que estoy duplicando la estructura app2 total marchar marchar 255 guardar vale esto lo guardo con un formato un poco particular que sirve para estas cosas precisamente que es el formato csv es el formato para guardar conjuntos de datos cuánto ocupa este csv pues ocupa 757k no está mal y ahora le doy a importar selecciono importo el csv y le digo vamos a ver no abortar si ocurre un error con insert vale Y así lo que hago es decirle si tienes algún error No pares O sea tú continúa tú ves importando que aunque en lugar de tener 25000 tenga 24999 pues me da igual o sea lo que quiero es tener un conjunto de datos con el cual poder eh hacer cosas 700 y pico cas No debe tardar mucho en importarlo Pero eso teniendo en cuenta que hay 25,000 registros Pues claro transformar 25.000 registros de un archivo de texto a 25.000 entradas una base de datos Pues es normal que le cueste un poquito Entonces vamos a dejarle un momento y ahora mira Mientras tanto lo que puedo hacer es iros diciendo que yo quiero convertir todos estos datos en eh en gráfic vale Ya tengo esto mira como el programa ha dicho mira como vas a seguir pues te lo hago V entonces veis aquí que ya tengo los datos correctamente puestos en pantalla entonces Ay qu mal Ay qué mal no me sirven porque están puestos con punto entonces en España y en el mundo en general hispanoamericano los puntos se utilizan como separador de miles y de millones pero en el mundo anglos y mysql proviene de ese mundo el punto se utiliza para los decimales Entonces esto está mal ent lo que voy a hacer Es que voy a vaciar los apellidos voy a editar ese archivo de apellidos y lo que voy a hacer básicamente va a ser eliminar los puntos vengo a este archivo le digo que quiero buscar y reemplazar Quiero buscar y reemplazar y Quiero buscar el punto y reemplazarlo por nada entonces le doy a reemplazar todo y lo que voy a hacer básicamente va a ser quitarme los puntos le estoy dando a todo va a tardar pues unos pocos segunditos o unos cuantos minutitos en trabajar entonces mientras que lo hace lo que puedo hacer es lanzar esta ventana a la pantalla de al lado y iros explicando otras cosas vale para que no nos quedemos atrapados esperando como os digo lo que quiero a continuación es usar una librería d por ejemplo voy a usar Google charts voy a usar Google charts es una librería muy divertida de utilizar y por ejemplo quiero usar un pie Chart vale quiero usar una librería de gráficas voy a dónde está voy a usar un p Chart En cuanto la encuentre digo p Chart como quien dice un column Chart da igual o sea lo que queráis un p Chart Vale tengo un ejemplo de código esta librería está hecho con javascript tengo un ejemplo de código lo pego aquí en el panel de control atención me voy al final me hago hueco lo pego y voy a ejecutarlo ent Yo vengo por aquí me voy a aquí panel de control y quiero que veáis mi tabla y aparece una gráfica vale una gráfica que viene que está hecha con la librería de gráficas en este caso de Google yo ahora puedo venir por aquí yo ahora puedo venir por aquí y decirle Pues mira donde pone dónde pone esper un momento my Daily activities digo apellidos que tienen ez en el propio apellido o sea Martínez López Jiménez vale o sea algo que no está en esa tabla que he bajado a priori sino que O sea quiero decir O sea no voy a hacer una búsqueda de los 10 apellidos más frecuentes porque puñetas eso ya lo tengo aquí o sea para eso no hago una gráfica para eso no hago una petición a la base de datos ya lo tengo o sea eso sería Dame los 10 primeros eh Sino que lo que quiero es pues Quiero que me digas García no quiero que me digas Rodríguez González Fernández los apellidos más comunes con f vale Cuántos son y qué O sea qué afluencia tienen Vale entonces para ello bueno guardo recargo y donde ponía my Daily activities pues pone apellidos que tienen et en el propio apellido Vale ahora a continuación Por cierto esto sig que Dale que te pego vale no os digo nada pero es que est ahí sig Dale que te pego también lo que puedo hacer es intentar reemplazarlo aquí un momento a ver con qué acabo antes datos a ver buscar y reemplazar vale Quiero buscar punto y quiero reemplazar con nada reemplazar todo y a ver con qué acaba antes se encontraron cero resultados no me lo creo no me lo creo vale voy a hacer una cosa datos no formato numérico número ese es el problema vale formato numérico no separador de millares ese esa es la cuestión vale formato numérico general a Ahora sí Ahora me he quitado los puntos formato numérico número formato numérico separador de millares formato general Vale ahora esto lo guardo como voy a guardar como apellidos frecuencia dos porque el programa está trabajando con el otro archivo ahora Lu cancelaré pero momento está trabajando ot con el otro archivo y ahora vengo a apellidos le doy a importar selecciono el archivo No pares si hay un error le doy a continuar y que se quede tirando Vale entonces yo Mientras tanto ahora pongo vale me lo voy a inventar pongo Rodríguez Martínez López estos dos me los voy a quitar y voy a poner un número como este un número como este me he pasado creo un número como este me he pasado también y ahora guardo recargo Y fíjate Rodríguez Martínez y López o sea un poco para que veáis que yo puedo editar la tabla O sea la Gráfica yo puedo tocar esta gráfica yo puedo tocar estos datos Y de forma fácil puedo modificarlos pero lo interesante evidentemente no es tocar esta gráfica directamente como os podéis imaginar lo interesante ahora ya está esto lo interesante es sacarlo de la base de datos Así que vamos a sacarlo de la base de datos para ello a continuación voy a poner esto aquí y esto un cero y a continuación atención a lo que hacer porque ahora es posible que lo flipis bastante voy a simular primero la petición directamente en php My admin para que lo entendáis mejor y digo sql quiero seleccionar de apellidos donde apellido uno like espera no donde apellido Perdón apellido like almohadilla e Z no sé si está en mayúsculas o minúsculas ahora mismo en mayúsculas vale like e Z y atención eh selecto el for apellidos we apellido likez vale Okay continuar y me dice 863 es decir de 25000 apellidos 863 tienen ez en el en los apellidos pero ahora quiero ordenarlos por apellido uno y solo tener los 10 que más pues en este caso digo order by apellido un ascendiente y limit 10 Quiero los 10 más frecuentes Entonces le doy a continuar y tengo que los no esto no puede ser Ah no Perdona perdona orden descendiente de más A menos vale Y me dice que será posible es posible esto Ah porque no es un campo numérico porque no es un campo numérico vale un momento que he hecho una cosa mal y es que en la estructura le he dicho que estos Campos son texto entonces claro no me los ordena numéricamente de forma correcta vale voy a cambiar este campo para decirle que no es de tipo texto sino que es de tipo entero incorrecto así porque esto Uh me lo tengo que cargar vale vamos a ver momento que se está haciendo derrogar al comienzo de la tabla un identificador entero 2 5 índice primario autoincremental ahora me puedo cargar ya este elemento Ok y ahora en estructura le puedo decir que apellido un lo cambio a un entero guardo OK ahora ejecuto la petición y ahora sí me dice que Rodríguez González Fernández López Martínez Sánchez vale son estos los apellidos más frecuentes dentro del apellido uno ahora que ya tengo esta petición Vale ahora que ya he experimentado dentro de la base de datos es cuando me la puedo llevar a mi programa mezclando html mezclando css mezclando javascript con Java y ahora lo que puedo hacer una vez más Mirad es que en panel de control me vuelvo a copiar Esto me lo pego Aquí y ahora atención porque esto va a ser muy delicado y ahora la petición va a ser esta de aquí la voy a tener que poner en una sola línea la voy a tener que poner en una sola línea la voy a tener que poner en una sola línea pongo estas comillas vale pongo estas comillas y aquí voy a poner plch esto esto y si todo va bien y si todo va bien aquí pongo apellido y aquí pongo no lo veo pero ahí lo pongo es ap1 si todo va bien Vamos a verlo No lo sé a ver qué va a pasar pero si todo va bien recargo bien algo no ha ido bien Por qué no aparece nada déjame ver inspeccionar en inspeccionar quizás me dará el error go to issues no me lo dice vamos como no me lo dice voy a ver el código fuente de la página eh Uh Este es el problema vale Y es que no hay nada que representar es decir esto no ha dado ningún resultado vale vamos a ver esto fuera y esto se queda vale vamos a volver a recargar no hay resultados no hay resultados Select all from apellidos es curioso apellido like Z order by app no me cuadra que no haya resultados eh o sea si esto no se llega a ejecutar es porque esto da negativo y no entiendo order by ap1 igual Ahí es donde me he colado ap1 es correcto apellido y ap1 a ver voy a ejecutar esta consulta para asegurarme que es correcta la copio y la pego vale ir da eso pero sin embargo Eh hay un error aquí hay un error madre mía aquí hay un error vale a ver si tengo un Clear Vale ahora ejecuto de nuevo para que me diga el error vale venga Okay y Ah fantástico ahora no hay un error a ver el código fuente Uy ahora va bien pero qué raro no porque hace un momento había un error no sé por qu ahora no lo hay o porque antes sí que lo había Pero bueno Esto no puede tener comillas ahí sí que me he equivocado esto es un número y por tanto no lleva comillas recargo Ahora sí pero no he hecho nada Es decir no he modificado nada antes debería haber funcionado también entonces ahora si os fijáis pues Rodríguez González López Fernández Vale O sea no solo estamos siendo capaces de hacer un panel de control sino que en cualquier panel de control que se precie y no es que lo diga yo es que control panel voy a buscar imágenes pues tiene que ha algunas gráficas vale hemos hecho tablas Sí pero este es un panel de control de sistema operativo pero business control panel Vale pues hay gráficas hay cosas chulas O sea no solo tablas sino que tiene que haber disposición gráfica de elementos veis aquí que por ejemplo hay gráficas y también hay un calendario y también hay una tabla o sea es todo a la vez vale entonces en este caso por ejemplo esta librería de gráficas nos permite combinando la librería de gráficas con eh Java con html con javascript con un montón de elementos eh nos permite conseguir este resultado sacarlo de la base de datos usando Java y presentarlo en a través de una aplicación web y os vuelvo a decir otra vez más lo mismo de antes tú a tu cliente no le vayas con se usar una librería de gráficas tú a tu cliente le vas con te puedo hacer un panel de control donde te enseño la información de forma gráfica y el cliente dirá Mola porque yo quiero eso vale voy a hacer otra petición a la base de datos entonces no sé qué podríamos Buscar ahora vamos a pensarlo voy a buscar apellidos que tengan Mart entonces me voy a esa petición me voy a sql digo el apellido like Mart le doy a continuar a ver cuántos hay no sé Ah pues también los hay pero fíjate pero Martínez es mucho más frecuente que otros vale fíjate qué petición más interesante esta Nunca lo hubiera dicho pues mira ahora a continuación me voy al proyecto y digo esto se llama p Chart 2 y por tanto Ahora vengo a javascript copio y pego javascript y en piechart 2 lo que hago es decir apellidos que contienen Mart en el propio apellido copio y pego la petición Ya sab mira sabes que la puedo modificar directamente aquí Me va a costar menos recargo la pantalla Vale y tengo aquí apellidos contienen Z y apellidos que contienen Mart entonces claro Pues fíjate que no es lo mismo ver esto de aquí abajo que ver esto de arriba aquí por ejemplo se ve que Martínez tiene mucha presencia solo viendo los numeritos Pues se ve que Martínez es mucho más presente pero cuando lo ves En gráfica es cuando dices ostras pero fíjate que es bastante Martínez seguido por Martín y todo el resto tienen mucha menos frecuencia vale entonces Esta es otra de esto es otro de los componentes importantes otro de los componentes imprescindibles que os hacen falta para programar aplicaciones en Java y eh ir más allá sabes de lo que son las propias los propios elementos de los lenguajes de programación insisto por ejemplo eh Todo depende un poco de cuál sea vuestro futuro esto ya lo hemos comentado anteriormente el otro día lo comentamos ya os dije que para mí hay regla general dos futuros posibles que son eh Por una parte trabajar por cuenta ajena es decir meterte a trabajar en una empresa y trabajar por cuenta propia al trabajar por cuenta propia tú vas a ir a buscar clientes y entonces cuando busques clientes tú a un cliente no le enseñas esto porque el cliente dirá O sea a ti y a mí también nos encanta esto nos encanta la programación nos encanta escribir de estas y ver que funcionan porque eso nos hace sentir bien porque cuando vemos Que escribimos algo y ese algo funciona y devuelve algo en la pantalla es fantástico es como que Oye mira qué Guay sabes pero nuestro cliente esto le da igual nuestro cliente quiere esto nuestro cliente quiere que mira tú aquí donde tú ves que yo gestiono usuarios Pues tú vas a poder gestionar a tus clientes eso es lo que al cliente final le llama y aquí donde dices Mira aquí ves que esto de apellidos Pues aquí vas a ver los clientes que te compran más y los que te compran menos Y entonces el cliente dice Wow esto Mola esto yo quiero eso yo quiero en una gráfica ver eso porque tú me vas a conectar esto a la base de datos Y tú me vas a permitir ver la base de datos de forma visual eso es lo que te va a hacer ganar dinero Vale entonces por eso os digo que este ejercicio que se ubica evidentemente en Las dos últimas clases de del curso siendo hoy la penúltima clase Pues claro es un poco el colofón del curso vale si hacemos Java pero no hemos hecho un ejercicio como este no hemos hecho nada realmente o sea necesitamos no solo aprender el lenguaje de programación sino necesitamos hacer algo con el lenguaje de programación Okay Vale entendido eh A ver esto es como todo eh yo ahora lo que quiero es abrir un poco la mente enseñaros las posibilidades que tiene esto entonces lo que quiero es que có te diría Yo os enseño el b y el c y vosotros tenéis que ver el resto del abecedario es decir aquí donde yo os he mostrado Cómo gestionar usuarios vosotros tenéis que tener la imaginación para ahora daros cuenta de que de la misma forma que hemos gestionado usuarios podéis gestionar lo que sea y de la misma forma que hemos hecho un chorra ejercicio de poner en una gráfica apellidos pues podéis poner una gráfica ganancias de una empresa productos que facturan más o sea podéis poner un montón de información vale Pero eso es realmente hacer aplicaciones web ahora bien este ejercicio que hemos hecho hoy lo hemos hecho porque esto me lo pone un poco a huevo para en la clase de mañana enseñaros lo que es un framework que es lo que planteaba preguntaba el otro día la clase de mañana empezará planteando un problema y es que todo esto que yo he hecho el panel de control evidentemente No eso es como pero el ver insertar eliminar el actualizar el proceso actualizar si yo ahora quiero por ejemplo en lugar de usuarios quiero hacer otra tabla que sea clientes tengo que duplicar todos estos archivos para ver clientes insertar clientes eliminar clientes actualizar clientes si yo luego quiero hacer otra tabla que sea productos yo tengo que volver a duplicar para insertar productos eliminar productos ver productos actualizar productos y procesar actualizar productos y en el momento en el que yo siempre lo digo en programación el momento en el que me encuentro repitiendo algo es el momento en el que digo debería haber una forma de automatizar todo esto que estoy repitiendo una y otra vez Esos son los frameworks vale los frameworks en los frameworks mvc lo que nos permiten es precisamente esto es en el momento en el que repites y repites Y dices ostras estoy repitiendo todo el rato lo mismo y Me estoy cansando de repetir es cuando aparece el framework que lo que hace es precisamente repetir eso por ti y dejarte que tú hagas operaciones mínimas Pero hay un problema y ese problema es el que veremos mañana o sea yo mañana os diré lo bueno y lo malo de los frameworks Y es que por una parte te ahorran trabajo es eso es indiscutiblemente cierto y esa parte Mola mogollón pero cuando quieres o sea yo aquí controlo el código línea a línea Punto a Punto yo aquí puedo hacer lo que me dé la gana pero cuando yo uso un framework yo uso lo que el framework me deje usar y me dejan hacer muchas cosas Pero insisto el cliente final huele el miedo No me preguntes cómo lo hace pero huele el miedo cuando usas un framework No me preguntes cómo lo hace pero el cliente que no sabe nada de frameworks pero parece que sepa porque siempre te pide justo lo que no hace el framework me cago en la mar o sea con la cantidad de cosas que hace el framework y va y me va a pedir justo lo que no tengo ni puñetera idea o Si miro la documentación resulta que no se puede hacer con este framework vale es el problema de los frameworks eh Y esto no es solo con program o sea yo en la década pasada como os decía que habéis podido ver en mis redes y en mis cursos y en mis todo y en mi trayectoria yo en la década pasada me dedicaba mucho a hacer 3D para clientes y pasaba lo mismo los que hacemos 3D yo ya no hago pero los que siguen haciendo 3D eh tienen una cosa que se llaman librerías de mobiliario para cuando trabajas con clientes de arquitectura Entonces siempre se decía que si tú tienes una librería de 100 muebles el cliente te pedirá el modelo 101 pero es que si tú amplas la librería y tienes 1000 muebles el cliente te pedirá el mueble 100 y si tú amplias la librería y tienes un millón de muebles el cliente te pedirá el mueble 1 millón y un es decir no sé cómo se las apañan Pero de alguna forma es como si lo supieran y siempre te piden justo lo que no tienes vale Y es el problema de los frameworks Entonces qué ocurre y esto insisto ahora que ya sabéis porque esto que hemos hecho por dentro o sea esto que hemos hecho hoy es cómo funciona una aplicación empresarial por dentro ahora que ya sabéis cómo funciona una aplicación empresarial por dentro es cuando mañana y veis lo que nos ha costado Por cierto porque esto nos ha llevado un rato de trabajo es donde mañana cuando haga pin Pam pum con un framework y el framework lo haga todo esto automáticamente Por una parte apreciaré el mérito del framework diréis Oye pues Mola lo que hace el framework pero luego también le empezaremos a buscar las cosquillas y veremos que cuando quieres hacer algo que se sale de lo que hace el framework es cuando puedes realmente empezar a sufrir vale lo que Y esto es lo que vamos a ver os voy a contar una cosa Que me pasó hace muchos años eh hace muchos años yo daba clase con un formador si se puede llamar así y eh este formador Eh me decía yo en clase en mitad de clase lo que hago es que les digo que yo he participado en proyectos de en este caso porque ya era famoso por aquel entonces de calat traba y yo les decía pero o sea le decía a este tío Pero eso no es cierto y el tío decía da igual pero los tíos se quedan flipando y me los meto en el bolsillo y yo decía pero por qué Pues porque así digamos los enganchaba y para cuando el alumno saliera del curso y se diera cuenta de que este tío no había trabajado con ca traba Ah el curso ya había acabado pero el alumno había estado a gusto en el curso Aunque luego del curso se diera cuenta de que en el curso le había encado una mentira entonces claro me pareció pan para hoy y hambre para mañana entonces eso a lo largo de Los años lo he visto repetir con muchos formadores que imparten frameworks que lo que hacen es que te cuentan la parte bonita del framework en el curso y para cuando lo apliques a un proyecto real y te des cuenta de la parte no tan bonita Ah ya no estás en el curso es como ya no eres problema mío vale eso es lo que siempre he querido evitar porque eso realmente a mí me hace sentir como que estoy mintiendo vale Para mí sería muy fácil por ejemplo llegar mañana porque yo sé que mañana vosotros yo voy a hacer un ejercicio lo Vais a flipar aparte si yo me organizo el ejercicio bien lo Vais a flipar mucho y yo sé que mañana vosotros ni vamos a llegar hasta un punto donde le queráis Buscar las cosquillas a al framework Ni yo tampoco os voy a si quiero desvelar esas cosquillas con lo cual yo mañana podría como un mago digamos hacer nada por aquí nada por allá me saco el conejo de la chistera os hago pensar que el framework es maravilloso os dejo flipando pero claro dentro de un mes o se meses o un año cuando lleguéis a una empresa y metáis el framework y de repente a mitad de proyecto el framework os deje tirados claro Ah ya no estáis en el curso o sea Ah ya no me vengáis y me reclamé nada pero claro en ese momento os acordaréis de mí porque en ese momento diréis ostras esto no me lo dijo el profesor qué ocurría el profesor solo me contó la parte bonita Vale entonces eso es lo que no quiero porque eh prefiero dejaros un poco pero que a cambio el día de mañana cuando lleguéis a una empresa tengáis un criterio más realista de las ventajas y también las desventajas que tiene utilizar un framework Vale entonces por eso es por lo que digo que yo incluso ya te digo que eh si lo podéis ver en mi catálogo de cursos yo no me dedico a impartir frameworks salvo que de alguno esté muy convencido que te va a dar muchísimas más ventajas que desventajas precisamente por esto vale porque no me dedico a dar cursos que en el curso yo quede muy Guay pero luego cuando lo apliques en la vida real te des cuenta que no era tan Guay sino Yo me dedico a o por al menos lo intento O al menos esta intención a dar cursos que aunque el curso sea más duro Aunque en el momento de estar impartiendo el curso sea el contenido sea más duro pero luego cuando salgas del curso y lo apliques en la vida real lo que yo te haya enseñado sea todo terreno es lo que yo te haya enseñado te permita resolver cualquier tipo de problema Vale entonces por eso es por lo que os digo y con esto cerramos la clase que mañana veremos esa parte de la clase de frameworks y veréis que molan pero también llegaré a un punto en el que empezaré a apretar las tuercas y veréis por dónde revienta el framework vale Okay vale