bien pues vamos a la asignatura de vamos a ver aquí vamos a la asignatura de acceso a datos eh dónde estás acceso a datos bien y bueno entre esta semana y la que viene estábamos con el tema de documentales a ver un segundo que vale esto Ahora lo tenemos en la otra parte voy a hacer una cosa en extensiones en Table of contents voy a regenerar pero máximo hasta nivel dos Ah mira aquí vale Ah ya lo tengo vale bien pues bueno en este caso estando un poco en torno en los entre los temas cinco que es gestión de bases documentales bases de datos documentales como sabéis básicamente quiere decir bases de datos basadas en documentos y a día de hoy bases de datos basadas en documentos equivale a hablar en una gran medida de jas y en una medida un poquito más minoritaria en x ML Vale pues tiene que ver en nuestro caso pues primero con trabajar con bases de datos documentales sistemas de gestión de base de datos ya preconstruidos como eh Como mongodb vale pero también vamos a ver hoy cómo trabajar con el otro formato que parece que tenemos un poco olvidado que es el formato xml vale Y luego pues ya en la última parte de la asignatura en el tema se Tenemos que hablar de la programación de componentes de acceso a datos donde cuando hablamos de un componente de acceso a datos hablamos de básicamente lo que hemos estado haciendo durante toda la asignatura de sistemas de gestión empresarial que es desarrollar el los programas que hacemos de forma modular para que luego puedan ser integrados dentro de un sistema más grande bien Hoy sin embargo lo que quiero es hacer como una pequeña burbuja vale Y quiero hacer una demostración de lo que vengo diciendo de palabra durante un montón de semanas o de meses pero hoy lo quiero hacer con código y es que Siempre os digo antiguamente el estándar era jas Perdona antiguamente el estándar era xml ahora mismo jas son pero tranquilos que se puede hacer lo mismo con los dos vale Y siempre lo digo pero nunca lo acabo de demostrar con lo cual Pues a continuación vamos a demostrar como Eso es así entonces para ello voy a hacer una peque pequeña aplicación de tipo cliente servidor Más que nada porque si lo separo en cliente servidor luego podré reutilizar de forma más fácil la parte de servidor Así que voy a crear un pequeño formulario en primer lugar bien en primer lugar cierro todo esto que es de primero Vale entonces me voy a dam me voy a segundo me voy a acceso a datos me voy a basar datos documental y eh Por aquí teníamos la librería vale ampl amplio con a itálica vale Ok bien y colecciones y documentos Ok y aquí creación y borrado de colecciones Bien voy a hacer un archivo nuevo claro archivo nuevo no voy a hacer una carpeta nueva Porque me guste o no me gusta la verdad pero voy a tener varios archivos en la carpeta entonces base de datos documentales creación y borrado vale 001 formulario inicial entonces en formular inicial voy a hacer lo siguiente voy a hacer a ver bueno Sí va vamos a hacerlo cliente servidor puro dónde estás Aquí vamos a ver vengo por aquí est el proyecto que estamos haciendo en primero vale bien y chat gpt y digo html create for with vamos a poner cuatro Campos with name vamos a ver with name email bueno surname email and phone vale on submit Button Send Data to server via fch y de esta forma lo hacemos en C servidor puro vale Así que esta es la parte de cliente Esta es la parte de cliente así de paso también Hablamos de algún concepto que existe en xml que no existe en jas como es el esquema lo que se llama elema xml Y así pues analizamos un poco que es no es que esté muy de moda el tema de los chemas Pero bueno pero para vosotros saber que existen desde luego no os va a hacer daño sino más bien todo lo contrario Así que Index html y hago así vale y vamos allá vamos a ver entonces me voy a local Host me voy a d me voy al segundo me voy a acceso a datos me voy a bases de datos documentales me voy a creación y borrado me voy a formulario inicial y tengo esto de aquí vale Y ahora por último por útimo el formulario permitidme El Capricho de Now create a professional Looking cs code Vale entonces si queréis incluso lo que voy a hacer es que lo voy a poner externo entonces voy a poner estilo.css aquí pongo eh link rel es igual a Style seit href es igual a estilo.css aparte chat gpt hace unas hojas de estilo bastante guapas O sea que acierta bastante al menos con lo que yo entiendo por profesional vale quiero decir en cuanto a estética me refiero vale hago así y Digo e vale bueno que el contact form me aparezca aquí al lado en lugar de arriba Pues igual no me triunfa mucho pero bueno pero el tema es que el aspec Tito que le ha dado al formulario pues me gusta bastante Vale ahora la cuestión está en que yo pongo un aquí yo pongo unos datos le doy a submit esto no lleva a ninguna parte porque vale ha ocurrido un error porque no existe el endpoint Vale y por lo tanto yo lo que voy a hacer ahora vamos a pegar un reviso al código Esto me lo está enviando me lo está enviando me lo está enviando a yours server dig Now create php endp y atención vale atención a la petición que voy a hacer aunque esta petición o sea este tipo de petición que voy a hacer ahora me habéis visto hacerla un montón de veces no a nivel técnico sino a nivel filosófico vale create php end point to get all Data coming c y ahora viene laes Data esto es through Data and save to a xml file in a folder nam xml que estoy haciendo es decirle recoge de forma dinámica vale habéis visto que hemos hecho un montón de desarrollos de esa forma de tal forma que si vienen tres Campos me guardas tres Campos que vienen cinco Campos pues me guardas cinco Campos O sea me guardas lo que sea que venga y ahora ya por un poco de tema de ordenación ahora lo veréis pues lo que voy a hacer es guardar la información en una carpeta llamada xml y poner por ejemplo el apoc como nombre de archivo vale eso ya es ente opcional y al gusto del consumidor Entonces vamos a ver ahora quitaré alguna cosa de estas ahora quitaré alguna cosa de estas vale Okay copio código eh vengo por aquí y esto lo voy a guardar en una no perdona en un archivo nuevo llamado guardar o guarda xml.php que no va ahí Oh qué rollo a ver Esto va aquí y esta carpeta se va a llamar xml vale Okay muy bien vale en guarda xml voy a pegar esto voy a pegar esto lo cual quiere decir que desde Index voy a llamar a guarda xml php en guarda xml vamos a ver aquí vale lo que estoy haciendo es utilizar una nueva instancia Esta es la parte importante vale una nueva instancia de un objeto de php llamado simple xml Element es igual que cuando en php hacemos jas gu bajo en code y jas b gu bajo de code es decir eso quiere decir que php tiene ya incorporados los métodos de jas vale pues aquí igual la parte importante es esta pero vosotros diréis ostia De dónde sale este New simple xml pues lo tenemos ya incluido y nos mete el elemento raíz donde el elemento raíz de momento ha decidido que se llama Root Okay ahora hablamos de esto bien función arr to xml vale esto lo que hace es recursively Es decir recorre todos los datos que yo le he enviado y los mete en el xml Okay y genera el xml con Time eh asegúrate que el directorio existe sí existe lo acabo de crear esto no hace falta y ya está así que vamos allá vamos a comprobarlo eh okay vengo por aquí no vengo por aquí me voy al dos guardar xml y a le doy a enviar vaya es un aaa.com bien le doy a enviar error submitting el form Por qué Pues porque ha habido un 500 internal server error Wow Vale pues no debería antes de hacer nada más voy a asegurarme que le pongo un 777 recursivo a la carpeta de proyectos voy a volver a enviarlo no 500 Wow Vale pues un momentín Por qué hay un error momento vamos a ver el directorio xml existe otra cosa que puedo hacer Bueno a ver vale es escribile bien lo que voy a hacer en este caso es que en Index vamos a ver el error quiero response y console error vale vamos a ver si en modo texto tenemos algo más de información internal server error Vale pues vamos a verlo interal server error pero qué dice el error vale bien para ver el error Ah mira teóricamente me está mostrando los errores guarda xml estoy llamando a guarda xml estoy en la carpeta 2 estoy en la carpeta 2s estoy llamando la carpeta 2s vale Y en guardar xml vamos a ver Primero me voy a guarda xml.php el caso es que dice error invalid request method vale error 500 Ok vale Aquí está el problema Aquí está el problema eco error al guardar Y le doy vale Y me dice que OK Pero no es Okay Vale no es Okay y vamos a verlo xml está vacío de hecho me dice hay algo aquí que no debería ocurrir eco error al guardar Vale pues vamos allá bardum post envío pero qué está pasando aquí porque adm Sí pero vamos a ver guarda xml method post response console error vale Ah ok este alert me lo quito porque de momento es un poquito molesto y console log dónde estás Ah datos no hay nada a ver respons await mira todo esto Me lo voy a cargar fuera fetch y ahora punto den function result no response returno respons text y punto den fun datos console.log datos vale vamos a probar de esta forma muy bien venga ya tenemos algo vale file to Open String permission den Vale dice permiso denegado en la línea 44 con lo cual parece que tenem algún problema de permisos una vez que tenemos esto línea 44 nos vamos a guardar aquí la línea 44 en la lí 44 nos dice file name nos dice que tengo algún tipo de problema al guardar en la carpeta xml Vale entonces vamos a ver un momentín porque generate the file name with current Time voy a poner date y en la carpeta xml vale estamos hablando de la carpeta xml Vamos a darle otra vez submit vale permission den as xml en esta carpeta de Aquí vemos que está intentando guardarlo en esa carpeta de Aquí vamos a verlo porque si antes le he dicho proyectos estoy en primero Ah no tú que no estoy en que estoy en segundo vale claro entonces tengo un problema de permisos muy bien tengo un problema de permisos me voy a segundo abro un terminal aquí sudo ch mod 777 - r acceso datos Ok vale Y ahora envío Ok y ya está Vale tenía un problema de permisos lo cual quiere decir que ahora amente dentro de xml Se ha guardado este archivo con la extensión xml pero ahora a continuación voy a ver qué tiene dentro de ese archivo abro y veo que tiene Pues un xml un Root Vale y tengo un name una etiqueta privada llamada name una etiqueta privada propia vale llamada surname una etiqueta privada llamada email y una etiqueta privada llamada phone todo esto en una misma línea bueno igual que en json tenemos el Pretty print Pues aquí le puedo decir Bueno luego tengo que formatear un poquito mejor el mensaje de vuelta pero vale pero es para poder debugar en el en la consola eh Le voy a decir que no quieto Aquí le voy a decir que Okay bat Pretty print xml el Pretty print es un concepto de js no de xml Pero bueno entenderá lo que quiero decir vale Y es hacerlo más legible el Pretty print vale Y claro código ajustado pero no me dice que está Ajustando con lo cual pues lo voy a copiar y pegar todo lo digo porque si me dice lo que está Ajustando pues toco lo que esté Ajustando eh preserve W space creo que es no lo veo con lo cual como no lo veo pues le doy caña y ya está Vale con lo cual Ah mira al final creo que me lo estaba diciendo pero tampoco bien entonces me vengo por aquí voy a volver a enviar Se ha guardado correctamente Ahora me voy a abrir este nuevo archivo y ahora sí tengo eh una un archivo xml donde puedo guardar toda la información que me haga falta claro llegados a este punto llegados a este momento vosotros diréis bueno Esto está bien vale guardar una colección de documentos en xml Pero por qué en xml Y por qué no en una base de datos mysql donde hemos visto que luego tenemos muchísimas ventajas a cambio Bueno pues la respuesta una de las respuestas es que en xml al igual que ocurre en jas podemos tener si lo queremos una cantidad bastante ilimitada de niveles de complejidad Vale y vamos a demostrarlo en una pequeña aplicación empresarial donde pues obviamente vale reconoceréis un poco el tipo de aplicación empresarial que es entonces me vo acceso a datos me voy a b documentales me voy a creación y borrado voy a crear una tercera carpeta y voy a poner 003 y complejidad ampliada Y entonces Yo vengo por aquí y hago lo siguiente vamos a ver esto fuera Ok complejidad ampliada vale bien y aquí vale quiero lo siguiente quiero modelo de datos que sea un poco más Dinámico Y entonces Now make this is invoice template vale esto es una plantilla para una factura so invoice Lines In A dynamic Way so That I can add more Lines Part en la parte de javascript gather all Data gather all fields and structure dynamically not One by hand Ay no quieto Sí para pero o sea para pero te voy a dar el modelo vale con esto vamos a tener ahora lo veréis en la típica factura donde luego puedes meter x líneas de pedido y claro si metes x líneas de pedido pues Espérate vale porque luego hay que ver cómo guardamos eso en una base de datos mysql sabéis que teníamos tendríamos mínimo tres tablas vale tendríamos mínimo tabla de cliente tabla de pedido y luego de líneas de pedido de hecho igual tendríamos Cuatro Tablas que es tabla de cliente tabla de producto tabla de pedido y tabla de líneas de pedido vale Y luego al meter la información pues cógete este dato llévatelo aquí mételo en pedido coge la clave primaria mételo en línea de pedido un follón pero sin embargo vamos a probar esto pero sin embargo si lo hacemos con bases de datos documentales pues la complejidad es mucho menor Así que nos vamos a Ok vale No sé que estoy viendo aquí Ah Uh madre mía Qué es espera de verdad que no estoy viendo qué es esto vale customer name bueno name quantity Ah vale Okay vale esto es unidades parece Espérate que esto hay que adivinarlo un poco vale Este Body seguro que me lo ha hecho con esto y ahora el invoice form tendrá una anchura de 400 la paso a 800 Bueno pero va a ser que no Y entonces esto a ver cómo me lo está formateando invoice Line vale with este input with 100% with 25 Oh gracias vale Entonces esto Dónde está Button buton with 25% vale Ok entonces customer name José Vicente y ahora a ver un momentín Claro correcto claro muy bien un momentín efectivamente vamos a por ello para empezar con respecto a tu primera pregunta sería similar a esto sí con la diferencia de que cuando metemos algo en de B técnicamente lo metemos en de b y de ya se ocupa de todo mientras que con esto nosotros estamos ocupándonos manualmente de cómo se guarda Esa información ahora bien y ahora viene lo interesante con respecto a tu segunda pregunta eh evidentemente utilizar bases de datos como pues tienen evidentes ventajas porque están ya construidas pero ocurre lo siguiente tal y como tú has comentado en o sea yo o sea tú estás previendo que yo voy a tener un problema vale Y es que yo estoy guardando pedidos Pero qué ocur si más adelante quiero guardar otra cosa que no son pedidos pues en ese caso efectivamente en bases de datos como mongodb aparece el concepto de colecciones vale Pero lo que y tú has comentado y esa ese es un concepto clave en este caso que es el concepto de escalar la misma herramienta colecciones que me permite escalar dentro de mongodb Es una herramienta de doble filo porque luego me impide seguir escalando Y a qué me refiero con esto y esto que voy a hacer ojo no es una crítica a deb sino que de hecho también es una crítica mysql porque a mí muchas veces me vendría muy bien por ejemplo en el proyecto que estamos haciendo de crimson sobre mysql yo tengo una un servidor de bases de datos que tiene bases de datos y cada base de datos tiene tablas cuando quiero hacer una aplicación sencilla como un blog contener base de datos y tabla Tengo suficiente pero cuando tengo una aplicación compleja como crimson y sé que tengo varios departamentos me vendría bien tener algo como carpeta de tabla o grupo de tablas y esa entidad ese tipo de entidad no existe Y qué ocurre que mysql por una parte es un sistema que a lo largo de estos 2s años nos ha dado infinitas alegrías vale pero es un sistema cerrado y cuando llega un momento en el que empezamos a profundizar a nivel de que Oye quiero que esto haga más de lo que hace No puedo porque no puedo tocar el código de may sql a ver sí técnicamente sí que puedo tocarlo me puedo bajar de github el código de María db pero claro ponte a tocar el código en c+ má o en C puro de María deb y ponte a recompiler y ponte a ampliarlo vale o sea que no es pecata minuta el de B ocurre lo mismo vale en deb tengo colecciones Pero tú Imagínate que por la operativa de una empresa digo Vale tengo colecciones pero ahora para seguir escalando me interesa tener colecciones de colecciones o sea super colecciones Pues en deb no puedo pero si desarrollo una aplicación una solución personalizada de gestión documental como la estoy desarrollando ad hoc es decir la estoy desarrollando específicamente para unas necesidades concretas en este caso las necesidades me las estoy inventando sobre la marcha Vale pues puedo hacerlo entonces con esto y esto es en parte un poco la filosofía de la clase de hoy porque vosotros podéis decir para qué estás haciendo esto Si ya existe de B Pues bueno Está muy bien que exista de B está muy bien que exista May sql pero precisamente Esta última parte ahí lo he cerrado esa última parte del temario de creación de componentes de acceso a datos sirve para de alguna forma transmitiros la idea de que podéis controlar al máximo vale la gestión de los datos Bueno pues se me ha olvidado lo que estaba haciendo aquí Vale entonces vamos a ver vamos a recordar bien tenía esto Ok Vale entonces descripción bueno customer name José Vicente descripción producto uno cantidad uno precio 5 con yo que sé bien adline bien Esto es lo que tengo vale Y producto dos cantidad un precio adline bien Ahora quiero submit invoice y veo que tengo un modelo de datos complejo tengo unos datos escalares pero luego tengo una Ray de longitud desconocida de datos y cada uno de los elementos con una serie de Campos desconocidos vale Vamos a darle vamos a submit invoice Tampoco sé si esto lo va a enviar correctamente Vamos a darle Ah si Bueno un entero vale cuatro venga submit invoice completar este campo a un y Okay cuatro bien invoice submitted y ahora a continuación y ahora a continuación la idea vamos a verlo es que me voy al código y tal y como os estaba comentando si todo ha ido bien y ha funcionado bien que no lo sé vamos a verlo me vengo por aquí y digo customer name José Vicente y tengo invoice que empieza aquí y acaba aquí y dentro de invoice Lines tengo em por aquí y por aquí vale con lo cual la idea Está en que al igual que ocurre con j son con la misma filosofía que js la sintaxis cambia obviamente Cuando tenemos un escenario en el que en mysql yo tendría que decir puf es que ahora ponte a crear Cuatro Tablas y ponte a enlazarlas si Pon quear restricciones pues no Simplemente lo puedo hacer así y ya está pero ahora vamos al tema de Beatriz que es escalar Entonces yo a continuación podría decir vale Esto me ha molado pero ahora quiero que esta misma metodología se aplique para eh crear formularios Perdona para crear diferentes tipos de formularios entonces de esta forma yo ahora a continuación voy a entar al sistema con un xml variable y es lo mismo que hicimos ayer con el tema de formularios os acordáis que ayer un Jason alimentaba el modelo de datos del formulario Y luego el formulario guardaba jotas Sones vale en este caso voy a hacer que ahora que un xml alimente el modelo de datos del formulario Y luego el formulario guardará xmls eh lo podría combinar vale podría hacer que el formulario se alimentara con un js y guardar xmls O sea si empiezo con xml no tengo por qué acabar con xml puedo mezclar xml y js como quiera porque ya os digo que a nivel de datos y a nivel estructural son prácticamente lo mismo mm Vamos allá bien Entonces vamos a ver voy a crear una nueva Vale f2 004 y eh modelo de datos en xml externo modelo de datos vale Ok cierro y modelo de datos vale Y voy a crear por aquí una carpeta llamada modelos Así que Ok okay vale Y Now use an external xml file to Define form Data model you can use php vale no le he dicho que me genere tanto el php como el xml pero digo yo que lo va a hacer pues lo va a hacer vale entonces de esta forma vamos a verlo tenemos el customer name Mira sin pedírselo ha hecho algo muy parecido a lo que hice yo ayer es decir crear un campo y poner el nombre el tipo el placeholder si es required vale Mola bien eh Uh No pero espérate no no no eso no esto no lo hace por qué no no hay believe that This xml is not correct Because it does not render properly A Part Of The Data model that can grow dynamically as invoice Lines a ver qué me dice vamos a verlo Vale ahora me dice que tengo un campo a dynamic fields esto sí que Mola vale que son Campos estáticos o sea solo puede haber un nombre de cliente pero luego dynamic fields vale dynamic fields es una etiqueta que el programa se ha inventado ahora mismo fantástico bien copio en modelos me creo un nuevo archivo llamado eh facturas xml Okay bien y ahora no me lo está ahora sí vale Okay sí pero no vale la parte de cliente vale Okay c make client Side based on this template porque me estaba dando un archivo php completamente diferente y es como no O sea me Mola ese modelo de formulario Así que básate en ese modelo de formulario vale parece que lo está respetando bastante bien aquí y ahí parece que lo está respetando bastante bien vale vamos a verlo Ah bueno Vale no está usando php sino que está utilizando la carga de xml vale mediante fetch Pues bueno pues Vale pues bueno aceptamos es decir lo está haciendo full stack bien Vamos a copiar código en Index Ok y vamos a verlo y vale me voy a la siguiente parte me voy a modelo de datos e me falta algo vale vamos a producto un cantidad precio Line producto un cantidad precio submit vale vamos a ver cann read properties of null vale Yo creo que esto vale I think it ls static fields form fields from xml vale más que nada porque dice que tiene Ah Espérate Espérate no no esto es modelos barra facturas xml vale Y ahora sí venga sin embargo esto creo que me lo está poniendo de forma trucada pero bueno ahora veremos Vale entonces customer name description cantidad precio invoice vale form submitted vamos a ver si es cierto me voy aquí me voy a xml no sé si es este y no va a ser que no vamos a eliminar los xmls Okay vamos asegurarnos que estamos en el sitio correcto xml externo a uno y uno envío vale invoice Line array y en principio todo lo está enviando de forma correcta vale Okay ahora en el servidor donde está enviando en el servidor a ver Ah Pues muy bien No lo está enviando a ninguna parte fantástico Send form to an endp as in no ya no lo tengo Send form to an end Point Ah sí que lo tengo sí as in this code vamos a por ello y ahora a continuación por supuesto Pues abordaremos el problema del escalado siendo capaces de crear colecciones pero a continuación teniendo la opción de escalar vale a colecciones de colecciones o lo que sea vamos a verlo El caso es que sí que parece que el rendering vo Line lo está haciendo Dinámico pero no sé como antes lo estaba haciendo si no estaba cargando el xml correcto es curioso vale me voy a modelo de datos me voy aquí Okay me voy a me aseguro que estoy en modelo de datos externo recargo a un y Uy bueno bbb 3 y 23 vale Okay datos guardados aquí le doy a aceptar Así que a continuación me voy aquí y veo como efectivamente me ha guardado la información de forma correcta sin embargo yo lo que quiero en este caso es seleccionar de forma dinámica el formulario que voy a enviar con esto lo que puedo hacer es cogerlo como parámetro de URL en el sentido de que si yo vengo aquí y digo formulario and formulario es igual a facturas Vale pues que en este caso me coja facturas para ello vamos a no hace falta hacerlo todo javascript get URL paret ya está Vale y mientras tanto por aquí no aquí y mientras tanto por aquí copio pego no copio pego f2 y 005 eh cargo formulario Dinámico y encargo formulario Dinámico Index html en lugar de cargar facturas xml voy a cargar un parámetro vamos a ver eh aquí get params page Vale pues URL params es igual a esto de aquí y aquí URL params get aquí URL params F de formulario lo cual quiere decir que si yo vengo por aquí y le digo que ahora recargo página nueva formulario Dinámico y ahora digo no y ahora digo F es igual a facturas pues me carga el de facturas ya os digo que algo Es raro porque está metiendo ahí sí o sí vale Ahí tengo que ver por qué hace eso porque no debería meter Los Dinámicos Pero bueno claro había mos dinámicos porque está haciendo esto claro y no quiero eso pero bueno no pasa nada vale pero En definitiva la idea claro Es que esto de dynamics O sea sí vale pero lo está haciendo un poco trucado pero bueno bien Ahora a continuación vengo por aquí y digo que quiero guardar clientes. xml clientes. xml y en clientes. xml pues por ejemplo quito dynamic fields me voy a static fields y digo Field surname apellidos es text placeholder apellidos del cliente require true Field email vale es email del cliente vale lo que sea bien Entonces eso quiere decir que vengo aquí y en facturas cargo facturas y en clientes cargo clientes vale con lo cual Pues estamos utilizando un xml para cargar pero ahora además yo lo que quiero Bueno voy a decir no quiero product Lines me voy a submit vaya por Dios pues sí que me obliga ahora luego veremos Esto submit vale Y entonces me vengo aquí me voy a xml veo que tengo una nueva y tengo a y ahora luego haremos para que esto no aparezca en el caso de formularios que no nos interesen evidentemente bien pues La idea es que al igual que ayer eh tengo el concepto de que tengo los xmls mezclados no quiero tenerlos mezclados lo que voy a hacer a continuación va a ser implementar el concepto de colección vale a través del concepto de carpeta Así que copio y pego 006 selección de documentos y entonces digo vamos a ver Oh sí Bueno directamente lo que voy a hacer aquí y así Aquí bien Vamos a ver cuando estoy enviando cosas esto es cargar esto es inv Lines vale form Data vale aquí estoy enviando el form Data y en el form Data me gustaría meter aquí invoice Lines y me gustaría meter el nombre de la carpeta otra cosa que puedo hacer haciendo una trampa increíble vale una super mega trampa es decir formulario es igual a dónde estás que te he visto antes por aquí a URL par get F esto es muy sucio no es nada elegante Pero va a funcionar lo cual quiere decir lo cual quiere decir que ahora a continuación yo me voy a guarda xml y ahora sí tendría que hacer un Bueno lo voy a hacer a mano incluso vale xm voy a hacer por aquí sabiendo que tengo una serie de colecciones concretas Vale tengo facturas y tengo clientes Entonces aquí en xml engancho con get F Por qué get F Pues porque en el archivo anterior le he enviado un parámetro de URL llamado F Así que aquí Cojo un parámetro de URL llamado F y vamos a comprobar si funciona me voy a aquí me voy a colección de documentos me voy a f es igual a facturas y digo customer name AAA descripción AAA un y un submit vale e cuidado eh problema de permisos permission deni Vale pues vuelvo a ejecutar el ch Mod vale vuelvo a enviar Ahora sí se ha enviado correctamente Y entonces atención si yo he guardado una factura si todo ha ido bien Ahora me vengo aquí y en facturas tengo un xml no en clientes sino en facturas con lo cual ahora a continuación Yo vengo y digo Vale pues Ahora quiero guardar clientes que lech es que no quiero esto clientes a a estoy obligado a poner esto tenemos que revisarlo le digo subm inice Y entonces me voy al código me voy a clientes y veo que entonces en cliente tengo un archivo xml guardado qué es lo que os quiero decir con esto Pues que de la misma forma que he sido yo con mucha ayuda de chat gpt Claro pero he sido yo el que ha creado el concepto de colección en este desarrollo que estamos arrancando hoy pues de esa misma forma puedo crear el concepto de Super colección y si quiero el concepto de Supra colección Por qué Pues porque en un momento dado por el tipo de organización donde esté implementando este guardador de datos pues me puede interesar que haya como en una empresa vale que pueda haber carpetas y super meac carpetas me puede interesar que haya super colecciones y supr acciones Pero qué ocurre Pues que tú Imagínate que estoy implementando un de B en una empresa y me dicen Sí pero estas colecciones de aquí deberían ir en contabilidad y estas otras colecciones deberían ir en ventas Pues yo diría m ya pero es que deb no tiene eso es decir yo si quieres te hago un programa que tiene una Ray de carpetas y según el departamento que entres te enseña unas u otras pero en mongodb nativamente no existe el concepto de colección pero si lo hacemos nosotros sí que existe Vale entonces La idea es esto es como todo vale o sea yo siempre doy el mismo consejo siempre que podáis usar de B vale Pero cuando de vez en cuando pues deb se quede pequeño O my sql se quede pequeño o En definitiva un cliente te pida algo que una base de datos estándar no hace pues Oye puñetas que sois programadores sabes que sepáis que podéis crear soluciones personalizadas si el escenario así lo pide si el escenario así lo pide lo que quiere decir es que yo siempre Sigo la filosofía wordpress vale Pero a la vez os recuerdo el chiste eh No ya demasiado extensa de hecho Fíjate si la base de datos es extensa en ese momento así me fiaría más de mysql que de un desarrollo propio vale porque mysql es un sistema probado durante casi 30 años y probado en escenarios muy duros y lo han ido no es que haya funcionado bien Es que en su momento ha ido petando en ese tipo de escenarios y lo han ido corrigiendo y el mysql que nos llega a nosotros hoy es el mysql que Integra toda las mejoras derivadas de todos esos fallos vale con lo cual en una base de es extensa Fíjate que ahí confiaría especialmente en May sql no es un tema de extensión vale es un tema de necesidades del cliente es un tema de que mysql es una obra de arte y yo creo que a estas alturas del ciclo lo empezaré ya a entender porque tú Imagínate que tú desarrollas mysql y que tienes que desarrollar un motor de bases de datos a ciegas de una forma suficientemente abstracta para que le sirva a todo el mundo vale para que todo el mundo independientemente de lo que haga le sirva ese desarrollo que tú estás haciendo como te podrás imaginar es una tarea de Titanes es decir Hay que ser un genio para hacer un desarrollo suficientemente abstracto como para que a cualquier persona le pueda acoplar entonces claro qué ocurre que simplemente por una cuestión de lógica hay escenarios en los cuales no se puede de aplicar mysql No es que no se pueda aplicar sino que el cliente necesita herramientas que mysql no tiene Vale entonces no es ya que sean bases de datos pequeñas sino clientes que os planteen una necesidad que tú digas esto con mysql no se puede hacer vale o lo que el cliente pide para hacerlo con mysql hay que hacer un trucki trui con las tablas pues en ese caso mi objetivo es que sepáis que mi objetivo y objetivo del temario en el último punto del temario es que sepáis que vuestra única eh No solución sino vuestra única alternativa en la vida no es únicamente utilizar componentes preecha sino que como informáticos tenéis la capacidad de crear soluciones personalizadas para guardar datos vale insisto si lo que te pide el cliente por lo que comentabas Jos sea grande sea pequeño sea mediano tú escuchas lo que el cliente te pide y tú dices esto es una basos sql pues lo haces como sql vale si el cliente te dice no es que quiero que me guardes esto y esto tiene no sé cuántos ítems dentro y luego realmente no lo voy a cruzar simplemente lo quiero guardar como un documento y recuperarlo y tú dices bu Pues en lugar de may sql se lo guardo como Jason lo guardo en mongodb lo guardo como documento Jason y luego primero Se guarda y luego se recupera y santas pacas y no me hace falta ni tablas eh Ni tablas vinculadas foreign Kiss ni lo guardo como jas y ya está Vale y en ese caso yo te diré usa deb por qué Porque ya está hecho ya está construido no tienes que calentar la cabeza existe y ya está pero recuerda lo que te digo y Recuerda lo que os vengo diciendo en sistemas de gestión empresarial que cada empresa es un mundo vale Y que da igual el Software que hagas lo abierto que lo hagas Siempre llegarás a la empresa y te dirá la empresa te dirá No pero es que aquí hacemos no sé qué Y tú me cago en la Cómo o sea cómo hacéis eso sabes pues cuando ese momento llegue y cuando el cliente te plantee una necesidad de modelo de datos que tú digas Es que ni mysql ni mongodb me dan una solución al problema de este cliente Pues que sepáis que está en vuestro poder No digo que sea fácil en ningún momento estoy diciendo que sea fácil pero está en vuestro poder crear soluciones personalizadas de acceso a datos vale eh dicho lo cual Insisto que yo siempre digo que ahí está el dinero es decir en ese tipo de necesidades está el dinero cuando lleguéis a las prácticas de esta parte de asignatura diréis vale pero me muero de asco Yo siempre digo que Cuanto más te mueras de asco mejor lo pagan porque al final Conectar a May sql Pues todo el mundo lo sabe hacer es decir que alguien te diga Oye es que tengo una tabla de Blog conecta sql Pues eso cualquier programador te lo va a poder hacer que un cliente te diga Oye es que tengo este xml tengo este js donde lo guardo pues db cada día es más conocido con lo cual pues cualquier programador te dice Espérate te recojo el jas Me conecto a mongodb lo guardo como un documento y ya está ya lo tienes Ahora cuando llega un cliente y dice no es que tengo este modelo de datos Y esto no se puede guardar ni con mayers ni con Jason ahí es donde el 90 por de programadores vale llamados programadores se cagan por la pata de abajo y dicen esto Si no es May sq no es deb no sé cómo se hace y ahí es donde el 10% restante que tiene la capacidad de usar lo que existe y crear lo que no existe Ahí es donde hay trabajo y por supuesto no se cobra igual a una empresa hacer una conexión a May sql que eso ya existe que desarrollar un componente personalizado de acceso a datos vale para las necesidades concretas porque el cliente sabe que O te lo paga o se cuenta con la con los dedos de la mano las personas que en España te pueden hacer eso vale o las personas que en Valencia te pueden hacer eso con lo cual Por eso yo digo que en ese tipo de cosas en ese tipo de complejidades es donde realmente está el dinero insisto que yo siempre os hablo de la filosofía wordpress vale la filosofía de wordpress es todo aquello que puedas hacer con un wordpress hazlo con un wordpress es decir no te líes haciendo un sistema de gestión de contenido un cms cuando tienes wordpress y wordpress es fantástico pesa un huevo pero es fantástico vale con lo cual aquí os digo lo mismo o sea no te pongas a programar un componente de acceso a datos si sabes que un mysql o un mungo debt lo hacen ahora este tipo de herramientas para esos casos personalizados ya os digo que depende un poco de cuál sea vuestro futuro laboral pero aquellos de vosotros que estéis más en contacto con empresa y que os dediquéis a desarrollar software a medida para empresa Pues básicamente os daréis cuenta de que Parece Mentira visto desde fuera vale pero cada empresa es un mundo es increíble y desde un punto de vista institucional vale gubernamental se permite que eso sea así no solo en España sino en cualquier país Porque mientras que las empresas presenten sus impuestos y sus tributos y sus ganancias y sus lo que sea y sus declaraciones en tiempo y forma cómo funcionen por dentro a los gobiernos se le apela vale con lo cual qué ocurre Pues que tú desde fuera podrías pensar Pues mira una empresa tiene una tabla de clientes tiene una tabla de productos y tiene una tabla de ped punto ya está es que o sea para qué más complicación Bueno pues cuando empiezas a conocer empresa a empresa Te darás cuenta insisto ya os acordaréis de mí que cada empresa todas las empresas te van a decir sí pero mis clientes están parte aquí parte allá porque tengo unos clientes que son De esta unidad de negocio pero esos otros clientes son De esta unidad de negocio Pero en la mitad están aquí pero otros los tengo en un Excel y es como o sea por qué tienen los clientes de C partes diferentes Pues porque la operativa de esa empresa exige tener los clientes en cinco partes diferentes Vale y igual llegas a pedidos Y sí pero los pedidos que vienen de este tipo de producto se guardan en esta tabla pero los pedidos que vienen de este otro tipo se guardan esta otra tabla por este motivo y por este motivo concreto y es como pero por qué Vale pues eso que podrían parecer anomalías y sin embargo es la norma vale Y es que cada empresa pues eh tiene su propio su propia metodología y su propio modelo de datos y su propio flujo de datos Y luego ya os digo que a nivel gubernamental Pues siempre hay un nivel bastante escaso de intervencionismo y de estandarización está en las ISO vale pero las ISO no se meten en esas cosas eh a nivel de que a nadie le interesa ponerle zancadillas a la empresa y que de ido a poner zancadillas estandarizando procesos la empresa facture menos porque si la empresa factura menos paga menos impuestos Y eso no interesa a nadie vale con lo cual desde las partes más altas institucionales Pues siempre se alienta a que mira tú funciona como te de la gana pero funciona vale pero factura y paga impuestos que de eso se trata así que por eso como ya os digo lo cual eso para vosotros quieras que no es malo vale es bueno desde el punto de vista en el que os da oportunidades de negocio si las metodologías y el flujo de datos de todas las empresas estuvieran Eh estandarizadas Pues eso quiere decir que no haría falta programadores Porque habría una única aplicación internacional y todas las empresas funcionarían con esa aplicación vale Y además no lo habríais hecho vosotros sino que la habría hecho Apple o la habría hecho Google o la habría hecho alguno de estos con lo cual pues os dejaría sin trabajo quiero decir que os estoy contando esto como un inconveniente Pero según como lo mires pues puede ser una ventaja para vosotros vale bien y nada y el objetivo pues como veis es de la misma forma vamos a ver si puedo apañar un poquito esto por lo menos que lleguemos ahí media eh de la misma forma que eh ayer estábamos trabajando con lectura y escritura de Jason pues Hoy estamos trabajando con xml esto hoy como os podéis imaginar se está convirtiendo en una aplicación de cliente servidor pero si lo estoy haciendo aislando completamente el componente php del componente html como os podéis imaginar va a ser porque más adelante no hoy todavía vale Pero más adelante vamos a integrar esto dentro de crimson para que crimson tenga la capacidad tanto ya le pusimos la capacidad de leer de mongodb Pues también que sea capaz de leer de una carpeta de Jason de xml o de lo que haga falta vale Para irle añadiendo capacidades y por tanto preparar a crimson para que ocurra lo que ocurra haya una parte del sistema preparada para abordar esa complejidad Vale ahora lo que quiero es que si yo he cargado de aquí clientes Me sigue apareciendo la invoice Line vale con lo cual Pues voy a ver si esto lo puedo un poco apañar bien entonces copio pego y 007 arreglar formulario y vamos a ver arreglar formulario Index vale Now invoice Lines dynamic fields are Being hard code populated but they should come from xml file make a purest implementation of xml form model Data loading Insisto que desde el punto de vista del inglés estricto probablemente me diréis que mi construcción vale verbal en inglés pues no es ni mucho menos perfecta pero suficiente como para que chat gpt entienda lo que le estoy queriendo decir vamos a verlo a ver un momento Oh vaya Ah mira a ver okay dadme un segundo que tengo el móvil un poco frito de batería y a ver si lo puedo poner un poco a cargar y va a ser que no ahora así vale bien Vamos a ver No A ver vamos a probarlo no estoy muy convencido de que la solución sea correcta Pero porque me estaba contando una cosa en el xml que no me cuadra ya te digo yo que Ah Espera 07 ahí ya entramos mal y F es igual a clientes Vale y F es igual a facturas no vale a ver not right eh js should be capable of handling dynamic escenarios as this and static scenarios as this vamos a ver un momento y a ver si por lo menos pues nos dejamos esto mínimamente en marcha y ya vale por hoy pero por lo menos que el concepto quede claro vale Ya os digo que si os fijáis lo que estamos haciendo al final es algo muy parecido Aquí está es algo muy parecido a lo que hicimos ayer con jas Vale pero como en este curso nos estamos centrando mucho en jas y parece que nos estamos dejando un poco xml abandonado vale Y yo siempre digo sí pero xml es igual pero nunca lo hago Vale pues digo Voy a reservar vale esto es facturas ahora aparece Ok y clientes Ahora aparece OK ahora sí que está cargando correctamente Ah y otra cosa que os digo eh Ya que estamos una vez que hemos hecho un formulario y el formulario es Dinámico además y puede cargar modelos de datos adicionales y eh Y hemos hecho eh un guardado Vale pues Por qué no puedo crear un panel de control vamos a ver puedo crear un panel de control donde quiero tener un listado de xml perfect Now server Side is this for xml saving then create control panel to list all xml files grouped by folder with a Button to see their contents Entonces vamos a hacer una nueva última versión probablemente 008 panel de control mini panel micro panel de control vale tendrá un estilo muy mínimo ahora luego le pondremos un estilo más completo vale me está generando un php bebido fantástico Ah no Oh Wow me lo está haciendo bueno me lo está haciendo con esto está haciendo con f Pues vale Ah Qué curioso no Cómo No no no Pure embed php with file paring folder paring recursive folder paring vale lo digo porque para un pequeño panel de control Pues tampoco hace falta una aplicación full stack con javascript sino que me hago un me hago me hace chat gpt un pequeño panel de control que con php se meta en una carpeta y me empiece a crear filas de una tabla y ya está quiero decir que así como lo que hemos hecho en la primera parte de la clase de hoy pues tiene sentido que sea full stack para luego aislar la parte del servidor e integrarla dentro de una aplicación más potente pero esta parte de aquí pues no tanto esta parte de aquí quiero un micro panel de control simplemente para esbozar esa idea y ya está Vale ahora sí Ahora me lo está haciendo con un escandir y vamos a verlo como siempre os digo también les digo a los de primero Pues claro no vale solo con utilizar chat gpt sino que también pues primero que tienes que saber lo que le preguntas y luego tienes que interpretar lo que te está lo que te está respondiendo y tienes que ver si lo que te responde te convence te conviene te interesa o no O tienes que repreguntar y tienes que decirle Sí pero no házmelo así o házmelo asá bueno pues me sigue haciendo un javascript Bueno pues nada Oye vamos a probarlo a ver qué pasa igual me sorprendo Así que admin. panel pun php creo que ya sé para qué me va a hacer el javascript creo que me lo está haciendo para visualizar archivos dinámicamente vale bien 008 eh No vale 008 panel.php Okay entonces tengo en folder clientes Tengo este y en folder facturas Tengo este Ah mira lo que Pillo lo que está haciendo es que me carga de forma dinámica con javascript el que yo quiero vale Ok Mola está Guay Pero además le digo okay It is perfect Now add a professional Looking es Style and show esto cómo se llama show content viewer On A modal window una vez más como os decía antes pues claro para hacer eso pues tienes que saber lo que es una ventana modal es decir tienes que saber pues O sea tienes que saber mínimamente programar pues para poder comunicarte con chat gpt y poder hablarle en un lenguaje en el que chat gpt entienda lo que quieres aún así chat gpt entiende bastante vale si le dices Quiero una ventana flotante pues chat gpt dice vale esto es un modal Pero obviamente pues Cuanto más afines el lenguaje técnico pues lo que te de chat gpt más se va a parecer a lo que tú estés buscando Claro en el momento en el que le digo y Ponle un look profesional Pues le estoy dejando en manos de chat gpt que me haga lo que quiera lo que pasa es que como ya os digo el look que me suele hacer chat gpt SS está bastante Guay está bastante bien es bastante Modern y es bastante sencillo con lo cual pues me cuadra bastante vamos a verlo Vale y copio código y lo pego y lo revisamos bien y tengo lo mismo de antes me voy a cargar los xmls que se me han quedado ahí un poco fritos vale Porque estos xmls técnicamente ahora están en tierra de nadie vale Y ahora sí vale en folder clientes y en folder facturas voy a decir lo siguiente me voy a f es igual a clientes customer name bbb envío vale Y ahora me vengo aquí recargo y tengo un nuevo cliente con lo cual le doy A View y tengo una ventana modal con bbb vale con lo cual si os fijáis lo que acabo de hacer es un pequeño microsistema de gestión empresarial en la en el cual pues puedo cargar diferentes eh diferentes formularios y cuando cargo diferentes formularios los envío y luego tengo un panel de control donde los puedo ver y los puedo revisar y puedo hacer lo que quiera obviamente como os podéis imaginar Pues podría ampliar esto más diciendo Oye pues por ejemplo por aquí arriba pues quiero que me salga un desplegable con los diferentes modelos de datos que hay en la carpeta de modelos de datos vale para decir con qué quieres trabajar con clientes con pedidos con facturas qué quieres o sea que obviamente voy a dejar este desarrollo aquí porque pienso que el concepto de la clase de hoy que es el concepto de desarrollo con xml está más o menos Claro Especialmente comparándolo con el desarrollo que hicimos ayer y de alguna forma pues mi objetivo era eso No que no acabara el curso sin alguna demostración para que tengáis la tranquilidad de Que si algún día por el motivo que sea que tampoco se me ocurre Pero bueno quisiera iros de Jason pues Oye pues hay otro formato que es el xml que os puede valer Exactamente igual de bien Que el Jason vale bien pues nada más por hoy eh Ahora luego dentro de un rato igual a última hora de la noche os envío las notas eh una vez que os envíe las notas vale esas notas eh No están todavía en itaka vale esas notas están todavía sujetas a que quién Sí así en general bien Vamos a ver eh un poco estamos todavía vale con las consecuencias con el aftermath digamos de lo que estuvimos hablando en el examen acerca del código y acerca de Pues que algunos de vosotros habéis tocado mucho modificado mucho mi código otros claro otros qué ocurre que revisando los vídeos pues otras personas modifican menos mi código pero claro pero cuando yo veo el vídeo digo bueno veo a mi código pero esa persona me va contando el código y yo estoy viendo que esa persona se ha enterado de lo que va el código sabes Entonces ese trimestre ha salido bien ha salido razonablemente bien eh entonces la idea es un poco que este trimestre Pues voy a evaluar positivamente tanto una cosa como la otra vale pero para el siguiente trimestre y cuando digo pero no a ver no interpreté que es algo así como que entonces en el segundo trimestre voy a ir a por vosotros o algo así porque de hecho incluso los que más trabajáis son los que ahora mismo os podéis ver más perjudicados en el sentido de que digáis eh o sea a todos aquellos que trabajáis mogollón a vosotros he puesto directamente un 10 porque estáis ahí trabajando a muerte pero claro cuando digáis pero claro es que alguien que no ha programado tanto Pero ha cogido el código y lo ha comentado mayormente o ha hecho modificaciones pues al final esa persona tiene un siete o un ocho o a veces un nueve vale depende un poco de la asignatura los retrasos en las entregas y un poco todo eso no entonces por eso en cuanto a cómo ha salido bien o sea cómo ha salido en general Pues en general ha salido bien vale pero para el segundo trimestre Pues voy a retocar un poco el sistema de evaluación pero como digo vale Cuando digo retocarlo vale no lo digo en plan penalizar ni perseguir ni machacar ni ir a suspender vale sino al contrario O sea quiero encontrar una propuesta mediante la cual pues quede más cristalin m Claro pues que la nota se la lleve las notas altas se la lleven las personas que hayan estado picando código y las personas que no hayan picado código Aunque demuestren comprensión del código Vale que eso evidentemente también va a puntuar Por supuesto que sí pero que puntúe claramente más el picar código y que puntúe menos Aunque puntúe Por supuesto que sí el en el vídeo de mostrar compresión del código vale porque Mostrar compresión del código está bien pero picar código es picar código Vale y picar código es mucho más que pasar mi código y explicarme y demostrarme que entendéis cada parte porque dices Sí vale entiendes lo que hace cada parte pero ahora Ponte a hacerlo tú y cuando te pongas a hacerlo tú verás que no es tan sencillo Por eso digo que o sea que sí ha salido bien pero ahí pues eso hay cosas que matizar para el segundo trimestre vale Pero insisto una vez más vale insisto una vez más que cuando digo que hay cosas que matizar para el segundo trimestre que nadie se me acojone ahora porque no que os penséis que es que ahora os voy a hacer trabajar el doble os voy a poner pruebas super difíciles y nada parecido vale o sea no estoy hablando de eso ni penalizar ni multiplicar el trabajo ni nada parecido vale simplemente Buscar un modo de que entregué el material de una forma que quede más claro pues el trabajo que ha hecho cada uno y lo que es programar y lo que es solo comentar código y que como os digo pues se incentive el programar por encima del comentar y tambi se incentive el que las personas que hagan ese trabajo se les reconozca mediante más nota vale o sea que parece que lo esté diciendo como os vais a en el segundo trimestre No es eso no estoy diciendo eso vale Solo estoy diciendo de buscar un método No ya Buscar un método afinar el método de evaluación porque Buscar un método parece que ahora os vaya a cambiar el método de evaluación no vale o sea calma todo va a seguir igual pero que de Cara a evaluar Pues sepáis que se va a evaluar más esa parte de ahí vale pero ya os digo no es algo que os tengáis que preocupar hoy sino que la semana que viene ya os lo contaré con más calma y para que sepáis Pues un poco Cómo entregar lo que tenéis que entregar a la vuelta de Navidad y así de paso también lo comentaré con iremos hilando con la finalización de las asignaturas las fcts el tfg y todo vale porque todo es parte de un conjunto Por eso digo que bien que no os preocupéis y ya iremos hablando estos días Vale ahora luego os envío las notas y no no te cuento Albert vale muy buena pregunta no este año ni los de primero ni los de segundo eh tenéis e tenéis tarea de Navidad vale No hay proyecto de Navidad Entonces esto lo comentaré también la semana que viene lo que sí que quiero especialmente porque pues en segundo y en primero también hay gente Pues que se ha ido quedando atrás vale hay gente que porque trabaja Porque miles de historias pues se ha ido quedando atrás pues lo que va a ocurrir estas Navidades es que a aquellos que habéis trabajado durante el trimestre tenéis las navidades libres que si luego queréis poneros a programar pues fantástico pero por m las tenéis libres y aquellas personas que han ido con el cuello hasta arriba exacto y no han podido llegar a tiempo y van por detrás pues Oye aprovechar las dos semanas de Navidad que yo no os voy a poner más entregas para poneros al día y para intentar remontar y para intentar poneros al día vale con lo cual eso ya os lo digo que la semana que viene ya que es la última semana electiva antes de Navidad pues ya os contaré todo esto Pero de entrada os adelanto que no va a haber tarea de Navidad habl una tarea de Navidad que es de elegir el la temática del tcg vale Pero eso no es programar eso es elegir temática eso es rellen arme un formulario y ya está O sea no explicar código vale bien con lo cual pues nada más poco más por hoy Así que nos vemos la semana que viene y continuamos comentando cosas vale venga chicos hasta ahora hasta luego