vale entonces en este caso voy a hacer lo siguiente me voy a ir a index y voy a decirle al sistema que vamos a ver el número bar número comida cuidado bar bueno sabes qué comida es igual a mí y barral bar número comida es igual por ejemplo a 20 y ahora voy a decir ahora voy a decir aquí al principio foro y es igual a 0 y es menor qué número comida y más y voy a decir que en este caso pues número no esto qué es comida jim es vamos a poner por aquí directamente pues x es igual a más punto random por 512 coma y es más punto random 512 y yo creo que más o menos ya está así que ahora vengo por aquí y luego formar y es igual al número comida contexto punto beijing contexto punto arq d comida punto x comida de punto y coma 20,0 x 2 como true y entonces contexto punto field y ya está y pues contexto punto voy a poner que la comida sea roja de color rojo así que si todo va bien vengo por aquí y habré creado pues unos círculos por aquí de comida muy grandes estos círculos representan digamos puntos donde los personajes pueden comer la idea es la siguiente a continuación voy a introducir aquí qué pasa hay algún error o es que han desaparecido los elementos vale que estaban por allí voy a hacer una cosa la comida la voy a pintar correcto ahí y ahora voy a introducir la comida digamos en la matriz que voy a pasar a los personajes así que post message y le digo comida es comida ya le estoy pasando la matriz de la comida para que cuando un personaje se quede sin comida pues sepa dónde puede ir a buscarla me vengo por aquí y digo hambre es igual a 0 y cada vez que me muevo pues hambre más igual 0.1 entonces function busco comida función como y entonces ahora como y entonces ahora en busco comida lo que voy a hacer es que cuando sí el hambre el hambre así mi hambre es mayor que 80 en ese caso pues voy a buscar comida entonces lo que voy a hacer es foro voy a buscar la más cercana y es igual a 0 y es menor que datos no otros no esto es marco mira comida es igual a datos punto data punto comida y entonces voy a decir comida y más y entonces en este caso lo que voy a hacer es averiguar pues cada uno de ellos es decir para empezar vamos a ver si está cerca bar barbie comida bueno y comida a distancia es igual a esto y digo si la distancia es menor que 30 vamos a empezar por ahí pues en ese caso lo que voy a hacer es que mi orientación digamos debe ir hacia la comida en este caso lo que voy a hacer es buscar dónde estás javascript ángel between two points vamos a verlo y aquí está entonces angle rubiáns vamos a verlo aunque el radiance es igual los agregados ósea comida de x paper de una comida de y comida de griega post y comida de x posee x y entonces digo que ángulo dirección es igual a angle radiance si esto funciona bien vamos a verlo si esto funciona bien cuando tengo hambre y estoy a menos de 30 unidades de un punto de comida pues voy a ir hacia la comida vamos a ver si es cierto o no recargo vale vamos a esperar a qué tenga nombre y cuando tengan hambre vamos a verlo no sé si están cogiendo ay se ha quedado a dormir vamos a ver siembre consolé punto log tengo hambre vamos a verlo vamos a estar en el momento y ahora en cuanto se hagan pequeños ahora en cuanto se hagan pequeños pues empezaron a decir tengo hambre o se han puesto a dormir qué curioso se paran a dormir pero nunca dicen que tienen hambre qué es voy a poner hambre igual a 1 vamos a forzar que tengan hambre y esto ya me extraña mucho esto ya me extraña mucho porque nadie está diciendo que tenga hambre bar hambre es igual a cero hombre más igual a uno vamos a ver con sole punto log hambre porque ya me está extrañando muchísimo que nadie diga tengo hambre 0 10 20 50 80 90 100 y qué pasa aunque no estoy ejecutando busco comida muy bien eso es lo que pasa con sol vamos allá y ahora en un momento en principio deberían empezar a buscar comida pero no están buscando vamos a recuperar el tengo hambre y creo que había ido uno por ello tengo hambre pero que yo vea ai ai sí que parece que efectivamente están encontrando vamos a decir qué distancia es menor que 50 aunque 60 o que 100 o que lo que sea para que lo encuentren mejor tengo hambre y ahí van a comer sí que está funcionando correctamente muy bien vale entonces ahí lo que vamos a hacer es lo siguiente si hambre es mayor que 80 vale ok y ahora digo bar hambriento es igual a fox y entonces digo si ha hambriento es igual a falso ok y ahora digo lo mismo aquí sí hambre es mayor que 80 en ese caso hambriento es true si hambriento extra en ese caso de esa por comida ahora si comida sí hambre es menor que 20 en este caso hambriento es igual a falls vale entonces ahora lo que voy a hacer es que como a distancia es menor que bien en ese caso hambre menos igual cuanto le he puesto antes menos igual a vamos a verlo cuidado hambriento y es notifight mar hambriento spotify y entonces ahí tengo hambre va y comer y cuando ya ha comido teóricamente debería irse a hacer su marcha cuando ya ha comido debería irse a hacer su marcha vamos a ver por qué no está ocurriendo eso mientras tanto tenemos aquí los que están durmiendo mueve duerme vamos a hacer que todo ocurra muy rápido vale duermen después de llegar por la comida una vez que han comido se quedan ahí entonces hambrientos igual a falls si hambre es menor que 20 hambriento es igual a falls con lo cual teóricamente deberían dirección es igual a más random por pi es decir una vez que han comido deberían irse pero no pero se están quedando vale creo que ya lo único es que lo único es que tienen que volver vale pero creo que ya está funcionando entonces vamos a ver hambre menos 0.1 0.1 vamos a dejar que todo ocurra más lentamente 0.1 y si todo va bien y si todo va bien ahora sí tenemos ya los personajes vamos a darle un saber para que corran un poquito más rápido en la velocidad más fondo random por 2 + 0.3 que corren todos un poquito más y los tenemos teóricamente cuando tengan hambre pusieran a comer pero tenemos tengo hambre claro tengo hambre y tengo sueño también de momento están durmiendo ahora se despertarán y ahí lo tenemos y ahora van a comer porque tienen hambre perfecto vale vamos a ver los siguientes cuando comen vamos a decirle qué que comen rápido y luego por otra parte la energía es más punto random por 100 por 50 más 100 entre 50 y esto es lo mismo pero 100 menos esto vale un poco para que cada uno tenga un valor diferente de hambre y de sueño y de todo esto están comiendo y cuando acaban de comer deberían irse ya se han ido perfecto vamos a poner más personajes pero parece que esto marcha vamos a poner 50 importante que veamos que toda la lógica de cada uno de los personajes está en el worker bien ahora hay esto ahora vemos como algunos comen algunos duermen vemos como tienen que descansar de vez en cuando y cuando han descansado pues se recuperan vamos a hacer que duerman un poquito más rápido que recuperen energía un poquito más rápido estamos recargando vamos a verlo bien allí parece que los últimos cambios que hemos hecho pues como podemos observar en el procesador están haciendo lo que bueno que el sistema le cueste así que bueno qué se va a hacer pues lo que tiene el hecho de que cuantos más cálculos hagamos pues más va a pasar el procesador ahí los tenemos comiendo durmiendo y ahora lo que voy a hacer lo que voy a hacer es poner alguna condición digamos como de muerte y es que si en un momento dado uno un personaje se queda sin comida hoy sí o sea el hambre digámosle se le pone a cero pues el personaje digamos se muere o sea tiene que o sea si descansa vale pero tiene que encontrar comida porque si no morirá entonces vamos a por ello vamos a por ello vamos a intentarlo ya a ver si tenemos suerte y no se nos muere ninguno